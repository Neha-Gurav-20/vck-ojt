(()=>{var nS=Object.defineProperty;var n=(V,l)=>nS(V,"name",{value:l,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["gantry-v2-vendors-client","gantry-v2-vendors-canvas","gantry-v2-vendors-single-channel-client","gantry-v2-vendors-async-sk-landing","gantry-v2-vendors-workflow-builder"],{7492298763:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;l.DEBUG_BUILD=c},3778408185:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1514424064),h=c(285364620),m=c(5625132121),p=c(5640133965),a=c(5283324899),s=c(5368312762);l.addClsInstrumentationHandler=d.addClsInstrumentationHandler,l.addFidInstrumentationHandler=d.addFidInstrumentationHandler,l.addLcpInstrumentationHandler=d.addLcpInstrumentationHandler,l.addPerformanceInstrumentationHandler=d.addPerformanceInstrumentationHandler,l.addTtfbInstrumentationHandler=d.addTtfbInstrumentationHandler,l.addPerformanceEntries=h.addPerformanceEntries,l.startTrackingInteractions=h.startTrackingInteractions,l.startTrackingLongTasks=h.startTrackingLongTasks,l.startTrackingWebVitals=h.startTrackingWebVitals,l.addClickKeypressInstrumentationHandler=m.addClickKeypressInstrumentationHandler,l.addHistoryInstrumentationHandler=p.addHistoryInstrumentationHandler,l.SENTRY_XHR_DATA_KEY=a.SENTRY_XHR_DATA_KEY,l.addXhrInstrumentationHandler=a.addXhrInstrumentationHandler,l.startTrackingINP=s.startTrackingINP},5625132121:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(6496036490),m=1e3;let p,a,s;function i(g){const v="dom";d.addHandler(v,g),d.maybeInstrument(v,e)}n(i,"addClickKeypressInstrumentationHandler");function e(){if(!h.WINDOW.document)return;const g=d.triggerHandlers.bind(null,"dom"),v=o(g,!0);h.WINDOW.document.addEventListener("click",v,!1),h.WINDOW.document.addEventListener("keypress",v,!1),["EventTarget","Node"].forEach(u=>{const S=h.WINDOW[u]&&h.WINDOW[u].prototype;!S||!S.hasOwnProperty||!S.hasOwnProperty("addEventListener")||(d.fill(S,"addEventListener",function(_){return function(b,E,T){if(b==="click"||b=="keypress")try{const I=this,A=I.__sentry_instrumentation_handlers__=I.__sentry_instrumentation_handlers__||{},w=A[b]=A[b]||{refCount:0};if(!w.handler){const R=o(g);w.handler=R,_.call(this,b,R,T)}w.refCount++}catch{}return _.call(this,b,E,T)}}),d.fill(S,"removeEventListener",function(_){return function(b,E,T){if(b==="click"||b=="keypress")try{const I=this,A=I.__sentry_instrumentation_handlers__||{},w=A[b];w&&(w.refCount--,w.refCount<=0&&(_.call(this,b,w.handler,T),w.handler=void 0,delete A[b]),Object.keys(A).length===0&&delete I.__sentry_instrumentation_handlers__)}catch{}return _.call(this,b,E,T)}}))})}n(e,"instrumentDOM");function t(g){if(g.type!==a)return!1;try{if(!g.target||g.target._sentryId!==s)return!1}catch{}return!0}n(t,"isSimilarToLastCapturedEvent");function r(g,v){return g!=="keypress"?!1:!v||!v.tagName?!0:!(v.tagName==="INPUT"||v.tagName==="TEXTAREA"||v.isContentEditable)}n(r,"shouldSkipDOMEvent");function o(g,v=!1){return u=>{if(!u||u._sentryCaptured)return;const S=f(u);if(r(u.type,S))return;d.addNonEnumerableProperty(u,"_sentryCaptured",!0),S&&!S._sentryId&&d.addNonEnumerableProperty(S,"_sentryId",d.uuid4());const _=u.type==="keypress"?"input":u.type;t(u)||(g({event:u,name:_,global:v}),a=u.type,s=S?S._sentryId:void 0),clearTimeout(p),p=h.WINDOW.setTimeout(()=>{s=void 0,a=void 0},m)}}n(o,"makeDOMEventHandler");function f(g){try{return g.target}catch{return null}}n(f,"getEventTarget"),l.addClickKeypressInstrumentationHandler=i,l.instrumentDOM=e},5640133965:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(6496036490);let m;function p(s){const i="history";d.addHandler(i,s),d.maybeInstrument(i,a)}n(p,"addHistoryInstrumentationHandler");function a(){if(!d.supportsHistory())return;const s=h.WINDOW.onpopstate;h.WINDOW.onpopstate=function(...e){const t=h.WINDOW.location.href,r=m;m=t;const o={from:r,to:t};if(d.triggerHandlers("history",o),s)try{return s.apply(this,e)}catch{}};function i(e){return function(...t){const r=t.length>2?t[2]:void 0;if(r){const o=m,f=String(r);m=f;const g={from:o,to:f};d.triggerHandlers("history",g)}return e.apply(this,t)}}n(i,"historyReplacementFunction"),d.fill(h.WINDOW.history,"pushState",i),d.fill(h.WINDOW.history,"replaceState",i)}n(a,"instrumentHistory"),l.addHistoryInstrumentationHandler=p},5283324899:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(6496036490),m="__sentry_xhr_v3__";function p(i){const e="xhr";d.addHandler(e,i),d.maybeInstrument(e,a)}n(p,"addXhrInstrumentationHandler");function a(){if(!h.WINDOW.XMLHttpRequest)return;const i=XMLHttpRequest.prototype;d.fill(i,"open",function(e){return function(...t){const r=d.timestampInSeconds()*1e3,o=d.isString(t[0])?t[0].toUpperCase():void 0,f=s(t[1]);if(!o||!f)return e.apply(this,t);this[m]={method:o,url:f,request_headers:{}},o==="POST"&&f.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const g=n(()=>{const v=this[m];if(v&&this.readyState===4){try{v.status_code=this.status}catch{}const u={endTimestamp:d.timestampInSeconds()*1e3,startTimestamp:r,xhr:this};d.triggerHandlers("xhr",u)}},"onreadystatechangeHandler");return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?d.fill(this,"onreadystatechange",function(v){return function(...u){return g(),v.apply(this,u)}}):this.addEventListener("readystatechange",g),d.fill(this,"setRequestHeader",function(v){return function(...u){const[S,_]=u,b=this[m];return b&&d.isString(S)&&d.isString(_)&&(b.request_headers[S.toLowerCase()]=_),v.apply(this,u)}}),e.apply(this,t)}}),d.fill(i,"send",function(e){return function(...t){const r=this[m];if(!r)return e.apply(this,t);t[0]!==void 0&&(r.body=t[0]);const o={startTimestamp:d.timestampInSeconds()*1e3,xhr:this};return d.triggerHandlers("xhr",o),e.apply(this,t)}})}n(a,"instrumentXHR");function s(i){if(d.isString(i))return i;try{return i.toString()}catch{}}n(s,"parseUrl"),l.SENTRY_XHR_DATA_KEY=m,l.addXhrInstrumentationHandler=p,l.instrumentXHR=a},285364620:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(7492298763),p=c(1514424064),a=c(6496036490),s=c(2929564606),i=c(2273798110),e=c(8451898068),t=2147483647;let r=0,o={},f,g;function v(){const he=s.getBrowserPerformanceAPI();if(he&&h.browserPerformanceTimeOrigin){he.mark&&a.WINDOW.performance.mark("sentry-tracing-init");const ge=E(),Pe=_(),He=b(),pt=T();return()=>{ge(),Pe(),He(),pt()}}return()=>{}}n(v,"startTrackingWebVitals");function u(){p.addPerformanceInstrumentationHandler("longtask",({entries:he})=>{for(const ge of he){if(!d.getActiveSpan())return;const Pe=s.msToSec(h.browserPerformanceTimeOrigin+ge.startTime),He=s.msToSec(ge.duration),pt=d.startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-task",startTime:Pe,attributes:{[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});pt&&pt.end(Pe+He)}})}n(u,"startTrackingLongTasks");function S(){p.addPerformanceInstrumentationHandler("event",({entries:he})=>{for(const ge of he){if(!d.getActiveSpan())return;if(ge.name==="click"){const Pe=s.msToSec(h.browserPerformanceTimeOrigin+ge.startTime),He=s.msToSec(ge.duration),pt={name:h.htmlTreeAsString(ge.target),op:`ui.interaction.${ge.name}`,startTime:Pe,attributes:{[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},Ht=h.getComponentName(ge.target);Ht&&(pt.attributes["ui.component_name"]=Ht);const Ke=d.startInactiveSpan(pt);Ke&&Ke.end(Pe+He)}}})}n(S,"startTrackingInteractions");function _(){return p.addClsInstrumentationHandler(({metric:he})=>{const ge=he.entries[he.entries.length-1];ge&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding CLS"),o.cls={value:he.value,unit:""},g=ge)},!0)}n(_,"_trackCLS");function b(){return p.addLcpInstrumentationHandler(({metric:he})=>{const ge=he.entries[he.entries.length-1];ge&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding LCP"),o.lcp={value:he.value,unit:"millisecond"},f=ge)},!0)}n(b,"_trackLCP");function E(){return p.addFidInstrumentationHandler(({metric:he})=>{const ge=he.entries[he.entries.length-1];if(!ge)return;const Pe=s.msToSec(h.browserPerformanceTimeOrigin),He=s.msToSec(ge.startTime);m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding FID"),o.fid={value:he.value,unit:"millisecond"},o["mark.fid"]={value:Pe+He,unit:"second"}})}n(E,"_trackFID");function T(){return p.addTtfbInstrumentationHandler(({metric:he})=>{he.entries[he.entries.length-1]&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding TTFB"),o.ttfb={value:he.value,unit:"millisecond"})})}n(T,"_trackTtfb");function I(he){const ge=s.getBrowserPerformanceAPI();if(!ge||!a.WINDOW.performance.getEntries||!h.browserPerformanceTimeOrigin)return;m.DEBUG_BUILD&&h.logger.log("[Tracing] Adding & adjusting spans using Performance API");const Pe=s.msToSec(h.browserPerformanceTimeOrigin),He=ge.getEntries(),{op:pt,start_timestamp:Ht}=d.spanToJSON(he);if(He.slice(r).forEach(Ke=>{const it=s.msToSec(Ke.startTime),ct=s.msToSec(Ke.duration);if(!(pt==="navigation"&&Ht&&Pe+it<Ht))switch(Ke.entryType){case"navigation":{w(he,Ke,Pe);break}case"mark":case"paint":case"measure":{A(he,Ke,it,ct,Pe);const rt=e.getVisibilityWatcher(),_t=Ke.startTime<rt.firstHiddenTime;Ke.name==="first-paint"&&_t&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding FP"),o.fp={value:Ke.startTime,unit:"millisecond"}),Ke.name==="first-contentful-paint"&&_t&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding FCP"),o.fcp={value:Ke.startTime,unit:"millisecond"});break}case"resource":{x(he,Ke,Ke.name,it,ct,Pe);break}}}),r=Math.max(He.length-1,0),z(he),pt==="pageload"){ne(o),["fcp","fp","lcp"].forEach(it=>{if(!o[it]||!Ht||Pe>=Ht)return;const ct=o[it].value,rt=Pe+s.msToSec(ct),_t=Math.abs((rt-Ht)*1e3),Gt=_t-ct;m.DEBUG_BUILD&&h.logger.log(`[Measurements] Normalized ${it} from ${ct} to ${_t} (${Gt})`),o[it].value=_t});const Ke=o["mark.fid"];Ke&&o.fid&&(s.startAndEndSpan(he,Ke.value,Ke.value+s.msToSec(o.fid.value),{name:"first input delay",op:"ui.action",attributes:{[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),delete o["mark.fid"]),"fcp"in o||delete o.cls,Object.keys(o).forEach(it=>{d.setMeasurement(it,o[it].value,o[it].unit)}),Z(he)}f=void 0,g=void 0,o={}}n(I,"addPerformanceEntries");function A(he,ge,Pe,He,pt){const Ht=pt+Pe,Ke=Ht+He;return s.startAndEndSpan(he,Ht,Ke,{name:ge.name,op:ge.entryType,attributes:{[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"}}),Ht}n(A,"_addMeasureSpans");function w(he,ge,Pe){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(He=>{R(he,ge,He,Pe)}),R(he,ge,"secureConnection",Pe,"TLS/SSL","connectEnd"),R(he,ge,"fetch",Pe,"cache","domainLookupStart"),R(he,ge,"domainLookup",Pe,"DNS"),P(he,ge,Pe)}n(w,"_addNavigationSpans");function R(he,ge,Pe,He,pt,Ht){const Ke=Ht?ge[Ht]:ge[`${Pe}End`],it=ge[`${Pe}Start`];!it||!Ke||s.startAndEndSpan(he,He+s.msToSec(it),He+s.msToSec(Ke),{op:"browser",name:pt||Pe,attributes:{[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}n(R,"_addPerformanceNavigationTiming");function P(he,ge,Pe){ge.responseEnd&&(s.startAndEndSpan(he,Pe+s.msToSec(ge.requestStart),Pe+s.msToSec(ge.responseEnd),{op:"browser",name:"request",attributes:{[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),s.startAndEndSpan(he,Pe+s.msToSec(ge.responseStart),Pe+s.msToSec(ge.responseEnd),{op:"browser",name:"response",attributes:{[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}))}n(P,"_addRequest");function x(he,ge,Pe,He,pt,Ht){if(ge.initiatorType==="xmlhttprequest"||ge.initiatorType==="fetch")return;const Ke=h.parseUrl(Pe),it={[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};re(it,ge,"transferSize","http.response_transfer_size"),re(it,ge,"encodedBodySize","http.response_content_length"),re(it,ge,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in ge&&(it["resource.render_blocking_status"]=ge.renderBlockingStatus),Ke.protocol&&(it["url.scheme"]=Ke.protocol.split(":").pop()),Ke.host&&(it["server.address"]=Ke.host),it["url.same_origin"]=Pe.includes(a.WINDOW.location.origin);const ct=Ht+He,rt=ct+pt;s.startAndEndSpan(he,ct,rt,{name:Pe.replace(a.WINDOW.location.origin,""),op:ge.initiatorType?`resource.${ge.initiatorType}`:"resource.other",attributes:it})}n(x,"_addResourceSpans");function z(he){const ge=a.WINDOW.navigator;if(!ge)return;const Pe=ge.connection;Pe&&(Pe.effectiveType&&he.setAttribute("effectiveConnectionType",Pe.effectiveType),Pe.type&&he.setAttribute("connectionType",Pe.type),s.isMeasurementValue(Pe.rtt)&&(o["connection.rtt"]={value:Pe.rtt,unit:"millisecond"})),s.isMeasurementValue(ge.deviceMemory)&&he.setAttribute("deviceMemory",`${ge.deviceMemory} GB`),s.isMeasurementValue(ge.hardwareConcurrency)&&he.setAttribute("hardwareConcurrency",String(ge.hardwareConcurrency))}n(z,"_trackNavigator");function Z(he){f&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding LCP Data"),f.element&&he.setAttribute("lcp.element",h.htmlTreeAsString(f.element)),f.id&&he.setAttribute("lcp.id",f.id),f.url&&he.setAttribute("lcp.url",f.url.trim().slice(0,200)),he.setAttribute("lcp.size",f.size)),g&&g.sources&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding CLS Data"),g.sources.forEach((ge,Pe)=>he.setAttribute(`cls.source.${Pe+1}`,h.htmlTreeAsString(ge.node))))}n(Z,"_tagMetricInfo");function re(he,ge,Pe,He){const pt=ge[Pe];pt!=null&&pt<t&&(he[He]=pt)}n(re,"setResourceEntrySizeData");function ne(he){const ge=i.getNavigationEntry();if(!ge)return;const{responseStart:Pe,requestStart:He}=ge;He<=Pe&&(m.DEBUG_BUILD&&h.logger.log("[Measurements] Adding TTFB Request Time"),he["ttfb.requestTime"]={value:Pe-He,unit:"millisecond"})}n(ne,"_addTtfbRequestTimeToMeasurements"),l._addMeasureSpans=A,l._addResourceSpans=x,l.addPerformanceEntries=I,l.startTrackingInteractions=S,l.startTrackingLongTasks=u,l.startTrackingWebVitals=v},5368312762:(V,l,c)=>{var{_optionalChain:d}=c(7563271614);Object.defineProperty(l,"__esModule",{value:!0});const h=c(8482989710),m=c(7563271614),p=c(1514424064),a=c(2929564606);function s(){if(a.getBrowserPerformanceAPI()&&m.browserPerformanceTimeOrigin){const r=e();return()=>{r()}}return()=>{}}n(s,"startTrackingINP");const i={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function e(){return p.addInpInstrumentationHandler(({metric:t})=>{const r=h.getClient();if(!r||t.value==null)return;const o=t.entries.find(Z=>Z.duration===t.value&&i[Z.name]);if(!o)return;const f=i[o.name],g=r.getOptions(),v=a.msToSec(m.browserPerformanceTimeOrigin+o.startTime),u=a.msToSec(t.value),S=h.getCurrentScope(),_=h.getActiveSpan(),b=_?h.getRootSpan(_):void 0,E=b?h.spanToJSON(b).description:void 0,T=S.getUser(),I=r.getIntegrationByName("Replay"),A=I&&I.getReplayId(),w=T!==void 0?T.email||T.id||T.ip_address:void 0,R=d([S,"access",Z=>Z.getScopeData,"call",Z=>Z(),"access",Z=>Z.contexts,"optionalAccess",Z=>Z.profile,"optionalAccess",Z=>Z.profile_id]),P=m.htmlTreeAsString(o.target),x=m.dropUndefinedKeys({release:g.release,environment:g.environment,transaction:E,[h.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:t.value,user:w||void 0,profile_id:R||void 0,replay_id:A||void 0}),z=h.startInactiveSpan({name:P,op:`ui.interaction.${f}`,attributes:x,startTime:v,experimental:{standalone:!0}});z.addEvent("inp",{[h.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[h.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t.value}),z.end(v+u)})}n(e,"_trackINP"),l.startTrackingINP=s},1514424064:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(7492298763),m=c(8724048708),p=c(5639023535),a=c(2086611485),s=c(5927711655),i=c(9526061972),e=c(1514170081),t={},r={};let o,f,g,v,u;function S(ge,Pe=!1){return Z("cls",ge,w,o,Pe)}n(S,"addClsInstrumentationHandler");function _(ge,Pe=!1){return Z("lcp",ge,P,g,Pe)}n(_,"addLcpInstrumentationHandler");function b(ge){return Z("fid",ge,R,f)}n(b,"addFidInstrumentationHandler");function E(ge){return Z("ttfb",ge,x,v)}n(E,"addTtfbInstrumentationHandler");function T(ge){return Z("inp",ge,z,u)}n(T,"addInpInstrumentationHandler");function I(ge,Pe){return ne(ge,Pe),r[ge]||(re(ge),r[ge]=!0),he(ge,Pe)}n(I,"addPerformanceInstrumentationHandler");function A(ge,Pe){const He=t[ge];if(!(!He||!He.length))for(const pt of He)try{pt(Pe)}catch(Ht){h.DEBUG_BUILD&&d.logger.error(`Error while triggering instrumentation handler.
Type: ${ge}
Name: ${d.getFunctionName(pt)}
Error:`,Ht)}}n(A,"triggerHandlers");function w(){return m.onCLS(ge=>{A("cls",{metric:ge}),o=ge},{reportAllChanges:!0})}n(w,"instrumentCls");function R(){return p.onFID(ge=>{A("fid",{metric:ge}),f=ge})}n(R,"instrumentFid");function P(){return s.onLCP(ge=>{A("lcp",{metric:ge}),g=ge})}n(P,"instrumentLcp");function x(){return e.onTTFB(ge=>{A("ttfb",{metric:ge}),v=ge})}n(x,"instrumentTtfb");function z(){return a.onINP(ge=>{A("inp",{metric:ge}),u=ge})}n(z,"instrumentInp");function Z(ge,Pe,He,pt,Ht=!1){ne(ge,Pe);let Ke;return r[ge]||(Ke=He(),r[ge]=!0),pt&&Pe({metric:pt}),he(ge,Pe,Ht?Ke:void 0)}n(Z,"addMetricObserver");function re(ge){const Pe={};ge==="event"&&(Pe.durationThreshold=0),i.observe(ge,He=>{A(ge,{entries:He})},Pe)}n(re,"instrumentPerformanceObserver");function ne(ge,Pe){t[ge]=t[ge]||[],t[ge].push(Pe)}n(ne,"addHandler");function he(ge,Pe,He){return()=>{He&&He();const pt=t[ge];if(!pt)return;const Ht=pt.indexOf(Pe);Ht!==-1&&pt.splice(Ht,1)}}n(he,"getCleanupCallback"),l.addClsInstrumentationHandler=S,l.addFidInstrumentationHandler=b,l.addInpInstrumentationHandler=T,l.addLcpInstrumentationHandler=_,l.addPerformanceInstrumentationHandler=I,l.addTtfbInstrumentationHandler=E},6496036490:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const h=c(7563271614).GLOBAL_OBJ;l.WINDOW=h},2929564606:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(6496036490);function m(i){return typeof i=="number"&&isFinite(i)}n(m,"isMeasurementValue");function p(i,e,t,{...r}){const o=d.spanToJSON(i).start_timestamp;return o&&o>e&&typeof i.updateStartTime=="function"&&i.updateStartTime(e),d.withActiveSpan(i,()=>{const f=d.startInactiveSpan({startTime:e,...r});return f&&f.end(t),f})}n(p,"startAndEndSpan");function a(){return h.WINDOW&&h.WINDOW.addEventListener&&h.WINDOW.performance}n(a,"getBrowserPerformanceAPI");function s(i){return i/1e3}n(s,"msToSec"),l.getBrowserPerformanceAPI=a,l.isMeasurementValue=m,l.msToSec=s,l.startAndEndSpan=p},8724048708:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9035861842),h=c(4479988250),m=c(9526061972),p=c(7603883117),a=c(7841494492),s=c(2741739498),i=[.1,.25],e=n((t,r={})=>{s.onFCP(a.runOnce(()=>{const o=h.initMetric("CLS",0);let f,g=0,v=[];const u=n(_=>{_.forEach(b=>{if(!b.hadRecentInput){const E=v[0],T=v[v.length-1];g&&b.startTime-T.startTime<1e3&&b.startTime-E.startTime<5e3?(g+=b.value,v.push(b)):(g=b.value,v=[b])}}),g>o.value&&(o.value=g,o.entries=v,f())},"handleEntries"),S=m.observe("layout-shift",u);S&&(f=d.bindReporter(t,o,i,r.reportAllChanges),p.onHidden(()=>{u(S.takeRecords()),f(!0)}),setTimeout(f,0))}))},"onCLS");l.CLSThresholds=i,l.onCLS=e},5639023535:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9035861842),h=c(8451898068),m=c(4479988250),p=c(9526061972),a=c(7603883117),s=c(7841494492),i=c(3420582863),e=[100,300],t=n((r,o={})=>{i.whenActivated(()=>{const f=h.getVisibilityWatcher(),g=m.initMetric("FID");let v;const u=n(b=>{b.startTime<f.firstHiddenTime&&(g.value=b.processingStart-b.startTime,g.entries.push(b),v(!0))},"handleEntry"),S=n(b=>{b.forEach(u)},"handleEntries"),_=p.observe("first-input",S);v=d.bindReporter(r,g,e,o.reportAllChanges),_&&a.onHidden(s.runOnce(()=>{S(_.takeRecords()),_.disconnect()}))})},"onFID");l.FIDThresholds=e,l.onFID=t},2086611485:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490),h=c(9035861842),m=c(4479988250),p=c(9526061972),a=c(7603883117),s=c(6842089089),i=c(3420582863),e=[200,500],t=0,r=n(()=>s.getInteractionCount()-t,"getInteractionCountForNavigation"),o=10,f=[],g={},v=n(_=>{const b=f[f.length-1],E=g[_.interactionId];if(E||f.length<o||_.duration>b.latency){if(E)E.entries.push(_),E.latency=Math.max(E.latency,_.duration);else{const T={id:_.interactionId,latency:_.duration,entries:[_]};g[T.id]=T,f.push(T)}f.sort((T,I)=>I.latency-T.latency),f.splice(o).forEach(T=>{delete g[T.id]})}},"processEntry"),u=n(()=>{const _=Math.min(f.length-1,Math.floor(r()/50));return f[_]},"estimateP98LongestInteraction"),S=n((_,b={})=>{i.whenActivated(()=>{s.initInteractionCountPolyfill();const E=m.initMetric("INP");let T;const I=n(w=>{w.forEach(P=>{P.interactionId&&v(P),P.entryType==="first-input"&&!f.some(z=>z.entries.some(Z=>P.duration===Z.duration&&P.startTime===Z.startTime))&&v(P)});const R=u();R&&R.latency!==E.value&&(E.value=R.latency,E.entries=R.entries,T())},"handleEntries"),A=p.observe("event",I,{durationThreshold:b.durationThreshold!=null?b.durationThreshold:40});T=h.bindReporter(_,E,e,b.reportAllChanges),A&&("PerformanceEventTiming"in d.WINDOW&&"interactionId"in PerformanceEventTiming.prototype&&A.observe({type:"first-input",buffered:!0}),a.onHidden(()=>{I(A.takeRecords()),E.value<0&&r()>0&&(E.value=0,E.entries=[]),T(!0)}))})},"onINP");l.INPThresholds=e,l.onINP=S},5927711655:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490),h=c(9035861842),m=c(2520992508),p=c(8451898068),a=c(4479988250),s=c(9526061972),i=c(7603883117),e=c(7841494492),t=c(3420582863),r=[2500,4e3],o={},f=n((g,v={})=>{t.whenActivated(()=>{const u=p.getVisibilityWatcher(),S=a.initMetric("LCP");let _;const b=n(T=>{const I=T[T.length-1];I&&I.startTime<u.firstHiddenTime&&(S.value=Math.max(I.startTime-m.getActivationStart(),0),S.entries=[I],_())},"handleEntries"),E=s.observe("largest-contentful-paint",b);if(E){_=h.bindReporter(g,S,r,v.reportAllChanges);const T=e.runOnce(()=>{o[S.id]||(b(E.takeRecords()),E.disconnect(),o[S.id]=!0,_(!0))});["keydown","click"].forEach(I=>{d.WINDOW.document&&addEventListener(I,()=>setTimeout(T,0),!0)}),i.onHidden(T)}})},"onLCP");l.LCPThresholds=r,l.onLCP=f},9035861842:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=n((h,m)=>h>m[1]?"poor":h>m[0]?"needs-improvement":"good","getRating"),d=n((h,m,p,a)=>{let s,i;return e=>{m.value>=0&&(e||a)&&(i=m.value-(s||0),(i||s===void 0)&&(s=m.value,m.delta=i,m.rating=c(m.value,p),h(m)))}},"bindReporter");l.bindReporter=d},8117347597:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=n(()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,"generateUniqueID");l.generateUniqueID=c},2520992508:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(2273798110),h=n(()=>{const m=d.getNavigationEntry();return m&&m.activationStart||0},"getActivationStart");l.getActivationStart=h},2273798110:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490),h=n(()=>d.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],"getNavigationEntry");l.getNavigationEntry=h},8451898068:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490);let h=-1;const m=n(()=>{h=d.WINDOW.document.visibilityState==="hidden"&&!d.WINDOW.document.prerendering?0:1/0},"initHiddenTime"),p=n(i=>{d.WINDOW.document.visibilityState==="hidden"&&h>-1&&(h=i.type==="visibilitychange"?i.timeStamp:0,removeEventListener("visibilitychange",p,!0),removeEventListener("prerenderingchange",p,!0))},"onVisibilityUpdate"),a=n(()=>{addEventListener("visibilitychange",p,!0),addEventListener("prerenderingchange",p,!0)},"addChangeListeners"),s=n(()=>(d.WINDOW.document&&h<0&&(m(),a()),{get firstHiddenTime(){return h}}),"getVisibilityWatcher");l.getVisibilityWatcher=s},4479988250:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490),h=c(8117347597),m=c(2520992508),p=c(2273798110),a=n((s,i)=>{const e=p.getNavigationEntry();let t="navigate";return e&&(d.WINDOW.document&&d.WINDOW.document.prerendering||m.getActivationStart()>0?t="prerender":d.WINDOW.document&&d.WINDOW.document.wasDiscarded?t="restore":e.type&&(t=e.type.replace(/_/g,"-"))),{name:s,value:typeof i>"u"?-1:i,rating:"good",delta:0,entries:[],id:h.generateUniqueID(),navigationType:t}},"initMetric");l.initMetric=a},9526061972:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=n((d,h,m)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(d)){const p=new PerformanceObserver(a=>{Promise.resolve().then(()=>{h(a.getEntries())})});return p.observe(Object.assign({type:d,buffered:!0},m||{})),p}}catch{}},"observe");l.observe=c},7603883117:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490),h=n(m=>{const p=n(a=>{(a.type==="pagehide"||d.WINDOW.document&&d.WINDOW.document.visibilityState==="hidden")&&m(a)},"onHiddenOrPageHide");d.WINDOW.document&&(addEventListener("visibilitychange",p,!0),addEventListener("pagehide",p,!0))},"onHidden");l.onHidden=h},6842089089:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9526061972);let h=0,m=1/0,p=0;const a=n(t=>{t.forEach(r=>{r.interactionId&&(m=Math.min(m,r.interactionId),p=Math.max(p,r.interactionId),h=p?(p-m)/7+1:0)})},"updateEstimate");let s;const i=n(()=>s?h:performance.interactionCount||0,"getInteractionCount"),e=n(()=>{"interactionCount"in performance||s||(s=d.observe("event",a,{type:"event",buffered:!0,durationThreshold:0}))},"initInteractionCountPolyfill");l.getInteractionCount=i,l.initInteractionCountPolyfill=e},7841494492:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=n(d=>{let h=!1;return m=>{h||(d(m),h=!0)}},"runOnce");l.runOnce=c},3420582863:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490),h=n(m=>{d.WINDOW.document&&d.WINDOW.document.prerendering?addEventListener("prerenderingchange",()=>m(),!0):m()},"whenActivated");l.whenActivated=h},2741739498:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9035861842),h=c(2520992508),m=c(8451898068),p=c(4479988250),a=c(9526061972),s=c(3420582863),i=[1800,3e3],e=n((t,r={})=>{s.whenActivated(()=>{const o=m.getVisibilityWatcher(),f=p.initMetric("FCP");let g;const v=n(S=>{S.forEach(_=>{_.name==="first-contentful-paint"&&(u.disconnect(),_.startTime<o.firstHiddenTime&&(f.value=Math.max(_.startTime-h.getActivationStart(),0),f.entries.push(_),g(!0)))})},"handleEntries"),u=a.observe("paint",v);u&&(g=d.bindReporter(t,f,i,r.reportAllChanges))})},"onFCP");l.FCPThresholds=i,l.onFCP=e},1514170081:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6496036490),h=c(9035861842),m=c(2520992508),p=c(2273798110),a=c(4479988250),s=c(3420582863),i=[800,1800],e=n(r=>{d.WINDOW.document&&d.WINDOW.document.prerendering?s.whenActivated(()=>e(r)):d.WINDOW.document&&d.WINDOW.document.readyState!=="complete"?addEventListener("load",()=>e(r),!0):setTimeout(r,0)},"whenReady"),t=n((r,o={})=>{const f=a.initMetric("TTFB"),g=h.bindReporter(r,f,i,o.reportAllChanges);e(()=>{const v=p.getNavigationEntry();if(v){const u=v.responseStart;if(u<=0||u>performance.now())return;f.value=Math.max(u-m.getActivationStart(),0),f.entries=[v],g(!0)}})},"onTTFB");l.TTFBThresholds=i,l.onTTFB=t},6049995776:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=h.GLOBAL_OBJ,p=m.document,a=m.navigator,s="Report a Bug",i="Cancel",e="Send Bug Report",t="Confirm",r="Report a Bug",o="your.email@example.org",f="Email",g="What's the bug? What did you expect?",v="Description",u="Your Name",S="Name",_="Thank you for your report!",b="(required)",E="Add a screenshot",T="Remove screenshot",I="widget",A="api",w=5e3,R=n((pe,Ae={includeReplay:!0})=>{if(!pe.message)throw new Error("Unable to submit feedback with empty message");const Ue=d.getClient();if(!Ue)throw new Error("No client setup, cannot send feedback.");const vt=d.captureFeedback({source:A,url:h.getLocationHref(),...pe},Ae);return new Promise((Lt,xt)=>{const Cn=setTimeout(()=>xt("Unable to determine if Feedback was correctly sent."),5e3);Ue.on("afterSendEvent",(Nn,Xn)=>{if(Nn.event_id===vt){if(clearTimeout(Cn),Xn&&typeof Xn.statusCode=="number"&&(Xn.statusCode<200||Xn.statusCode>=300))return Xn.statusCode===0?xt("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):xt("Unable to send Feedback. Invalid response from server.");Lt(vt)}})})},"sendFeedback"),P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function x(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a.userAgent)||!isSecureContext)}n(x,"isScreenshotSupported");function z(pe,Ae){return{...pe,...Ae,onFormOpen:()=>{Ae.onFormOpen&&Ae.onFormOpen(),pe.onFormOpen&&pe.onFormOpen()},onFormClose:()=>{Ae.onFormClose&&Ae.onFormClose(),pe.onFormClose&&pe.onFormClose()},onSubmitSuccess:Ue=>{Ae.onSubmitSuccess&&Ae.onSubmitSuccess(Ue),pe.onSubmitSuccess&&pe.onSubmitSuccess(Ue)},onSubmitError:Ue=>{Ae.onSubmitError&&Ae.onSubmitError(Ue),pe.onSubmitError&&pe.onSubmitError(Ue)},onFormSubmitted:()=>{Ae.onFormSubmitted&&Ae.onFormSubmitted(),pe.onFormSubmitted&&pe.onFormSubmitted()},themeDark:{...pe.themeDark,...Ae.themeDark},themeLight:{...pe.themeLight,...Ae.themeLight}}}n(z,"mergeOptions");function Z(){const pe=p.createElement("style");return pe.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,pe}n(Z,"createActorStyles");function re(pe,Ae){return Object.entries(Ae).forEach(([Ue,vt])=>{pe.setAttributeNS(null,Ue,vt)}),pe}n(re,"setAttributesNS");const ne=20,he="http://www.w3.org/2000/svg";function ge(){const pe=n(Nn=>m.document.createElementNS(he,Nn),"createElementNS"),Ae=re(pe("svg"),{width:`${ne}`,height:`${ne}`,viewBox:`0 0 ${ne} ${ne}`,fill:"var(--foreground)"}),Ue=re(pe("g"),{clipPath:"url(#clip0_57_80)"}),vt=re(pe("path"),{["fill-rule"]:"evenodd",["clip-rule"]:"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});Ae.appendChild(Ue).appendChild(vt);const Lt=pe("defs"),xt=re(pe("clipPath"),{id:"clip0_57_80"}),Cn=re(pe("rect"),{width:`${ne}`,height:`${ne}`,fill:"white"});return xt.appendChild(Cn),Lt.appendChild(xt),Ae.appendChild(Lt).appendChild(xt).appendChild(Cn),Ae}n(ge,"FeedbackIcon");function Pe({triggerLabel:pe,shadow:Ae}){const Ue=p.createElement("button");if(Ue.type="button",Ue.className="widget__actor",Ue.ariaHidden="false",Ue.ariaLabel=pe,Ue.appendChild(ge()),pe){const Lt=p.createElement("span");Lt.appendChild(p.createTextNode(pe)),Ue.appendChild(Lt)}const vt=Z();return{el:Ue,appendToDom(){Ae.appendChild(vt),Ae.appendChild(Ue)},removeFromDom(){Ae.removeChild(Ue),Ae.removeChild(vt)},show(){Ue.ariaHidden="false"},hide(){Ue.ariaHidden="true"}}}n(Pe,"Actor");const He="rgba(88, 74, 192, 1)",pt={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:He,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Ht={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:He,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(41, 35, 47, 0.5)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Ke(pe){return`
  --foreground: ${pe.foreground};
  --background: ${pe.background};
  --accent-foreground: ${pe.accentForeground};
  --accent-background: ${pe.accentBackground};
  --success-color: ${pe.successColor};
  --error-color: ${pe.errorColor};
  --border: ${pe.border};
  --box-shadow: ${pe.boxShadow};
  --outline: ${pe.outline};
  --interactive-filter: ${pe.interactiveFilter};
  `}n(Ke,"getThemedCssVariables");function it({colorScheme:pe,themeDark:Ae,themeLight:Ue}){const vt=p.createElement("style");return vt.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Ke(pe==="dark"?{...Ht,...Ae}:{...pt,...Ue})}
}

${pe==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Ke({...Ht,...Ae})}
  }
}`:""}
}
`,vt}n(it,"createMainStyles");const ct=n(({lazyLoadIntegration:pe,getModalIntegration:Ae,getScreenshotIntegration:Ue})=>n(({id:Lt="sentry-feedback",showBranding:xt=!0,autoInject:Cn=!0,showEmail:Nn=!0,showName:Xn=!0,enableScreenshot:Un=!0,useSentryUser:Ti={email:"email",name:"username"},isNameRequired:Tn=!1,isEmailRequired:qi=!1,colorScheme:_i="system",themeLight:Nr={},themeDark:Ur={},addScreenshotButtonLabel:Gr=E,cancelButtonLabel:ki=i,confirmButtonLabel:Vi=t,emailLabel:Zi=f,emailPlaceholder:_r=o,formTitle:Hr=r,isRequiredLabel:Eo=b,messageLabel:er=v,messagePlaceholder:Co=g,nameLabel:Fr=S,namePlaceholder:no=u,removeScreenshotButtonLabel:Is=T,submitButtonLabel:As=e,successMessageText:ms=_,triggerLabel:cs=s,onFormOpen:Os,onFormClose:qo,onSubmitSuccess:Mo,onSubmitError:No,onFormSubmitted:Wo}={})=>{const Fo={id:Lt,autoInject:Cn,showBranding:xt,isEmailRequired:qi,isNameRequired:Tn,showEmail:Nn,showName:Xn,enableScreenshot:Un,useSentryUser:Ti,colorScheme:_i,themeDark:Ur,themeLight:Nr,triggerLabel:cs,cancelButtonLabel:ki,submitButtonLabel:As,confirmButtonLabel:Vi,formTitle:Hr,emailLabel:Zi,emailPlaceholder:_r,messageLabel:er,messagePlaceholder:Co,nameLabel:Fr,namePlaceholder:no,successMessageText:ms,isRequiredLabel:Eo,addScreenshotButtonLabel:Gr,removeScreenshotButtonLabel:Is,onFormClose:qo,onFormOpen:Os,onSubmitError:No,onSubmitSuccess:Mo,onFormSubmitted:Wo};let yo=null,fo=[];const Po=n(ro=>{if(!yo){const Oo=p.createElement("div");Oo.id=String(ro.id),p.body.appendChild(Oo),yo=Oo.attachShadow({mode:"open"}),yo.appendChild(it(ro))}return yo},"_createShadow"),ia=n(async(ro,Oo,Ao)=>{const Jo=d.getClient(),xo=Jo&&Jo.getIntegrationByName(ro);if(xo)return xo;const de=(Oo&&Oo()||await pe(Ao))();return Jo&&Jo.addIntegration(de),de},"_findIntegration"),is=n(async ro=>{const Oo=ro.enableScreenshot&&x(),[Ao,Jo]=await Promise.all([ia("FeedbackModal",Ae,"feedbackModalIntegration"),Oo?ia("FeedbackScreenshot",Ue,"feedbackScreenshotIntegration"):void 0]);if(!Ao)throw P&&h.logger.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");return Oo&&!Jo&&P&&h.logger.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots."),Ao.createDialog({options:ro,screenshotIntegration:Oo?Jo:void 0,sendFeedback:R,shadow:Po(ro)})},"_loadAndRenderDialog"),Go=n((ro,Oo={})=>{const Ao=z(Fo,Oo),Jo=typeof ro=="string"?p.querySelector(ro):typeof ro.addEventListener=="function"?ro:null;if(!Jo)throw P&&h.logger.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let xo=null;const ra=n(async()=>{xo||(xo=await is({...Ao,onFormClose:()=>{xo&&xo.close(),Ao.onFormClose&&Ao.onFormClose()},onFormSubmitted:()=>{xo&&xo.removeFromDom(),Ao.onFormSubmitted&&Ao.onFormSubmitted()}})),xo.appendToDom(),xo.open()},"handleClick");Jo.addEventListener("click",ra);const de=n(()=>{fo=fo.filter(ye=>ye!==de),xo&&xo.removeFromDom(),xo=null,Jo.removeEventListener("click",ra)},"unsubscribe");return fo.push(de),de},"_attachTo"),gs=n((ro={})=>{const Oo=Po(Fo),Ao=Pe({triggerLabel:Fo.triggerLabel,shadow:Oo}),Jo=z(Fo,{...ro,onFormOpen(){Ao.hide()},onFormClose(){Ao.show()},onFormSubmitted(){Ao.show()}});return Go(Ao.el,Jo),Ao},"_createActor");return{name:"Feedback",setupOnce(){!h.isBrowser()||!Fo.autoInject||gs().appendToDom()},attachTo:Go,createWidget(ro={}){const Oo=gs(z(Fo,ro));return Oo.appendToDom(),Oo},async createForm(ro={}){return is(z(Fo,ro))},remove(){yo&&(yo.parentElement&&yo.parentElement.remove(),yo=null),fo.forEach(ro=>ro()),fo=[]}}},"feedbackIntegration"),"buildFeedbackIntegration");function rt(){const pe=d.getClient();return pe&&pe.getIntegrationByName("Feedback")}n(rt,"getFeedback");var _t,Gt,Kt,Ye,Xe,It,kt,gt={},En=[],pn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,wn=Array.isArray;function zn(pe,Ae){for(var Ue in Ae)pe[Ue]=Ae[Ue];return pe}n(zn,"v$1");function Qn(pe){var Ae=pe.parentNode;Ae&&Ae.removeChild(pe)}n(Qn,"p$1");function Sn(pe,Ae,Ue){var vt,Lt,xt,Cn={};for(xt in Ae)xt=="key"?vt=Ae[xt]:xt=="ref"?Lt=Ae[xt]:Cn[xt]=Ae[xt];if(arguments.length>2&&(Cn.children=arguments.length>3?_t.call(arguments,2):Ue),typeof pe=="function"&&pe.defaultProps!=null)for(xt in pe.defaultProps)Cn[xt]===void 0&&(Cn[xt]=pe.defaultProps[xt]);return Zn(pe,Cn,vt,Lt,null)}n(Sn,"y$1");function Zn(pe,Ae,Ue,vt,Lt){var xt={type:pe,props:Ae,key:Ue,ref:vt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:Lt??++Kt,__i:-1,__u:0};return Lt==null&&Gt.vnode!=null&&Gt.vnode(xt),xt}n(Zn,"d$1");function lr(pe){return pe.children}n(lr,"g");function ui(pe,Ae){this.props=pe,this.context=Ae}n(ui,"b");function fi(pe,Ae){if(Ae==null)return pe.__?fi(pe.__,pe.__i+1):null;for(var Ue;Ae<pe.__k.length;Ae++)if((Ue=pe.__k[Ae])!=null&&Ue.__e!=null)return Ue.__e;return typeof pe.type=="function"?fi(pe):null}n(fi,"m$1");function Vn(pe,Ae,Ue){var vt,Lt=pe.__v,xt=Lt.__e,Cn=pe.__P;if(Cn)return(vt=zn({},Lt)).__v=Lt.__v+1,Gt.vnode&&Gt.vnode(vt),we(Cn,vt,Lt,pe.__n,Cn.ownerSVGElement!==void 0,32&Lt.__u?[xt]:null,Ae,xt??fi(Lt),!!(32&Lt.__u),Ue),vt.__.__k[vt.__i]=vt,vt.__d=void 0,vt.__e!=xt&&In(vt),vt}n(Vn,"w$1");function In(pe){var Ae,Ue;if((pe=pe.__)!=null&&pe.__c!=null){for(pe.__e=pe.__c.base=null,Ae=0;Ae<pe.__k.length;Ae++)if((Ue=pe.__k[Ae])!=null&&Ue.__e!=null){pe.__e=pe.__c.base=Ue.__e;break}return In(pe)}}n(In,"k$1");function wi(pe){(!pe.__d&&(pe.__d=!0)&&Ye.push(pe)&&!_n.__r++||Xe!==Gt.debounceRendering)&&((Xe=Gt.debounceRendering)||It)(_n)}n(wi,"x$1");function _n(){var pe,Ae,Ue,vt=[],Lt=[];for(Ye.sort(kt);pe=Ye.shift();)pe.__d&&(Ue=Ye.length,Ae=Vn(pe,vt,Lt)||Ae,Ue===0||Ye.length>Ue?(ht(vt,Ae,Lt),Lt.length=vt.length=0,Ae=void 0,Ye.sort(kt)):Ae&&Gt.__c&&Gt.__c(Ae,En));Ae&&ht(vt,Ae,Lt),_n.__r=0}n(_n,"C$1");function An(pe,Ae,Ue,vt,Lt,xt,Cn,Nn,Xn,Un,Ti){var Tn,qi,_i,Nr,Ur,Gr=vt&&vt.__k||En,ki=Ae.length;for(Ue.__d=Xn,sn(Ue,Ae,Gr),Xn=Ue.__d,Tn=0;Tn<ki;Tn++)(_i=Ue.__k[Tn])!=null&&typeof _i!="boolean"&&typeof _i!="function"&&(qi=_i.__i===-1?gt:Gr[_i.__i]||gt,_i.__i=Tn,we(pe,_i,qi,Lt,xt,Cn,Nn,Xn,Un,Ti),Nr=_i.__e,_i.ref&&qi.ref!=_i.ref&&(qi.ref&&se(qi.ref,null,_i),Ti.push(_i.ref,_i.__c||Nr,_i)),Ur==null&&Nr!=null&&(Ur=Nr),65536&_i.__u||qi.__k===_i.__k?Xn=Q(_i,Xn,pe):typeof _i.type=="function"&&_i.__d!==void 0?Xn=_i.__d:Nr&&(Xn=Nr.nextSibling),_i.__d=void 0,_i.__u&=-196609);Ue.__d=Xn,Ue.__e=Ur}n(An,"P");function sn(pe,Ae,Ue){var vt,Lt,xt,Cn,Nn,Xn=Ae.length,Un=Ue.length,Ti=Un,Tn=0;for(pe.__k=[],vt=0;vt<Xn;vt++)(Lt=pe.__k[vt]=(Lt=Ae[vt])==null||typeof Lt=="boolean"||typeof Lt=="function"?null:typeof Lt=="string"||typeof Lt=="number"||typeof Lt=="bigint"||Lt.constructor==String?Zn(null,Lt,null,null,Lt):wn(Lt)?Zn(lr,{children:Lt},null,null,null):Lt.constructor===void 0&&Lt.__b>0?Zn(Lt.type,Lt.props,Lt.key,Lt.ref?Lt.ref:null,Lt.__v):Lt)!=null?(Lt.__=pe,Lt.__b=pe.__b+1,Nn=lt(Lt,Ue,Cn=vt+Tn,Ti),Lt.__i=Nn,xt=null,Nn!==-1&&(Ti--,(xt=Ue[Nn])&&(xt.__u|=131072)),xt==null||xt.__v===null?(Nn==-1&&Tn--,typeof Lt.type!="function"&&(Lt.__u|=65536)):Nn!==Cn&&(Nn===Cn+1?Tn++:Nn>Cn?Ti>Xn-Cn?Tn+=Nn-Cn:Tn--:Tn=Nn<Cn&&Nn==Cn-1?Nn-Cn:0,Nn!==vt+Tn&&(Lt.__u|=65536))):(xt=Ue[vt])&&xt.key==null&&xt.__e&&(xt.__e==pe.__d&&(pe.__d=fi(xt)),Ve(xt,xt,!1),Ue[vt]=null,Ti--);if(Ti)for(vt=0;vt<Un;vt++)(xt=Ue[vt])!=null&&!(131072&xt.__u)&&(xt.__e==pe.__d&&(pe.__d=fi(xt)),Ve(xt,xt))}n(sn,"S");function Q(pe,Ae,Ue){var vt,Lt;if(typeof pe.type=="function"){for(vt=pe.__k,Lt=0;vt&&Lt<vt.length;Lt++)vt[Lt]&&(vt[Lt].__=pe,Ae=Q(vt[Lt],Ae,Ue));return Ae}pe.__e!=Ae&&(Ue.insertBefore(pe.__e,Ae||null),Ae=pe.__e);do Ae=Ae&&Ae.nextSibling;while(Ae!=null&&Ae.nodeType===8);return Ae}n(Q,"$");function lt(pe,Ae,Ue,vt){var Lt=pe.key,xt=pe.type,Cn=Ue-1,Nn=Ue+1,Xn=Ae[Ue];if(Xn===null||Xn&&Lt==Xn.key&&xt===Xn.type)return Ue;if(vt>(Xn!=null&&!(131072&Xn.__u)?1:0))for(;Cn>=0||Nn<Ae.length;){if(Cn>=0){if((Xn=Ae[Cn])&&!(131072&Xn.__u)&&Lt==Xn.key&&xt===Xn.type)return Cn;Cn--}if(Nn<Ae.length){if((Xn=Ae[Nn])&&!(131072&Xn.__u)&&Lt==Xn.key&&xt===Xn.type)return Nn;Nn++}}return-1}n(lt,"I");function mt(pe,Ae,Ue){Ae[0]==="-"?pe.setProperty(Ae,Ue??""):pe[Ae]=Ue==null?"":typeof Ue!="number"||pn.test(Ae)?Ue:Ue+"px"}n(mt,"T");function bt(pe,Ae,Ue,vt,Lt){var xt;e:if(Ae==="style")if(typeof Ue=="string")pe.style.cssText=Ue;else{if(typeof vt=="string"&&(pe.style.cssText=vt=""),vt)for(Ae in vt)Ue&&Ae in Ue||mt(pe.style,Ae,"");if(Ue)for(Ae in Ue)vt&&Ue[Ae]===vt[Ae]||mt(pe.style,Ae,Ue[Ae])}else if(Ae[0]==="o"&&Ae[1]==="n")xt=Ae!==(Ae=Ae.replace(/(PointerCapture)$|Capture$/i,"$1")),Ae=Ae.toLowerCase()in pe?Ae.toLowerCase().slice(2):Ae.slice(2),pe.l||(pe.l={}),pe.l[Ae+xt]=Ue,Ue?vt?Ue.u=vt.u:(Ue.u=Date.now(),pe.addEventListener(Ae,xt?Wt:At,xt)):pe.removeEventListener(Ae,xt?Wt:At,xt);else{if(Lt)Ae=Ae.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(Ae!=="width"&&Ae!=="height"&&Ae!=="href"&&Ae!=="list"&&Ae!=="form"&&Ae!=="tabIndex"&&Ae!=="download"&&Ae!=="rowSpan"&&Ae!=="colSpan"&&Ae!=="role"&&Ae in pe)try{pe[Ae]=Ue??"";break e}catch{}typeof Ue=="function"||(Ue==null||Ue===!1&&Ae[4]!=="-"?pe.removeAttribute(Ae):pe.setAttribute(Ae,Ue))}}n(bt,"A");function At(pe){if(this.l){var Ae=this.l[pe.type+!1];if(pe.t){if(pe.t<=Ae.u)return}else pe.t=Date.now();return Ae(Gt.event?Gt.event(pe):pe)}}n(At,"D$1");function Wt(pe){if(this.l)return this.l[pe.type+!0](Gt.event?Gt.event(pe):pe)}n(Wt,"L");function we(pe,Ae,Ue,vt,Lt,xt,Cn,Nn,Xn,Un){var Ti,Tn,qi,_i,Nr,Ur,Gr,ki,Vi,Zi,_r,Hr,Eo,er,Co,Fr=Ae.type;if(Ae.constructor!==void 0)return null;128&Ue.__u&&(Xn=!!(32&Ue.__u),xt=[Nn=Ae.__e=Ue.__e]),(Ti=Gt.__b)&&Ti(Ae);e:if(typeof Fr=="function")try{if(ki=Ae.props,Vi=(Ti=Fr.contextType)&&vt[Ti.__c],Zi=Ti?Vi?Vi.props.value:Ti.__:vt,Ue.__c?Gr=(Tn=Ae.__c=Ue.__c).__=Tn.__E:("prototype"in Fr&&Fr.prototype.render?Ae.__c=Tn=new Fr(ki,Zi):(Ae.__c=Tn=new ui(ki,Zi),Tn.constructor=Fr,Tn.render=Be),Vi&&Vi.sub(Tn),Tn.props=ki,Tn.state||(Tn.state={}),Tn.context=Zi,Tn.__n=vt,qi=Tn.__d=!0,Tn.__h=[],Tn._sb=[]),Tn.__s==null&&(Tn.__s=Tn.state),Fr.getDerivedStateFromProps!=null&&(Tn.__s==Tn.state&&(Tn.__s=zn({},Tn.__s)),zn(Tn.__s,Fr.getDerivedStateFromProps(ki,Tn.__s))),_i=Tn.props,Nr=Tn.state,Tn.__v=Ae,qi)Fr.getDerivedStateFromProps==null&&Tn.componentWillMount!=null&&Tn.componentWillMount(),Tn.componentDidMount!=null&&Tn.__h.push(Tn.componentDidMount);else{if(Fr.getDerivedStateFromProps==null&&ki!==_i&&Tn.componentWillReceiveProps!=null&&Tn.componentWillReceiveProps(ki,Zi),!Tn.__e&&(Tn.shouldComponentUpdate!=null&&Tn.shouldComponentUpdate(ki,Tn.__s,Zi)===!1||Ae.__v===Ue.__v)){for(Ae.__v!==Ue.__v&&(Tn.props=ki,Tn.state=Tn.__s,Tn.__d=!1),Ae.__e=Ue.__e,Ae.__k=Ue.__k,Ae.__k.forEach(function(no){no&&(no.__=Ae)}),_r=0;_r<Tn._sb.length;_r++)Tn.__h.push(Tn._sb[_r]);Tn._sb=[],Tn.__h.length&&Cn.push(Tn);break e}Tn.componentWillUpdate!=null&&Tn.componentWillUpdate(ki,Tn.__s,Zi),Tn.componentDidUpdate!=null&&Tn.__h.push(function(){Tn.componentDidUpdate(_i,Nr,Ur)})}if(Tn.context=Zi,Tn.props=ki,Tn.__P=pe,Tn.__e=!1,Hr=Gt.__r,Eo=0,"prototype"in Fr&&Fr.prototype.render){for(Tn.state=Tn.__s,Tn.__d=!1,Hr&&Hr(Ae),Ti=Tn.render(Tn.props,Tn.state,Tn.context),er=0;er<Tn._sb.length;er++)Tn.__h.push(Tn._sb[er]);Tn._sb=[]}else do Tn.__d=!1,Hr&&Hr(Ae),Ti=Tn.render(Tn.props,Tn.state,Tn.context),Tn.state=Tn.__s;while(Tn.__d&&++Eo<25);Tn.state=Tn.__s,Tn.getChildContext!=null&&(vt=zn(zn({},vt),Tn.getChildContext())),qi||Tn.getSnapshotBeforeUpdate==null||(Ur=Tn.getSnapshotBeforeUpdate(_i,Nr)),An(pe,wn(Co=Ti!=null&&Ti.type===lr&&Ti.key==null?Ti.props.children:Ti)?Co:[Co],Ae,Ue,vt,Lt,xt,Cn,Nn,Xn,Un),Tn.base=Ae.__e,Ae.__u&=-161,Tn.__h.length&&Cn.push(Tn),Gr&&(Tn.__E=Tn.__=null)}catch(no){Ae.__v=null,Xn||xt!=null?(Ae.__e=Nn,Ae.__u|=Xn?160:32,xt[xt.indexOf(Nn)]=null):(Ae.__e=Ue.__e,Ae.__k=Ue.__k),Gt.__e(no,Ae,Ue)}else xt==null&&Ae.__v===Ue.__v?(Ae.__k=Ue.__k,Ae.__e=Ue.__e):Ae.__e=K(Ue.__e,Ae,Ue,vt,Lt,xt,Cn,Xn,Un);(Ti=Gt.diffed)&&Ti(Ae)}n(we,"M");function ht(pe,Ae,Ue){for(var vt=0;vt<Ue.length;vt++)se(Ue[vt],Ue[++vt],Ue[++vt]);Gt.__c&&Gt.__c(Ae,pe),pe.some(function(Lt){try{pe=Lt.__h,Lt.__h=[],pe.some(function(xt){xt.call(Lt)})}catch(xt){Gt.__e(xt,Lt.__v)}})}n(ht,"j$1");function K(pe,Ae,Ue,vt,Lt,xt,Cn,Nn,Xn){var Un,Ti,Tn,qi,_i,Nr,Ur,Gr=Ue.props,ki=Ae.props,Vi=Ae.type;if(Vi==="svg"&&(Lt=!0),xt!=null){for(Un=0;Un<xt.length;Un++)if((_i=xt[Un])&&"setAttribute"in _i==!!Vi&&(Vi?_i.localName===Vi:_i.nodeType===3)){pe=_i,xt[Un]=null;break}}if(pe==null){if(Vi===null)return document.createTextNode(ki);pe=Lt?document.createElementNS("http://www.w3.org/2000/svg",Vi):document.createElement(Vi,ki.is&&ki),xt=null,Nn=!1}if(Vi===null)Gr===ki||Nn&&pe.data===ki||(pe.data=ki);else{if(xt=xt&&_t.call(pe.childNodes),Gr=Ue.props||gt,!Nn&&xt!=null)for(Gr={},Un=0;Un<pe.attributes.length;Un++)Gr[(_i=pe.attributes[Un]).name]=_i.value;for(Un in Gr)_i=Gr[Un],Un=="children"||(Un=="dangerouslySetInnerHTML"?Tn=_i:Un==="key"||Un in ki||bt(pe,Un,null,_i,Lt));for(Un in ki)_i=ki[Un],Un=="children"?qi=_i:Un=="dangerouslySetInnerHTML"?Ti=_i:Un=="value"?Nr=_i:Un=="checked"?Ur=_i:Un==="key"||Nn&&typeof _i!="function"||Gr[Un]===_i||bt(pe,Un,_i,Gr[Un],Lt);if(Ti)Nn||Tn&&(Ti.__html===Tn.__html||Ti.__html===pe.innerHTML)||(pe.innerHTML=Ti.__html),Ae.__k=[];else if(Tn&&(pe.innerHTML=""),An(pe,wn(qi)?qi:[qi],Ae,Ue,vt,Lt&&Vi!=="foreignObject",xt,Cn,xt?xt[0]:Ue.__k&&fi(Ue,0),Nn,Xn),xt!=null)for(Un=xt.length;Un--;)xt[Un]!=null&&Qn(xt[Un]);Nn||(Un="value",Nr!==void 0&&(Nr!==pe[Un]||Vi==="progress"&&!Nr||Vi==="option"&&Nr!==Gr[Un])&&bt(pe,Un,Nr,Gr[Un],!1),Un="checked",Ur!==void 0&&Ur!==pe[Un]&&bt(pe,Un,Ur,Gr[Un],!1))}return pe}n(K,"z$1");function se(pe,Ae,Ue){try{typeof pe=="function"?pe(Ae):pe.current=Ae}catch(vt){Gt.__e(vt,Ue)}}n(se,"N");function Ve(pe,Ae,Ue){var vt,Lt;if(Gt.unmount&&Gt.unmount(pe),(vt=pe.ref)&&(vt.current&&vt.current!==pe.__e||se(vt,null,Ae)),(vt=pe.__c)!=null){if(vt.componentWillUnmount)try{vt.componentWillUnmount()}catch(xt){Gt.__e(xt,Ae)}vt.base=vt.__P=null,pe.__c=void 0}if(vt=pe.__k)for(Lt=0;Lt<vt.length;Lt++)vt[Lt]&&Ve(vt[Lt],Ae,Ue||typeof pe.type!="function");Ue||pe.__e==null||Qn(pe.__e),pe.__=pe.__e=pe.__d=void 0}n(Ve,"O");function Be(pe,Ae,Ue){return this.constructor(pe,Ue)}n(Be,"q$1");function Yt(pe,Ae,Ue){var vt,Lt,xt,Cn;Gt.__&&Gt.__(pe,Ae),Lt=(vt=typeof Ue=="function")?null:Ue&&Ue.__k||Ae.__k,xt=[],Cn=[],we(Ae,pe=(!vt&&Ue||Ae).__k=Sn(lr,null,[pe]),Lt||gt,gt,Ae.ownerSVGElement!==void 0,!vt&&Ue?[Ue]:Lt?null:Ae.firstChild?_t.call(Ae.childNodes):null,xt,!vt&&Ue?Ue:Lt?Lt.__e:Ae.firstChild,vt,Cn),pe.__d=void 0,ht(xt,pe,Cn)}n(Yt,"B$1"),_t=En.slice,Gt={__e:function(pe,Ae,Ue,vt){for(var Lt,xt,Cn;Ae=Ae.__;)if((Lt=Ae.__c)&&!Lt.__)try{if((xt=Lt.constructor)&&xt.getDerivedStateFromError!=null&&(Lt.setState(xt.getDerivedStateFromError(pe)),Cn=Lt.__d),Lt.componentDidCatch!=null&&(Lt.componentDidCatch(pe,vt||{}),Cn=Lt.__d),Cn)return Lt.__E=Lt}catch(Nn){pe=Nn}throw pe}},Kt=0,ui.prototype.setState=function(pe,Ae){var Ue;Ue=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zn({},this.state),typeof pe=="function"&&(pe=pe(zn({},Ue),this.props)),pe&&zn(Ue,pe),pe!=null&&this.__v&&(Ae&&this._sb.push(Ae),wi(this))},ui.prototype.forceUpdate=function(pe){this.__v&&(this.__e=!0,pe&&this.__h.push(pe),wi(this))},ui.prototype.render=lr,Ye=[],It=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,kt=n(function(pe,Ae){return pe.__v.__b-Ae.__v.__b},"f$1"),_n.__r=0;var yt,Bt,ke,Je,B=0,Fe=[],fe=[],ve=Gt,ee=ve.__b,Et=ve.__r,Ne=ve.diffed,st=ve.__c,on=ve.unmount,$t=ve.__;function yi(pe,Ae){ve.__h&&ve.__h(Bt,pe,B||Ae),B=0;var Ue=Bt.__H||(Bt.__H={__:[],__h:[]});return pe>=Ue.__.length&&Ue.__.push({__V:fe}),Ue.__[pe]}n(yi,"h");function mi(pe){return B=1,ri(Qi,pe)}n(mi,"p");function ri(pe,Ae,Ue){var vt=yi(yt++,2);if(vt.t=pe,!vt.__c&&(vt.__=[Ue?Ue(Ae):Qi(void 0,Ae),function(Nn){var Xn=vt.__N?vt.__N[0]:vt.__[0],Un=vt.t(Xn,Nn);Xn!==Un&&(vt.__N=[Un,vt.__[1]],vt.__c.setState({}))}],vt.__c=Bt,!Bt.u)){var Lt=n(function(Nn,Xn,Un){if(!vt.__c.__H)return!0;var Ti=vt.__c.__H.__.filter(function(qi){return!!qi.__c});if(Ti.every(function(qi){return!qi.__N}))return!xt||xt.call(this,Nn,Xn,Un);var Tn=!1;return Ti.forEach(function(qi){if(qi.__N){var _i=qi.__[0];qi.__=qi.__N,qi.__N=void 0,_i!==qi.__[0]&&(Tn=!0)}}),!(!Tn&&vt.__c.props===Nn)&&(!xt||xt.call(this,Nn,Xn,Un))},"f");Bt.u=!0;var xt=Bt.shouldComponentUpdate,Cn=Bt.componentWillUpdate;Bt.componentWillUpdate=function(Nn,Xn,Un){if(this.__e){var Ti=xt;xt=void 0,Lt(Nn,Xn,Un),xt=Ti}Cn&&Cn.call(this,Nn,Xn,Un)},Bt.shouldComponentUpdate=Lt}return vt.__N||vt.__}n(ri,"y");function ti(pe,Ae){var Ue=yi(yt++,3);!ve.__s&&Ji(Ue.__H,Ae)&&(Ue.__=pe,Ue.i=Ae,Bt.__H.__h.push(Ue))}n(ti,"_");function Zt(pe){return B=5,mn(function(){return{current:pe}},[])}n(Zt,"F");function mn(pe,Ae){var Ue=yi(yt++,7);return Ji(Ue.__H,Ae)?(Ue.__V=pe(),Ue.i=Ae,Ue.__h=pe,Ue.__V):Ue.__}n(mn,"q");function Ui(pe,Ae){return B=8,mn(function(){return pe},Ae)}n(Ui,"x");function Er(){for(var pe;pe=Fe.shift();)if(pe.__P&&pe.__H)try{pe.__H.__h.forEach(ni),pe.__H.__h.forEach(oi),pe.__H.__h=[]}catch(Ae){pe.__H.__h=[],ve.__e(Ae,pe.__v)}}n(Er,"j"),ve.__b=function(pe){Bt=null,ee&&ee(pe)},ve.__=function(pe,Ae){Ae.__k&&Ae.__k.__m&&(pe.__m=Ae.__k.__m),$t&&$t(pe,Ae)},ve.__r=function(pe){Et&&Et(pe),yt=0;var Ae=(Bt=pe.__c).__H;Ae&&(ke===Bt?(Ae.__h=[],Bt.__h=[],Ae.__.forEach(function(Ue){Ue.__N&&(Ue.__=Ue.__N),Ue.__V=fe,Ue.__N=Ue.i=void 0})):(Ae.__h.forEach(ni),Ae.__h.forEach(oi),Ae.__h=[],yt=0)),ke=Bt},ve.diffed=function(pe){Ne&&Ne(pe);var Ae=pe.__c;Ae&&Ae.__H&&(Ae.__H.__h.length&&(Fe.push(Ae)!==1&&Je===ve.requestAnimationFrame||((Je=ve.requestAnimationFrame)||nn)(Er)),Ae.__H.__.forEach(function(Ue){Ue.i&&(Ue.__H=Ue.i),Ue.__V!==fe&&(Ue.__=Ue.__V),Ue.i=void 0,Ue.__V=fe})),ke=Bt=null},ve.__c=function(pe,Ae){Ae.some(function(Ue){try{Ue.__h.forEach(ni),Ue.__h=Ue.__h.filter(function(vt){return!vt.__||oi(vt)})}catch(vt){Ae.some(function(Lt){Lt.__h&&(Lt.__h=[])}),Ae=[],ve.__e(vt,Ue.__v)}}),st&&st(pe,Ae)},ve.unmount=function(pe){on&&on(pe);var Ae,Ue=pe.__c;Ue&&Ue.__H&&(Ue.__H.__.forEach(function(vt){try{ni(vt)}catch(Lt){Ae=Lt}}),Ue.__H=void 0,Ae&&ve.__e(Ae,Ue.__v))};var Dn=typeof requestAnimationFrame=="function";function nn(pe){var Ae,Ue=n(function(){clearTimeout(vt),Dn&&cancelAnimationFrame(Ae),setTimeout(pe)},"r"),vt=setTimeout(Ue,100);Dn&&(Ae=requestAnimationFrame(Ue))}n(nn,"w");function ni(pe){var Ae=Bt,Ue=pe.__c;typeof Ue=="function"&&(pe.__c=void 0,Ue()),Bt=Ae}n(ni,"z");function oi(pe){var Ae=Bt;pe.__c=pe.__(),Bt=Ae}n(oi,"B");function Ji(pe,Ae){return!pe||pe.length!==Ae.length||Ae.some(function(Ue,vt){return Ue!==pe[vt]})}n(Ji,"C");function Qi(pe,Ae){return typeof Ae=="function"?Ae(pe):Ae}n(Qi,"D");const Ei="http://www.w3.org/2000/svg";function Jn(){const pe=n(vt=>p.createElementNS(Ei,vt),"createElementNS"),Ae=re(pe("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),Ue=re(pe("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return Ae.appendChild(Ue),Ae}n(Jn,"SentryLogo");const Sr="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function cr({options:pe}){const Ae=mn(()=>({__html:Jn().outerHTML}),[]);return Sn("h2",{class:"dialog__header",__self:this,__source:{fileName:Sr,lineNumber:16}},pe.formTitle,pe.showBranding?Sn("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:Ae,__self:this,__source:{fileName:Sr,lineNumber:19}}):null)}n(cr,"DialogHeader");function Dr(pe,Ae){const Ue=[];return Ae.isNameRequired&&!pe.name&&Ue.push(Ae.nameLabel),Ae.isEmailRequired&&!pe.email&&Ue.push(Ae.emailLabel),pe.message||Ue.push(Ae.messageLabel),Ue}n(Dr,"getMissingFields");const Yi="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function io(pe,Ae){const Ue=pe.get(Ae);return typeof Ue=="string"?Ue.trim():""}n(io,"retrieveStringValue");function sr({options:pe,defaultEmail:Ae,defaultName:Ue,onFormClose:vt,onSubmit:Lt,onSubmitSuccess:xt,onSubmitError:Cn,showEmail:Nn,showName:Xn,screenshotInput:Un}){const{addScreenshotButtonLabel:Ti,removeScreenshotButtonLabel:Tn,cancelButtonLabel:qi,emailLabel:_i,emailPlaceholder:Nr,isEmailRequired:Ur,isNameRequired:Gr,messageLabel:ki,messagePlaceholder:Vi,nameLabel:Zi,namePlaceholder:_r,submitButtonLabel:Hr,isRequiredLabel:Eo}=pe,[er,Co]=mi(null),[Fr,no]=mi(!1),Is=Un&&Un.input,[As,ms]=mi(null),cs=Ui(Mo=>{ms(Mo),no(!1)},[]),Os=Ui(Mo=>{const No=Dr(Mo,{emailLabel:_i,isEmailRequired:Ur,isNameRequired:Gr,messageLabel:ki,nameLabel:Zi});return No.length>0?Co(`Please enter in the following required fields: ${No.join(", ")}`):Co(null),No.length===0},[_i,Ur,Gr,ki,Zi]),qo=Ui(async Mo=>{try{if(Mo.preventDefault(),!(Mo.target instanceof HTMLFormElement))return;const No=new FormData(Mo.target),Wo=await(Un&&Fr?Un.value():void 0),Fo={name:io(No,"name"),email:io(No,"email"),message:io(No,"message"),attachments:Wo?[Wo]:void 0};if(!Os(Fo))return;try{await Lt({name:Fo.name,email:Fo.email,message:Fo.message,source:I},{attachments:Fo.attachments}),xt(Fo)}catch(yo){P&&h.logger.error(yo),Co("There was a problem submitting feedback, please wait and try again."),Cn(yo)}}catch{}},[Un&&Fr,xt,Cn]);return Sn("form",{class:"form",onSubmit:qo,__self:this,__source:{fileName:Yi,lineNumber:142}},Is&&Fr?Sn(Is,{onError:cs,__self:this,__source:{fileName:Yi,lineNumber:144}}):null,Sn("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:Yi,lineNumber:147}},Sn("div",{class:"form__top",__self:this,__source:{fileName:Yi,lineNumber:148}},er?Sn("div",{class:"form__error-container",__self:this,__source:{fileName:Yi,lineNumber:149}},er):null,Xn?Sn("label",{for:"name",class:"form__label",__self:this,__source:{fileName:Yi,lineNumber:152}},Sn(lo,{label:Zi,isRequiredLabel:Eo,isRequired:Gr,__self:this,__source:{fileName:Yi,lineNumber:153}}),Sn("input",{class:"form__input",defaultValue:Ue,id:"name",name:"name",placeholder:_r,required:Gr,type:"text",__self:this,__source:{fileName:Yi,lineNumber:154}})):Sn("input",{"aria-hidden":!0,value:Ue,name:"name",type:"hidden",__self:this,__source:{fileName:Yi,lineNumber:165}}),Nn?Sn("label",{for:"email",class:"form__label",__self:this,__source:{fileName:Yi,lineNumber:169}},Sn(lo,{label:_i,isRequiredLabel:Eo,isRequired:Ur,__self:this,__source:{fileName:Yi,lineNumber:170}}),Sn("input",{class:"form__input",defaultValue:Ae,id:"email",name:"email",placeholder:Nr,required:Ur,type:"email",__self:this,__source:{fileName:Yi,lineNumber:171}})):Sn("input",{"aria-hidden":!0,value:Ae,name:"email",type:"hidden",__self:this,__source:{fileName:Yi,lineNumber:182}}),Sn("label",{for:"message",class:"form__label",__self:this,__source:{fileName:Yi,lineNumber:185}},Sn(lo,{label:ki,isRequiredLabel:Eo,isRequired:!0,__self:this,__source:{fileName:Yi,lineNumber:186}}),Sn("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:Vi,required:!0,rows:5,__self:this,__source:{fileName:Yi,lineNumber:187}})),Is?Sn("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:Yi,lineNumber:199}},Sn("button",{class:"btn btn--default",type:"button",onClick:()=>{ms(null),no(Mo=>!Mo)},__self:this,__source:{fileName:Yi,lineNumber:200}},Fr?Tn:Ti),As?Sn("div",{class:"form__error-container",__self:this,__source:{fileName:Yi,lineNumber:210}},As.message):null):null),Sn("div",{class:"btn-group",__self:this,__source:{fileName:Yi,lineNumber:214}},Sn("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:Yi,lineNumber:215}},Hr),Sn("button",{class:"btn btn--default",type:"button",onClick:vt,__self:this,__source:{fileName:Yi,lineNumber:218}},qi))))}n(sr,"Form");function lo({label:pe,isRequired:Ae,isRequiredLabel:Ue}){return Sn("span",{class:"form__label__text",__self:this,__source:{fileName:Yi,lineNumber:233}},pe,Ae&&Sn("span",{class:"form__label__text--required",__self:this,__source:{fileName:Yi,lineNumber:235}},Ue))}n(lo,"LabelText");const Gi=16,ji=17,F="http://www.w3.org/2000/svg";function _e(){const pe=n(Xn=>m.document.createElementNS(F,Xn),"createElementNS"),Ae=re(pe("svg"),{width:`${Gi}`,height:`${ji}`,viewBox:`0 0 ${Gi} ${ji}`,fill:"inherit"}),Ue=re(pe("g"),{clipPath:"url(#clip0_57_156)"}),vt=re(pe("path"),{["fill-rule"]:"evenodd",["clip-rule"]:"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),Lt=re(pe("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});Ae.appendChild(Ue).append(Lt,vt);const xt=pe("defs"),Cn=re(pe("clipPath"),{id:"clip0_57_156"}),Nn=re(pe("rect"),{width:`${Gi}`,height:`${Gi}`,fill:"white",transform:"translate(0 0.5)"});return Cn.appendChild(Nn),xt.appendChild(Cn),Ae.appendChild(xt).appendChild(Cn).appendChild(Nn),Ae}n(_e,"SuccessIcon");const tt="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function zt({open:pe,onFormSubmitted:Ae,...Ue}){const vt=Ue.options,Lt=mn(()=>({__html:_e().outerHTML}),[]),[xt,Cn]=mi(null),Nn=Ui(()=>{xt&&(clearTimeout(xt),Cn(null)),Ae()},[xt]),Xn=Ui(Un=>{Ue.onSubmitSuccess(Un),Cn(setTimeout(()=>{Ae(),Cn(null)},w))},[Ae]);return Sn(lr,{__self:this,__source:{fileName:tt,lineNumber:47}},xt?Sn("div",{class:"success__position",onClick:Nn,__self:this,__source:{fileName:tt,lineNumber:49}},Sn("div",{class:"success__content",__self:this,__source:{fileName:tt,lineNumber:50}},vt.successMessageText,Sn("span",{class:"success__icon",dangerouslySetInnerHTML:Lt,__self:this,__source:{fileName:tt,lineNumber:52}}))):Sn("dialog",{class:"dialog",onClick:vt.onFormClose,open:pe,__self:this,__source:{fileName:tt,lineNumber:56}},Sn("div",{class:"dialog__position",__self:this,__source:{fileName:tt,lineNumber:57}},Sn("div",{class:"dialog__content",onClick:Un=>{Un.stopPropagation()},__self:this,__source:{fileName:tt,lineNumber:58}},Sn(cr,{options:vt,__self:this,__source:{fileName:tt,lineNumber:65}}),Sn(sr,{...Ue,onSubmitSuccess:Xn,__self:this,__source:{fileName:tt,lineNumber:66}})))))}n(zt,"Dialog");const gn=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}
`,Yn=`
.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}

.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,bi=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  width: var(--form-width, 272px);
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  flex: 1 0 auto;
}

@media (max-width: 600px) {
  .form__right {
    width: auto;
  }
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-foreground);
  fill: var(--error-foreground);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,ei=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,si=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Si(){const pe=p.createElement("style");return pe.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${gn}
${Yn}
${bi}
${ei}
${si}
`,pe}n(Si,"createDialogStyles");const Ai="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx";function tr(){const pe=d.getCurrentScope().getUser(),Ae=d.getIsolationScope().getUser(),Ue=d.getGlobalScope().getUser();return pe&&Object.keys(pe).length?pe:Ae&&Object.keys(Ae).length?Ae:Ue}n(tr,"getUser");const hr=n(()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:pe,screenshotIntegration:Ae,sendFeedback:Ue,shadow:vt})=>{const Lt=vt,xt=pe.useSentryUser,Cn=tr(),Nn=p.createElement("div"),Xn=Si();let Un="";const Ti={get el(){return Nn},appendToDom(){!Lt.contains(Xn)&&!Lt.contains(Nn)&&(Lt.appendChild(Xn),Lt.appendChild(Nn))},removeFromDom(){Lt.removeChild(Nn),Lt.removeChild(Xn)},open(){qi(!0),pe.onFormOpen&&pe.onFormOpen(),Un=p.body.style.overflow,p.body.style.overflow="hidden"},close(){qi(!1),p.body.style.overflow=Un}},Tn=Ae&&Ae.createInput(Sn,Ti,pe),qi=n(_i=>{Yt(Sn(zt,{options:pe,screenshotInput:Tn,showName:pe.showName||pe.isNameRequired,showEmail:pe.showEmail||pe.isEmailRequired,defaultName:xt&&Cn&&Cn[xt.name]||"",defaultEmail:xt&&Cn&&Cn[xt.email]||"",onFormClose:()=>{qi(!1),pe.onFormClose&&pe.onFormClose()},onSubmit:Ue,onSubmitSuccess:Nr=>{qi(!1),pe.onSubmitSuccess&&pe.onSubmitSuccess(Nr)},onSubmitError:Nr=>{pe.onSubmitError&&pe.onSubmitError(Nr)},onFormSubmitted:()=>{pe.onFormSubmitted&&pe.onFormSubmitted()},open:_i,__self:void 0,__source:{fileName:Ai,lineNumber:72}}),Nn)},"renderContent");return Ti}}),"feedbackModalIntegration");function Ar(){const pe=p.createElement("style"),Ae="#1A141F",Ue="#302735";return pe.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${Ae};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${Ae} 8px,
      ${Ae} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${Ue} 15px,
      ${Ue} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
}

.editor__canvas-container canvas {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,pe}n(Ar,"createScreenshotInputStyles");const co=n(({onBeforeScreenshot:pe,onScreenshot:Ae,onAfterScreenshot:Ue,onError:vt})=>{ti(()=>{n(async()=>{pe();const xt=await a.mediaDevices.getDisplayMedia({video:{width:m.innerWidth*m.devicePixelRatio,height:m.innerHeight*m.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),Cn=p.createElement("video");await new Promise((Nn,Xn)=>{Cn.srcObject=xt,Cn.onloadedmetadata=()=>{Ae(Cn),xt.getTracks().forEach(Un=>Un.stop()),Nn()},Cn.play().catch(Xn)}),Ue()},"takeScreenshot")().catch(vt)},[])},"useTakeScreenshot"),hi="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",$r=30,to=3,vi=$r+to,vn=m.devicePixelRatio,Oi=n(pe=>({x:Math.min(pe.startX,pe.endX),y:Math.min(pe.startY,pe.endY),width:Math.abs(pe.startX-pe.endX),height:Math.abs(pe.startY-pe.endY)}),"constructRect"),Zo=n(pe=>{const Ae=pe.clientHeight,Ue=pe.clientWidth,vt=pe.width/pe.height;let Lt=Ae*vt,xt=Ae;Lt>Ue&&(Lt=Ue,xt=Ue/vt);const Cn=(Ue-Lt)/2,Nn=(Ae-xt)/2;return{startX:Cn,startY:Nn,endX:Lt+Cn,endY:xt+Nn}},"getContainedSize");function uo({imageBuffer:pe,dialog:Ae,options:Ue}){return n(function({onError:Lt}){const xt=mn(()=>({__html:Ar().innerText}),[]),Cn=Zt(null),Nn=Zt(null),Xn=Zt(null),[Un,Ti]=mi({startX:0,startY:0,endX:0,endY:0}),[Tn,qi]=mi(!1);ti(()=>{m.addEventListener("resize",_i,!1)},[]);function _i(){const ki=Xn.current,Vi=Oi(Zo(pe));if(ki){ki.width=Vi.width*vn,ki.height=Vi.height*vn,ki.style.width=`${Vi.width}px`,ki.style.height=`${Vi.height}px`;const _r=ki.getContext("2d");_r&&_r.scale(vn,vn)}const Zi=Nn.current;Zi&&(Zi.style.width=`${Vi.width}px`,Zi.style.height=`${Vi.height}px`,Zi.style.left=`${Vi.x}px`,Zi.style.top=`${Vi.y}px`),Ti({startX:0,startY:0,endX:Vi.width,endY:Vi.height})}n(_i,"resizeCropper"),ti(()=>{const ki=Xn.current;if(!ki)return;const Vi=ki.getContext("2d");if(!Vi)return;const Zi=Oi(Zo(pe)),_r=Oi(Un);Vi.clearRect(0,0,Zi.width,Zi.height),Vi.fillStyle="rgba(0, 0, 0, 0.5)",Vi.fillRect(0,0,Zi.width,Zi.height),Vi.clearRect(_r.x,_r.y,_r.width,_r.height),Vi.strokeStyle="#ffffff",Vi.lineWidth=3,Vi.strokeRect(_r.x+1,_r.y+1,_r.width-2,_r.height-2),Vi.strokeStyle="#000000",Vi.lineWidth=1,Vi.strokeRect(_r.x+3,_r.y+3,_r.width-6,_r.height-6)},[Un]);function Nr(ki,Vi){qi(!1);const Zi=Ur(Vi),_r=n(()=>{p.removeEventListener("mousemove",Zi),p.removeEventListener("mouseup",_r),qi(!0)},"handleMouseUp");p.addEventListener("mouseup",_r),p.addEventListener("mousemove",Zi)}n(Nr,"onGrabButton");const Ur=Ui(ki=>function(Vi){if(!Xn.current)return;const Zi=Xn.current,_r=Zi.getBoundingClientRect(),Hr=Vi.clientX-_r.x,Eo=Vi.clientY-_r.y;switch(ki){case"top-left":Ti(er=>({...er,startX:Math.min(Math.max(0,Hr),er.endX-vi),startY:Math.min(Math.max(0,Eo),er.endY-vi)}));break;case"top-right":Ti(er=>({...er,endX:Math.max(Math.min(Hr,Zi.width/vn),er.startX+vi),startY:Math.min(Math.max(0,Eo),er.endY-vi)}));break;case"bottom-left":Ti(er=>({...er,startX:Math.min(Math.max(0,Hr),er.endX-vi),endY:Math.max(Math.min(Eo,Zi.height/vn),er.startY+vi)}));break;case"bottom-right":Ti(er=>({...er,endX:Math.max(Math.min(Hr,Zi.width/vn),er.startX+vi),endY:Math.max(Math.min(Eo,Zi.height/vn),er.startY+vi)}));break}},[]);function Gr(){const ki=p.createElement("canvas"),Vi=Oi(Zo(pe)),Zi=Oi(Un);ki.width=Zi.width,ki.height=Zi.height;const _r=ki.getContext("2d");_r&&pe&&_r.drawImage(pe,Zi.x/Vi.width*pe.width,Zi.y/Vi.height*pe.height,Zi.width/Vi.width*pe.width,Zi.height/Vi.height*pe.height,0,0,Zi.width,Zi.height);const Hr=pe.getContext("2d");Hr&&(Hr.clearRect(0,0,pe.width,pe.height),pe.width=ki.width,pe.height=ki.height,Hr.drawImage(ki,0,0),_i())}return n(Gr,"submit"),co({onBeforeScreenshot:Ui(()=>{Ae.el.style.display="none"},[]),onScreenshot:Ui(ki=>{const Vi=pe.getContext("2d");if(!Vi)throw new Error("Could not get canvas context");pe.width=ki.videoWidth,pe.height=ki.videoHeight,Vi.drawImage(ki,0,0)},[pe]),onAfterScreenshot:Ui(()=>{Ae.el.style.display="block";const ki=Cn.current;ki&&ki.appendChild(pe),_i()},[]),onError:Ui(ki=>{Ae.el.style.display="block",Lt(ki)},[])}),Sn("div",{class:"editor",__self:this,__source:{fileName:hi,lineNumber:249}},Sn("style",{dangerouslySetInnerHTML:xt,__self:this,__source:{fileName:hi,lineNumber:250}}),Sn("div",{class:"editor__canvas-container",ref:Cn,__self:this,__source:{fileName:hi,lineNumber:251}},Sn("div",{class:"editor__crop-container",style:{position:"absolute"},ref:Nn,__self:this,__source:{fileName:hi,lineNumber:252}},Sn("canvas",{style:{position:"absolute"},ref:Xn,__self:this,__source:{fileName:hi,lineNumber:253}}),Sn(Ko,{left:Un.startX-to,top:Un.startY-to,onGrabButton:Nr,corner:"top-left",__self:this,__source:{fileName:hi,lineNumber:254}}),Sn(Ko,{left:Un.endX-$r+to,top:Un.startY-to,onGrabButton:Nr,corner:"top-right",__self:this,__source:{fileName:hi,lineNumber:260}}),Sn(Ko,{left:Un.startX-to,top:Un.endY-$r+to,onGrabButton:Nr,corner:"bottom-left",__self:this,__source:{fileName:hi,lineNumber:266}}),Sn(Ko,{left:Un.endX-$r+to,top:Un.endY-$r+to,onGrabButton:Nr,corner:"bottom-right",__self:this,__source:{fileName:hi,lineNumber:272}}),Sn("div",{style:{left:Math.max(0,Un.endX-191),top:Math.max(0,Un.endY+8),display:Tn?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:hi,lineNumber:278}},Sn("button",{onClick:ki=>{ki.preventDefault(),Xn.current&&Ti({startX:0,startY:0,endX:Xn.current.width/vn,endY:Xn.current.height/vn}),qi(!1)},class:"btn btn--default",__self:this,__source:{fileName:hi,lineNumber:286}},Ue.cancelButtonLabel),Sn("button",{onClick:ki=>{ki.preventDefault(),Gr(),qi(!1)},class:"btn btn--primary",__self:this,__source:{fileName:hi,lineNumber:303}},Ue.confirmButtonLabel)))))},"ScreenshotEditor")}n(uo,"makeScreenshotEditorComponent");function Ko({top:pe,left:Ae,corner:Ue,onGrabButton:vt}){return Sn("button",{class:`editor__crop-corner editor__crop-corner--${Ue} `,style:{top:pe,left:Ae},onMouseDown:Lt=>{Lt.preventDefault(),vt(Lt,Ue)},onClick:Lt=>{Lt.preventDefault()},__self:this,__source:{fileName:hi,lineNumber:333}})}n(Ko,"CropCorner");const Ho=n(()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:(pe,Ae,Ue)=>{const vt=p.createElement("canvas");return{input:uo({h:pe,imageBuffer:vt,dialog:Ae,options:Ue}),value:async()=>{const Lt=await new Promise(xt=>{vt.toBlob(xt,"image/png")});if(Lt)return{data:new Uint8Array(await Lt.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),"feedbackScreenshotIntegration");l.buildFeedbackIntegration=ct,l.feedbackModalIntegration=hr,l.feedbackScreenshotIntegration=Ho,l.getFeedback=rt,l.sendFeedback=R},4947629935:(V,l,c)=>{var{_optionalChain:d}=c(7563271614);Object.defineProperty(l,"__esModule",{value:!0});const h=c(8482989710);var m;(function(Ye){Ye[Ye.Document=0]="Document",Ye[Ye.DocumentType=1]="DocumentType",Ye[Ye.Element=2]="Element",Ye[Ye.Text=3]="Text",Ye[Ye.CDATA=4]="CDATA",Ye[Ye.Comment=5]="Comment"})(m||(m={}));function p(Ye,Xe){for(let It=Ye.classList.length;It--;){const kt=Ye.classList[It];if(Xe.test(kt))return!0}return!1}n(p,"elementClassMatchesRegex");function a(Ye,Xe,It=1/0,kt=0){return!Ye||Ye.nodeType!==Ye.ELEMENT_NODE||kt>It?-1:Xe(Ye)?kt:a(Ye.parentNode,Xe,It,kt+1)}n(a,"distanceToMatch");function s(Ye,Xe){return It=>{const kt=It;if(kt===null)return!1;try{if(Ye){if(typeof Ye=="string"){if(kt.matches(`.${Ye}`))return!0}else if(p(kt,Ye))return!0}return!!(Xe&&kt.matches(Xe))}catch{return!1}}}n(s,"createMatchPredicate");const i=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let e={map:{},getId(){return console.error(i),-1},getNode(){return console.error(i),null},removeNodeFromMap(){console.error(i)},has(){return console.error(i),!1},reset(){console.error(i)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(e=new Proxy(e,{get(Ye,Xe,It){return Xe==="map"&&console.error(i),Reflect.get(Ye,Xe,It)}}));function t(Ye,Xe,It,kt,gt=window){const En=gt.Object.getOwnPropertyDescriptor(Ye,Xe);return gt.Object.defineProperty(Ye,Xe,kt?It:{set(pn){S(()=>{It.set.call(this,pn)},0),En&&En.set&&En.set.call(this,pn)}}),()=>t(Ye,Xe,En||{},!0)}n(t,"hookSetter");function r(Ye,Xe,It){try{if(!(Xe in Ye))return()=>{};const kt=Ye[Xe],gt=It(kt);return typeof gt=="function"&&(gt.prototype=gt.prototype||{},Object.defineProperties(gt,{__rrweb_original__:{enumerable:!1,value:kt}})),Ye[Xe]=gt,()=>{Ye[Xe]=kt}}catch{return()=>{}}}n(r,"patch"),/[1-9][0-9]{12}/.test(Date.now().toString());function o(Ye){return Ye?Ye.nodeType===Ye.ELEMENT_NODE?Ye:Ye.parentElement:null}n(o,"closestElementOfNode");function f(Ye,Xe,It,kt,gt){if(!Ye)return!1;const En=o(Ye);if(!En)return!1;const pn=s(Xe,It);if(!gt){const Qn=kt&&En.matches(kt);return pn(En)&&!Qn}const wn=a(En,pn);let zn=-1;return wn<0?!1:(kt&&(zn=a(En,s(null,kt))),wn>-1&&zn<0?!0:wn<zn)}n(f,"isBlocked");const g={};function v(Ye){const Xe=g[Ye];if(Xe)return Xe;const It=window.document;let kt=window[Ye];if(It&&typeof It.createElement=="function")try{const gt=It.createElement("iframe");gt.hidden=!0,It.head.appendChild(gt);const En=gt.contentWindow;En&&En[Ye]&&(kt=En[Ye]),It.head.removeChild(gt)}catch{}return g[Ye]=kt.bind(window)}n(v,"getImplementation");function u(...Ye){return v("requestAnimationFrame")(...Ye)}n(u,"onRequestAnimationFrame");function S(...Ye){return v("setTimeout")(...Ye)}n(S,"setTimeout");var _=(Ye=>(Ye[Ye["2D"]=0]="2D",Ye[Ye.WebGL=1]="WebGL",Ye[Ye.WebGL2=2]="WebGL2",Ye))(_||{});let b;function E(Ye){b=Ye}n(E,"registerErrorHandler");const T=n(Ye=>b?n((...It)=>{try{return Ye(...It)}catch(kt){if(b&&b(kt)===!0)return()=>{};throw kt}},"rrwebWrapped"):Ye,"callbackWrapper");for(var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=typeof Uint8Array>"u"?[]:new Uint8Array(256),w=0;w<I.length;w++)A[I.charCodeAt(w)]=w;var R=n(function(Ye){var Xe=new Uint8Array(Ye),It,kt=Xe.length,gt="";for(It=0;It<kt;It+=3)gt+=I[Xe[It]>>2],gt+=I[(Xe[It]&3)<<4|Xe[It+1]>>4],gt+=I[(Xe[It+1]&15)<<2|Xe[It+2]>>6],gt+=I[Xe[It+2]&63];return kt%3===2?gt=gt.substring(0,gt.length-1)+"=":kt%3===1&&(gt=gt.substring(0,gt.length-2)+"=="),gt},"encode");const P=new Map;function x(Ye,Xe){let It=P.get(Ye);return It||(It=new Map,P.set(Ye,It)),It.has(Xe)||It.set(Xe,[]),It.get(Xe)}n(x,"variableListFor");const z=n((Ye,Xe,It)=>{if(!Ye||!(ne(Ye,Xe)||typeof Ye=="object"))return;const kt=Ye.constructor.name,gt=x(It,kt);let En=gt.indexOf(Ye);return En===-1&&(En=gt.length,gt.push(Ye)),En},"saveWebGLVar");function Z(Ye,Xe,It){if(Ye instanceof Array)return Ye.map(kt=>Z(kt,Xe,It));if(Ye===null)return Ye;if(Ye instanceof Float32Array||Ye instanceof Float64Array||Ye instanceof Int32Array||Ye instanceof Uint32Array||Ye instanceof Uint8Array||Ye instanceof Uint16Array||Ye instanceof Int16Array||Ye instanceof Int8Array||Ye instanceof Uint8ClampedArray)return{rr_type:Ye.constructor.name,args:[Object.values(Ye)]};if(Ye instanceof ArrayBuffer){const kt=Ye.constructor.name,gt=R(Ye);return{rr_type:kt,base64:gt}}else{if(Ye instanceof DataView)return{rr_type:Ye.constructor.name,args:[Z(Ye.buffer,Xe,It),Ye.byteOffset,Ye.byteLength]};if(Ye instanceof HTMLImageElement){const kt=Ye.constructor.name,{src:gt}=Ye;return{rr_type:kt,src:gt}}else if(Ye instanceof HTMLCanvasElement){const kt="HTMLImageElement",gt=Ye.toDataURL();return{rr_type:kt,src:gt}}else{if(Ye instanceof ImageData)return{rr_type:Ye.constructor.name,args:[Z(Ye.data,Xe,It),Ye.width,Ye.height]};if(ne(Ye,Xe)||typeof Ye=="object"){const kt=Ye.constructor.name,gt=z(Ye,Xe,It);return{rr_type:kt,index:gt}}}}return Ye}n(Z,"serializeArg");const re=n((Ye,Xe,It)=>Ye.map(kt=>Z(kt,Xe,It)),"serializeArgs"),ne=n((Ye,Xe)=>{const kt=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(gt=>typeof Xe[gt]=="function");return Boolean(kt.find(gt=>Ye instanceof Xe[gt]))},"isInstanceOfWebGLObject");function he(Ye,Xe,It,kt,gt){const En=[],pn=Object.getOwnPropertyNames(Xe.CanvasRenderingContext2D.prototype);for(const wn of pn)try{if(typeof Xe.CanvasRenderingContext2D.prototype[wn]!="function")continue;const zn=r(Xe.CanvasRenderingContext2D.prototype,wn,function(Qn){return function(...Sn){return f(this.canvas,It,kt,gt,!0)||S(()=>{const Zn=re(Sn,Xe,this);Ye(this.canvas,{type:_["2D"],property:wn,args:Zn})},0),Qn.apply(this,Sn)}});En.push(zn)}catch{const Qn=t(Xe.CanvasRenderingContext2D.prototype,wn,{set(Sn){Ye(this.canvas,{type:_["2D"],property:wn,args:[Sn],setter:!0})}});En.push(Qn)}return()=>{En.forEach(wn=>wn())}}n(he,"initCanvas2DMutationObserver");function ge(Ye){return Ye==="experimental-webgl"?"webgl":Ye}n(ge,"getNormalizedContextName");function Pe(Ye,Xe,It,kt,gt){const En=[];try{const pn=r(Ye.HTMLCanvasElement.prototype,"getContext",function(wn){return function(zn,...Qn){if(!f(this,Xe,It,kt,!0)){const Sn=ge(zn);if("__context"in this||(this.__context=Sn),gt&&["webgl","webgl2"].includes(Sn))if(Qn[0]&&typeof Qn[0]=="object"){const Zn=Qn[0];Zn.preserveDrawingBuffer||(Zn.preserveDrawingBuffer=!0)}else Qn.splice(0,1,{preserveDrawingBuffer:!0})}return wn.apply(this,[zn,...Qn])}});En.push(pn)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{En.forEach(pn=>pn())}}n(Pe,"initCanvasContextObserver");function He(Ye,Xe,It,kt,gt,En,pn,wn){const zn=[],Qn=Object.getOwnPropertyNames(Ye);for(const Sn of Qn)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(Sn))try{if(typeof Ye[Sn]!="function")continue;const Zn=r(Ye,Sn,function(lr){return function(...ui){const fi=lr.apply(this,ui);if(z(fi,wn,this),"tagName"in this.canvas&&!f(this.canvas,kt,gt,En,!0)){const Vn=re(ui,wn,this),In={type:Xe,property:Sn,args:Vn};It(this.canvas,In)}return fi}});zn.push(Zn)}catch{const lr=t(Ye,Sn,{set(ui){It(this.canvas,{type:Xe,property:Sn,args:[ui],setter:!0})}});zn.push(lr)}return zn}n(He,"patchGLPrototype");function pt(Ye,Xe,It,kt,gt,En){const pn=[];return pn.push(...He(Xe.WebGLRenderingContext.prototype,_.WebGL,Ye,It,kt,gt,En,Xe)),typeof Xe.WebGL2RenderingContext<"u"&&pn.push(...He(Xe.WebGL2RenderingContext.prototype,_.WebGL2,Ye,It,kt,gt,En,Xe)),()=>{pn.forEach(wn=>wn())}}n(pt,"initCanvasWebGLMutationObserver");var Ht='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function Ke(){const Ye=new Blob([Ht]);return URL.createObjectURL(Ye)}n(Ke,"t");class it{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(Xe){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(Zn,lr)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(Zn)||this.pendingCanvasMutations.set(Zn,[]),this.pendingCanvasMutations.get(Zn).push(lr)};const{sampling:It="all",win:kt,blockClass:gt,blockSelector:En,unblockSelector:pn,maxCanvasSize:wn,recordCanvas:zn,dataURLOptions:Qn,errorHandler:Sn}=Xe;this.mutationCb=Xe.mutationCb,this.mirror=Xe.mirror,this.options=Xe,Sn&&E(Sn),!Xe.enableManualSnapshot&&T(()=>{zn&&It==="all"&&this.initCanvasMutationObserver(kt,gt,En,pn),zn&&typeof It=="number"&&this.initCanvasFPSObserver(It,kt,gt,En,pn,wn,{dataURLOptions:Qn})})()}initCanvasFPSObserver(Xe,It,kt,gt,En,pn,wn){const zn=Pe(It,kt,gt,En,!0),Qn=this.takeSnapshot(!1,Xe,It,kt,gt,En,pn,wn.dataURLOptions);this.resetObservers=()=>{zn(),cancelAnimationFrame(Qn)}}initCanvasMutationObserver(Xe,It,kt,gt){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const En=Pe(Xe,It,kt,gt,!1),pn=he(this.processMutation.bind(this),Xe,It,kt,gt),wn=pt(this.processMutation.bind(this),Xe,It,kt,gt,this.mirror);this.resetObservers=()=>{En(),pn(),wn()}}snapshot(Xe){const{options:It}=this,kt=this.takeSnapshot(!0,It.sampling==="all"?2:It.sampling||2,It.win,It.blockClass,It.blockSelector,It.unblockSelector,It.maxCanvasSize,It.dataURLOptions,Xe);this.resetObservers=()=>{cancelAnimationFrame(kt)}}takeSnapshot(Xe,It,kt,gt,En,pn,wn,zn,Qn){const Sn=new Map,Zn=new Worker(Ke());Zn.onmessage=wi=>{const _n=wi.data,{id:An}=_n;if(Sn.set(An,!1),!("base64"in _n))return;const{base64:sn,type:Q,width:lt,height:mt}=_n;this.mutationCb({id:An,type:_["2D"],commands:[{property:"clearRect",args:[0,0,lt,mt]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:sn}],type:Q}]},0,0,lt,mt]}]})};const lr=1e3/It;let ui=0,fi;const Vn=n(wi=>{if(wi)return[wi];const _n=[];return kt.document.querySelectorAll("canvas").forEach(An=>{f(An,gt,En,pn,!0)||_n.push(An)}),_n},"getCanvas"),In=n(wi=>{if(ui&&wi-ui<lr){fi=u(In);return}ui=wi,Vn(Qn).forEach(_n=>{const An=this.mirror.getId(_n);if(!Sn.get(An)&&!(!_n.width||!_n.height)){if(Sn.set(An,!0),!Xe&&["webgl","webgl2"].includes(_n.__context)){const sn=_n.getContext(_n.__context);d([sn,"optionalAccess",Q=>Q.getContextAttributes,"call",Q=>Q(),"optionalAccess",Q=>Q.preserveDrawingBuffer])===!1&&sn.clear(sn.COLOR_BUFFER_BIT)}createImageBitmap(_n).then(sn=>{Zn.postMessage({id:An,bitmap:sn,width:_n.width,height:_n.height,dataURLOptions:zn,maxCanvasSize:wn},[sn])}).catch(sn=>{T(()=>{throw sn})()})}}),fi=u(In)},"takeCanvasSnapshots");return fi=u(In),fi}startPendingCanvasMutationFlusher(){u(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const Xe=n(It=>{this.rafStamps.latestId=It,u(Xe)},"setLatestRAFTimestamp");u(Xe)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((Xe,It)=>{const kt=this.mirror.getId(It);this.flushPendingCanvasMutationFor(It,kt)}),u(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(Xe,It){if(this.frozen||this.locked)return;const kt=this.pendingCanvasMutations.get(Xe);if(!kt||It===-1)return;const gt=kt.map(pn=>{const{type:wn,...zn}=pn;return zn}),{type:En}=kt[0];this.mutationCb({id:It,type:En,commands:gt}),this.pendingCanvasMutations.delete(Xe)}}n(it,"CanvasManager");const ct={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},rt="ReplayCanvas",_t=1280,Gt=n((Ye={})=>{const[Xe,It]=Ye.maxCanvasSize||[],kt={quality:Ye.quality||"medium",enableManualSnapshot:Ye.enableManualSnapshot,maxCanvasSize:[Xe?Math.min(Xe,_t):_t,It?Math.min(It,_t):_t]};let gt;const En=new Promise(pn=>gt=pn);return{name:rt,getOptions(){const{quality:pn,enableManualSnapshot:wn,maxCanvasSize:zn}=kt;return{enableManualSnapshot:wn,recordCanvas:!0,getCanvasManager:Qn=>{const Sn=new it({...Qn,enableManualSnapshot:wn,maxCanvasSize:zn,errorHandler:Zn=>{try{typeof Zn=="object"&&(Zn.__rrweb__=!0)}catch{}}});return gt(Sn),Sn},...ct[pn||"medium"]||ct.medium}},async snapshot(pn){(await En).snapshot(pn)}}},"_replayCanvasIntegration"),Kt=h.defineIntegration(Gt);l.replayCanvasIntegration=Kt},6979168052:(V,l,c)=>{var{_nullishCoalesce:d,_optionalChain:h}=c(7563271614);Object.defineProperty(l,"__esModule",{value:!0});const m=c(8482989710),p=c(7563271614),a=c(3778408185),s=p.GLOBAL_OBJ,i="sentryReplaySession",e="replay_event",t="Unable to send Replay",r=3e5,o=9e5,f=5e3,g=5500,v=6e4,u=5e3,S=3,_=15e4,b=5e3,E=3e3,T=300,I=2e7,A=4999,w=15e3,R=36e5;function P(N,H){return N??H()}n(P,"_nullishCoalesce$1");function x(N){let H,$=N[0],ce=1;for(;ce<N.length;){const Oe=N[ce],$e=N[ce+1];if(ce+=2,(Oe==="optionalAccess"||Oe==="optionalCall")&&$==null)return;Oe==="access"||Oe==="optionalAccess"?(H=$,$=$e($)):(Oe==="call"||Oe==="optionalCall")&&($=$e((...Ct)=>$.call(H,...Ct)),H=void 0)}return $}n(x,"_optionalChain$5");var z;(function(N){N[N.Document=0]="Document",N[N.DocumentType=1]="DocumentType",N[N.Element=2]="Element",N[N.Text=3]="Text",N[N.CDATA=4]="CDATA",N[N.Comment=5]="Comment"})(z||(z={}));function Z(N){return N.nodeType===N.ELEMENT_NODE}n(Z,"isElement$1");function re(N){const H=x([N,"optionalAccess",$=>$.host]);return Boolean(x([H,"optionalAccess",$=>$.shadowRoot])===N)}n(re,"isShadowRoot");function ne(N){return Object.prototype.toString.call(N)==="[object ShadowRoot]"}n(ne,"isNativeShadowDom");function he(N){return N.includes(" background-clip: text;")&&!N.includes(" -webkit-background-clip: text;")&&(N=N.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),N}n(he,"fixBrowserCompatibilityIssuesInCSS");function ge(N){const{cssText:H}=N;if(H.split('"').length<3)return H;const $=["@import",`url(${JSON.stringify(N.href)})`];return N.layerName===""?$.push("layer"):N.layerName&&$.push(`layer(${N.layerName})`),N.supportsText&&$.push(`supports(${N.supportsText})`),N.media.length&&$.push(N.media.mediaText),$.join(" ")+";"}n(ge,"escapeImportStatement");function Pe(N){try{const H=N.rules||N.cssRules;return H?he(Array.from(H,He).join("")):null}catch{return null}}n(Pe,"stringifyStylesheet");function He(N){let H;if(Ht(N))try{H=Pe(N.styleSheet)||ge(N)}catch{}else if(Ke(N)&&N.selectorText.includes(":"))return pt(N.cssText);return H||N.cssText}n(He,"stringifyRule");function pt(N){const H=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return N.replace(H,"$1\\$2")}n(pt,"fixSafariColons");function Ht(N){return"styleSheet"in N}n(Ht,"isCSSImportRule");function Ke(N){return"selectorText"in N}n(Ke,"isCSSStyleRule");class it{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(H){if(!H)return-1;const $=x([this,"access",ce=>ce.getMeta,"call",ce=>ce(H),"optionalAccess",ce=>ce.id]);return P($,()=>-1)}getNode(H){return this.idNodeMap.get(H)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(H){return this.nodeMetaMap.get(H)||null}removeNodeFromMap(H){const $=this.getId(H);this.idNodeMap.delete($),H.childNodes&&H.childNodes.forEach(ce=>this.removeNodeFromMap(ce))}has(H){return this.idNodeMap.has(H)}hasNode(H){return this.nodeMetaMap.has(H)}add(H,$){const ce=$.id;this.idNodeMap.set(ce,H),this.nodeMetaMap.set(H,$)}replace(H,$){const ce=this.getNode(H);if(ce){const Oe=this.nodeMetaMap.get(ce);Oe&&this.nodeMetaMap.set($,Oe)}this.idNodeMap.set(H,$)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}n(it,"Mirror");function ct(){return new it}n(ct,"createMirror");function rt({maskInputOptions:N,tagName:H,type:$}){return H==="OPTION"&&(H="SELECT"),Boolean(N[H.toLowerCase()]||$&&N[$]||$==="password"||H==="INPUT"&&!$&&N.text)}n(rt,"shouldMaskInput");function _t({isMasked:N,element:H,value:$,maskInputFn:ce}){let Oe=$||"";return N?(ce&&(Oe=ce(Oe,H)),"*".repeat(Oe.length)):Oe}n(_t,"maskInputValue");function Gt(N){return N.toLowerCase()}n(Gt,"toLowerCase");function Kt(N){return N.toUpperCase()}n(Kt,"toUpperCase");const Ye="__rrweb_original__";function Xe(N){const H=N.getContext("2d");if(!H)return!0;const $=50;for(let ce=0;ce<N.width;ce+=$)for(let Oe=0;Oe<N.height;Oe+=$){const $e=H.getImageData,Ct=Ye in $e?$e[Ye]:$e;if(new Uint32Array(Ct.call(H,ce,Oe,Math.min($,N.width-ce),Math.min($,N.height-Oe)).data.buffer).some(Ft=>Ft!==0))return!1}return!0}n(Xe,"is2DCanvasBlank");function It(N){const H=N.type;return N.hasAttribute("data-rr-is-password")?"password":H?Gt(H):null}n(It,"getInputType");function kt(N,H,$){return H==="INPUT"&&($==="radio"||$==="checkbox")?N.getAttribute("value")||"":N.value}n(kt,"getInputValue");let gt=1;const En=new RegExp("[^a-z0-9-_:]"),pn=-2;function wn(){return gt++}n(wn,"genId");function zn(N){if(N instanceof HTMLFormElement)return"form";const H=Gt(N.tagName);return En.test(H)?"div":H}n(zn,"getValidTagName");function Qn(N){let H="";return N.indexOf("//")>-1?H=N.split("/").slice(0,3).join("/"):H=N.split("/")[0],H=H.split("?")[0],H}n(Qn,"extractOrigin");let Sn,Zn;const lr=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ui=/^(?:[a-z+]+:)?\/\//i,fi=/^www\..*/i,Vn=/^(data:)([^,]*),(.*)/i;function In(N,H){return(N||"").replace(lr,($,ce,Oe,$e,Ct,jt)=>{const Ft=Oe||Ct||jt,fn=ce||$e||"";if(!Ft)return $;if(ui.test(Ft)||fi.test(Ft))return`url(${fn}${Ft}${fn})`;if(Vn.test(Ft))return`url(${fn}${Ft}${fn})`;if(Ft[0]==="/")return`url(${fn}${Qn(H)+Ft}${fn})`;const en=H.split("/"),Rn=Ft.split("/");en.pop();for(const Wn of Rn)Wn!=="."&&(Wn===".."?en.pop():en.push(Wn));return`url(${fn}${en.join("/")}${fn})`})}n(In,"absoluteToStylesheet");const wi=/^[^ \t\n\r\u000c]+/,_n=/^[, \t\n\r\u000c]+/;function An(N,H){if(H.trim()==="")return H;let $=0;function ce($e){let Ct;const jt=$e.exec(H.substring($));return jt?(Ct=jt[0],$+=Ct.length,Ct):""}n(ce,"collectCharacters");const Oe=[];for(;ce(_n),!($>=H.length);){let $e=ce(wi);if($e.slice(-1)===",")$e=sn(N,$e.substring(0,$e.length-1)),Oe.push($e);else{let Ct="";$e=sn(N,$e);let jt=!1;for(;;){const Ft=H.charAt($);if(Ft===""){Oe.push(($e+Ct).trim());break}else if(jt)Ft===")"&&(jt=!1);else if(Ft===","){$+=1,Oe.push(($e+Ct).trim());break}else Ft==="("&&(jt=!0);Ct+=Ft,$+=1}}}return Oe.join(", ")}n(An,"getAbsoluteSrcsetString");function sn(N,H){if(!H||H.trim()==="")return H;const $=N.createElement("a");return $.href=H,$.href}n(sn,"absoluteToDoc");function Q(N){return Boolean(N.tagName==="svg"||N.ownerSVGElement)}n(Q,"isSVGElement");function lt(){const N=document.createElement("a");return N.href="",N.href}n(lt,"getHref");function mt(N,H,$,ce,Oe,$e){return ce&&($==="src"||$==="href"&&!(H==="use"&&ce[0]==="#")||$==="xlink:href"&&ce[0]!=="#"||$==="background"&&(H==="table"||H==="td"||H==="th")?sn(N,ce):$==="srcset"?An(N,ce):$==="style"?In(ce,lt()):H==="object"&&$==="data"?sn(N,ce):typeof $e=="function"?$e($,ce,Oe):ce)}n(mt,"transformAttribute");function bt(N,H,$){return(N==="video"||N==="audio")&&H==="autoplay"}n(bt,"ignoreAttribute");function At(N,H,$,ce){try{if(ce&&N.matches(ce))return!1;if(typeof H=="string"){if(N.classList.contains(H))return!0}else for(let Oe=N.classList.length;Oe--;){const $e=N.classList[Oe];if(H.test($e))return!0}if($)return N.matches($)}catch{}return!1}n(At,"_isBlockedElement");function Wt(N,H){for(let $=N.classList.length;$--;){const ce=N.classList[$];if(H.test(ce))return!0}return!1}n(Wt,"elementClassMatchesRegex");function we(N,H,$=1/0,ce=0){return!N||N.nodeType!==N.ELEMENT_NODE||ce>$?-1:H(N)?ce:we(N.parentNode,H,$,ce+1)}n(we,"distanceToMatch");function ht(N,H){return $=>{const ce=$;if(ce===null)return!1;try{if(N){if(typeof N=="string"){if(ce.matches(`.${N}`))return!0}else if(Wt(ce,N))return!0}return!!(H&&ce.matches(H))}catch{return!1}}}n(ht,"createMatchPredicate");function K(N,H,$,ce,Oe,$e){try{const Ct=N.nodeType===N.ELEMENT_NODE?N:N.parentElement;if(Ct===null)return!1;if(Ct.tagName==="INPUT"){const fn=Ct.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(fn))return!0}let jt=-1,Ft=-1;if($e){if(Ft=we(Ct,ht(ce,Oe)),Ft<0)return!0;jt=we(Ct,ht(H,$),Ft>=0?Ft:1/0)}else{if(jt=we(Ct,ht(H,$)),jt<0)return!1;Ft=we(Ct,ht(ce,Oe),jt>=0?jt:1/0)}return jt>=0?Ft>=0?jt<=Ft:!0:Ft>=0?!1:!!$e}catch{}return!!$e}n(K,"needMaskingText");function se(N,H,$){const ce=N.contentWindow;if(!ce)return;let Oe=!1,$e;try{$e=ce.document.readyState}catch{return}if($e!=="complete"){const jt=setTimeout(()=>{Oe||(H(),Oe=!0)},$);N.addEventListener("load",()=>{clearTimeout(jt),Oe=!0,H()});return}const Ct="about:blank";if(ce.location.href!==Ct||N.src===Ct||N.src==="")return setTimeout(H,0),N.addEventListener("load",H);N.addEventListener("load",H)}n(se,"onceIframeLoaded");function Ve(N,H,$){let ce=!1,Oe;try{Oe=N.sheet}catch{return}if(Oe)return;const $e=setTimeout(()=>{ce||(H(),ce=!0)},$);N.addEventListener("load",()=>{clearTimeout($e),ce=!0,H()})}n(Ve,"onceStylesheetLoaded");function Be(N,H){const{doc:$,mirror:ce,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,maskAllText:jt,maskAttributeFn:Ft,maskTextClass:fn,unmaskTextClass:en,maskTextSelector:Rn,unmaskTextSelector:Wn,inlineStylesheet:li,maskInputOptions:Ci={},maskTextFn:Ki,maskInputFn:gr,dataURLOptions:or={},inlineImages:Wr,recordCanvas:so,keepIframeSrcFn:mo,newlyAddedElement:zo=!1}=H,Lr=Yt($,ce);switch(N.nodeType){case N.DOCUMENT_NODE:return N.compatMode!=="CSS1Compat"?{type:z.Document,childNodes:[],compatMode:N.compatMode}:{type:z.Document,childNodes:[]};case N.DOCUMENT_TYPE_NODE:return{type:z.DocumentType,name:N.name,publicId:N.publicId,systemId:N.systemId,rootId:Lr};case N.ELEMENT_NODE:return Bt(N,{doc:$,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,inlineStylesheet:li,maskAttributeFn:Ft,maskInputOptions:Ci,maskInputFn:gr,dataURLOptions:or,inlineImages:Wr,recordCanvas:so,keepIframeSrcFn:mo,newlyAddedElement:zo,rootId:Lr,maskAllText:jt,maskTextClass:fn,unmaskTextClass:en,maskTextSelector:Rn,unmaskTextSelector:Wn});case N.TEXT_NODE:return yt(N,{maskAllText:jt,maskTextClass:fn,unmaskTextClass:en,maskTextSelector:Rn,unmaskTextSelector:Wn,maskTextFn:Ki,maskInputOptions:Ci,maskInputFn:gr,rootId:Lr});case N.CDATA_SECTION_NODE:return{type:z.CDATA,textContent:"",rootId:Lr};case N.COMMENT_NODE:return{type:z.Comment,textContent:N.textContent||"",rootId:Lr};default:return!1}}n(Be,"serializeNode");function Yt(N,H){if(!H.hasNode(N))return;const $=H.getId(N);return $===1?void 0:$}n(Yt,"getRootId");function yt(N,H){const{maskAllText:$,maskTextClass:ce,unmaskTextClass:Oe,maskTextSelector:$e,unmaskTextSelector:Ct,maskTextFn:jt,maskInputOptions:Ft,maskInputFn:fn,rootId:en}=H,Rn=N.parentNode&&N.parentNode.tagName;let Wn=N.textContent;const li=Rn==="STYLE"?!0:void 0,Ci=Rn==="SCRIPT"?!0:void 0,Ki=Rn==="TEXTAREA"?!0:void 0;if(li&&Wn){try{N.nextSibling||N.previousSibling||x([N,"access",or=>or.parentNode,"access",or=>or.sheet,"optionalAccess",or=>or.cssRules])&&(Wn=Pe(N.parentNode.sheet))}catch(or){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${or}`,N)}Wn=In(Wn,lt())}Ci&&(Wn="SCRIPT_PLACEHOLDER");const gr=K(N,ce,$e,Oe,Ct,$);if(!li&&!Ci&&!Ki&&Wn&&gr&&(Wn=jt?jt(Wn,N.parentElement):Wn.replace(/[\S]/g,"*")),Ki&&Wn&&(Ft.textarea||gr)&&(Wn=fn?fn(Wn,N.parentNode):Wn.replace(/[\S]/g,"*")),Rn==="OPTION"&&Wn){const or=rt({type:null,tagName:Rn,maskInputOptions:Ft});Wn=_t({isMasked:K(N,ce,$e,Oe,Ct,or),element:N,value:Wn,maskInputFn:fn})}return{type:z.Text,textContent:Wn||"",isStyle:li,rootId:en}}n(yt,"serializeTextNode");function Bt(N,H){const{doc:$,blockClass:ce,blockSelector:Oe,unblockSelector:$e,inlineStylesheet:Ct,maskInputOptions:jt={},maskAttributeFn:Ft,maskInputFn:fn,dataURLOptions:en={},inlineImages:Rn,recordCanvas:Wn,keepIframeSrcFn:li,newlyAddedElement:Ci=!1,rootId:Ki,maskAllText:gr,maskTextClass:or,unmaskTextClass:Wr,maskTextSelector:so,unmaskTextSelector:mo}=H,zo=At(N,ce,Oe,$e),Lr=zn(N);let nr={};const Zr=N.attributes.length;for(let ir=0;ir<Zr;ir++){const zr=N.attributes[ir];zr.name&&!bt(Lr,zr.name,zr.value)&&(nr[zr.name]=mt($,Lr,Gt(zr.name),zr.value,N,Ft))}if(Lr==="link"&&Ct){const ir=Array.from($.styleSheets).find(ko=>ko.href===N.href);let zr=null;ir&&(zr=Pe(ir)),zr&&(delete nr.rel,delete nr.href,nr._cssText=In(zr,ir.href))}if(Lr==="style"&&N.sheet&&!(N.innerText||N.textContent||"").trim().length){const ir=Pe(N.sheet);ir&&(nr._cssText=In(ir,lt()))}if(Lr==="input"||Lr==="textarea"||Lr==="select"||Lr==="option"){const ir=N,zr=It(ir),ko=kt(ir,Kt(Lr),zr),us=ir.checked;if(zr!=="submit"&&zr!=="button"&&ko){const as=K(ir,or,so,Wr,mo,rt({type:zr,tagName:Kt(Lr),maskInputOptions:jt}));nr.value=_t({isMasked:as,element:ir,value:ko,maskInputFn:fn})}us&&(nr.checked=us)}if(Lr==="option"&&(N.selected&&!jt.select?nr.selected=!0:delete nr.selected),Lr==="canvas"&&Wn){if(N.__context==="2d")Xe(N)||(nr.rr_dataURL=N.toDataURL(en.type,en.quality));else if(!("__context"in N)){const ir=N.toDataURL(en.type,en.quality),zr=document.createElement("canvas");zr.width=N.width,zr.height=N.height;const ko=zr.toDataURL(en.type,en.quality);ir!==ko&&(nr.rr_dataURL=ir)}}if(Lr==="img"&&Rn){Sn||(Sn=$.createElement("canvas"),Zn=Sn.getContext("2d"));const ir=N,zr=ir.crossOrigin;ir.crossOrigin="anonymous";const ko=n(()=>{ir.removeEventListener("load",ko);try{Sn.width=ir.naturalWidth,Sn.height=ir.naturalHeight,Zn.drawImage(ir,0,0),nr.rr_dataURL=Sn.toDataURL(en.type,en.quality)}catch(us){console.warn(`Cannot inline img src=${ir.currentSrc}! Error: ${us}`)}zr?nr.crossOrigin=zr:ir.removeAttribute("crossorigin")},"recordInlineImage");ir.complete&&ir.naturalWidth!==0?ko():ir.addEventListener("load",ko)}if((Lr==="audio"||Lr==="video")&&(nr.rr_mediaState=N.paused?"paused":"played",nr.rr_mediaCurrentTime=N.currentTime),Ci||(N.scrollLeft&&(nr.rr_scrollLeft=N.scrollLeft),N.scrollTop&&(nr.rr_scrollTop=N.scrollTop)),zo){const{width:ir,height:zr}=N.getBoundingClientRect();nr={class:nr.class,rr_width:`${ir}px`,rr_height:`${zr}px`}}Lr==="iframe"&&!li(nr.src)&&(N.contentDocument||(nr.rr_src=nr.src),delete nr.src);let ns;try{customElements.get(Lr)&&(ns=!0)}catch{}return{type:z.Element,tagName:Lr,attributes:nr,childNodes:[],isSVG:Q(N)||void 0,needBlock:zo,rootId:Ki,isCustom:ns}}n(Bt,"serializeElementNode");function ke(N){return N==null?"":N.toLowerCase()}n(ke,"lowerIfExists");function Je(N,H){if(H.comment&&N.type===z.Comment)return!0;if(N.type===z.Element){if(H.script&&(N.tagName==="script"||N.tagName==="link"&&(N.attributes.rel==="preload"||N.attributes.rel==="modulepreload")&&N.attributes.as==="script"||N.tagName==="link"&&N.attributes.rel==="prefetch"&&typeof N.attributes.href=="string"&&N.attributes.href.endsWith(".js")))return!0;if(H.headFavicon&&(N.tagName==="link"&&N.attributes.rel==="shortcut icon"||N.tagName==="meta"&&(ke(N.attributes.name).match(/^msapplication-tile(image|color)$/)||ke(N.attributes.name)==="application-name"||ke(N.attributes.rel)==="icon"||ke(N.attributes.rel)==="apple-touch-icon"||ke(N.attributes.rel)==="shortcut icon")))return!0;if(N.tagName==="meta"){if(H.headMetaDescKeywords&&ke(N.attributes.name).match(/^description|keywords$/))return!0;if(H.headMetaSocial&&(ke(N.attributes.property).match(/^(og|twitter|fb):/)||ke(N.attributes.name).match(/^(og|twitter):/)||ke(N.attributes.name)==="pinterest"))return!0;if(H.headMetaRobots&&(ke(N.attributes.name)==="robots"||ke(N.attributes.name)==="googlebot"||ke(N.attributes.name)==="bingbot"))return!0;if(H.headMetaHttpEquiv&&N.attributes["http-equiv"]!==void 0)return!0;if(H.headMetaAuthorship&&(ke(N.attributes.name)==="author"||ke(N.attributes.name)==="generator"||ke(N.attributes.name)==="framework"||ke(N.attributes.name)==="publisher"||ke(N.attributes.name)==="progid"||ke(N.attributes.property).match(/^article:/)||ke(N.attributes.property).match(/^product:/)))return!0;if(H.headMetaVerification&&(ke(N.attributes.name)==="google-site-verification"||ke(N.attributes.name)==="yandex-verification"||ke(N.attributes.name)==="csrf-token"||ke(N.attributes.name)==="p:domain_verify"||ke(N.attributes.name)==="verify-v1"||ke(N.attributes.name)==="verification"||ke(N.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}n(Je,"slimDOMExcluded");function B(N,H){const{doc:$,mirror:ce,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,maskAllText:jt,maskTextClass:Ft,unmaskTextClass:fn,maskTextSelector:en,unmaskTextSelector:Rn,skipChild:Wn=!1,inlineStylesheet:li=!0,maskInputOptions:Ci={},maskAttributeFn:Ki,maskTextFn:gr,maskInputFn:or,slimDOMOptions:Wr,dataURLOptions:so={},inlineImages:mo=!1,recordCanvas:zo=!1,onSerialize:Lr,onIframeLoad:nr,iframeLoadTimeout:Zr=5e3,onStylesheetLoad:ns,stylesheetLoadTimeout:ir=5e3,keepIframeSrcFn:zr=n(()=>!1,"keepIframeSrcFn"),newlyAddedElement:ko=!1}=H;let{preserveWhiteSpace:us=!0}=H;const as=Be(N,{doc:$,mirror:ce,blockClass:Oe,blockSelector:$e,maskAllText:jt,unblockSelector:Ct,maskTextClass:Ft,unmaskTextClass:fn,maskTextSelector:en,unmaskTextSelector:Rn,inlineStylesheet:li,maskInputOptions:Ci,maskAttributeFn:Ki,maskTextFn:gr,maskInputFn:or,dataURLOptions:so,inlineImages:mo,recordCanvas:zo,keepIframeSrcFn:zr,newlyAddedElement:ko});if(!as)return console.warn(N,"not serialized"),null;let Ps;ce.hasNode(N)?Ps=ce.getId(N):Je(as,Wr)||!us&&as.type===z.Text&&!as.isStyle&&!as.textContent.replace(/^\s+|\s+$/gm,"").length?Ps=pn:Ps=wn();const Do=Object.assign(as,{id:Ps});if(ce.add(N,Do),Ps===pn)return null;Lr&&Lr(N);let zs=!Wn;if(Do.type===z.Element){zs=zs&&!Do.needBlock,delete Do.needBlock;const ls=N.shadowRoot;ls&&ne(ls)&&(Do.isShadowHost=!0)}if((Do.type===z.Document||Do.type===z.Element)&&zs){Wr.headWhitespace&&Do.type===z.Element&&Do.tagName==="head"&&(us=!1);const ls={doc:$,mirror:ce,blockClass:Oe,blockSelector:$e,maskAllText:jt,unblockSelector:Ct,maskTextClass:Ft,unmaskTextClass:fn,maskTextSelector:en,unmaskTextSelector:Rn,skipChild:Wn,inlineStylesheet:li,maskInputOptions:Ci,maskAttributeFn:Ki,maskTextFn:gr,maskInputFn:or,slimDOMOptions:Wr,dataURLOptions:so,inlineImages:mo,recordCanvas:zo,preserveWhiteSpace:us,onSerialize:Lr,onIframeLoad:nr,iframeLoadTimeout:Zr,onStylesheetLoad:ns,stylesheetLoadTimeout:ir,keepIframeSrcFn:zr};for(const la of Array.from(N.childNodes)){const Ia=B(la,ls);Ia&&Do.childNodes.push(Ia)}if(Z(N)&&N.shadowRoot)for(const la of Array.from(N.shadowRoot.childNodes)){const Ia=B(la,ls);Ia&&(ne(N.shadowRoot)&&(Ia.isShadow=!0),Do.childNodes.push(Ia))}}return N.parentNode&&re(N.parentNode)&&ne(N.parentNode)&&(Do.isShadow=!0),Do.type===z.Element&&Do.tagName==="iframe"&&se(N,()=>{const ls=N.contentDocument;if(ls&&nr){const la=B(ls,{doc:ls,mirror:ce,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,maskAllText:jt,maskTextClass:Ft,unmaskTextClass:fn,maskTextSelector:en,unmaskTextSelector:Rn,skipChild:!1,inlineStylesheet:li,maskInputOptions:Ci,maskAttributeFn:Ki,maskTextFn:gr,maskInputFn:or,slimDOMOptions:Wr,dataURLOptions:so,inlineImages:mo,recordCanvas:zo,preserveWhiteSpace:us,onSerialize:Lr,onIframeLoad:nr,iframeLoadTimeout:Zr,onStylesheetLoad:ns,stylesheetLoadTimeout:ir,keepIframeSrcFn:zr});la&&nr(N,la)}},Zr),Do.type===z.Element&&Do.tagName==="link"&&Do.attributes.rel==="stylesheet"&&Ve(N,()=>{if(ns){const ls=B(N,{doc:$,mirror:ce,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,maskAllText:jt,maskTextClass:Ft,unmaskTextClass:fn,maskTextSelector:en,unmaskTextSelector:Rn,skipChild:!1,inlineStylesheet:li,maskInputOptions:Ci,maskAttributeFn:Ki,maskTextFn:gr,maskInputFn:or,slimDOMOptions:Wr,dataURLOptions:so,inlineImages:mo,recordCanvas:zo,preserveWhiteSpace:us,onSerialize:Lr,onIframeLoad:nr,iframeLoadTimeout:Zr,onStylesheetLoad:ns,stylesheetLoadTimeout:ir,keepIframeSrcFn:zr});ls&&ns(N,ls)}},ir),Do}n(B,"serializeNodeWithId");function Fe(N,H){const{mirror:$=new it,blockClass:ce="rr-block",blockSelector:Oe=null,unblockSelector:$e=null,maskAllText:Ct=!1,maskTextClass:jt="rr-mask",unmaskTextClass:Ft=null,maskTextSelector:fn=null,unmaskTextSelector:en=null,inlineStylesheet:Rn=!0,inlineImages:Wn=!1,recordCanvas:li=!1,maskAllInputs:Ci=!1,maskAttributeFn:Ki,maskTextFn:gr,maskInputFn:or,slimDOM:Wr=!1,dataURLOptions:so,preserveWhiteSpace:mo,onSerialize:zo,onIframeLoad:Lr,iframeLoadTimeout:nr,onStylesheetLoad:Zr,stylesheetLoadTimeout:ns,keepIframeSrcFn:ir=n(()=>!1,"keepIframeSrcFn")}=H||{};return B(N,{doc:N,mirror:$,blockClass:ce,blockSelector:Oe,unblockSelector:$e,maskAllText:Ct,maskTextClass:jt,unmaskTextClass:Ft,maskTextSelector:fn,unmaskTextSelector:en,skipChild:!1,inlineStylesheet:Rn,maskInputOptions:Ci===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:Ci===!1?{}:Ci,maskAttributeFn:Ki,maskTextFn:gr,maskInputFn:or,slimDOMOptions:Wr===!0||Wr==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:Wr==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:Wr===!1?{}:Wr,dataURLOptions:so,inlineImages:Wn,recordCanvas:li,preserveWhiteSpace:mo,onSerialize:zo,onIframeLoad:Lr,iframeLoadTimeout:nr,onStylesheetLoad:Zr,stylesheetLoadTimeout:ns,keepIframeSrcFn:ir,newlyAddedElement:!1})}n(Fe,"snapshot");function fe(N){let H,$=N[0],ce=1;for(;ce<N.length;){const Oe=N[ce],$e=N[ce+1];if(ce+=2,(Oe==="optionalAccess"||Oe==="optionalCall")&&$==null)return;Oe==="access"||Oe==="optionalAccess"?(H=$,$=$e($)):(Oe==="call"||Oe==="optionalCall")&&($=$e((...Ct)=>$.call(H,...Ct)),H=void 0)}return $}n(fe,"_optionalChain$4");function ve(N,H,$=document){const ce={capture:!0,passive:!0};return $.addEventListener(N,H,ce),()=>$.removeEventListener(N,H,ce)}n(ve,"on");const ee=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Et={map:{},getId(){return console.error(ee),-1},getNode(){return console.error(ee),null},removeNodeFromMap(){console.error(ee)},has(){return console.error(ee),!1},reset(){console.error(ee)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Et=new Proxy(Et,{get(N,H,$){return H==="map"&&console.error(ee),Reflect.get(N,H,$)}}));function Ne(N,H,$={}){let ce=null,Oe=0;return function(...$e){const Ct=Date.now();!Oe&&$.leading===!1&&(Oe=Ct);const jt=H-(Ct-Oe),Ft=this;jt<=0||jt>H?(ce&&(lo(ce),ce=null),Oe=Ct,N.apply(Ft,$e)):!ce&&$.trailing!==!1&&(ce=sr(()=>{Oe=$.leading===!1?0:Date.now(),ce=null,N.apply(Ft,$e)},jt))}}n(Ne,"throttle$1");function st(N,H,$,ce,Oe=window){const $e=Oe.Object.getOwnPropertyDescriptor(N,H);return Oe.Object.defineProperty(N,H,ce?$:{set(Ct){sr(()=>{$.set.call(this,Ct)},0),$e&&$e.set&&$e.set.call(this,Ct)}}),()=>st(N,H,$e||{},!0)}n(st,"hookSetter");function on(N,H,$){try{if(!(H in N))return()=>{};const ce=N[H],Oe=$(ce);return typeof Oe=="function"&&(Oe.prototype=Oe.prototype||{},Object.defineProperties(Oe,{__rrweb_original__:{enumerable:!1,value:ce}})),N[H]=Oe,()=>{N[H]=ce}}catch{return()=>{}}}n(on,"patch");let $t=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||($t=n(()=>new Date().getTime(),"nowTimestamp"));function yi(N){const H=N.document;return{left:H.scrollingElement?H.scrollingElement.scrollLeft:N.pageXOffset!==void 0?N.pageXOffset:fe([H,"optionalAccess",$=>$.documentElement,"access",$=>$.scrollLeft])||fe([H,"optionalAccess",$=>$.body,"optionalAccess",$=>$.parentElement,"optionalAccess",$=>$.scrollLeft])||fe([H,"optionalAccess",$=>$.body,"optionalAccess",$=>$.scrollLeft])||0,top:H.scrollingElement?H.scrollingElement.scrollTop:N.pageYOffset!==void 0?N.pageYOffset:fe([H,"optionalAccess",$=>$.documentElement,"access",$=>$.scrollTop])||fe([H,"optionalAccess",$=>$.body,"optionalAccess",$=>$.parentElement,"optionalAccess",$=>$.scrollTop])||fe([H,"optionalAccess",$=>$.body,"optionalAccess",$=>$.scrollTop])||0}}n(yi,"getWindowScroll");function mi(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}n(mi,"getWindowHeight");function ri(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}n(ri,"getWindowWidth");function ti(N){return N?N.nodeType===N.ELEMENT_NODE?N:N.parentElement:null}n(ti,"closestElementOfNode");function Zt(N,H,$,ce,Oe){if(!N)return!1;const $e=ti(N);if(!$e)return!1;const Ct=ht(H,$);if(!Oe){const fn=ce&&$e.matches(ce);return Ct($e)&&!fn}const jt=we($e,Ct);let Ft=-1;return jt<0?!1:(ce&&(Ft=we($e,ht(null,ce))),jt>-1&&Ft<0?!0:jt<Ft)}n(Zt,"isBlocked");function mn(N,H){return H.getId(N)!==-1}n(mn,"isSerialized");function Ui(N,H){return H.getId(N)===pn}n(Ui,"isIgnored");function Er(N,H){if(re(N))return!1;const $=H.getId(N);return H.has($)?N.parentNode&&N.parentNode.nodeType===N.DOCUMENT_NODE?!1:N.parentNode?Er(N.parentNode,H):!0:!0}n(Er,"isAncestorRemoved");function Dn(N){return Boolean(N.changedTouches)}n(Dn,"legacy_isTouchEvent");function nn(N=window){"NodeList"in N&&!N.NodeList.prototype.forEach&&(N.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in N&&!N.DOMTokenList.prototype.forEach&&(N.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...H)=>{let $=H[0];if(!(0 in H))throw new TypeError("1 argument is required");do if(this===$)return!0;while($=$&&$.parentNode);return!1})}n(nn,"polyfill");function ni(N,H){return Boolean(N.nodeName==="IFRAME"&&H.getMeta(N))}n(ni,"isSerializedIframe");function oi(N,H){return Boolean(N.nodeName==="LINK"&&N.nodeType===N.ELEMENT_NODE&&N.getAttribute&&N.getAttribute("rel")==="stylesheet"&&H.getMeta(N))}n(oi,"isSerializedStylesheet");function Ji(N){return Boolean(fe([N,"optionalAccess",H=>H.shadowRoot]))}n(Ji,"hasShadowRoot");class Qi{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(H){return d(this.styleIDMap.get(H),()=>-1)}has(H){return this.styleIDMap.has(H)}add(H,$){if(this.has(H))return this.getId(H);let ce;return $===void 0?ce=this.id++:ce=$,this.styleIDMap.set(H,ce),this.idStyleMap.set(ce,H),ce}getStyle(H){return this.idStyleMap.get(H)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}n(Qi,"StyleSheetMirror");function Ei(N){let H=null;return fe([N,"access",$=>$.getRootNode,"optionalCall",$=>$(),"optionalAccess",$=>$.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&N.getRootNode().host&&(H=N.getRootNode().host),H}n(Ei,"getShadowHost");function Jn(N){let H=N,$;for(;$=Ei(H);)H=$;return H}n(Jn,"getRootShadowHost");function Sr(N){const H=N.ownerDocument;if(!H)return!1;const $=Jn(N);return H.contains($)}n(Sr,"shadowHostInDom");function cr(N){const H=N.ownerDocument;return H?H.contains(N)||Sr(N):!1}n(cr,"inDom");const Dr={};function Yi(N){const H=Dr[N];if(H)return H;const $=window.document;let ce=window[N];if($&&typeof $.createElement=="function")try{const Oe=$.createElement("iframe");Oe.hidden=!0,$.head.appendChild(Oe);const $e=Oe.contentWindow;$e&&$e[N]&&(ce=$e[N]),$.head.removeChild(Oe)}catch{}return Dr[N]=ce.bind(window)}n(Yi,"getImplementation");function io(...N){return Yi("requestAnimationFrame")(...N)}n(io,"onRequestAnimationFrame");function sr(...N){return Yi("setTimeout")(...N)}n(sr,"setTimeout$1");function lo(...N){return Yi("clearTimeout")(...N)}n(lo,"clearTimeout$1");var Gi=(N=>(N[N.DomContentLoaded=0]="DomContentLoaded",N[N.Load=1]="Load",N[N.FullSnapshot=2]="FullSnapshot",N[N.IncrementalSnapshot=3]="IncrementalSnapshot",N[N.Meta=4]="Meta",N[N.Custom=5]="Custom",N[N.Plugin=6]="Plugin",N))(Gi||{}),ji=(N=>(N[N.Mutation=0]="Mutation",N[N.MouseMove=1]="MouseMove",N[N.MouseInteraction=2]="MouseInteraction",N[N.Scroll=3]="Scroll",N[N.ViewportResize=4]="ViewportResize",N[N.Input=5]="Input",N[N.TouchMove=6]="TouchMove",N[N.MediaInteraction=7]="MediaInteraction",N[N.StyleSheetRule=8]="StyleSheetRule",N[N.CanvasMutation=9]="CanvasMutation",N[N.Font=10]="Font",N[N.Log=11]="Log",N[N.Drag=12]="Drag",N[N.StyleDeclaration=13]="StyleDeclaration",N[N.Selection=14]="Selection",N[N.AdoptedStyleSheet=15]="AdoptedStyleSheet",N[N.CustomElement=16]="CustomElement",N))(ji||{}),F=(N=>(N[N.MouseUp=0]="MouseUp",N[N.MouseDown=1]="MouseDown",N[N.Click=2]="Click",N[N.ContextMenu=3]="ContextMenu",N[N.DblClick=4]="DblClick",N[N.Focus=5]="Focus",N[N.Blur=6]="Blur",N[N.TouchStart=7]="TouchStart",N[N.TouchMove_Departed=8]="TouchMove_Departed",N[N.TouchEnd=9]="TouchEnd",N[N.TouchCancel=10]="TouchCancel",N))(F||{}),_e=(N=>(N[N.Mouse=0]="Mouse",N[N.Pen=1]="Pen",N[N.Touch=2]="Touch",N))(_e||{});function tt(N){let H,$=N[0],ce=1;for(;ce<N.length;){const Oe=N[ce],$e=N[ce+1];if(ce+=2,(Oe==="optionalAccess"||Oe==="optionalCall")&&$==null)return;Oe==="access"||Oe==="optionalAccess"?(H=$,$=$e($)):(Oe==="call"||Oe==="optionalCall")&&($=$e((...Ct)=>$.call(H,...Ct)),H=void 0)}return $}n(tt,"_optionalChain$3");function zt(N){return"__ln"in N}n(zt,"isNodeInLinkedList");class gn{constructor(){this.length=0,this.head=null,this.tail=null}get(H){if(H>=this.length)throw new Error("Position outside of list range");let $=this.head;for(let ce=0;ce<H;ce++)$=tt([$,"optionalAccess",Oe=>Oe.next])||null;return $}addNode(H){const $={value:H,previous:null,next:null};if(H.__ln=$,H.previousSibling&&zt(H.previousSibling)){const ce=H.previousSibling.__ln.next;$.next=ce,$.previous=H.previousSibling.__ln,H.previousSibling.__ln.next=$,ce&&(ce.previous=$)}else if(H.nextSibling&&zt(H.nextSibling)&&H.nextSibling.__ln.previous){const ce=H.nextSibling.__ln.previous;$.previous=ce,$.next=H.nextSibling.__ln,H.nextSibling.__ln.previous=$,ce&&(ce.next=$)}else this.head&&(this.head.previous=$),$.next=this.head,this.head=$;$.next===null&&(this.tail=$),this.length++}removeNode(H){const $=H.__ln;this.head&&($.previous?($.previous.next=$.next,$.next?$.next.previous=$.previous:this.tail=$.previous):(this.head=$.next,this.head?this.head.previous=null:this.tail=null),H.__ln&&delete H.__ln,this.length--)}}n(gn,"DoubleLinkedList");const Yn=n((N,H)=>`${N}@${H}`,"moveKey");class bi{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=H=>{H.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const H=[],$=new Set,ce=new gn,Oe=n(Ft=>{let fn=Ft,en=pn;for(;en===pn;)fn=fn&&fn.nextSibling,en=fn&&this.mirror.getId(fn);return en},"getNextId"),$e=n(Ft=>{if(!Ft.parentNode||!cr(Ft))return;const fn=re(Ft.parentNode)?this.mirror.getId(Ei(Ft)):this.mirror.getId(Ft.parentNode),en=Oe(Ft);if(fn===-1||en===-1)return ce.addNode(Ft);const Rn=B(Ft,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:Wn=>{ni(Wn,this.mirror)&&this.iframeManager.addIframe(Wn),oi(Wn,this.mirror)&&this.stylesheetManager.trackLinkElement(Wn),Ji(Ft)&&this.shadowDomManager.addShadowRoot(Ft.shadowRoot,this.doc)},onIframeLoad:(Wn,li)=>{this.iframeManager.attachIframe(Wn,li),this.shadowDomManager.observeAttachShadow(Wn)},onStylesheetLoad:(Wn,li)=>{this.stylesheetManager.attachLinkElement(Wn,li)}});Rn&&(H.push({parentId:fn,nextId:en,node:Rn}),$.add(Rn.id))},"pushAdd");for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const Ft of this.movedSet)si(this.removes,Ft,this.mirror)&&!this.movedSet.has(Ft.parentNode)||$e(Ft);for(const Ft of this.addedSet)!Ai(this.droppedSet,Ft)&&!si(this.removes,Ft,this.mirror)||Ai(this.movedSet,Ft)?$e(Ft):this.droppedSet.add(Ft);let Ct=null;for(;ce.length;){let Ft=null;if(Ct){const fn=this.mirror.getId(Ct.value.parentNode),en=Oe(Ct.value);fn!==-1&&en!==-1&&(Ft=Ct)}if(!Ft){let fn=ce.tail;for(;fn;){const en=fn;if(fn=fn.previous,en){const Rn=this.mirror.getId(en.value.parentNode);if(Oe(en.value)===-1)continue;if(Rn!==-1){Ft=en;break}else{const li=en.value;if(li.parentNode&&li.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const Ci=li.parentNode.host;if(this.mirror.getId(Ci)!==-1){Ft=en;break}}}}}}if(!Ft){for(;ce.head;)ce.removeNode(ce.head.value);break}Ct=Ft.previous,ce.removeNode(Ft.value),$e(Ft.value)}const jt={texts:this.texts.map(Ft=>({id:this.mirror.getId(Ft.node),value:Ft.value})).filter(Ft=>!$.has(Ft.id)).filter(Ft=>this.mirror.has(Ft.id)),attributes:this.attributes.map(Ft=>{const{attributes:fn}=Ft;if(typeof fn.style=="string"){const en=JSON.stringify(Ft.styleDiff),Rn=JSON.stringify(Ft._unchangedStyles);en.length<fn.style.length&&(en+Rn).split("var(").length===fn.style.split("var(").length&&(fn.style=Ft.styleDiff)}return{id:this.mirror.getId(Ft.node),attributes:fn}}).filter(Ft=>!$.has(Ft.id)).filter(Ft=>this.mirror.has(Ft.id)),removes:this.removes,adds:H};!jt.texts.length&&!jt.attributes.length&&!jt.removes.length&&!jt.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(jt))},this.processMutation=H=>{if(!Ui(H.target,this.mirror))switch(H.type){case"characterData":{const $=H.target.textContent;!Zt(H.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&$!==H.oldValue&&this.texts.push({value:K(H.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&$?this.maskTextFn?this.maskTextFn($,ti(H.target)):$.replace(/[\S]/g,"*"):$,node:H.target});break}case"attributes":{const $=H.target;let ce=H.attributeName,Oe=H.target.getAttribute(ce);if(ce==="value"){const Ct=It($),jt=$.tagName;Oe=kt($,jt,Ct);const Ft=rt({maskInputOptions:this.maskInputOptions,tagName:jt,type:Ct}),fn=K(H.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,Ft);Oe=_t({isMasked:fn,element:$,value:Oe,maskInputFn:this.maskInputFn})}if(Zt(H.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Oe===H.oldValue)return;let $e=this.attributeMap.get(H.target);if($.tagName==="IFRAME"&&ce==="src"&&!this.keepIframeSrcFn(Oe))if(!$.contentDocument)ce="rr_src";else return;if($e||($e={node:H.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push($e),this.attributeMap.set(H.target,$e)),ce==="type"&&$.tagName==="INPUT"&&(H.oldValue||"").toLowerCase()==="password"&&$.setAttribute("data-rr-is-password","true"),!bt($.tagName,ce)&&($e.attributes[ce]=mt(this.doc,Gt($.tagName),Gt(ce),Oe,$,this.maskAttributeFn),ce==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const Ct=this.unattachedDoc.createElement("span");H.oldValue&&Ct.setAttribute("style",H.oldValue);for(const jt of Array.from($.style)){const Ft=$.style.getPropertyValue(jt),fn=$.style.getPropertyPriority(jt);Ft!==Ct.style.getPropertyValue(jt)||fn!==Ct.style.getPropertyPriority(jt)?fn===""?$e.styleDiff[jt]=Ft:$e.styleDiff[jt]=[Ft,fn]:$e._unchangedStyles[jt]=[Ft,fn]}for(const jt of Array.from(Ct.style))$.style.getPropertyValue(jt)===""&&($e.styleDiff[jt]=!1)}break}case"childList":{if(Zt(H.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;H.addedNodes.forEach($=>this.genAdds($,H.target)),H.removedNodes.forEach($=>{const ce=this.mirror.getId($),Oe=re(H.target)?this.mirror.getId(H.target.host):this.mirror.getId(H.target);Zt(H.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ui($,this.mirror)||!mn($,this.mirror)||(this.addedSet.has($)?(ei(this.addedSet,$),this.droppedSet.add($)):this.addedSet.has(H.target)&&ce===-1||Er(H.target,this.mirror)||(this.movedSet.has($)&&this.movedMap[Yn(ce,Oe)]?ei(this.movedSet,$):this.removes.push({parentId:Oe,id:ce,isShadow:re(H.target)&&ne(H.target)?!0:void 0})),this.mapRemoves.push($))});break}}},this.genAdds=(H,$)=>{if(!this.processedNodeManager.inOtherBuffer(H,this)&&!(this.addedSet.has(H)||this.movedSet.has(H))){if(this.mirror.hasNode(H)){if(Ui(H,this.mirror))return;this.movedSet.add(H);let ce=null;$&&this.mirror.hasNode($)&&(ce=this.mirror.getId($)),ce&&ce!==-1&&(this.movedMap[Yn(this.mirror.getId(H),ce)]=!0)}else this.addedSet.add(H),this.droppedSet.delete(H);Zt(H,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(H.childNodes.forEach(ce=>this.genAdds(ce)),Ji(H)&&H.shadowRoot.childNodes.forEach(ce=>{this.processedNodeManager.add(ce,this),this.genAdds(ce,H)}))}}}init(H){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach($=>{this[$]=H[$]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}n(bi,"MutationBuffer");function ei(N,H){N.delete(H),H.childNodes.forEach($=>ei(N,$))}n(ei,"deepDelete");function si(N,H,$){return N.length===0?!1:Si(N,H,$)}n(si,"isParentRemoved");function Si(N,H,$){const{parentNode:ce}=H;if(!ce)return!1;const Oe=$.getId(ce);return N.some($e=>$e.id===Oe)?!0:Si(N,ce,$)}n(Si,"_isParentRemoved");function Ai(N,H){return N.size===0?!1:tr(N,H)}n(Ai,"isAncestorInSet");function tr(N,H){const{parentNode:$}=H;return $?N.has($)?!0:tr(N,$):!1}n(tr,"_isAncestorInSet");let hr;function Ar(N){hr=N}n(Ar,"registerErrorHandler");function co(){hr=void 0}n(co,"unregisterErrorHandler");const hi=n(N=>hr?n((...$)=>{try{return N(...$)}catch(ce){if(hr&&hr(ce)===!0)return()=>{};throw ce}},"rrwebWrapped"):N,"callbackWrapper");function $r(N){let H,$=N[0],ce=1;for(;ce<N.length;){const Oe=N[ce],$e=N[ce+1];if(ce+=2,(Oe==="optionalAccess"||Oe==="optionalCall")&&$==null)return;Oe==="access"||Oe==="optionalAccess"?(H=$,$=$e($)):(Oe==="call"||Oe==="optionalCall")&&($=$e((...Ct)=>$.call(H,...Ct)),H=void 0)}return $}n($r,"_optionalChain$2");const to=[];function vi(N){try{if("composedPath"in N){const H=N.composedPath();if(H.length)return H[0]}else if("path"in N&&N.path.length)return N.path[0]}catch{}return N&&N.target}n(vi,"getEventTarget");function vn(N,H){const $=new bi;to.push($),$.init(N);let ce=window.MutationObserver||window.__rrMutationObserver;const Oe=$r([window,"optionalAccess",Ct=>Ct.Zone,"optionalAccess",Ct=>Ct.__symbol__,"optionalCall",Ct=>Ct("MutationObserver")]);Oe&&window[Oe]&&(ce=window[Oe]);const $e=new ce(hi(Ct=>{N.onMutation&&N.onMutation(Ct)===!1||$.processMutations.bind($)(Ct)}));return $e.observe(H,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),$e}n(vn,"initMutationObserver");function Oi({mousemoveCb:N,sampling:H,doc:$,mirror:ce}){if(H.mousemove===!1)return()=>{};const Oe=typeof H.mousemove=="number"?H.mousemove:50,$e=typeof H.mousemoveCallback=="number"?H.mousemoveCallback:500;let Ct=[],jt;const Ft=Ne(hi(Rn=>{const Wn=Date.now()-jt;N(Ct.map(li=>(li.timeOffset-=Wn,li)),Rn),Ct=[],jt=null}),$e),fn=hi(Ne(hi(Rn=>{const Wn=vi(Rn),{clientX:li,clientY:Ci}=Dn(Rn)?Rn.changedTouches[0]:Rn;jt||(jt=$t()),Ct.push({x:li,y:Ci,id:ce.getId(Wn),timeOffset:$t()-jt}),Ft(typeof DragEvent<"u"&&Rn instanceof DragEvent?ji.Drag:Rn instanceof MouseEvent?ji.MouseMove:ji.TouchMove)}),Oe,{trailing:!1})),en=[ve("mousemove",fn,$),ve("touchmove",fn,$),ve("drag",fn,$)];return hi(()=>{en.forEach(Rn=>Rn())})}n(Oi,"initMoveObserver");function Zo({mouseInteractionCb:N,doc:H,mirror:$,blockClass:ce,blockSelector:Oe,unblockSelector:$e,sampling:Ct}){if(Ct.mouseInteraction===!1)return()=>{};const jt=Ct.mouseInteraction===!0||Ct.mouseInteraction===void 0?{}:Ct.mouseInteraction,Ft=[];let fn=null;const en=n(Rn=>Wn=>{const li=vi(Wn);if(Zt(li,ce,Oe,$e,!0))return;let Ci=null,Ki=Rn;if("pointerType"in Wn){switch(Wn.pointerType){case"mouse":Ci=_e.Mouse;break;case"touch":Ci=_e.Touch;break;case"pen":Ci=_e.Pen;break}Ci===_e.Touch?F[Rn]===F.MouseDown?Ki="TouchStart":F[Rn]===F.MouseUp&&(Ki="TouchEnd"):_e.Pen}else Dn(Wn)&&(Ci=_e.Touch);Ci!==null?(fn=Ci,(Ki.startsWith("Touch")&&Ci===_e.Touch||Ki.startsWith("Mouse")&&Ci===_e.Mouse)&&(Ci=null)):F[Rn]===F.Click&&(Ci=fn,fn=null);const gr=Dn(Wn)?Wn.changedTouches[0]:Wn;if(!gr)return;const or=$.getId(li),{clientX:Wr,clientY:so}=gr;hi(N)({type:F[Ki],id:or,x:Wr,y:so,...Ci!==null&&{pointerType:Ci}})},"getHandler");return Object.keys(F).filter(Rn=>Number.isNaN(Number(Rn))&&!Rn.endsWith("_Departed")&&jt[Rn]!==!1).forEach(Rn=>{let Wn=Gt(Rn);const li=en(Rn);if(window.PointerEvent)switch(F[Rn]){case F.MouseDown:case F.MouseUp:Wn=Wn.replace("mouse","pointer");break;case F.TouchStart:case F.TouchEnd:return}Ft.push(ve(Wn,li,H))}),hi(()=>{Ft.forEach(Rn=>Rn())})}n(Zo,"initMouseInteractionObserver");function uo({scrollCb:N,doc:H,mirror:$,blockClass:ce,blockSelector:Oe,unblockSelector:$e,sampling:Ct}){const jt=hi(Ne(hi(Ft=>{const fn=vi(Ft);if(!fn||Zt(fn,ce,Oe,$e,!0))return;const en=$.getId(fn);if(fn===H&&H.defaultView){const Rn=yi(H.defaultView);N({id:en,x:Rn.left,y:Rn.top})}else N({id:en,x:fn.scrollLeft,y:fn.scrollTop})}),Ct.scroll||100));return ve("scroll",jt,H)}n(uo,"initScrollObserver");function Ko({viewportResizeCb:N},{win:H}){let $=-1,ce=-1;const Oe=hi(Ne(hi(()=>{const $e=mi(),Ct=ri();($!==$e||ce!==Ct)&&(N({width:Number(Ct),height:Number($e)}),$=$e,ce=Ct)}),200));return ve("resize",Oe,H)}n(Ko,"initViewportResizeObserver");const Ho=["INPUT","TEXTAREA","SELECT"],pe=new WeakMap;function Ae({inputCb:N,doc:H,mirror:$,blockClass:ce,blockSelector:Oe,unblockSelector:$e,ignoreClass:Ct,ignoreSelector:jt,maskInputOptions:Ft,maskInputFn:fn,sampling:en,userTriggeredOnInput:Rn,maskTextClass:Wn,unmaskTextClass:li,maskTextSelector:Ci,unmaskTextSelector:Ki}){function gr(nr){let Zr=vi(nr);const ns=nr.isTrusted,ir=Zr&&Kt(Zr.tagName);if(ir==="OPTION"&&(Zr=Zr.parentElement),!Zr||!ir||Ho.indexOf(ir)<0||Zt(Zr,ce,Oe,$e,!0))return;const zr=Zr;if(zr.classList.contains(Ct)||jt&&zr.matches(jt))return;const ko=It(Zr);let us=kt(zr,ir,ko),as=!1;const Ps=rt({maskInputOptions:Ft,tagName:ir,type:ko}),Do=K(Zr,Wn,Ci,li,Ki,Ps);(ko==="radio"||ko==="checkbox")&&(as=Zr.checked),us=_t({isMasked:Do,element:Zr,value:us,maskInputFn:fn}),or(Zr,Rn?{text:us,isChecked:as,userTriggered:ns}:{text:us,isChecked:as});const zs=Zr.name;ko==="radio"&&zs&&as&&H.querySelectorAll(`input[type="radio"][name="${zs}"]`).forEach(ls=>{if(ls!==Zr){const la=_t({isMasked:Do,element:ls,value:kt(ls,ir,ko),maskInputFn:fn});or(ls,Rn?{text:la,isChecked:!as,userTriggered:!1}:{text:la,isChecked:!as})}})}n(gr,"eventHandler");function or(nr,Zr){const ns=pe.get(nr);if(!ns||ns.text!==Zr.text||ns.isChecked!==Zr.isChecked){pe.set(nr,Zr);const ir=$.getId(nr);hi(N)({...Zr,id:ir})}}n(or,"cbWithDedup");const so=(en.input==="last"?["change"]:["input","change"]).map(nr=>ve(nr,hi(gr),H)),mo=H.defaultView;if(!mo)return()=>{so.forEach(nr=>nr())};const zo=mo.Object.getOwnPropertyDescriptor(mo.HTMLInputElement.prototype,"value"),Lr=[[mo.HTMLInputElement.prototype,"value"],[mo.HTMLInputElement.prototype,"checked"],[mo.HTMLSelectElement.prototype,"value"],[mo.HTMLTextAreaElement.prototype,"value"],[mo.HTMLSelectElement.prototype,"selectedIndex"],[mo.HTMLOptionElement.prototype,"selected"]];return zo&&zo.set&&so.push(...Lr.map(nr=>st(nr[0],nr[1],{set(){hi(gr)({target:this,isTrusted:!1})}},!1,mo))),hi(()=>{so.forEach(nr=>nr())})}n(Ae,"initInputObserver");function Ue(N){const H=[];function $(ce,Oe){if(qi("CSSGroupingRule")&&ce.parentRule instanceof CSSGroupingRule||qi("CSSMediaRule")&&ce.parentRule instanceof CSSMediaRule||qi("CSSSupportsRule")&&ce.parentRule instanceof CSSSupportsRule||qi("CSSConditionRule")&&ce.parentRule instanceof CSSConditionRule){const Ct=Array.from(ce.parentRule.cssRules).indexOf(ce);Oe.unshift(Ct)}else if(ce.parentStyleSheet){const Ct=Array.from(ce.parentStyleSheet.cssRules).indexOf(ce);Oe.unshift(Ct)}return Oe}return n($,"recurse"),$(N,H)}n(Ue,"getNestedCSSRulePositions");function vt(N,H,$){let ce,Oe;return N?(N.ownerNode?ce=H.getId(N.ownerNode):Oe=$.getId(N),{styleId:Oe,id:ce}):{}}n(vt,"getIdAndStyleId");function Lt({styleSheetRuleCb:N,mirror:H,stylesheetManager:$},{win:ce}){if(!ce.CSSStyleSheet||!ce.CSSStyleSheet.prototype)return()=>{};const Oe=ce.CSSStyleSheet.prototype.insertRule;ce.CSSStyleSheet.prototype.insertRule=new Proxy(Oe,{apply:hi((en,Rn,Wn)=>{const[li,Ci]=Wn,{id:Ki,styleId:gr}=vt(Rn,H,$.styleMirror);return(Ki&&Ki!==-1||gr&&gr!==-1)&&N({id:Ki,styleId:gr,adds:[{rule:li,index:Ci}]}),en.apply(Rn,Wn)})});const $e=ce.CSSStyleSheet.prototype.deleteRule;ce.CSSStyleSheet.prototype.deleteRule=new Proxy($e,{apply:hi((en,Rn,Wn)=>{const[li]=Wn,{id:Ci,styleId:Ki}=vt(Rn,H,$.styleMirror);return(Ci&&Ci!==-1||Ki&&Ki!==-1)&&N({id:Ci,styleId:Ki,removes:[{index:li}]}),en.apply(Rn,Wn)})});let Ct;ce.CSSStyleSheet.prototype.replace&&(Ct=ce.CSSStyleSheet.prototype.replace,ce.CSSStyleSheet.prototype.replace=new Proxy(Ct,{apply:hi((en,Rn,Wn)=>{const[li]=Wn,{id:Ci,styleId:Ki}=vt(Rn,H,$.styleMirror);return(Ci&&Ci!==-1||Ki&&Ki!==-1)&&N({id:Ci,styleId:Ki,replace:li}),en.apply(Rn,Wn)})}));let jt;ce.CSSStyleSheet.prototype.replaceSync&&(jt=ce.CSSStyleSheet.prototype.replaceSync,ce.CSSStyleSheet.prototype.replaceSync=new Proxy(jt,{apply:hi((en,Rn,Wn)=>{const[li]=Wn,{id:Ci,styleId:Ki}=vt(Rn,H,$.styleMirror);return(Ci&&Ci!==-1||Ki&&Ki!==-1)&&N({id:Ci,styleId:Ki,replaceSync:li}),en.apply(Rn,Wn)})}));const Ft={};_i("CSSGroupingRule")?Ft.CSSGroupingRule=ce.CSSGroupingRule:(_i("CSSMediaRule")&&(Ft.CSSMediaRule=ce.CSSMediaRule),_i("CSSConditionRule")&&(Ft.CSSConditionRule=ce.CSSConditionRule),_i("CSSSupportsRule")&&(Ft.CSSSupportsRule=ce.CSSSupportsRule));const fn={};return Object.entries(Ft).forEach(([en,Rn])=>{fn[en]={insertRule:Rn.prototype.insertRule,deleteRule:Rn.prototype.deleteRule},Rn.prototype.insertRule=new Proxy(fn[en].insertRule,{apply:hi((Wn,li,Ci)=>{const[Ki,gr]=Ci,{id:or,styleId:Wr}=vt(li.parentStyleSheet,H,$.styleMirror);return(or&&or!==-1||Wr&&Wr!==-1)&&N({id:or,styleId:Wr,adds:[{rule:Ki,index:[...Ue(li),gr||0]}]}),Wn.apply(li,Ci)})}),Rn.prototype.deleteRule=new Proxy(fn[en].deleteRule,{apply:hi((Wn,li,Ci)=>{const[Ki]=Ci,{id:gr,styleId:or}=vt(li.parentStyleSheet,H,$.styleMirror);return(gr&&gr!==-1||or&&or!==-1)&&N({id:gr,styleId:or,removes:[{index:[...Ue(li),Ki]}]}),Wn.apply(li,Ci)})})}),hi(()=>{ce.CSSStyleSheet.prototype.insertRule=Oe,ce.CSSStyleSheet.prototype.deleteRule=$e,Ct&&(ce.CSSStyleSheet.prototype.replace=Ct),jt&&(ce.CSSStyleSheet.prototype.replaceSync=jt),Object.entries(Ft).forEach(([en,Rn])=>{Rn.prototype.insertRule=fn[en].insertRule,Rn.prototype.deleteRule=fn[en].deleteRule})})}n(Lt,"initStyleSheetObserver");function xt({mirror:N,stylesheetManager:H},$){let ce=null;$.nodeName==="#document"?ce=N.getId($):ce=N.getId($.host);const Oe=$.nodeName==="#document"?$r([$,"access",Ct=>Ct.defaultView,"optionalAccess",Ct=>Ct.Document]):$r([$,"access",Ct=>Ct.ownerDocument,"optionalAccess",Ct=>Ct.defaultView,"optionalAccess",Ct=>Ct.ShadowRoot]),$e=$r([Oe,"optionalAccess",Ct=>Ct.prototype])?Object.getOwnPropertyDescriptor($r([Oe,"optionalAccess",Ct=>Ct.prototype]),"adoptedStyleSheets"):void 0;return ce===null||ce===-1||!Oe||!$e?()=>{}:(Object.defineProperty($,"adoptedStyleSheets",{configurable:$e.configurable,enumerable:$e.enumerable,get(){return $r([$e,"access",Ct=>Ct.get,"optionalAccess",Ct=>Ct.call,"call",Ct=>Ct(this)])},set(Ct){const jt=$r([$e,"access",Ft=>Ft.set,"optionalAccess",Ft=>Ft.call,"call",Ft=>Ft(this,Ct)]);if(ce!==null&&ce!==-1)try{H.adoptStyleSheets(Ct,ce)}catch{}return jt}}),hi(()=>{Object.defineProperty($,"adoptedStyleSheets",{configurable:$e.configurable,enumerable:$e.enumerable,get:$e.get,set:$e.set})}))}n(xt,"initAdoptedStyleSheetObserver");function Cn({styleDeclarationCb:N,mirror:H,ignoreCSSAttributes:$,stylesheetManager:ce},{win:Oe}){const $e=Oe.CSSStyleDeclaration.prototype.setProperty;Oe.CSSStyleDeclaration.prototype.setProperty=new Proxy($e,{apply:hi((jt,Ft,fn)=>{const[en,Rn,Wn]=fn;if($.has(en))return $e.apply(Ft,[en,Rn,Wn]);const{id:li,styleId:Ci}=vt($r([Ft,"access",Ki=>Ki.parentRule,"optionalAccess",Ki=>Ki.parentStyleSheet]),H,ce.styleMirror);return(li&&li!==-1||Ci&&Ci!==-1)&&N({id:li,styleId:Ci,set:{property:en,value:Rn,priority:Wn},index:Ue(Ft.parentRule)}),jt.apply(Ft,fn)})});const Ct=Oe.CSSStyleDeclaration.prototype.removeProperty;return Oe.CSSStyleDeclaration.prototype.removeProperty=new Proxy(Ct,{apply:hi((jt,Ft,fn)=>{const[en]=fn;if($.has(en))return Ct.apply(Ft,[en]);const{id:Rn,styleId:Wn}=vt($r([Ft,"access",li=>li.parentRule,"optionalAccess",li=>li.parentStyleSheet]),H,ce.styleMirror);return(Rn&&Rn!==-1||Wn&&Wn!==-1)&&N({id:Rn,styleId:Wn,remove:{property:en},index:Ue(Ft.parentRule)}),jt.apply(Ft,fn)})}),hi(()=>{Oe.CSSStyleDeclaration.prototype.setProperty=$e,Oe.CSSStyleDeclaration.prototype.removeProperty=Ct})}n(Cn,"initStyleDeclarationObserver");function Nn({mediaInteractionCb:N,blockClass:H,blockSelector:$,unblockSelector:ce,mirror:Oe,sampling:$e,doc:Ct}){const jt=hi(fn=>Ne(hi(en=>{const Rn=vi(en);if(!Rn||Zt(Rn,H,$,ce,!0))return;const{currentTime:Wn,volume:li,muted:Ci,playbackRate:Ki}=Rn;N({type:fn,id:Oe.getId(Rn),currentTime:Wn,volume:li,muted:Ci,playbackRate:Ki})}),$e.media||500)),Ft=[ve("play",jt(0),Ct),ve("pause",jt(1),Ct),ve("seeked",jt(2),Ct),ve("volumechange",jt(3),Ct),ve("ratechange",jt(4),Ct)];return hi(()=>{Ft.forEach(fn=>fn())})}n(Nn,"initMediaInteractionObserver");function Xn({fontCb:N,doc:H}){const $=H.defaultView;if(!$)return()=>{};const ce=[],Oe=new WeakMap,$e=$.FontFace;$.FontFace=n(function(Ft,fn,en){const Rn=new $e(Ft,fn,en);return Oe.set(Rn,{family:Ft,buffer:typeof fn!="string",descriptors:en,fontSource:typeof fn=="string"?fn:JSON.stringify(Array.from(new Uint8Array(fn)))}),Rn},"FontFace");const Ct=on(H.fonts,"add",function(jt){return function(Ft){return sr(hi(()=>{const fn=Oe.get(Ft);fn&&(N(fn),Oe.delete(Ft))}),0),jt.apply(this,[Ft])}});return ce.push(()=>{$.FontFace=$e}),ce.push(Ct),hi(()=>{ce.forEach(jt=>jt())})}n(Xn,"initFontObserver");function Un(N){const{doc:H,mirror:$,blockClass:ce,blockSelector:Oe,unblockSelector:$e,selectionCb:Ct}=N;let jt=!0;const Ft=hi(()=>{const fn=H.getSelection();if(!fn||jt&&$r([fn,"optionalAccess",Wn=>Wn.isCollapsed]))return;jt=fn.isCollapsed||!1;const en=[],Rn=fn.rangeCount||0;for(let Wn=0;Wn<Rn;Wn++){const li=fn.getRangeAt(Wn),{startContainer:Ci,startOffset:Ki,endContainer:gr,endOffset:or}=li;Zt(Ci,ce,Oe,$e,!0)||Zt(gr,ce,Oe,$e,!0)||en.push({start:$.getId(Ci),startOffset:Ki,end:$.getId(gr),endOffset:or})}Ct({ranges:en})});return Ft(),ve("selectionchange",Ft)}n(Un,"initSelectionObserver");function Ti({doc:N,customElementCb:H}){const $=N.defaultView;return!$||!$.customElements?()=>{}:on($.customElements,"define",function(Oe){return function($e,Ct,jt){try{H({define:{name:$e}})}catch{}return Oe.apply(this,[$e,Ct,jt])}})}n(Ti,"initCustomElementObserver");function Tn(N,H={}){const $=N.doc.defaultView;if(!$)return()=>{};const ce=vn(N,N.doc),Oe=Oi(N),$e=Zo(N),Ct=uo(N),jt=Ko(N,{win:$}),Ft=Ae(N),fn=Nn(N),en=Lt(N,{win:$}),Rn=xt(N,N.doc),Wn=Cn(N,{win:$}),li=N.collectFonts?Xn(N):()=>{},Ci=Un(N),Ki=Ti(N),gr=[];for(const or of N.plugins)gr.push(or.observer(or.callback,$,or.options));return hi(()=>{to.forEach(or=>or.reset()),ce.disconnect(),Oe(),$e(),Ct(),jt(),Ft(),fn(),en(),Rn(),Wn(),li(),Ci(),Ki(),gr.forEach(or=>or())})}n(Tn,"initObservers");function qi(N){return typeof window[N]<"u"}n(qi,"hasNestedCSSRule");function _i(N){return Boolean(typeof window[N]<"u"&&window[N].prototype&&"insertRule"in window[N].prototype&&"deleteRule"in window[N].prototype)}n(_i,"canMonkeyPatchNestedCSSRule");class Nr{constructor(H){this.generateIdFn=H,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(H,$,ce,Oe){const $e=ce||this.getIdToRemoteIdMap(H),Ct=Oe||this.getRemoteIdToIdMap(H);let jt=$e.get($);return jt||(jt=this.generateIdFn(),$e.set($,jt),Ct.set(jt,$)),jt}getIds(H,$){const ce=this.getIdToRemoteIdMap(H),Oe=this.getRemoteIdToIdMap(H);return $.map($e=>this.getId(H,$e,ce,Oe))}getRemoteId(H,$,ce){const Oe=ce||this.getRemoteIdToIdMap(H);if(typeof $!="number")return $;const $e=Oe.get($);return $e||-1}getRemoteIds(H,$){const ce=this.getRemoteIdToIdMap(H);return $.map(Oe=>this.getRemoteId(H,Oe,ce))}reset(H){if(!H){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(H),this.iframeRemoteIdToIdMap.delete(H)}getIdToRemoteIdMap(H){let $=this.iframeIdToRemoteIdMap.get(H);return $||($=new Map,this.iframeIdToRemoteIdMap.set(H,$)),$}getRemoteIdToIdMap(H){let $=this.iframeRemoteIdToIdMap.get(H);return $||($=new Map,this.iframeRemoteIdToIdMap.set(H,$)),$}}n(Nr,"CrossOriginIframeMirror");function Ur(N){let H,$=N[0],ce=1;for(;ce<N.length;){const Oe=N[ce],$e=N[ce+1];if(ce+=2,(Oe==="optionalAccess"||Oe==="optionalCall")&&$==null)return;Oe==="access"||Oe==="optionalAccess"?(H=$,$=$e($)):(Oe==="call"||Oe==="optionalCall")&&($=$e((...Ct)=>$.call(H,...Ct)),H=void 0)}return $}n(Ur,"_optionalChain$1");class Gr{constructor(){this.crossOriginIframeMirror=new Nr(wn),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}n(Gr,"IframeManagerNoop");class ki{constructor(H){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Nr(wn),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=H.mutationCb,this.wrappedEmit=H.wrappedEmit,this.stylesheetManager=H.stylesheetManager,this.recordCrossOriginIframes=H.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Nr(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=H.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(H){this.iframes.set(H,!0),H.contentWindow&&this.crossOriginIframeMap.set(H.contentWindow,H)}addLoadListener(H){this.loadListener=H}attachIframe(H,$){this.mutationCb({adds:[{parentId:this.mirror.getId(H),nextId:null,node:$}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Ur([this,"access",ce=>ce.loadListener,"optionalCall",ce=>ce(H)]),H.contentDocument&&H.contentDocument.adoptedStyleSheets&&H.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(H.contentDocument.adoptedStyleSheets,this.mirror.getId(H.contentDocument))}handleMessage(H){const $=H;if($.data.type!=="rrweb"||$.origin!==$.data.origin||!H.source)return;const Oe=this.crossOriginIframeMap.get(H.source);if(!Oe)return;const $e=this.transformCrossOriginEvent(Oe,$.data.event);$e&&this.wrappedEmit($e,$.data.isCheckout)}transformCrossOriginEvent(H,$){switch($.type){case Gi.FullSnapshot:{this.crossOriginIframeMirror.reset(H),this.crossOriginIframeStyleMirror.reset(H),this.replaceIdOnNode($.data.node,H);const ce=$.data.node.id;return this.crossOriginIframeRootIdMap.set(H,ce),this.patchRootIdOnNode($.data.node,ce),{timestamp:$.timestamp,type:Gi.IncrementalSnapshot,data:{source:ji.Mutation,adds:[{parentId:this.mirror.getId(H),nextId:null,node:$.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Gi.Meta:case Gi.Load:case Gi.DomContentLoaded:return!1;case Gi.Plugin:return $;case Gi.Custom:return this.replaceIds($.data.payload,H,["id","parentId","previousId","nextId"]),$;case Gi.IncrementalSnapshot:switch($.data.source){case ji.Mutation:return $.data.adds.forEach(ce=>{this.replaceIds(ce,H,["parentId","nextId","previousId"]),this.replaceIdOnNode(ce.node,H);const Oe=this.crossOriginIframeRootIdMap.get(H);Oe&&this.patchRootIdOnNode(ce.node,Oe)}),$.data.removes.forEach(ce=>{this.replaceIds(ce,H,["parentId","id"])}),$.data.attributes.forEach(ce=>{this.replaceIds(ce,H,["id"])}),$.data.texts.forEach(ce=>{this.replaceIds(ce,H,["id"])}),$;case ji.Drag:case ji.TouchMove:case ji.MouseMove:return $.data.positions.forEach(ce=>{this.replaceIds(ce,H,["id"])}),$;case ji.ViewportResize:return!1;case ji.MediaInteraction:case ji.MouseInteraction:case ji.Scroll:case ji.CanvasMutation:case ji.Input:return this.replaceIds($.data,H,["id"]),$;case ji.StyleSheetRule:case ji.StyleDeclaration:return this.replaceIds($.data,H,["id"]),this.replaceStyleIds($.data,H,["styleId"]),$;case ji.Font:return $;case ji.Selection:return $.data.ranges.forEach(ce=>{this.replaceIds(ce,H,["start","end"])}),$;case ji.AdoptedStyleSheet:return this.replaceIds($.data,H,["id"]),this.replaceStyleIds($.data,H,["styleIds"]),Ur([$,"access",ce=>ce.data,"access",ce=>ce.styles,"optionalAccess",ce=>ce.forEach,"call",ce=>ce(Oe=>{this.replaceStyleIds(Oe,H,["styleId"])})]),$}}return!1}replace(H,$,ce,Oe){for(const $e of Oe)!Array.isArray($[$e])&&typeof $[$e]!="number"||(Array.isArray($[$e])?$[$e]=H.getIds(ce,$[$e]):$[$e]=H.getId(ce,$[$e]));return $}replaceIds(H,$,ce){return this.replace(this.crossOriginIframeMirror,H,$,ce)}replaceStyleIds(H,$,ce){return this.replace(this.crossOriginIframeStyleMirror,H,$,ce)}replaceIdOnNode(H,$){this.replaceIds(H,$,["id","rootId"]),"childNodes"in H&&H.childNodes.forEach(ce=>{this.replaceIdOnNode(ce,$)})}patchRootIdOnNode(H,$){H.type!==z.Document&&!H.rootId&&(H.rootId=$),"childNodes"in H&&H.childNodes.forEach(ce=>{this.patchRootIdOnNode(ce,$)})}}n(ki,"IframeManager");class Vi{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}n(Vi,"ShadowDomManagerNoop");class Zi{constructor(H){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=H.mutationCb,this.scrollCb=H.scrollCb,this.bypassOptions=H.bypassOptions,this.mirror=H.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(H,$){if(!ne(H)||this.shadowDoms.has(H))return;this.shadowDoms.add(H);const ce=vn({...this.bypassOptions,doc:$,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},H);this.restoreHandlers.push(()=>ce.disconnect()),this.restoreHandlers.push(uo({...this.bypassOptions,scrollCb:this.scrollCb,doc:H,mirror:this.mirror})),sr(()=>{H.adoptedStyleSheets&&H.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(H.adoptedStyleSheets,this.mirror.getId(H.host)),this.restoreHandlers.push(xt({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},H))},0)}observeAttachShadow(H){!H.contentWindow||!H.contentDocument||this.patchAttachShadow(H.contentWindow.Element,H.contentDocument)}patchAttachShadow(H,$){const ce=this;this.restoreHandlers.push(on(H.prototype,"attachShadow",function(Oe){return function($e){const Ct=Oe.call(this,$e);return this.shadowRoot&&cr(this)&&ce.addShadowRoot(this.shadowRoot,$),Ct}}))}reset(){this.restoreHandlers.forEach(H=>{try{H()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}n(Zi,"ShadowDomManager");class _r{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}n(_r,"CanvasManagerNoop");class Hr{constructor(H){this.trackedLinkElements=new WeakSet,this.styleMirror=new Qi,this.mutationCb=H.mutationCb,this.adoptedStyleSheetCb=H.adoptedStyleSheetCb}attachLinkElement(H,$){"_cssText"in $.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:$.id,attributes:$.attributes}]}),this.trackLinkElement(H)}trackLinkElement(H){this.trackedLinkElements.has(H)||(this.trackedLinkElements.add(H),this.trackStylesheetInLinkElement(H))}adoptStyleSheets(H,$){if(H.length===0)return;const ce={id:$,styleIds:[]},Oe=[];for(const $e of H){let Ct;this.styleMirror.has($e)?Ct=this.styleMirror.getId($e):(Ct=this.styleMirror.add($e),Oe.push({styleId:Ct,rules:Array.from($e.rules||CSSRule,(jt,Ft)=>({rule:He(jt),index:Ft}))})),ce.styleIds.push(Ct)}Oe.length>0&&(ce.styles=Oe),this.adoptedStyleSheetCb(ce)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(H){}}n(Hr,"StylesheetManager");class Eo{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){io(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(H,$){const ce=this.nodeMap.get(H);return ce&&Array.from(ce).some(Oe=>Oe!==$)}add(H,$){this.nodeMap.set(H,(this.nodeMap.get(H)||new Set).add($))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}n(Eo,"ProcessedNodeManager");let er,Co;const Fr=ct();function no(N={}){const{emit:H,checkoutEveryNms:$,checkoutEveryNth:ce,blockClass:Oe="rr-block",blockSelector:$e=null,unblockSelector:Ct=null,ignoreClass:jt="rr-ignore",ignoreSelector:Ft=null,maskAllText:fn=!1,maskTextClass:en="rr-mask",unmaskTextClass:Rn=null,maskTextSelector:Wn=null,unmaskTextSelector:li=null,inlineStylesheet:Ci=!0,maskAllInputs:Ki,maskInputOptions:gr,slimDOMOptions:or,maskAttributeFn:Wr,maskInputFn:so,maskTextFn:mo,maxCanvasSize:zo=null,packFn:Lr,sampling:nr={},dataURLOptions:Zr={},mousemoveWait:ns,recordCanvas:ir=!1,recordCrossOriginIframes:zr=!1,recordAfter:ko=N.recordAfter==="DOMContentLoaded"?N.recordAfter:"load",userTriggeredOnInput:us=!1,collectFonts:as=!1,inlineImages:Ps=!1,plugins:Do,keepIframeSrcFn:zs=n(()=>!1,"keepIframeSrcFn"),ignoreCSSAttributes:ls=new Set([]),errorHandler:la,onMutation:Ia,getCanvasManager:Gd}=N;Ar(la);const kl=zr?window.parent===window:!0;let tc=!1;if(!kl)try{window.parent.document&&(tc=!1)}catch{tc=!0}if(kl&&!H)throw new Error("emit function is required");ns!==void 0&&nr.mousemove===void 0&&(nr.mousemove=ns),Fr.reset();const gl=Ki===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:gr!==void 0?gr:{},zc=or===!0||or==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:or==="all",headMetaDescKeywords:or==="all"}:or||{};nn();let La,Na=0;const Ll=n(go=>{for(const ws of Do||[])ws.eventProcessor&&(go=ws.eventProcessor(go));return Lr&&!tc&&(go=Lr(go)),go},"eventProcessor");er=n((go,ws)=>{const ao=go;if(ao.timestamp=$t(),h([to,"access",Qo=>Qo[0],"optionalAccess",Qo=>Qo.isFrozen,"call",Qo=>Qo()])&&ao.type!==Gi.FullSnapshot&&!(ao.type===Gi.IncrementalSnapshot&&ao.data.source===ji.Mutation)&&to.forEach(Qo=>Qo.unfreeze()),kl)h([H,"optionalCall",Qo=>Qo(Ll(ao),ws)]);else if(tc){const Qo={type:"rrweb",event:Ll(ao),origin:window.location.origin,isCheckout:ws};window.parent.postMessage(Qo,"*")}if(ao.type===Gi.FullSnapshot)La=ao,Na=0;else if(ao.type===Gi.IncrementalSnapshot){if(ao.data.source===ji.Mutation&&ao.data.isAttachIframe)return;Na++;const Qo=ce&&Na>=ce,_o=$&&La&&ao.timestamp-La.timestamp>$;(Qo||_o)&&ic(!0)}},"wrappedEmit");const vl=n(go=>{er({type:Gi.IncrementalSnapshot,data:{source:ji.Mutation,...go}})},"wrappedMutationEmit"),nc=n(go=>er({type:Gi.IncrementalSnapshot,data:{source:ji.Scroll,...go}}),"wrappedScrollEmit"),tl=n(go=>er({type:Gi.IncrementalSnapshot,data:{source:ji.CanvasMutation,...go}}),"wrappedCanvasMutationEmit"),Fa=n(go=>er({type:Gi.IncrementalSnapshot,data:{source:ji.AdoptedStyleSheet,...go}}),"wrappedAdoptedStyleSheetEmit"),wa=new Hr({mutationCb:vl,adoptedStyleSheetCb:Fa}),ja=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Gr:new ki({mirror:Fr,mutationCb:vl,stylesheetManager:wa,recordCrossOriginIframes:zr,wrappedEmit:er});for(const go of Do||[])go.getMirror&&go.getMirror({nodeMirror:Fr,crossOriginIframeMirror:ja.crossOriginIframeMirror,crossOriginIframeStyleMirror:ja.crossOriginIframeStyleMirror});const js=new Eo,Sl=As(Gd,{mirror:Fr,win:window,mutationCb:go=>er({type:Gi.IncrementalSnapshot,data:{source:ji.CanvasMutation,...go}}),recordCanvas:ir,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,maxCanvasSize:zo,sampling:nr.canvas,dataURLOptions:Zr,errorHandler:la}),nl=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Vi:new Zi({mutationCb:vl,scrollCb:nc,bypassOptions:{onMutation:Ia,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,maskAllText:fn,maskTextClass:en,unmaskTextClass:Rn,maskTextSelector:Wn,unmaskTextSelector:li,inlineStylesheet:Ci,maskInputOptions:gl,dataURLOptions:Zr,maskAttributeFn:Wr,maskTextFn:mo,maskInputFn:so,recordCanvas:ir,inlineImages:Ps,sampling:nr,slimDOMOptions:zc,iframeManager:ja,stylesheetManager:wa,canvasManager:Sl,keepIframeSrcFn:zs,processedNodeManager:js},mirror:Fr}),ic=n((go=!1)=>{er({type:Gi.Meta,data:{href:window.location.href,width:ri(),height:mi()}},go),wa.reset(),nl.init(),to.forEach(ao=>ao.lock());const ws=Fe(document,{mirror:Fr,blockClass:Oe,blockSelector:$e,unblockSelector:Ct,maskAllText:fn,maskTextClass:en,unmaskTextClass:Rn,maskTextSelector:Wn,unmaskTextSelector:li,inlineStylesheet:Ci,maskAllInputs:gl,maskAttributeFn:Wr,maskInputFn:so,maskTextFn:mo,slimDOM:zc,dataURLOptions:Zr,recordCanvas:ir,inlineImages:Ps,onSerialize:ao=>{ni(ao,Fr)&&ja.addIframe(ao),oi(ao,Fr)&&wa.trackLinkElement(ao),Ji(ao)&&nl.addShadowRoot(ao.shadowRoot,document)},onIframeLoad:(ao,Qo)=>{ja.attachIframe(ao,Qo),nl.observeAttachShadow(ao)},onStylesheetLoad:(ao,Qo)=>{wa.attachLinkElement(ao,Qo)},keepIframeSrcFn:zs});if(!ws)return console.warn("Failed to snapshot the document");er({type:Gi.FullSnapshot,data:{node:ws,initialOffset:yi(window)}}),to.forEach(ao=>ao.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&wa.adoptStyleSheets(document.adoptedStyleSheets,Fr.getId(document))},"takeFullSnapshot");Co=ic;try{const go=[],ws=n(Qo=>hi(Tn)({onMutation:Ia,mutationCb:vl,mousemoveCb:(_o,fa)=>er({type:Gi.IncrementalSnapshot,data:{source:fa,positions:_o}}),mouseInteractionCb:_o=>er({type:Gi.IncrementalSnapshot,data:{source:ji.MouseInteraction,..._o}}),scrollCb:nc,viewportResizeCb:_o=>er({type:Gi.IncrementalSnapshot,data:{source:ji.ViewportResize,..._o}}),inputCb:_o=>er({type:Gi.IncrementalSnapshot,data:{source:ji.Input,..._o}}),mediaInteractionCb:_o=>er({type:Gi.IncrementalSnapshot,data:{source:ji.MediaInteraction,..._o}}),styleSheetRuleCb:_o=>er({type:Gi.IncrementalSnapshot,data:{source:ji.StyleSheetRule,..._o}}),styleDeclarationCb:_o=>er({type:Gi.IncrementalSnapshot,data:{source:ji.StyleDeclaration,..._o}}),canvasMutationCb:tl,fontCb:_o=>er({type:Gi.IncrementalSnapshot,data:{source:ji.Font,..._o}}),selectionCb:_o=>{er({type:Gi.IncrementalSnapshot,data:{source:ji.Selection,..._o}})},customElementCb:_o=>{er({type:Gi.IncrementalSnapshot,data:{source:ji.CustomElement,..._o}})},blockClass:Oe,ignoreClass:jt,ignoreSelector:Ft,maskAllText:fn,maskTextClass:en,unmaskTextClass:Rn,maskTextSelector:Wn,unmaskTextSelector:li,maskInputOptions:gl,inlineStylesheet:Ci,sampling:nr,recordCanvas:ir,inlineImages:Ps,userTriggeredOnInput:us,collectFonts:as,doc:Qo,maskAttributeFn:Wr,maskInputFn:so,maskTextFn:mo,keepIframeSrcFn:zs,blockSelector:$e,unblockSelector:Ct,slimDOMOptions:zc,dataURLOptions:Zr,mirror:Fr,iframeManager:ja,stylesheetManager:wa,shadowDomManager:nl,processedNodeManager:js,canvasManager:Sl,ignoreCSSAttributes:ls,plugins:h([Do,"optionalAccess",_o=>_o.filter,"call",_o=>_o(fa=>fa.observer),"optionalAccess",_o=>_o.map,"call",_o=>_o(fa=>({observer:fa.observer,options:fa.options,callback:Nl=>er({type:Gi.Plugin,data:{plugin:fa.name,payload:Nl}})}))])||[]},{}),"observe");ja.addLoadListener(Qo=>{try{go.push(ws(Qo.contentDocument))}catch(_o){console.warn(_o)}});const ao=n(()=>{ic(),go.push(ws(document))},"init");return document.readyState==="interactive"||document.readyState==="complete"?ao():(go.push(ve("DOMContentLoaded",()=>{er({type:Gi.DomContentLoaded,data:{}}),ko==="DOMContentLoaded"&&ao()})),go.push(ve("load",()=>{er({type:Gi.Load,data:{}}),ko==="load"&&ao()},window))),()=>{go.forEach(Qo=>Qo()),js.destroy(),Co=void 0,co()}}catch(go){console.warn(go)}}n(no,"record");function Is(N){if(!Co)throw new Error("please take full snapshot after start recording");Co(N)}n(Is,"takeFullSnapshot"),no.mirror=Fr,no.takeFullSnapshot=Is;function As(N,H){try{return N?N(H):new _r}catch{return console.warn("Unable to initialize CanvasManager"),new _r}}n(As,"_getCanvasManager");const ms=3,cs=5;function Os(N){return N>9999999999?N:N*1e3}n(Os,"timestampToMs");function qo(N){return N>9999999999?N/1e3:N}n(qo,"timestampToS");function Mo(N,H){H.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(H.category)?N.triggerUserActivity():N.checkAndHandleExpiredSession(),N.addUpdate(()=>(N.throttledAddEvent({type:Gi.Custom,timestamp:(H.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:p.normalize(H,10,1e3)}}),H.category==="console")))}n(Mo,"addBreadcrumbEvent");const No="button,a";function Wo(N){return N.closest(No)||N}n(Wo,"getClosestInteractive");function Fo(N){const H=yo(N);return!H||!(H instanceof Element)?H:Wo(H)}n(Fo,"getClickTargetNode");function yo(N){return fo(N)?N.target:N}n(yo,"getTargetNode");function fo(N){return typeof N=="object"&&!!N&&"target"in N}n(fo,"isEventWithTarget");let Po;function ia(N){return Po||(Po=[],is()),Po.push(N),()=>{const H=Po?Po.indexOf(N):-1;H>-1&&Po.splice(H,1)}}n(ia,"onWindowOpen");function is(){p.fill(s,"open",function(N){return function(...H){if(Po)try{Po.forEach($=>$())}catch{}return N.apply(s,H)}})}n(is,"monkeyPatchWindowOpen");function Go(N,H,$){N.handleClick(H,$)}n(Go,"handleClick");class gs{constructor(H,$,ce=Mo){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=$.timeout/1e3,this._threshold=$.threshold/1e3,this._scollTimeout=$.scrollTimeout/1e3,this._replay=H,this._ignoreSelector=$.ignoreSelector,this._addBreadcrumbEvent=ce}addListeners(){const H=ia(()=>{this._lastMutation=Jo()});this._teardown=()=>{H(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(H,$){if(Oo($,this._ignoreSelector)||!Ao(H))return;const ce={timestamp:qo(H.timestamp),clickBreadcrumb:H,clickCount:0,node:$};this._clicks.some(Oe=>Oe.node===ce.node&&Math.abs(Oe.timestamp-ce.timestamp)<1)||(this._clicks.push(ce),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(H=Date.now()){this._lastMutation=qo(H)}registerScroll(H=Date.now()){this._lastScroll=qo(H)}registerClick(H){const $=Wo(H);this._handleMultiClick($)}_handleMultiClick(H){this._getClicks(H).forEach($=>{$.clickCount++})}_getClicks(H){return this._clicks.filter($=>$.node===H)}_checkClicks(){const H=[],$=Jo();this._clicks.forEach(ce=>{!ce.mutationAfter&&this._lastMutation&&(ce.mutationAfter=ce.timestamp<=this._lastMutation?this._lastMutation-ce.timestamp:void 0),!ce.scrollAfter&&this._lastScroll&&(ce.scrollAfter=ce.timestamp<=this._lastScroll?this._lastScroll-ce.timestamp:void 0),ce.timestamp+this._timeout<=$&&H.push(ce)});for(const ce of H){const Oe=this._clicks.indexOf(ce);Oe>-1&&(this._generateBreadcrumbs(ce),this._clicks.splice(Oe,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(H){const $=this._replay,ce=H.scrollAfter&&H.scrollAfter<=this._scollTimeout,Oe=H.mutationAfter&&H.mutationAfter<=this._threshold,$e=!ce&&!Oe,{clickCount:Ct,clickBreadcrumb:jt}=H;if($e){const Ft=Math.min(H.mutationAfter||this._timeout,this._timeout)*1e3,fn=Ft<this._timeout*1e3?"mutation":"timeout",en={type:"default",message:jt.message,timestamp:jt.timestamp,category:"ui.slowClickDetected",data:{...jt.data,url:s.location.href,route:$.getCurrentRoute(),timeAfterClickMs:Ft,endReason:fn,clickCount:Ct||1}};this._addBreadcrumbEvent($,en);return}if(Ct>1){const Ft={type:"default",message:jt.message,timestamp:jt.timestamp,category:"ui.multiClick",data:{...jt.data,url:s.location.href,route:$.getCurrentRoute(),clickCount:Ct,metric:!0}};this._addBreadcrumbEvent($,Ft)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}n(gs,"ClickDetector");const ro=["A","BUTTON","INPUT"];function Oo(N,H){return!!(!ro.includes(N.tagName)||N.tagName==="INPUT"&&!["submit","button"].includes(N.getAttribute("type")||"")||N.tagName==="A"&&(N.hasAttribute("download")||N.hasAttribute("target")&&N.getAttribute("target")!=="_self")||H&&N.matches(H))}n(Oo,"ignoreElement");function Ao(N){return!!(N.data&&typeof N.data.nodeId=="number"&&N.timestamp)}n(Ao,"isClickBreadcrumb");function Jo(){return Date.now()/1e3}n(Jo,"nowInSeconds");function xo(N,H){try{if(!ra(H))return;const{source:$}=H.data;if($===ji.Mutation&&N.registerMutation(H.timestamp),$===ji.Scroll&&N.registerScroll(H.timestamp),de(H)){const{type:ce,id:Oe}=H.data,$e=no.mirror.getNode(Oe);$e instanceof HTMLElement&&ce===F.Click&&N.registerClick($e)}}catch{}}n(xo,"updateClickDetectorForRecordingEvent");function ra(N){return N.type===ms}n(ra,"isIncrementalEvent");function de(N){return N.data.source===ji.MouseInteraction}n(de,"isIncrementalMouseInteraction");function ye(N){return{timestamp:Date.now()/1e3,type:"default",...N}}n(ye,"createBreadcrumb");var Me;(function(N){N[N.Document=0]="Document",N[N.DocumentType=1]="DocumentType",N[N.Element=2]="Element",N[N.Text=3]="Text",N[N.CDATA=4]="CDATA",N[N.Comment=5]="Comment"})(Me||(Me={}));const Ge=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function nt(N){const H={};!N["data-sentry-component"]&&N["data-sentry-element"]&&(N["data-sentry-component"]=N["data-sentry-element"]);for(const $ in N)if(Ge.has($)){let ce=$;($==="data-testid"||$==="data-test-id")&&(ce="testId"),H[ce]=N[$]}return H}n(nt,"getAttributesToRecord");const Ut=n(N=>H=>{if(!N.isEnabled())return;const $=dn(H);if(!$)return;const ce=H.name==="click",Oe=ce?H.event:void 0;ce&&N.clickDetector&&Oe&&Oe.target&&!Oe.altKey&&!Oe.metaKey&&!Oe.ctrlKey&&!Oe.shiftKey&&Go(N.clickDetector,$,Fo(H.event)),Mo(N,$)},"handleDomListener");function wt(N,H){const $=no.mirror.getId(N),ce=$&&no.mirror.getNode($),Oe=ce&&no.mirror.getMeta(ce),$e=Oe&&bn(Oe)?Oe:null;return{message:H,data:$e?{nodeId:$,node:{id:$,tagName:$e.tagName,textContent:Array.from($e.childNodes).map(Ct=>Ct.type===Me.Text&&Ct.textContent).filter(Boolean).map(Ct=>Ct.trim()).join(""),attributes:nt($e.attributes)}}:{}}}n(wt,"getBaseDomBreadcrumb");function dn(N){const{target:H,message:$}=cn(N);return ye({category:`ui.${N.name}`,...wt(H,$)})}n(dn,"handleDom");function cn(N){const H=N.name==="click";let $,ce=null;try{ce=H?Fo(N.event):yo(N.event),$=p.htmlTreeAsString(ce,{maxStringLength:200})||"<unknown>"}catch{$="<unknown>"}return{target:ce,message:$}}n(cn,"getDomTarget");function bn(N){return N.type===Me.Element}n(bn,"isElement");function hn(N,H){if(!N.isEnabled())return;N.updateUserActivity();const $=Fn(H);$&&Mo(N,$)}n(hn,"handleKeyboardEvent");function Fn(N){const{metaKey:H,shiftKey:$,ctrlKey:ce,altKey:Oe,key:$e,target:Ct}=N;if(!Ct||xn(Ct)||!$e)return null;const jt=H||ce||Oe,Ft=$e.length===1;if(!jt&&Ft)return null;const fn=p.htmlTreeAsString(Ct,{maxStringLength:200})||"<unknown>",en=wt(Ct,fn);return ye({category:"ui.keyDown",message:fn,data:{...en.data,metaKey:H,shiftKey:$,ctrlKey:ce,altKey:Oe,key:$e}})}n(Fn,"getKeyboardBreadcrumb");function xn(N){return N.tagName==="INPUT"||N.tagName==="TEXTAREA"||N.isContentEditable}n(xn,"isInputElement");const jn={resource:pr,paint:kn,navigation:Ri};function pi(N){return N.map(ai).filter(Boolean)}n(pi,"createPerformanceEntries");function ai(N){return jn[N.entryType]?jn[N.entryType](N):null}n(ai,"createPerformanceEntry");function $n(N){return((p.browserPerformanceTimeOrigin||s.performance.timeOrigin)+N)/1e3}n($n,"getAbsoluteTime");function kn(N){const{duration:H,entryType:$,name:ce,startTime:Oe}=N,$e=$n(Oe);return{type:$,name:ce,start:$e,end:$e+H,data:void 0}}n(kn,"createPaintEntry");function Ri(N){const{entryType:H,name:$,decodedBodySize:ce,duration:Oe,domComplete:$e,encodedBodySize:Ct,domContentLoadedEventStart:jt,domContentLoadedEventEnd:Ft,domInteractive:fn,loadEventStart:en,loadEventEnd:Rn,redirectCount:Wn,startTime:li,transferSize:Ci,type:Ki}=N;return Oe===0?null:{type:`${H}.${Ki}`,start:$n(li),end:$n($e),name:$,data:{size:Ci,decodedBodySize:ce,encodedBodySize:Ct,duration:Oe,domInteractive:fn,domContentLoadedEventStart:jt,domContentLoadedEventEnd:Ft,loadEventStart:en,loadEventEnd:Rn,domComplete:$e,redirectCount:Wn}}}n(Ri,"createNavigationEntry");function pr(N){const{entryType:H,initiatorType:$,name:ce,responseEnd:Oe,startTime:$e,decodedBodySize:Ct,encodedBodySize:jt,responseStatus:Ft,transferSize:fn}=N;return["fetch","xmlhttprequest"].includes($)?null:{type:`${H}.${$}`,start:$n($e),end:$n(Oe),name:ce,data:{size:fn,statusCode:Ft,decodedBodySize:Ct,encodedBodySize:jt}}}n(pr,"createResourceEntry");function Rr(N){const H=N.entries,$=H[H.length-1],ce=$?$.element:void 0,Oe=N.value,$e=$n(Oe);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:$e,end:$e,data:{value:Oe,size:Oe,nodeId:ce?no.mirror.getId(ce):void 0}}}n(Rr,"getLargestContentfulPaint");function Kr(N){function H(Oe){N.performanceEntries.includes(Oe)||N.performanceEntries.push(Oe)}n(H,"addPerformanceEntry");function $({entries:Oe}){Oe.forEach(H)}n($,"onEntries");const ce=[];return["navigation","paint","resource"].forEach(Oe=>{ce.push(a.addPerformanceInstrumentationHandler(Oe,$))}),ce.push(a.addLcpInstrumentationHandler(({metric:Oe})=>{N.replayPerformanceEntries.push(Rr(Oe))})),()=>{ce.forEach(Oe=>Oe())}}n(Kr,"setupPerformanceObserver");const qt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Mr='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function xr(){const N=new Blob([Mr]);return URL.createObjectURL(N)}n(xr,"e");function ur(N,H){qt&&(p.logger.info(N),H&&es(N))}n(ur,"logInfo");function To(N,H){qt&&(p.logger.info(N),H&&setTimeout(()=>{es(N)},0))}n(To,"logInfoNextTick");function es(N){m.addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:N},{level:"info"})}n(es,"addLogBreadcrumb");class oo extends Error{constructor(){super(`Event buffer exceeded maximum size of ${I}.`)}}n(oo,"EventBufferSizeExceededError");class Yo{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(H){const $=JSON.stringify(H).length;if(this._totalSize+=$,this._totalSize>I)throw new oo;this.events.push(H)}finish(){return new Promise(H=>{const $=this.events;this.clear(),H(JSON.stringify($))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const H=this.events.map($=>$.timestamp).sort()[0];return H?Os(H):null}}n(Yo,"EventBufferArray");class os{constructor(H){this._worker=H,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((H,$)=>{this._worker.addEventListener("message",({data:ce})=>{ce.success?H():$()},{once:!0}),this._worker.addEventListener("error",ce=>{$(ce)},{once:!0})}),this._ensureReadyPromise)}destroy(){ur("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(H,$){const ce=this._getAndIncrementId();return new Promise((Oe,$e)=>{const Ct=n(({data:jt})=>{const Ft=jt;if(Ft.method===H&&Ft.id===ce){if(this._worker.removeEventListener("message",Ct),!Ft.success){qt&&p.logger.error("[Replay]",Ft.response),$e(new Error("Error in compression worker"));return}Oe(Ft.response)}},"listener");this._worker.addEventListener("message",Ct),this._worker.postMessage({id:ce,method:H,arg:$})})}_getAndIncrementId(){return this._id++}}n(os,"WorkerHandler");class vs{constructor(H){this._worker=new os(H),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(H){const $=Os(H.timestamp);(!this._earliestTimestamp||$<this._earliestTimestamp)&&(this._earliestTimestamp=$);const ce=JSON.stringify(H);return this._totalSize+=ce.length,this._totalSize>I?Promise.reject(new oo):this._sendEventToWorker(ce)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,H=>{qt&&p.logger.warn('[Replay] Sending "clear" message to worker failed',H)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(H){return this._worker.postMessage("addEvent",H)}async _finishRequest(){const H=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,H}}n(vs,"EventBufferCompressionWorker");class Vs{constructor(H){this._fallback=new Yo,this._compression=new vs(H),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(H){this._used.hasCheckout=H}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(H){return this._used.addEvent(H)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ur("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:H,hasCheckout:$}=this._fallback,ce=[];for(const Oe of H)ce.push(this._compression.addEvent(Oe));this._compression.hasCheckout=$,this._used=this._compression;try{await Promise.all(ce)}catch(Oe){qt&&p.logger.warn("[Replay] Failed to add events when switching buffers.",Oe)}}}n(Vs,"EventBufferProxy");function ho({useCompression:N,workerUrl:H}){if(N&&window.Worker){const $=Bo(H);if($)return $}return ur("[Replay] Using simple buffer"),new Yo}n(ho,"createEventBuffer");function Bo(N){try{const H=N||ya();if(!H)return;ur(`[Replay] Using compression worker${N?` from ${N}`:""}`);const $=new Worker(H);return new Vs($)}catch{ur("[Replay] Failed to create compression worker")}}n(Bo,"_loadWorker");function ya(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?xr():""}n(ya,"_getWorkerUrl");function $s(){try{return"sessionStorage"in s&&!!s.sessionStorage}catch{return!1}}n($s,"hasSessionStorage");function Hs(N){oa(),N.session=void 0}n(Hs,"clearSession");function oa(){if($s())try{s.sessionStorage.removeItem(i)}catch{}}n(oa,"deleteSession");function Rs(N){return N===void 0?!1:Math.random()<N}n(Rs,"isSampled");function Ss(N){const H=Date.now(),$=N.id||p.uuid4(),ce=N.started||H,Oe=N.lastActivity||H,$e=N.segmentId||0,Ct=N.sampled,jt=N.previousSessionId;return{id:$,started:ce,lastActivity:Oe,segmentId:$e,sampled:Ct,previousSessionId:jt}}n(Ss,"makeSession");function ys(N){if($s())try{s.sessionStorage.setItem(i,JSON.stringify(N))}catch{}}n(ys,"saveSession");function fs(N,H){return Rs(N)?"session":H?"buffer":!1}n(fs,"getSessionSampleType");function _a({sessionSampleRate:N,allowBuffering:H,stickySession:$=!1},{previousSessionId:ce}={}){const Oe=fs(N,H),$e=Ss({sampled:Oe,previousSessionId:ce});return $&&ys($e),$e}n(_a,"createSession");function ul(N){if(!$s())return null;try{const H=s.sessionStorage.getItem(i);if(!H)return null;const $=JSON.parse(H);return To("[Replay] Loading existing session",N),Ss($)}catch{return null}}n(ul,"fetchSession");function ba(N,H,$=+new Date){return N===null||H===void 0||H<0?!0:H===0?!1:N+H<=$}n(ba,"isExpired");function Io(N,{maxReplayDuration:H,sessionIdleExpire:$,targetTime:ce=Date.now()}){return ba(N.started,H,ce)||ba(N.lastActivity,$,ce)}n(Io,"isSessionExpired");function Li(N,{sessionIdleExpire:H,maxReplayDuration:$}){return!(!Io(N,{sessionIdleExpire:H,maxReplayDuration:$})||N.sampled==="buffer"&&N.segmentId===0)}n(Li,"shouldRefreshSession");function Ys({traceInternals:N,sessionIdleExpire:H,maxReplayDuration:$,previousSessionId:ce},Oe){const $e=Oe.stickySession&&ul(N);return $e?Li($e,{sessionIdleExpire:H,maxReplayDuration:$})?(To("[Replay] Session in sessionStorage is expired, creating new one..."),_a(Oe,{previousSessionId:$e.id})):$e:(To("[Replay] Creating new session",N),_a(Oe,{previousSessionId:ce}))}n(Ys,"loadOrCreateSession");function Mi(N){return N.type===Gi.Custom}n(Mi,"isCustomEvent");function Ea(N,H,$){return oe(N,H)?(qa(N,H,$),!0):!1}n(Ea,"addEventSync");function sa(N,H,$){return oe(N,H)?qa(N,H,$):Promise.resolve(null)}n(sa,"addEvent");async function qa(N,H,$){if(!N.eventBuffer)return null;try{$&&N.recordingMode==="buffer"&&N.eventBuffer.clear(),$&&(N.eventBuffer.hasCheckout=!0);const ce=N.getOptions(),Oe=ae(H,ce.beforeAddRecordingEvent);return Oe?await N.eventBuffer.addEvent(Oe):void 0}catch(ce){const Oe=ce&&ce instanceof oo?"addEventSizeExceeded":"addEvent";qt&&p.logger.error(ce),await N.stop({reason:Oe});const $e=m.getClient();$e&&$e.recordDroppedEvent("internal_sdk_error","replay")}}n(qa,"_addEvent");function oe(N,H){if(!N.eventBuffer||N.isPaused()||!N.isEnabled())return!1;const $=Os(H.timestamp);return $+N.timeouts.sessionIdlePause<Date.now()?!1:$>N.getContext().initialTimestamp+N.getOptions().maxReplayDuration?(ur(`[Replay] Skipping event with timestamp ${$} because it is after maxReplayDuration`,N.getOptions()._experiments.traceInternals),!1):!0}n(oe,"shouldAddEvent");function ae(N,H){try{if(typeof H=="function"&&Mi(N))return H(N)}catch($){return qt&&p.logger.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",$),null}return N}n(ae,"maybeApplyCallback");function X(N){return!N.type}n(X,"isErrorEvent");function L(N){return N.type==="transaction"}n(L,"isTransactionEvent");function q(N){return N.type==="replay_event"}n(q,"isReplayEvent");function be(N){return N.type==="feedback"}n(be,"isFeedbackEvent");function Ce(N){return(H,$)=>{if(!N.isEnabled()||!X(H)&&!L(H))return;const ce=$&&$.statusCode;if(!(!ce||ce<200||ce>=300)){if(L(H)){xe(N,H);return}et(N,H)}}}n(Ce,"handleAfterSendEvent");function xe(N,H){const $=N.getContext();H.contexts&&H.contexts.trace&&H.contexts.trace.trace_id&&$.traceIds.size<100&&$.traceIds.add(H.contexts.trace.trace_id)}n(xe,"handleTransactionEvent");function et(N,H){const $=N.getContext();if(H.event_id&&$.errorIds.size<100&&$.errorIds.add(H.event_id),N.recordingMode!=="buffer"||!H.tags||!H.tags.replayId)return;const{beforeErrorSampling:ce}=N.getOptions();typeof ce=="function"&&!ce(H)||setTimeout(()=>{N.sendBufferedReplayOrFlush()})}n(et,"handleErrorEvent");function Rt(N){return H=>{!N.isEnabled()||!X(H)||ft(N,H)}}n(Rt,"handleBeforeSendEvent");function ft(N,H){const $=H.exception&&H.exception.values&&H.exception.values[0].value;if(typeof $=="string"&&($.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||$.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const ce=ye({category:"replay.hydrate-error"});Mo(N,ce)}}n(ft,"handleHydrationError");function Ot(N){const H=m.getClient();H&&H.on("beforeAddBreadcrumb",$=>St(N,$))}n(Ot,"handleBreadcrumbs");function St(N,H){if(!N.isEnabled()||!Kn(H))return;const $=yn(H);$&&Mo(N,$)}n(St,"beforeAddBreadcrumb");function yn(N){return!Kn(N)||["fetch","xhr","sentry.event","sentry.transaction"].includes(N.category)||N.category.startsWith("ui.")?null:N.category==="console"?Ln(N):ye(N)}n(yn,"normalizeBreadcrumb");function Ln(N){const H=N.data&&N.data.arguments;if(!Array.isArray(H)||H.length===0)return ye(N);let $=!1;const ce=H.map(Oe=>{if(!Oe)return Oe;if(typeof Oe=="string")return Oe.length>b?($=!0,`${Oe.slice(0,b)}\u2026`):Oe;if(typeof Oe=="object")try{const $e=p.normalize(Oe,7);return JSON.stringify($e).length>b?($=!0,`${JSON.stringify($e,null,2).slice(0,b)}\u2026`):$e}catch{}return Oe});return ye({...N,data:{...N.data,arguments:ce,...$?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}n(Ln,"normalizeConsoleBreadcrumb");function Kn(N){return!!N.category}n(Kn,"isBreadcrumbWithCategory");function Di(N,H){return N.type||!N.exception||!N.exception.values||!N.exception.values.length?!1:!!(H.originalException&&H.originalException.__rrweb__)}n(Di,"isRrwebError");function Ni(N,H){N.triggerUserActivity(),N.addUpdate(()=>H.timestamp?(N.throttledAddEvent({type:Gi.Custom,timestamp:H.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:H.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:H.event_id}}}}),!1):!0)}n(Ni,"addFeedbackBreadcrumb");function Hi(N,H){return N.recordingMode!=="buffer"||H.message===t||!H.exception||H.type?!1:Rs(N.getOptions().errorSampleRate)}n(Hi,"shouldSampleForBufferEvent");function mr(N){return Object.assign((H,$)=>N.isEnabled()?q(H)?(delete H.breadcrumbs,H):!X(H)&&!L(H)&&!be(H)||!N.checkAndHandleExpiredSession()?H:be(H)?(N.flush(),H.contexts.feedback.replay_id=N.getSessionId(),Ni(N,H),H):Di(H,$)&&!N.getOptions()._experiments.captureExceptions?(qt&&p.logger.log("[Replay] Ignoring error from rrweb internals",H),null):((Hi(N,H)||N.recordingMode==="session")&&(H.tags={...H.tags,replayId:N.getSessionId()}),H):H,{id:"Replay"})}n(mr,"handleGlobalEventListener");function fr(N,H){return H.map(({type:$,start:ce,end:Oe,name:$e,data:Ct})=>{const jt=N.throttledAddEvent({type:Gi.Custom,timestamp:ce,data:{tag:"performanceSpan",payload:{op:$,description:$e,startTimestamp:ce,endTimestamp:Oe,data:Ct}}});return typeof jt=="string"?Promise.resolve(null):jt})}n(fr,"createPerformanceSpans");function br(N){const{from:H,to:$}=N,ce=Date.now()/1e3;return{type:"navigation.push",start:ce,end:ce,name:$,data:{previous:H}}}n(br,"handleHistory");function Jr(N){return H=>{if(!N.isEnabled())return;const $=br(H);$!==null&&(N.getContext().urls.push($.name),N.triggerUserActivity(),N.addUpdate(()=>(fr(N,[$]),!1)))}}n(Jr,"handleHistorySpanListener");function yr(N,H){return qt&&N.getOptions()._experiments.traceInternals?!1:m.isSentryRequestUrl(H,m.getClient())}n(yr,"shouldFilterRequest");function di(N,H){N.isEnabled()&&H!==null&&(yr(N,H.name)||N.addUpdate(()=>(fr(N,[H]),!0)))}n(di,"addNetworkBreadcrumb");function Cr(N){if(!N)return;const H=new TextEncoder;try{if(typeof N=="string")return H.encode(N).length;if(N instanceof URLSearchParams)return H.encode(N.toString()).length;if(N instanceof FormData){const $=$i(N);return H.encode($).length}if(N instanceof Blob)return N.size;if(N instanceof ArrayBuffer)return N.byteLength}catch{}}n(Cr,"getBodySize");function Mt(N){if(!N)return;const H=parseInt(N,10);return isNaN(H)?void 0:H}n(Mt,"parseContentLengthHeader");function Vt(N){try{if(typeof N=="string")return[N];if(N instanceof URLSearchParams)return[N.toString()];if(N instanceof FormData)return[$i(N)];if(!N)return[void 0]}catch{return qt&&p.logger.warn("[Replay] Failed to serialize body",N),[void 0,"BODY_PARSE_ERROR"]}return qt&&p.logger.info("[Replay] Skipping network body because of body type",N),[void 0,"UNPARSEABLE_BODY_TYPE"]}n(Vt,"getBodyString");function un(N,H){if(!N)return{headers:{},size:void 0,_meta:{warnings:[H]}};const $={...N._meta},ce=$.warnings||[];return $.warnings=[...ce,H],N._meta=$,N}n(un,"mergeWarning");function Hn(N,H){if(!H)return null;const{startTimestamp:$,endTimestamp:ce,url:Oe,method:$e,statusCode:Ct,request:jt,response:Ft}=H;return{type:N,start:$/1e3,end:ce/1e3,name:Oe,data:p.dropUndefinedKeys({method:$e,statusCode:Ct,request:jt,response:Ft})}}n(Hn,"makeNetworkReplayBreadcrumb");function gi(N){return{headers:{},size:N,_meta:{warnings:["URL_SKIPPED"]}}}n(gi,"buildSkippedNetworkRequestOrResponse");function ar(N,H,$){if(!H&&Object.keys(N).length===0)return;if(!H)return{headers:N};if(!$)return{headers:N,size:H};const ce={headers:N,size:H},{body:Oe,warnings:$e}=rr($);return ce.body=Oe,$e&&$e.length>0&&(ce._meta={warnings:$e}),ce}n(ar,"buildNetworkRequestOrResponse");function Xi(N,H){return Object.keys(N).reduce(($,ce)=>{const Oe=ce.toLowerCase();return H.includes(Oe)&&N[ce]&&($[Oe]=N[ce]),$},{})}n(Xi,"getAllowedHeaders");function $i(N){return new URLSearchParams(N).toString()}n($i,"_serializeFormData");function rr(N){if(!N||typeof N!="string")return{body:N};const H=N.length>_,$=Br(N);if(H){const ce=N.slice(0,_);return $?{body:ce,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${ce}\u2026`,warnings:["TEXT_TRUNCATED"]}}if($)try{return{body:JSON.parse(N)}}catch{}return{body:N}}n(rr,"normalizeNetworkBody");function Br(N){const H=N[0],$=N[N.length-1];return H==="["&&$==="]"||H==="{"&&$==="}"}n(Br,"_strIsProbablyJson");function ts(N,H){const $=Vr(N);return p.stringMatchesSomePattern($,H)}n(ts,"urlMatches");function Vr(N,H=s.document.baseURI){if(N.startsWith("http://")||N.startsWith("https://")||N.startsWith(s.location.origin))return N;const $=new URL(N,H);if($.origin!==new URL(H).origin)return N;const ce=$.href;return!N.endsWith("/")&&ce.endsWith("/")?ce.slice(0,-1):ce}n(Vr,"getFullUrl");async function Ro(N,H,$){try{const ce=await Fs(N,H,$),Oe=Hn("resource.fetch",ce);di($.replay,Oe)}catch(ce){qt&&p.logger.error("[Replay] Failed to capture fetch breadcrumb",ce)}}n(Ro,"captureFetchBreadcrumbToReplay");function ds(N,H){const{input:$,response:ce}=H,Oe=$?aa($):void 0,$e=Cr(Oe),Ct=ce?Mt(ce.headers.get("content-length")):void 0;$e!==void 0&&(N.data.request_body_size=$e),Ct!==void 0&&(N.data.response_body_size=Ct)}n(ds,"enrichFetchBreadcrumb");async function Fs(N,H,$){const ce=Date.now(),{startTimestamp:Oe=ce,endTimestamp:$e=ce}=H,{url:Ct,method:jt,status_code:Ft=0,request_body_size:fn,response_body_size:en}=N.data,Rn=ts(Ct,$.networkDetailAllowUrls)&&!ts(Ct,$.networkDetailDenyUrls),Wn=Rn?hs($,H.input,fn):gi(fn),li=await Xo(Rn,$,H.response,en);return{startTimestamp:Oe,endTimestamp:$e,url:Ct,method:jt,statusCode:Ft,request:Wn,response:li}}n(Fs,"_prepareFetchData");function hs({networkCaptureBodies:N,networkRequestHeaders:H},$,ce){const Oe=$?Ga($,H):{};if(!N)return ar(Oe,ce,void 0);const $e=aa($),[Ct,jt]=Vt($e),Ft=ar(Oe,ce,Ct);return jt?un(Ft,jt):Ft}n(hs,"_getRequestInfo");async function Xo(N,{networkCaptureBodies:H,networkResponseHeaders:$},ce,Oe){if(!N&&Oe!==void 0)return gi(Oe);const $e=ce?Xs(ce.headers,$):{};if(!ce||!H&&Oe!==void 0)return ar($e,Oe,void 0);const[Ct,jt]=await Pa(ce),Ft=Ca(Ct,{networkCaptureBodies:H,responseBodySize:Oe,captureDetails:N,headers:$e});return jt?un(Ft,jt):Ft}n(Xo,"_getResponseInfo");function Ca(N,{networkCaptureBodies:H,responseBodySize:$,captureDetails:ce,headers:Oe}){try{const $e=N&&N.length&&$===void 0?Cr(N):$;return ce?H?ar(Oe,$e,N):ar(Oe,$e,void 0):gi($e)}catch($e){return qt&&p.logger.warn("[Replay] Failed to serialize response body",$e),ar(Oe,$,void 0)}}n(Ca,"getResponseData");async function Pa(N){const H=el(N);if(!H)return[void 0,"BODY_PARSE_ERROR"];try{return[await ka(H)]}catch($){return qt&&p.logger.warn("[Replay] Failed to get text body from response",$),[void 0,"BODY_PARSE_ERROR"]}}n(Pa,"_parseFetchResponseBody");function aa(N=[]){if(!(N.length!==2||typeof N[1]!="object"))return N[1].body}n(aa,"_getFetchRequestArgBody");function Xs(N,H){const $={};return H.forEach(ce=>{N.get(ce)&&($[ce]=N.get(ce))}),$}n(Xs,"getAllHeaders");function Ga(N,H){return N.length===1&&typeof N[0]!="string"?ua(N[0],H):N.length===2?ua(N[1],H):{}}n(Ga,"getRequestHeaders");function ua(N,H){if(!N)return{};const $=N.headers;return $?$ instanceof Headers?Xs($,H):Array.isArray($)?{}:Xi($,H):{}}n(ua,"getHeadersFromOptions");function el(N){try{return N.clone()}catch(H){qt&&p.logger.warn("[Replay] Failed to clone response body",H)}}n(el,"_tryCloneResponse");function ka(N){return new Promise((H,$)=>{const ce=setTimeout(()=>$(new Error("Timeout while trying to read response body")),500);Ms(N).then(Oe=>H(Oe),Oe=>$(Oe)).finally(()=>clearTimeout(ce))})}n(ka,"_tryGetResponseText");async function Ms(N){return await N.text()}n(Ms,"_getResponseText");async function po(N,H,$){try{const ce=ss(N,H,$),Oe=Hn("resource.xhr",ce);di($.replay,Oe)}catch(ce){qt&&p.logger.error("[Replay] Failed to capture xhr breadcrumb",ce)}}n(po,"captureXhrBreadcrumbToReplay");function wo(N,H){const{xhr:$,input:ce}=H;if(!$)return;const Oe=Cr(ce),$e=$.getResponseHeader("content-length")?Mt($.getResponseHeader("content-length")):Kl($.response,$.responseType);Oe!==void 0&&(N.data.request_body_size=Oe),$e!==void 0&&(N.data.response_body_size=$e)}n(wo,"enrichXhrBreadcrumb");function ss(N,H,$){const ce=Date.now(),{startTimestamp:Oe=ce,endTimestamp:$e=ce,input:Ct,xhr:jt}=H,{url:Ft,method:fn,status_code:en=0,request_body_size:Rn,response_body_size:Wn}=N.data;if(!Ft)return null;if(!jt||!ts(Ft,$.networkDetailAllowUrls)||ts(Ft,$.networkDetailDenyUrls)){const Lr=gi(Rn),nr=gi(Wn);return{startTimestamp:Oe,endTimestamp:$e,url:Ft,method:fn,statusCode:en,request:Lr,response:nr}}const li=jt[a.SENTRY_XHR_DATA_KEY],Ci=li?Xi(li.request_headers,$.networkRequestHeaders):{},Ki=Xi(Ta(jt),$.networkResponseHeaders),[gr,or]=$.networkCaptureBodies?Vt(Ct):[void 0],[Wr,so]=$.networkCaptureBodies?Ws(jt):[void 0],mo=ar(Ci,Rn,gr),zo=ar(Ki,Wn,Wr);return{startTimestamp:Oe,endTimestamp:$e,url:Ft,method:fn,statusCode:en,request:or?un(mo,or):mo,response:so?un(zo,so):zo}}n(ss,"_prepareXhrData");function Ta(N){const H=N.getAllResponseHeaders();return H?H.split(`\r
`).reduce(($,ce)=>{const[Oe,$e]=ce.split(": ");return $[Oe.toLowerCase()]=$e,$},{}):{}}n(Ta,"getResponseHeaders");function Ws(N){const H=[];try{return[N.responseText]}catch($){H.push($)}try{return fl(N.response,N.responseType)}catch($){H.push($)}return qt&&p.logger.warn("[Replay] Failed to get xhr response body",...H),[void 0]}n(Ws,"_getXhrResponseBody");function fl(N,H){try{if(typeof N=="string")return[N];if(N instanceof Document)return[N.body.outerHTML];if(H==="json"&&N&&typeof N=="object")return[JSON.stringify(N)];if(!N)return[void 0]}catch{return qt&&p.logger.warn("[Replay] Failed to serialize body",N),[void 0,"BODY_PARSE_ERROR"]}return qt&&p.logger.info("[Replay] Skipping network body because of body type",N),[void 0,"UNPARSEABLE_BODY_TYPE"]}n(fl,"_parseXhrResponse");function Kl(N,H){try{const $=H==="json"&&N&&typeof N=="object"?JSON.stringify(N):N;return Cr($)}catch{return}}n(Kl,"_getBodySize");function za(N){const H=m.getClient();try{const{networkDetailAllowUrls:$,networkDetailDenyUrls:ce,networkCaptureBodies:Oe,networkRequestHeaders:$e,networkResponseHeaders:Ct}=N.getOptions(),jt={replay:N,networkDetailAllowUrls:$,networkDetailDenyUrls:ce,networkCaptureBodies:Oe,networkRequestHeaders:$e,networkResponseHeaders:Ct};H&&H.on("beforeAddBreadcrumb",(Ft,fn)=>hl(jt,Ft,fn))}catch{}}n(za,"handleNetworkBreadcrumbs");function hl(N,H,$){if(H.data)try{xc(H)&&Yl($)&&(wo(H,$),po(H,$,N)),Jl(H)&&Bc($)&&(ds(H,$),Ro(H,$,N))}catch{qt&&p.logger.warn("Error when enriching network breadcrumb")}}n(hl,"beforeAddNetworkBreadcrumb");function xc(N){return N.category==="xhr"}n(xc,"_isXhrBreadcrumb");function Jl(N){return N.category==="fetch"}n(Jl,"_isFetchBreadcrumb");function Yl(N){return N&&N.xhr}n(Yl,"_isXhrHint");function Bc(N){return N&&N.response}n(Bc,"_isFetchHint");function Ld(N){const H=m.getClient();a.addClickKeypressInstrumentationHandler(Ut(N)),a.addHistoryInstrumentationHandler(Jr(N)),Ot(N),za(N);const $=mr(N);m.addEventProcessor($),H&&(H.on("beforeSendEvent",Rt(N)),H.on("afterSendEvent",Ce(N)),H.on("createDsc",ce=>{const Oe=N.getSessionId();Oe&&N.isEnabled()&&N.recordingMode==="session"&&N.checkAndHandleExpiredSession()&&(ce.replay_id=Oe)}),H.on("spanStart",ce=>{N.lastActiveSpan=ce}),H.on("spanEnd",ce=>{N.lastActiveSpan=ce}),H.on("beforeSendFeedback",(ce,Oe)=>{const $e=N.getSessionId();Oe&&Oe.includeReplay&&N.isEnabled()&&$e&&ce.contexts&&ce.contexts.feedback&&(ce.contexts.feedback.replay_id=$e)}))}n(Ld,"addGlobalListeners");async function Nd(N){try{return Promise.all(fr(N,[Fd(s.performance.memory)]))}catch{return[]}}n(Nd,"addMemoryEntry");function Fd(N){const{jsHeapSizeLimit:H,totalJSHeapSize:$,usedJSHeapSize:ce}=N,Oe=Date.now()/1e3;return{type:"memory",name:"memory",start:Oe,end:Oe,data:{memory:{jsHeapSizeLimit:H,totalJSHeapSize:$,usedJSHeapSize:ce}}}}n(Fd,"createMemoryEntry");function Xr(N,H,$){let ce,Oe,$e;const Ct=$&&$.maxWait?Math.max($.maxWait,H):0;function jt(){return Ft(),ce=N(),ce}n(jt,"invokeFunc");function Ft(){Oe!==void 0&&clearTimeout(Oe),$e!==void 0&&clearTimeout($e),Oe=$e=void 0}n(Ft,"cancelTimers");function fn(){return Oe!==void 0||$e!==void 0?jt():ce}n(fn,"flush");function en(){return Oe&&clearTimeout(Oe),Oe=setTimeout(jt,H),Ct&&$e===void 0&&($e=setTimeout(jt,Ct)),ce}return n(en,"debounced"),en.cancel=Ft,en.flush=fn,en}n(Xr,"debounce");function Xl(N){let H=!1;return($,ce)=>{if(!N.checkAndHandleExpiredSession()){qt&&p.logger.warn("[Replay] Received replay event after session expired.");return}const Oe=ce||!H;H=!0,N.clickDetector&&xo(N.clickDetector,$),N.addUpdate(()=>{if(N.recordingMode==="buffer"&&Oe&&N.setInitialState(),!Ea(N,$,Oe))return!0;if(!Oe)return!1;if(Ql(N,Oe),N.session&&N.session.previousSessionId)return!0;if(N.recordingMode==="buffer"&&N.session&&N.eventBuffer){const $e=N.eventBuffer.getEarliestTimestamp();$e&&(ur(`[Replay] Updating session start time to earliest event in buffer to ${new Date($e)}`,N.getOptions()._experiments.traceInternals),N.session.started=$e,N.getOptions().stickySession&&ys(N.session))}return N.recordingMode==="session"&&N.flush(),!0})}}n(Xl,"getHandleRecordingEmit");function pl(N){const H=N.getOptions();return{type:Gi.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:N.isRecordingCanvas(),sessionSampleRate:H.sessionSampleRate,errorSampleRate:H.errorSampleRate,useCompressionOption:H.useCompression,blockAllMedia:H.blockAllMedia,maskAllText:H.maskAllText,maskAllInputs:H.maskAllInputs,useCompression:N.eventBuffer?N.eventBuffer.type==="worker":!1,networkDetailHasUrls:H.networkDetailAllowUrls.length>0,networkCaptureBodies:H.networkCaptureBodies,networkRequestHasHeaders:H.networkRequestHeaders.length>0,networkResponseHasHeaders:H.networkResponseHeaders.length>0}}}}n(pl,"createOptionsEvent");function Ql(N,H){!H||!N.session||N.session.segmentId!==0||Ea(N,pl(N),!1)}n(Ql,"addSettingsEvent");function On(N,H,$,ce){return p.createEnvelope(p.createEventEnvelopeHeaders(N,p.getSdkMetadataForEnvelopeHeader(N),ce,$),[[{type:"replay_event"},N],[{type:"replay_recording",length:typeof H=="string"?new TextEncoder().encode(H).length:H.length},H]])}n(On,"createReplayEnvelope");function Wu({recordingData:N,headers:H}){let $;const ce=`${JSON.stringify(H)}
`;if(typeof N=="string")$=`${ce}${N}`;else{const $e=new TextEncoder().encode(ce);$=new Uint8Array($e.length+N.length),$.set($e),$.set(N,$e.length)}return $}n(Wu,"prepareRecordingData");async function Ii({client:N,scope:H,replayId:$,event:ce}){const Oe=typeof N._integrations=="object"&&N._integrations!==null&&!Array.isArray(N._integrations)?Object.keys(N._integrations):void 0,$e={event_id:$,integrations:Oe};N.emit("preprocessEvent",ce,$e);const Ct=await m.prepareEvent(N.getOptions(),ce,$e,H,N,m.getIsolationScope());if(!Ct)return null;Ct.platform=Ct.platform||"javascript";const jt=N.getSdkMetadata(),{name:Ft,version:fn}=jt&&jt.sdk||{};return Ct.sdk={...Ct.sdk,name:Ft||"sentry.javascript.unknown",version:fn||"0.0.0"},Ct}n(Ii,"prepareReplayEvent");async function xd({recordingData:N,replayId:H,segmentId:$,eventContext:ce,timestamp:Oe,session:$e}){const Ct=Wu({recordingData:N,headers:{segment_id:$}}),{urls:jt,errorIds:Ft,traceIds:fn,initialTimestamp:en}=ce,Rn=m.getClient(),Wn=m.getCurrentScope(),li=Rn&&Rn.getTransport(),Ci=Rn&&Rn.getDsn();if(!Rn||!li||!Ci||!$e.sampled)return p.resolvedSyncPromise({});const Ki={type:e,replay_start_timestamp:en/1e3,timestamp:Oe/1e3,error_ids:Ft,trace_ids:fn,urls:jt,replay_id:H,segment_id:$,replay_type:$e.sampled},gr=await Ii({scope:Wn,client:Rn,replayId:H,event:Ki});if(!gr)return Rn.recordDroppedEvent("event_processor","replay",Ki),ur("An event processor returned `null`, will not send event."),p.resolvedSyncPromise({});delete gr.sdkProcessingMetadata;const or=On(gr,Ct,Ci,Rn.getOptions().tunnel);let Wr;try{Wr=await li.send(or)}catch(mo){const zo=new Error(t);try{zo.cause=mo}catch{}throw zo}if(typeof Wr.statusCode=="number"&&(Wr.statusCode<200||Wr.statusCode>=300))throw new Pl(Wr.statusCode);const so=p.updateRateLimits({},Wr);if(p.isRateLimited(so,"replay"))throw new Zl(so);return Wr}n(xd,"sendReplayRequest");class Pl extends Error{constructor(H){super(`Transport returned status code ${H}`)}}n(Pl,"TransportStatusCodeError");class Zl extends Error{constructor(H){super("Rate limit hit"),this.rateLimits=H}}n(Zl,"RateLimitError");async function Uc(N,H={count:0,interval:u}){const{recordingData:$,options:ce}=N;if($.length)try{return await xd(N),!0}catch(Oe){if(Oe instanceof Pl||Oe instanceof Zl)throw Oe;if(m.setContext("Replays",{_retryCount:H.count}),qt&&ce._experiments&&ce._experiments.captureExceptions&&m.captureException(Oe),H.count>=S){const $e=new Error(`${t} - max retries exceeded`);try{$e.cause=Oe}catch{}throw $e}return H.interval*=++H.count,new Promise(($e,Ct)=>{setTimeout(async()=>{try{await Uc(N,H),$e(!0)}catch(jt){Ct(jt)}},H.interval)})}}n(Uc,"sendReplay");const ql="__THROTTLED",Bd="__SKIPPED";function Gu(N,H,$){const ce=new Map,Oe=n(jt=>{const Ft=jt-$;ce.forEach((fn,en)=>{en<Ft&&ce.delete(en)})},"_cleanup"),$e=n(()=>[...ce.values()].reduce((jt,Ft)=>jt+Ft,0),"_getTotalCount");let Ct=!1;return(...jt)=>{const Ft=Math.floor(Date.now()/1e3);if(Oe(Ft),$e()>=H){const en=Ct;return Ct=!0,en?Bd:ql}Ct=!1;const fn=ce.get(Ft)||0;return ce.set(Ft,fn+1),N(...jt)}}n(Gu,"throttle");class Gs{constructor({options:H,recordingOptions:$}){Gs.prototype.__init.call(this),Gs.prototype.__init2.call(this),Gs.prototype.__init3.call(this),Gs.prototype.__init4.call(this),Gs.prototype.__init5.call(this),Gs.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:r,sessionIdleExpire:o},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=$,this._options=H,this._debouncedFlush=Xr(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Gu((Ct,jt)=>sa(this,Ct,jt),300,5);const{slowClickTimeout:ce,slowClickIgnoreSelectors:Oe}=this.getOptions(),$e=ce?{threshold:Math.min(E,ce),timeout:ce,scrollTimeout:T,ignoreSelector:Oe?Oe.join(","):""}:void 0;$e&&(this.clickDetector=new gs(this,$e))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(H){const{errorSampleRate:$,sessionSampleRate:ce}=this._options;if(!($<=0&&ce<=0)){if(this._initializeSessionForSampling(H),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",To(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");To("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const H=Ys({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=H,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");To("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const H=Ys({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=H,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const H=this._canvas;this._stopRecording=no({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:v},emit:Xl(this),onMutation:this._onMutationHandler,...H?{recordCanvas:H.recordCanvas,getCanvasManager:H.getCanvasManager,sampling:H.sampling,dataURLOptions:H.dataURLOptions}:{}})}catch(H){this._handleException(H)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(H){return this._handleException(H),!1}}async stop({forceFlush:H=!1,reason:$}={}){if(this._isEnabled){this._isEnabled=!1;try{ur(`[Replay] Stopping Replay${$?` triggered by ${$}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),H&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Hs(this)}catch(ce){this._handleException(ce)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ur("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ur("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:H=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const $=Date.now();ur("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const ce=this.stopRecording();!H||!ce||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity($),this._updateSessionActivity($),this._maybeSaveSession()),this.startRecording())}addUpdate(H){const $=H();this.recordingMode!=="buffer"&&$!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ba(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const H=`${s.location.pathname}${s.location.hash}${s.location.search}`,$=`${s.location.origin}${H}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=$,this._context.initialTimestamp=Date.now(),this._context.urls.push($)}throttledAddEvent(H,$){const ce=this._throttledAddEvent(H,$);if(ce===ql){const Oe=ye({category:"replay.throttled"});this.addUpdate(()=>!Ea(this,{type:cs,timestamp:Oe.timestamp||0,data:{tag:"breadcrumb",payload:Oe,metric:!0}}))}return ce}getCurrentRoute(){const H=this.lastActiveSpan||m.getActiveSpan(),$=H&&m.getRootSpan(H),Oe=($&&m.spanToJSON($).data||{})[m.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(!(!$||!Oe||!["route","custom"].includes(Oe)))return m.spanToJSON($).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=ho({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(H){qt&&p.logger.error("[Replay]",H),qt&&this._options._experiments&&this._options._experiments.captureExceptions&&m.captureException(H)}_initializeSessionForSampling(H){const $=this._options.errorSampleRate>0,ce=Ys({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:H},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:$});this.session=ce}_checkSession(){if(!this.session)return!1;const H=this.session;return Li(H,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(H),!1):!0}async _refreshSession(H){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(H.id))}_addListeners(){try{s.document.addEventListener("visibilitychange",this._handleVisibilityChange),s.addEventListener("blur",this._handleWindowBlur),s.addEventListener("focus",this._handleWindowFocus),s.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Ld(this),this._hasInitializedCoreListeners=!0)}catch(H){this._handleException(H)}this._performanceCleanupCallback=Kr(this)}_removeListeners(){try{s.document.removeEventListener("visibilitychange",this._handleVisibilityChange),s.removeEventListener("blur",this._handleWindowBlur),s.removeEventListener("focus",this._handleWindowFocus),s.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(H){this._handleException(H)}}__init(){this._handleVisibilityChange=()=>{s.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const H=ye({category:"ui.blur"});this._doChangeToBackgroundTasks(H)}}__init3(){this._handleWindowFocus=()=>{const H=ye({category:"ui.focus"});this._doChangeToForegroundTasks(H)}}__init4(){this._handleKeyboardEvent=H=>{hn(this,H)}}_doChangeToBackgroundTasks(H){!this.session||Io(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(H&&this._createCustomBreadcrumb(H),this.conditionalFlush())}_doChangeToForegroundTasks(H){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ur("[Replay] Document has become active, but session has expired");return}H&&this._createCustomBreadcrumb(H)}_updateUserActivity(H=Date.now()){this._lastActivity=H}_updateSessionActivity(H=Date.now()){this.session&&(this.session.lastActivity=H,this._maybeSaveSession())}_createCustomBreadcrumb(H){this.addUpdate(()=>{this.throttledAddEvent({type:Gi.Custom,timestamp:H.timestamp||0,data:{tag:"breadcrumb",payload:H}})})}_addPerformanceEntries(){const H=pi(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(fr(this,H))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:H,eventBuffer:$}=this;if(!H||!$||H.segmentId)return;const ce=$.getEarliestTimestamp();ce&&ce<this._context.initialTimestamp&&(this._context.initialTimestamp=ce)}_popEventContext(){const H={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),H}async _runFlush(){const H=this.getSessionId();if(!this.session||!this.eventBuffer||!H){qt&&p.logger.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Nd(this),!!this.eventBuffer&&H===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const $=Date.now();if($-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const ce=this._popEventContext(),Oe=this.session.segmentId++;this._maybeSaveSession();const $e=await this.eventBuffer.finish();await Uc({replayId:H,recordingData:$e,segmentId:Oe,eventContext:ce,session:this.session,options:this.getOptions(),timestamp:$})}catch($){this._handleException($),this.stop({reason:"sendReplay"});const ce=m.getClient();ce&&ce.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:H=!1}={})=>{if(!this._isEnabled&&!H)return;if(!this.checkAndHandleExpiredSession()){qt&&p.logger.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const $=this.session.started,Oe=Date.now()-$;this._debouncedFlush.cancel();const $e=Oe<this._options.minReplayDuration,Ct=Oe>this._options.maxReplayDuration+5e3;if($e||Ct){ur(`[Replay] Session duration (${Math.floor(Oe/1e3)}s) is too ${$e?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),$e&&this._debouncedFlush();return}const jt=this.eventBuffer;if(jt&&this.session.segmentId===0&&!jt.hasCheckout&&ur("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(Ft){qt&&p.logger.error(Ft)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ys(this.session)}__init6(){this._onMutationHandler=H=>{const $=H.length,ce=this._options.mutationLimit,Oe=this._options.mutationBreadcrumbLimit,$e=ce&&$>ce;if($>Oe||$e){const Ct=ye({category:"replay.mutations",data:{count:$,limit:$e}});this._createCustomBreadcrumb(Ct)}return $e?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}n(Gs,"ReplayContainer");function Wi(N,H){return[...N,...H].join(",")}n(Wi,"getOption");function ec({mask:N,unmask:H,block:$,unblock:ce,ignore:Oe}){const $e=['base[href="/"]'],Ct=Wi(N,[".sentry-mask","[data-sentry-mask]"]),jt=Wi(H,[]);return{maskTextSelector:Ct,unmaskTextSelector:jt,blockSelector:Wi($,[".sentry-block","[data-sentry-block]",...$e]),unblockSelector:Wi(ce,[]),ignoreSelector:Wi(Oe,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}n(ec,"getPrivacyOptions");function Ud({el:N,key:H,maskAttributes:$,maskAllText:ce,privacyOptions:Oe,value:$e}){return!ce||Oe.unmaskTextSelector&&N.matches(Oe.unmaskTextSelector)?$e:$.includes(H)||H==="value"&&N.tagName==="INPUT"&&["submit","button"].includes(N.getAttribute("type")||"")?$e.replace(/[\S]/g,"*"):$e}n(Ud,"maskAttribute");const Vc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Vd=["content-length","content-type","accept"];let Hc=!1;const Wc=n(N=>new ml(N),"replayIntegration");class ml{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:H=f,flushMaxDelay:$=g,minReplayDuration:ce=A,maxReplayDuration:Oe=R,stickySession:$e=!0,useCompression:Ct=!0,workerUrl:jt,_experiments:Ft={},maskAllText:fn=!0,maskAllInputs:en=!0,blockAllMedia:Rn=!0,mutationBreadcrumbLimit:Wn=750,mutationLimit:li=1e4,slowClickTimeout:Ci=7e3,slowClickIgnoreSelectors:Ki=[],networkDetailAllowUrls:gr=[],networkDetailDenyUrls:or=[],networkCaptureBodies:Wr=!0,networkRequestHeaders:so=[],networkResponseHeaders:mo=[],mask:zo=[],maskAttributes:Lr=["title","placeholder"],unmask:nr=[],block:Zr=[],unblock:ns=[],ignore:ir=[],maskFn:zr,beforeAddRecordingEvent:ko,beforeErrorSampling:us}={}){this.name=ml.id;const as=ec({mask:zo,unmask:nr,block:Zr,unblock:ns,ignore:ir});if(this._recordingOptions={maskAllInputs:en,maskAllText:fn,maskInputOptions:{password:!0},maskTextFn:zr,maskInputFn:zr,maskAttributeFn:(Ps,Do,zs)=>Ud({maskAttributes:Lr,maskAllText:fn,privacyOptions:as,key:Ps,value:Do,el:zs}),...as,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ps=>{try{Ps.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:H,flushMaxDelay:$,minReplayDuration:Math.min(ce,w),maxReplayDuration:Math.min(Oe,R),stickySession:$e,useCompression:Ct,workerUrl:jt,blockAllMedia:Rn,maskAllInputs:en,maskAllText:fn,mutationBreadcrumbLimit:Wn,mutationLimit:li,slowClickTimeout:Ci,slowClickIgnoreSelectors:Ki,networkDetailAllowUrls:gr,networkDetailDenyUrls:or,networkCaptureBodies:Wr,networkRequestHeaders:Gc(so),networkResponseHeaders:Gc(mo),beforeAddRecordingEvent:ko,beforeErrorSampling:us,_experiments:Ft},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Vc}`:Vc),this._isInitialized&&p.isBrowser())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Hc}set _isInitialized(H){Hc=H}setupOnce(){p.isBrowser()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(H){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(H)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const H=Hd(this._initialOptions);this._replay=new Gs({options:H,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const $=m.getClient().getIntegrationByName("ReplayCanvas");if(!$)return;this._replay._canvas=$.getOptions()}catch{}}}n(ml,"Replay"),ml.__initStatic();function Hd(N){const H=m.getClient(),$=H&&H.getOptions(),ce={sessionSampleRate:0,errorSampleRate:0,...p.dropUndefinedKeys(N)};if(!$)return p.consoleSandbox(()=>{console.warn("SDK client is not available.")}),ce;const Oe=m.parseSampleRate($.replaysSessionSampleRate),$e=m.parseSampleRate($.replaysOnErrorSampleRate);return Oe==null&&$e==null&&p.consoleSandbox(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),Oe!=null&&(ce.sessionSampleRate=Oe),$e!=null&&(ce.errorSampleRate=$e),ce}n(Hd,"loadReplayOptionsFromClient");function Gc(N){return[...Vd,...N.map(H=>H.toLowerCase())]}n(Gc,"_getMergedNetworkHeaders");function Wd(){const N=m.getClient();return N&&N.getIntegrationByName("Replay")}n(Wd,"getReplay"),l.getReplay=Wd,l.replayIntegration=Wc},8151162894:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(3345899401),p=c(375537670),a=c(9046403702),s=c(7738910413);class i extends d.BaseClient{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t},o=a.WINDOW.SENTRY_SDK_SOURCE||h.getSDKSource();d.applySdkMetadata(r,"browser",["browser"],o),super(r),r.sendClientReports&&a.WINDOW.document&&a.WINDOW.document.addEventListener("visibilitychange",()=>{a.WINDOW.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return p.eventFromException(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",o){return p.eventFromMessage(this._options.stackParser,t,r,o,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){m.DEBUG_BUILD&&h.logger.warn("SDK not enabled, will not capture user feedback.");return}const r=s.createUserFeedbackEnvelope(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,o)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){m.DEBUG_BUILD&&h.logger.log("No outcomes to send");return}if(!this._dsn){m.DEBUG_BUILD&&h.logger.log("No dsn provided, will not send outcomes");return}m.DEBUG_BUILD&&h.logger.log("Sending outcomes:",t);const r=h.createClientReportEnvelope(t,this._options.tunnel&&h.dsnToString(this._dsn));this.sendEnvelope(r)}}n(i,"BrowserClient"),l.BrowserClient=i},3345899401:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;l.DEBUG_BUILD=c},375537670:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614);function m(b,E){const T=s(b,E),I={type:E&&E.name,value:r(E)};return T.length&&(I.stacktrace={frames:T}),I.type===void 0&&I.value===""&&(I.value="Unrecoverable error caught"),I}n(m,"exceptionFromError");function p(b,E,T,I){const A=d.getClient(),w=A&&A.getOptions().normalizeDepth,R=_(E),P={__serialized__:h.normalizeToSize(E,w)};if(R)return{exception:{values:[m(b,R)]},extra:P};const x={exception:{values:[{type:h.isEvent(E)?E.constructor.name:I?"UnhandledRejection":"Error",value:u(E,{isUnhandledRejection:I})}]},extra:P};if(T){const z=s(b,T);z.length&&(x.exception.values[0].stacktrace={frames:z})}return x}n(p,"eventFromPlainObject");function a(b,E){return{exception:{values:[m(b,E)]}}}n(a,"eventFromError");function s(b,E){const T=E.stacktrace||E.stack||"",I=e(E),A=t(E);try{return b(T,I,A)}catch{}return[]}n(s,"parseStackFrames");const i=/Minified React error #\d+;/i;function e(b){return b&&i.test(b.message)?1:0}n(e,"getSkipFirstStackStringLines");function t(b){return typeof b.framesToPop=="number"?b.framesToPop:0}n(t,"getPopFirstTopFrames");function r(b){const E=b&&b.message;return E?E.error&&typeof E.error.message=="string"?E.error.message:E:"No error message"}n(r,"extractMessage");function o(b,E,T,I){const A=T&&T.syntheticException||void 0,w=g(b,E,A,I);return h.addExceptionMechanism(w),w.level="error",T&&T.event_id&&(w.event_id=T.event_id),h.resolvedSyncPromise(w)}n(o,"eventFromException");function f(b,E,T="info",I,A){const w=I&&I.syntheticException||void 0,R=v(b,E,w,A);return R.level=T,I&&I.event_id&&(R.event_id=I.event_id),h.resolvedSyncPromise(R)}n(f,"eventFromMessage");function g(b,E,T,I,A){let w;if(h.isErrorEvent(E)&&E.error)return a(b,E.error);if(h.isDOMError(E)||h.isDOMException(E)){const R=E;if("stack"in E)w=a(b,E);else{const P=R.name||(h.isDOMError(R)?"DOMError":"DOMException"),x=R.message?`${P}: ${R.message}`:P;w=v(b,x,T,I),h.addExceptionTypeValue(w,x)}return"code"in R&&(w.tags={...w.tags,"DOMException.code":`${R.code}`}),w}return h.isError(E)?a(b,E):h.isPlainObject(E)||h.isEvent(E)?(w=p(b,E,T,A),h.addExceptionMechanism(w,{synthetic:!0}),w):(w=v(b,E,T,I),h.addExceptionTypeValue(w,`${E}`,void 0),h.addExceptionMechanism(w,{synthetic:!0}),w)}n(g,"eventFromUnknownInput");function v(b,E,T,I){const A={};if(I&&T){const w=s(b,T);w.length&&(A.exception={values:[{value:E,stacktrace:{frames:w}}]})}if(h.isParameterizedString(E)){const{__sentry_template_string__:w,__sentry_template_values__:R}=E;return A.logentry={message:w,params:R},A}return A.message=E,A}n(v,"eventFromString");function u(b,{isUnhandledRejection:E}){const T=h.extractExceptionKeysForMessage(b),I=E?"promise rejection":"exception";return h.isErrorEvent(b)?`Event \`ErrorEvent\` captured as ${I} with message \`${b.message}\``:h.isEvent(b)?`Event \`${S(b)}\` (type=${b.type}) captured as ${I}`:`Object captured as ${I} with keys: ${T}`}n(u,"getNonErrorObjectExceptionValue");function S(b){try{const E=Object.getPrototypeOf(b);return E?E.constructor.name:void 0}catch{}}n(S,"getObjectClassName");function _(b){for(const E in b)if(Object.prototype.hasOwnProperty.call(b,E)){const T=b[E];if(T instanceof Error)return T}}n(_,"getErrorPropertyFromObject"),l.eventFromException=o,l.eventFromMessage=f,l.eventFromUnknownInput=g,l.exceptionFromError=m},2915497046:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6049995776),h=c(1076637753),m=d.buildFeedbackIntegration({lazyLoadIntegration:h.lazyLoadIntegration});l.feedbackAsyncIntegration=m},9038494489:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6049995776),h=c(1076637753),m=d.buildFeedbackIntegration({lazyLoadIntegration:h.lazyLoadIntegration,getModalIntegration:()=>d.feedbackModalIntegration,getScreenshotIntegration:()=>d.feedbackScreenshotIntegration});l.feedbackSyncIntegration=m},9046403702:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=h.GLOBAL_OBJ;let p=0;function a(){return p>0}n(a,"shouldIgnoreOnError");function s(){p++,setTimeout(()=>{p--})}n(s,"ignoreNextOnError");function i(e,t={},r){if(typeof e!="function")return e;try{const f=e.__sentry_wrapped__;if(f)return f;if(h.getOriginalFunction(e))return e}catch{return e}const o=n(function(){const f=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);const g=f.map(v=>i(v,t));return e.apply(this,g)}catch(g){throw s(),d.withScope(v=>{v.addEventProcessor(u=>(t.mechanism&&(h.addExceptionTypeValue(u,void 0,void 0),h.addExceptionMechanism(u,t.mechanism)),u.extra={...u.extra,arguments:f},u)),d.captureException(g)}),g}},"sentryWrapped");try{for(const f in e)Object.prototype.hasOwnProperty.call(e,f)&&(o[f]=e[f])}catch{}h.markFunctionWrapped(o,e),h.addNonEnumerableProperty(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get(){return e.name}})}catch{}return o}n(i,"wrap"),l.WINDOW=m,l.ignoreNextOnError=s,l.shouldIgnoreOnError=a,l.wrap=i},8904626639:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(1114790286),m=c(9046403702),p=c(8151162894),a=c(8685600704),s=c(4795369790),i=c(375537670),e=c(7738910413),t=c(7672786771),r=c(3985552739),o=c(2334015581),f=c(7098914998),g=c(4305747877),v=c(9919948800),u=c(1076637753),S=c(918703877),_=c(328044736),b=c(4269444637),E=c(6979168052),T=c(4947629935),I=c(2915497046),A=c(9038494489),w=c(6049995776),R=c(6520656099),P=c(5559796378),x=c(7824548363),z=c(5380267868);l.SDK_VERSION=d.SDK_VERSION,l.SEMANTIC_ATTRIBUTE_SENTRY_OP=d.SEMANTIC_ATTRIBUTE_SENTRY_OP,l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,l.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=d.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=d.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,l.Scope=d.Scope,l.addBreadcrumb=d.addBreadcrumb,l.addEventProcessor=d.addEventProcessor,l.addIntegration=d.addIntegration,l.addTracingExtensions=d.addTracingExtensions,l.captureConsoleIntegration=d.captureConsoleIntegration,l.captureEvent=d.captureEvent,l.captureException=d.captureException,l.captureFeedback=d.captureFeedback,l.captureMessage=d.captureMessage,l.captureSession=d.captureSession,l.close=d.close,l.continueTrace=d.continueTrace,l.createTransport=d.createTransport,l.debugIntegration=d.debugIntegration,l.dedupeIntegration=d.dedupeIntegration,l.endSession=d.endSession,l.extraErrorDataIntegration=d.extraErrorDataIntegration,l.flush=d.flush,l.functionToStringIntegration=d.functionToStringIntegration,l.getActiveSpan=d.getActiveSpan,l.getClient=d.getClient,l.getCurrentHub=d.getCurrentHub,l.getCurrentScope=d.getCurrentScope,l.getGlobalScope=d.getGlobalScope,l.getIsolationScope=d.getIsolationScope,l.getRootSpan=d.getRootSpan,l.getSpanDescendants=d.getSpanDescendants,l.getSpanStatusFromHttpCode=d.getSpanStatusFromHttpCode,l.inboundFiltersIntegration=d.inboundFiltersIntegration,l.isInitialized=d.isInitialized,l.lastEventId=d.lastEventId,l.makeMultiplexedTransport=d.makeMultiplexedTransport,l.moduleMetadataIntegration=d.moduleMetadataIntegration,l.parameterize=d.parameterize,l.registerSpanErrorInstrumentation=d.registerSpanErrorInstrumentation,l.rewriteFramesIntegration=d.rewriteFramesIntegration,l.sessionTimingIntegration=d.sessionTimingIntegration,l.setContext=d.setContext,l.setCurrentClient=d.setCurrentClient,l.setExtra=d.setExtra,l.setExtras=d.setExtras,l.setHttpStatus=d.setHttpStatus,l.setMeasurement=d.setMeasurement,l.setTag=d.setTag,l.setTags=d.setTags,l.setUser=d.setUser,l.spanToBaggageHeader=d.spanToBaggageHeader,l.spanToJSON=d.spanToJSON,l.spanToTraceHeader=d.spanToTraceHeader,l.startInactiveSpan=d.startInactiveSpan,l.startSession=d.startSession,l.startSpan=d.startSpan,l.startSpanManual=d.startSpanManual,l.withActiveSpan=d.withActiveSpan,l.withIsolationScope=d.withIsolationScope,l.withScope=d.withScope,l.zodErrorsIntegration=d.zodErrorsIntegration,l.metrics=h.metrics,l.WINDOW=m.WINDOW,l.BrowserClient=p.BrowserClient,l.makeFetchTransport=a.makeFetchTransport,l.chromeStackLineParser=s.chromeStackLineParser,l.defaultStackLineParsers=s.defaultStackLineParsers,l.defaultStackParser=s.defaultStackParser,l.geckoStackLineParser=s.geckoStackLineParser,l.opera10StackLineParser=s.opera10StackLineParser,l.opera11StackLineParser=s.opera11StackLineParser,l.winjsStackLineParser=s.winjsStackLineParser,l.eventFromException=i.eventFromException,l.eventFromMessage=i.eventFromMessage,l.exceptionFromError=i.exceptionFromError,l.createUserFeedbackEnvelope=e.createUserFeedbackEnvelope,l.captureUserFeedback=t.captureUserFeedback,l.forceLoad=t.forceLoad,l.getDefaultIntegrations=t.getDefaultIntegrations,l.init=t.init,l.onLoad=t.onLoad,l.showReportDialog=t.showReportDialog,l.breadcrumbsIntegration=r.breadcrumbsIntegration,l.globalHandlersIntegration=o.globalHandlersIntegration,l.httpContextIntegration=f.httpContextIntegration,l.linkedErrorsIntegration=g.linkedErrorsIntegration,l.browserApiErrorsIntegration=v.browserApiErrorsIntegration,l.lazyLoadIntegration=u.lazyLoadIntegration,l.reportingObserverIntegration=S.reportingObserverIntegration,l.httpClientIntegration=_.httpClientIntegration,l.contextLinesIntegration=b.contextLinesIntegration,l.getReplay=E.getReplay,l.replayIntegration=E.replayIntegration,l.replayCanvasIntegration=T.replayCanvasIntegration,l.feedbackAsyncIntegration=I.feedbackAsyncIntegration,l.feedbackIntegration=A.feedbackSyncIntegration,l.feedbackSyncIntegration=A.feedbackSyncIntegration,l.getFeedback=w.getFeedback,l.sendFeedback=w.sendFeedback,l.defaultRequestInstrumentationOptions=R.defaultRequestInstrumentationOptions,l.instrumentOutgoingRequests=R.instrumentOutgoingRequests,l.browserTracingIntegration=P.browserTracingIntegration,l.startBrowserTracingNavigationSpan=P.startBrowserTracingNavigationSpan,l.startBrowserTracingPageLoadSpan=P.startBrowserTracingPageLoadSpan,l.makeBrowserOfflineTransport=x.makeBrowserOfflineTransport,l.browserProfilingIntegration=z.browserProfilingIntegration},3985552739:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(3778408185),h=c(8482989710),m=c(7563271614),p=c(3345899401),a=c(9046403702),s=1024,i="Breadcrumbs",e=n((_={})=>{const b={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,..._};return{name:i,setup(E){b.console&&m.addConsoleInstrumentationHandler(f(E)),b.dom&&d.addClickKeypressInstrumentationHandler(o(E,b.dom)),b.xhr&&d.addXhrInstrumentationHandler(g(E)),b.fetch&&m.addFetchInstrumentationHandler(v(E)),b.history&&d.addHistoryInstrumentationHandler(u(E)),b.sentry&&E.on("beforeSendEvent",r(E))}}},"_breadcrumbsIntegration"),t=h.defineIntegration(e);function r(_){return n(function(E){h.getClient()===_&&h.addBreadcrumb({category:`sentry.${E.type==="transaction"?"transaction":"event"}`,event_id:E.event_id,level:E.level,message:m.getEventDescription(E)},{event:E})},"addSentryBreadcrumb")}n(r,"_getSentryBreadcrumbHandler");function o(_,b){return n(function(T){if(h.getClient()!==_)return;let I,A,w=typeof b=="object"?b.serializeAttribute:void 0,R=typeof b=="object"&&typeof b.maxStringLength=="number"?b.maxStringLength:void 0;R&&R>s&&(p.DEBUG_BUILD&&m.logger.warn(`\`dom.maxStringLength\` cannot exceed ${s}, but a value of ${R} was configured. Sentry will use ${s} instead.`),R=s),typeof w=="string"&&(w=[w]);try{const x=T.event,z=S(x)?x.target:x;I=m.htmlTreeAsString(z,{keyAttrs:w,maxStringLength:R}),A=m.getComponentName(z)}catch{I="<unknown>"}if(I.length===0)return;const P={category:`ui.${T.name}`,message:I};A&&(P.data={"ui.component_name":A}),h.addBreadcrumb(P,{event:T.event,name:T.name,global:T.global})},"_innerDomBreadcrumb")}n(o,"_getDomBreadcrumbHandler");function f(_){return n(function(E){if(h.getClient()!==_)return;const T={category:"console",data:{arguments:E.args,logger:"console"},level:m.severityLevelFromString(E.level),message:m.safeJoin(E.args," ")};if(E.level==="assert")if(E.args[0]===!1)T.message=`Assertion failed: ${m.safeJoin(E.args.slice(1)," ")||"console.assert"}`,T.data.arguments=E.args.slice(1);else return;h.addBreadcrumb(T,{input:E.args,level:E.level})},"_consoleBreadcrumb")}n(f,"_getConsoleBreadcrumbHandler");function g(_){return n(function(E){if(h.getClient()!==_)return;const{startTimestamp:T,endTimestamp:I}=E,A=E.xhr[d.SENTRY_XHR_DATA_KEY];if(!T||!I||!A)return;const{method:w,url:R,status_code:P,body:x}=A,z={method:w,url:R,status_code:P},Z={xhr:E.xhr,input:x,startTimestamp:T,endTimestamp:I};h.addBreadcrumb({category:"xhr",data:z,type:"http"},Z)},"_xhrBreadcrumb")}n(g,"_getXhrBreadcrumbHandler");function v(_){return n(function(E){if(h.getClient()!==_)return;const{startTimestamp:T,endTimestamp:I}=E;if(I&&!(E.fetchData.url.match(/sentry_key/)&&E.fetchData.method==="POST"))if(E.error){const A=E.fetchData,w={data:E.error,input:E.args,startTimestamp:T,endTimestamp:I};h.addBreadcrumb({category:"fetch",data:A,level:"error",type:"http"},w)}else{const A=E.response,w={...E.fetchData,status_code:A&&A.status},R={input:E.args,response:A,startTimestamp:T,endTimestamp:I};h.addBreadcrumb({category:"fetch",data:w,type:"http"},R)}},"_fetchBreadcrumb")}n(v,"_getFetchBreadcrumbHandler");function u(_){return n(function(E){if(h.getClient()!==_)return;let T=E.from,I=E.to;const A=m.parseUrl(a.WINDOW.location.href);let w=T?m.parseUrl(T):void 0;const R=m.parseUrl(I);(!w||!w.path)&&(w=A),A.protocol===R.protocol&&A.host===R.host&&(I=R.relative),A.protocol===w.protocol&&A.host===w.host&&(T=w.relative),h.addBreadcrumb({category:"navigation",data:{from:T,to:I}})},"_historyBreadcrumb")}n(u,"_getHistoryBreadcrumbHandler");function S(_){return!!_&&!!_.target}n(S,"_isEvent"),l.breadcrumbsIntegration=t},9919948800:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(9046403702),p=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a="BrowserApiErrors",s=n((f={})=>{const g={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...f};return{name:a,setupOnce(){g.setTimeout&&h.fill(m.WINDOW,"setTimeout",e),g.setInterval&&h.fill(m.WINDOW,"setInterval",e),g.requestAnimationFrame&&h.fill(m.WINDOW,"requestAnimationFrame",t),g.XMLHttpRequest&&"XMLHttpRequest"in m.WINDOW&&h.fill(XMLHttpRequest.prototype,"send",r);const v=g.eventTarget;v&&(Array.isArray(v)?v:p).forEach(o)}}},"_browserApiErrorsIntegration"),i=d.defineIntegration(s);function e(f){return function(...g){const v=g[0];return g[0]=m.wrap(v,{mechanism:{data:{function:h.getFunctionName(f)},handled:!1,type:"instrument"}}),f.apply(this,g)}}n(e,"_wrapTimeFunction");function t(f){return function(g){return f.apply(this,[m.wrap(g,{mechanism:{data:{function:"requestAnimationFrame",handler:h.getFunctionName(f)},handled:!1,type:"instrument"}})])}}n(t,"_wrapRAF");function r(f){return function(...g){const v=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(S=>{S in v&&typeof v[S]=="function"&&h.fill(v,S,function(_){const b={mechanism:{data:{function:S,handler:h.getFunctionName(_)},handled:!1,type:"instrument"}},E=h.getOriginalFunction(_);return E&&(b.mechanism.data.handler=h.getFunctionName(E)),m.wrap(_,b)})}),f.apply(this,g)}}n(r,"_wrapXHR");function o(f){const g=m.WINDOW,v=g[f]&&g[f].prototype;!v||!v.hasOwnProperty||!v.hasOwnProperty("addEventListener")||(h.fill(v,"addEventListener",function(u){return function(S,_,b){try{typeof _.handleEvent=="function"&&(_.handleEvent=m.wrap(_.handleEvent,{mechanism:{data:{function:"handleEvent",handler:h.getFunctionName(_),target:f},handled:!1,type:"instrument"}}))}catch{}return u.apply(this,[S,m.wrap(_,{mechanism:{data:{function:"addEventListener",handler:h.getFunctionName(_),target:f},handled:!1,type:"instrument"}}),b])}}),h.fill(v,"removeEventListener",function(u){return function(S,_,b){const E=_;try{const T=E&&E.__sentry_wrapped__;T&&u.call(this,S,T,b)}catch{}return u.call(this,S,E,b)}}))}n(o,"_wrapEventTarget"),l.browserApiErrorsIntegration=i},4269444637:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=h.GLOBAL_OBJ,p=7,a="ContextLines",s=n((r={})=>{const o=r.frameContextLines!=null?r.frameContextLines:p;return{name:a,processEvent(f){return e(f,o)}}},"_contextLinesIntegration"),i=d.defineIntegration(s);function e(r,o){const f=m.document,g=m.location&&h.stripUrlQueryAndFragment(m.location.href);if(!f||!g)return r;const v=r.exception&&r.exception.values;if(!v||!v.length)return r;const u=f.documentElement.innerHTML;if(!u)return r;const S=["<!DOCTYPE html>","<html>",...u.split(`
`),"</html>"];return v.forEach(_=>{const b=_.stacktrace;b&&b.frames&&(b.frames=b.frames.map(E=>t(E,S,g,o)))}),r}n(e,"addSourceContext");function t(r,o,f,g){return r.filename!==f||!r.lineno||!o.length||h.addContextToFrame(o,r,g),r}n(t,"applySourceContextToFrame"),l.applySourceContextToFrame=t,l.contextLinesIntegration=i},2334015581:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(3345899401),p=c(375537670),a=c(9046403702),s="GlobalHandlers",i=n((S={})=>{const _={onerror:!0,onunhandledrejection:!0,...S};return{name:s,setupOnce(){Error.stackTraceLimit=50},setup(b){_.onerror&&(t(b),v("onerror")),_.onunhandledrejection&&(r(b),v("onunhandledrejection"))}}},"_globalHandlersIntegration"),e=d.defineIntegration(i);function t(S){h.addGlobalErrorInstrumentationHandler(_=>{const{stackParser:b,attachStacktrace:E}=u();if(d.getClient()!==S||a.shouldIgnoreOnError())return;const{msg:T,url:I,line:A,column:w,error:R}=_,P=g(p.eventFromUnknownInput(b,R||T,void 0,E,!1),I,A,w);P.level="error",d.captureEvent(P,{originalException:R,mechanism:{handled:!1,type:"onerror"}})})}n(t,"_installGlobalOnErrorHandler");function r(S){h.addGlobalUnhandledRejectionInstrumentationHandler(_=>{const{stackParser:b,attachStacktrace:E}=u();if(d.getClient()!==S||a.shouldIgnoreOnError())return;const T=o(_),I=h.isPrimitive(T)?f(T):p.eventFromUnknownInput(b,T,void 0,E,!0);I.level="error",d.captureEvent(I,{originalException:T,mechanism:{handled:!1,type:"onunhandledrejection"}})})}n(r,"_installGlobalOnUnhandledRejectionHandler");function o(S){if(h.isPrimitive(S))return S;try{if("reason"in S)return S.reason;if("detail"in S&&"reason"in S.detail)return S.detail.reason}catch{}return S}n(o,"_getUnhandledRejectionError");function f(S){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(S)}`}]}}}n(f,"_eventFromRejectionWithPrimitive");function g(S,_,b,E){const T=S.exception=S.exception||{},I=T.values=T.values||[],A=I[0]=I[0]||{},w=A.stacktrace=A.stacktrace||{},R=w.frames=w.frames||[],P=isNaN(parseInt(E,10))?void 0:E,x=isNaN(parseInt(b,10))?void 0:b,z=h.isString(_)&&_.length>0?_:h.getLocationHref();return R.length===0&&R.push({colno:P,filename:z,function:h.UNKNOWN_FUNCTION,in_app:!0,lineno:x}),S}n(g,"_enhanceEventWithInitialFrame");function v(S){m.DEBUG_BUILD&&h.logger.log(`Global Handler attached: ${S}`)}n(v,"globalHandlerLog");function u(){const S=d.getClient();return S&&S.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}n(u,"getOptions"),l.globalHandlersIntegration=e},328044736:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(3778408185),h=c(8482989710),m=c(7563271614),p=c(3345899401),a="HttpClient",s=n((A={})=>{const w={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...A};return{name:a,setup(R){S(R,w),_(R,w)}}},"_httpClientIntegration"),i=h.defineIntegration(s);function e(A,w,R,P){if(b(A,R.status,R.url)){const x=T(w,P);let z,Z,re,ne;I()&&([{headers:z,cookies:re},{headers:Z,cookies:ne}]=[{cookieHeader:"Cookie",obj:x},{cookieHeader:"Set-Cookie",obj:R}].map(({cookieHeader:ge,obj:Pe})=>{const He=f(Pe.headers);let pt;try{const Ht=He[ge]||He[ge.toLowerCase()]||void 0;Ht&&(pt=o(Ht))}catch{p.DEBUG_BUILD&&m.logger.log(`Could not extract cookies from header ${ge}`)}return{headers:He,cookies:pt}}));const he=E({url:x.url,method:x.method,status:R.status,requestHeaders:z,responseHeaders:Z,requestCookies:re,responseCookies:ne});h.captureEvent(he)}}n(e,"_fetchResponseHandler");function t(A,w,R,P){if(b(A,w.status,w.responseURL)){let x,z,Z;if(I()){try{const ne=w.getResponseHeader("Set-Cookie")||w.getResponseHeader("set-cookie")||void 0;ne&&(z=o(ne))}catch{p.DEBUG_BUILD&&m.logger.log("Could not extract cookies from response headers")}try{Z=g(w)}catch{p.DEBUG_BUILD&&m.logger.log("Could not extract headers from response")}x=P}const re=E({url:w.responseURL,method:R,status:w.status,requestHeaders:x,responseHeaders:Z,responseCookies:z});h.captureEvent(re)}}n(t,"_xhrResponseHandler");function r(A){if(A){const w=A["Content-Length"]||A["content-length"];if(w)return parseInt(w,10)}}n(r,"_getResponseSizeFromHeaders");function o(A){return A.split("; ").reduce((w,R)=>{const[P,x]=R.split("=");return w[P]=x,w},{})}n(o,"_parseCookieString");function f(A){const w={};return A.forEach((R,P)=>{w[P]=R}),w}n(f,"_extractFetchHeaders");function g(A){const w=A.getAllResponseHeaders();return w?w.split(`\r
`).reduce((R,P)=>{const[x,z]=P.split(": ");return R[x]=z,R},{}):{}}n(g,"_getXHRResponseHeaders");function v(A,w){return A.some(R=>typeof R=="string"?w.includes(R):R.test(w))}n(v,"_isInGivenRequestTargets");function u(A,w){return A.some(R=>typeof R=="number"?R===w:w>=R[0]&&w<=R[1])}n(u,"_isInGivenStatusRanges");function S(A,w){m.supportsNativeFetch()&&m.addFetchInstrumentationHandler(R=>{if(h.getClient()!==A)return;const{response:P,args:x}=R,[z,Z]=x;P&&e(w,z,P,Z)})}n(S,"_wrapFetch");function _(A,w){"XMLHttpRequest"in m.GLOBAL_OBJ&&d.addXhrInstrumentationHandler(R=>{if(h.getClient()!==A)return;const P=R.xhr,x=P[d.SENTRY_XHR_DATA_KEY];if(!x)return;const{method:z,request_headers:Z}=x;try{t(w,P,z,Z)}catch(re){p.DEBUG_BUILD&&m.logger.warn("Error while extracting response event form XHR response",re)}})}n(_,"_wrapXHR");function b(A,w,R){return u(A.failedRequestStatusCodes,w)&&v(A.failedRequestTargets,R)&&!h.isSentryRequestUrl(R,h.getClient())}n(b,"_shouldCaptureResponse");function E(A){const w=`HTTP Client Error with status code: ${A.status}`,R={message:w,exception:{values:[{type:"Error",value:w}]},request:{url:A.url,method:A.method,headers:A.requestHeaders,cookies:A.requestCookies},contexts:{response:{status_code:A.status,headers:A.responseHeaders,cookies:A.responseCookies,body_size:r(A.responseHeaders)}}};return m.addExceptionMechanism(R,{type:"http.client",handled:!1}),R}n(E,"_createEvent");function T(A,w){return!w&&A instanceof Request||A instanceof Request&&A.bodyUsed?A:new Request(A,w)}n(T,"_getRequest");function I(){const A=h.getClient();return A?Boolean(A.getOptions().sendDefaultPii):!1}n(I,"_shouldSendDefaultPii"),l.httpClientIntegration=i},7098914998:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(9046403702),m=d.defineIntegration(()=>({name:"HttpContext",preprocessEvent(p){if(!h.WINDOW.navigator&&!h.WINDOW.location&&!h.WINDOW.document)return;const a=p.request&&p.request.url||h.WINDOW.location&&h.WINDOW.location.href,{referrer:s}=h.WINDOW.document||{},{userAgent:i}=h.WINDOW.navigator||{},e={...p.request&&p.request.headers,...s&&{Referer:s},...i&&{"User-Agent":i}},t={...p.request,...a&&{url:a},headers:e};p.request=t}}));l.httpContextIntegration=m},4305747877:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(375537670),p="cause",a=5,s="LinkedErrors",i=n((t={})=>{const r=t.limit||a,o=t.key||p;return{name:s,preprocessEvent(f,g,v){const u=v.getOptions();h.applyAggregateErrorsToEvent(m.exceptionFromError,u.stackParser,u.maxValueLength,o,r,f,g)}}},"_linkedErrorsIntegration"),e=d.defineIntegration(i);l.linkedErrorsIntegration=e},918703877:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=h.GLOBAL_OBJ,p="ReportingObserver",a=new WeakMap,s=n((e={})=>{const t=e.types||["crash","deprecation","intervention"];function r(o){if(a.has(d.getClient()))for(const f of o)d.withScope(g=>{g.setExtra("url",f.url);const v=`ReportingObserver [${f.type}]`;let u="No details available";if(f.body){const S={};for(const _ in f.body)S[_]=f.body[_];if(g.setExtra("body",S),f.type==="crash"){const _=f.body;u=[_.crashId||"",_.reason||""].join(" ").trim()||u}else u=f.body.message||u}d.captureMessage(`${v}: ${u}`)})}return n(r,"handler"),{name:p,setupOnce(){if(!h.supportsReportingObserver())return;new m.ReportingObserver(r,{buffered:!0,types:t}).observe()},setup(o){a.set(o,!0)}}},"_reportingObserverIntegration"),i=d.defineIntegration(s);l.reportingObserverIntegration=i},1114790286:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710);function h(i,e=1,t){d.metrics.increment(d.BrowserMetricsAggregator,i,e,t)}n(h,"increment");function m(i,e,t){d.metrics.distribution(d.BrowserMetricsAggregator,i,e,t)}n(m,"distribution");function p(i,e,t){d.metrics.set(d.BrowserMetricsAggregator,i,e,t)}n(p,"set");function a(i,e,t){d.metrics.gauge(d.BrowserMetricsAggregator,i,e,t)}n(a,"gauge");const s={increment:h,distribution:m,set:p,gauge:a};l.metrics=s},5380267868:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(3345899401),p=c(3423034766),a=c(9596377211),s="BrowserProfiling",i=n(()=>({name:s,setup(t){const r=d.getActiveSpan(),o=r&&d.getRootSpan(r);o&&a.isAutomatedPageLoadSpan(o)&&a.shouldProfileSpan(o)&&p.startProfileForSpan(o),t.on("spanStart",f=>{f===d.getRootSpan(f)&&a.shouldProfileSpan(f)&&p.startProfileForSpan(f)}),t.on("beforeEnvelope",f=>{if(!a.getActiveProfilesCount())return;const g=a.findProfiledTransactionsFromEnvelope(f);if(!g.length)return;const v=[];for(const u of g){const S=u&&u.contexts,_=S&&S.profile&&S.profile.profile_id,b=S&&S.profile&&S.profile.start_timestamp;if(typeof _!="string"){m.DEBUG_BUILD&&h.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!_){m.DEBUG_BUILD&&h.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}S&&S.profile&&delete S.profile;const E=a.takeProfileFromGlobalCache(_);if(!E){m.DEBUG_BUILD&&h.logger.log(`[Profiling] Could not retrieve profile for span: ${_}`);continue}const T=a.createProfilingEvent(_,b,E,u);T&&v.push(T)}a.addProfilesToEnvelope(f,v)})}}),"_browserProfilingIntegration"),e=d.defineIntegration(i);l.browserProfilingIntegration=e},3423034766:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(3345899401),p=c(9046403702),a=c(9596377211);function s(i){let e;a.isAutomatedPageLoadSpan(i)&&(e=h.timestampInSeconds()*1e3);const t=a.startJSSelfProfile();if(!t)return;m.DEBUG_BUILD&&h.logger.log(`[Profiling] started profiling span: ${d.spanToJSON(i).description}`);const r=h.uuid4();d.getCurrentScope().setContext("profile",{profile_id:r,start_timestamp:e});async function o(){if(i&&t)return t.stop().then(u=>{if(f&&(p.WINDOW.clearTimeout(f),f=void 0),m.DEBUG_BUILD&&h.logger.log(`[Profiling] stopped profiling of span: ${d.spanToJSON(i).description}`),!u){m.DEBUG_BUILD&&h.logger.log(`[Profiling] profiler returned null profile for: ${d.spanToJSON(i).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}a.addProfileToGlobalCache(r,u)}).catch(u=>{m.DEBUG_BUILD&&h.logger.log("[Profiling] error while stopping profiler:",u)})}n(o,"onProfileHandler");let f=p.WINDOW.setTimeout(()=>{m.DEBUG_BUILD&&h.logger.log("[Profiling] max profile duration elapsed, stopping profiling for:",d.spanToJSON(i).description),o()},a.MAX_PROFILE_DURATION_MS);const g=i.end.bind(i);function v(){return i?(o().then(()=>{g()},()=>{g()}),i):g()}n(v,"profilingWrappedSpanEnd"),i.end=v}n(s,"startProfileForSpan"),l.startProfileForSpan=s},9596377211:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(3345899401),p=c(9046403702),a=1e6,s=String(0),i="main";let e="",t="",r="",o=p.WINDOW.navigator&&p.WINDOW.navigator.userAgent||"",f="";const g=p.WINDOW.navigator&&p.WINDOW.navigator.language||p.WINDOW.navigator&&p.WINDOW.navigator.languages&&p.WINDOW.navigator.languages[0]||"";function v(it){return typeof it=="object"&&it!==null&&"getHighEntropyValues"in it}n(v,"isUserAgentData");const u=p.WINDOW.navigator&&p.WINDOW.navigator.userAgentData;v(u)&&u.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(it=>{if(e=it.platform||"",r=it.architecture||"",f=it.model||"",t=it.platformVersion||"",it.fullVersionList&&it.fullVersionList.length>0){const ct=it.fullVersionList[it.fullVersionList.length-1];o=`${ct.brand} ${ct.version}`}}).catch(it=>{});function S(it){return!("thread_metadata"in it)}n(S,"isProcessedJSSelfProfile");function _(it){return S(it)?I(it):it}n(_,"enrichWithThreadInformation");function b(it){const ct=it&&it.contexts&&it.contexts.trace&&it.contexts.trace.trace_id;return typeof ct=="string"&&ct.length!==32&&m.DEBUG_BUILD&&h.logger.log(`[Profiling] Invalid traceId: ${ct} on profiled event`),typeof ct!="string"?"":ct}n(b,"getTraceId");function E(it,ct,rt,_t){if(_t.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(rt==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${rt} instead.`);const Gt=b(_t),Kt=_(rt),Ye=ct||(typeof _t.start_timestamp=="number"?_t.start_timestamp*1e3:h.timestampInSeconds()*1e3),Xe=typeof _t.timestamp=="number"?_t.timestamp*1e3:h.timestampInSeconds()*1e3;return{event_id:it,timestamp:new Date(Ye).toISOString(),platform:"javascript",version:"1",release:_t.release||"",environment:_t.environment||d.DEFAULT_ENVIRONMENT,runtime:{name:"javascript",version:p.WINDOW.navigator.userAgent},os:{name:e,version:t,build_number:o},device:{locale:g,model:f,manufacturer:o,architecture:r,is_emulator:!1},debug_meta:{images:P(rt.resources)},profile:Kt,transactions:[{name:_t.transaction||"",id:_t.event_id||h.uuid4(),trace_id:Gt,active_thread_id:s,relative_start_ns:"0",relative_end_ns:((Xe-Ye)*1e6).toFixed(0)}]}}n(E,"createProfilePayload");function T(it){return d.spanToJSON(it).op==="pageload"}n(T,"isAutomatedPageLoadSpan");function I(it){let ct,rt=0;const _t={samples:[],stacks:[],frames:[],thread_metadata:{[s]:{name:i}}};if(!it.samples.length)return _t;const Gt=it.samples[0].timestamp,Kt=typeof performance.timeOrigin=="number"?performance.timeOrigin:h.browserPerformanceTimeOrigin||0,Ye=Kt-(h.browserPerformanceTimeOrigin||Kt);for(let Xe=0;Xe<it.samples.length;Xe++){const It=it.samples[Xe];if(It.stackId===void 0){ct===void 0&&(ct=rt,_t.stacks[ct]=[],rt++),_t.samples[Xe]={elapsed_since_start_ns:((It.timestamp+Ye-Gt)*a).toFixed(0),stack_id:ct,thread_id:s};continue}let kt=it.stacks[It.stackId];const gt=[];for(;kt;){gt.push(kt.frameId);const pn=it.frames[kt.frameId];_t.frames[kt.frameId]===void 0&&(_t.frames[kt.frameId]={function:pn.name,abs_path:typeof pn.resourceId=="number"?it.resources[pn.resourceId]:void 0,lineno:pn.line,colno:pn.column}),kt=kt.parentId===void 0?void 0:it.stacks[kt.parentId]}const En={elapsed_since_start_ns:((It.timestamp+Ye-Gt)*a).toFixed(0),stack_id:rt,thread_id:s};_t.stacks[rt]=gt,_t.samples[Xe]=En,rt++}return _t}n(I,"convertJSSelfProfileToSampledFormat");function A(it,ct){if(!ct.length)return it;for(const rt of ct)it[1].push([{type:"profile"},rt]);return it}n(A,"addProfilesToEnvelope");function w(it){const ct=[];return h.forEachEnvelopeItem(it,(rt,_t)=>{if(_t==="transaction")for(let Gt=1;Gt<rt.length;Gt++){const Kt=rt[Gt];Kt&&Kt.contexts&&Kt.contexts.profile&&Kt.contexts.profile.profile_id&&ct.push(rt[Gt])}}),ct}n(w,"findProfiledTransactionsFromEnvelope");const R=new WeakMap;function P(it){const ct=h.GLOBAL_OBJ._sentryDebugIds;if(!ct)return[];const rt=d.getClient(),_t=rt&&rt.getOptions(),Gt=_t&&_t.stackParser;if(!Gt)return[];let Kt;const Ye=R.get(Gt);Ye?Kt=Ye:(Kt=new Map,R.set(Gt,Kt));const Xe=Object.keys(ct).reduce((kt,gt)=>{let En;const pn=Kt.get(gt);pn?En=pn:(En=Gt(gt),Kt.set(gt,En));for(let wn=En.length-1;wn>=0;wn--){const zn=En[wn],Qn=zn&&zn.filename;if(zn&&Qn){kt[Qn]=ct[gt];break}}return kt},{}),It=[];for(const kt of it)kt&&Xe[kt]&&It.push({type:"sourcemap",code_file:kt,debug_id:Xe[kt]});return It}n(P,"applyDebugMetadata");function x(it){return typeof it!="number"&&typeof it!="boolean"||typeof it=="number"&&isNaN(it)?(m.DEBUG_BUILD&&h.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(it)} of type ${JSON.stringify(typeof it)}.`),!1):it===!0||it===!1?!0:it<0||it>1?(m.DEBUG_BUILD&&h.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${it}.`),!1):!0}n(x,"isValidSampleRate");function z(it){return it.samples.length<2?(m.DEBUG_BUILD&&h.logger.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):it.frames.length?!0:(m.DEBUG_BUILD&&h.logger.log("[Profiling] Discarding profile because it contains no frames"),!1)}n(z,"isValidProfile");let Z=!1;const re=3e4;function ne(it){return typeof it=="function"}n(ne,"isJSProfilerSupported");function he(){const it=p.WINDOW.Profiler;if(!ne(it)){m.DEBUG_BUILD&&h.logger.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const ct=10,rt=Math.floor(re/ct);try{return new it({sampleInterval:ct,maxBufferSize:rt})}catch{m.DEBUG_BUILD&&(h.logger.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.logger.log("[Profiling] Disabling profiling for current user session.")),Z=!0}}n(he,"startJSSelfProfile");function ge(it){if(Z)return m.DEBUG_BUILD&&h.logger.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!it.isRecording())return m.DEBUG_BUILD&&h.logger.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const ct=d.getClient(),rt=ct&&ct.getOptions();if(!rt)return m.DEBUG_BUILD&&h.logger.log("[Profiling] Profiling disabled, no options found."),!1;const _t=rt.profilesSampleRate;return x(_t)?_t?(_t===!0?!0:Math.random()<_t)?!0:(m.DEBUG_BUILD&&h.logger.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(_t)})`),!1):(m.DEBUG_BUILD&&h.logger.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(m.DEBUG_BUILD&&h.logger.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}n(ge,"shouldProfileSpan");function Pe(it,ct,rt,_t){return z(rt)?E(it,ct,rt,_t):null}n(Pe,"createProfilingEvent");const He=new Map;function pt(){return He.size}n(pt,"getActiveProfilesCount");function Ht(it){const ct=He.get(it);return ct&&He.delete(it),ct}n(Ht,"takeProfileFromGlobalCache");function Ke(it,ct){if(He.set(it,ct),He.size>30){const rt=He.keys().next().value;He.delete(rt)}}n(Ke,"addProfileToGlobalCache"),l.MAX_PROFILE_DURATION_MS=re,l.addProfileToGlobalCache=Ke,l.addProfilesToEnvelope=A,l.applyDebugMetadata=P,l.convertJSSelfProfileToSampledFormat=I,l.createProfilePayload=E,l.createProfilingEvent=Pe,l.enrichWithThreadInformation=_,l.findProfiledTransactionsFromEnvelope=w,l.getActiveProfilesCount=pt,l.isAutomatedPageLoadSpan=T,l.isValidSampleRate=x,l.shouldProfileSpan=ge,l.startJSSelfProfile=he,l.takeProfileFromGlobalCache=Ht},7672786771:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(3778408185),p=c(8151162894),a=c(3345899401),s=c(9046403702),i=c(3985552739),e=c(9919948800),t=c(2334015581),r=c(7098914998),o=c(4305747877),f=c(4795369790),g=c(8685600704);function v(w){return[d.inboundFiltersIntegration(),d.functionToStringIntegration(),e.browserApiErrorsIntegration(),i.breadcrumbsIntegration(),t.globalHandlersIntegration(),o.linkedErrorsIntegration(),d.dedupeIntegration(),r.httpContextIntegration()]}n(v,"getDefaultIntegrations");function u(w={}){return{...{defaultIntegrations:v(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:s.WINDOW.SENTRY_RELEASE&&s.WINDOW.SENTRY_RELEASE.id?s.WINDOW.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0},...w}}n(u,"applyDefaultOptions");function S(){const w=s.WINDOW,R=w&&w.chrome&&w.chrome.runtime&&w.chrome.runtime.id,P=s.WINDOW;return!!(P&&P.browser&&P.browser.runtime&&P.browser.runtime.id)||!!R}n(S,"shouldShowBrowserExtensionError");function _(w={}){const R=u(w);if(S()){h.consoleSandbox(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}a.DEBUG_BUILD&&(h.supportsFetch()||h.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const P={...R,stackParser:h.stackParserFromStackParserOptions(R.stackParser||f.defaultStackParser),integrations:d.getIntegrationsToSetup(R),transport:R.transport||g.makeFetchTransport};d.initAndBind(p.BrowserClient,P),R.autoSessionTracking&&I()}n(_,"init");function b(w={}){if(!s.WINDOW.document){a.DEBUG_BUILD&&h.logger.error("Global document not defined in showReportDialog call");return}const R=d.getCurrentScope(),P=R.getClient(),x=P&&P.getDsn();if(!x){a.DEBUG_BUILD&&h.logger.error("DSN not configured for showReportDialog call");return}if(R&&(w.user={...R.getUser(),...w.user}),!w.eventId){const ne=d.lastEventId();ne&&(w.eventId=ne)}const z=s.WINDOW.document.createElement("script");z.async=!0,z.crossOrigin="anonymous",z.src=d.getReportDialogEndpoint(x,w),w.onLoad&&(z.onload=w.onLoad);const{onClose:Z}=w;if(Z){const ne=n(he=>{if(he.data==="__sentry_reportdialog_closed__")try{Z()}finally{s.WINDOW.removeEventListener("message",ne)}},"reportDialogClosedMessageHandler");s.WINDOW.addEventListener("message",ne)}const re=s.WINDOW.document.head||s.WINDOW.document.body;re?re.appendChild(z):a.DEBUG_BUILD&&h.logger.error("Not injecting report dialog. No injection point found in HTML")}n(b,"showReportDialog");function E(){}n(E,"forceLoad");function T(w){w()}n(T,"onLoad");function I(){if(typeof s.WINDOW.document>"u"){a.DEBUG_BUILD&&h.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}d.startSession({ignoreDuration:!0}),d.captureSession(),m.addHistoryInstrumentationHandler(({from:w,to:R})=>{w!==void 0&&w!==R&&(d.startSession({ignoreDuration:!0}),d.captureSession())})}n(I,"startSessionTracking");function A(w){const R=d.getClient();R&&R.captureUserFeedback(w)}n(A,"captureUserFeedback"),l.captureUserFeedback=A,l.forceLoad=E,l.getDefaultIntegrations=v,l.init=_,l.onLoad=T,l.showReportDialog=b},4795369790:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=10,m=20,p=30,a=40,s=50;function i(Z,re,ne,he){const ge={filename:Z,function:re==="<anonymous>"?d.UNKNOWN_FUNCTION:re,in_app:!0};return ne!==void 0&&(ge.lineno=ne),he!==void 0&&(ge.colno=he),ge}n(i,"createFrame");const e=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,t=/\((\S*)(?::(\d+))(?::(\d+))\)/,o=[p,n(Z=>{const re=e.exec(Z);if(re){if(re[2]&&re[2].indexOf("eval")===0){const Pe=t.exec(re[2]);Pe&&(re[2]=Pe[1],re[3]=Pe[2],re[4]=Pe[3])}const[he,ge]=z(re[1]||d.UNKNOWN_FUNCTION,re[2]);return i(ge,he,re[3]?+re[3]:void 0,re[4]?+re[4]:void 0)}},"chromeStackParserFn")],f=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,g=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=[s,n(Z=>{const re=f.exec(Z);if(re){if(re[3]&&re[3].indexOf(" > eval")>-1){const Pe=g.exec(re[3]);Pe&&(re[1]=re[1]||"eval",re[3]=Pe[1],re[4]=Pe[2],re[5]="")}let he=re[3],ge=re[1]||d.UNKNOWN_FUNCTION;return[ge,he]=z(ge,he),i(he,ge,re[4]?+re[4]:void 0,re[5]?+re[5]:void 0)}},"gecko")],S=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,b=[a,n(Z=>{const re=S.exec(Z);return re?i(re[2],re[1]||d.UNKNOWN_FUNCTION,+re[3],re[4]?+re[4]:void 0):void 0},"winjs")],E=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,I=[h,n(Z=>{const re=E.exec(Z);return re?i(re[2],re[3]||d.UNKNOWN_FUNCTION,+re[1]):void 0},"opera10")],A=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,R=[m,n(Z=>{const re=A.exec(Z);return re?i(re[5],re[3]||re[4]||d.UNKNOWN_FUNCTION,+re[1],+re[2]):void 0},"opera11")],P=[o,u],x=d.createStackParser(...P),z=n((Z,re)=>{const ne=Z.indexOf("safari-extension")!==-1,he=Z.indexOf("safari-web-extension")!==-1;return ne||he?[Z.indexOf("@")!==-1?Z.split("@")[0]:d.UNKNOWN_FUNCTION,ne?`safari-extension:${re}`:`safari-web-extension:${re}`]:[Z,re]},"extractSafariExtensionDetails");l.chromeStackLineParser=o,l.defaultStackLineParsers=P,l.defaultStackParser=x,l.geckoStackLineParser=u,l.opera10StackLineParser=I,l.opera11StackLineParser=R,l.winjsStackLineParser=b},3372334685:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(3345899401),p=c(9046403702);function a(){p.WINDOW&&p.WINDOW.document?p.WINDOW.document.addEventListener("visibilitychange",()=>{const s=d.getActiveSpan();if(!s)return;const i=d.getRootSpan(s);if(p.WINDOW.document.hidden&&i){const e="cancelled",{op:t,status:r}=d.spanToJSON(i);m.DEBUG_BUILD&&h.logger.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t}`),r||i.setStatus({code:d.SPAN_STATUS_ERROR,message:e}),i.setAttribute("sentry.cancellation_reason","document.hidden"),i.end()}}):m.DEBUG_BUILD&&h.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}n(a,"registerBackgroundTabDetection"),l.registerBackgroundTabDetection=a},5559796378:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(3778408185),h=c(8482989710),m=c(7563271614),p=c(3345899401),a=c(9046403702),s=c(3372334685),i=c(6520656099),e="BrowserTracing",t={...h.TRACING_DEFAULTS,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{},...i.defaultRequestInstrumentationOptions},r=n((S={})=>{h.registerSpanErrorInstrumentation();const{enableInp:_,enableLongTask:b,_experiments:{enableInteractions:E},beforeStartSpan:T,idleTimeout:I,finalTimeout:A,childSpanTimeout:w,markBackgroundSpan:R,traceFetch:P,traceXHR:x,shouldCreateSpanForRequest:z,enableHTTPTimings:Z,instrumentPageLoad:re,instrumentNavigation:ne}={...t,...S},he=d.startTrackingWebVitals();_&&d.startTrackingINP(),b&&d.startTrackingLongTasks(),E&&d.startTrackingInteractions();const ge={name:void 0,source:void 0};function Pe(He,pt){const Ht=pt.op==="pageload",Ke=T?T(pt):pt,it=Ke.attributes||{};pt.name!==Ke.name&&(it[h.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom",Ke.attributes=it),ge.name=Ke.name,ge.source=it[h.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const ct=h.startIdleSpan(Ke,{idleTimeout:I,finalTimeout:A,childSpanTimeout:w,disableAutoFinish:Ht,beforeSpanEnd:_t=>{he(),d.addPerformanceEntries(_t)}});function rt(){["interactive","complete"].includes(a.WINDOW.document.readyState)&&He.emit("idleSpanEnableAutoFinish",ct)}return n(rt,"emitFinish"),Ht&&a.WINDOW.document&&(a.WINDOW.document.addEventListener("readystatechange",()=>{rt()}),rt()),ct}return n(Pe,"_createRouteSpan"),{name:e,afterAllSetup(He){let pt,Ht=a.WINDOW.location&&a.WINDOW.location.href;He.on("startNavigationSpan",Ke=>{h.getClient()===He&&(pt&&(p.DEBUG_BUILD&&m.logger.log(`[Tracing] Finishing current root span with op: ${h.spanToJSON(pt).op}`),pt.end()),pt=Pe(He,{op:"navigation",...Ke}))}),He.on("startPageLoadSpan",(Ke,it={})=>{if(h.getClient()!==He)return;pt&&(p.DEBUG_BUILD&&m.logger.log(`[Tracing] Finishing current root span with op: ${h.spanToJSON(pt).op}`),pt.end());const ct=it.sentryTrace||g("sentry-trace"),rt=it.baggage||g("baggage"),_t=m.propagationContextFromHeaders(ct,rt);h.getCurrentScope().setPropagationContext(_t),pt=Pe(He,{op:"pageload",...Ke})}),He.on("spanEnd",Ke=>{const it=h.spanToJSON(Ke).op;if(Ke!==h.getRootSpan(Ke)||it!=="navigation"&&it!=="pageload")return;const ct=h.getCurrentScope(),rt=ct.getPropagationContext();ct.setPropagationContext({...rt,sampled:rt.sampled!==void 0?rt.sampled:h.spanIsSampled(Ke),dsc:rt.dsc||h.getDynamicSamplingContextFromSpan(Ke)})}),a.WINDOW.location&&(re&&o(He,{name:a.WINDOW.location.pathname,startTime:m.browserPerformanceTimeOrigin?m.browserPerformanceTimeOrigin/1e3:void 0,attributes:{[h.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[h.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}}),ne&&d.addHistoryInstrumentationHandler(({to:Ke,from:it})=>{if(it===void 0&&Ht&&Ht.indexOf(Ke)!==-1){Ht=void 0;return}it!==Ke&&(Ht=void 0,f(He,{name:a.WINDOW.location.pathname,attributes:{[h.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[h.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}}))})),R&&s.registerBackgroundTabDetection(),E&&v(I,A,w,ge),i.instrumentOutgoingRequests({traceFetch:P,traceXHR:x,tracePropagationTargets:He.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:z,enableHTTPTimings:Z})}}},"browserTracingIntegration");function o(S,_,b){S.emit("startPageLoadSpan",_,b),h.getCurrentScope().setTransactionName(_.name);const E=h.getActiveSpan();return(E&&h.spanToJSON(E).op)==="pageload"?E:void 0}n(o,"startBrowserTracingPageLoadSpan");function f(S,_){h.getCurrentScope().setPropagationContext(u()),h.getIsolationScope().setPropagationContext(u()),S.emit("startNavigationSpan",_),h.getCurrentScope().setTransactionName(_.name);const b=h.getActiveSpan();return(b&&h.spanToJSON(b).op)==="navigation"?b:void 0}n(f,"startBrowserTracingNavigationSpan");function g(S){const _=m.getDomElement(`meta[name=${S}]`);return _?_.getAttribute("content"):void 0}n(g,"getMetaContent");function v(S,_,b,E){let T;const I=n(()=>{const A="ui.action.click",w=h.getActiveSpan(),R=w&&h.getRootSpan(w);if(R){const P=h.spanToJSON(R).op;if(["navigation","pageload"].includes(P)){p.DEBUG_BUILD&&m.logger.warn(`[Tracing] Did not create ${A} span because a pageload or navigation span is in progress.`);return}}if(T&&(T.setAttribute(h.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted"),T.end(),T=void 0),!E.name){p.DEBUG_BUILD&&m.logger.warn(`[Tracing] Did not create ${A} transaction because _latestRouteName is missing.`);return}T=h.startIdleSpan({name:E.name,op:A,attributes:{[h.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:E.source||"url"}},{idleTimeout:S,finalTimeout:_,childSpanTimeout:b})},"registerInteractionTransaction");a.WINDOW.document&&addEventListener("click",I,{once:!1,capture:!0})}n(v,"registerInteractionListener");function u(){return{traceId:m.uuid4(),spanId:m.uuid4().substring(16)}}n(u,"generatePropagationContext"),l.BROWSER_TRACING_INTEGRATION_ID=e,l.browserTracingIntegration=r,l.getMetaContent=g,l.startBrowserTracingNavigationSpan=f,l.startBrowserTracingPageLoadSpan=o},6520656099:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(3778408185),h=c(8482989710),m=c(7563271614),p=c(9046403702),a={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function s(_){const{traceFetch:b,traceXHR:E,shouldCreateSpanForRequest:T,enableHTTPTimings:I,tracePropagationTargets:A}={traceFetch:a.traceFetch,traceXHR:a.traceXHR,..._},w=typeof T=="function"?T:x=>!0,R=n(x=>f(x,A),"shouldAttachHeadersWithTargets"),P={};b&&m.addFetchInstrumentationHandler(x=>{const z=h.instrumentFetchRequest(x,w,R,P);if(z){const Z=S(x.fetchData.url),re=Z?m.parseUrl(Z).host:void 0;z.setAttributes({"http.url":Z,"server.address":re})}I&&z&&e(z)}),E&&d.addXhrInstrumentationHandler(x=>{const z=g(x,w,R,P);I&&z&&e(z)})}n(s,"instrumentOutgoingRequests");function i(_){return _.entryType==="resource"&&"initiatorType"in _&&typeof _.nextHopProtocol=="string"&&(_.initiatorType==="fetch"||_.initiatorType==="xmlhttprequest")}n(i,"isPerformanceResourceTiming");function e(_){const{url:b}=h.spanToJSON(_).data||{};if(!b||typeof b!="string")return;const E=d.addPerformanceInstrumentationHandler("resource",({entries:T})=>{T.forEach(I=>{i(I)&&I.name.endsWith(b)&&(o(I).forEach(w=>_.setAttribute(...w)),setTimeout(E))})})}n(e,"addHTTPTimings");function t(_){let b="unknown",E="unknown",T="";for(const I of _){if(I==="/"){[b,E]=_.split("/");break}if(!isNaN(Number(I))){b=T==="h"?"http":T,E=_.split(T)[1];break}T+=I}return T===_&&(b=T),{name:b,version:E}}n(t,"extractNetworkProtocol");function r(_=0){return((m.browserPerformanceTimeOrigin||performance.timeOrigin)+_)/1e3}n(r,"getAbsoluteTime");function o(_){const{name:b,version:E}=t(_.nextHopProtocol),T=[];return T.push(["network.protocol.version",E],["network.protocol.name",b]),m.browserPerformanceTimeOrigin?[...T,["http.request.redirect_start",r(_.redirectStart)],["http.request.fetch_start",r(_.fetchStart)],["http.request.domain_lookup_start",r(_.domainLookupStart)],["http.request.domain_lookup_end",r(_.domainLookupEnd)],["http.request.connect_start",r(_.connectStart)],["http.request.secure_connection_start",r(_.secureConnectionStart)],["http.request.connection_end",r(_.connectEnd)],["http.request.request_start",r(_.requestStart)],["http.request.response_start",r(_.responseStart)],["http.request.response_end",r(_.responseEnd)]]:T}n(o,"resourceTimingEntryToSpanData");function f(_,b){const E=p.WINDOW.location&&p.WINDOW.location.href;if(E){let T,I;try{T=new URL(_,E),I=new URL(E).origin}catch{return!1}const A=T.origin===I;return b?m.stringMatchesSomePattern(T.toString(),b)||A&&m.stringMatchesSomePattern(T.pathname,b):A}else{const T=!!_.match(/^\/(?!\/)/);return b?m.stringMatchesSomePattern(_,b):T}}n(f,"shouldAttachHeaders");function g(_,b,E,T){const I=_.xhr,A=I&&I[d.SENTRY_XHR_DATA_KEY];if(!I||I.__sentry_own_request__||!A)return;const w=h.hasTracingEnabled()&&b(A.url);if(_.endTimestamp&&w){const re=I.__sentry_xhr_span_id__;if(!re)return;const ne=T[re];ne&&A.status_code!==void 0&&(h.setHttpStatus(ne,A.status_code),ne.end(),delete T[re]);return}const R=S(A.url),P=R?m.parseUrl(R).host:void 0,x=!!h.getActiveSpan(),z=w&&x?h.startInactiveSpan({name:`${A.method} ${A.url}`,attributes:{type:"xhr","http.method":A.method,"http.url":R,url:A.url,"server.address":P,[h.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[h.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new h.SentryNonRecordingSpan;I.__sentry_xhr_span_id__=z.spanContext().spanId,T[I.__sentry_xhr_span_id__]=z;const Z=h.getClient();return I.setRequestHeader&&E(A.url)&&Z&&v(I,Z,h.hasTracingEnabled()&&x?z:void 0),z}n(g,"xhrCallback");function v(_,b,E){const T=h.getCurrentScope(),I=h.getIsolationScope(),{traceId:A,spanId:w,sampled:R,dsc:P}={...I.getPropagationContext(),...T.getPropagationContext()},x=E&&h.hasTracingEnabled()?h.spanToTraceHeader(E):m.generateSentryTraceHeader(A,w,R),z=m.dynamicSamplingContextToSentryBaggageHeader(P||(E?h.getDynamicSamplingContextFromSpan(E):h.getDynamicSamplingContextFromClient(A,b)));u(_,x,z)}n(v,"addTracingHeadersToXhrRequest");function u(_,b,E){try{_.setRequestHeader("sentry-trace",b),E&&_.setRequestHeader(m.BAGGAGE_HEADER_NAME,E)}catch{}}n(u,"setHeaderOnXhr");function S(_){try{return new URL(_,p.WINDOW.location.origin).href}catch{return}}n(S,"getFullURL"),l.defaultRequestInstrumentationOptions=a,l.extractNetworkProtocol=t,l.instrumentOutgoingRequests=s,l.shouldAttachHeaders=f,l.xhrCallback=g},8685600704:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(8475594045);function p(a,s=m.getNativeFetchImplementation()){let i=0,e=0;function t(r){const o=r.body.length;i+=o,e++;const f={body:r.body,method:"POST",referrerPolicy:"origin",headers:a.headers,keepalive:i<=6e4&&e<15,...a.fetchOptions};if(!s)return m.clearCachedFetchImplementation(),h.rejectedSyncPromise("No fetch implementation available");try{return s(a.url,f).then(g=>(i-=o,e--,{statusCode:g.status,headers:{"x-sentry-rate-limits":g.headers.get("X-Sentry-Rate-Limits"),"retry-after":g.headers.get("Retry-After")}}))}catch(g){return m.clearCachedFetchImplementation(),i-=o,e--,h.rejectedSyncPromise(g)}}return n(t,"makeRequest"),d.createTransport(a,t)}n(p,"makeFetchTransport"),l.makeFetchTransport=p},7824548363:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(7563271614),m=c(8685600704);function p(g){return new Promise((v,u)=>{g.oncomplete=g.onsuccess=()=>v(g.result),g.onabort=g.onerror=()=>u(g.error)})}n(p,"promisifyRequest");function a(g,v){const u=indexedDB.open(g);u.onupgradeneeded=()=>u.result.createObjectStore(v);const S=p(u);return _=>S.then(b=>_(b.transaction(v,"readwrite").objectStore(v)))}n(a,"createStore");function s(g){return p(g.getAllKeys())}n(s,"keys");function i(g,v,u){return g(S=>s(S).then(_=>{if(!(_.length>=u))return S.put(v,Math.max(..._,0)+1),p(S.transaction)}))}n(i,"push");function e(g,v,u){return g(S=>s(S).then(_=>{if(!(_.length>=u))return S.put(v,Math.min(..._,0)-1),p(S.transaction)}))}n(e,"unshift");function t(g){return g(v=>s(v).then(u=>{if(u.length!==0)return p(v.get(u[0])).then(S=>(v.delete(u[0]),p(v.transaction).then(()=>S)))}))}n(t,"shift");function r(g){let v;function u(){return v==null&&(v=a(g.dbName||"sentry-offline",g.storeName||"queue")),v}return n(u,"getStore"),{push:async S=>{try{const _=await h.serializeEnvelope(S);await i(u(),_,g.maxQueueSize||30)}catch{}},unshift:async S=>{try{const _=await h.serializeEnvelope(S);await e(u(),_,g.maxQueueSize||30)}catch{}},shift:async()=>{try{const S=await t(u());if(S)return h.parseEnvelope(S)}catch{}}}}n(r,"createIndexedDbStore");function o(g){return v=>g({...v,createStore:r})}n(o,"makeIndexedDbOfflineTransport");function f(g=m.makeFetchTransport){return o(d.makeOfflineTransport(g))}n(f,"makeBrowserOfflineTransport"),l.createStore=a,l.makeBrowserOfflineTransport=f,l.push=i,l.shift=t,l.unshift=e},8475594045:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(3345899401),m=c(9046403702);let p;function a(){if(p)return p;if(d.isNativeFetch(m.WINDOW.fetch))return p=m.WINDOW.fetch.bind(m.WINDOW);const i=m.WINDOW.document;let e=m.WINDOW.fetch;if(i&&typeof i.createElement=="function")try{const t=i.createElement("iframe");t.hidden=!0,i.head.appendChild(t);const r=t.contentWindow;r&&r.fetch&&(e=r.fetch),i.head.removeChild(t)}catch(t){h.DEBUG_BUILD&&d.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}try{return p=e.bind(m.WINDOW)}catch{}}n(a,"getNativeFetchImplementation");function s(){p=void 0}n(s,"clearCachedFetchImplementation"),l.clearCachedFetchImplementation=s,l.getNativeFetchImplementation=a},7738910413:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);function h(p,{metadata:a,tunnel:s,dsn:i}){const e={event_id:p.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!s&&!!i&&{dsn:d.dsnToString(i)}},t=m(p);return d.createEnvelope(e,[t])}n(h,"createUserFeedbackEnvelope");function m(p){return[{type:"user_report"},p]}n(m,"createUserFeedbackEnvelopeItem"),l.createUserFeedbackEnvelope=h},1076637753:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8482989710),h=c(9046403702),m={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming"},p=h.WINDOW;async function a(i){const e=m[i],t=p.Sentry=p.Sentry||{};if(!e)throw new Error(`Cannot lazy load integration: ${i}`);const r=t[i];if(typeof r=="function")return r;const o=s(e),f=h.WINDOW.document.createElement("script");f.src=o,f.crossOrigin="anonymous";const g=new Promise((u,S)=>{f.addEventListener("load",()=>u()),f.addEventListener("error",S)});h.WINDOW.document.body.appendChild(f);try{await g}catch{throw new Error(`Error when loading integration: ${i}`)}const v=t[i];if(typeof v!="function")throw new Error(`Could not load integration: ${i}`);return v}n(a,"lazyLoadIntegration");function s(i){const e=d.getClient(),t=e&&e.getOptions(),r=t&&t.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${d.SDK_VERSION}/${i}.min.js`,r).toString()}n(s,"getScriptURL"),l.lazyLoadIntegration=a},9857059330:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h="7";function m(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}n(m,"getBaseApiEndpoint");function p(e){return`${m(e)}${e.projectId}/envelope/`}n(p,"_getIngestEndpoint");function a(e,t){return d.urlEncode({sentry_key:e.publicKey,sentry_version:h,...t&&{sentry_client:`${t.name}/${t.version}`}})}n(a,"_encodedAuth");function s(e,t,r){return t||`${p(e)}?${a(e,r)}`}n(s,"getEnvelopeEndpointWithUrlEncodedAuth");function i(e,t){const r=d.makeDsn(e);if(!r)return"";const o=`${m(r)}embed/error-page/`;let f=`dsn=${d.dsnToString(r)}`;for(const g in t)if(g!=="dsn"&&g!=="onClose")if(g==="user"){const v=t.user;if(!v)continue;v.name&&(f+=`&name=${encodeURIComponent(v.name)}`),v.email&&(f+=`&email=${encodeURIComponent(v.email)}`)}else f+=`&${encodeURIComponent(g)}=${encodeURIComponent(t[g])}`;return`${o}?${f}`}n(i,"getReportDialogEndpoint"),l.getEnvelopeEndpointWithUrlEncodedAuth=s,l.getReportDialogEndpoint=i},897859094:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(2685322190),h=c(3752312155);function m(a){const s=d.getMainCarrier(),i=d.getSentryCarrier(s);i.acs=a}n(m,"setAsyncContextStrategy");function p(a){const s=d.getSentryCarrier(a);return s.acs?s.acs:h.getStackAsyncContextStrategy()}n(p,"getAsyncContextStrategy"),l.getAsyncContextStrategy=p,l.setAsyncContextStrategy=m},3752312155:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(2158524366),p=c(2685322190);class a{constructor(f,g){let v;f?v=f:v=new m.Scope;let u;g?u=g:u=new m.Scope,this._stack=[{scope:v}],this._isolationScope=u}withScope(f){const g=this._pushScope();let v;try{v=f(g)}catch(u){throw this._popScope(),u}return d.isThenable(v)?v.then(u=>(this._popScope(),u),u=>{throw this._popScope(),u}):(this._popScope(),v)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const f=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:f}),f}_popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}}n(a,"AsyncContextStack");function s(){const o=p.getMainCarrier(),f=p.getSentryCarrier(o);return f.hub||(f.hub=new a(h.getDefaultCurrentScope(),h.getDefaultIsolationScope())),f.hub}n(s,"getAsyncContextStack");function i(o){return s().withScope(o)}n(i,"withScope");function e(o,f){const g=s();return g.withScope(()=>(g.getStackTop().scope=o,f(o)))}n(e,"withSetScope");function t(o){return s().withScope(()=>o(s().getIsolationScope()))}n(t,"withIsolationScope");function r(){return{withIsolationScope:t,withScope:i,withSetScope:e,withSetIsolationScope:(o,f)=>t(f),getCurrentScope:()=>s().getScope(),getIsolationScope:()=>s().getIsolationScope()}}n(r,"getStackAsyncContextStrategy"),l.AsyncContextStack=a,l.getStackAsyncContextStrategy=r},4936960144:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(9857059330),m=c(8438156026),p=c(8844511336),a=c(5297268390),s=c(1927145604),i=c(5234873710),e=c(9064881818),t=c(1119532287),r=c(9877103701),o="Not capturing exception because it's already been captured.";class f{constructor(b){if(this._options=b,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],b.dsn?this._dsn=d.makeDsn(b.dsn):p.DEBUG_BUILD&&d.logger.warn("No DSN provided, client will not send events."),this._dsn){const E=h.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,b.tunnel,b._metadata?b._metadata.sdk:void 0);this._transport=b.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...b.transportOptions,url:E})}}captureException(b,E,T){const I=d.uuid4();if(d.checkOrSetAlreadyCaught(b))return p.DEBUG_BUILD&&d.logger.log(o),I;const A={event_id:I,...E};return this._process(this.eventFromException(b,A).then(w=>this._captureEvent(w,A,T))),A.event_id}captureMessage(b,E,T,I){const A={event_id:d.uuid4(),...T},w=d.isParameterizedString(b)?b:String(b),R=d.isPrimitive(b)?this.eventFromMessage(w,E,A):this.eventFromException(b,A);return this._process(R.then(P=>this._captureEvent(P,A,I))),A.event_id}captureEvent(b,E,T){const I=d.uuid4();if(E&&E.originalException&&d.checkOrSetAlreadyCaught(E.originalException))return p.DEBUG_BUILD&&d.logger.log(o),I;const A={event_id:I,...E},R=(b.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(b,A,R||T)),A.event_id}captureSession(b){typeof b.release!="string"?p.DEBUG_BUILD&&d.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(b),i.updateSession(b,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(b){const E=this._transport;return E?(this.emit("flush"),this._isClientDoneProcessing(b).then(T=>E.flush(b).then(I=>T&&I))):d.resolvedSyncPromise(!0)}close(b){return this.flush(b).then(E=>(this.getOptions().enabled=!1,this.emit("close"),E))}getEventProcessors(){return this._eventProcessors}addEventProcessor(b){this._eventProcessors.push(b)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(b){return this._integrations[b]}addIntegration(b){const E=this._integrations[b.name];s.setupIntegration(this,b,this._integrations),E||s.afterSetupIntegrations(this,[b])}sendEvent(b,E={}){this.emit("beforeSendEvent",b,E);let T=a.createEventEnvelope(b,this._dsn,this._options._metadata,this._options.tunnel);for(const A of E.attachments||[])T=d.addItemToEnvelope(T,d.createAttachmentEnvelopeItem(A));const I=this.sendEnvelope(T);I&&I.then(A=>this.emit("afterSendEvent",b,A),null)}sendSession(b){const E=a.createSessionEnvelope(b,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(E)}recordDroppedEvent(b,E,T){if(this._options.sendClientReports){const I=`${b}:${E}`;p.DEBUG_BUILD&&d.logger.log(`Adding outcome: "${I}"`),this._outcomes[I]=this._outcomes[I]+1||1}}on(b,E){this._hooks[b]||(this._hooks[b]=[]),this._hooks[b].push(E)}emit(b,...E){this._hooks[b]&&this._hooks[b].forEach(T=>T(...E))}sendEnvelope(b){return this.emit("beforeEnvelope",b),this._isEnabled()&&this._transport?this._transport.send(b).then(null,E=>(p.DEBUG_BUILD&&d.logger.error("Error while sending event:",E),E)):(p.DEBUG_BUILD&&d.logger.error("Transport disabled"),d.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:b}=this._options;this._integrations=s.setupIntegrations(this,b),s.afterSetupIntegrations(this,b)}_updateSessionFromEvent(b,E){let T=!1,I=!1;const A=E.exception&&E.exception.values;if(A){I=!0;for(const P of A){const x=P.mechanism;if(x&&x.handled===!1){T=!0;break}}}const w=b.status==="ok";(w&&b.errors===0||w&&T)&&(i.updateSession(b,{...T&&{status:"crashed"},errors:b.errors||Number(I||T)}),this.captureSession(b))}_isClientDoneProcessing(b){return new d.SyncPromise(E=>{let T=0;const I=1,A=setInterval(()=>{this._numProcessing==0?(clearInterval(A),E(!0)):(T+=I,b&&T>=b&&(clearInterval(A),E(!1)))},I)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(b,E,T,I=m.getIsolationScope()){const A=this.getOptions(),w=Object.keys(this._integrations);return!E.integrations&&w.length>0&&(E.integrations=w),this.emit("preprocessEvent",b,E),b.type||I.setLastEventId(b.event_id||E.event_id),r.prepareEvent(A,b,E,T,this,I).then(R=>{if(R===null)return R;const P={...I.getPropagationContext(),...T?T.getPropagationContext():void 0};if(!(R.contexts&&R.contexts.trace)&&P){const{traceId:z,spanId:Z,parentSpanId:re,dsc:ne}=P;R.contexts={trace:d.dropUndefinedKeys({trace_id:z,span_id:Z,parent_span_id:re}),...R.contexts};const he=ne||e.getDynamicSamplingContextFromClient(z,this);R.sdkProcessingMetadata={dynamicSamplingContext:he,...R.sdkProcessingMetadata}}return R})}_captureEvent(b,E={},T){return this._processEvent(b,E,T).then(I=>I.event_id,I=>{if(p.DEBUG_BUILD){const A=I;A.logLevel==="log"?d.logger.log(A.message):d.logger.warn(A)}})}_processEvent(b,E,T){const I=this.getOptions(),{sampleRate:A}=I,w=S(b),R=u(b),P=b.type||"error",x=`before send for type \`${P}\``,z=typeof A>"u"?void 0:t.parseSampleRate(A);if(R&&typeof z=="number"&&Math.random()>z)return this.recordDroppedEvent("sample_rate","error",b),d.rejectedSyncPromise(new d.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${A})`,"log"));const Z=P==="replay_event"?"replay":P,ne=(b.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(b,E,T,ne).then(he=>{if(he===null)throw this.recordDroppedEvent("event_processor",Z,b),new d.SentryError("An event processor returned `null`, will not send event.","log");if(E.data&&E.data.__sentry__===!0)return he;const Pe=v(I,he,E);return g(Pe,x)}).then(he=>{if(he===null)throw this.recordDroppedEvent("before_send",Z,b),new d.SentryError(`${x} returned \`null\`, will not send event.`,"log");const ge=T&&T.getSession();!w&&ge&&this._updateSessionFromEvent(ge,he);const Pe=he.transaction_info;if(w&&Pe&&he.transaction!==b.transaction){const He="custom";he.transaction_info={...Pe,source:He}}return this.sendEvent(he,E),he}).then(null,he=>{throw he instanceof d.SentryError?he:(this.captureException(he,{data:{__sentry__:!0},originalException:he}),new d.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${he}`))})}_process(b){this._numProcessing++,b.then(E=>(this._numProcessing--,E),E=>(this._numProcessing--,E))}_clearOutcomes(){const b=this._outcomes;return this._outcomes={},Object.keys(b).map(E=>{const[T,I]=E.split(":");return{reason:T,category:I,quantity:b[E]}})}}n(f,"BaseClient");function g(_,b){const E=`${b} must return \`null\` or a valid event.`;if(d.isThenable(_))return _.then(T=>{if(!d.isPlainObject(T)&&T!==null)throw new d.SentryError(E);return T},T=>{throw new d.SentryError(`${b} rejected with ${T}`)});if(!d.isPlainObject(_)&&_!==null)throw new d.SentryError(E);return _}n(g,"_validateBeforeSendResult");function v(_,b,E){const{beforeSend:T,beforeSendTransaction:I,beforeSendSpan:A}=_;if(u(b)&&T)return T(b,E);if(S(b)){if(b.spans&&A){const w=[];for(const R of b.spans){const P=A(R);P&&w.push(P)}b.spans=w}if(I)return I(b,E)}return b}n(v,"processBeforeSend");function u(_){return _.type===void 0}n(u,"isErrorEvent");function S(_){return _.type==="transaction"}n(S,"isTransactionEvent"),l.BaseClient=f},4433801832:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=100;function p(a,s){const i=h.getClient(),e=h.getIsolationScope();if(!i)return;const{beforeBreadcrumb:t=null,maxBreadcrumbs:r=m}=i.getOptions();if(r<=0)return;const f={timestamp:d.dateTimestampInSeconds(),...a},g=t?d.consoleSandbox(()=>t(f,s)):f;g!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",g,s),e.addBreadcrumb(g,r))}n(p,"addBreadcrumb"),l.addBreadcrumb=p},2685322190:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);function h(){return m(d.GLOBAL_OBJ),d.GLOBAL_OBJ}n(h,"getMainCarrier");function m(p){return p.__SENTRY__||(p.__SENTRY__={extensions:{}}),p.__SENTRY__}n(m,"getSentryCarrier"),l.getMainCarrier=h,l.getSentryCarrier=m},7584701501:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);function h(p,a,s,i,e){const t={sent_at:new Date().toISOString()};s&&s.sdk&&(t.sdk={name:s.sdk.name,version:s.sdk.version}),i&&e&&(t.dsn=d.dsnToString(e)),a&&(t.trace=d.dropUndefinedKeys(a));const r=m(p);return d.createEnvelope(t,[r])}n(h,"createCheckInEnvelope");function m(p){return[{type:"check_in"},p]}n(m,"createCheckInEnvelopeItem"),l.createCheckInEnvelope=h},4834620523:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c="production";l.DEFAULT_ENVIRONMENT=c},8438156026:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(897859094),m=c(2685322190),p=c(2158524366);function a(){return d.getGlobalSingleton("defaultCurrentScope",()=>new p.Scope)}n(a,"getDefaultCurrentScope");function s(){return d.getGlobalSingleton("defaultIsolationScope",()=>new p.Scope)}n(s,"getDefaultIsolationScope");function i(){const g=m.getMainCarrier();return h.getAsyncContextStrategy(g).getCurrentScope()}n(i,"getCurrentScope");function e(){const g=m.getMainCarrier();return h.getAsyncContextStrategy(g).getIsolationScope()}n(e,"getIsolationScope");function t(){return d.getGlobalSingleton("globalScope",()=>new p.Scope)}n(t,"getGlobalScope");function r(...g){const v=m.getMainCarrier(),u=h.getAsyncContextStrategy(v);if(g.length===2){const[S,_]=g;return S?u.withSetScope(S,_):u.withScope(_)}return u.withScope(g[0])}n(r,"withScope");function o(...g){const v=m.getMainCarrier(),u=h.getAsyncContextStrategy(v);if(g.length===2){const[S,_]=g;return S?u.withSetIsolationScope(S,_):u.withIsolationScope(_)}return u.withIsolationScope(g[0])}n(o,"withIsolationScope");function f(){return i().getClient()}n(f,"getClient"),l.getClient=f,l.getCurrentScope=i,l.getDefaultCurrentScope=a,l.getDefaultIsolationScope=s,l.getGlobalScope=t,l.getIsolationScope=e,l.withIsolationScope=o,l.withScope=r},8844511336:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;l.DEBUG_BUILD=c},5297268390:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);c(2206474662),c(8844511336);const h=c(5475300505),m=c(9064881818);function p(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}n(p,"enhanceEventWithSdkInfo");function a(e,t,r,o){const f=d.getSdkMetadataForEnvelopeHeader(r),g={sent_at:new Date().toISOString(),...f&&{sdk:f},...!!o&&t&&{dsn:d.dsnToString(t)}},v="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return d.createEnvelope(g,[v])}n(a,"createSessionEnvelope");function s(e,t,r,o){const f=d.getSdkMetadataForEnvelopeHeader(r),g=e.type&&e.type!=="replay_event"?e.type:"event";p(e,r&&r.sdk);const v=d.createEventEnvelopeHeaders(e,f,o,t);delete e.sdkProcessingMetadata;const u=[{type:g},e];return d.createEnvelope(v,[u])}n(s,"createEventEnvelope");function i(e,t){function r(S){return!!S.trace_id&&!!S.public_key}n(r,"dscHasRequiredProps");const o=m.getDynamicSamplingContextFromSpan(e[0]),f={sent_at:new Date().toISOString(),...r(o)&&{trace:o}},g=t&&t.getOptions().beforeSendSpan,v=g?S=>g(h.spanToJSON(S)):S=>h.spanToJSON(S),u=[];for(const S of e){const _=v(S);_&&u.push(d.createSpanEnvelopeItem(_))}return d.createEnvelope(f,u)}n(i,"createSpanEnvelope"),l.createEventEnvelope=s,l.createSessionEnvelope=a,l.createSpanEnvelope=i},5911348835:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336);function m(p,a,s,i=0){return new d.SyncPromise((e,t)=>{const r=p[i];if(a===null||typeof r!="function")e(a);else{const o=r({...a},s);h.DEBUG_BUILD&&r.id&&o===null&&d.logger.log(`Event processor "${r.id}" dropped event`),d.isThenable(o)?o.then(f=>m(p,f,s,i+1).then(e)).then(null,t):m(p,o,s,i+1).then(e).then(null,t)}})}n(m,"notifyEventProcessors"),l.notifyEventProcessors=m},5015065869:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(4834620523),m=c(8438156026),p=c(8844511336),a=c(5234873710),s=c(9877103701);function i(Z,re){return m.getCurrentScope().captureException(Z,s.parseEventHintOrCaptureContext(re))}n(i,"captureException");function e(Z,re){const ne=typeof re=="string"?re:void 0,he=typeof re!="string"?{captureContext:re}:void 0;return m.getCurrentScope().captureMessage(Z,ne,he)}n(e,"captureMessage");function t(Z,re){return m.getCurrentScope().captureEvent(Z,re)}n(t,"captureEvent");function r(Z,re){m.getIsolationScope().setContext(Z,re)}n(r,"setContext");function o(Z){m.getIsolationScope().setExtras(Z)}n(o,"setExtras");function f(Z,re){m.getIsolationScope().setExtra(Z,re)}n(f,"setExtra");function g(Z){m.getIsolationScope().setTags(Z)}n(g,"setTags");function v(Z,re){m.getIsolationScope().setTag(Z,re)}n(v,"setTag");function u(Z){m.getIsolationScope().setUser(Z)}n(u,"setUser");function S(){return m.getIsolationScope().lastEventId()}n(S,"lastEventId");function _(Z,re){const ne=m.getCurrentScope(),he=m.getClient();if(!he)p.DEBUG_BUILD&&d.logger.warn("Cannot capture check-in. No client defined.");else if(!he.captureCheckIn)p.DEBUG_BUILD&&d.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return he.captureCheckIn(Z,re,ne);return d.uuid4()}n(_,"captureCheckIn");function b(Z,re,ne){const he=_({monitorSlug:Z,status:"in_progress"},ne),ge=d.timestampInSeconds();function Pe(He){_({monitorSlug:Z,status:He,checkInId:he,duration:d.timestampInSeconds()-ge})}return n(Pe,"finishCheckIn"),m.withIsolationScope(()=>{let He;try{He=re()}catch(pt){throw Pe("error"),pt}return d.isThenable(He)?Promise.resolve(He).then(()=>{Pe("ok")},()=>{Pe("error")}):Pe("ok"),He})}n(b,"withMonitor");async function E(Z){const re=m.getClient();return re?re.flush(Z):(p.DEBUG_BUILD&&d.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}n(E,"flush");async function T(Z){const re=m.getClient();return re?re.close(Z):(p.DEBUG_BUILD&&d.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}n(T,"close");function I(){return!!m.getClient()}n(I,"isInitialized");function A(){const Z=m.getClient();return!!Z&&Z.getOptions().enabled!==!1&&!!Z.getTransport()}n(A,"isEnabled");function w(Z){m.getIsolationScope().addEventProcessor(Z)}n(w,"addEventProcessor");function R(Z){const re=m.getClient(),ne=m.getIsolationScope(),he=m.getCurrentScope(),{release:ge,environment:Pe=h.DEFAULT_ENVIRONMENT}=re&&re.getOptions()||{},{userAgent:He}=d.GLOBAL_OBJ.navigator||{},pt=a.makeSession({release:ge,environment:Pe,user:he.getUser()||ne.getUser(),...He&&{userAgent:He},...Z}),Ht=ne.getSession();return Ht&&Ht.status==="ok"&&a.updateSession(Ht,{status:"exited"}),P(),ne.setSession(pt),he.setSession(pt),pt}n(R,"startSession");function P(){const Z=m.getIsolationScope(),re=m.getCurrentScope(),ne=re.getSession()||Z.getSession();ne&&a.closeSession(ne),x(),Z.setSession(),re.setSession()}n(P,"endSession");function x(){const Z=m.getIsolationScope(),re=m.getCurrentScope(),ne=m.getClient(),he=re.getSession()||Z.getSession();he&&ne&&ne.captureSession(he)}n(x,"_sendSessionUpdate");function z(Z=!1){if(Z){P();return}x()}n(z,"captureSession"),l.addEventProcessor=w,l.captureCheckIn=_,l.captureEvent=t,l.captureException=i,l.captureMessage=e,l.captureSession=z,l.close=T,l.endSession=P,l.flush=E,l.isEnabled=A,l.isInitialized=I,l.lastEventId=S,l.setContext=r,l.setExtra=f,l.setExtras=o,l.setTag=v,l.setTags=g,l.setUser=u,l.startSession=R,l.withMonitor=b},7983636933:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026);function m(p,a={}){const{message:s,name:i,email:e,url:t,source:r,associatedEventId:o}=p,f=h.getClient(),g={contexts:{feedback:d.dropUndefinedKeys({contact_email:e,name:i,message:s,url:t,source:r,associated_event_id:o})},type:"feedback",level:"info"};return f&&f.emit("beforeSendFeedback",g,a),h.getCurrentScope().captureEvent(g,a)}n(m,"captureFeedback"),l.captureFeedback=m},296812610:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(2332127203);c(2206474662),c(8844511336);const p=c(8645141291),a=c(5475300505),s=c(8167549304),i=c(1150305139),e=c(4530391782),t=c(9064881818);function r(v,u,S,_,b="auto.http.browser"){if(!v.fetchData)return;const E=p.hasTracingEnabled()&&u(v.fetchData.url);if(v.endTimestamp&&E){const Z=v.fetchData.__span;if(!Z)return;const re=_[Z];re&&(g(re,v),delete _[Z]);return}const T=h.getCurrentScope(),I=h.getClient(),{method:A,url:w}=v.fetchData,R=f(w),P=R?d.parseUrl(R).host:void 0,x=!!a.getActiveSpan(),z=E&&x?e.startInactiveSpan({name:`${A} ${w}`,attributes:{url:w,type:"fetch","http.method":A,"http.url":R,"server.address":P,[m.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:b,[m.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new s.SentryNonRecordingSpan;if(v.fetchData.__span=z.spanContext().spanId,_[z.spanContext().spanId]=z,S(v.fetchData.url)&&I){const Z=v.args[0];v.args[1]=v.args[1]||{};const re=v.args[1];re.headers=o(Z,I,T,re,p.hasTracingEnabled()&&x?z:void 0)}return z}n(r,"instrumentFetchRequest");function o(v,u,S,_,b){const E=h.getIsolationScope(),{traceId:T,spanId:I,sampled:A,dsc:w}={...E.getPropagationContext(),...S.getPropagationContext()},R=b?a.spanToTraceHeader(b):d.generateSentryTraceHeader(T,I,A),P=d.dynamicSamplingContextToSentryBaggageHeader(w||(b?t.getDynamicSamplingContextFromSpan(b):t.getDynamicSamplingContextFromClient(T,u))),x=_.headers||(typeof Request<"u"&&d.isInstanceOf(v,Request)?v.headers:void 0);if(x)if(typeof Headers<"u"&&d.isInstanceOf(x,Headers)){const z=new Headers(x);return z.append("sentry-trace",R),P&&z.append(d.BAGGAGE_HEADER_NAME,P),z}else if(Array.isArray(x)){const z=[...x,["sentry-trace",R]];return P&&z.push([d.BAGGAGE_HEADER_NAME,P]),z}else{const z="baggage"in x?x.baggage:void 0,Z=[];return Array.isArray(z)?Z.push(...z):z&&Z.push(z),P&&Z.push(P),{...x,"sentry-trace":R,baggage:Z.length>0?Z.join(","):void 0}}else return{"sentry-trace":R,baggage:P}}n(o,"addTracingHeadersToFetchRequest");function f(v){try{return new URL(v).href}catch{return}}n(f,"getFullURL");function g(v,u){if(u.response){i.setHttpStatus(v,u.response.status);const S=u.response&&u.response.headers&&u.response.headers.get("content-length");if(S){const _=parseInt(S);_>0&&v.setAttribute("http.response_content_length",_)}}else u.error&&v.setStatus({code:i.SPAN_STATUS_ERROR,message:"internal_error"});v.end()}n(g,"endSpan"),l.addTracingHeadersToFetchRequest=o,l.instrumentFetchRequest=r},6649284951:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(4433801832),h=c(8438156026),m=c(5015065869);function p(){return{bindClient(i){h.getCurrentScope().setClient(i)},withScope:h.withScope,getClient:()=>h.getClient(),getScope:h.getCurrentScope,getIsolationScope:h.getIsolationScope,captureException:(i,e)=>h.getCurrentScope().captureException(i,e),captureMessage:(i,e,t)=>h.getCurrentScope().captureMessage(i,e,t),captureEvent:m.captureEvent,addBreadcrumb:d.addBreadcrumb,setUser:m.setUser,setTags:m.setTags,setTag:m.setTag,setExtra:m.setExtra,setExtras:m.setExtras,setContext:m.setContext,getIntegration(i){const e=h.getClient();return e&&e.getIntegrationByName(i.id)||null},startSession:m.startSession,endSession:m.endSession,captureSession(i){if(i)return m.endSession();s()}}}n(p,"getCurrentHubShim");const a=p;function s(){const i=h.getCurrentScope(),e=h.getClient(),t=i.getSession();e&&t&&e.captureSession(t)}n(s,"_sendSessionUpdate"),l.getCurrentHub=a,l.getCurrentHubShim=p},8482989710:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(2206474662),h=c(9578383602),m=c(5618891990),p=c(7265722327),a=c(6720678066),s=c(8167549304),i=c(1150305139),e=c(4530391782),t=c(9064881818),r=c(3345259075),o=c(6939919536),f=c(8482601586),g=c(2332127203),v=c(5297268390),u=c(5015065869),S=c(8438156026),_=c(897859094),b=c(2685322190),E=c(5234873710),T=c(7083316483),I=c(2158524366),A=c(5911348835),w=c(9857059330),R=c(4936960144),P=c(1817668688),x=c(9483783910),z=c(306863924),Z=c(3178226440),re=c(2843166954),ne=c(639277478),he=c(1927145604),ge=c(8969228363),Pe=c(9877103701),He=c(7584701501),pt=c(8645141291),Ht=c(175966809),Ke=c(5800525242),it=c(4718881455),ct=c(5475300505),rt=c(1119532287),_t=c(3433863337),Gt=c(4834620523),Kt=c(4433801832),Ye=c(3620727810),Xe=c(3514394122),It=c(8947681608),kt=c(2133507327),gt=c(4474256835),En=c(8953708405),pn=c(1072936841),wn=c(1794376169),zn=c(6437106406),Qn=c(8435832800),Sn=c(3496361636),Zn=c(3005223956),lr=c(6342793611),ui=c(6431460707),fi=c(5988719990),Vn=c(1243296801),In=c(296812610),wi=c(2117263085),_n=c(7983636933),An=c(6649284951);l.registerSpanErrorInstrumentation=d.registerSpanErrorInstrumentation,l.getCapturedScopesOnSpan=h.getCapturedScopesOnSpan,l.setCapturedScopesOnSpan=h.setCapturedScopesOnSpan,l.addTracingExtensions=m.addTracingExtensions,l.TRACING_DEFAULTS=p.TRACING_DEFAULTS,l.startIdleSpan=p.startIdleSpan,l.SentrySpan=a.SentrySpan,l.SentryNonRecordingSpan=s.SentryNonRecordingSpan,l.SPAN_STATUS_ERROR=i.SPAN_STATUS_ERROR,l.SPAN_STATUS_OK=i.SPAN_STATUS_OK,l.SPAN_STATUS_UNSET=i.SPAN_STATUS_UNSET,l.getSpanStatusFromHttpCode=i.getSpanStatusFromHttpCode,l.setHttpStatus=i.setHttpStatus,l.continueTrace=e.continueTrace,l.startInactiveSpan=e.startInactiveSpan,l.startSpan=e.startSpan,l.startSpanManual=e.startSpanManual,l.suppressTracing=e.suppressTracing,l.withActiveSpan=e.withActiveSpan,l.getDynamicSamplingContextFromClient=t.getDynamicSamplingContextFromClient,l.getDynamicSamplingContextFromSpan=t.getDynamicSamplingContextFromSpan,l.setMeasurement=r.setMeasurement,l.timedEventsToMeasurements=r.timedEventsToMeasurements,l.sampleSpan=o.sampleSpan,l.logSpanEnd=f.logSpanEnd,l.logSpanStart=f.logSpanStart,l.SEMANTIC_ATTRIBUTE_CACHE_HIT=g.SEMANTIC_ATTRIBUTE_CACHE_HIT,l.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=g.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,l.SEMANTIC_ATTRIBUTE_CACHE_KEY=g.SEMANTIC_ATTRIBUTE_CACHE_KEY,l.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=g.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,l.SEMANTIC_ATTRIBUTE_PROFILE_ID=g.SEMANTIC_ATTRIBUTE_PROFILE_ID,l.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=g.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,l.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=g.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,l.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=g.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,l.SEMANTIC_ATTRIBUTE_SENTRY_OP=g.SEMANTIC_ATTRIBUTE_SENTRY_OP,l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=g.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,l.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=g.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=g.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,l.createEventEnvelope=v.createEventEnvelope,l.createSessionEnvelope=v.createSessionEnvelope,l.createSpanEnvelope=v.createSpanEnvelope,l.addEventProcessor=u.addEventProcessor,l.captureCheckIn=u.captureCheckIn,l.captureEvent=u.captureEvent,l.captureException=u.captureException,l.captureMessage=u.captureMessage,l.captureSession=u.captureSession,l.close=u.close,l.endSession=u.endSession,l.flush=u.flush,l.isEnabled=u.isEnabled,l.isInitialized=u.isInitialized,l.lastEventId=u.lastEventId,l.setContext=u.setContext,l.setExtra=u.setExtra,l.setExtras=u.setExtras,l.setTag=u.setTag,l.setTags=u.setTags,l.setUser=u.setUser,l.startSession=u.startSession,l.withMonitor=u.withMonitor,l.getClient=S.getClient,l.getCurrentScope=S.getCurrentScope,l.getDefaultCurrentScope=S.getDefaultCurrentScope,l.getDefaultIsolationScope=S.getDefaultIsolationScope,l.getGlobalScope=S.getGlobalScope,l.getIsolationScope=S.getIsolationScope,l.withIsolationScope=S.withIsolationScope,l.withScope=S.withScope,l.setAsyncContextStrategy=_.setAsyncContextStrategy,l.getMainCarrier=b.getMainCarrier,l.closeSession=E.closeSession,l.makeSession=E.makeSession,l.updateSession=E.updateSession,l.SessionFlusher=T.SessionFlusher,l.Scope=I.Scope,l.notifyEventProcessors=A.notifyEventProcessors,l.getEnvelopeEndpointWithUrlEncodedAuth=w.getEnvelopeEndpointWithUrlEncodedAuth,l.getReportDialogEndpoint=w.getReportDialogEndpoint,l.BaseClient=R.BaseClient,l.ServerRuntimeClient=P.ServerRuntimeClient,l.initAndBind=x.initAndBind,l.setCurrentClient=x.setCurrentClient,l.createTransport=z.createTransport,l.makeOfflineTransport=Z.makeOfflineTransport,l.makeMultiplexedTransport=re.makeMultiplexedTransport,l.SDK_VERSION=ne.SDK_VERSION,l.addIntegration=he.addIntegration,l.defineIntegration=he.defineIntegration,l.getIntegrationsToSetup=he.getIntegrationsToSetup,l.applyScopeDataToEvent=ge.applyScopeDataToEvent,l.mergeScopeData=ge.mergeScopeData,l.prepareEvent=Pe.prepareEvent,l.createCheckInEnvelope=He.createCheckInEnvelope,l.hasTracingEnabled=pt.hasTracingEnabled,l.isSentryRequestUrl=Ht.isSentryRequestUrl,l.handleCallbackErrors=Ke.handleCallbackErrors,l.parameterize=it.parameterize,l.addChildSpanToSpan=ct.addChildSpanToSpan,l.getActiveSpan=ct.getActiveSpan,l.getRootSpan=ct.getRootSpan,l.getSpanDescendants=ct.getSpanDescendants,l.getStatusMessage=ct.getStatusMessage,l.spanIsSampled=ct.spanIsSampled,l.spanToBaggageHeader=ct.spanToBaggageHeader,l.spanToJSON=ct.spanToJSON,l.spanToTraceContext=ct.spanToTraceContext,l.spanToTraceHeader=ct.spanToTraceHeader,l.parseSampleRate=rt.parseSampleRate,l.applySdkMetadata=_t.applySdkMetadata,l.DEFAULT_ENVIRONMENT=Gt.DEFAULT_ENVIRONMENT,l.addBreadcrumb=Kt.addBreadcrumb,l.functionToStringIntegration=Ye.functionToStringIntegration,l.inboundFiltersIntegration=Xe.inboundFiltersIntegration,l.linkedErrorsIntegration=It.linkedErrorsIntegration,l.moduleMetadataIntegration=kt.moduleMetadataIntegration,l.requestDataIntegration=gt.requestDataIntegration,l.captureConsoleIntegration=En.captureConsoleIntegration,l.debugIntegration=pn.debugIntegration,l.dedupeIntegration=wn.dedupeIntegration,l.extraErrorDataIntegration=zn.extraErrorDataIntegration,l.rewriteFramesIntegration=Qn.rewriteFramesIntegration,l.sessionTimingIntegration=Sn.sessionTimingIntegration,l.zodErrorsIntegration=Zn.zodErrorsIntegration,l.metrics=lr.metrics,l.metricsDefault=ui.metricsDefault,l.BrowserMetricsAggregator=fi.BrowserMetricsAggregator,l.getMetricSummaryJsonForSpan=Vn.getMetricSummaryJsonForSpan,l.addTracingHeadersToFetchRequest=In.addTracingHeadersToFetchRequest,l.instrumentFetchRequest=In.instrumentFetchRequest,l.trpcMiddleware=wi.trpcMiddleware,l.captureFeedback=_n.captureFeedback,l.getCurrentHub=An.getCurrentHub,l.getCurrentHubShim=An.getCurrentHubShim},1927145604:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(8844511336),p=[];function a(g){const v={};return g.forEach(u=>{const{name:S}=u,_=v[S];_&&!_.isDefaultInstance&&u.isDefaultInstance||(v[S]=u)}),Object.keys(v).map(u=>v[u])}n(a,"filterDuplicates");function s(g){const v=g.defaultIntegrations||[],u=g.integrations;v.forEach(E=>{E.isDefaultInstance=!0});let S;Array.isArray(u)?S=[...v,...u]:typeof u=="function"?S=d.arrayify(u(v)):S=v;const _=a(S),b=o(_,E=>E.name==="Debug");if(b!==-1){const[E]=_.splice(b,1);_.push(E)}return _}n(s,"getIntegrationsToSetup");function i(g,v){const u={};return v.forEach(S=>{S&&t(g,S,u)}),u}n(i,"setupIntegrations");function e(g,v){for(const u of v)u&&u.afterAllSetup&&u.afterAllSetup(g)}n(e,"afterSetupIntegrations");function t(g,v,u){if(u[v.name]){m.DEBUG_BUILD&&d.logger.log(`Integration skipped because it was already installed: ${v.name}`);return}if(u[v.name]=v,p.indexOf(v.name)===-1&&typeof v.setupOnce=="function"&&(v.setupOnce(),p.push(v.name)),v.setup&&typeof v.setup=="function"&&v.setup(g),typeof v.preprocessEvent=="function"){const S=v.preprocessEvent.bind(v);g.on("preprocessEvent",(_,b)=>S(_,b,g))}if(typeof v.processEvent=="function"){const S=v.processEvent.bind(v),_=Object.assign((b,E)=>S(b,E,g),{id:v.name});g.addEventProcessor(_)}m.DEBUG_BUILD&&d.logger.log(`Integration installed: ${v.name}`)}n(t,"setupIntegration");function r(g){const v=h.getClient();if(!v){m.DEBUG_BUILD&&d.logger.warn(`Cannot add integration "${g.name}" because no SDK Client is available.`);return}v.addIntegration(g)}n(r,"addIntegration");function o(g,v){for(let u=0;u<g.length;u++)if(v(g[u])===!0)return u;return-1}n(o,"findIndex");function f(g){return g}n(f,"defineIntegration"),l.addIntegration=r,l.afterSetupIntegrations=e,l.defineIntegration=f,l.getIntegrationsToSetup=s,l.installedIntegrations=p,l.setupIntegration=t,l.setupIntegrations=i},8953708405:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(5015065869),p=c(1927145604),a="CaptureConsole",s=n((t={})=>{const r=t.levels||d.CONSOLE_LEVELS;return{name:a,setup(o){"console"in d.GLOBAL_OBJ&&d.addConsoleInstrumentationHandler(({args:f,level:g})=>{h.getClient()!==o||!r.includes(g)||e(f,g)})}}},"_captureConsoleIntegration"),i=p.defineIntegration(s);function e(t,r){const o={level:d.severityLevelFromString(r),extra:{arguments:t}};h.withScope(f=>{if(f.addEventProcessor(u=>(u.logger="console",d.addExceptionMechanism(u,{handled:!1,type:"console"}),u)),r==="assert"){if(!t[0]){const u=`Assertion failed: ${d.safeJoin(t.slice(1)," ")||"console.assert"}`;f.setExtra("arguments",t.slice(1)),m.captureMessage(u,o)}return}const g=t.find(u=>u instanceof Error);if(g){m.captureException(g,o);return}const v=d.safeJoin(t," ");m.captureMessage(v,o)})}n(e,"consoleHandler"),l.captureConsoleIntegration=i},1072936841:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m="Debug",p=n((s={})=>{const i={debugger:!1,stringify:!1,...s};return{name:m,setup(e){e.on("beforeSendEvent",(t,r)=>{if(i.debugger)debugger;d.consoleSandbox(()=>{i.stringify?(console.log(JSON.stringify(t,null,2)),r&&Object.keys(r).length&&console.log(JSON.stringify(r,null,2))):(console.log(t),r&&Object.keys(r).length&&console.log(r))})})}}},"_debugIntegration"),a=h.defineIntegration(p);l.debugIntegration=a},1794376169:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m=c(8844511336),p="Dedupe",a=n(()=>{let v;return{name:p,processEvent(u){if(u.type)return u;try{if(i(u,v))return m.DEBUG_BUILD&&d.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return v=u}}},"_dedupeIntegration"),s=h.defineIntegration(a);function i(v,u){return u?!!(e(v,u)||t(v,u)):!1}n(i,"_shouldDropEvent");function e(v,u){const S=v.message,_=u.message;return!(!S&&!_||S&&!_||!S&&_||S!==_||!o(v,u)||!r(v,u))}n(e,"_isSameMessageEvent");function t(v,u){const S=f(u),_=f(v);return!(!S||!_||S.type!==_.type||S.value!==_.value||!o(v,u)||!r(v,u))}n(t,"_isSameExceptionEvent");function r(v,u){let S=g(v),_=g(u);if(!S&&!_)return!0;if(S&&!_||!S&&_||(S=S,_=_,_.length!==S.length))return!1;for(let b=0;b<_.length;b++){const E=_[b],T=S[b];if(E.filename!==T.filename||E.lineno!==T.lineno||E.colno!==T.colno||E.function!==T.function)return!1}return!0}n(r,"_isSameStacktrace");function o(v,u){let S=v.fingerprint,_=u.fingerprint;if(!S&&!_)return!0;if(S&&!_||!S&&_)return!1;S=S,_=_;try{return S.join("")===_.join("")}catch{return!1}}n(o,"_isSameFingerprint");function f(v){return v.exception&&v.exception.values&&v.exception.values[0]}n(f,"_getExceptionFromEvent");function g(v){const u=v.exception;if(u)try{return u.values[0].stacktrace.frames}catch{return}}n(g,"_getFramesFromEvent"),l._shouldDropEvent=i,l.dedupeIntegration=s},6437106406:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m=c(8844511336),p="ExtraErrorData",a=n((t={})=>{const{depth:r=3,captureErrorCause:o=!0}=t;return{name:p,processEvent(f,g){return i(f,g,r,o)}}},"_extraErrorDataIntegration"),s=h.defineIntegration(a);function i(t,r={},o,f){if(!r.originalException||!d.isError(r.originalException))return t;const g=r.originalException.name||r.originalException.constructor.name,v=e(r.originalException,f);if(v){const u={...t.contexts},S=d.normalize(v,o);return d.isPlainObject(S)&&(d.addNonEnumerableProperty(S,"__sentry_skip_normalization__",!0),u[g]=S),{...t,contexts:u}}return t}n(i,"_enhanceEventWithErrorData");function e(t,r){try{const o=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],f={};for(const g of Object.keys(t)){if(o.indexOf(g)!==-1)continue;const v=t[g];f[g]=d.isError(v)?v.toString():v}if(r&&t.cause!==void 0&&(f.cause=d.isError(t.cause)?t.cause.toString():t.cause),typeof t.toJSON=="function"){const g=t.toJSON();for(const v of Object.keys(g)){const u=g[v];f[v]=d.isError(u)?u.toString():u}}return f}catch(o){m.DEBUG_BUILD&&d.logger.error("Unable to extract extra data from the Error object:",o)}return null}n(e,"_extractErrorData"),l.extraErrorDataIntegration=s},3620727810:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(1927145604);let p;const a="FunctionToString",s=new WeakMap,i=n(()=>({name:a,setupOnce(){p=Function.prototype.toString;try{Function.prototype.toString=function(...t){const r=d.getOriginalFunction(this),o=s.has(h.getClient())&&r!==void 0?r:this;return p.apply(o,t)}}catch{}},setup(t){s.set(t,!0)}}),"_functionToStringIntegration"),e=m.defineIntegration(i);l.functionToStringIntegration=e},3514394122:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336),m=c(1927145604),p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],a="InboundFilters",s=n((b={})=>({name:a,processEvent(E,T,I){const A=I.getOptions(),w=e(b,A);return t(E,w)?null:E}}),"_inboundFiltersIntegration"),i=m.defineIntegration(s);function e(b={},E={}){return{allowUrls:[...b.allowUrls||[],...E.allowUrls||[]],denyUrls:[...b.denyUrls||[],...E.denyUrls||[]],ignoreErrors:[...b.ignoreErrors||[],...E.ignoreErrors||[],...b.disableErrorDefaults?[]:p],ignoreTransactions:[...b.ignoreTransactions||[],...E.ignoreTransactions||[]],ignoreInternal:b.ignoreInternal!==void 0?b.ignoreInternal:!0}}n(e,"_mergeOptions");function t(b,E){return E.ignoreInternal&&u(b)?(h.DEBUG_BUILD&&d.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${d.getEventDescription(b)}`),!0):r(b,E.ignoreErrors)?(h.DEBUG_BUILD&&d.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${d.getEventDescription(b)}`),!0):o(b,E.ignoreTransactions)?(h.DEBUG_BUILD&&d.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${d.getEventDescription(b)}`),!0):f(b,E.denyUrls)?(h.DEBUG_BUILD&&d.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${d.getEventDescription(b)}.
Url: ${_(b)}`),!0):g(b,E.allowUrls)?!1:(h.DEBUG_BUILD&&d.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${d.getEventDescription(b)}.
Url: ${_(b)}`),!0)}n(t,"_shouldDropEvent");function r(b,E){return b.type||!E||!E.length?!1:v(b).some(T=>d.stringMatchesSomePattern(T,E))}n(r,"_isIgnoredError");function o(b,E){if(b.type!=="transaction"||!E||!E.length)return!1;const T=b.transaction;return T?d.stringMatchesSomePattern(T,E):!1}n(o,"_isIgnoredTransaction");function f(b,E){if(!E||!E.length)return!1;const T=_(b);return T?d.stringMatchesSomePattern(T,E):!1}n(f,"_isDeniedUrl");function g(b,E){if(!E||!E.length)return!0;const T=_(b);return T?d.stringMatchesSomePattern(T,E):!0}n(g,"_isAllowedUrl");function v(b){const E=[];b.message&&E.push(b.message);let T;try{T=b.exception.values[b.exception.values.length-1]}catch{}return T&&T.value&&(E.push(T.value),T.type&&E.push(`${T.type}: ${T.value}`)),E}n(v,"_getPossibleEventMessages");function u(b){try{return b.exception.values[0].type==="SentryError"}catch{}return!1}n(u,"_isSentryError");function S(b=[]){for(let E=b.length-1;E>=0;E--){const T=b[E];if(T&&T.filename!=="<anonymous>"&&T.filename!=="[native code]")return T.filename||null}return null}n(S,"_getLastValidUrl");function _(b){try{let E;try{E=b.exception.values[0].stacktrace.frames}catch{}return E?S(E):null}catch{return h.DEBUG_BUILD&&d.logger.error(`Cannot extract url for event ${d.getEventDescription(b)}`),null}}n(_,"_getEventFilterUrl"),l.inboundFiltersIntegration=i},8947681608:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m="cause",p=5,a="LinkedErrors",s=n((e={})=>{const t=e.limit||p,r=e.key||m;return{name:a,preprocessEvent(o,f,g){const v=g.getOptions();d.applyAggregateErrorsToEvent(d.exceptionFromError,v.stackParser,v.maxValueLength,r,t,o,f)}}},"_linkedErrorsIntegration"),i=h.defineIntegration(s);l.linkedErrorsIntegration=i},2133507327:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m=c(2247716195),p="ModuleMetadata",a=n(()=>({name:p,setup(i){i.on("beforeEnvelope",e=>{d.forEachEnvelopeItem(e,(t,r)=>{if(r==="event"){const o=Array.isArray(t)?t[1]:void 0;o&&(m.stripMetadataFromStackFrames(o),t[1]=o)}})})},processEvent(i,e,t){const r=t.getOptions().stackParser;return m.addMetadataToStackFrames(r,i),i}}),"_moduleMetadataIntegration"),s=h.defineIntegration(a);l.moduleMetadataIntegration=s},4474256835:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},p="RequestData",a=n((e={})=>{const t={...m,...e,include:{...m.include,...e.include,user:e.include&&typeof e.include.user=="boolean"?e.include.user:{...m.include.user,...(e.include||{}).user}}};return{name:p,processEvent(r){const{sdkProcessingMetadata:o={}}=r,f=o.request;if(!f)return r;const g=i(t);return d.addRequestDataToEvent(r,f,g)}}},"_requestDataIntegration"),s=h.defineIntegration(a);function i(e){const{transactionNamingScheme:t,include:{ip:r,user:o,...f}}=e,g=["method"];for(const[u,S]of Object.entries(f))S&&g.push(u);let v;if(o===void 0)v=!0;else if(typeof o=="boolean")v=o;else{const u=[];for(const[S,_]of Object.entries(o))_&&u.push(S);v=u}return{include:{ip:r,user:v,request:g.length!==0?g:void 0,transaction:t}}}n(i,"convertReqDataIntegrationOptsToAddReqDataOpts"),l.requestDataIntegration=s},8435832800:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m="RewriteFrames",p=h.defineIntegration((s={})=>{const i=s.root,e=s.prefix||"app:///",t="window"in d.GLOBAL_OBJ&&d.GLOBAL_OBJ.window!==void 0,r=s.iteratee||a({isBrowser:t,root:i,prefix:e});function o(g){try{return{...g,exception:{...g.exception,values:g.exception.values.map(v=>({...v,...v.stacktrace&&{stacktrace:f(v.stacktrace)}}))}}}catch{return g}}n(o,"_processExceptionsEvent");function f(g){return{...g,frames:g&&g.frames&&g.frames.map(v=>r(v))}}return n(f,"_processStacktrace"),{name:m,processEvent(g){let v=g;return g.exception&&Array.isArray(g.exception.values)&&(v=o(v)),v}}});function a({isBrowser:s,root:i,prefix:e}){return t=>{if(!t.filename)return t;const r=/^[a-zA-Z]:\\/.test(t.filename)||t.filename.includes("\\")&&!t.filename.includes("/"),o=/^\//.test(t.filename);if(s){if(i){const f=t.filename;f.indexOf(i)===0&&(t.filename=f.replace(i,e))}}else if(r||o){const f=r?t.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):t.filename,g=i?d.relative(i,f):d.basename(f);t.filename=`${e}${g}`}return t}}n(a,"generateIteratee"),l.generateIteratee=a,l.rewriteFramesIntegration=p},3496361636:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m="SessionTiming",p=n(()=>{const s=d.timestampInSeconds()*1e3;return{name:m,processEvent(i){const e=d.timestampInSeconds()*1e3;return{...i,extra:{...i.extra,["session:start"]:s,["session:duration"]:e-s,["session:end"]:e}}}}},"_sessionTimingIntegration"),a=h.defineIntegration(p);l.sessionTimingIntegration=a},3005223956:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(1927145604),m=10,p="ZodErrors";function a(o){return d.isError(o)&&o.name==="ZodError"&&Array.isArray(o.errors)}n(a,"originalExceptionIsZodError");function s(o){return{...o,path:"path"in o&&Array.isArray(o.path)?o.path.join("."):void 0,keys:"keys"in o?JSON.stringify(o.keys):void 0,unionErrors:"unionErrors"in o?JSON.stringify(o.unionErrors):void 0}}n(s,"formatIssueTitle");function i(o){const f=new Set;for(const v of o.issues)v.path&&f.add(v.path[0]);const g=Array.from(f);return`Failed to validate keys: ${d.truncate(g.join(", "),100)}`}n(i,"formatIssueMessage");function e(o,f,g){return!f.exception||!f.exception.values||!g||!g.originalException||!a(g.originalException)||g.originalException.issues.length===0?f:{...f,exception:{...f.exception,values:[{...f.exception.values[0],value:i(g.originalException)},...f.exception.values.slice(1)]},extra:{...f.extra,"zoderror.issues":g.originalException.errors.slice(0,o).map(s)}}}n(e,"applyZodErrorsToEvent");const t=n((o={})=>{const f=o.limit||m;return{name:p,processEvent(g,v){return e(f,g,v)}}},"_zodErrorsIntegration"),r=h.defineIntegration(t);l.applyZodErrorsToEvent=e,l.zodErrorsIntegration=r},2247716195:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=new Map,m=new Set;function p(e){if(d.GLOBAL_OBJ._sentryModuleMetadata)for(const t of Object.keys(d.GLOBAL_OBJ._sentryModuleMetadata)){const r=d.GLOBAL_OBJ._sentryModuleMetadata[t];if(m.has(t))continue;m.add(t);const o=e(t);for(const f of o.reverse())if(f.filename){h.set(f.filename,r);break}}}n(p,"ensureMetadataStacksAreParsed");function a(e,t){return p(e),h.get(t)}n(a,"getMetadataForUrl");function s(e,t){try{t.exception.values.forEach(r=>{if(r.stacktrace)for(const o of r.stacktrace.frames||[]){if(!o.filename)continue;const f=a(e,o.filename);f&&(o.module_metadata=f)}})}catch{}}n(s,"addMetadataToStackFrames");function i(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const r of t.stacktrace.frames||[])delete r.module_metadata})}catch{}}n(i,"stripMetadataFromStackFrames"),l.addMetadataToStackFrames=s,l.getMetadataForUrl=a,l.stripMetadataFromStackFrames=i},7604170301:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(5475300505),m=c(9622876717),p=c(5663957480),a=c(8672240743),s=c(5227316865);class i{constructor(t){this._client=t,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval(()=>this._flush(),m.DEFAULT_FLUSH_INTERVAL),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*m.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(t,r,o,f="none",g={},v=d.timestampInSeconds()){const u=Math.floor(v),S=s.sanitizeMetricKey(r),_=s.sanitizeTags(g),b=s.sanitizeUnit(f),E=s.getBucketKey(t,S,b,_);let T=this._buckets.get(E);const I=T&&t===m.SET_METRIC_TYPE?T.metric.weight:0;T?(T.metric.add(o),T.timestamp<u&&(T.timestamp=u)):(T={metric:new a.METRIC_MAP[t](o),timestamp:u,metricType:t,name:S,unit:b,tags:_},this._buckets.set(E,T));const A=typeof o=="string"?T.metric.weight-I:o;h.updateMetricSummaryOnActiveSpan(t,S,A,b,g,E),this._bucketsTotalWeight+=T.metric.weight,this._bucketsTotalWeight>=m.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush){this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),this._buckets.clear();return}const t=Math.floor(d.timestampInSeconds())-m.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,r=new Map;for(const[o,f]of this._buckets)f.timestamp<=t&&(r.set(o,f),this._bucketsTotalWeight-=f.metric.weight);for(const[o]of r)this._buckets.delete(o);this._captureMetrics(r)}_captureMetrics(t){if(t.size>0){const r=Array.from(t).map(([,o])=>o);p.captureAggregateMetrics(this._client,r)}}}n(i,"MetricsAggregator"),l.MetricsAggregator=i},5988719990:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(5475300505),m=c(9622876717),p=c(5663957480),a=c(8672240743),s=c(5227316865);class i{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),m.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(t,r,o,f="none",g={},v=d.timestampInSeconds()){const u=Math.floor(v),S=s.sanitizeMetricKey(r),_=s.sanitizeTags(g),b=s.sanitizeUnit(f),E=s.getBucketKey(t,S,b,_);let T=this._buckets.get(E);const I=T&&t===m.SET_METRIC_TYPE?T.metric.weight:0;T?(T.metric.add(o),T.timestamp<u&&(T.timestamp=u)):(T={metric:new a.METRIC_MAP[t](o),timestamp:u,metricType:t,name:S,unit:b,tags:_},this._buckets.set(E,T));const A=typeof o=="string"?T.metric.weight-I:o;h.updateMetricSummaryOnActiveSpan(t,S,A,b,g,E)}flush(){if(this._buckets.size===0)return;const t=Array.from(this._buckets.values());p.captureAggregateMetrics(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}n(i,"BrowserMetricsAggregator"),l.BrowserMetricsAggregator=i},9622876717:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c="c",d="g",h="s",m="d",p=5e3,a=1e4,s=1e4;l.COUNTER_METRIC_TYPE=c,l.DEFAULT_BROWSER_FLUSH_INTERVAL=p,l.DEFAULT_FLUSH_INTERVAL=a,l.DISTRIBUTION_METRIC_TYPE=m,l.GAUGE_METRIC_TYPE=d,l.MAX_WEIGHT=s,l.SET_METRIC_TYPE=h},5663957480:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(5227316865);function m(s,i){d.logger.log(`Flushing aggregated metrics, number of metrics: ${i.length}`);const e=s.getDsn(),t=s.getSdkMetadata(),r=s.getOptions().tunnel,o=p(i,e,t,r);s.sendEnvelope(o)}n(m,"captureAggregateMetrics");function p(s,i,e,t){const r={sent_at:new Date().toISOString()};e&&e.sdk&&(r.sdk={name:e.sdk.name,version:e.sdk.version}),t&&i&&(r.dsn=d.dsnToString(i));const o=a(s);return d.createEnvelope(r,[o])}n(p,"createMetricEnvelope");function a(s){const i=h.serializeMetricBuckets(s);return[{type:"statsd",length:i.length},i]}n(a,"createMetricEnvelopeItem"),l.captureAggregateMetrics=m,l.createMetricEnvelope=p},6431460707:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7604170301),h=c(6342793611);function m(t,r=1,o){h.metrics.increment(d.MetricsAggregator,t,r,o)}n(m,"increment");function p(t,r,o){h.metrics.distribution(d.MetricsAggregator,t,r,o)}n(p,"distribution");function a(t,r,o){h.metrics.set(d.MetricsAggregator,t,r,o)}n(a,"set");function s(t,r,o){h.metrics.gauge(d.MetricsAggregator,t,r,o)}n(s,"gauge");function i(t){return h.metrics.getMetricsAggregatorForClient(t,d.MetricsAggregator)}n(i,"getMetricsAggregatorForClient");const e={increment:m,distribution:p,set:a,gauge:s,getMetricsAggregatorForClient:i};l.metricsDefault=e},6342793611:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(8844511336),p=c(5475300505),a=c(9622876717);function s(g,v){const u=d.getGlobalSingleton("globalMetricsAggregators",()=>new WeakMap),S=u.get(g);if(S)return S;const _=new v(g);return g.on("flush",()=>_.flush()),g.on("close",()=>_.close()),u.set(g,_),_}n(s,"getMetricsAggregatorForClient");function i(g,v,u,S,_={}){const b=_.client||h.getClient();if(!b)return;const E=p.getActiveSpan(),T=E?p.getRootSpan(E):void 0,{unit:I,tags:A,timestamp:w}=_,{release:R,environment:P}=b.getOptions(),x={};R&&(x.release=R),P&&(x.environment=P),T&&(x.transaction=p.spanToJSON(T).description||""),m.DEBUG_BUILD&&d.logger.log(`Adding value of ${S} to ${v} metric ${u}`),s(b,g).add(v,u,S,I,{...x,...A},w)}n(i,"addToMetricsAggregator");function e(g,v,u=1,S){i(g,a.COUNTER_METRIC_TYPE,v,u,S)}n(e,"increment");function t(g,v,u,S){i(g,a.DISTRIBUTION_METRIC_TYPE,v,u,S)}n(t,"distribution");function r(g,v,u,S){i(g,a.SET_METRIC_TYPE,v,u,S)}n(r,"set");function o(g,v,u,S){i(g,a.GAUGE_METRIC_TYPE,v,u,S)}n(o,"gauge");const f={increment:e,distribution:t,set:r,gauge:o,getMetricsAggregatorForClient:s};l.metrics=f},8672240743:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9622876717),h=c(5227316865);class m{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}n(m,"CounterMetric");class p{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}n(p,"GaugeMetric");class a{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}n(a,"DistributionMetric");class s{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?h.simpleHash(t):t).join(":")}}n(s,"SetMetric");const i={[d.COUNTER_METRIC_TYPE]:m,[d.GAUGE_METRIC_TYPE]:p,[d.DISTRIBUTION_METRIC_TYPE]:a,[d.SET_METRIC_TYPE]:s};l.CounterMetric=m,l.DistributionMetric=a,l.GaugeMetric=p,l.METRIC_MAP=i,l.SetMetric=s},1243296801:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);let h;function m(s){return h?h.get(s):void 0}n(m,"getMetricStorageForSpan");function p(s){const i=m(s);if(!i)return;const e={};for(const[,[t,r]]of i)e[t]||(e[t]=[]),e[t].push(d.dropUndefinedKeys(r));return e}n(p,"getMetricSummaryJsonForSpan");function a(s,i,e,t,r,o,f){const g=m(s)||new Map,v=`${i}:${e}@${r}`,u=g.get(f);if(u){const[,S]=u;g.set(f,[v,{min:Math.min(S.min,t),max:Math.max(S.max,t),count:S.count+=1,sum:S.sum+=t,tags:S.tags}])}else g.set(f,[v,{min:t,max:t,count:1,sum:t,tags:o}]);h||(h=new WeakMap),h.set(s,g)}n(a,"updateMetricSummaryOnSpan"),l.getMetricSummaryJsonForSpan=p,l.updateMetricSummaryOnSpan=a},5227316865:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);function h(f,g,v,u){const S=Object.entries(d.dropUndefinedKeys(u)).sort((_,b)=>_[0].localeCompare(b[0]));return`${f}${g}${v}${S}`}n(h,"getBucketKey");function m(f){let g=0;for(let v=0;v<f.length;v++){const u=f.charCodeAt(v);g=(g<<5)-g+u,g&=g}return g>>>0}n(m,"simpleHash");function p(f){let g="";for(const v of f){const u=Object.entries(v.tags),S=u.length>0?`|#${u.map(([_,b])=>`${_}:${b}`).join(",")}`:"";g+=`${v.name}@${v.unit}:${v.metric}|${v.metricType}${S}|T${v.timestamp}
`}return g}n(p,"serializeMetricBuckets");function a(f){return f.replace(/[^\w]+/gi,"_")}n(a,"sanitizeUnit");function s(f){return f.replace(/[^\w\-.]+/gi,"_")}n(s,"sanitizeMetricKey");function i(f){return f.replace(/[^\w\-./]+/gi,"")}n(i,"sanitizeTagKey");const e=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function t(f){for(const[g,v]of e)if(f===g)return v;return f}n(t,"getCharOrReplacement");function r(f){return[...f].reduce((g,v)=>g+t(v),"")}n(r,"sanitizeTagValue");function o(f){const g={};for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v)){const u=i(v);g[u]=r(String(f[v]))}return g}n(o,"sanitizeTags"),l.getBucketKey=h,l.sanitizeMetricKey=s,l.sanitizeTags=o,l.sanitizeUnit=a,l.serializeMetricBuckets=p,l.simpleHash=m},2158524366:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(5234873710),m=c(9972015035),p=100;class a{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=i()}clone(){const t=new a;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,m._setSpanForScope(t,m._getSpanForScope(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&h.updateSession(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[o,f]=r instanceof s?[r.getScopeData(),r.getRequestSession()]:d.isPlainObject(r)?[t,t.requestSession]:[],{tags:g,extra:v,user:u,contexts:S,level:_,fingerprint:b=[],propagationContext:E}=o||{};return this._tags={...this._tags,...g},this._extra={...this._extra,...v},this._contexts={...this._contexts,...S},u&&Object.keys(u).length&&(this._user=u),_&&(this._level=_),b.length&&(this._fingerprint=b),E&&(this._propagationContext=E),f&&(this._requestSession=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,m._setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=i(),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const o=typeof r=="number"?r:p;if(o<=0)return this;const f={timestamp:d.dateTimestampInSeconds(),...t},g=this._breadcrumbs;return g.push(f),this._breadcrumbs=g.length>o?g.slice(-o):g,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:m._getSpanForScope(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const o=r&&r.event_id?r.event_id:d.uuid4();if(!this._client)return d.logger.warn("No client configured on scope - will not capture exception!"),o;const f=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:f,...r,event_id:o},this),o}captureMessage(t,r,o){const f=o&&o.event_id?o.event_id:d.uuid4();if(!this._client)return d.logger.warn("No client configured on scope - will not capture message!"),f;const g=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:g,...o,event_id:f},this),f}captureEvent(t,r){const o=r&&r.event_id?r.event_id:d.uuid4();return this._client?(this._client.captureEvent(t,{...r,event_id:o},this),o):(d.logger.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}n(a,"ScopeClass");const s=a;function i(){return{traceId:d.uuid4(),spanId:d.uuid4().substring(16)}}n(i,"generatePropagationContext"),l.Scope=s},9483783910:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(2685322190),p=c(8844511336);function a(e,t){t.debug===!0&&(p.DEBUG_BUILD?d.logger.enable():d.consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),h.getCurrentScope().update(t.initialScope);const o=new e(t);s(o),o.init()}n(a,"initAndBind");function s(e){h.getCurrentScope().setClient(e),i(e)}n(s,"setCurrentClient");function i(e){const t=m.getSentryCarrier(m.getMainCarrier());t.hub&&typeof t.hub.getStackTop=="function"&&(t.hub.getStackTop().client=e)}n(i,"registerClientOnGlobalHub"),l.initAndBind=a,l.setCurrentClient=s},2332127203:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c="sentry.source",d="sentry.sample_rate",h="sentry.op",m="sentry.origin",p="sentry.idle_span_finish_reason",a="sentry.measurement_unit",s="sentry.measurement_value",i="sentry.profile_id",e="sentry.exclusive_time",t="cache.hit",r="cache.key",o="cache.item_size";l.SEMANTIC_ATTRIBUTE_CACHE_HIT=t,l.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=o,l.SEMANTIC_ATTRIBUTE_CACHE_KEY=r,l.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=e,l.SEMANTIC_ATTRIBUTE_PROFILE_ID=i,l.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=p,l.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=a,l.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=s,l.SEMANTIC_ATTRIBUTE_SENTRY_OP=h,l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=m,l.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=d,l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=c},1817668688:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(4936960144),m=c(7584701501),p=c(8438156026),a=c(8844511336),s=c(7083316483),i=c(2206474662),e=c(9972015035),t=c(5475300505),r=c(9064881818);class o extends h.BaseClient{constructor(g){i.registerSpanErrorInstrumentation(),super(g)}eventFromException(g,v){return d.resolvedSyncPromise(d.eventFromUnknownInput(this,this._options.stackParser,g,v))}eventFromMessage(g,v="info",u){return d.resolvedSyncPromise(d.eventFromMessage(this._options.stackParser,g,v,u,this._options.attachStacktrace))}captureException(g,v,u){if(this._options.autoSessionTracking&&this._sessionFlusher){const S=p.getIsolationScope().getRequestSession();S&&S.status==="ok"&&(S.status="errored")}return super.captureException(g,v,u)}captureEvent(g,v,u){if(this._options.autoSessionTracking&&this._sessionFlusher&&(g.type||"exception")==="exception"&&g.exception&&g.exception.values&&g.exception.values.length>0){const b=p.getIsolationScope().getRequestSession();b&&b.status==="ok"&&(b.status="errored")}return super.captureEvent(g,v,u)}close(g){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(g)}initSessionFlusher(){const{release:g,environment:v}=this._options;g?this._sessionFlusher=new s.SessionFlusher(this,{release:g,environment:v}):a.DEBUG_BUILD&&d.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(g,v,u){const S="checkInId"in g&&g.checkInId?g.checkInId:d.uuid4();if(!this._isEnabled())return a.DEBUG_BUILD&&d.logger.warn("SDK not enabled, will not capture checkin."),S;const _=this.getOptions(),{release:b,environment:E,tunnel:T}=_,I={check_in_id:S,monitor_slug:g.monitorSlug,status:g.status,release:b,environment:E};"duration"in g&&(I.duration=g.duration),v&&(I.monitor_config={schedule:v.schedule,checkin_margin:v.checkinMargin,max_runtime:v.maxRuntime,timezone:v.timezone});const[A,w]=this._getTraceInfoFromScope(u);w&&(I.contexts={trace:w});const R=m.createCheckInEnvelope(I,A,this.getSdkMetadata(),T,this.getDsn());return a.DEBUG_BUILD&&d.logger.info("Sending checkin:",g.monitorSlug,g.status),this.sendEnvelope(R),S}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():a.DEBUG_BUILD&&d.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(g,v,u,S){return this._options.platform&&(g.platform=g.platform||this._options.platform),this._options.runtime&&(g.contexts={...g.contexts,runtime:(g.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(g.server_name=g.server_name||this._options.serverName),super._prepareEvent(g,v,u,S)}_getTraceInfoFromScope(g){if(!g)return[void 0,void 0];const v=e._getSpanForScope(g);if(v){const T=t.getRootSpan(v);return[r.getDynamicSamplingContextFromSpan(T),t.spanToTraceContext(T)]}const{traceId:u,spanId:S,parentSpanId:_,dsc:b}=g.getPropagationContext(),E={trace_id:u,span_id:S,parent_span_id:_};return b?[b,E]:[r.getDynamicSamplingContextFromClient(u,this),E]}}n(o,"ServerRuntimeClient"),l.ServerRuntimeClient=o},5234873710:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);function h(s){const i=d.timestampInSeconds(),e={sid:d.uuid4(),init:!0,timestamp:i,started:i,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>a(e)};return s&&m(e,s),e}n(h,"makeSession");function m(s,i={}){if(i.user&&(!s.ipAddress&&i.user.ip_address&&(s.ipAddress=i.user.ip_address),!s.did&&!i.did&&(s.did=i.user.id||i.user.email||i.user.username)),s.timestamp=i.timestamp||d.timestampInSeconds(),i.abnormal_mechanism&&(s.abnormal_mechanism=i.abnormal_mechanism),i.ignoreDuration&&(s.ignoreDuration=i.ignoreDuration),i.sid&&(s.sid=i.sid.length===32?i.sid:d.uuid4()),i.init!==void 0&&(s.init=i.init),!s.did&&i.did&&(s.did=`${i.did}`),typeof i.started=="number"&&(s.started=i.started),s.ignoreDuration)s.duration=void 0;else if(typeof i.duration=="number")s.duration=i.duration;else{const e=s.timestamp-s.started;s.duration=e>=0?e:0}i.release&&(s.release=i.release),i.environment&&(s.environment=i.environment),!s.ipAddress&&i.ipAddress&&(s.ipAddress=i.ipAddress),!s.userAgent&&i.userAgent&&(s.userAgent=i.userAgent),typeof i.errors=="number"&&(s.errors=i.errors),i.status&&(s.status=i.status)}n(m,"updateSession");function p(s,i){let e={};i?e={status:i}:s.status==="ok"&&(e={status:"exited"}),m(s,e)}n(p,"closeSession");function a(s){return d.dropUndefinedKeys({sid:`${s.sid}`,init:s.init,started:new Date(s.started*1e3).toISOString(),timestamp:new Date(s.timestamp*1e3).toISOString(),status:s.status,errors:s.errors,did:typeof s.did=="number"||typeof s.did=="string"?`${s.did}`:void 0,duration:s.duration,abnormal_mechanism:s.abnormal_mechanism,attrs:{release:s.release,environment:s.environment,ip_address:s.ipAddress,user_agent:s.userAgent}})}n(a,"sessionToJSON"),l.closeSession=p,l.makeSession=h,l.updateSession=m},7083316483:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026);class m{constructor(a,s){this._client=a,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=s}flush(){const a=this.getSessionAggregates();a.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(a))}getSessionAggregates(){const a=Object.keys(this._pendingAggregates).map(i=>this._pendingAggregates[parseInt(i)]),s={attrs:this._sessionAttrs,aggregates:a};return d.dropUndefinedKeys(s)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const a=h.getIsolationScope(),s=a.getRequestSession();s&&s.status&&(this._incrementSessionStatusCount(s.status,new Date),a.setRequestSession(void 0))}_incrementSessionStatusCount(a,s){const i=new Date(s).setSeconds(0,0);this._pendingAggregates[i]=this._pendingAggregates[i]||{};const e=this._pendingAggregates[i];switch(e.started||(e.started=new Date(i).toISOString()),a){case"errored":return e.errored=(e.errored||0)+1,e.errored;case"ok":return e.exited=(e.exited||0)+1,e.exited;default:return e.crashed=(e.crashed||0)+1,e.crashed}}}n(m,"SessionFlusher"),l.SessionFlusher=m},9064881818:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(4834620523),m=c(8438156026),p=c(2332127203),a=c(5475300505),s="_frozenDsc";function i(r,o){const f=r;d.addNonEnumerableProperty(f,s,o)}n(i,"freezeDscOnSpan");function e(r,o){const f=o.getOptions(),{publicKey:g}=o.getDsn()||{},v=d.dropUndefinedKeys({environment:f.environment||h.DEFAULT_ENVIRONMENT,release:f.release,public_key:g,trace_id:r});return o.emit("createDsc",v),v}n(e,"getDynamicSamplingContextFromClient");function t(r){const o=m.getClient();if(!o)return{};const f=e(a.spanToJSON(r).trace_id||"",o),g=a.getRootSpan(r);if(!g)return f;const v=g[s];if(v)return v;const u=a.spanToJSON(g),S=u.data||{},_=S[p.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];_!=null&&(f.sample_rate=`${_}`);const b=S[p.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];return b&&b!=="url"&&(f.transaction=u.description),f.sampled=String(a.spanIsSampled(g)),o.emit("createDsc",f),f}n(t,"getDynamicSamplingContextFromSpan"),l.freezeDscOnSpan=i,l.getDynamicSamplingContextFromClient=e,l.getDynamicSamplingContextFromSpan=t},2206474662:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336),m=c(5475300505),p=c(1150305139);let a=!1;function s(){a||(a=!0,d.addGlobalErrorInstrumentationHandler(i),d.addGlobalUnhandledRejectionInstrumentationHandler(i))}n(s,"registerSpanErrorInstrumentation");function i(){const e=m.getActiveSpan(),t=e&&m.getRootSpan(e);if(t){const r="internal_error";h.DEBUG_BUILD&&d.logger.log(`[Tracing] Root span: ${r} -> Global error occured`),t.setStatus({code:p.SPAN_STATUS_ERROR,message:r})}}n(i,"errorCallback"),i.tag="sentry_tracingErrorCallback",l.registerSpanErrorInstrumentation=s},5618891990:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(2206474662);function h(){d.registerSpanErrorInstrumentation()}n(h,"addTracingExtensions"),l.addTracingExtensions=h},7265722327:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(8844511336),p=c(2332127203),a=c(8645141291),s=c(9972015035),i=c(5475300505),e=c(8167549304),t=c(1150305139),r=c(4530391782),o={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},f="heartbeatFailed",g="idleTimeout",v="finalTimeout",u="externalFinish";function S(b,E={}){const T=new Map;let I=!1,A,w=u,R=!E.disableAutoFinish;const{idleTimeout:P=o.idleTimeout,finalTimeout:x=o.finalTimeout,childSpanTimeout:z=o.childSpanTimeout,beforeSpanEnd:Z}=E,re=h.getClient();if(!re||!a.hasTracingEnabled())return new e.SentryNonRecordingSpan;const ne=h.getCurrentScope(),he=i.getActiveSpan(),ge=_(b);function Pe(rt=d.timestampInSeconds()){const _t=i.getSpanDescendants(ge).filter(kt=>kt!==ge);if(!_t.length){ge.end(rt);return}const Gt=_t.map(kt=>i.spanToJSON(kt).timestamp).filter(kt=>!!kt),Kt=Gt.length?Math.max(...Gt):void 0,Ye=i.spanTimeInputToSeconds(rt),Xe=i.spanToJSON(ge).start_timestamp,It=Math.min(Xe?Xe+x/1e3:1/0,Math.max(Xe||-1/0,Math.min(Ye,Kt||1/0)));ge.end(It)}n(Pe,"_endSpan");function He(){A&&(clearTimeout(A),A=void 0)}n(He,"_cancelIdleTimeout");function pt(rt){He(),A=setTimeout(()=>{!I&&T.size===0&&R&&(w=g,Pe(rt))},P)}n(pt,"_restartIdleTimeout");function Ht(rt){A=setTimeout(()=>{!I&&R&&(w=f,Pe(rt))},z)}n(Ht,"_restartChildSpanTimeout");function Ke(rt){He(),T.set(rt,!0);const _t=d.timestampInSeconds();Ht(_t+z/1e3)}n(Ke,"_pushActivity");function it(rt){if(T.has(rt)&&T.delete(rt),T.size===0){const _t=d.timestampInSeconds();pt(_t+P/1e3)}}n(it,"_popActivity");function ct(){I=!0,T.clear(),Z&&Z(ge),s._setSpanForScope(ne,he);const rt=i.spanToJSON(ge),{timestamp:_t,start_timestamp:Gt}=rt;if(!_t||!Gt)return;(rt.data||{})[p.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||ge.setAttribute(p.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,w),d.logger.log(`[Tracing] Idle span "${rt.op}" finished`);const Ye=i.getSpanDescendants(ge).filter(It=>It!==ge);let Xe=0;Ye.forEach(It=>{It.isRecording()&&(It.setStatus({code:t.SPAN_STATUS_ERROR,message:"cancelled"}),It.end(_t),m.DEBUG_BUILD&&d.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(It,void 0,2)));const kt=i.spanToJSON(It),{timestamp:gt=0,start_timestamp:En=0}=kt,pn=En<=_t,wn=(x+P)/1e3,zn=gt-En<wn;if(m.DEBUG_BUILD){const Qn=JSON.stringify(It,void 0,2);pn?zn||d.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",Qn):d.logger.log("[Tracing] Discarding span since it happened after idle span was finished",Qn)}(!zn||!pn)&&(i.removeChildSpanFromSpan(ge,It),Xe++)}),Xe>0&&ge.setAttribute("sentry.idle_span_discarded_spans",Xe)}return n(ct,"onIdleSpanEnded"),re.on("spanStart",rt=>{if(I||rt===ge||i.spanToJSON(rt).timestamp)return;i.getSpanDescendants(ge).includes(rt)&&Ke(rt.spanContext().spanId)}),re.on("spanEnd",rt=>{I||(it(rt.spanContext().spanId),rt===ge&&ct())}),re.on("idleSpanEnableAutoFinish",rt=>{rt===ge&&(R=!0,pt(),T.size&&Ht())}),E.disableAutoFinish||pt(),setTimeout(()=>{I||(ge.setStatus({code:t.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),w=v,Pe())},x),ge}n(S,"startIdleSpan");function _(b){const E=r.startInactiveSpan(b);return s._setSpanForScope(h.getCurrentScope(),E),m.DEBUG_BUILD&&d.logger.log("[Tracing] Started span is an idle span"),E}n(_,"_startIdleSpan"),l.TRACING_DEFAULTS=o,l.startIdleSpan=S},8482601586:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336),m=c(5475300505);function p(s){if(!h.DEBUG_BUILD)return;const{description:i="< unknown name >",op:e="< unknown op >",parent_span_id:t}=m.spanToJSON(s),{spanId:r}=s.spanContext(),o=m.spanIsSampled(s),f=m.getRootSpan(s),g=f===s,v=`[Tracing] Starting ${o?"sampled":"unsampled"} ${g?"root ":""}span`,u=[`op: ${e}`,`name: ${i}`,`ID: ${r}`];if(t&&u.push(`parent ID: ${t}`),!g){const{op:S,description:_}=m.spanToJSON(f);u.push(`root ID: ${f.spanContext().spanId}`),S&&u.push(`root op: ${S}`),_&&u.push(`root description: ${_}`)}d.logger.log(`${v}
  ${u.join(`
  `)}`)}n(p,"logSpanStart");function a(s){if(!h.DEBUG_BUILD)return;const{description:i="< unknown name >",op:e="< unknown op >"}=m.spanToJSON(s),{spanId:t}=s.spanContext(),o=m.getRootSpan(s)===s,f=`[Tracing] Finishing "${e}" ${o?"root ":""}span "${i}" with ID ${t}`;d.logger.log(f)}n(a,"logSpanEnd"),l.logSpanEnd=a,l.logSpanStart=p},3345259075:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(2332127203),h=c(5475300505);function m(a,s,i){const e=h.getActiveSpan(),t=e&&h.getRootSpan(e);t&&t.addEvent(a,{[d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:s,[d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:i})}n(m,"setMeasurement");function p(a){if(!a||a.length===0)return;const s={};return a.forEach(i=>{const e=i.attributes||{},t=e[d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],r=e[d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];typeof t=="string"&&typeof r=="number"&&(s[i.name]={value:r,unit:t})}),s}n(p,"timedEventsToMeasurements"),l.setMeasurement=m,l.timedEventsToMeasurements=p},6939919536:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336),m=c(8645141291),p=c(1119532287);function a(s,i){if(!m.hasTracingEnabled(s))return[!1];let e;typeof s.tracesSampler=="function"?e=s.tracesSampler(i):i.parentSampled!==void 0?e=i.parentSampled:typeof s.tracesSampleRate<"u"?e=s.tracesSampleRate:e=1;const t=p.parseSampleRate(e);return t===void 0?(h.DEBUG_BUILD&&d.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):t?Math.random()<t?[!0,t]:(h.DEBUG_BUILD&&d.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(e)})`),[!1,t]):(h.DEBUG_BUILD&&d.logger.log(`[Tracing] Discarding transaction because ${typeof s.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,t])}n(a,"sampleSpan"),l.sampleSpan=a},8167549304:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(5475300505);class m{constructor(a={}){this._traceId=a.traceId||d.uuid4(),this._spanId=a.spanId||d.uuid4().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:h.TRACE_FLAG_NONE}}end(a){}setAttribute(a,s){return this}setAttributes(a){return this}setStatus(a){return this}updateName(a){return this}isRecording(){return!1}addEvent(a,s,i){return this}}n(m,"SentryNonRecordingSpan"),l.SentryNonRecordingSpan=m},6720678066:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(8844511336),p=c(5297268390),a=c(1243296801),s=c(2332127203),i=c(5475300505),e=c(9064881818),t=c(8482601586),r=c(3345259075),o=c(9578383602);class f{constructor(b={}){this._traceId=b.traceId||d.uuid4(),this._spanId=b.spanId||d.uuid4().substring(16),this._startTime=b.startTimestamp||d.timestampInSeconds(),this._attributes={},this.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:b.op,...b.attributes}),this._name=b.name,b.parentSpanId&&(this._parentSpanId=b.parentSpanId),"sampled"in b&&(this._sampled=b.sampled),b.endTimestamp&&(this._endTime=b.endTimestamp),this._events=[],this._isStandaloneSpan=b.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:b,_traceId:E,_sampled:T}=this;return{spanId:b,traceId:E,traceFlags:T?i.TRACE_FLAG_SAMPLED:i.TRACE_FLAG_NONE}}setAttribute(b,E){E===void 0?delete this._attributes[b]:this._attributes[b]=E}setAttributes(b){Object.keys(b).forEach(E=>this.setAttribute(E,b[E]))}updateStartTime(b){this._startTime=i.spanTimeInputToSeconds(b)}setStatus(b){return this._status=b,this}updateName(b){return this._name=b,this}end(b){this._endTime||(this._endTime=i.spanTimeInputToSeconds(b),t.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return d.dropUndefinedKeys({data:this._attributes,description:this._name,op:this._attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:i.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[s.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[s.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:r.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&i.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?i.getRootSpan(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(b,E,T){m.DEBUG_BUILD&&d.logger.log("[Tracing] Adding an event to span:",b);const I=g(E)?E:T||d.timestampInSeconds(),A=g(E)?{}:E||{},w={name:b,time:i.spanTimeInputToSeconds(I),attributes:A};return this._events.push(w),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const b=h.getClient();if(b&&b.emit("spanEnd",this),!(this._isStandaloneSpan||this===i.getRootSpan(this)))return;if(this._isStandaloneSpan){S(p.createSpanEnvelope([this],b));return}const T=this._convertSpanToTransaction();T&&(o.getCapturedScopesOnSpan(this).scope||h.getCurrentScope()).captureEvent(T)}_convertSpanToTransaction(){if(!v(i.spanToJSON(this)))return;this._name||(m.DEBUG_BUILD&&d.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:b,isolationScope:E}=o.getCapturedScopesOnSpan(this),I=(b||h.getCurrentScope()).getClient()||h.getClient();if(this._sampled!==!0){m.DEBUG_BUILD&&d.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),I&&I.recordDroppedEvent("sample_rate","transaction");return}const w=i.getSpanDescendants(this).filter(Z=>Z!==this&&!u(Z)).map(Z=>i.spanToJSON(Z)).filter(v),R=this._attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],P={contexts:{trace:i.spanToTransactionTraceContext(this)},spans:w,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:b,capturedSpanIsolationScope:E,...d.dropUndefinedKeys({dynamicSamplingContext:e.getDynamicSamplingContextFromSpan(this)})},_metrics_summary:a.getMetricSummaryJsonForSpan(this),...R&&{transaction_info:{source:R}}},x=r.timedEventsToMeasurements(this._events);return x&&Object.keys(x).length&&(m.DEBUG_BUILD&&d.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(x,void 0,2)),P.measurements=x),P}}n(f,"SentrySpan");function g(_){return _&&typeof _=="number"||_ instanceof Date||Array.isArray(_)}n(g,"isSpanTimeInput");function v(_){return!!_.start_timestamp&&!!_.timestamp&&!!_.span_id&&!!_.trace_id}n(v,"isFullFinishedSpan");function u(_){return _ instanceof f&&_.isStandaloneSpan()}n(u,"isStandaloneSpan");function S(_){const b=h.getClient();if(!b)return;const E=_[1];if(!E||E.length===0){b.recordDroppedEvent("before_send","span");return}const T=b.getTransport();T&&T.send(_).then(null,I=>{m.DEBUG_BUILD&&d.logger.error("Error while sending span:",I)})}n(S,"sendSpanEnvelope"),l.SentrySpan=f},1150305139:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=0,d=1,h=2;function m(a){if(a<400&&a>=100)return{code:d};if(a>=400&&a<500)switch(a){case 401:return{code:h,message:"unauthenticated"};case 403:return{code:h,message:"permission_denied"};case 404:return{code:h,message:"not_found"};case 409:return{code:h,message:"already_exists"};case 413:return{code:h,message:"failed_precondition"};case 429:return{code:h,message:"resource_exhausted"};case 499:return{code:h,message:"cancelled"};default:return{code:h,message:"invalid_argument"}}if(a>=500&&a<600)switch(a){case 501:return{code:h,message:"unimplemented"};case 503:return{code:h,message:"unavailable"};case 504:return{code:h,message:"deadline_exceeded"};default:return{code:h,message:"internal_error"}}return{code:h,message:"unknown_error"}}n(m,"getSpanStatusFromHttpCode");function p(a,s){a.setAttribute("http.response.status_code",s);const i=m(s);i.message!=="unknown_error"&&a.setStatus(i)}n(p,"setHttpStatus"),l.SPAN_STATUS_ERROR=h,l.SPAN_STATUS_OK=d,l.SPAN_STATUS_UNSET=c,l.getSpanStatusFromHttpCode=m,l.setHttpStatus=p},4530391782:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(2685322190),m=c(8438156026),p=c(897859094),a=c(2332127203),s=c(5800525242),i=c(8645141291),e=c(9972015035),t=c(5475300505),r=c(9064881818),o=c(8482601586),f=c(6939919536),g=c(8167549304),v=c(6720678066),u=c(1150305139),S=c(9578383602),_="__SENTRY_SUPPRESS_TRACING__";function b(ne,he){const ge=x();if(ge.startSpan)return ge.startSpan(ne,he);const Pe=P(ne);return m.withScope(ne.scope,He=>{const pt=re(He),Ke=ne.onlyIfParent&&!pt?new g.SentryNonRecordingSpan:R({parentSpan:pt,spanContext:Pe,forceTransaction:ne.forceTransaction,scope:He});return e._setSpanForScope(He,Ke),s.handleCallbackErrors(()=>he(Ke),()=>{const{status:it}=t.spanToJSON(Ke);Ke.isRecording()&&(!it||it==="ok")&&Ke.setStatus({code:u.SPAN_STATUS_ERROR,message:"internal_error"})},()=>Ke.end())})}n(b,"startSpan");function E(ne,he){const ge=x();if(ge.startSpanManual)return ge.startSpanManual(ne,he);const Pe=P(ne);return m.withScope(ne.scope,He=>{const pt=re(He),Ke=ne.onlyIfParent&&!pt?new g.SentryNonRecordingSpan:R({parentSpan:pt,spanContext:Pe,forceTransaction:ne.forceTransaction,scope:He});e._setSpanForScope(He,Ke);function it(){Ke.end()}return n(it,"finishAndSetSpan"),s.handleCallbackErrors(()=>he(Ke,it),()=>{const{status:ct}=t.spanToJSON(Ke);Ke.isRecording()&&(!ct||ct==="ok")&&Ke.setStatus({code:u.SPAN_STATUS_ERROR,message:"internal_error"})})})}n(E,"startSpanManual");function T(ne){const he=x();if(he.startInactiveSpan)return he.startInactiveSpan(ne);const ge=P(ne),Pe=ne.scope||m.getCurrentScope(),He=re(Pe);return ne.onlyIfParent&&!He?new g.SentryNonRecordingSpan:R({parentSpan:He,spanContext:ge,forceTransaction:ne.forceTransaction,scope:Pe})}n(T,"startInactiveSpan");const I=n(({sentryTrace:ne,baggage:he},ge)=>m.withScope(Pe=>{const He=d.propagationContextFromHeaders(ne,he);return Pe.setPropagationContext(He),ge()}),"continueTrace");function A(ne,he){const ge=x();return ge.withActiveSpan?ge.withActiveSpan(ne,he):m.withScope(Pe=>(e._setSpanForScope(Pe,ne||void 0),he(Pe)))}n(A,"withActiveSpan");function w(ne){const he=x();return he.suppressTracing?he.suppressTracing(ne):m.withScope(ge=>(ge.setSDKProcessingMetadata({[_]:!0}),ne()))}n(w,"suppressTracing");function R({parentSpan:ne,spanContext:he,forceTransaction:ge,scope:Pe}){if(!i.hasTracingEnabled())return new g.SentryNonRecordingSpan;const He=m.getIsolationScope();let pt;if(ne&&!ge)pt=Z(ne,Pe,he),t.addChildSpanToSpan(ne,pt);else if(ne){const Ht=r.getDynamicSamplingContextFromSpan(ne),{traceId:Ke,spanId:it}=ne.spanContext(),ct=t.spanIsSampled(ne);pt=z({traceId:Ke,parentSpanId:it,...he},Pe,ct),r.freezeDscOnSpan(pt,Ht)}else{const{traceId:Ht,dsc:Ke,parentSpanId:it,sampled:ct}={...He.getPropagationContext(),...Pe.getPropagationContext()};pt=z({traceId:Ht,parentSpanId:it,...he},Pe,ct),Ke&&r.freezeDscOnSpan(pt,Ke)}return o.logSpanStart(pt),S.setCapturedScopesOnSpan(pt,Pe,He),pt}n(R,"createChildOrRootSpan");function P(ne){const ge={isStandalone:(ne.experimental||{}).standalone,...ne};if(ne.startTime){const Pe={...ge};return Pe.startTimestamp=t.spanTimeInputToSeconds(ne.startTime),delete Pe.startTime,Pe}return ge}n(P,"normalizeContext");function x(){const ne=h.getMainCarrier();return p.getAsyncContextStrategy(ne)}n(x,"getAcs");function z(ne,he,ge){const Pe=m.getClient(),He=Pe&&Pe.getOptions()||{},{name:pt="",attributes:Ht}=ne,[Ke,it]=he.getScopeData().sdkProcessingMetadata[_]?[!1]:f.sampleSpan(He,{name:pt,parentSampled:ge,attributes:Ht,transactionContext:{name:pt,parentSampled:ge}}),ct=new v.SentrySpan({...ne,attributes:{[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",...ne.attributes},sampled:Ke});return it!==void 0&&ct.setAttribute(a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,it),Pe&&Pe.emit("spanStart",ct),ct}n(z,"_startRootSpan");function Z(ne,he,ge){const{spanId:Pe,traceId:He}=ne.spanContext(),pt=he.getScopeData().sdkProcessingMetadata[_]?!1:t.spanIsSampled(ne),Ht=pt?new v.SentrySpan({...ge,parentSpanId:Pe,traceId:He,sampled:pt}):new g.SentryNonRecordingSpan({traceId:He});t.addChildSpanToSpan(ne,Ht);const Ke=m.getClient();return Ke&&(Ke.emit("spanStart",Ht),ge.endTimestamp&&Ke.emit("spanEnd",Ht)),Ht}n(Z,"_startChildSpan");function re(ne){const he=e._getSpanForScope(ne);if(!he)return;const ge=m.getClient();return(ge?ge.getOptions():{}).parentSpanIsAlwaysRootSpan?t.getRootSpan(he):he}n(re,"getParentSpan"),l.continueTrace=I,l.startInactiveSpan=T,l.startSpan=b,l.startSpanManual=E,l.suppressTracing=w,l.withActiveSpan=A},9578383602:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h="_sentryScope",m="_sentryIsolationScope";function p(s,i,e){s&&(d.addNonEnumerableProperty(s,m,e),d.addNonEnumerableProperty(s,h,i))}n(p,"setCapturedScopesOnSpan");function a(s){return{scope:s[h],isolationScope:s[m]}}n(a,"getCapturedScopesOnSpan"),l.stripUrlQueryAndFragment=d.stripUrlQueryAndFragment,l.getCapturedScopesOnSpan=a,l.setCapturedScopesOnSpan=p},306863924:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336),m=64;function p(s,i,e=d.makePromiseBuffer(s.bufferSize||m)){let t={};const r=n(f=>e.drain(f),"flush");function o(f){const g=[];if(d.forEachEnvelopeItem(f,(_,b)=>{const E=d.envelopeItemTypeToDataCategory(b);if(d.isRateLimited(t,E)){const T=a(_,b);s.recordDroppedEvent("ratelimit_backoff",E,T)}else g.push(_)}),g.length===0)return d.resolvedSyncPromise({});const v=d.createEnvelope(f[0],g),u=n(_=>{d.forEachEnvelopeItem(v,(b,E)=>{const T=a(b,E);s.recordDroppedEvent(_,d.envelopeItemTypeToDataCategory(E),T)})},"recordEnvelopeLoss"),S=n(()=>i({body:d.serializeEnvelope(v)}).then(_=>(_.statusCode!==void 0&&(_.statusCode<200||_.statusCode>=300)&&h.DEBUG_BUILD&&d.logger.warn(`Sentry responded with status code ${_.statusCode} to sent event.`),t=d.updateRateLimits(t,_),_),_=>{throw u("network_error"),_}),"requestTask");return e.add(S).then(_=>_,_=>{if(_ instanceof d.SentryError)return h.DEBUG_BUILD&&d.logger.error("Skipped sending event because buffer is full."),u("queue_overflow"),d.resolvedSyncPromise({});throw _})}return n(o,"send"),{send:o,flush:r}}n(p,"createTransport");function a(s,i){if(!(i!=="event"&&i!=="transaction"))return Array.isArray(s)?s[1]:void 0}n(a,"getEventForEnvelopeItem"),l.DEFAULT_TRANSPORT_BUFFER_SIZE=m,l.createTransport=p},2843166954:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(9857059330);function m(i,e){let t;return d.forEachEnvelopeItem(i,(r,o)=>(e.includes(o)&&(t=Array.isArray(r)?r[1]:void 0),!!t)),t}n(m,"eventFromEnvelope");function p(i,e){return t=>{const r=i(t);return{...r,send:async o=>{const f=m(o,["event","transaction","profile","replay_event"]);return f&&(f.release=e),r.send(o)}}}}n(p,"makeOverrideReleaseTransport");function a(i,e){return d.createEnvelope(e?{...i[0],dsn:e}:i[0],i[1])}n(a,"overrideDsn");function s(i,e){return t=>{const r=i(t),o=new Map;function f(u,S){const _=S?`${u}:${S}`:u;let b=o.get(_);if(!b){const E=d.dsnFromString(u);if(!E)return;const T=h.getEnvelopeEndpointWithUrlEncodedAuth(E,t.tunnel);b=S?p(i,S)({...t,url:T}):i({...t,url:T}),o.set(_,b)}return[u,b]}n(f,"getTransport");async function g(u){function S(E){const T=E&&E.length?E:["event"];return m(u,T)}n(S,"getEvent");const _=e({envelope:u,getEvent:S}).map(E=>typeof E=="string"?f(E,void 0):f(E.dsn,E.release)).filter(E=>!!E);return _.length===0&&_.push(["",r]),(await Promise.all(_.map(([E,T])=>T.send(a(u,E)))))[0]}n(g,"send");async function v(u){const S=[...o.values(),r];return(await Promise.all(S.map(b=>b.flush(u)))).every(b=>b)}return n(v,"flush"),{send:g,flush:v}}}n(s,"makeMultiplexedTransport"),l.eventFromEnvelope=m,l.makeMultiplexedTransport=s},3178226440:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336),m=100,p=5e3,a=36e5;function s(i){function e(...t){h.DEBUG_BUILD&&d.logger.info("[Offline]:",...t)}return n(e,"log"),t=>{const r=i(t);if(!t.createStore)throw new Error("No `createStore` function was provided");const o=t.createStore(t);let f=p,g;function v(b,E,T){return d.envelopeContainsItemType(b,["client_report"])?!1:t.shouldStore?t.shouldStore(b,E,T):!0}n(v,"shouldQueue");function u(b){g&&clearTimeout(g),g=setTimeout(async()=>{g=void 0;const E=await o.shift();E&&(e("Attempting to send previously queued event"),E[0].sent_at=new Date().toISOString(),_(E,!0).catch(T=>{e("Failed to retry sending",T)}))},b),typeof g!="number"&&g.unref&&g.unref()}n(u,"flushIn");function S(){g||(u(f),f=Math.min(f*2,a))}n(S,"flushWithBackOff");async function _(b,E=!1){if(!E&&d.envelopeContainsItemType(b,["replay_event","replay_recording"]))return await o.push(b),u(m),{};try{const T=await r.send(b);let I=m;if(T){if(T.headers&&T.headers["retry-after"])I=d.parseRetryAfterHeader(T.headers["retry-after"]);else if(T.headers&&T.headers["x-sentry-rate-limits"])I=6e4;else if((T.statusCode||0)>=400)return T}return u(I),f=p,T}catch(T){if(await v(b,T,f))return E?await o.unshift(b):await o.push(b),S(),e("Error sending. Event queued.",T),{};throw T}}return n(_,"send"),t.flushAtStartup&&S(),{send:_,flush:b=>r.flush(b)}}}n(s,"makeOfflineTransport"),l.MIN_DELAY=m,l.START_DELAY=p,l.makeOfflineTransport=s},2117263085:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8438156026),m=c(5015065869),p=c(2332127203);c(2206474662),c(8844511336);const a=c(4530391782),s={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};function i(e={}){return function(t){const{path:r,type:o,next:f,rawInput:g}=t,v=h.getClient(),u=v&&v.getOptions(),S={procedure_type:o};(e.attachRpcInput!==void 0?e.attachRpcInput:u&&u.sendDefaultPii)&&(S.input=d.normalize(g)),m.setContext("trpc",S);function _(b){typeof b=="object"&&b!==null&&"ok"in b&&!b.ok&&"error"in b&&m.captureException(b.error,s)}return n(_,"captureIfError"),a.startSpanManual({name:`trpc/${r}`,op:"rpc.server",attributes:{[p.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[p.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"}},b=>{let E;try{E=f()}catch(T){throw m.captureException(T,s),b.end(),T}return d.isThenable(E)?E.then(T=>(_(T),b.end(),T),T=>{throw m.captureException(T,s),b.end(),T}):(_(E),b.end(),E)})}}n(i,"trpcMiddleware"),l.trpcMiddleware=i},8969228363:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(9064881818),m=c(5475300505);function p(f,g){const{fingerprint:v,span:u,breadcrumbs:S,sdkProcessingMetadata:_}=g;i(f,g),u&&r(f,u),o(f,v),e(f,S),t(f,_)}n(p,"applyScopeDataToEvent");function a(f,g){const{extra:v,tags:u,user:S,contexts:_,level:b,sdkProcessingMetadata:E,breadcrumbs:T,fingerprint:I,eventProcessors:A,attachments:w,propagationContext:R,transactionName:P,span:x}=g;s(f,"extra",v),s(f,"tags",u),s(f,"user",S),s(f,"contexts",_),s(f,"sdkProcessingMetadata",E),b&&(f.level=b),P&&(f.transactionName=P),x&&(f.span=x),T.length&&(f.breadcrumbs=[...f.breadcrumbs,...T]),I.length&&(f.fingerprint=[...f.fingerprint,...I]),A.length&&(f.eventProcessors=[...f.eventProcessors,...A]),w.length&&(f.attachments=[...f.attachments,...w]),f.propagationContext={...f.propagationContext,...R}}n(a,"mergeScopeData");function s(f,g,v){if(v&&Object.keys(v).length){f[g]={...f[g]};for(const u in v)Object.prototype.hasOwnProperty.call(v,u)&&(f[g][u]=v[u])}}n(s,"mergeAndOverwriteScopeData");function i(f,g){const{extra:v,tags:u,user:S,contexts:_,level:b,transactionName:E}=g,T=d.dropUndefinedKeys(v);T&&Object.keys(T).length&&(f.extra={...T,...f.extra});const I=d.dropUndefinedKeys(u);I&&Object.keys(I).length&&(f.tags={...I,...f.tags});const A=d.dropUndefinedKeys(S);A&&Object.keys(A).length&&(f.user={...A,...f.user});const w=d.dropUndefinedKeys(_);w&&Object.keys(w).length&&(f.contexts={...w,...f.contexts}),b&&(f.level=b),E&&f.type!=="transaction"&&(f.transaction=E)}n(i,"applyDataToEvent");function e(f,g){const v=[...f.breadcrumbs||[],...g];f.breadcrumbs=v.length?v:void 0}n(e,"applyBreadcrumbsToEvent");function t(f,g){f.sdkProcessingMetadata={...f.sdkProcessingMetadata,...g}}n(t,"applySdkMetadataToEvent");function r(f,g){f.contexts={trace:m.spanToTraceContext(g),...f.contexts},f.sdkProcessingMetadata={dynamicSamplingContext:h.getDynamicSamplingContextFromSpan(g),...f.sdkProcessingMetadata};const v=m.getRootSpan(g),u=m.spanToJSON(v).description;u&&!f.transaction&&f.type==="transaction"&&(f.transaction=u)}n(r,"applySpanToEvent");function o(f,g){f.fingerprint=f.fingerprint?d.arrayify(f.fingerprint):[],g&&(f.fingerprint=f.fingerprint.concat(g)),f.fingerprint&&!f.fingerprint.length&&delete f.fingerprint}n(o,"applyFingerprintToEvent"),l.applyScopeDataToEvent=p,l.mergeAndOverwriteScopeData=s,l.mergeScopeData=a},5800525242:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614);function h(p,a,s=()=>{}){let i;try{i=p()}catch(e){throw a(e),s(),e}return m(i,a,s)}n(h,"handleCallbackErrors");function m(p,a,s){return d.isThenable(p)?p.then(i=>(s(),i),i=>{throw a(i),s(),i}):(s(),p)}n(m,"maybeHandlePromiseRejection"),l.handleCallbackErrors=h},8645141291:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8438156026);function h(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const a=p||m();return!!a&&(a.enableTracing||"tracesSampleRate"in a||"tracesSampler"in a)}n(h,"hasTracingEnabled");function m(){const p=d.getClient();return p&&p.getOptions()}n(m,"getClientOptions"),l.hasTracingEnabled=h},175966809:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(p,a){const s=a&&a.getDsn(),i=a&&a.getOptions().tunnel;return h(p,s)||d(p,i)}n(c,"isSentryRequestUrl");function d(p,a){return a?m(p)===m(a):!1}n(d,"checkTunnel");function h(p,a){return a?p.includes(a.host):!1}n(h,"checkDsn");function m(p){return p[p.length-1]==="/"?p.slice(0,-1):p}n(m,"removeTrailingSlash"),l.isSentryRequestUrl=c},4718881455:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(d,...h){const m=new String(String.raw(d,...h));return m.__sentry_template_string__=d.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),m.__sentry_template_values__=h,m}n(c,"parameterize"),l.parameterize=c},1119532287:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(8844511336);function m(p){if(typeof p=="boolean")return Number(p);const a=typeof p=="string"?parseFloat(p):p;if(typeof a!="number"||isNaN(a)||a<0||a>1){h.DEBUG_BUILD&&d.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`);return}return a}n(m,"parseSampleRate"),l.parseSampleRate=m},9877103701:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(4834620523),m=c(8438156026),p=c(5911348835),a=c(2158524366),s=c(8969228363);function i(E,T,I,A,w,R){const{normalizeDepth:P=3,normalizeMaxBreadth:x=1e3}=E,z={...T,event_id:T.event_id||I.event_id||d.uuid4(),timestamp:T.timestamp||d.dateTimestampInSeconds()},Z=I.integrations||E.integrations.map(pt=>pt.name);e(z,E),f(z,Z),T.type===void 0&&r(z,E.stackParser);const re=v(A,I.captureContext);I.mechanism&&d.addExceptionMechanism(z,I.mechanism);const ne=w?w.getEventProcessors():[],he=m.getGlobalScope().getScopeData();if(R){const pt=R.getScopeData();s.mergeScopeData(he,pt)}if(re){const pt=re.getScopeData();s.mergeScopeData(he,pt)}const ge=[...I.attachments||[],...he.attachments];ge.length&&(I.attachments=ge),s.applyScopeDataToEvent(z,he);const Pe=[...ne,...he.eventProcessors];return p.notifyEventProcessors(Pe,z,I).then(pt=>(pt&&o(pt),typeof P=="number"&&P>0?g(pt,P,x):pt))}n(i,"prepareEvent");function e(E,T){const{environment:I,release:A,dist:w,maxValueLength:R=250}=T;"environment"in E||(E.environment="environment"in T?I:h.DEFAULT_ENVIRONMENT),E.release===void 0&&A!==void 0&&(E.release=A),E.dist===void 0&&w!==void 0&&(E.dist=w),E.message&&(E.message=d.truncate(E.message,R));const P=E.exception&&E.exception.values&&E.exception.values[0];P&&P.value&&(P.value=d.truncate(P.value,R));const x=E.request;x&&x.url&&(x.url=d.truncate(x.url,R))}n(e,"applyClientOptions");const t=new WeakMap;function r(E,T){const I=d.GLOBAL_OBJ._sentryDebugIds;if(!I)return;let A;const w=t.get(T);w?A=w:(A=new Map,t.set(T,A));const R=Object.keys(I).reduce((P,x)=>{let z;const Z=A.get(x);Z?z=Z:(z=T(x),A.set(x,z));for(let re=z.length-1;re>=0;re--){const ne=z[re];if(ne.filename){P[ne.filename]=I[x];break}}return P},{});try{E.exception.values.forEach(P=>{P.stacktrace.frames.forEach(x=>{x.filename&&(x.debug_id=R[x.filename])})})}catch{}}n(r,"applyDebugIds");function o(E){const T={};try{E.exception.values.forEach(A=>{A.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?T[w.abs_path]=w.debug_id:w.filename&&(T[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(T).length===0)return;E.debug_meta=E.debug_meta||{},E.debug_meta.images=E.debug_meta.images||[];const I=E.debug_meta.images;Object.keys(T).forEach(A=>{I.push({type:"sourcemap",code_file:A,debug_id:T[A]})})}n(o,"applyDebugMeta");function f(E,T){T.length>0&&(E.sdk=E.sdk||{},E.sdk.integrations=[...E.sdk.integrations||[],...T])}n(f,"applyIntegrationsMetadata");function g(E,T,I){if(!E)return null;const A={...E,...E.breadcrumbs&&{breadcrumbs:E.breadcrumbs.map(w=>({...w,...w.data&&{data:d.normalize(w.data,T,I)}}))},...E.user&&{user:d.normalize(E.user,T,I)},...E.contexts&&{contexts:d.normalize(E.contexts,T,I)},...E.extra&&{extra:d.normalize(E.extra,T,I)}};return E.contexts&&E.contexts.trace&&A.contexts&&(A.contexts.trace=E.contexts.trace,E.contexts.trace.data&&(A.contexts.trace.data=d.normalize(E.contexts.trace.data,T,I))),E.spans&&(A.spans=E.spans.map(w=>({...w,...w.data&&{data:d.normalize(w.data,T,I)}}))),A}n(g,"normalizeEvent");function v(E,T){if(!T)return E;const I=E?E.clone():new a.Scope;return I.update(T),I}n(v,"getFinalScope");function u(E){if(E)return S(E)?{captureContext:E}:b(E)?{captureContext:E}:E}n(u,"parseEventHintOrCaptureContext");function S(E){return E instanceof a.Scope||typeof E=="function"}n(S,"hintIsScopeOrFunction");const _=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function b(E){return Object.keys(E).some(T=>_.includes(T))}n(b,"hintIsScopeContext"),l.applyDebugIds=r,l.applyDebugMeta=o,l.parseEventHintOrCaptureContext=u,l.prepareEvent=i},3433863337:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(639277478);function h(m,p,a=[p],s="npm"){const i=m._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${p}`,packages:a.map(e=>({name:`${s}:@sentry/${e}`,version:d.SDK_VERSION})),version:d.SDK_VERSION}),m._metadata=i}n(h,"applySdkMetadata"),l.applySdkMetadata=h},9972015035:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h="_sentrySpan";function m(a,s){s?d.addNonEnumerableProperty(a,h,s):delete a[h]}n(m,"_setSpanForScope");function p(a){return a[h]}n(p,"_getSpanForScope"),l._getSpanForScope=p,l._setSpanForScope=m},5475300505:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(7563271614),h=c(897859094),m=c(2685322190),p=c(8438156026),a=c(1243296801),s=c(2332127203);c(2206474662),c(8844511336);const i=c(9972015035),e=c(1150305139),t=c(9064881818),r=0,o=1;function f(he){const{spanId:ge,traceId:Pe}=he.spanContext(),{data:He,op:pt,parent_span_id:Ht,status:Ke,origin:it}=b(he);return d.dropUndefinedKeys({parent_span_id:Ht,span_id:ge,trace_id:Pe,data:He,op:pt,status:Ke,origin:it})}n(f,"spanToTransactionTraceContext");function g(he){const{spanId:ge,traceId:Pe}=he.spanContext(),{parent_span_id:He}=b(he);return d.dropUndefinedKeys({parent_span_id:He,span_id:ge,trace_id:Pe})}n(g,"spanToTraceContext");function v(he){const{traceId:ge,spanId:Pe}=he.spanContext(),He=I(he);return d.generateSentryTraceHeader(ge,Pe,He)}n(v,"spanToTraceHeader");function u(he){const ge=t.getDynamicSamplingContextFromSpan(he);return d.dynamicSamplingContextToSentryBaggageHeader(ge)}n(u,"spanToBaggageHeader");function S(he){return typeof he=="number"?_(he):Array.isArray(he)?he[0]+he[1]/1e9:he instanceof Date?_(he.getTime()):d.timestampInSeconds()}n(S,"spanTimeInputToSeconds");function _(he){return he>9999999999?he/1e3:he}n(_,"ensureTimestampInSeconds");function b(he){if(T(he))return he.getSpanJSON();try{const{spanId:ge,traceId:Pe}=he.spanContext();if(E(he)){const{attributes:He,startTime:pt,name:Ht,endTime:Ke,parentSpanId:it,status:ct}=he;return d.dropUndefinedKeys({span_id:ge,trace_id:Pe,data:He,description:Ht,parent_span_id:it,start_timestamp:S(pt),timestamp:S(Ke)||void 0,status:A(ct),op:He[s.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:He[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:a.getMetricSummaryJsonForSpan(he)})}return{span_id:ge,trace_id:Pe}}catch{return{}}}n(b,"spanToJSON");function E(he){const ge=he;return!!ge.attributes&&!!ge.startTime&&!!ge.name&&!!ge.endTime&&!!ge.status}n(E,"spanIsOpenTelemetrySdkTraceBaseSpan");function T(he){return typeof he.getSpanJSON=="function"}n(T,"spanIsSentrySpan");function I(he){const{traceFlags:ge}=he.spanContext();return ge===o}n(I,"spanIsSampled");function A(he){if(!(!he||he.code===e.SPAN_STATUS_UNSET))return he.code===e.SPAN_STATUS_OK?"ok":he.message||"unknown_error"}n(A,"getStatusMessage");const w="_sentryChildSpans",R="_sentryRootSpan";function P(he,ge){const Pe=he[R]||he;d.addNonEnumerableProperty(ge,R,Pe),he[w]&&he[w].size<1e3?he[w].add(ge):d.addNonEnumerableProperty(he,w,new Set([ge]))}n(P,"addChildSpanToSpan");function x(he,ge){he[w]&&he[w].delete(ge)}n(x,"removeChildSpanFromSpan");function z(he){const ge=new Set;function Pe(He){if(!ge.has(He)&&I(He)){ge.add(He);const pt=He[w]?Array.from(He[w]):[];for(const Ht of pt)Pe(Ht)}}return n(Pe,"addSpanChildren"),Pe(he),Array.from(ge)}n(z,"getSpanDescendants");function Z(he){return he[R]||he}n(Z,"getRootSpan");function re(){const he=m.getMainCarrier(),ge=h.getAsyncContextStrategy(he);return ge.getActiveSpan?ge.getActiveSpan():i._getSpanForScope(p.getCurrentScope())}n(re,"getActiveSpan");function ne(he,ge,Pe,He,pt,Ht){const Ke=re();Ke&&a.updateMetricSummaryOnSpan(Ke,he,ge,Pe,He,pt,Ht)}n(ne,"updateMetricSummaryOnActiveSpan"),l.TRACE_FLAG_NONE=r,l.TRACE_FLAG_SAMPLED=o,l.addChildSpanToSpan=P,l.getActiveSpan=re,l.getRootSpan=Z,l.getSpanDescendants=z,l.getStatusMessage=A,l.removeChildSpanFromSpan=x,l.spanIsSampled=I,l.spanTimeInputToSeconds=S,l.spanToBaggageHeader=u,l.spanToJSON=b,l.spanToTraceContext=g,l.spanToTraceHeader=v,l.spanToTransactionTraceContext=f,l.updateMetricSummaryOnActiveSpan=ne},639277478:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c="8.2.1";l.SDK_VERSION=c},4916261515:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5330804994),h=c(9996838991);function m(e,t,r=250,o,f,g,v){if(!g.exception||!g.exception.values||!v||!d.isInstanceOf(v.originalException,Error))return;const u=g.exception.values.length>0?g.exception.values[g.exception.values.length-1]:void 0;u&&(g.exception.values=i(p(e,t,f,v.originalException,o,g.exception.values,u,0),r))}n(m,"applyAggregateErrorsToEvent");function p(e,t,r,o,f,g,v,u){if(g.length>=r+1)return g;let S=[...g];if(d.isInstanceOf(o[f],Error)){a(v,u);const _=e(t,o[f]),b=S.length;s(_,f,b,u),S=p(e,t,r,o[f],f,[_,...S],_,b)}return Array.isArray(o.errors)&&o.errors.forEach((_,b)=>{if(d.isInstanceOf(_,Error)){a(v,u);const E=e(t,_),T=S.length;s(E,`errors[${b}]`,T,u),S=p(e,t,r,_,f,[E,...S],E,T)}}),S}n(p,"aggregateExceptionsFromError");function a(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}n(a,"applyExceptionGroupFieldsForParentException");function s(e,t,r,o){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:o}}n(s,"applyExceptionGroupFieldsForChildException");function i(e,t){return e.map(r=>(r.value&&(r.value=h.truncate(r.value,t)),r))}n(i,"truncateAggregateExceptions"),l.applyAggregateErrorsToEvent=m},999571021:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6005876151),h=c(5247061117),m=c(9955566551);function p(s,i,e,t){const r=s();let o=!1,f=!0;return setInterval(()=>{const g=r.getTimeMs();o===!1&&g>i+e&&(o=!0,f&&t()),g<i+e&&(o=!1)},20),{poll:()=>{r.reset()},enabled:g=>{f=g}}}n(p,"watchdogTimer");function a(s,i,e){const t=i?i.replace(/^file:\/\//,""):void 0,r=s.location.columnNumber?s.location.columnNumber+1:void 0,o=s.location.lineNumber?s.location.lineNumber+1:void 0;return h.dropUndefinedKeys({filename:t,module:e(t),function:s.functionName||m.UNKNOWN_FUNCTION,colno:r,lineno:o,in_app:t?d.filenameIsInApp(t):void 0})}n(a,"callFrameToStackFrame"),l.callFrameToStackFrame=a,l.watchdogTimer=p},8666696284:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1795624184),h=c(5330804994),m=c(3610150206),p="baggage",a="sentry-",s=/^sentry-/,i=8192;function e(g){const v=r(g);if(!v)return;const u=Object.entries(v).reduce((S,[_,b])=>{if(_.match(s)){const E=_.slice(a.length);S[E]=b}return S},{});if(Object.keys(u).length>0)return u}n(e,"baggageHeaderToDynamicSamplingContext");function t(g){if(!g)return;const v=Object.entries(g).reduce((u,[S,_])=>(_&&(u[`${a}${S}`]=_),u),{});return f(v)}n(t,"dynamicSamplingContextToSentryBaggageHeader");function r(g){if(!(!g||!h.isString(g)&&!Array.isArray(g)))return Array.isArray(g)?g.reduce((v,u)=>{const S=o(u);for(const _ of Object.keys(S))v[_]=S[_];return v},{}):o(g)}n(r,"parseBaggageHeader");function o(g){return g.split(",").map(v=>v.split("=").map(u=>decodeURIComponent(u.trim()))).reduce((v,[u,S])=>(v[u]=S,v),{})}n(o,"baggageHeaderToObject");function f(g){if(Object.keys(g).length!==0)return Object.entries(g).reduce((v,[u,S],_)=>{const b=`${encodeURIComponent(u)}=${encodeURIComponent(S)}`,E=_===0?b:`${v},${b}`;return E.length>i?(d.DEBUG_BUILD&&m.logger.warn(`Not adding key: ${u} with val: ${S} to baggage header due to exceeding baggage size limits.`),v):E},"")}n(f,"objectToBaggageHeader"),l.BAGGAGE_HEADER_NAME=p,l.MAX_BAGGAGE_STRING_LENGTH=i,l.SENTRY_BAGGAGE_KEY_PREFIX=a,l.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=s,l.baggageHeaderToDynamicSamplingContext=e,l.dynamicSamplingContextToSentryBaggageHeader=t,l.parseBaggageHeader=r},9550996546:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5330804994),m=c(1108286465).GLOBAL_OBJ,p=80;function a(r,o={}){if(!r)return"<unknown>";try{let f=r;const g=5,v=[];let u=0,S=0;const _=" > ",b=_.length;let E;const T=Array.isArray(o)?o:o.keyAttrs,I=!Array.isArray(o)&&o.maxStringLength||p;for(;f&&u++<g&&(E=s(f,T),!(E==="html"||u>1&&S+v.length*b+E.length>=I));)v.push(E),S+=E.length,f=f.parentNode;return v.reverse().join(_)}catch{return"<unknown>"}}n(a,"htmlTreeAsString");function s(r,o){const f=r,g=[];let v,u,S,_,b;if(!f||!f.tagName)return"";if(m.HTMLElement&&f instanceof HTMLElement&&f.dataset){if(f.dataset.sentryComponent)return f.dataset.sentryComponent;if(f.dataset.sentryElement)return f.dataset.sentryElement}g.push(f.tagName.toLowerCase());const E=o&&o.length?o.filter(I=>f.getAttribute(I)).map(I=>[I,f.getAttribute(I)]):null;if(E&&E.length)E.forEach(I=>{g.push(`[${I[0]}="${I[1]}"]`)});else if(f.id&&g.push(`#${f.id}`),v=f.className,v&&d.isString(v))for(u=v.split(/\s+/),b=0;b<u.length;b++)g.push(`.${u[b]}`);const T=["aria-label","type","name","title","alt"];for(b=0;b<T.length;b++)S=T[b],_=f.getAttribute(S),_&&g.push(`[${S}="${_}"]`);return g.join("")}n(s,"_htmlElementAsString");function i(){try{return m.document.location.href}catch{return""}}n(i,"getLocationHref");function e(r){return m.document&&m.document.querySelector?m.document.querySelector(r):null}n(e,"getDomElement");function t(r){if(!m.HTMLElement)return null;let o=r;const f=5;for(let g=0;g<f;g++){if(!o)return null;if(o instanceof HTMLElement){if(o.dataset.sentryComponent)return o.dataset.sentryComponent;if(o.dataset.sentryElement)return o.dataset.sentryElement}o=o.parentNode}return null}n(t,"getComponentName"),l.getComponentName=t,l.getDomElement=e,l.getLocationHref=i,l.htmlTreeAsString=a},7961093924:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9137969200);async function h(m,p){return d._nullishCoalesce(m,p)}n(h,"_asyncNullishCoalesce"),l._asyncNullishCoalesce=h},6639909989:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});async function c(d){let h,m=d[0],p=1;for(;p<d.length;){const a=d[p],s=d[p+1];if(p+=2,(a==="optionalAccess"||a==="optionalCall")&&m==null)return;a==="access"||a==="optionalAccess"?(h=m,m=await s(m)):(a==="call"||a==="optionalCall")&&(m=await s((...i)=>m.call(h,...i)),h=void 0)}return m}n(c,"_asyncOptionalChain"),l._asyncOptionalChain=c},8823822214:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(6639909989);async function h(m){const p=await d._asyncOptionalChain(m);return p??!0}n(h,"_asyncOptionalChainDelete"),l._asyncOptionalChainDelete=h},9137969200:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(d,h){return d??h()}n(c,"_nullishCoalesce"),l._nullishCoalesce=c},3683597617:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(d){let h,m=d[0],p=1;for(;p<d.length;){const a=d[p],s=d[p+1];if(p+=2,(a==="optionalAccess"||a==="optionalCall")&&m==null)return;a==="access"||a==="optionalAccess"?(h=m,m=s(m)):(a==="call"||a==="optionalCall")&&(m=s((...i)=>m.call(h,...i)),h=void 0)}return m}n(c,"_optionalChain"),l._optionalChain=c},2677927218:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(3683597617);function h(m){const p=d._optionalChain(m);return p??!0}n(h,"_optionalChainDelete"),l._optionalChainDelete=h},4308130348:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(d){let h=[],m={};return{add(p,a){for(;h.length>=d;){const s=h.shift();s!==void 0&&delete m[s]}m[p]&&this.delete(p),h.push(p),m[p]=a},clear(){m={},h=[]},get(p){return m[p]},size(){return h.length},delete(p){if(!m[p])return!1;delete m[p];for(let a=0;a<h.length;a++)if(h[a]===p){h.splice(a,1);break}return!0}}}n(c,"makeFifoCache"),l.makeFifoCache=c},738620759:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(688958166),h=c(2174399055);function m(p,a,s){const i=[{type:"client_report"},{timestamp:s||h.dateTimestampInSeconds(),discarded_events:p}];return d.createEnvelope(a?{dsn:a}:{},[i])}n(m,"createClientReportEnvelope"),l.createClientReportEnvelope=m},9687986872:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(d){const h={};let m=0;for(;m<d.length;){const p=d.indexOf("=",m);if(p===-1)break;let a=d.indexOf(";",m);if(a===-1)a=d.length;else if(a<p){m=d.lastIndexOf(";",p-1)+1;continue}const s=d.slice(m,p).trim();if(h[s]===void 0){let i=d.slice(p+1,a).trim();i.charCodeAt(0)===34&&(i=i.slice(1,-1));try{h[s]=i.indexOf("%")!==-1?decodeURIComponent(i):i}catch{h[s]=i}}m=a+1}return h}n(c,"parseCookie"),l.parseCookie=c},1795624184:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;l.DEBUG_BUILD=c},8314282351:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1795624184),h=c(3610150206),m=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function p(r){return r==="http"||r==="https"}n(p,"isValidProtocol");function a(r,o=!1){const{host:f,path:g,pass:v,port:u,projectId:S,protocol:_,publicKey:b}=r;return`${_}://${b}${o&&v?`:${v}`:""}@${f}${u?`:${u}`:""}/${g&&`${g}/`}${S}`}n(a,"dsnToString");function s(r){const o=m.exec(r);if(!o){h.consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});return}const[f,g,v="",u,S="",_]=o.slice(1);let b="",E=_;const T=E.split("/");if(T.length>1&&(b=T.slice(0,-1).join("/"),E=T.pop()),E){const I=E.match(/^\d+/);I&&(E=I[0])}return i({host:u,pass:v,path:b,projectId:E,port:S,protocol:f,publicKey:g})}n(s,"dsnFromString");function i(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}n(i,"dsnFromComponents");function e(r){if(!d.DEBUG_BUILD)return!0;const{port:o,projectId:f,protocol:g}=r;return["protocol","publicKey","host","projectId"].find(S=>r[S]?!1:(h.logger.error(`Invalid Sentry Dsn: ${S} missing`),!0))?!1:f.match(/^\d+$/)?p(g)?o&&isNaN(parseInt(o,10))?(h.logger.error(`Invalid Sentry Dsn: Invalid port ${o}`),!1):!0:(h.logger.error(`Invalid Sentry Dsn: Invalid protocol ${g}`),!1):(h.logger.error(`Invalid Sentry Dsn: Invalid projectId ${f}`),!1)}n(e,"validateDsn");function t(r){const o=typeof r=="string"?s(r):i(r);if(!(!o||!e(o)))return o}n(t,"makeDsn"),l.dsnFromString=s,l.dsnToString=a,l.makeDsn=t},1390308333:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}n(c,"isBrowserBundle");function d(){return"npm"}n(d,"getSDKSource"),l.getSDKSource=d,l.isBrowserBundle=c},688958166:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8314282351),h=c(6371465633),m=c(5247061117),p=c(1108286465);function a(T,I=[]){return[T,I]}n(a,"createEnvelope");function s(T,I){const[A,w]=T;return[A,[...w,I]]}n(s,"addItemToEnvelope");function i(T,I){const A=T[1];for(const w of A){const R=w[0].type;if(I(w,R))return!0}return!1}n(i,"forEachEnvelopeItem");function e(T,I){return i(T,(A,w)=>I.includes(w))}n(e,"envelopeContainsItemType");function t(T){return p.GLOBAL_OBJ.__SENTRY__&&p.GLOBAL_OBJ.__SENTRY__.encodePolyfill?p.GLOBAL_OBJ.__SENTRY__.encodePolyfill(T):new TextEncoder().encode(T)}n(t,"encodeUTF8");function r(T){return p.GLOBAL_OBJ.__SENTRY__&&p.GLOBAL_OBJ.__SENTRY__.decodePolyfill?p.GLOBAL_OBJ.__SENTRY__.decodePolyfill(T):new TextDecoder().decode(T)}n(r,"decodeUTF8");function o(T){const[I,A]=T;let w=JSON.stringify(I);function R(P){typeof w=="string"?w=typeof P=="string"?w+P:[t(w),P]:w.push(typeof P=="string"?t(P):P)}n(R,"append");for(const P of A){const[x,z]=P;if(R(`
${JSON.stringify(x)}
`),typeof z=="string"||z instanceof Uint8Array)R(z);else{let Z;try{Z=JSON.stringify(z)}catch{Z=JSON.stringify(h.normalize(z))}R(Z)}}return typeof w=="string"?w:f(w)}n(o,"serializeEnvelope");function f(T){const I=T.reduce((R,P)=>R+P.length,0),A=new Uint8Array(I);let w=0;for(const R of T)A.set(R,w),w+=R.length;return A}n(f,"concatBuffers");function g(T){let I=typeof T=="string"?t(T):T;function A(x){const z=I.subarray(0,x);return I=I.subarray(x+1),z}n(A,"readBinary");function w(){let x=I.indexOf(10);return x<0&&(x=I.length),JSON.parse(r(A(x)))}n(w,"readJson");const R=w(),P=[];for(;I.length;){const x=w(),z=typeof x.length=="number"?x.length:void 0;P.push([x,z?A(z):w()])}return[R,P]}n(g,"parseEnvelope");function v(T){return[{type:"span"},T]}n(v,"createSpanEnvelopeItem");function u(T){const I=typeof T.data=="string"?t(T.data):T.data;return[m.dropUndefinedKeys({type:"attachment",length:I.length,filename:T.filename,content_type:T.contentType,attachment_type:T.attachmentType}),I]}n(u,"createAttachmentEnvelopeItem");const S={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function _(T){return S[T]}n(_,"envelopeItemTypeToDataCategory");function b(T){if(!T||!T.sdk)return;const{name:I,version:A}=T.sdk;return{name:I,version:A}}n(b,"getSdkMetadataForEnvelopeHeader");function E(T,I,A,w){const R=T.sdkProcessingMetadata&&T.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:T.event_id,sent_at:new Date().toISOString(),...I&&{sdk:I},...!!A&&w&&{dsn:d.dsnToString(w)},...R&&{trace:m.dropUndefinedKeys({...R})}}}n(E,"createEventEnvelopeHeaders"),l.addItemToEnvelope=s,l.createAttachmentEnvelopeItem=u,l.createEnvelope=a,l.createEventEnvelopeHeaders=E,l.createSpanEnvelopeItem=v,l.envelopeContainsItemType=e,l.envelopeItemTypeToDataCategory=_,l.forEachEnvelopeItem=i,l.getSdkMetadataForEnvelopeHeader=b,l.parseEnvelope=g,l.serializeEnvelope=o},4759164024:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});class c extends Error{constructor(h,m="warn"){super(h),this.message=h,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=m}}n(c,"SentryError"),l.SentryError=c},1705974933:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5330804994),h=c(4360077466),m=c(6371465633),p=c(5247061117);function a(g,v){return g(v.stack||"",1)}n(a,"parseStackFrames");function s(g,v){const u={type:v.name||v.constructor.name,value:v.message},S=a(g,v);return S.length&&(u.stacktrace={frames:S}),u}n(s,"exceptionFromError");function i(g){for(const v in g)if(Object.prototype.hasOwnProperty.call(g,v)){const u=g[v];if(u instanceof Error)return u}}n(i,"getErrorPropertyFromObject");function e(g){if("name"in g&&typeof g.name=="string"){let S=`'${g.name}' captured as exception`;return"message"in g&&typeof g.message=="string"&&(S+=` with message '${g.message}'`),S}else if("message"in g&&typeof g.message=="string")return g.message;const v=p.extractExceptionKeysForMessage(g);if(d.isErrorEvent(g))return`Event \`ErrorEvent\` captured as exception with message \`${g.message}\``;const u=t(g);return`${u&&u!=="Object"?`'${u}'`:"Object"} captured as exception with keys: ${v}`}n(e,"getMessageForObject");function t(g){try{const v=Object.getPrototypeOf(g);return v?v.constructor.name:void 0}catch{}}n(t,"getObjectClassName");function r(g,v,u,S){if(d.isError(u))return[u,void 0];if(v.synthetic=!0,d.isPlainObject(u)){const b=g&&g.getOptions().normalizeDepth,E={__serialized__:m.normalizeToSize(u,b)},T=i(u);if(T)return[T,E];const I=e(u),A=S&&S.syntheticException||new Error(I);return A.message=I,[A,E]}const _=S&&S.syntheticException||new Error(u);return _.message=`${u}`,[_,void 0]}n(r,"getException");function o(g,v,u,S){const b=S&&S.data&&S.data.mechanism||{handled:!0,type:"generic"},[E,T]=r(g,b,u,S),I={exception:{values:[s(v,E)]}};return T&&(I.extra=T),h.addExceptionTypeValue(I,void 0,void 0),h.addExceptionMechanism(I,b),{...I,event_id:S&&S.event_id}}n(o,"eventFromUnknownInput");function f(g,v,u="info",S,_){const b={event_id:S&&S.event_id,level:u};if(_&&S&&S.syntheticException){const E=a(g,S.syntheticException);E.length&&(b.exception={values:[{value:v,stacktrace:{frames:E}}]})}if(d.isParameterizedString(v)){const{__sentry_template_string__:E,__sentry_template_values__:T}=v;return b.logentry={message:E,params:T},b}return b.message=v,b}n(f,"eventFromMessage"),l.eventFromMessage=f,l.eventFromUnknownInput=o,l.exceptionFromError=s,l.parseStackFrames=a},7563271614:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(4916261515),h=c(9550996546),m=c(8314282351),p=c(4759164024),a=c(1108286465),s=c(3619233697),i=c(3178410512),e=c(5878142463),t=c(5817852989),r=c(7839211009),o=c(5330804994),f=c(4304701770),g=c(3610150206),v=c(47787884),u=c(4360077466),S=c(1552363198),_=c(6371465633),b=c(5247061117),E=c(4764604189),T=c(3193811597),I=c(4846555271),A=c(5043703765),w=c(9955566551),R=c(6005876151),P=c(9996838991),x=c(8265793926),z=c(2435760602),Z=c(2174399055),re=c(6123212092),ne=c(1390308333),he=c(688958166),ge=c(738620759),Pe=c(277240735),He=c(8666696284),pt=c(7216756807),Ht=c(4308130348),Ke=c(1705974933),it=c(999571021),ct=c(6852308275),rt=c(7961093924),_t=c(6639909989),Gt=c(8823822214),Kt=c(9137969200),Ye=c(3683597617),Xe=c(2677927218),It=c(6250807085),kt=c(7384544743);l.applyAggregateErrorsToEvent=d.applyAggregateErrorsToEvent,l.getComponentName=h.getComponentName,l.getDomElement=h.getDomElement,l.getLocationHref=h.getLocationHref,l.htmlTreeAsString=h.htmlTreeAsString,l.dsnFromString=m.dsnFromString,l.dsnToString=m.dsnToString,l.makeDsn=m.makeDsn,l.SentryError=p.SentryError,l.GLOBAL_OBJ=a.GLOBAL_OBJ,l.getGlobalSingleton=a.getGlobalSingleton,l.addConsoleInstrumentationHandler=s.addConsoleInstrumentationHandler,l.addFetchInstrumentationHandler=i.addFetchInstrumentationHandler,l.addGlobalErrorInstrumentationHandler=e.addGlobalErrorInstrumentationHandler,l.addGlobalUnhandledRejectionInstrumentationHandler=t.addGlobalUnhandledRejectionInstrumentationHandler,l.addHandler=r.addHandler,l.maybeInstrument=r.maybeInstrument,l.resetInstrumentationHandlers=r.resetInstrumentationHandlers,l.triggerHandlers=r.triggerHandlers,l.isDOMError=o.isDOMError,l.isDOMException=o.isDOMException,l.isElement=o.isElement,l.isError=o.isError,l.isErrorEvent=o.isErrorEvent,l.isEvent=o.isEvent,l.isInstanceOf=o.isInstanceOf,l.isParameterizedString=o.isParameterizedString,l.isPlainObject=o.isPlainObject,l.isPrimitive=o.isPrimitive,l.isRegExp=o.isRegExp,l.isString=o.isString,l.isSyntheticEvent=o.isSyntheticEvent,l.isThenable=o.isThenable,l.isVueViewModel=o.isVueViewModel,l.isBrowser=f.isBrowser,l.CONSOLE_LEVELS=g.CONSOLE_LEVELS,l.consoleSandbox=g.consoleSandbox,l.logger=g.logger,l.originalConsoleMethods=g.originalConsoleMethods,l.memoBuilder=v.memoBuilder,l.addContextToFrame=u.addContextToFrame,l.addExceptionMechanism=u.addExceptionMechanism,l.addExceptionTypeValue=u.addExceptionTypeValue,l.arrayify=u.arrayify,l.checkOrSetAlreadyCaught=u.checkOrSetAlreadyCaught,l.getEventDescription=u.getEventDescription,l.parseSemver=u.parseSemver,l.uuid4=u.uuid4,l.dynamicRequire=S.dynamicRequire,l.isNodeEnv=S.isNodeEnv,l.loadModule=S.loadModule,l.normalize=_.normalize,l.normalizeToSize=_.normalizeToSize,l.normalizeUrlToBase=_.normalizeUrlToBase,l.addNonEnumerableProperty=b.addNonEnumerableProperty,l.convertToPlainObject=b.convertToPlainObject,l.dropUndefinedKeys=b.dropUndefinedKeys,l.extractExceptionKeysForMessage=b.extractExceptionKeysForMessage,l.fill=b.fill,l.getOriginalFunction=b.getOriginalFunction,l.markFunctionWrapped=b.markFunctionWrapped,l.objectify=b.objectify,l.urlEncode=b.urlEncode,l.basename=E.basename,l.dirname=E.dirname,l.isAbsolute=E.isAbsolute,l.join=E.join,l.normalizePath=E.normalizePath,l.relative=E.relative,l.resolve=E.resolve,l.makePromiseBuffer=T.makePromiseBuffer,l.DEFAULT_USER_INCLUDES=I.DEFAULT_USER_INCLUDES,l.addRequestDataToEvent=I.addRequestDataToEvent,l.extractPathForTransaction=I.extractPathForTransaction,l.extractRequestData=I.extractRequestData,l.winterCGHeadersToDict=I.winterCGHeadersToDict,l.winterCGRequestToRequestData=I.winterCGRequestToRequestData,l.severityLevelFromString=A.severityLevelFromString,l.validSeverityLevels=A.validSeverityLevels,l.UNKNOWN_FUNCTION=w.UNKNOWN_FUNCTION,l.createStackParser=w.createStackParser,l.getFunctionName=w.getFunctionName,l.stackParserFromStackParserOptions=w.stackParserFromStackParserOptions,l.stripSentryFramesAndReverse=w.stripSentryFramesAndReverse,l.filenameIsInApp=R.filenameIsInApp,l.node=R.node,l.nodeStackLineParser=R.nodeStackLineParser,l.isMatchingPattern=P.isMatchingPattern,l.safeJoin=P.safeJoin,l.snipLine=P.snipLine,l.stringMatchesSomePattern=P.stringMatchesSomePattern,l.truncate=P.truncate,l.isNativeFetch=x.isNativeFetch,l.supportsDOMError=x.supportsDOMError,l.supportsDOMException=x.supportsDOMException,l.supportsErrorEvent=x.supportsErrorEvent,l.supportsFetch=x.supportsFetch,l.supportsNativeFetch=x.supportsNativeFetch,l.supportsReferrerPolicy=x.supportsReferrerPolicy,l.supportsReportingObserver=x.supportsReportingObserver,l.SyncPromise=z.SyncPromise,l.rejectedSyncPromise=z.rejectedSyncPromise,l.resolvedSyncPromise=z.resolvedSyncPromise,Object.defineProperty(l,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>Z._browserPerformanceTimeOriginMode}),l.browserPerformanceTimeOrigin=Z.browserPerformanceTimeOrigin,l.dateTimestampInSeconds=Z.dateTimestampInSeconds,l.timestampInSeconds=Z.timestampInSeconds,l.TRACEPARENT_REGEXP=re.TRACEPARENT_REGEXP,l.extractTraceparentData=re.extractTraceparentData,l.generateSentryTraceHeader=re.generateSentryTraceHeader,l.propagationContextFromHeaders=re.propagationContextFromHeaders,l.getSDKSource=ne.getSDKSource,l.isBrowserBundle=ne.isBrowserBundle,l.addItemToEnvelope=he.addItemToEnvelope,l.createAttachmentEnvelopeItem=he.createAttachmentEnvelopeItem,l.createEnvelope=he.createEnvelope,l.createEventEnvelopeHeaders=he.createEventEnvelopeHeaders,l.createSpanEnvelopeItem=he.createSpanEnvelopeItem,l.envelopeContainsItemType=he.envelopeContainsItemType,l.envelopeItemTypeToDataCategory=he.envelopeItemTypeToDataCategory,l.forEachEnvelopeItem=he.forEachEnvelopeItem,l.getSdkMetadataForEnvelopeHeader=he.getSdkMetadataForEnvelopeHeader,l.parseEnvelope=he.parseEnvelope,l.serializeEnvelope=he.serializeEnvelope,l.createClientReportEnvelope=ge.createClientReportEnvelope,l.DEFAULT_RETRY_AFTER=Pe.DEFAULT_RETRY_AFTER,l.disabledUntil=Pe.disabledUntil,l.isRateLimited=Pe.isRateLimited,l.parseRetryAfterHeader=Pe.parseRetryAfterHeader,l.updateRateLimits=Pe.updateRateLimits,l.BAGGAGE_HEADER_NAME=He.BAGGAGE_HEADER_NAME,l.MAX_BAGGAGE_STRING_LENGTH=He.MAX_BAGGAGE_STRING_LENGTH,l.SENTRY_BAGGAGE_KEY_PREFIX=He.SENTRY_BAGGAGE_KEY_PREFIX,l.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=He.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,l.baggageHeaderToDynamicSamplingContext=He.baggageHeaderToDynamicSamplingContext,l.dynamicSamplingContextToSentryBaggageHeader=He.dynamicSamplingContextToSentryBaggageHeader,l.parseBaggageHeader=He.parseBaggageHeader,l.getNumberOfUrlSegments=pt.getNumberOfUrlSegments,l.getSanitizedUrlString=pt.getSanitizedUrlString,l.parseUrl=pt.parseUrl,l.stripUrlQueryAndFragment=pt.stripUrlQueryAndFragment,l.makeFifoCache=Ht.makeFifoCache,l.eventFromMessage=Ke.eventFromMessage,l.eventFromUnknownInput=Ke.eventFromUnknownInput,l.exceptionFromError=Ke.exceptionFromError,l.parseStackFrames=Ke.parseStackFrames,l.callFrameToStackFrame=it.callFrameToStackFrame,l.watchdogTimer=it.watchdogTimer,l.LRUMap=ct.LRUMap,l._asyncNullishCoalesce=rt._asyncNullishCoalesce,l._asyncOptionalChain=_t._asyncOptionalChain,l._asyncOptionalChainDelete=Gt._asyncOptionalChainDelete,l._nullishCoalesce=Kt._nullishCoalesce,l._optionalChain=Ye._optionalChain,l._optionalChainDelete=Xe._optionalChainDelete,l.escapeStringForRegex=It.escapeStringForRegex,l.supportsHistory=kt.supportsHistory},3619233697:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(3610150206),h=c(5247061117),m=c(1108286465),p=c(7839211009);function a(i){const e="console";p.addHandler(e,i),p.maybeInstrument(e,s)}n(a,"addConsoleInstrumentationHandler");function s(){"console"in m.GLOBAL_OBJ&&d.CONSOLE_LEVELS.forEach(function(i){i in m.GLOBAL_OBJ.console&&h.fill(m.GLOBAL_OBJ.console,i,function(e){return d.originalConsoleMethods[i]=e,function(...t){const r={args:t,level:i};p.triggerHandlers("console",r);const o=d.originalConsoleMethods[i];o&&o.apply(m.GLOBAL_OBJ.console,t)}})})}n(s,"instrumentConsole"),l.addConsoleInstrumentationHandler=a},3178410512:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5247061117),h=c(8265793926),m=c(2174399055),p=c(1108286465),a=c(7839211009);function s(o){const f="fetch";a.addHandler(f,o),a.maybeInstrument(f,i)}n(s,"addFetchInstrumentationHandler");function i(){h.supportsNativeFetch()&&d.fill(p.GLOBAL_OBJ,"fetch",function(o){return function(...f){const{method:g,url:v}=r(f),u={args:f,fetchData:{method:g,url:v},startTimestamp:m.timestampInSeconds()*1e3};return a.triggerHandlers("fetch",{...u}),o.apply(p.GLOBAL_OBJ,f).then(S=>{const _={...u,endTimestamp:m.timestampInSeconds()*1e3,response:S};return a.triggerHandlers("fetch",_),S},S=>{const _={...u,endTimestamp:m.timestampInSeconds()*1e3,error:S};throw a.triggerHandlers("fetch",_),S})}})}n(i,"instrumentFetch");function e(o,f){return!!o&&typeof o=="object"&&!!o[f]}n(e,"hasProp");function t(o){return typeof o=="string"?o:o?e(o,"url")?o.url:o.toString?o.toString():"":""}n(t,"getUrlFromResource");function r(o){if(o.length===0)return{method:"GET",url:""};if(o.length===2){const[g,v]=o;return{url:t(g),method:e(v,"method")?String(v.method).toUpperCase():"GET"}}const f=o[0];return{url:t(f),method:e(f,"method")?String(f.method).toUpperCase():"GET"}}n(r,"parseFetchArgs"),l.addFetchInstrumentationHandler=s,l.parseFetchArgs=r},5878142463:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1108286465),h=c(7839211009);let m=null;function p(s){const i="error";h.addHandler(i,s),h.maybeInstrument(i,a)}n(p,"addGlobalErrorInstrumentationHandler");function a(){m=d.GLOBAL_OBJ.onerror,d.GLOBAL_OBJ.onerror=function(s,i,e,t,r){const o={column:t,error:r,line:e,msg:s,url:i};return h.triggerHandlers("error",o),m&&!m.__SENTRY_LOADER__?m.apply(this,arguments):!1},d.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}n(a,"instrumentError"),l.addGlobalErrorInstrumentationHandler=p},5817852989:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1108286465),h=c(7839211009);let m=null;function p(s){const i="unhandledrejection";h.addHandler(i,s),h.maybeInstrument(i,a)}n(p,"addGlobalUnhandledRejectionInstrumentationHandler");function a(){m=d.GLOBAL_OBJ.onunhandledrejection,d.GLOBAL_OBJ.onunhandledrejection=function(s){const i=s;return h.triggerHandlers("unhandledrejection",i),m&&!m.__SENTRY_LOADER__?m.apply(this,arguments):!0},d.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}n(a,"instrumentUnhandledRejection"),l.addGlobalUnhandledRejectionInstrumentationHandler=p},7839211009:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1795624184),h=c(3610150206),m=c(9955566551),p={},a={};function s(r,o){p[r]=p[r]||[],p[r].push(o)}n(s,"addHandler");function i(){Object.keys(p).forEach(r=>{p[r]=void 0})}n(i,"resetInstrumentationHandlers");function e(r,o){a[r]||(o(),a[r]=!0)}n(e,"maybeInstrument");function t(r,o){const f=r&&p[r];if(f)for(const g of f)try{g(o)}catch(v){d.DEBUG_BUILD&&h.logger.error(`Error while triggering instrumentation handler.
Type: ${r}
Name: ${m.getFunctionName(g)}
Error:`,v)}}n(t,"triggerHandlers"),l.addHandler=s,l.maybeInstrument=e,l.resetInstrumentationHandlers=i,l.triggerHandlers=t},5330804994:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=Object.prototype.toString;function d(_){switch(c.call(_)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return u(_,Error)}}n(d,"isError");function h(_,b){return c.call(_)===`[object ${b}]`}n(h,"isBuiltin");function m(_){return h(_,"ErrorEvent")}n(m,"isErrorEvent");function p(_){return h(_,"DOMError")}n(p,"isDOMError");function a(_){return h(_,"DOMException")}n(a,"isDOMException");function s(_){return h(_,"String")}n(s,"isString");function i(_){return typeof _=="object"&&_!==null&&"__sentry_template_string__"in _&&"__sentry_template_values__"in _}n(i,"isParameterizedString");function e(_){return _===null||i(_)||typeof _!="object"&&typeof _!="function"}n(e,"isPrimitive");function t(_){return h(_,"Object")}n(t,"isPlainObject");function r(_){return typeof Event<"u"&&u(_,Event)}n(r,"isEvent");function o(_){return typeof Element<"u"&&u(_,Element)}n(o,"isElement");function f(_){return h(_,"RegExp")}n(f,"isRegExp");function g(_){return Boolean(_&&_.then&&typeof _.then=="function")}n(g,"isThenable");function v(_){return t(_)&&"nativeEvent"in _&&"preventDefault"in _&&"stopPropagation"in _}n(v,"isSyntheticEvent");function u(_,b){try{return _ instanceof b}catch{return!1}}n(u,"isInstanceOf");function S(_){return!!(typeof _=="object"&&_!==null&&(_.__isVue||_._isVue))}n(S,"isVueViewModel"),l.isDOMError=p,l.isDOMException=a,l.isElement=o,l.isError=d,l.isErrorEvent=m,l.isEvent=r,l.isInstanceOf=u,l.isParameterizedString=i,l.isPlainObject=t,l.isPrimitive=e,l.isRegExp=f,l.isString=s,l.isSyntheticEvent=v,l.isThenable=g,l.isVueViewModel=S},4304701770:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1552363198),h=c(1108286465);function m(){return typeof window<"u"&&(!d.isNodeEnv()||p())}n(m,"isBrowser");function p(){return h.GLOBAL_OBJ.process!==void 0&&h.GLOBAL_OBJ.process.type==="renderer"}n(p,"isElectronNodeRenderer"),l.isBrowser=m},3610150206:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1795624184),h=c(1108286465),m="Sentry Logger ",p=["debug","info","warn","error","log","assert","trace"],a={};function s(t){if(!("console"in h.GLOBAL_OBJ))return t();const r=h.GLOBAL_OBJ.console,o={},f=Object.keys(a);f.forEach(g=>{const v=a[g];o[g]=r[g],r[g]=v});try{return t()}finally{f.forEach(g=>{r[g]=o[g]})}}n(s,"consoleSandbox");function i(){let t=!1;const r={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return d.DEBUG_BUILD?p.forEach(o=>{r[o]=(...f)=>{t&&s(()=>{h.GLOBAL_OBJ.console[o](`${m}[${o}]:`,...f)})}}):p.forEach(o=>{r[o]=()=>{}}),r}n(i,"makeLogger");const e=i();l.CONSOLE_LEVELS=p,l.consoleSandbox=s,l.logger=e,l.originalConsoleMethods=a},6852308275:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});class c{constructor(h){this._maxSize=h,this._cache=new Map}get size(){return this._cache.size}get(h){const m=this._cache.get(h);if(m!==void 0)return this._cache.delete(h),this._cache.set(h,m),m}set(h,m){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(h,m)}remove(h){const m=this._cache.get(h);return m&&this._cache.delete(h),m}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const h=[];return this._cache.forEach(m=>h.push(m)),h}}n(c,"LRUMap"),l.LRUMap=c},47787884:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(){const d=typeof WeakSet=="function",h=d?new WeakSet:[];function m(a){if(d)return h.has(a)?!0:(h.add(a),!1);for(let s=0;s<h.length;s++)if(h[s]===a)return!0;return h.push(a),!1}n(m,"memoize");function p(a){if(d)h.delete(a);else for(let s=0;s<h.length;s++)if(h[s]===a){h.splice(s,1);break}}return n(p,"unmemoize"),[m,p]}n(c,"memoBuilder"),l.memoBuilder=c},4360077466:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5247061117),h=c(9996838991),m=c(1108286465);function p(){const v=m.GLOBAL_OBJ,u=v.crypto||v.msCrypto;let S=n(()=>Math.random()*16,"getRandomByte");try{if(u&&u.randomUUID)return u.randomUUID().replace(/-/g,"");u&&u.getRandomValues&&(S=n(()=>{const _=new Uint8Array(1);return u.getRandomValues(_),_[0]},"getRandomByte"))}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,_=>(_^(S()&15)>>_/4).toString(16))}n(p,"uuid4");function a(v){return v.exception&&v.exception.values?v.exception.values[0]:void 0}n(a,"getFirstException");function s(v){const{message:u,event_id:S}=v;if(u)return u;const _=a(v);return _?_.type&&_.value?`${_.type}: ${_.value}`:_.type||_.value||S||"<unknown>":S||"<unknown>"}n(s,"getEventDescription");function i(v,u,S){const _=v.exception=v.exception||{},b=_.values=_.values||[],E=b[0]=b[0]||{};E.value||(E.value=u||""),E.type||(E.type=S||"Error")}n(i,"addExceptionTypeValue");function e(v,u){const S=a(v);if(!S)return;const _={type:"generic",handled:!0},b=S.mechanism;if(S.mechanism={..._,...b,...u},u&&"data"in u){const E={...b&&b.data,...u.data};S.mechanism.data=E}}n(e,"addExceptionMechanism");const t=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function r(v){const u=v.match(t)||[],S=parseInt(u[1],10),_=parseInt(u[2],10),b=parseInt(u[3],10);return{buildmetadata:u[5],major:isNaN(S)?void 0:S,minor:isNaN(_)?void 0:_,patch:isNaN(b)?void 0:b,prerelease:u[4]}}n(r,"parseSemver");function o(v,u,S=5){if(u.lineno===void 0)return;const _=v.length,b=Math.max(Math.min(_-1,u.lineno-1),0);u.pre_context=v.slice(Math.max(0,b-S),b).map(E=>h.snipLine(E,0)),u.context_line=h.snipLine(v[Math.min(_-1,b)],u.colno||0),u.post_context=v.slice(Math.min(b+1,_),b+1+S).map(E=>h.snipLine(E,0))}n(o,"addContextToFrame");function f(v){if(v&&v.__sentry_captured__)return!0;try{d.addNonEnumerableProperty(v,"__sentry_captured__",!0)}catch{}return!1}n(f,"checkOrSetAlreadyCaught");function g(v){return Array.isArray(v)?v:[v]}n(g,"arrayify"),l.addContextToFrame=o,l.addExceptionMechanism=e,l.addExceptionTypeValue=i,l.arrayify=g,l.checkOrSetAlreadyCaught=f,l.getEventDescription=s,l.parseSemver=r,l.uuid4=p},6005876151:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9955566551);function h(a,s=!1){return!(s||a&&!a.startsWith("/")&&!a.match(/^[A-Z]:/)&&!a.startsWith(".")&&!a.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&a!==void 0&&!a.includes("node_modules/")}n(h,"filenameIsInApp");function m(a){const s=/^\s*[-]{4,}$/,i=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return e=>{const t=e.match(i);if(t){let r,o,f,g,v;if(t[1]){f=t[1];let _=f.lastIndexOf(".");if(f[_-1]==="."&&_--,_>0){r=f.slice(0,_),o=f.slice(_+1);const b=r.indexOf(".Module");b>0&&(f=f.slice(b+1),r=r.slice(0,b))}g=void 0}o&&(g=r,v=o),o==="<anonymous>"&&(v=void 0,f=void 0),f===void 0&&(v=v||d.UNKNOWN_FUNCTION,f=g?`${g}.${v}`:v);let u=t[2]&&t[2].startsWith("file://")?t[2].slice(7):t[2];const S=t[5]==="native";return u&&u.match(/\/[A-Z]:/)&&(u=u.slice(1)),!u&&t[5]&&!S&&(u=t[5]),{filename:u,module:a?a(u):void 0,function:f,lineno:parseInt(t[3],10)||void 0,colno:parseInt(t[4],10)||void 0,in_app:h(u,S)}}if(e.match(s))return{filename:e}}}n(m,"node");function p(a){return[90,m(a)]}n(p,"nodeStackLineParser"),l.filenameIsInApp=h,l.node=m,l.nodeStackLineParser=p},1552363198:(V,l,c)=>{V=c.nmd(V),Object.defineProperty(l,"__esModule",{value:!0});const d=c(1390308333);function h(){return!d.isBrowserBundle()&&Object.prototype.toString.call(0)==="[object process]"}n(h,"isNodeEnv");function m(a,s){return a.require(s)}n(m,"dynamicRequire");function p(a){let s;try{s=m(V,a)}catch{}try{const{cwd:i}=m(V,"process");s=m(V,`${i()}/node_modules/${a}`)}catch{}return s}n(p,"loadModule"),l.dynamicRequire=m,l.isNodeEnv=h,l.loadModule=p},6371465633:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5330804994),h=c(47787884),m=c(5247061117),p=c(9955566551);function a(g,v=100,u=1/0){try{return i("",g,v,u)}catch(S){return{ERROR:`**non-serializable** (${S})`}}}n(a,"normalize");function s(g,v=3,u=100*1024){const S=a(g,v);return o(S)>u?s(g,v-1,u):S}n(s,"normalizeToSize");function i(g,v,u=1/0,S=1/0,_=h.memoBuilder()){const[b,E]=_;if(v==null||["number","boolean","string"].includes(typeof v)&&!Number.isNaN(v))return v;const T=e(g,v);if(!T.startsWith("[object "))return T;if(v.__sentry_skip_normalization__)return v;const I=typeof v.__sentry_override_normalization_depth__=="number"?v.__sentry_override_normalization_depth__:u;if(I===0)return T.replace("object ","");if(b(v))return"[Circular ~]";const A=v;if(A&&typeof A.toJSON=="function")try{const x=A.toJSON();return i("",x,I-1,S,_)}catch{}const w=Array.isArray(v)?[]:{};let R=0;const P=m.convertToPlainObject(v);for(const x in P){if(!Object.prototype.hasOwnProperty.call(P,x))continue;if(R>=S){w[x]="[MaxProperties ~]";break}const z=P[x];w[x]=i(x,z,I-1,S,_),R++}return E(v),w}n(i,"visit");function e(g,v){try{if(g==="domain"&&v&&typeof v=="object"&&v._events)return"[Domain]";if(g==="domainEmitter")return"[DomainEmitter]";if(typeof c.g<"u"&&v===c.g)return"[Global]";if(typeof window<"u"&&v===window)return"[Window]";if(typeof document<"u"&&v===document)return"[Document]";if(d.isVueViewModel(v))return"[VueViewModel]";if(d.isSyntheticEvent(v))return"[SyntheticEvent]";if(typeof v=="number"&&v!==v)return"[NaN]";if(typeof v=="function")return`[Function: ${p.getFunctionName(v)}]`;if(typeof v=="symbol")return`[${String(v)}]`;if(typeof v=="bigint")return`[BigInt: ${String(v)}]`;const u=t(v);return/^HTML(\w*)Element$/.test(u)?`[HTMLElement: ${u}]`:`[object ${u}]`}catch(u){return`**non-serializable** (${u})`}}n(e,"stringifyValue");function t(g){const v=Object.getPrototypeOf(g);return v?v.constructor.name:"null prototype"}n(t,"getConstructorName");function r(g){return~-encodeURI(g).split(/%..|./).length}n(r,"utf8Length");function o(g){return r(JSON.stringify(g))}n(o,"jsonSize");function f(g,v){const u=v.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let S=g;try{S=decodeURI(g)}catch{}return S.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${u}/*`,"ig"),"app:///")}n(f,"normalizeUrlToBase"),l.normalize=a,l.normalizeToSize=s,l.normalizeUrlToBase=f},5247061117:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9550996546),h=c(1795624184),m=c(5330804994),p=c(3610150206),a=c(9996838991);function s(E,T,I){if(!(T in E))return;const A=E[T],w=I(A);typeof w=="function"&&e(w,A),E[T]=w}n(s,"fill");function i(E,T,I){try{Object.defineProperty(E,T,{value:I,writable:!0,configurable:!0})}catch{h.DEBUG_BUILD&&p.logger.log(`Failed to add non-enumerable property "${T}" to object`,E)}}n(i,"addNonEnumerableProperty");function e(E,T){try{const I=T.prototype||{};E.prototype=T.prototype=I,i(E,"__sentry_original__",T)}catch{}}n(e,"markFunctionWrapped");function t(E){return E.__sentry_original__}n(t,"getOriginalFunction");function r(E){return Object.keys(E).map(T=>`${encodeURIComponent(T)}=${encodeURIComponent(E[T])}`).join("&")}n(r,"urlEncode");function o(E){if(m.isError(E))return{message:E.message,name:E.name,stack:E.stack,...g(E)};if(m.isEvent(E)){const T={type:E.type,target:f(E.target),currentTarget:f(E.currentTarget),...g(E)};return typeof CustomEvent<"u"&&m.isInstanceOf(E,CustomEvent)&&(T.detail=E.detail),T}else return E}n(o,"convertToPlainObject");function f(E){try{return m.isElement(E)?d.htmlTreeAsString(E):Object.prototype.toString.call(E)}catch{return"<unknown>"}}n(f,"serializeEventTarget");function g(E){if(typeof E=="object"&&E!==null){const T={};for(const I in E)Object.prototype.hasOwnProperty.call(E,I)&&(T[I]=E[I]);return T}else return{}}n(g,"getOwnProperties");function v(E,T=40){const I=Object.keys(o(E));if(I.sort(),!I.length)return"[object has no keys]";if(I[0].length>=T)return a.truncate(I[0],T);for(let A=I.length;A>0;A--){const w=I.slice(0,A).join(", ");if(!(w.length>T))return A===I.length?w:a.truncate(w,T)}return""}n(v,"extractExceptionKeysForMessage");function u(E){return S(E,new Map)}n(u,"dropUndefinedKeys");function S(E,T){if(_(E)){const I=T.get(E);if(I!==void 0)return I;const A={};T.set(E,A);for(const w of Object.keys(E))typeof E[w]<"u"&&(A[w]=S(E[w],T));return A}if(Array.isArray(E)){const I=T.get(E);if(I!==void 0)return I;const A=[];return T.set(E,A),E.forEach(w=>{A.push(S(w,T))}),A}return E}n(S,"_dropUndefinedKeys");function _(E){if(!m.isPlainObject(E))return!1;try{const T=Object.getPrototypeOf(E).constructor.name;return!T||T==="Object"}catch{return!0}}n(_,"isPojo");function b(E){let T;switch(!0){case E==null:T=new String(E);break;case(typeof E=="symbol"||typeof E=="bigint"):T=Object(E);break;case m.isPrimitive(E):T=new E.constructor(E);break;default:T=E;break}return T}n(b,"objectify"),l.addNonEnumerableProperty=i,l.convertToPlainObject=o,l.dropUndefinedKeys=u,l.extractExceptionKeysForMessage=v,l.fill=s,l.getOriginalFunction=t,l.markFunctionWrapped=e,l.objectify=b,l.urlEncode=r},4764604189:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(o,f){let g=0;for(let v=o.length-1;v>=0;v--){const u=o[v];u==="."?o.splice(v,1):u===".."?(o.splice(v,1),g++):g&&(o.splice(v,1),g--)}if(f)for(;g--;g)o.unshift("..");return o}n(c,"normalizeArray");const d=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function h(o){const f=o.length>1024?`<truncated>${o.slice(-1024)}`:o,g=d.exec(f);return g?g.slice(1):[]}n(h,"splitPath");function m(...o){let f="",g=!1;for(let v=o.length-1;v>=-1&&!g;v--){const u=v>=0?o[v]:"/";u&&(f=`${u}/${f}`,g=u.charAt(0)==="/")}return f=c(f.split("/").filter(v=>!!v),!g).join("/"),(g?"/":"")+f||"."}n(m,"resolve");function p(o){let f=0;for(;f<o.length&&o[f]==="";f++);let g=o.length-1;for(;g>=0&&o[g]==="";g--);return f>g?[]:o.slice(f,g-f+1)}n(p,"trim");function a(o,f){o=m(o).slice(1),f=m(f).slice(1);const g=p(o.split("/")),v=p(f.split("/")),u=Math.min(g.length,v.length);let S=u;for(let b=0;b<u;b++)if(g[b]!==v[b]){S=b;break}let _=[];for(let b=S;b<g.length;b++)_.push("..");return _=_.concat(v.slice(S)),_.join("/")}n(a,"relative");function s(o){const f=i(o),g=o.slice(-1)==="/";let v=c(o.split("/").filter(u=>!!u),!f).join("/");return!v&&!f&&(v="."),v&&g&&(v+="/"),(f?"/":"")+v}n(s,"normalizePath");function i(o){return o.charAt(0)==="/"}n(i,"isAbsolute");function e(...o){return s(o.join("/"))}n(e,"join");function t(o){const f=h(o),g=f[0];let v=f[1];return!g&&!v?".":(v&&(v=v.slice(0,v.length-1)),g+v)}n(t,"dirname");function r(o,f){let g=h(o)[2];return f&&g.slice(f.length*-1)===f&&(g=g.slice(0,g.length-f.length)),g}n(r,"basename"),l.basename=r,l.dirname=t,l.isAbsolute=i,l.join=e,l.normalizePath=s,l.relative=a,l.resolve=m},3193811597:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(4759164024),h=c(2435760602);function m(p){const a=[];function s(){return p===void 0||a.length<p}n(s,"isReady");function i(r){return a.splice(a.indexOf(r),1)[0]}n(i,"remove");function e(r){if(!s())return h.rejectedSyncPromise(new d.SentryError("Not adding Promise because buffer limit was reached."));const o=r();return a.indexOf(o)===-1&&a.push(o),o.then(()=>i(o)).then(null,()=>i(o).then(null,()=>{})),o}n(e,"add");function t(r){return new h.SyncPromise((o,f)=>{let g=a.length;if(!g)return o(!0);const v=setTimeout(()=>{r&&r>0&&o(!1)},r);a.forEach(u=>{h.resolvedSyncPromise(u).then(()=>{--g||(clearTimeout(v),o(!0))},f)})})}return n(t,"drain"),{$:a,add:e,drain:t}}n(m,"makePromiseBuffer"),l.makePromiseBuffer=m},277240735:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=60*1e3;function d(a,s=Date.now()){const i=parseInt(`${a}`,10);if(!isNaN(i))return i*1e3;const e=Date.parse(`${a}`);return isNaN(e)?c:e-s}n(d,"parseRetryAfterHeader");function h(a,s){return a[s]||a.all||0}n(h,"disabledUntil");function m(a,s,i=Date.now()){return h(a,s)>i}n(m,"isRateLimited");function p(a,{statusCode:s,headers:i},e=Date.now()){const t={...a},r=i&&i["x-sentry-rate-limits"],o=i&&i["retry-after"];if(r)for(const f of r.trim().split(",")){const[g,v,,,u]=f.split(":",5),S=parseInt(g,10),_=(isNaN(S)?60:S)*1e3;if(!v)t.all=e+_;else for(const b of v.split(";"))b==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(t[b]=e+_):t[b]=e+_}else o?t.all=e+d(o,e):s===429&&(t.all=e+60*1e3);return t}n(p,"updateRateLimits"),l.DEFAULT_RETRY_AFTER=c,l.disabledUntil=h,l.isRateLimited=m,l.parseRetryAfterHeader=d,l.updateRateLimits=p},4846555271:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(9687986872),h=c(1795624184),m=c(5330804994),p=c(3610150206),a=c(6371465633),s=c(7216756807),i={ip:!1,request:!0,transaction:!0,user:!0},e=["cookies","data","headers","method","query_string","url"],t=["id","username","email"];function r(b,E={}){const T=b.method&&b.method.toUpperCase();let I="",A="url";E.customRoute||b.route?(I=E.customRoute||`${b.baseUrl||""}${b.route&&b.route.path}`,A="route"):(b.originalUrl||b.url)&&(I=s.stripUrlQueryAndFragment(b.originalUrl||b.url||""));let w="";return E.method&&T&&(w+=T),E.method&&E.path&&(w+=" "),E.path&&I&&(w+=I),[w,A]}n(r,"extractPathForTransaction");function o(b,E){switch(E){case"path":return r(b,{path:!0})[0];case"handler":return b.route&&b.route.stack&&b.route.stack[0]&&b.route.stack[0].name||"<anonymous>";case"methodPath":default:{const T=b._reconstructedRoute?b._reconstructedRoute:void 0;return r(b,{path:!0,method:!0,customRoute:T})[0]}}}n(o,"extractTransaction");function f(b,E){const T={};return(Array.isArray(E)?E:t).forEach(A=>{b&&A in b&&(T[A]=b[A])}),T}n(f,"extractUserData");function g(b,E){const{include:T=e}=E||{},I={},A=b.headers||{},w=b.method,R=A.host||b.hostname||b.host||"<no host>",P=b.protocol==="https"||b.socket&&b.socket.encrypted?"https":"http",x=b.originalUrl||b.url||"",z=x.startsWith(P)?x:`${P}://${R}${x}`;return T.forEach(Z=>{switch(Z){case"headers":{I.headers=A,T.includes("cookies")||delete I.headers.cookie;break}case"method":{I.method=w;break}case"url":{I.url=z;break}case"cookies":{I.cookies=b.cookies||A.cookie&&d.parseCookie(A.cookie)||{};break}case"query_string":{I.query_string=u(b);break}case"data":{if(w==="GET"||w==="HEAD")break;b.body!==void 0&&(I.data=m.isString(b.body)?b.body:JSON.stringify(a.normalize(b.body)));break}default:({}).hasOwnProperty.call(b,Z)&&(I[Z]=b[Z])}}),I}n(g,"extractRequestData");function v(b,E,T){const I={...i,...T&&T.include};if(I.request){const A=Array.isArray(I.request)?g(E,{include:I.request}):g(E);b.request={...b.request,...A}}if(I.user){const A=E.user&&m.isPlainObject(E.user)?f(E.user,I.user):{};Object.keys(A).length&&(b.user={...b.user,...A})}if(I.ip){const A=E.ip||E.socket&&E.socket.remoteAddress;A&&(b.user={...b.user,ip_address:A})}return I.transaction&&!b.transaction&&b.type==="transaction"&&(b.transaction=o(E,I.transaction)),b}n(v,"addRequestDataToEvent");function u(b){let E=b.originalUrl||b.url||"";if(E){E.startsWith("/")&&(E=`http://dogs.are.great${E}`);try{const T=b.query||new URL(E).search.slice(1);return T.length?T:void 0}catch{return}}}n(u,"extractQueryParams");function S(b){const E={};try{b.forEach((T,I)=>{typeof T=="string"&&(E[I]=T)})}catch{h.DEBUG_BUILD&&p.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return E}n(S,"winterCGHeadersToDict");function _(b){const E=S(b.headers);return{method:b.method,url:b.url,headers:E}}n(_,"winterCGRequestToRequestData"),l.DEFAULT_USER_INCLUDES=t,l.addRequestDataToEvent=v,l.extractPathForTransaction=r,l.extractRequestData=g,l.winterCGHeadersToDict=S,l.winterCGRequestToRequestData=_},5043703765:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=["fatal","error","warning","log","info","debug"];function d(h){return h==="warn"?"warning":c.includes(h)?h:"log"}n(d,"severityLevelFromString"),l.severityLevelFromString=d,l.validSeverityLevels=c},9955566551:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=50,d="?",h=/\(error: (.*)\)/,m=/captureMessage|captureException/;function p(...t){const r=t.sort((o,f)=>o[0]-f[0]).map(o=>o[1]);return(o,f=0,g=0)=>{const v=[],u=o.split(`
`);for(let S=f;S<u.length;S++){const _=u[S];if(_.length>1024)continue;const b=h.test(_)?_.replace(h,"$1"):_;if(!b.match(/\S*Error: /)){for(const E of r){const T=E(b);if(T){v.push(T);break}}if(v.length>=c+g)break}}return s(v.slice(g))}}n(p,"createStackParser");function a(t){return Array.isArray(t)?p(...t):t}n(a,"stackParserFromStackParserOptions");function s(t){if(!t.length)return[];const r=Array.from(t);return/sentryWrapped/.test(r[r.length-1].function||"")&&r.pop(),r.reverse(),m.test(r[r.length-1].function||"")&&(r.pop(),m.test(r[r.length-1].function||"")&&r.pop()),r.slice(0,c).map(o=>({...o,filename:o.filename||r[r.length-1].filename,function:o.function||d}))}n(s,"stripSentryFramesAndReverse");const i="<anonymous>";function e(t){try{return!t||typeof t!="function"?i:t.name||i}catch{return i}}n(e,"getFunctionName"),l.UNKNOWN_FUNCTION=d,l.createStackParser=p,l.getFunctionName=e,l.stackParserFromStackParserOptions=a,l.stripSentryFramesAndReverse=s},9996838991:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5330804994);function h(i,e=0){return typeof i!="string"||e===0||i.length<=e?i:`${i.slice(0,e)}...`}n(h,"truncate");function m(i,e){let t=i;const r=t.length;if(r<=150)return t;e>r&&(e=r);let o=Math.max(e-60,0);o<5&&(o=0);let f=Math.min(o+140,r);return f>r-5&&(f=r),f===r&&(o=Math.max(f-140,0)),t=t.slice(o,f),o>0&&(t=`'{snip} ${t}`),f<r&&(t+=" {snip}"),t}n(m,"snipLine");function p(i,e){if(!Array.isArray(i))return"";const t=[];for(let r=0;r<i.length;r++){const o=i[r];try{d.isVueViewModel(o)?t.push("[VueViewModel]"):t.push(String(o))}catch{t.push("[value cannot be serialized]")}}return t.join(e)}n(p,"safeJoin");function a(i,e,t=!1){return d.isString(i)?d.isRegExp(e)?e.test(i):d.isString(e)?t?i===e:i.includes(e):!1:!1}n(a,"isMatchingPattern");function s(i,e=[],t=!1){return e.some(r=>a(i,r,t))}n(s,"stringMatchesSomePattern"),l.isMatchingPattern=a,l.safeJoin=p,l.snipLine=m,l.stringMatchesSomePattern=s,l.truncate=h},8265793926:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1795624184),h=c(3610150206),p=c(1108286465).GLOBAL_OBJ;function a(){try{return new ErrorEvent(""),!0}catch{return!1}}n(a,"supportsErrorEvent");function s(){try{return new DOMError(""),!0}catch{return!1}}n(s,"supportsDOMError");function i(){try{return new DOMException(""),!0}catch{return!1}}n(i,"supportsDOMException");function e(){if(!("fetch"in p))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}n(e,"supportsFetch");function t(g){return g&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(g.toString())}n(t,"isNativeFetch");function r(){if(typeof EdgeRuntime=="string")return!0;if(!e())return!1;if(t(p.fetch))return!0;let g=!1;const v=p.document;if(v&&typeof v.createElement=="function")try{const u=v.createElement("iframe");u.hidden=!0,v.head.appendChild(u),u.contentWindow&&u.contentWindow.fetch&&(g=t(u.contentWindow.fetch)),v.head.removeChild(u)}catch(u){d.DEBUG_BUILD&&h.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return g}n(r,"supportsNativeFetch");function o(){return"ReportingObserver"in p}n(o,"supportsReportingObserver");function f(){if(!e())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}n(f,"supportsReferrerPolicy"),l.isNativeFetch=t,l.supportsDOMError=s,l.supportsDOMException=i,l.supportsErrorEvent=a,l.supportsFetch=e,l.supportsNativeFetch=r,l.supportsReferrerPolicy=f,l.supportsReportingObserver=o},2435760602:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(5330804994);var h;(function(s){s[s.PENDING=0]="PENDING";const e=1;s[s.RESOLVED=e]="RESOLVED";const t=2;s[s.REJECTED=t]="REJECTED"})(h||(h={}));function m(s){return new a(i=>{i(s)})}n(m,"resolvedSyncPromise");function p(s){return new a((i,e)=>{e(s)})}n(p,"rejectedSyncPromise");class a{constructor(i){a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),this._state=h.PENDING,this._handlers=[];try{i(this._resolve,this._reject)}catch(e){this._reject(e)}}then(i,e){return new a((t,r)=>{this._handlers.push([!1,o=>{if(!i)t(o);else try{t(i(o))}catch(f){r(f)}},o=>{if(!e)r(o);else try{t(e(o))}catch(f){r(f)}}]),this._executeHandlers()})}catch(i){return this.then(e=>e,i)}finally(i){return new a((e,t)=>{let r,o;return this.then(f=>{o=!1,r=f,i&&i()},f=>{o=!0,r=f,i&&i()}).then(()=>{if(o){t(r);return}e(r)})})}__init(){this._resolve=i=>{this._setResult(h.RESOLVED,i)}}__init2(){this._reject=i=>{this._setResult(h.REJECTED,i)}}__init3(){this._setResult=(i,e)=>{if(this._state===h.PENDING){if(d.isThenable(e)){e.then(this._resolve,this._reject);return}this._state=i,this._value=e,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===h.PENDING)return;const i=this._handlers.slice();this._handlers=[],i.forEach(e=>{e[0]||(this._state===h.RESOLVED&&e[1](this._value),this._state===h.REJECTED&&e[2](this._value),e[0]=!0)})}}}n(a,"SyncPromise"),l.SyncPromise=a,l.rejectedSyncPromise=p,l.resolvedSyncPromise=m},2174399055:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(1108286465),h=1e3;function m(){return Date.now()/h}n(m,"dateTimestampInSeconds");function p(){const{performance:i}=d.GLOBAL_OBJ;if(!i||!i.now)return m;const e=Date.now()-i.now(),t=i.timeOrigin==null?e:i.timeOrigin;return()=>(t+i.now())/h}n(p,"createUnixTimestampInSecondsFunc");const a=p();l._browserPerformanceTimeOriginMode=void 0;const s=(()=>{const{performance:i}=d.GLOBAL_OBJ;if(!i||!i.now){l._browserPerformanceTimeOriginMode="none";return}const e=3600*1e3,t=i.now(),r=Date.now(),o=i.timeOrigin?Math.abs(i.timeOrigin+t-r):e,f=o<e,g=i.timing&&i.timing.navigationStart,u=typeof g=="number"?Math.abs(g+t-r):e,S=u<e;return f||S?o<=u?(l._browserPerformanceTimeOriginMode="timeOrigin",i.timeOrigin):(l._browserPerformanceTimeOriginMode="navigationStart",g):(l._browserPerformanceTimeOriginMode="dateNow",r)})();l.browserPerformanceTimeOrigin=s,l.dateTimestampInSeconds=m,l.timestampInSeconds=a},6123212092:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const d=c(8666696284),h=c(4360077466),m=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function p(i){if(!i)return;const e=i.match(m);if(!e)return;let t;return e[3]==="1"?t=!0:e[3]==="0"&&(t=!1),{traceId:e[1],parentSampled:t,parentSpanId:e[2]}}n(p,"extractTraceparentData");function a(i,e){const t=p(i),r=d.baggageHeaderToDynamicSamplingContext(e),{traceId:o,parentSpanId:f,parentSampled:g}=t||{};return t?{traceId:o||h.uuid4(),parentSpanId:f||h.uuid4().substring(16),spanId:h.uuid4().substring(16),sampled:g,dsc:r||{}}:{traceId:o||h.uuid4(),spanId:h.uuid4().substring(16)}}n(a,"propagationContextFromHeaders");function s(i=h.uuid4(),e=h.uuid4().substring(16),t){let r="";return t!==void 0&&(r=t?"-1":"-0"),`${i}-${e}${r}`}n(s,"generateSentryTraceHeader"),l.TRACEPARENT_REGEXP=m,l.extractTraceparentData=p,l.generateSentryTraceHeader=s,l.propagationContextFromHeaders=a},7216756807:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(p){if(!p)return{};const a=p.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!a)return{};const s=a[6]||"",i=a[8]||"";return{host:a[4],path:a[5],protocol:a[2],search:s,hash:i,relative:a[5]+s+i}}n(c,"parseUrl");function d(p){return p.split(/[\?#]/,1)[0]}n(d,"stripUrlQueryAndFragment");function h(p){return p.split(/\\?\//).filter(a=>a.length>0&&a!==",").length}n(h,"getNumberOfUrlSegments");function m(p){const{protocol:a,host:s,path:i}=p,e=s&&s.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${a?`${a}://`:""}${e}${i}`}n(m,"getSanitizedUrlString"),l.getNumberOfUrlSegments=h,l.getSanitizedUrlString=m,l.parseUrl=c,l.stripUrlQueryAndFragment=d},6250807085:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});function c(d){return d.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(c,"escapeStringForRegex"),l.escapeStringForRegex=c},7384544743:(V,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});const h=c(1108286465).GLOBAL_OBJ;function m(){const p=h.chrome,a=p&&p.app&&p.app.runtime,s="history"in h&&!!h.history.pushState&&!!h.history.replaceState;return!a&&s}n(m,"supportsHistory"),l.supportsHistory=m},1108286465:(V,l)=>{Object.defineProperty(l,"__esModule",{value:!0});const c=globalThis;function d(h,m,p){const a=p||c,s=a.__SENTRY__=a.__SENTRY__||{};return s[h]||(s[h]=m())}n(d,"getGlobalSingleton"),l.GLOBAL_OBJ=c,l.getGlobalSingleton=d},2844658640:(V,l,c)=>{var d,h,m;V.exports=function(J){var a={},s={exports:a},i=J.AbortController,e=J.AbortSignal,t=J.addEventListener,r=J.alert,o=J.AnalyserNode,f=J.Animation,g=J.AnimationEffectReadOnly,v=J.AnimationEffectTiming,u=J.AnimationEffectTimingReadOnly,S=J.AnimationEvent,_=J.AnimationPlaybackEvent,b=J.AnimationTimeline,E=J.applicationCache,T=J.ApplicationCache,I=J.ApplicationCacheErrorEvent,A=J.atob,w=J.Attr,R=J.Audio,P=J.AudioBuffer,x=J.AudioBufferSourceNode,z=J.AudioContext,Z=J.AudioDestinationNode,re=J.AudioListener,ne=J.AudioNode,he=J.AudioParam,ge=J.AudioProcessingEvent,Pe=J.AudioScheduledSourceNode,He=J.AudioWorkletGlobalScope,pt=J.AudioWorkletNode,Ht=J.AudioWorkletProcessor,Ke=J.BarProp,it=J.BaseAudioContext,ct=J.BatteryManager,rt=J.BeforeUnloadEvent,_t=J.BiquadFilterNode,Gt=J.Blob,Kt=J.BlobEvent,Ye=J.blur,Xe=J.BroadcastChannel,It=J.btoa,kt=J.BudgetService,gt=J.ByteLengthQueuingStrategy,En=J.Cache,pn=J.CacheStorage,wn=J.cancelAnimationFrame,zn=J.cancelIdleCallback,Qn=J.CanvasCaptureMediaStreamTrack,Sn=J.CanvasGradient,Zn=J.CanvasPattern,lr=J.CanvasRenderingContext2D,ui=J.ChannelMergerNode,fi=J.ChannelSplitterNode,Vn=J.CharacterData,In=J.clearInterval,wi=J.clearTimeout,_n=J.clientInformation,An=J.ClipboardEvent,sn=J.close,Q=J.closed,lt=J.CloseEvent,mt=J.Comment,bt=J.CompositionEvent,At=J.confirm,Wt=J.console,we=J.ConstantSourceNode,ht=J.ConvolverNode,K=J.CountQueuingStrategy,se=J.createImageBitmap,Ve=J.Credential,Be=J.CredentialsContainer,Yt=J.crypto,yt=J.Crypto,Bt=J.CryptoKey,ke=J.CSS,Je=J.CSSConditionRule,B=J.CSSFontFaceRule,Fe=J.CSSGroupingRule,fe=J.CSSImportRule,ve=J.CSSKeyframeRule,ee=J.CSSKeyframesRule,Et=J.CSSMatrixComponent,Ne=J.CSSMediaRule,st=J.CSSNamespaceRule,on=J.CSSPageRule,$t=J.CSSPerspective,yi=J.CSSRotate,mi=J.CSSRule,ri=J.CSSRuleList,ti=J.CSSScale,Zt=J.CSSSkew,mn=J.CSSSkewX,Ui=J.CSSSkewY,Er=J.CSSStyleDeclaration,Dn=J.CSSStyleRule,nn=J.CSSStyleSheet,ni=J.CSSSupportsRule,oi=J.CSSTransformValue,Ji=J.CSSTranslate,Qi=J.CustomElementRegistry,Ei=J.customElements,Jn=J.CustomEvent,Sr=J.DataTransfer,cr=J.DataTransferItem,Dr=J.DataTransferItemList,Yi=J.defaultstatus,io=J.defaultStatus,sr=J.DelayNode,lo=J.DeviceMotionEvent,Gi=J.DeviceOrientationEvent,ji=J.devicePixelRatio,F=J.dispatchEvent,_e=J.document,tt=J.Document,zt=J.DocumentFragment,gn=J.DocumentType,Yn=J.DOMError,bi=J.DOMException,ei=J.DOMImplementation,si=J.DOMMatrix,Si=J.DOMMatrixReadOnly,Ai=J.DOMParser,tr=J.DOMPoint,hr=J.DOMPointReadOnly,Ar=J.DOMQuad,co=J.DOMRect,hi=J.DOMRectList,$r=J.DOMRectReadOnly,to=J.DOMStringList,vi=J.DOMStringMap,vn=J.DOMTokenList,Oi=J.DragEvent,Zo=J.DynamicsCompressorNode,uo=J.Element,Ko=J.ErrorEvent,Ho=J.event,pe=J.Event,Ae=J.EventSource,Ue=J.EventTarget,vt=J.external,Lt=J.fetch,xt=J.File,Cn=J.FileList,Nn=J.FileReader,Xn=J.find,Un=J.focus,Ti=J.FocusEvent,Tn=J.FontFace,qi=J.FontFaceSetLoadEvent,_i=J.FormData,Nr=J.frameElement,Ur=J.frames,Gr=J.GainNode,ki=J.Gamepad,Vi=J.GamepadButton,Zi=J.GamepadEvent,_r=J.getComputedStyle,Hr=J.getSelection,Eo=J.HashChangeEvent,er=J.Headers,Co=J.history,Fr=J.History,no=J.HTMLAllCollection,Is=J.HTMLAnchorElement,As=J.HTMLAreaElement,ms=J.HTMLAudioElement,cs=J.HTMLBaseElement,Os=J.HTMLBodyElement,qo=J.HTMLBRElement,Mo=J.HTMLButtonElement,No=J.HTMLCanvasElement,Wo=J.HTMLCollection,Fo=J.HTMLContentElement,yo=J.HTMLDataElement,fo=J.HTMLDataListElement,Po=J.HTMLDetailsElement,ia=J.HTMLDialogElement,is=J.HTMLDirectoryElement,Go=J.HTMLDivElement,gs=J.HTMLDListElement,ro=J.HTMLDocument,Oo=J.HTMLElement,Ao=J.HTMLEmbedElement,Jo=J.HTMLFieldSetElement,xo=J.HTMLFontElement,ra=J.HTMLFormControlsCollection,de=J.HTMLFormElement,ye=J.HTMLFrameElement,Me=J.HTMLFrameSetElement,Ge=J.HTMLHeadElement,nt=J.HTMLHeadingElement,Ut=J.HTMLHRElement,wt=J.HTMLHtmlElement,dn=J.HTMLIFrameElement,cn=J.HTMLImageElement,bn=J.HTMLInputElement,hn=J.HTMLLabelElement,Fn=J.HTMLLegendElement,xn=J.HTMLLIElement,jn=J.HTMLLinkElement,pi=J.HTMLMapElement,ai=J.HTMLMarqueeElement,$n=J.HTMLMediaElement,kn=J.HTMLMenuElement,Ri=J.HTMLMetaElement,pr=J.HTMLMeterElement,Rr=J.HTMLModElement,Kr=J.HTMLObjectElement,qt=J.HTMLOListElement,Mr=J.HTMLOptGroupElement,xr=J.HTMLOptionElement,ur=J.HTMLOptionsCollection,To=J.HTMLOutputElement,es=J.HTMLParagraphElement,oo=J.HTMLParamElement,Yo=J.HTMLPictureElement,os=J.HTMLPreElement,vs=J.HTMLProgressElement,Vs=J.HTMLQuoteElement,ho=J.HTMLScriptElement,Bo=J.HTMLSelectElement,ya=J.HTMLShadowElement,$s=J.HTMLSlotElement,Hs=J.HTMLSourceElement,oa=J.HTMLSpanElement,Rs=J.HTMLStyleElement,Ss=J.HTMLTableCaptionElement,ys=J.HTMLTableCellElement,fs=J.HTMLTableColElement,_a=J.HTMLTableElement,ul=J.HTMLTableRowElement,ba=J.HTMLTableSectionElement,Io=J.HTMLTemplateElement,Li=J.HTMLTextAreaElement,Ys=J.HTMLTimeElement,Mi=J.HTMLTitleElement,Ea=J.HTMLTrackElement,sa=J.HTMLUListElement,qa=J.HTMLUnknownElement,oe=J.HTMLVideoElement,ae=J.IDBCursor,X=J.IDBCursorWithValue,L=J.IDBDatabase,q=J.IDBFactory,be=J.IDBIndex,Ce=J.IDBKeyRange,xe=J.IDBObjectStore,et=J.IDBOpenDBRequest,Rt=J.IDBRequest,ft=J.IDBTransaction,Ot=J.IDBVersionChangeEvent,St=J.IdleDeadline,yn=J.IIRFilterNode,Ln=J.Image,Kn=J.ImageBitmap,Di=J.ImageBitmapRenderingContext,Ni=J.ImageCapture,Hi=J.ImageData,mr=J.indexedDB,fr=J.innerHeight,br=J.innerWidth,Jr=J.InputEvent,yr=J.IntersectionObserver,di=J.IntersectionObserverEntry,Cr=J.Intl,Mt=J.isSecureContext,Vt=J.KeyboardEvent,un=J.KeyframeEffect,Hn=J.KeyframeEffectReadOnly,gi=J.length,ar=J.localStorage,Xi=J.location,$i=J.Location,rr=J.locationbar,Br=J.matchMedia,ts=J.MediaDeviceInfo,Vr=J.MediaDevices,Ro=J.MediaElementAudioSourceNode,ds=J.MediaEncryptedEvent,Fs=J.MediaError,hs=J.MediaKeyMessageEvent,Xo=J.MediaKeySession,Ca=J.MediaKeyStatusMap,Pa=J.MediaKeySystemAccess,aa=J.MediaList,Xs=J.MediaMetadata,Ga=J.MediaQueryList,ua=J.MediaQueryListEvent,el=J.MediaRecorder,ka=J.MediaSettingsRange,Ms=J.MediaSource,po=J.MediaStream,wo=J.MediaStreamAudioDestinationNode,ss=J.MediaStreamAudioSourceNode,Ta=J.MediaStreamEvent,Ws=J.MediaStreamTrack,fl=J.MediaStreamTrackEvent,Kl=J.menubar,za=J.MessageChannel,hl=J.MessageEvent,xc=J.MessagePort,Jl=J.MIDIAccess,Yl=J.MIDIConnectionEvent,Bc=J.MIDIInput,Ld=J.MIDIInputMap,Nd=J.MIDIMessageEvent,Fd=J.MIDIOutput,Xr=J.MIDIOutputMap,Xl=J.MIDIPort,pl=J.MimeType,Ql=J.MimeTypeArray,On=J.MouseEvent,Wu=J.moveBy,Ii=J.moveTo,xd=J.MutationEvent,Pl=J.MutationObserver,Zl=J.MutationRecord,Uc=J.name,ql=J.NamedNodeMap,Bd=J.NavigationPreloadManager,Gu=J.navigator,Gs=J.Navigator,Wi=J.NetworkInformation,ec=J.Node,Ud=J.NodeFilter,Vc=J.NodeIterator,Vd=J.NodeList,Hc=J.Notification,Wc=J.OfflineAudioCompletionEvent,ml=J.OfflineAudioContext,Hd=J.offscreenBuffering,Gc=J.OffscreenCanvas,Wd=J.OffscreenCanvasRenderingContext2D,N=J.onabort,H=J.onafterprint,$=J.onanimationend,ce=J.onanimationiteration,Oe=J.onanimationstart,$e=J.onappinstalled,Ct=J.onauxclick,jt=J.onbeforeinstallprompt,Ft=J.onbeforeprint,fn=J.onbeforeunload,en=J.onblur,Rn=J.oncancel,Wn=J.oncanplay,li=J.oncanplaythrough,Ci=J.onchange,Ki=J.onclick,gr=J.onclose,or=J.oncontextmenu,Wr=J.oncuechange,so=J.ondblclick,mo=J.ondevicemotion,zo=J.ondeviceorientation,Lr=J.ondeviceorientationabsolute,nr=J.ondrag,Zr=J.ondragend,ns=J.ondragenter,ir=J.ondragleave,zr=J.ondragover,ko=J.ondragstart,us=J.ondrop,as=J.ondurationchange,Ps=J.onemptied,Do=J.onended,zs=J.onerror,ls=J.onfocus,la=J.ongotpointercapture,Ia=J.onhashchange,Gd=J.oninput,kl=J.oninvalid,tc=J.onkeydown,gl=J.onkeypress,zc=J.onkeyup,La=J.onlanguagechange,Na=J.onload,Ll=J.onloadeddata,vl=J.onloadedmetadata,nc=J.onloadstart,tl=J.onlostpointercapture,Fa=J.onmessage,wa=J.onmessageerror,ja=J.onmousedown,js=J.onmouseenter,Sl=J.onmouseleave,nl=J.onmousemove,ic=J.onmouseout,go=J.onmouseover,ws=J.onmouseup,ao=J.onmousewheel,Qo=J.onoffline,_o=J.ononline,fa=J.onpagehide,Nl=J.onpageshow,rc=J.onpause,Tp=J.onplay,Ip=J.onplaying,xf=J.onpointercancel,zd=J.onpointerdown,Bf=J.onpointerenter,Uf=J.onpointerleave,oc=J.onpointermove,jc=J.onpointerout,zu=J.onpointerover,$c=J.onpointerup,wp=J.onpopstate,Vf=J.onprogress,ju=J.onratechange,Hf=J.onrejectionhandled,Wf=J.onreset,Dp=J.onresize,Tr=J.onscroll,Ap=J.onsearch,sc=J.onseeked,Gf=J.onseeking,jd=J.onselect,ac=J.onstalled,$d=J.onstorage,$u=J.onsubmit,Kc=J.onsuspend,Ku=J.ontimeupdate,zf=J.ontoggle,Jc=J.ontransitionend,jf=J.onunhandledrejection,Kd=J.onunload,$f=J.onvolumechange,Jd=J.onwaiting,Kf=J.onwheel,Jf=J.open,Yc=J.openDatabase,Op=J.opener,Yf=J.Option,Yd=J.origin,Xf=J.OscillatorNode,Ju=J.outerHeight,Yu=J.outerWidth,Xd=J.OverconstrainedError,Qd=J.PageTransitionEvent,Qf=J.pageXOffset,il=J.pageYOffset,Xu=J.PannerNode,Zf=J.parent,qf=J.Path2D,eh=J.PaymentAddress,yl=J.PaymentRequest,th=J.PaymentRequestUpdateEvent,nh=J.PaymentResponse,ih=J.performance,rh=J.Performance,oh=J.PerformanceEntry,sh=J.PerformanceLongTaskTiming,ah=J.PerformanceMark,Qu=J.PerformanceMeasure,lh=J.PerformanceNavigation,ch=J.PerformanceNavigationTiming,dh=J.PerformanceObserver,uh=J.PerformanceObserverEntryList,Zu=J.PerformancePaintTiming,Rp=J.PerformanceResourceTiming,ha=J.PerformanceTiming,fh=J.PeriodicWave,hh=J.Permissions,ph=J.PermissionStatus,mh=J.personalbar,_l=J.PhotoCapabilities,qu=J.Plugin,gh=J.PluginArray,vh=J.PointerEvent,Sh=J.PopStateEvent,yh=J.postMessage,Fl=J.Presentation,Mp=J.PresentationAvailability,ef=J.PresentationConnection,_h=J.PresentationConnectionAvailableEvent,tf=J.PresentationConnectionCloseEvent,Pp=J.PresentationConnectionList,bh=J.PresentationReceiver,Xc=J.PresentationRequest,Eh=J.print,nf=J.ProcessingInstruction,Zd=J.ProgressEvent,qd=J.PromiseRejectionEvent,Ch=J.prompt,eu=J.PushManager,lc=J.PushSubscription,rf=J.PushSubscriptionOptions,Th=J.queueMicrotask,of=J.RadioNodeList,sf=J.Range,xa=J.ReadableStream,Ba=J.registerProcessor,xl=J.RemotePlayback,af=J.removeEventListener,lf=J.Request,cc=J.requestAnimationFrame,bl=J.requestIdleCallback,rl=J.resizeBy,pa=J.ResizeObserver,tu=J.ResizeObserverEntry,Qc=J.resizeTo,nu=J.Response,cf=J.RTCCertificate,df=J.RTCDataChannel,uf=J.RTCDataChannelEvent,Ua=J.RTCDtlsTransport,Zc=J.RTCIceCandidate,iu=J.RTCIceGatherer,qc=J.RTCIceTransport,ed=J.RTCPeerConnection,ff=J.RTCPeerConnectionIceEvent,kp=J.RTCRtpContributingSource,Ih=J.RTCRtpReceiver,wh=J.RTCRtpSender,Dh=J.RTCSctpTransport,hf=J.RTCSessionDescription,dc=J.RTCStatsReport,ru=J.RTCTrackEvent,ou=J.screen,Lp=J.Screen,Ah=J.screenLeft,Oh=J.ScreenOrientation,Rh=J.screenTop,Mh=J.screenX,Ph=J.screenY,kh=J.ScriptProcessorNode,Lh=J.scroll,Nh=J.scrollbars,pf=J.scrollBy,Fh=J.scrollTo,Np=J.scrollX,xh=J.scrollY,Bh=J.SecurityPolicyViolationEvent,uc=J.Selection,fc=J.self,Qs=J.ServiceWorker,Uh=J.ServiceWorkerContainer,jr=J.ServiceWorkerRegistration,Vh=J.sessionStorage,mf=J.setInterval,Ks=J.setTimeout,Hh=J.ShadowRoot,su=J.SharedWorker,gf=J.SourceBuffer,hc=J.SourceBufferList,pc=J.speechSynthesis,mc=J.SpeechSynthesisEvent,gc=J.SpeechSynthesisUtterance,Bl=J.StaticRange,O=J.status,M=J.statusbar,W=J.StereoPannerNode,Y=J.stop,le=J.Storage,ue=J.StorageEvent,Se=J.StorageManager,Ee=J.styleMedia,je=J.StyleSheet,ut=J.StyleSheetList,at=J.SubtleCrypto,qe=J.SVGAElement,Ze=J.SVGAngle,Tt=J.SVGAnimatedAngle,Qt=J.SVGAnimatedBoolean,Mn=J.SVGAnimatedEnumeration,Gn=J.SVGAnimatedInteger,Pn=J.SVGAnimatedLength,ii=J.SVGAnimatedLengthList,Pi=J.SVGAnimatedNumber,zi=J.SVGAnimatedNumberList,Pr=J.SVGAnimatedPreserveAspectRatio,Or=J.SVGAnimatedRect,Yr=J.SVGAnimatedString,jo=J.SVGAnimatedTransformList,qr=J.SVGAnimateElement,$o=J.SVGAnimateMotionElement,_s=J.SVGAnimateTransformElement,ks=J.SVGAnimationElement,Da=J.SVGCircleElement,ma=J.SVGClipPathElement,Zs=J.SVGComponentTransferFunctionElement,qs=J.SVGDefsElement,Ds=J.SVGDescElement,$a=J.SVGDiscardElement,ca=J.SVGElement,Ul=J.SVGEllipseElement,ol=J.SVGFEBlendElement,Ka=J.SVGFEColorMatrixElement,ga=J.SVGFEComponentTransferElement,sl=J.SVGFECompositeElement,vc=J.SVGFEConvolveMatrixElement,ea=J.SVGFEDiffuseLightingElement,Vl=J.SVGFEDisplacementMapElement,Sc=J.SVGFEDistantLightElement,El=J.SVGFEDropShadowElement,yc=J.SVGFEFloodElement,_c=J.SVGFEFuncAElement,au=J.SVGFEFuncBElement,vf=J.SVGFEFuncGElement,bc=J.SVGFEFuncRElement,Sf=J.SVGFEGaussianBlurElement,lu=J.SVGFEImageElement,td=J.SVGFEMergeElement,Ec=J.SVGFEMergeNodeElement,cu=J.SVGFEMorphologyElement,nd=J.SVGFEOffsetElement,id=J.SVGFEPointLightElement,yf=J.SVGFESpecularLightingElement,Hl=J.SVGFESpotLightElement,rd=J.SVGFETileElement,Fp=J.SVGFETurbulenceElement,xp=J.SVGFilterElement,Bp=J.SVGForeignObjectElement,Up=J.SVGGElement,Vp=J.SVGGeometryElement,Hp=J.SVGGradientElement,Wp=J.SVGGraphicsElement,Gp=J.SVGImageElement,zp=J.SVGLength,jp=J.SVGLengthList,$p=J.SVGLinearGradientElement,Kp=J.SVGLineElement,Jp=J.SVGMarkerElement,Yp=J.SVGMaskElement,Xp=J.SVGMatrix,Qp=J.SVGMetadataElement,Zp=J.SVGMPathElement,qp=J.SVGNumber,em=J.SVGNumberList,tm=J.SVGPathElement,nm=J.SVGPatternElement,im=J.SVGPoint,rm=J.SVGPointList,om=J.SVGPolygonElement,sm=J.SVGPolylineElement,am=J.SVGPreserveAspectRatio,lm=J.SVGRadialGradientElement,Wm=J.SVGRect,Gm=J.SVGRectElement,zm=J.SVGScriptElement,jm=J.SVGSetElement,$m=J.SVGStopElement,Km=J.SVGStringList,Jm=J.SVGStyleElement,Ym=J.SVGSVGElement,Xm=J.SVGSwitchElement,Qm=J.SVGSymbolElement,Zm=J.SVGTextContentElement,qm=J.SVGTextElement,eg=J.SVGTextPathElement,tg=J.SVGTextPositioningElement,ng=J.SVGTitleElement,ig=J.SVGTransform,rg=J.SVGTransformList,og=J.SVGTSpanElement,sg=J.SVGUnitTypes,ag=J.SVGUseElement,lg=J.SVGViewElement,cg=J.TaskAttributionTiming,dg=J.Text,ug=J.TextDecoder,fg=J.TextEncoder,hg=J.TextEvent,pg=J.TextMetrics,mg=J.TextTrack,gg=J.TextTrackCue,vg=J.TextTrackCueList,Sg=J.TextTrackList,yg=J.TimeRanges,_g=J.toolbar,bg=J.top,Eg=J.Touch,Cg=J.TouchEvent,Tg=J.TouchList,Ig=J.TrackEvent,wg=J.TransitionEvent,Dg=J.TreeWalker,cm=J.trustedTypes,Ag=J.UIEvent,Og=J.URL,Rg=J.URLSearchParams,Mg=J.ValidityState,Pg=J.visualViewport,kg=J.VisualViewport,Lg=J.VTTCue,Ng=J.WaveShaperNode,Fg=J.WebAssembly,xg=J.WebGL2RenderingContext,Bg=J.WebGLActiveInfo,Ug=J.WebGLBuffer,Vg=J.WebGLContextEvent,Hg=J.WebGLFramebuffer,Wg=J.WebGLProgram,Gg=J.WebGLQuery,zg=J.WebGLRenderbuffer,jg=J.WebGLRenderingContext,$g=J.WebGLSampler,Kg=J.WebGLShader,Jg=J.WebGLShaderPrecisionFormat,Yg=J.WebGLSync,Xg=J.WebGLTexture,Qg=J.WebGLTransformFeedback,Zg=J.WebGLUniformLocation,qg=J.WebGLVertexArrayObject,ev=J.WebSocket,tv=J.WheelEvent,J=J.window,nv=J.Window,iv=J.Worker,rv=J.WritableStream,ov=J.XMLDocument,sv=J.XMLHttpRequest,av=J.XMLHttpRequestEventTarget,lv=J.XMLHttpRequestUpload,cv=J.XMLSerializer,dv=J.XPathEvaluator,uv=J.XPathExpression,fv=J.XPathResult,hv=J.XSLTProcessor;return function(Uo,vr){typeof a=="object"&&typeof s<"u"?vr(a,c(3134334389),c(9322124936)):(h=[a,c(3134334389),c(9322124936)],d=vr,m=typeof d=="function"?d.apply(a,h):d,m!==void 0&&(s.exports=m))}(this,function(Uo,vr,_f){"use strict";var Wh=n(()=>'<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',"resizeTriggersHtml");function ps(me,U){if(!(me instanceof U))throw new TypeError("Cannot call a class as a function")}n(ps,"_classCallCheck");function Gh(me,U){for(var G=0;G<U.length;G++){var te=U[G];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(me,te.key,te)}}n(Gh,"_defineProperties");function bs(me,U,G){return U&&Gh(me.prototype,U),G&&Gh(me,G),me}n(bs,"_createClass");function an(me,U,G){return U in me?Object.defineProperty(me,U,{value:G,enumerable:!0,configurable:!0,writable:!0}):me[U]=G,me}n(an,"_defineProperty");function Va(){return(Va=Object.assign||function(me){for(var U=1;U<arguments.length;U++){var G=arguments[U];for(var te in G)Object.prototype.hasOwnProperty.call(G,te)&&(me[te]=G[te])}return me}).apply(this,arguments)}n(Va,"_extends");function zh(me,U){var G=Object.keys(me);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(me);U&&(te=te.filter(function(Te){return Object.getOwnPropertyDescriptor(me,Te).enumerable})),G.push.apply(G,te)}return G}n(zh,"ownKeys");function bo(me){for(var U=1;U<arguments.length;U++){var G=arguments[U]!=null?arguments[U]:{};U%2?zh(G,!0).forEach(function(te){an(me,te,G[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(G)):zh(G).forEach(function(te){Object.defineProperty(me,te,Object.getOwnPropertyDescriptor(G,te))})}return me}n(bo,"_objectSpread2");function ta(me,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(U&&U.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),U&&jh(me,U)}n(ta,"_inherits");function Js(me){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(me)}n(Js,"_getPrototypeOf");function jh(me,U){return(jh=Object.setPrototypeOf||function(G,te){return G.__proto__=te,G})(me,U)}n(jh,"_setPrototypeOf");function od(me,U){if(me==null)return{};var G,te,Te=function(Ie,ze){if(Ie==null)return{};var dt,ot,Dt={},Jt=Object.keys(Ie);for(ot=0;ot<Jt.length;ot++)dt=Jt[ot],0<=ze.indexOf(dt)||(Dt[dt]=Ie[dt]);return Dt}(me,U);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(me);for(te=0;te<Re.length;te++)G=Re[te],0<=U.indexOf(G)||Object.prototype.propertyIsEnumerable.call(me,G)&&(Te[G]=me[G])}return Te}n(od,"_objectWithoutProperties");function Bn(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}n(Bn,"_assertThisInitialized");function na(me,U){return!U||typeof U!="object"&&typeof U!="function"?Bn(me):U}n(na,"_possibleConstructorReturn");function dm(me,U){return function(G){if(Array.isArray(G))return G}(me)||function(G,te){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]"){var Te=[],Re=!0,Ie=!1,ze=void 0;try{for(var dt,ot=G[Symbol.iterator]();!(Re=(dt=ot.next()).done)&&(Te.push(dt.value),!te||Te.length!==te);Re=!0);}catch(Dt){Ie=!0,ze=Dt}finally{try{Re||ot.return==null||ot.return()}finally{if(Ie)throw ze}}return Te}}(me,U)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n(dm,"_slicedToArray");function um(me){return function(U){if(Array.isArray(U)){for(var G=0,te=new Array(U.length);G<U.length;G++)te[G]=U[G];return te}}(me)||function(U){if(Symbol.iterator in Object(U)||Object.prototype.toString.call(U)==="[object Arguments]")return Array.from(U)}(me)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(um,"_toConsumableArray");function $h(){var me=this.constructor.getDerivedStateFromProps(this.props,this.state);me!=null&&this.setState(me)}n($h,"componentWillMount");function Ir(me){this.setState(function(U){var G=this.constructor.getDerivedStateFromProps(me,U);return G??null}.bind(this))}n(Ir,"componentWillReceiveProps");function Kh(me,U){try{var G=this.props,te=this.state;this.props=me,this.state=U,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(G,te)}finally{this.props=G,this.state=te}}n(Kh,"componentWillUpdate");function sd(me){var U=me.prototype;if(!U||!U.isReactComponent)throw new Error("Can only polyfill class components");if(typeof me.getDerivedStateFromProps!="function"&&typeof U.getSnapshotBeforeUpdate!="function")return me;var G=null,te=null,Te=null;if(typeof U.componentWillMount=="function"?G="componentWillMount":typeof U.UNSAFE_componentWillMount=="function"&&(G="UNSAFE_componentWillMount"),typeof U.componentWillReceiveProps=="function"?te="componentWillReceiveProps":typeof U.UNSAFE_componentWillReceiveProps=="function"&&(te="UNSAFE_componentWillReceiveProps"),typeof U.componentWillUpdate=="function"?Te="componentWillUpdate":typeof U.UNSAFE_componentWillUpdate=="function"&&(Te="UNSAFE_componentWillUpdate"),G!==null||te!==null||Te!==null){var Re=me.displayName||me.name,Ie=typeof me.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+Re+" uses "+Ie+" but also contains the following legacy lifecycles:"+(G!==null?`
  `+G:"")+(te!==null?`
  `+te:"")+(Te!==null?`
  `+Te:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof me.getDerivedStateFromProps=="function"&&(U.componentWillMount=$h,U.componentWillReceiveProps=Ir),typeof U.getSnapshotBeforeUpdate=="function"){if(typeof U.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");U.componentWillUpdate=Kh;var ze=U.componentDidUpdate;U.componentDidUpdate=function(dt,ot,Dt){var Jt=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Dt;ze.call(this,dt,ot,Jt)}}return me}n(sd,"polyfill"),Kh.__suppressDeprecationWarning=Ir.__suppressDeprecationWarning=$h.__suppressDeprecationWarning=!0;var bf=function(){function me(){var U,G;ps(this,me);for(var te=arguments.length,Te=new Array(te),Re=0;Re<te;Re++)Te[Re]=arguments[Re];return an(Bn(G=na(this,(U=Js(me)).call.apply(U,[this].concat(Te)))),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),an(Bn(G),"_columnStartIndex",0),an(Bn(G),"_columnStopIndex",0),an(Bn(G),"_rowStartIndex",0),an(Bn(G),"_rowStopIndex",0),an(Bn(G),"_onKeyDown",function(Ie){var ze=G.props,dt=ze.columnCount,ot=ze.disabled,Dt=ze.mode,Jt=ze.rowCount;if(!ot){var rn=G._getScrollState(),y=rn.scrollToColumn,C=rn.scrollToRow,D=G._getScrollState(),k=D.scrollToColumn,j=D.scrollToRow;switch(Ie.key){case"ArrowDown":j=Math.min(Dt==="cells"?j+1:G._rowStopIndex+1,Jt-1);break;case"ArrowLeft":k=Math.max(Dt==="cells"?k-1:G._columnStartIndex-1,0);break;case"ArrowRight":k=Math.min(Dt==="cells"?k+1:G._columnStopIndex+1,dt-1);break;case"ArrowUp":j=Math.max(Dt==="cells"?j-1:G._rowStartIndex-1,0)}k===y&&j===C||(Ie.preventDefault(),G._updateScrollState({scrollToColumn:k,scrollToRow:j}))}}),an(Bn(G),"_onSectionRendered",function(Ie){var ze=Ie.columnStartIndex,dt=Ie.columnStopIndex,ot=Ie.rowStartIndex,Dt=Ie.rowStopIndex;G._columnStartIndex=ze,G._columnStopIndex=dt,G._rowStartIndex=ot,G._rowStopIndex=Dt}),G}return n(me,"ArrowKeyStepper"),ta(me,vr.PureComponent),bs(me,[{key:"setScrollIndexes",value:function(U){var G=U.scrollToColumn,te=U.scrollToRow;this.setState({scrollToRow:te,scrollToColumn:G})}},{key:"render",value:function(){var U=this.props,G=U.className,te=U.children,Te=this._getScrollState(),Re=Te.scrollToColumn,Ie=Te.scrollToRow;return vr.createElement("div",{className:G,onKeyDown:this._onKeyDown},te({onSectionRendered:this._onSectionRendered,scrollToColumn:Re,scrollToRow:Ie}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(U){var G=U.scrollToColumn,te=U.scrollToRow,Te=this.props,Re=Te.isControlled,Ie=Te.onScrollToChange;typeof Ie=="function"&&Ie({scrollToColumn:G,scrollToRow:te}),Re||this.setState({scrollToColumn:G,scrollToRow:te})}}],[{key:"getDerivedStateFromProps",value:function(U,G){return U.isControlled?{}:U.scrollToColumn!==G.instanceProps.prevScrollToColumn||U.scrollToRow!==G.instanceProps.prevScrollToRow?bo({},G,{scrollToColumn:U.scrollToColumn,scrollToRow:U.scrollToRow,instanceProps:{prevScrollToColumn:U.scrollToColumn,prevScrollToRow:U.scrollToRow}}):{}}}]),me}();function Jh(me,U){var G,te,Te,Re=(G=U!==void 0?U:typeof J<"u"?J:typeof fc<"u"?fc:c.g).document!==void 0&&G.document.attachEvent;if(!Re){var Ie=(Te=G.requestAnimationFrame||G.mozRequestAnimationFrame||G.webkitRequestAnimationFrame||function(Le){return G.setTimeout(Le,20)},function(Le){return Te(Le)}),ze=(te=G.cancelAnimationFrame||G.mozCancelAnimationFrame||G.webkitCancelAnimationFrame||G.clearTimeout,function(Le){return te(Le)}),dt=n(function(Le){var Qe=Le.__resizeTriggers__,We=Qe.firstElementChild,Pt=Qe.lastElementChild,Nt=We.firstElementChild;Pt.scrollLeft=Pt.scrollWidth,Pt.scrollTop=Pt.scrollHeight,Nt.style.width=We.offsetWidth+1+"px",Nt.style.height=We.offsetHeight+1+"px",We.scrollLeft=We.scrollWidth,We.scrollTop=We.scrollHeight},"resetTriggers"),ot=n(function(Le){if(!(Le.target.className&&typeof Le.target.className.indexOf=="function"&&Le.target.className.indexOf("contract-trigger")<0&&Le.target.className.indexOf("expand-trigger")<0)){var Qe=this;dt(this),this.__resizeRAF__&&ze(this.__resizeRAF__),this.__resizeRAF__=Ie(function(){!function(We){return We.offsetWidth!=We.__resizeLast__.width||We.offsetHeight!=We.__resizeLast__.height}(Qe)||(Qe.__resizeLast__.width=Qe.offsetWidth,Qe.__resizeLast__.height=Qe.offsetHeight,Qe.__resizeListeners__.forEach(function(We){We.call(Qe,Le)}))})}},"scrollListener"),Dt=!1,Jt="",rn="animationstart",y="Webkit Moz O ms".split(" "),C="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),D=G.document.createElement("fakeelement");if(D.style.animationName!==void 0&&(Dt=!0),Dt===!1){for(var k=0;k<y.length;k++)if(D.style[y[k]+"AnimationName"]!==void 0){Jt="-"+y[k].toLowerCase()+"-",rn=C[k],Dt=!0;break}}var j="resizeanim",ie="@"+Jt+"keyframes "+j+" { from { opacity: 0; } to { opacity: 0; } } ",De=Jt+"animation: 1ms "+j+"; "}return{addResizeListener:function(Le,Qe){if(Re)Le.attachEvent("onresize",Qe);else{if(!Le.__resizeTriggers__){var We=Le.ownerDocument,Pt=G.getComputedStyle(Le);if(Pt&&Pt.position=="static"&&(Le.style.position="relative"),function(tn){if(!tn.getElementById("detectElementResize")){var ln=(ie||"")+".resize-triggers { "+(De||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',qn=tn.head||tn.getElementsByTagName("head")[0],Fi=tn.createElement("style");Fi.id="detectElementResize",Fi.type="text/css",me!=null&&Fi.setAttribute("nonce",me),Fi.styleSheet?Fi.styleSheet.cssText=ln:Fi.appendChild(tn.createTextNode(ln)),qn.appendChild(Fi)}}(We),Le.__resizeLast__={},Le.__resizeListeners__=[],(Le.__resizeTriggers__=We.createElement("div")).className="resize-triggers",J.trustedTypes){var Nt=cm.createPolicy("react-virtualized-auto-sizer",{createHTML:Wh});Le.__resizeTriggers__.innerHTML=Nt.createHTML("")}else Le.__resizeTriggers__.innerHTML=Wh();Le.appendChild(Le.__resizeTriggers__),dt(Le),Le.addEventListener("scroll",ot,!0),rn&&(Le.__resizeTriggers__.__animationListener__=function(tn){tn.animationName==j&&dt(Le)},Le.__resizeTriggers__.addEventListener(rn,Le.__resizeTriggers__.__animationListener__))}Le.__resizeListeners__.push(Qe)}},removeResizeListener:function(Le,Qe){if(Re)Le.detachEvent("onresize",Qe);else if(Le.__resizeListeners__.splice(Le.__resizeListeners__.indexOf(Qe),1),!Le.__resizeListeners__.length){Le.removeEventListener("scroll",ot,!0),Le.__resizeTriggers__.__animationListener__&&(Le.__resizeTriggers__.removeEventListener(rn,Le.__resizeTriggers__.__animationListener__),Le.__resizeTriggers__.__animationListener__=null);try{Le.__resizeTriggers__=!Le.removeChild(Le.__resizeTriggers__)}catch{}}}}}n(Jh,"createDetectElementResize"),an(bf,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),sd(bf);var Yh=function(){function me(){var U,G;ps(this,me);for(var te=arguments.length,Te=new Array(te),Re=0;Re<te;Re++)Te[Re]=arguments[Re];return an(Bn(G=na(this,(U=Js(me)).call.apply(U,[this].concat(Te)))),"state",{height:G.props.defaultHeight||0,width:G.props.defaultWidth||0}),an(Bn(G),"_parentNode",void 0),an(Bn(G),"_autoSizer",void 0),an(Bn(G),"_window",void 0),an(Bn(G),"_detectElementResize",void 0),an(Bn(G),"_onResize",function(){var Ie=G.props,ze=Ie.disableHeight,dt=Ie.disableWidth,ot=Ie.onResize;if(G._parentNode){var Dt=G._parentNode.offsetHeight||0,Jt=G._parentNode.offsetWidth||0,rn=(G._window||J).getComputedStyle(G._parentNode)||{},y=parseInt(rn.paddingLeft,10)||0,C=parseInt(rn.paddingRight,10)||0,D=parseInt(rn.paddingTop,10)||0,k=parseInt(rn.paddingBottom,10)||0,j=Dt-D-k,ie=Jt-y-C;(!ze&&G.state.height!==j||!dt&&G.state.width!==ie)&&(G.setState({height:Dt-D-k,width:Jt-y-C}),ot({height:Dt,width:Jt}))}}),an(Bn(G),"_setRef",function(Ie){G._autoSizer=Ie}),G}return n(me,"AutoSizer"),ta(me,vr.Component),bs(me,[{key:"componentDidMount",value:function(){var U=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Jh(U,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var U=this.props,G=U.children,te=U.className,Te=U.disableHeight,Re=U.disableWidth,Ie=U.style,ze=this.state,dt=ze.height,ot=ze.width,Dt={overflow:"visible"},Jt={};return Te||(Dt.height=0,Jt.height=dt),Re||(Dt.width=0,Jt.width=ot),vr.createElement("div",{className:te,ref:this._setRef,style:bo({},Dt,{},Ie)},G(Jt))}}]),me}();an(Yh,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var Ef=function(){function me(){var U,G;ps(this,me);for(var te=arguments.length,Te=new Array(te),Re=0;Re<te;Re++)Te[Re]=arguments[Re];return an(Bn(G=na(this,(U=Js(me)).call.apply(U,[this].concat(Te)))),"_child",void 0),an(Bn(G),"_measure",function(){var Ie=G.props,ze=Ie.cache,dt=Ie.columnIndex,ot=dt===void 0?0:dt,Dt=Ie.parent,Jt=Ie.rowIndex,rn=Jt===void 0?G.props.index||0:Jt,y=G._getCellMeasurements(),C=y.height,D=y.width;C===ze.getHeight(rn,ot)&&D===ze.getWidth(rn,ot)||(ze.set(rn,ot,D,C),Dt&&typeof Dt.recomputeGridSize=="function"&&Dt.recomputeGridSize({columnIndex:ot,rowIndex:rn}))}),an(Bn(G),"_registerChild",function(Ie){!Ie||Ie instanceof uo||Wt.warn("CellMeasurer registerChild expects to be passed Element or null"),(G._child=Ie)&&G._maybeMeasureCell()}),G}return n(me,"CellMeasurer"),ta(me,vr.PureComponent),bs(me,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var U=this.props.children;return typeof U=="function"?U({measure:this._measure,registerChild:this._registerChild}):U}},{key:"_getCellMeasurements",value:function(){var U=this.props.cache,G=this._child||_f.findDOMNode(this);if(G&&G.ownerDocument&&G.ownerDocument.defaultView&&G instanceof G.ownerDocument.defaultView.HTMLElement){var te=G.style.width,Te=G.style.height;U.hasFixedWidth()||(G.style.width="auto"),U.hasFixedHeight()||(G.style.height="auto");var Re=Math.ceil(G.offsetHeight),Ie=Math.ceil(G.offsetWidth);return te&&(G.style.width=te),Te&&(G.style.height=Te),{height:Re,width:Ie}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var U=this.props,G=U.cache,te=U.columnIndex,Te=te===void 0?0:te,Re=U.parent,Ie=U.rowIndex,ze=Ie===void 0?this.props.index||0:Ie;if(!G.has(ze,Te)){var dt=this._getCellMeasurements(),ot=dt.height,Dt=dt.width;G.set(ze,Te,Dt,ot),Re&&typeof Re.invalidateCellSizeAfterRender=="function"&&Re.invalidateCellSizeAfterRender({columnIndex:Te,rowIndex:ze})}}}]),me}();an(Ef,"__internalCellMeasurerFlag",!1),Ef.__internalCellMeasurerFlag=!0;var fm=function(){function me(){var U=this,G=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};ps(this,me),an(this,"_cellHeightCache",{}),an(this,"_cellWidthCache",{}),an(this,"_columnWidthCache",{}),an(this,"_rowHeightCache",{}),an(this,"_defaultHeight",void 0),an(this,"_defaultWidth",void 0),an(this,"_minHeight",void 0),an(this,"_minWidth",void 0),an(this,"_keyMapper",void 0),an(this,"_hasFixedHeight",void 0),an(this,"_hasFixedWidth",void 0),an(this,"_columnCount",0),an(this,"_rowCount",0),an(this,"columnWidth",function(Dt){var Jt=Dt.index,rn=U._keyMapper(0,Jt);return U._columnWidthCache[rn]!==void 0?U._columnWidthCache[rn]:U._defaultWidth}),an(this,"rowHeight",function(Dt){var Jt=Dt.index,rn=U._keyMapper(Jt,0);return U._rowHeightCache[rn]!==void 0?U._rowHeightCache[rn]:U._defaultHeight});var te=G.defaultHeight,Te=G.defaultWidth,Re=G.fixedHeight,Ie=G.fixedWidth,ze=G.keyMapper,dt=G.minHeight,ot=G.minWidth;this._hasFixedHeight=Re===!0,this._hasFixedWidth=Ie===!0,this._minHeight=dt||0,this._minWidth=ot||0,this._keyMapper=ze||hm,this._defaultHeight=Math.max(this._minHeight,typeof te=="number"?te:30),this._defaultWidth=Math.max(this._minWidth,typeof Te=="number"?Te:100),this._hasFixedHeight===!1&&this._hasFixedWidth===!1&&Wt.warn("CellMeasurerCache should only measure a cell's width or height. You have configured CellMeasurerCache to measure both. This will result in poor performance."),this._hasFixedHeight===!1&&this._defaultHeight===0&&Wt.warn("Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. Failing to do so will lead to unnecessary layout and poor performance."),this._hasFixedWidth===!1&&this._defaultWidth===0&&Wt.warn("Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. Failing to do so will lead to unnecessary layout and poor performance.")}return n(me,"CellMeasurerCache"),bs(me,[{key:"clear",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:0,Te=this._keyMapper(U,te);delete this._cellHeightCache[Te],delete this._cellWidthCache[Te],this._updateCachedColumnAndRowSizes(U,te)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:0;if(this._hasFixedHeight)return this._defaultHeight;var Te=this._keyMapper(U,te);return this._cellHeightCache[Te]!==void 0?Math.max(this._minHeight,this._cellHeightCache[Te]):this._defaultHeight}},{key:"getWidth",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:0;if(this._hasFixedWidth)return this._defaultWidth;var Te=this._keyMapper(U,te);return this._cellWidthCache[Te]!==void 0?Math.max(this._minWidth,this._cellWidthCache[Te]):this._defaultWidth}},{key:"has",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:0,Te=this._keyMapper(U,te);return this._cellHeightCache[Te]!==void 0}},{key:"set",value:function(U,G,te,Te){var Re=this._keyMapper(U,G);G>=this._columnCount&&(this._columnCount=G+1),U>=this._rowCount&&(this._rowCount=U+1),this._cellHeightCache[Re]=Te,this._cellWidthCache[Re]=te,this._updateCachedColumnAndRowSizes(U,G)}},{key:"_updateCachedColumnAndRowSizes",value:function(U,G){if(!this._hasFixedWidth){for(var te=0,Te=0;Te<this._rowCount;Te++)te=Math.max(te,this.getWidth(Te,G));var Re=this._keyMapper(0,G);this._columnWidthCache[Re]=te}if(!this._hasFixedHeight){for(var Ie=0,ze=0;ze<this._columnCount;ze++)Ie=Math.max(Ie,this.getHeight(U,ze));var dt=this._keyMapper(U,0);this._rowHeightCache[dt]=Ie}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),me}();function hm(me,U){return"".concat(me,"-").concat(U)}n(hm,"defaultKeyMapper");function Xh(me){return me&&me.__esModule&&Object.prototype.hasOwnProperty.call(me,"default")?me.default:me}n(Xh,"unwrapExports");function du(me,U){return me(U={exports:{}},U.exports),U.exports}n(du,"createCommonjsModule");var Vo=du(function(me,U){Object.defineProperty(U,"__esModule",{value:!0});var G=typeof Symbol=="function"&&Symbol.for,te=G?Symbol.for("react.element"):60103,Te=G?Symbol.for("react.portal"):60106,Re=G?Symbol.for("react.fragment"):60107,Ie=G?Symbol.for("react.strict_mode"):60108,ze=G?Symbol.for("react.profiler"):60114,dt=G?Symbol.for("react.provider"):60109,ot=G?Symbol.for("react.context"):60110,Dt=G?Symbol.for("react.async_mode"):60111,Jt=G?Symbol.for("react.concurrent_mode"):60111,rn=G?Symbol.for("react.forward_ref"):60112,y=G?Symbol.for("react.suspense"):60113,C=G?Symbol.for("react.suspense_list"):60120,D=G?Symbol.for("react.memo"):60115,k=G?Symbol.for("react.lazy"):60116,j=G?Symbol.for("react.fundamental"):60117,ie=G?Symbol.for("react.responder"):60118,De=G?Symbol.for("react.scope"):60119;function Le(We){if(typeof We=="object"&&We!==null){var Pt=We.$$typeof;switch(Pt){case te:switch(We=We.type){case Dt:case Jt:case Re:case ze:case Ie:case y:return We;default:switch(We=We&&We.$$typeof){case ot:case rn:case dt:return We;default:return Pt}}case k:case D:case Te:return Pt}}}n(Le,"y");function Qe(We){return Le(We)===Jt}n(Qe,"z"),U.typeOf=Le,U.AsyncMode=Dt,U.ConcurrentMode=Jt,U.ContextConsumer=ot,U.ContextProvider=dt,U.Element=te,U.ForwardRef=rn,U.Fragment=Re,U.Lazy=k,U.Memo=D,U.Portal=Te,U.Profiler=ze,U.StrictMode=Ie,U.Suspense=y,U.isValidElementType=function(We){return typeof We=="string"||typeof We=="function"||We===Re||We===Jt||We===ze||We===Ie||We===y||We===C||typeof We=="object"&&We!==null&&(We.$$typeof===k||We.$$typeof===D||We.$$typeof===dt||We.$$typeof===ot||We.$$typeof===rn||We.$$typeof===j||We.$$typeof===ie||We.$$typeof===De)},U.isAsyncMode=function(We){return Qe(We)||Le(We)===Dt},U.isConcurrentMode=Qe,U.isContextConsumer=function(We){return Le(We)===ot},U.isContextProvider=function(We){return Le(We)===dt},U.isElement=function(We){return typeof We=="object"&&We!==null&&We.$$typeof===te},U.isForwardRef=function(We){return Le(We)===rn},U.isFragment=function(We){return Le(We)===Re},U.isLazy=function(We){return Le(We)===k},U.isMemo=function(We){return Le(We)===D},U.isPortal=function(We){return Le(We)===Te},U.isProfiler=function(We){return Le(We)===ze},U.isStrictMode=function(We){return Le(We)===Ie},U.isSuspense=function(We){return Le(We)===y}});Xh(Vo),Vo.typeOf,Vo.AsyncMode,Vo.ConcurrentMode,Vo.ContextConsumer,Vo.ContextProvider,Vo.Element,Vo.ForwardRef,Vo.Fragment,Vo.Lazy,Vo.Memo,Vo.Portal,Vo.Profiler,Vo.StrictMode,Vo.Suspense,Vo.isValidElementType,Vo.isAsyncMode,Vo.isConcurrentMode,Vo.isContextConsumer,Vo.isContextProvider,Vo.isElement,Vo.isForwardRef,Vo.isFragment,Vo.isLazy,Vo.isMemo,Vo.isPortal,Vo.isProfiler,Vo.isStrictMode,Vo.isSuspense;var Lo=du(function(me,U){(function(){Object.defineProperty(U,"__esModule",{value:!0});var G=typeof Symbol=="function"&&Symbol.for,te=G?Symbol.for("react.element"):60103,Te=G?Symbol.for("react.portal"):60106,Re=G?Symbol.for("react.fragment"):60107,Ie=G?Symbol.for("react.strict_mode"):60108,ze=G?Symbol.for("react.profiler"):60114,dt=G?Symbol.for("react.provider"):60109,ot=G?Symbol.for("react.context"):60110,Dt=G?Symbol.for("react.async_mode"):60111,Jt=G?Symbol.for("react.concurrent_mode"):60111,rn=G?Symbol.for("react.forward_ref"):60112,y=G?Symbol.for("react.suspense"):60113,C=G?Symbol.for("react.suspense_list"):60120,D=G?Symbol.for("react.memo"):60115,k=G?Symbol.for("react.lazy"):60116,j=G?Symbol.for("react.fundamental"):60117,ie=G?Symbol.for("react.responder"):60118,De=G?Symbol.for("react.scope"):60119,Le=n(function(wr,Mu){if(Mu===void 0)throw new Error("`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning message argument");if(!wr){for(var Pc=arguments.length,Rf=new Array(2<Pc?Pc-2:0),lp=2;lp<Pc;lp++)Rf[lp-2]=arguments[lp];(function(eS){for(var Cm=arguments.length,pv=new Array(1<Cm?Cm-1:0),cp=1;cp<Cm;cp++)pv[cp-1]=arguments[cp];var tS=0,mv="Warning: "+eS.replace(/%s/g,function(){return pv[tS++]});typeof Wt<"u"&&Wt.warn(mv);try{throw new Error(mv)}catch{}}).apply(void 0,[Mu].concat(Rf))}},"lowPriorityWarningWithoutStack$1");function Qe(wr){if(typeof wr=="object"&&wr!==null){var Mu=wr.$$typeof;switch(Mu){case te:var Pc=wr.type;switch(Pc){case Dt:case Jt:case Re:case ze:case Ie:case y:return Pc;default:var Rf=Pc&&Pc.$$typeof;switch(Rf){case ot:case rn:case dt:return Rf;default:return Mu}}case k:case D:case Te:return Mu}}}n(Qe,"typeOf");var We=Dt,Pt=Jt,Nt=ot,tn=dt,ln=te,qn=rn,Fi=Re,ci=k,dr=D,kr=Te,Es=ze,rs=Ie,Ma=y,Wa=!1;function Ru(wr){return Qe(wr)===Jt}n(Ru,"isConcurrentMode"),U.typeOf=Qe,U.AsyncMode=We,U.ConcurrentMode=Pt,U.ContextConsumer=Nt,U.ContextProvider=tn,U.Element=ln,U.ForwardRef=qn,U.Fragment=Fi,U.Lazy=ci,U.Memo=dr,U.Portal=kr,U.Profiler=Es,U.StrictMode=rs,U.Suspense=Ma,U.isValidElementType=function(wr){return typeof wr=="string"||typeof wr=="function"||wr===Re||wr===Jt||wr===ze||wr===Ie||wr===y||wr===C||typeof wr=="object"&&wr!==null&&(wr.$$typeof===k||wr.$$typeof===D||wr.$$typeof===dt||wr.$$typeof===ot||wr.$$typeof===rn||wr.$$typeof===j||wr.$$typeof===ie||wr.$$typeof===De)},U.isAsyncMode=function(wr){return Wa||Le(!(Wa=!0),"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."),Ru(wr)||Qe(wr)===Dt},U.isConcurrentMode=Ru,U.isContextConsumer=function(wr){return Qe(wr)===ot},U.isContextProvider=function(wr){return Qe(wr)===dt},U.isElement=function(wr){return typeof wr=="object"&&wr!==null&&wr.$$typeof===te},U.isForwardRef=function(wr){return Qe(wr)===rn},U.isFragment=function(wr){return Qe(wr)===Re},U.isLazy=function(wr){return Qe(wr)===k},U.isMemo=function(wr){return Qe(wr)===D},U.isPortal=function(wr){return Qe(wr)===Te},U.isProfiler=function(wr){return Qe(wr)===ze},U.isStrictMode=function(wr){return Qe(wr)===Ie},U.isSuspense=function(wr){return Qe(wr)===y}})()});Xh(Lo),Lo.typeOf,Lo.AsyncMode,Lo.ConcurrentMode,Lo.ContextConsumer,Lo.ContextProvider,Lo.Element,Lo.ForwardRef,Lo.Fragment,Lo.Lazy,Lo.Memo,Lo.Portal,Lo.Profiler,Lo.StrictMode,Lo.Suspense,Lo.isValidElementType,Lo.isAsyncMode,Lo.isConcurrentMode,Lo.isContextConsumer,Lo.isContextProvider,Lo.isElement,Lo.isForwardRef,Lo.isFragment,Lo.isLazy,Lo.isMemo,Lo.isPortal,Lo.isProfiler,Lo.isStrictMode,Lo.isSuspense;var Qh=du(function(me){me.exports=Lo}),Zh=Object.getOwnPropertySymbols,pm=Object.prototype.hasOwnProperty,qh=Object.prototype.propertyIsEnumerable,Cf,mm=function(){try{if(!Object.assign)return!1;var me=new String("abc");if(me[5]="de",Object.getOwnPropertyNames(me)[0]==="5")return!1;for(var U={},G=0;G<10;G++)U["_"+String.fromCharCode(G)]=G;if(Object.getOwnPropertyNames(U).map(function(Te){return U[Te]}).join("")!=="0123456789")return!1;var te={};return"abcdefghijklmnopqrst".split("").forEach(function(Te){te[Te]=Te}),Object.keys(Object.assign({},te)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(me,U){for(var G,te,Te=function(dt){if(dt==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(dt)}(me),Re=1;Re<arguments.length;Re++){for(var Ie in G=Object(arguments[Re]))pm.call(G,Ie)&&(Te[Ie]=G[Ie]);if(Zh){te=Zh(G);for(var ze=0;ze<te.length;ze++)qh.call(G,te[ze])&&(Te[te[ze]]=G[te[ze]])}}return Te},Cc="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tf={},ep=Function.call.bind(Object.prototype.hasOwnProperty);function tp(me,U,G,te,Te){for(var Re in me)if(ep(me,Re)){var Ie;try{if(typeof me[Re]!="function"){var ze=Error((te||"React class")+": "+G+" type `"+Re+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof me[Re]+"`.");throw ze.name="Invariant Violation",ze}Ie=me[Re](U,Re,te,G,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ot){Ie=ot}if(!Ie||Ie instanceof Error||Cf((te||"React class")+": type specification of "+G+" `"+Re+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof Ie+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),Ie instanceof Error&&!(Ie.message in Tf)){Tf[Ie.message]=!0;var dt=Te?Te():"";Cf("Failed "+G+" type: "+Ie.message+(dt??""))}}}n(tp,"checkPropTypes"),Cf=n(function(me){var U="Warning: "+me;typeof Wt<"u"&&Wt.error(U);try{throw new Error(U)}catch{}},"printWarning"),tp.resetWarningCache=function(){Tf={}};var ad,uu=tp,np=Function.call.bind(Object.prototype.hasOwnProperty);function Tc(){return null}n(Tc,"emptyFunctionThatReturnsNull"),ad=n(function(me){var U="Warning: "+me;typeof Wt<"u"&&Wt.error(U);try{throw new Error(U)}catch{}},"printWarning$1");function If(me,U){var G=typeof Symbol=="function"&&Symbol.iterator,te="@@iterator",Te="<<anonymous>>",Re={array:ot("array"),bool:ot("boolean"),func:ot("function"),number:ot("number"),object:ot("object"),string:ot("string"),symbol:ot("symbol"),any:dt(Tc),arrayOf:function(C){return dt(function(D,k,j,ie,De){if(typeof C!="function")return new ze("Property `"+De+"` of component `"+j+"` has invalid PropType notation inside arrayOf.");var Le=D[k];if(!Array.isArray(Le))return new ze("Invalid "+ie+" `"+De+"` of type `"+Jt(Le)+"` supplied to `"+j+"`, expected an array.");for(var Qe=0;Qe<Le.length;Qe++){var We=C(Le,Qe,j,ie,De+"["+Qe+"]",Cc);if(We instanceof Error)return We}return null})},element:dt(function(C,D,k,j,ie){var De=C[D];return me(De)?null:new ze("Invalid "+j+" `"+ie+"` of type `"+Jt(De)+"` supplied to `"+k+"`, expected a single ReactElement.")}),elementType:dt(function(C,D,k,j,ie){var De=C[D];return Qh.isValidElementType(De)?null:new ze("Invalid "+j+" `"+ie+"` of type `"+Jt(De)+"` supplied to `"+k+"`, expected a single ReactElement type.")}),instanceOf:function(C){return dt(function(D,k,j,ie,De){if(D[k]instanceof C)return null;var Le=C.name||Te;return new ze("Invalid "+ie+" `"+De+"` of type `"+function(Qe){return Qe.constructor&&Qe.constructor.name?Qe.constructor.name:Te}(D[k])+"` supplied to `"+j+"`, expected instance of `"+Le+"`.")})},node:dt(function(C,D,k,j,ie){return Dt(C[D])?null:new ze("Invalid "+j+" `"+ie+"` supplied to `"+k+"`, expected a ReactNode.")}),objectOf:function(C){return dt(function(D,k,j,ie,De){if(typeof C!="function")return new ze("Property `"+De+"` of component `"+j+"` has invalid PropType notation inside objectOf.");var Le=D[k],Qe=Jt(Le);if(Qe!=="object")return new ze("Invalid "+ie+" `"+De+"` of type `"+Qe+"` supplied to `"+j+"`, expected an object.");for(var We in Le)if(np(Le,We)){var Pt=C(Le,We,j,ie,De+"."+We,Cc);if(Pt instanceof Error)return Pt}return null})},oneOf:function(C){return Array.isArray(C)?dt(function(D,k,j,ie,De){for(var Le=D[k],Qe=0;Qe<C.length;Qe++)if(Ie(Le,C[Qe]))return null;var We=JSON.stringify(C,function(Pt,Nt){return rn(Nt)==="symbol"?String(Nt):Nt});return new ze("Invalid "+ie+" `"+De+"` of value `"+String(Le)+"` supplied to `"+j+"`, expected one of "+We+".")}):(ad(1<arguments.length?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),Tc)},oneOfType:function(C){if(!Array.isArray(C))return ad("Invalid argument supplied to oneOfType, expected an instance of array."),Tc;for(var D=0;D<C.length;D++){var k=C[D];if(typeof k!="function")return ad("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+y(k)+" at index "+D+"."),Tc}return dt(function(j,ie,De,Le,Qe){for(var We=0;We<C.length;We++)if((0,C[We])(j,ie,De,Le,Qe,Cc)==null)return null;return new ze("Invalid "+Le+" `"+Qe+"` supplied to `"+De+"`.")})},shape:function(C){return dt(function(D,k,j,ie,De){var Le=D[k],Qe=Jt(Le);if(Qe!=="object")return new ze("Invalid "+ie+" `"+De+"` of type `"+Qe+"` supplied to `"+j+"`, expected `object`.");for(var We in C){var Pt=C[We];if(Pt){var Nt=Pt(Le,We,j,ie,De+"."+We,Cc);if(Nt)return Nt}}return null})},exact:function(C){return dt(function(D,k,j,ie,De){var Le=D[k],Qe=Jt(Le);if(Qe!=="object")return new ze("Invalid "+ie+" `"+De+"` of type `"+Qe+"` supplied to `"+j+"`, expected `object`.");var We=mm({},D[k],C);for(var Pt in We){var Nt=C[Pt];if(!Nt)return new ze("Invalid "+ie+" `"+De+"` key `"+Pt+"` supplied to `"+j+"`.\nBad object: "+JSON.stringify(D[k],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(C),null,"  "));var tn=Nt(Le,Pt,j,ie,De+"."+Pt,Cc);if(tn)return tn}return null})}};function Ie(C,D){return C===D?C!==0||1/C==1/D:C!=C&&D!=D}n(Ie,"is");function ze(C){this.message=C,this.stack=""}n(ze,"PropTypeError");function dt(C){var D={},k=0;function j(De,Le,Qe,We,Pt,Nt,tn){if(We=We||Te,Nt=Nt||Qe,tn!==Cc){if(U){var ln=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ln.name="Invariant Violation",ln}if(typeof Wt<"u"){var qn=We+":"+Qe;!D[qn]&&k<3&&(ad("You are manually calling a React.PropTypes validation function for the `"+Nt+"` prop on `"+We+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),D[qn]=!0,k++)}}return Le[Qe]==null?De?Le[Qe]===null?new ze("The "+Pt+" `"+Nt+"` is marked as required in `"+We+"`, but its value is `null`."):new ze("The "+Pt+" `"+Nt+"` is marked as required in `"+We+"`, but its value is `undefined`."):null:C(Le,Qe,We,Pt,Nt)}n(j,"checkType");var ie=j.bind(null,!1);return ie.isRequired=j.bind(null,!0),ie}n(dt,"createChainableTypeChecker");function ot(C){return dt(function(D,k,j,ie,De,Le){var Qe=D[k];return Jt(Qe)===C?null:new ze("Invalid "+ie+" `"+De+"` of type `"+rn(Qe)+"` supplied to `"+j+"`, expected `"+C+"`.")})}n(ot,"createPrimitiveTypeChecker");function Dt(C){switch(typeof C){case"number":case"string":case"undefined":return!0;case"boolean":return!C;case"object":if(Array.isArray(C))return C.every(Dt);if(C===null||me(C))return!0;var D=function(De){var Le=De&&(G&&De[G]||De[te]);if(typeof Le=="function")return Le}(C);if(!D)return!1;var k,j=D.call(C);if(D!==C.entries){for(;!(k=j.next()).done;)if(!Dt(k.value))return!1}else for(;!(k=j.next()).done;){var ie=k.value;if(ie&&!Dt(ie[1]))return!1}return!0;default:return!1}}n(Dt,"isNode");function Jt(C){var D=typeof C;return Array.isArray(C)?"array":C instanceof RegExp?"object":function(k,j){return k==="symbol"||!!j&&(j["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&j instanceof Symbol)}(D,C)?"symbol":D}n(Jt,"getPropType");function rn(C){if(C==null)return""+C;var D=Jt(C);if(D==="object"){if(C instanceof Date)return"date";if(C instanceof RegExp)return"regexp"}return D}n(rn,"getPreciseType");function y(C){var D=rn(C);switch(D){case"array":case"object":return"an "+D;case"boolean":case"date":case"regexp":return"a "+D;default:return D}}return n(y,"getPostfixForTypeWarning"),ze.prototype=Error.prototype,Re.checkPropTypes=uu,Re.resetWarningCache=uu.resetWarningCache,Re.PropTypes=Re}n(If,"factoryWithTypeCheckers");var Xt=du(function(me){var U=Qh;me.exports=If(U.isElement,!0)});function ip(me){var U,G,te="";if(me)if(typeof me=="object")if(me.push)for(U=0;U<me.length;U++)me[U]&&(G=ip(me[U]))&&(te&&(te+=" "),te+=G);else for(U in me)me[U]&&(G=ip(U))&&(te&&(te+=" "),te+=G);else typeof me=="boolean"||me.call||(te&&(te+=" "),te+=me);return te}n(ip,"toVal");function Aa(){for(var me,U=0,G="";U<arguments.length;)(me=ip(arguments[U++]))&&(G&&(G+=" "),G+=me);return G}n(Aa,"clsx");function al(me){var U=!(0<arguments.length&&me!==void 0)||me,G={};return function(te){var Te=te.callback,Re=te.indices,Ie=Object.keys(Re),ze=!U||Ie.every(function(ot){var Dt=Re[ot];return Array.isArray(Dt)?0<Dt.length:0<=Dt}),dt=Ie.length!==Object.keys(G).length||Ie.some(function(ot){var Dt=G[ot],Jt=Re[ot];return Array.isArray(Jt)?Dt.join(",")!==Jt.join(","):Dt!==Jt});G=Re,ze&&dt&&Te(Re)}}n(al,"createCallbackMemoizer");var Qr,gm=!(typeof J>"u"||!J.document||!J.document.createElement);function va(me){if((!Qr&&Qr!==0||me)&&gm){var U=_e.createElement("div");U.style.position="absolute",U.style.top="-9999px",U.style.width="50px",U.style.height="50px",U.style.overflow="scroll",_e.body.appendChild(U),Qr=U.offsetWidth-U.clientWidth,_e.body.removeChild(U)}return Qr}n(va,"scrollbarSize");var vm="observed",ld="requested",da=function(){function me(){var U,G;ps(this,me);for(var te=arguments.length,Te=new Array(te),Re=0;Re<te;Re++)Te[Re]=arguments[Re];return an(Bn(G=na(this,(U=Js(me)).call.apply(U,[this].concat(Te)))),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),an(Bn(G),"_calculateSizeAndPositionDataOnNextUpdate",!1),an(Bn(G),"_onSectionRenderedMemoizer",al()),an(Bn(G),"_onScrollMemoizer",al(!1)),an(Bn(G),"_invokeOnSectionRenderedHelper",function(){var Ie=G.props,ze=Ie.cellLayoutManager,dt=Ie.onSectionRendered;G._onSectionRenderedMemoizer({callback:dt,indices:{indices:ze.getLastRenderedIndices()}})}),an(Bn(G),"_setScrollingContainerRef",function(Ie){G._scrollingContainer=Ie}),an(Bn(G),"_updateScrollPositionForScrollToCell",function(){var Ie=G.props,ze=Ie.cellLayoutManager,dt=Ie.height,ot=Ie.scrollToAlignment,Dt=Ie.scrollToCell,Jt=Ie.width,rn=G.state,y=rn.scrollLeft,C=rn.scrollTop;if(0<=Dt){var D=ze.getScrollPositionForCell({align:ot,cellIndex:Dt,height:dt,scrollLeft:y,scrollTop:C,width:Jt});D.scrollLeft===y&&D.scrollTop===C||G._setScrollPosition(D)}}),an(Bn(G),"_onScroll",function(Ie){if(Ie.target===G._scrollingContainer){G._enablePointerEventsAfterDelay();var ze=G.props,dt=ze.cellLayoutManager,ot=ze.height,Dt=ze.isScrollingChange,Jt=ze.width,rn=G._scrollbarSize,y=dt.getTotalSize(),C=y.height,D=y.width,k=Math.max(0,Math.min(D-Jt+rn,Ie.target.scrollLeft)),j=Math.max(0,Math.min(C-ot+rn,Ie.target.scrollTop));if(G.state.scrollLeft!==k||G.state.scrollTop!==j){var ie=Ie.cancelable?vm:ld;G.state.isScrolling||Dt(!0),G.setState({isScrolling:!0,scrollLeft:k,scrollPositionChangeReason:ie,scrollTop:j})}G._invokeOnScrollMemoizer({scrollLeft:k,scrollTop:j,totalWidth:D,totalHeight:C})}}),G._scrollbarSize=va(),G._scrollbarSize===void 0?(G._scrollbarSizeMeasured=!1,G._scrollbarSize=0):G._scrollbarSizeMeasured=!0,G}return n(me,"CollectionView"),ta(me,vr.PureComponent),bs(me,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var U=this.props,G=U.cellLayoutManager,te=U.scrollLeft,Te=U.scrollToCell,Re=U.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=va(),this._scrollbarSizeMeasured=!0,this.setState({})),0<=Te?this._updateScrollPositionForScrollToCell():(0<=te||0<=Re)&&this._setScrollPosition({scrollLeft:te,scrollTop:Re}),this._invokeOnSectionRenderedHelper();var Ie=G.getTotalSize(),ze=Ie.height,dt=Ie.width;this._invokeOnScrollMemoizer({scrollLeft:te||0,scrollTop:Re||0,totalHeight:ze,totalWidth:dt})}},{key:"componentDidUpdate",value:function(U,G){var te=this.props,Te=te.height,Re=te.scrollToAlignment,Ie=te.scrollToCell,ze=te.width,dt=this.state,ot=dt.scrollLeft,Dt=dt.scrollPositionChangeReason,Jt=dt.scrollTop;Dt===ld&&(0<=ot&&ot!==G.scrollLeft&&ot!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=ot),0<=Jt&&Jt!==G.scrollTop&&Jt!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=Jt)),Te===U.height&&Re===U.scrollToAlignment&&Ie===U.scrollToCell&&ze===U.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&wi(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var U=this.props,G=U.autoHeight,te=U.cellCount,Te=U.cellLayoutManager,Re=U.className,Ie=U.height,ze=U.horizontalOverscanSize,dt=U.id,ot=U.noContentRenderer,Dt=U.style,Jt=U.verticalOverscanSize,rn=U.width,y=this.state,C=y.isScrolling,D=y.scrollLeft,k=y.scrollTop;this._lastRenderedCellCount===te&&this._lastRenderedCellLayoutManager===Te&&!this._calculateSizeAndPositionDataOnNextUpdate||(this._lastRenderedCellCount=te,this._lastRenderedCellLayoutManager=Te,this._calculateSizeAndPositionDataOnNextUpdate=!1,Te.calculateSizeAndPositionData());var j=Te.getTotalSize(),ie=j.height,De=j.width,Le=Math.max(0,D-ze),Qe=Math.max(0,k-Jt),We=Math.min(De,D+rn+ze),Pt=Math.min(ie,k+Ie+Jt),Nt=0<Ie&&0<rn?Te.cellRenderers({height:Pt-Qe,isScrolling:C,width:We-Le,x:Le,y:Qe}):[],tn={boxSizing:"border-box",direction:"ltr",height:G?"auto":Ie,position:"relative",WebkitOverflowScrolling:"touch",width:rn,willChange:"transform"},ln=Ie<ie?this._scrollbarSize:0,qn=rn<De?this._scrollbarSize:0;return tn.overflowX=De+ln<=rn?"hidden":"auto",tn.overflowY=ie+qn<=Ie?"hidden":"auto",vr.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Aa("ReactVirtualized__Collection",Re),id:dt,onScroll:this._onScroll,role:"grid",style:bo({},tn,{},Dt),tabIndex:0},0<te&&vr.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:ie,maxHeight:ie,maxWidth:De,overflow:"hidden",pointerEvents:C?"none":"",width:De}},Nt),te===0&&ot())}},{key:"_enablePointerEventsAfterDelay",value:function(){var U=this;this._disablePointerEventsTimeoutId&&wi(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Ks(function(){(0,U.props.isScrollingChange)(!1),U._disablePointerEventsTimeoutId=null,U.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(U){var G=this,te=U.scrollLeft,Te=U.scrollTop,Re=U.totalHeight,Ie=U.totalWidth;this._onScrollMemoizer({callback:function(ze){var dt=ze.scrollLeft,ot=ze.scrollTop,Dt=G.props,Jt=Dt.height;(0,Dt.onScroll)({clientHeight:Jt,clientWidth:Dt.width,scrollHeight:Re,scrollLeft:dt,scrollTop:ot,scrollWidth:Ie})},indices:{scrollLeft:te,scrollTop:Te}})}},{key:"_setScrollPosition",value:function(U){var G=U.scrollLeft,te=U.scrollTop,Te={scrollPositionChangeReason:ld};0<=G&&(Te.scrollLeft=G),0<=te&&(Te.scrollTop=te),(0<=G&&G!==this.state.scrollLeft||0<=te&&te!==this.state.scrollTop)&&this.setState(Te)}}],[{key:"getDerivedStateFromProps",value:function(U,G){return U.cellCount!==0||G.scrollLeft===0&&G.scrollTop===0?U.scrollLeft!==G.scrollLeft||U.scrollTop!==G.scrollTop?{scrollLeft:U.scrollLeft!=null?U.scrollLeft:G.scrollLeft,scrollTop:U.scrollTop!=null?U.scrollTop:G.scrollTop,scrollPositionChangeReason:ld}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:ld}}}]),me}();an(da,"propTypes",{"aria-label":Xt.string,autoHeight:Xt.bool,cellCount:Xt.number.isRequired,cellLayoutManager:Xt.object.isRequired,className:Xt.string,height:Xt.number.isRequired,id:Xt.string,horizontalOverscanSize:Xt.number.isRequired,isScrollingChange:Xt.func,noContentRenderer:Xt.func.isRequired,onScroll:Xt.func.isRequired,onSectionRendered:Xt.func.isRequired,scrollLeft:Xt.number,scrollToAlignment:Xt.oneOf(["auto","end","start","center"]).isRequired,scrollToCell:Xt.number.isRequired,scrollTop:Xt.number,style:Xt.object,verticalOverscanSize:Xt.number.isRequired,width:Xt.number.isRequired}),an(da,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),sd(da);var Sm=function(){function me(U){var G=U.height,te=U.width,Te=U.x,Re=U.y;ps(this,me),this.height=G,this.width=te,this.x=Te,this.y=Re,this._indexMap={},this._indices=[]}return n(me,"Section"),bs(me,[{key:"addCellIndex",value:function(U){var G=U.index;this._indexMap[G]||(this._indexMap[G]=!0,this._indices.push(G))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),me}(),ym=function(){function me(){var U=0<arguments.length&&arguments[0]!==void 0?arguments[0]:100;ps(this,me),this._sectionSize=U,this._cellMetadata=[],this._sections={}}return n(me,"SectionManager"),bs(me,[{key:"getCellIndices",value:function(U){var G=U.height,te=U.width,Te=U.x,Re=U.y,Ie={};return this.getSections({height:G,width:te,x:Te,y:Re}).forEach(function(ze){return ze.getCellIndices().forEach(function(dt){Ie[dt]=dt})}),Object.keys(Ie).map(function(ze){return Ie[ze]})}},{key:"getCellMetadata",value:function(U){var G=U.index;return this._cellMetadata[G]}},{key:"getSections",value:function(U){for(var G=U.height,te=U.width,Te=U.x,Re=U.y,Ie=Math.floor(Te/this._sectionSize),ze=Math.floor((Te+te-1)/this._sectionSize),dt=Math.floor(Re/this._sectionSize),ot=Math.floor((Re+G-1)/this._sectionSize),Dt=[],Jt=Ie;Jt<=ze;Jt++)for(var rn=dt;rn<=ot;rn++){var y="".concat(Jt,".").concat(rn);this._sections[y]||(this._sections[y]=new Sm({height:this._sectionSize,width:this._sectionSize,x:Jt*this._sectionSize,y:rn*this._sectionSize})),Dt.push(this._sections[y])}return Dt}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var U=this;return Object.keys(this._sections).map(function(G){return U._sections[G].toString()})}},{key:"registerCell",value:function(U){var G=U.cellMetadatum,te=U.index;this._cellMetadata[te]=G,this.getSections(G).forEach(function(Te){return Te.addCellIndex({index:te})})}}]),me}();function Cl(me){var U=me.align,G=U===void 0?"auto":U,te=me.cellOffset,Te=me.cellSize,Re=me.containerSize,Ie=me.currentOffset,ze=te,dt=ze-Re+Te;switch(G){case"start":return ze;case"end":return dt;case"center":return ze-(Re-Te)/2;default:return Math.max(dt,Math.min(ze,Ie))}}n(Cl,"getUpdatedOffsetForIndex");var wf=function(){function me(U,G){var te;return ps(this,me),(te=na(this,Js(me).call(this,U,G)))._cellMetadata=[],te._lastRenderedCellIndices=[],te._cellCache=[],te._isScrollingChange=te._isScrollingChange.bind(Bn(te)),te._setCollectionViewRef=te._setCollectionViewRef.bind(Bn(te)),te}return n(me,"Collection"),ta(me,vr.PureComponent),bs(me,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var U=Va({},this.props);return vr.createElement(da,Va({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},U))}},{key:"calculateSizeAndPositionData",value:function(){var U=this.props,G=function(te){for(var Te=te.cellCount,Re=te.cellSizeAndPositionGetter,Ie=te.sectionSize,ze=[],dt=new ym(Ie),ot=0,Dt=0,Jt=0;Jt<Te;Jt++){var rn=Re({index:Jt});if(rn.height==null||isNaN(rn.height)||rn.width==null||isNaN(rn.width)||rn.x==null||isNaN(rn.x)||rn.y==null||isNaN(rn.y))throw Error("Invalid metadata returned for cell ".concat(Jt,`:
        x:`).concat(rn.x,", y:").concat(rn.y,", width:").concat(rn.width,", height:").concat(rn.height));ot=Math.max(ot,rn.y+rn.height),Dt=Math.max(Dt,rn.x+rn.width),ze[Jt]=rn,dt.registerCell({cellMetadatum:rn,index:Jt})}return{cellMetadata:ze,height:ot,sectionManager:dt,width:Dt}}({cellCount:U.cellCount,cellSizeAndPositionGetter:U.cellSizeAndPositionGetter,sectionSize:U.sectionSize});this._cellMetadata=G.cellMetadata,this._sectionManager=G.sectionManager,this._height=G.height,this._width=G.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(U){var G=U.align,te=U.cellIndex,Te=U.height,Re=U.scrollLeft,Ie=U.scrollTop,ze=U.width,dt=this.props.cellCount;if(0<=te&&te<dt){var ot=this._cellMetadata[te];Re=Cl({align:G,cellOffset:ot.x,cellSize:ot.width,containerSize:ze,currentOffset:Re,targetIndex:te}),Ie=Cl({align:G,cellOffset:ot.y,cellSize:ot.height,containerSize:Te,currentOffset:Ie,targetIndex:te})}return{scrollLeft:Re,scrollTop:Ie}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(U){var G=this,te=U.height,Te=U.isScrolling,Re=U.width,Ie=U.x,ze=U.y,dt=this.props,ot=dt.cellGroupRenderer,Dt=dt.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:te,width:Re,x:Ie,y:ze}),ot({cellCache:this._cellCache,cellRenderer:Dt,cellSizeAndPositionGetter:function(Jt){var rn=Jt.index;return G._sectionManager.getCellMetadata({index:rn})},indices:this._lastRenderedCellIndices,isScrolling:Te})}},{key:"_isScrollingChange",value:function(U){U||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(U){this._collectionView=U}}]),me}();an(wf,"propTypes",{"aria-label":Xt.string,cellCount:Xt.number.isRequired,cellGroupRenderer:Xt.func.isRequired,cellRenderer:Xt.func.isRequired,cellSizeAndPositionGetter:Xt.func.isRequired,sectionSize:Xt.number}),an(wf,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(me){var U=me.cellCache,G=me.cellRenderer,te=me.cellSizeAndPositionGetter,Te=me.indices,Re=me.isScrolling;return Te.map(function(Ie){var ze=te({index:Ie}),dt={index:Ie,isScrolling:Re,key:Ie,style:{height:ze.height,left:ze.x,position:"absolute",top:ze.y,width:ze.width}};return Re?(Ie in U||(U[Ie]=G(dt)),U[Ie]):G(dt)}).filter(function(Ie){return!!Ie})}});var rp=function(){function me(U,G){var te;return ps(this,me),(te=na(this,Js(me).call(this,U,G)))._registerChild=te._registerChild.bind(Bn(te)),te}return n(me,"ColumnSizer"),ta(me,vr.PureComponent),bs(me,[{key:"componentDidUpdate",value:function(U){var G=this.props,te=G.columnMaxWidth,Te=G.columnMinWidth,Re=G.columnCount,Ie=G.width;te===U.columnMaxWidth&&Te===U.columnMinWidth&&Re===U.columnCount&&Ie===U.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var U=this.props,G=U.children,te=U.columnMaxWidth,Te=U.columnMinWidth,Re=U.columnCount,Ie=U.width,ze=Te||1,dt=te?Math.min(te,Ie):Ie,ot=Ie/Re;return ot=Math.max(ze,ot),ot=Math.min(dt,ot),ot=Math.floor(ot),G({adjustedWidth:Math.min(Ie,ot*Re),columnWidth:ot,getColumnWidth:function(){return ot},registerChild:this._registerChild})}},{key:"_registerChild",value:function(U){if(U&&typeof U.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=U,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),me}();function op(me){var U=me.cellCount,G=me.cellSize,te=me.computeMetadataCallback,Te=me.computeMetadataCallbackProps,Re=me.nextCellsCount,Ie=me.nextCellSize,ze=me.nextScrollToIndex,dt=me.scrollToIndex,ot=me.updateScrollOffsetForScrollToIndex;U===Re&&(typeof G!="number"&&typeof Ie!="number"||G===Ie)||(te(Te),0<=dt&&dt===ze&&ot())}n(op,"calculateSizeAndPositionDataAndUpdateScrollOffset"),an(rp,"propTypes",{children:Xt.func.isRequired,columnMaxWidth:Xt.number,columnMinWidth:Xt.number,columnCount:Xt.number.isRequired,width:Xt.number.isRequired});var Sa,fu=function(){function me(U){var G=U.cellCount,te=U.cellSizeGetter,Te=U.estimatedCellSize;ps(this,me),an(this,"_cellSizeAndPositionData",{}),an(this,"_lastMeasuredIndex",-1),an(this,"_lastBatchedIndex",-1),an(this,"_cellCount",void 0),an(this,"_cellSizeGetter",void 0),an(this,"_estimatedCellSize",void 0),this._cellSizeGetter=te,this._cellCount=G,this._estimatedCellSize=Te}return n(me,"CellSizeAndPositionManager"),bs(me,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(U){var G=U.cellCount,te=U.estimatedCellSize,Te=U.cellSizeGetter;this._cellCount=G,this._estimatedCellSize=te,this._cellSizeGetter=Te}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(U){if(U<0||U>=this._cellCount)throw Error("Requested index ".concat(U," is outside of range 0..").concat(this._cellCount));if(U>this._lastMeasuredIndex)for(var G=this.getSizeAndPositionOfLastMeasuredCell(),te=G.offset+G.size,Te=this._lastMeasuredIndex+1;Te<=U;Te++){var Re=this._cellSizeGetter({index:Te});if(Re===void 0||isNaN(Re))throw Error("Invalid size returned for cell ".concat(Te," of value ").concat(Re));Re===null?(this._cellSizeAndPositionData[Te]={offset:te,size:0},this._lastBatchedIndex=U):(this._cellSizeAndPositionData[Te]={offset:te,size:Re},te+=Re,this._lastMeasuredIndex=U)}return this._cellSizeAndPositionData[U]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return 0<=this._lastMeasuredIndex?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var U=this.getSizeAndPositionOfLastMeasuredCell();return U.offset+U.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(U){var G=U.align,te=G===void 0?"auto":G,Te=U.containerSize,Re=U.currentOffset,Ie=U.targetIndex;if(Te<=0)return 0;var ze,dt=this.getSizeAndPositionOfCell(Ie),ot=dt.offset,Dt=ot-Te+dt.size;switch(te){case"start":ze=ot;break;case"end":ze=Dt;break;case"center":ze=ot-(Te-dt.size)/2;break;default:ze=Math.max(Dt,Math.min(ot,Re))}var Jt=this.getTotalSize();return Math.max(0,Math.min(Jt-Te,ze))}},{key:"getVisibleCellRange",value:function(U){var G=U.containerSize,te=U.offset;if(this.getTotalSize()===0)return{};var Te=te+G,Re=this._findNearestCell(te),Ie=this.getSizeAndPositionOfCell(Re);te=Ie.offset+Ie.size;for(var ze=Re;te<Te&&ze<this._cellCount-1;)ze++,te+=this.getSizeAndPositionOfCell(ze).size;return{start:Re,stop:ze}}},{key:"resetCell",value:function(U){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,U-1)}},{key:"_binarySearch",value:function(U,G,te){for(;G<=U;){var Te=G+Math.floor((U-G)/2),Re=this.getSizeAndPositionOfCell(Te).offset;if(Re===te)return Te;Re<te?G=Te+1:te<Re&&(U=Te-1)}return 0<G?G-1:0}},{key:"_exponentialSearch",value:function(U,G){for(var te=1;U<this._cellCount&&this.getSizeAndPositionOfCell(U).offset<G;)U+=te,te*=2;return this._binarySearch(Math.min(U,this._cellCount-1),Math.floor(U/2),G)}},{key:"_findNearestCell",value:function(U){if(isNaN(U))throw Error("Invalid offset ".concat(U," specified"));U=Math.max(0,U);var G=this.getSizeAndPositionOfLastMeasuredCell(),te=Math.max(0,this._lastMeasuredIndex);return G.offset>=U?this._binarySearch(te,0,U):this._exponentialSearch(te,U)}}]),me}(),_m=n(function(){return typeof J<"u"&&J.chrome?16777100:15e5},"getMaxElementSize"),Oa=function(){function me(U){var G=U.maxScrollSize,te=G===void 0?_m():G,Te=od(U,["maxScrollSize"]);ps(this,me),an(this,"_cellSizeAndPositionManager",void 0),an(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new fu(Te),this._maxScrollSize=te}return n(me,"ScalingCellSizeAndPositionManager"),bs(me,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(U){this._cellSizeAndPositionManager.configure(U)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(U){var G=U.containerSize,te=U.offset,Te=this._cellSizeAndPositionManager.getTotalSize(),Re=this.getTotalSize(),Ie=this._getOffsetPercentage({containerSize:G,offset:te,totalSize:Re});return Math.round(Ie*(Re-Te))}},{key:"getSizeAndPositionOfCell",value:function(U){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(U)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(U){var G=U.align,te=G===void 0?"auto":G,Te=U.containerSize,Re=U.currentOffset,Ie=U.targetIndex;Re=this._safeOffsetToOffset({containerSize:Te,offset:Re});var ze=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:te,containerSize:Te,currentOffset:Re,targetIndex:Ie});return this._offsetToSafeOffset({containerSize:Te,offset:ze})}},{key:"getVisibleCellRange",value:function(U){var G=U.containerSize,te=U.offset;return te=this._safeOffsetToOffset({containerSize:G,offset:te}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:G,offset:te})}},{key:"resetCell",value:function(U){this._cellSizeAndPositionManager.resetCell(U)}},{key:"_getOffsetPercentage",value:function(U){var G=U.containerSize,te=U.offset,Te=U.totalSize;return Te<=G?0:te/(Te-G)}},{key:"_offsetToSafeOffset",value:function(U){var G=U.containerSize,te=U.offset,Te=this._cellSizeAndPositionManager.getTotalSize(),Re=this.getTotalSize();if(Te===Re)return te;var Ie=this._getOffsetPercentage({containerSize:G,offset:te,totalSize:Te});return Math.round(Ie*(Re-G))}},{key:"_safeOffsetToOffset",value:function(U){var G=U.containerSize,te=U.offset,Te=this._cellSizeAndPositionManager.getTotalSize(),Re=this.getTotalSize();if(Te===Re)return te;var Ie=this._getOffsetPercentage({containerSize:G,offset:te,totalSize:Re});return Math.round(Ie*(Te-G))}}]),me}();function sp(me){var U=me.cellCount,G=me.overscanCellsCount,te=me.scrollDirection,Te=me.startIndex,Re=me.stopIndex;return te===1?{overscanStartIndex:Math.max(0,Te),overscanStopIndex:Math.min(U-1,Re+G)}:{overscanStartIndex:Math.max(0,Te-G),overscanStopIndex:Math.min(U-1,Re)}}n(sp,"defaultOverscanIndicesGetter");function ap(me){var U=me.cellSize,G=me.cellSizeAndPositionManager,te=me.previousCellsCount,Te=me.previousCellSize,Re=me.previousScrollToAlignment,Ie=me.previousScrollToIndex,ze=me.previousSize,dt=me.scrollOffset,ot=me.scrollToAlignment,Dt=me.scrollToIndex,Jt=me.size,rn=me.sizeJustIncreasedFromZero,y=me.updateScrollIndexCallback,C=G.getCellCount(),D=0<=Dt&&Dt<C;D&&(Jt!==ze||rn||!Te||typeof U=="number"&&U!==Te||ot!==Re||Dt!==Ie)?y(Dt):!D&&0<C&&(Jt<ze||C<te)&&dt>G.getTotalSize()-Jt&&y(C-1)}n(ap,"updateScrollIndexHelper");function Ra(me){for(var U=me.cellCache,G=me.cellRenderer,te=me.columnSizeAndPositionManager,Te=me.columnStartIndex,Re=me.columnStopIndex,Ie=me.deferredMeasurementCache,ze=me.horizontalOffsetAdjustment,dt=me.isScrolling,ot=me.isScrollingOptOut,Dt=me.parent,Jt=me.rowSizeAndPositionManager,rn=me.rowStartIndex,y=me.rowStopIndex,C=me.styleCache,D=me.verticalOffsetAdjustment,k=me.visibleColumnIndices,j=me.visibleRowIndices,ie=[],De=te.areOffsetsAdjusted()||Jt.areOffsetsAdjusted(),Le=!dt&&!De,Qe=rn;Qe<=y;Qe++)for(var We=Jt.getSizeAndPositionOfCell(Qe),Pt=Te;Pt<=Re;Pt++){var Nt=te.getSizeAndPositionOfCell(Pt),tn=Pt>=k.start&&Pt<=k.stop&&Qe>=j.start&&Qe<=j.stop,ln="".concat(Qe,"-").concat(Pt),qn=void 0;Le&&C[ln]?qn=C[ln]:Ie&&!Ie.has(Qe,Pt)?qn={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(qn={height:We.size,left:Nt.offset+ze,position:"absolute",top:We.offset+D,width:Nt.size},C[ln]=qn);var Fi={columnIndex:Pt,isScrolling:dt,isVisible:tn,key:ln,parent:Dt,rowIndex:Qe,style:qn},ci=void 0;(ci=!ot&&!dt||ze||D?G(Fi):(U[ln]||(U[ln]=G(Fi)),U[ln]))!=null&&ci!==!1&&(Ic(Dt,ci),ie.push(ci))}return ie}n(Ra,"defaultCellRangeRenderer");function Ic(me,U){U&&(U.type&&U.type.__internalCellMeasurerFlag&&(U=U.props.children),U&&U.props&&U.props.style===void 0&&me.__warnedAboutMissingStyle!==!0&&(me.__warnedAboutMissingStyle=!0,Wt.warn("Rendered cell should include style property for positioning.")))}n(Ic,"warnAboutMissingStyle");var bm=(Sa=typeof J<"u"?J:typeof fc<"u"?fc:{}).requestAnimationFrame||Sa.webkitRequestAnimationFrame||Sa.mozRequestAnimationFrame||Sa.oRequestAnimationFrame||Sa.msRequestAnimationFrame||function(me){return Sa.setTimeout(me,1e3/60)},wc=Sa.cancelAnimationFrame||Sa.webkitCancelAnimationFrame||Sa.mozCancelAnimationFrame||Sa.oCancelAnimationFrame||Sa.msCancelAnimationFrame||function(me){Sa.clearTimeout(me)},Tl=bm,Em=wc,Dc=n(function(me){return Em(me.id)},"cancelAnimationTimeout"),eo=n(function(me,U){var G;Promise.resolve().then(function(){G=Date.now()});var te={id:Tl(n(function Te(){Date.now()-G>=U?me.call():te.id=Tl(Te)},"timeout"))};return te},"requestAnimationTimeout"),Df="observed",hu="requested",Ha=function(){function me(U){var G;ps(this,me),an(Bn(G=na(this,Js(me).call(this,U))),"_onGridRenderedMemoizer",al()),an(Bn(G),"_onScrollMemoizer",al(!1)),an(Bn(G),"_deferredInvalidateColumnIndex",null),an(Bn(G),"_deferredInvalidateRowIndex",null),an(Bn(G),"_recomputeScrollLeftFlag",!1),an(Bn(G),"_recomputeScrollTopFlag",!1),an(Bn(G),"_horizontalScrollBarSize",0),an(Bn(G),"_verticalScrollBarSize",0),an(Bn(G),"_scrollbarPresenceChanged",!1),an(Bn(G),"_scrollingContainer",void 0),an(Bn(G),"_childrenToDisplay",void 0),an(Bn(G),"_columnStartIndex",void 0),an(Bn(G),"_columnStopIndex",void 0),an(Bn(G),"_rowStartIndex",void 0),an(Bn(G),"_rowStopIndex",void 0),an(Bn(G),"_renderedColumnStartIndex",0),an(Bn(G),"_renderedColumnStopIndex",0),an(Bn(G),"_renderedRowStartIndex",0),an(Bn(G),"_renderedRowStopIndex",0),an(Bn(G),"_initialScrollTop",void 0),an(Bn(G),"_initialScrollLeft",void 0),an(Bn(G),"_disablePointerEventsTimeoutId",void 0),an(Bn(G),"_styleCache",{}),an(Bn(G),"_cellCache",{}),an(Bn(G),"_debounceScrollEndedCallback",function(){G._disablePointerEventsTimeoutId=null,G.setState({isScrolling:!1,needToResetStyleCache:!1})}),an(Bn(G),"_invokeOnGridRenderedHelper",function(){var Re=G.props.onSectionRendered;G._onGridRenderedMemoizer({callback:Re,indices:{columnOverscanStartIndex:G._columnStartIndex,columnOverscanStopIndex:G._columnStopIndex,columnStartIndex:G._renderedColumnStartIndex,columnStopIndex:G._renderedColumnStopIndex,rowOverscanStartIndex:G._rowStartIndex,rowOverscanStopIndex:G._rowStopIndex,rowStartIndex:G._renderedRowStartIndex,rowStopIndex:G._renderedRowStopIndex}})}),an(Bn(G),"_setScrollingContainerRef",function(Re){G._scrollingContainer=Re}),an(Bn(G),"_onScroll",function(Re){Re.target===G._scrollingContainer&&G.handleScrollEvent(Re.target)});var te=new Oa({cellCount:U.columnCount,cellSizeGetter:function(Re){return me._wrapSizeGetter(U.columnWidth)(Re)},estimatedCellSize:me._getEstimatedColumnSize(U)}),Te=new Oa({cellCount:U.rowCount,cellSizeGetter:function(Re){return me._wrapSizeGetter(U.rowHeight)(Re)},estimatedCellSize:me._getEstimatedRowSize(U)});return G.state={instanceProps:{columnSizeAndPositionManager:te,rowSizeAndPositionManager:Te,prevColumnWidth:U.columnWidth,prevRowHeight:U.rowHeight,prevColumnCount:U.columnCount,prevRowCount:U.rowCount,prevIsScrolling:U.isScrolling===!0,prevScrollToColumn:U.scrollToColumn,prevScrollToRow:U.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},0<U.scrollToRow&&(G._initialScrollTop=G._getCalculatedScrollTop(U,G.state)),0<U.scrollToColumn&&(G._initialScrollLeft=G._getCalculatedScrollLeft(U,G.state)),G}return n(me,"Grid"),ta(me,vr.PureComponent),bs(me,[{key:"getOffsetForCell",value:function(U){var G=0<arguments.length&&U!==void 0?U:{},te=G.alignment,Te=te===void 0?this.props.scrollToAlignment:te,Re=G.columnIndex,Ie=Re===void 0?this.props.scrollToColumn:Re,ze=G.rowIndex,dt=ze===void 0?this.props.scrollToRow:ze,ot=bo({},this.props,{scrollToAlignment:Te,scrollToColumn:Ie,scrollToRow:dt});return{scrollLeft:this._getCalculatedScrollLeft(ot),scrollTop:this._getCalculatedScrollTop(ot)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(U){var G=U.scrollLeft,te=G===void 0?0:G,Te=U.scrollTop,Re=Te===void 0?0:Te;if(!(Re<0)){this._debounceScrollEnded();var Ie=this.props,ze=Ie.autoHeight,dt=Ie.autoWidth,ot=Ie.height,Dt=Ie.width,Jt=this.state.instanceProps,rn=Jt.scrollbarSize,y=Jt.rowSizeAndPositionManager.getTotalSize(),C=Jt.columnSizeAndPositionManager.getTotalSize(),D=Math.min(Math.max(0,C-Dt+rn),te),k=Math.min(Math.max(0,y-ot+rn),Re);if(this.state.scrollLeft!==D||this.state.scrollTop!==k){var j={isScrolling:!0,scrollDirectionHorizontal:D!==this.state.scrollLeft?D>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:k!==this.state.scrollTop?k>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:Df};ze||(j.scrollTop=k),dt||(j.scrollLeft=D),j.needToResetStyleCache=!1,this.setState(j)}this._invokeOnScrollMemoizer({scrollLeft:D,scrollTop:k,totalColumnsWidth:C,totalRowsHeight:y})}}},{key:"invalidateCellSizeAfterRender",value:function(U){var G=U.columnIndex,te=U.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,G):G,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,te):te}},{key:"measureAllCells",value:function(){var U=this.props,G=U.columnCount,te=U.rowCount,Te=this.state.instanceProps;Te.columnSizeAndPositionManager.getSizeAndPositionOfCell(G-1),Te.rowSizeAndPositionManager.getSizeAndPositionOfCell(te-1)}},{key:"recomputeGridSize",value:function(U){var G=0<arguments.length&&U!==void 0?U:{},te=G.columnIndex,Te=te===void 0?0:te,Re=G.rowIndex,Ie=Re===void 0?0:Re,ze=this.props,dt=ze.scrollToColumn,ot=ze.scrollToRow,Dt=this.state.instanceProps;Dt.columnSizeAndPositionManager.resetCell(Te),Dt.rowSizeAndPositionManager.resetCell(Ie),this._recomputeScrollLeftFlag=0<=dt&&(this.state.scrollDirectionHorizontal===1?Te<=dt:dt<=Te),this._recomputeScrollTopFlag=0<=ot&&(this.state.scrollDirectionVertical===1?Ie<=ot:ot<=Ie),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(U){var G=U.columnIndex,te=U.rowIndex,Te=this.props.columnCount,Re=this.props;1<Te&&G!==void 0&&this._updateScrollLeftForScrollToColumn(bo({},Re,{scrollToColumn:G})),te!==void 0&&this._updateScrollTopForScrollToRow(bo({},Re,{scrollToRow:te}))}},{key:"componentDidMount",value:function(){var U=this.props,G=U.getScrollbarSize,te=U.height,Te=U.scrollLeft,Re=U.scrollToColumn,Ie=U.scrollTop,ze=U.scrollToRow,dt=U.width,ot=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),ot.scrollbarSizeMeasured||this.setState(function(rn){var y=bo({},rn,{needToResetStyleCache:!1});return y.instanceProps.scrollbarSize=G(),y.instanceProps.scrollbarSizeMeasured=!0,y}),typeof Te=="number"&&0<=Te||typeof Ie=="number"&&0<=Ie){var Dt=me._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:Te,scrollTop:Ie});Dt&&(Dt.needToResetStyleCache=!1,this.setState(Dt))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var Jt=0<te&&0<dt;0<=Re&&Jt&&this._updateScrollLeftForScrollToColumn(),0<=ze&&Jt&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:Te||0,scrollTop:Ie||0,totalColumnsWidth:ot.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:ot.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(U,G){var te=this,Te=this.props,Re=Te.autoHeight,Ie=Te.autoWidth,ze=Te.columnCount,dt=Te.height,ot=Te.rowCount,Dt=Te.scrollToAlignment,Jt=Te.scrollToColumn,rn=Te.scrollToRow,y=Te.width,C=this.state,D=C.scrollLeft,k=C.scrollPositionChangeReason,j=C.scrollTop,ie=C.instanceProps;this._handleInvalidatedGridSize();var De=0<ze&&U.columnCount===0||0<ot&&U.rowCount===0;k===hu&&(!Ie&&0<=D&&(D!==this._scrollingContainer.scrollLeft||De)&&(this._scrollingContainer.scrollLeft=D),!Re&&0<=j&&(j!==this._scrollingContainer.scrollTop||De)&&(this._scrollingContainer.scrollTop=j));var Le=(U.width===0||U.height===0)&&0<dt&&0<y;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):ap({cellSizeAndPositionManager:ie.columnSizeAndPositionManager,previousCellsCount:U.columnCount,previousCellSize:U.columnWidth,previousScrollToAlignment:U.scrollToAlignment,previousScrollToIndex:U.scrollToColumn,previousSize:U.width,scrollOffset:D,scrollToAlignment:Dt,scrollToIndex:Jt,size:y,sizeJustIncreasedFromZero:Le,updateScrollIndexCallback:function(){return te._updateScrollLeftForScrollToColumn(te.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):ap({cellSizeAndPositionManager:ie.rowSizeAndPositionManager,previousCellsCount:U.rowCount,previousCellSize:U.rowHeight,previousScrollToAlignment:U.scrollToAlignment,previousScrollToIndex:U.scrollToRow,previousSize:U.height,scrollOffset:j,scrollToAlignment:Dt,scrollToIndex:rn,size:dt,sizeJustIncreasedFromZero:Le,updateScrollIndexCallback:function(){return te._updateScrollTopForScrollToRow(te.props)}}),this._invokeOnGridRenderedHelper(),D!==G.scrollLeft||j!==G.scrollTop){var Qe=ie.rowSizeAndPositionManager.getTotalSize(),We=ie.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:D,scrollTop:j,totalColumnsWidth:We,totalRowsHeight:Qe})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Dc(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var U=this.props,G=U.autoContainerWidth,te=U.autoHeight,Te=U.autoWidth,Re=U.className,Ie=U.containerProps,ze=U.containerRole,dt=U.containerStyle,ot=U.height,Dt=U.id,Jt=U.noContentRenderer,rn=U.role,y=U.style,C=U.tabIndex,D=U.width,k=this.state,j=k.instanceProps,ie=k.needToResetStyleCache,De=this._isScrolling(),Le={boxSizing:"border-box",direction:"ltr",height:te?"auto":ot,position:"relative",width:Te?"auto":D,WebkitOverflowScrolling:"touch",willChange:"transform"};ie&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var Qe=j.columnSizeAndPositionManager.getTotalSize(),We=j.rowSizeAndPositionManager.getTotalSize(),Pt=ot<We?j.scrollbarSize:0,Nt=D<Qe?j.scrollbarSize:0;Nt===this._horizontalScrollBarSize&&Pt===this._verticalScrollBarSize||(this._horizontalScrollBarSize=Nt,this._verticalScrollBarSize=Pt,this._scrollbarPresenceChanged=!0),Le.overflowX=Qe+Pt<=D?"hidden":"auto",Le.overflowY=We+Nt<=ot?"hidden":"auto";var tn=this._childrenToDisplay,ln=tn.length===0&&0<ot&&0<D;return vr.createElement("div",Va({ref:this._setScrollingContainerRef},Ie,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Aa("ReactVirtualized__Grid",Re),id:Dt,onScroll:this._onScroll,role:rn,style:bo({},Le,{},y),tabIndex:C}),0<tn.length&&vr.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:ze,style:bo({width:G?"auto":Qe,height:We,maxWidth:Qe,maxHeight:We,overflow:"hidden",pointerEvents:De?"none":"",position:"relative"},dt)},tn),ln&&Jt())}},{key:"_calculateChildrenToRender",value:function(U,G){var te=0<arguments.length&&U!==void 0?U:this.props,Te=1<arguments.length&&G!==void 0?G:this.state,Re=te.cellRenderer,Ie=te.cellRangeRenderer,ze=te.columnCount,dt=te.deferredMeasurementCache,ot=te.height,Dt=te.overscanColumnCount,Jt=te.overscanIndicesGetter,rn=te.overscanRowCount,y=te.rowCount,C=te.width,D=te.isScrollingOptOut,k=Te.scrollDirectionHorizontal,j=Te.scrollDirectionVertical,ie=Te.instanceProps,De=0<this._initialScrollTop?this._initialScrollTop:Te.scrollTop,Le=0<this._initialScrollLeft?this._initialScrollLeft:Te.scrollLeft,Qe=this._isScrolling(te,Te);if(this._childrenToDisplay=[],0<ot&&0<C){var We=ie.columnSizeAndPositionManager.getVisibleCellRange({containerSize:C,offset:Le}),Pt=ie.rowSizeAndPositionManager.getVisibleCellRange({containerSize:ot,offset:De}),Nt=ie.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:C,offset:Le}),tn=ie.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:ot,offset:De});this._renderedColumnStartIndex=We.start,this._renderedColumnStopIndex=We.stop,this._renderedRowStartIndex=Pt.start,this._renderedRowStopIndex=Pt.stop;var ln=Jt({direction:"horizontal",cellCount:ze,overscanCellsCount:Dt,scrollDirection:k,startIndex:typeof We.start=="number"?We.start:0,stopIndex:typeof We.stop=="number"?We.stop:-1}),qn=Jt({direction:"vertical",cellCount:y,overscanCellsCount:rn,scrollDirection:j,startIndex:typeof Pt.start=="number"?Pt.start:0,stopIndex:typeof Pt.stop=="number"?Pt.stop:-1}),Fi=ln.overscanStartIndex,ci=ln.overscanStopIndex,dr=qn.overscanStartIndex,kr=qn.overscanStopIndex;if(dt){if(!dt.hasFixedHeight()){for(var Es=dr;Es<=kr;Es++)if(!dt.has(Es,0)){Fi=0,ci=ze-1;break}}if(!dt.hasFixedWidth()){for(var rs=Fi;rs<=ci;rs++)if(!dt.has(0,rs)){dr=0,kr=y-1;break}}}this._childrenToDisplay=Ie({cellCache:this._cellCache,cellRenderer:Re,columnSizeAndPositionManager:ie.columnSizeAndPositionManager,columnStartIndex:Fi,columnStopIndex:ci,deferredMeasurementCache:dt,horizontalOffsetAdjustment:Nt,isScrolling:Qe,isScrollingOptOut:D,parent:this,rowSizeAndPositionManager:ie.rowSizeAndPositionManager,rowStartIndex:dr,rowStopIndex:kr,scrollLeft:Le,scrollTop:De,styleCache:this._styleCache,verticalOffsetAdjustment:tn,visibleColumnIndices:We,visibleRowIndices:Pt}),this._columnStartIndex=Fi,this._columnStopIndex=ci,this._rowStartIndex=dr,this._rowStopIndex=kr}}},{key:"_debounceScrollEnded",value:function(){var U=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Dc(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=eo(this._debounceScrollEndedCallback,U)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var U=this._deferredInvalidateColumnIndex,G=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:U,rowIndex:G})}}},{key:"_invokeOnScrollMemoizer",value:function(U){var G=this,te=U.scrollLeft,Te=U.scrollTop,Re=U.totalColumnsWidth,Ie=U.totalRowsHeight;this._onScrollMemoizer({callback:function(ze){var dt=ze.scrollLeft,ot=ze.scrollTop,Dt=G.props,Jt=Dt.height;(0,Dt.onScroll)({clientHeight:Jt,clientWidth:Dt.width,scrollHeight:Ie,scrollLeft:dt,scrollTop:ot,scrollWidth:Re})},indices:{scrollLeft:te,scrollTop:Te}})}},{key:"_isScrolling",value:function(U,G){var te=0<arguments.length&&U!==void 0?U:this.props,Te=1<arguments.length&&G!==void 0?G:this.state;return Object.hasOwnProperty.call(te,"isScrolling")?Boolean(te.isScrolling):Boolean(Te.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var U=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,U({horizontal:0<this._horizontalScrollBarSize,size:this.state.instanceProps.scrollbarSize,vertical:0<this._verticalScrollBarSize})}}},{key:"scrollToPosition",value:function(U){var G=U.scrollLeft,te=U.scrollTop,Te=me._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:G,scrollTop:te});Te&&(Te.needToResetStyleCache=!1,this.setState(Te))}},{key:"_getCalculatedScrollLeft",value:function(U,G){var te=0<arguments.length&&U!==void 0?U:this.props,Te=1<arguments.length&&G!==void 0?G:this.state;return me._getCalculatedScrollLeft(te,Te)}},{key:"_updateScrollLeftForScrollToColumn",value:function(U,G){var te=0<arguments.length&&U!==void 0?U:this.props,Te=1<arguments.length&&G!==void 0?G:this.state,Re=me._getScrollLeftForScrollToColumnStateUpdate(te,Te);Re&&(Re.needToResetStyleCache=!1,this.setState(Re))}},{key:"_getCalculatedScrollTop",value:function(U,G){var te=0<arguments.length&&U!==void 0?U:this.props,Te=1<arguments.length&&G!==void 0?G:this.state;return me._getCalculatedScrollTop(te,Te)}},{key:"_resetStyleCache",value:function(){var U=this._styleCache,G=this._cellCache,te=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var Te=this._rowStartIndex;Te<=this._rowStopIndex;Te++)for(var Re=this._columnStartIndex;Re<=this._columnStopIndex;Re++){var Ie="".concat(Te,"-").concat(Re);this._styleCache[Ie]=U[Ie],te&&(this._cellCache[Ie]=G[Ie])}}},{key:"_updateScrollTopForScrollToRow",value:function(U,G){var te=0<arguments.length&&U!==void 0?U:this.props,Te=1<arguments.length&&G!==void 0?G:this.state,Re=me._getScrollTopForScrollToRowStateUpdate(te,Te);Re&&(Re.needToResetStyleCache=!1,this.setState(Re))}}],[{key:"getDerivedStateFromProps",value:function(U,G){var te={};U.columnCount===0&&G.scrollLeft!==0||U.rowCount===0&&G.scrollTop!==0?(te.scrollLeft=0,te.scrollTop=0):(U.scrollLeft!==G.scrollLeft&&U.scrollToColumn<0||U.scrollTop!==G.scrollTop&&U.scrollToRow<0)&&Object.assign(te,me._getScrollToPositionStateUpdate({prevState:G,scrollLeft:U.scrollLeft,scrollTop:U.scrollTop}));var Te,Re,Ie=G.instanceProps;return te.needToResetStyleCache=!1,U.columnWidth===Ie.prevColumnWidth&&U.rowHeight===Ie.prevRowHeight||(te.needToResetStyleCache=!0),Ie.columnSizeAndPositionManager.configure({cellCount:U.columnCount,estimatedCellSize:me._getEstimatedColumnSize(U),cellSizeGetter:me._wrapSizeGetter(U.columnWidth)}),Ie.rowSizeAndPositionManager.configure({cellCount:U.rowCount,estimatedCellSize:me._getEstimatedRowSize(U),cellSizeGetter:me._wrapSizeGetter(U.rowHeight)}),Ie.prevColumnCount!==0&&Ie.prevRowCount!==0||(Ie.prevColumnCount=0,Ie.prevRowCount=0),U.autoHeight&&U.isScrolling===!1&&Ie.prevIsScrolling===!0&&Object.assign(te,{isScrolling:!1}),op({cellCount:Ie.prevColumnCount,cellSize:typeof Ie.prevColumnWidth=="number"?Ie.prevColumnWidth:null,computeMetadataCallback:function(){return Ie.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:U,nextCellsCount:U.columnCount,nextCellSize:typeof U.columnWidth=="number"?U.columnWidth:null,nextScrollToIndex:U.scrollToColumn,scrollToIndex:Ie.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){Te=me._getScrollLeftForScrollToColumnStateUpdate(U,G)}}),op({cellCount:Ie.prevRowCount,cellSize:typeof Ie.prevRowHeight=="number"?Ie.prevRowHeight:null,computeMetadataCallback:function(){return Ie.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:U,nextCellsCount:U.rowCount,nextCellSize:typeof U.rowHeight=="number"?U.rowHeight:null,nextScrollToIndex:U.scrollToRow,scrollToIndex:Ie.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){Re=me._getScrollTopForScrollToRowStateUpdate(U,G)}}),Ie.prevColumnCount=U.columnCount,Ie.prevColumnWidth=U.columnWidth,Ie.prevIsScrolling=U.isScrolling===!0,Ie.prevRowCount=U.rowCount,Ie.prevRowHeight=U.rowHeight,Ie.prevScrollToColumn=U.scrollToColumn,Ie.prevScrollToRow=U.scrollToRow,Ie.scrollbarSize=U.getScrollbarSize(),Ie.scrollbarSize===void 0?(Ie.scrollbarSizeMeasured=!1,Ie.scrollbarSize=0):Ie.scrollbarSizeMeasured=!0,te.instanceProps=Ie,bo({},te,{},Te,{},Re)}},{key:"_getEstimatedColumnSize",value:function(U){return typeof U.columnWidth=="number"?U.columnWidth:U.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(U){return typeof U.rowHeight=="number"?U.rowHeight:U.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(U){var G=U.prevState,te=U.scrollLeft,Te=U.scrollTop,Re={scrollPositionChangeReason:hu};return typeof te=="number"&&0<=te&&(Re.scrollDirectionHorizontal=te>G.scrollLeft?1:-1,Re.scrollLeft=te),typeof Te=="number"&&0<=Te&&(Re.scrollDirectionVertical=Te>G.scrollTop?1:-1,Re.scrollTop=Te),typeof te=="number"&&0<=te&&te!==G.scrollLeft||typeof Te=="number"&&0<=Te&&Te!==G.scrollTop?Re:{}}},{key:"_wrapSizeGetter",value:function(U){return typeof U=="function"?U:function(){return U}}},{key:"_getCalculatedScrollLeft",value:function(U,G){var te=U.columnCount,Te=U.height,Re=U.scrollToAlignment,Ie=U.scrollToColumn,ze=U.width,dt=G.scrollLeft,ot=G.instanceProps;if(0<te){var Dt=te-1,Jt=Ie<0?Dt:Math.min(Dt,Ie),rn=ot.rowSizeAndPositionManager.getTotalSize(),y=ot.scrollbarSizeMeasured&&Te<rn?ot.scrollbarSize:0;return ot.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:Re,containerSize:ze-y,currentOffset:dt,targetIndex:Jt})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(U,G){var te=G.scrollLeft,Te=me._getCalculatedScrollLeft(U,G);return typeof Te=="number"&&0<=Te&&te!==Te?me._getScrollToPositionStateUpdate({prevState:G,scrollLeft:Te,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(U,G){var te=U.height,Te=U.rowCount,Re=U.scrollToAlignment,Ie=U.scrollToRow,ze=U.width,dt=G.scrollTop,ot=G.instanceProps;if(0<Te){var Dt=Te-1,Jt=Ie<0?Dt:Math.min(Dt,Ie),rn=ot.columnSizeAndPositionManager.getTotalSize(),y=ot.scrollbarSizeMeasured&&ze<rn?ot.scrollbarSize:0;return ot.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:Re,containerSize:te-y,currentOffset:dt,targetIndex:Jt})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(U,G){var te=G.scrollTop,Te=me._getCalculatedScrollTop(U,G);return typeof Te=="number"&&0<=Te&&te!==Te?me._getScrollToPositionStateUpdate({prevState:G,scrollLeft:-1,scrollTop:Te}):{}}}]),me}();an(Ha,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Ra,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:va,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:sp,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),sd(Ha);function cd(me){var U=me.cellCount,G=me.overscanCellsCount,te=me.scrollDirection,Te=me.startIndex,Re=me.stopIndex;return G=Math.max(1,G),te===1?{overscanStartIndex:Math.max(0,Te-1),overscanStopIndex:Math.min(U-1,Re+G)}:{overscanStartIndex:Math.max(0,Te-G),overscanStopIndex:Math.min(U-1,Re+1)}}n(cd,"defaultOverscanIndicesGetter$1");var dd=function(){function me(U,G){var te;return ps(this,me),(te=na(this,Js(me).call(this,U,G)))._loadMoreRowsMemoizer=al(),te._onRowsRendered=te._onRowsRendered.bind(Bn(te)),te._registerChild=te._registerChild.bind(Bn(te)),te}return n(me,"InfiniteLoader"),ta(me,vr.PureComponent),bs(me,[{key:"resetLoadMoreRowsCache",value:function(U){this._loadMoreRowsMemoizer=al(),U&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(U){var G=this,te=this.props.loadMoreRows;U.forEach(function(Te){var Re=te(Te);Re&&Re.then(function(){(function(Ie){var ze=Ie.lastRenderedStartIndex,dt=Ie.lastRenderedStopIndex,ot=Ie.startIndex,Dt=Ie.stopIndex;return!(dt<ot||Dt<ze)})({lastRenderedStartIndex:G._lastRenderedStartIndex,lastRenderedStopIndex:G._lastRenderedStopIndex,startIndex:Te.startIndex,stopIndex:Te.stopIndex})&&G._registeredChild&&function(Ie){var ze=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,dt=typeof Ie.recomputeGridSize=="function"?Ie.recomputeGridSize:Ie.recomputeRowHeights;dt?dt.call(Ie,ze):Ie.forceUpdate()}(G._registeredChild,G._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(U){var G=U.startIndex,te=U.stopIndex;this._lastRenderedStartIndex=G,this._lastRenderedStopIndex=te,this._doStuff(G,te)}},{key:"_doStuff",value:function(U,G){var te,Te=this,Re=this.props,Ie=Re.isRowLoaded,ze=Re.minimumBatchSize,dt=Re.rowCount,ot=Re.threshold,Dt=function(rn){for(var y=rn.isRowLoaded,C=rn.minimumBatchSize,D=rn.rowCount,k=rn.startIndex,j=rn.stopIndex,ie=[],De=null,Le=null,Qe=k;Qe<=j;Qe++)y({index:Qe})?Le!==null&&(ie.push({startIndex:De,stopIndex:Le}),De=Le=null):(Le=Qe,De===null&&(De=Qe));if(Le!==null){for(var We=Math.min(Math.max(Le,De+C-1),D-1),Pt=Le+1;Pt<=We&&!y({index:Pt});Pt++)Le=Pt;ie.push({startIndex:De,stopIndex:Le})}if(ie.length)for(var Nt=ie[0];Nt.stopIndex-Nt.startIndex+1<C&&0<Nt.startIndex;){var tn=Nt.startIndex-1;if(y({index:tn}))break;Nt.startIndex=tn}return ie}({isRowLoaded:Ie,minimumBatchSize:ze,rowCount:dt,startIndex:Math.max(0,U-ot),stopIndex:Math.min(dt-1,G+ot)}),Jt=(te=[]).concat.apply(te,um(Dt.map(function(rn){return[rn.startIndex,rn.stopIndex]})));this._loadMoreRowsMemoizer({callback:function(){Te._loadUnloadedRanges(Dt)},indices:{squashedUnloadedRanges:Jt}})}},{key:"_registerChild",value:function(U){this._registeredChild=U}}]),me}();an(dd,"propTypes",{children:Xt.func.isRequired,isRowLoaded:Xt.func.isRequired,loadMoreRows:Xt.func.isRequired,minimumBatchSize:Xt.number.isRequired,rowCount:Xt.number.isRequired,threshold:Xt.number.isRequired}),an(dd,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});var pu=function(){function me(){var U,G;ps(this,me);for(var te=arguments.length,Te=new Array(te),Re=0;Re<te;Re++)Te[Re]=arguments[Re];return an(Bn(G=na(this,(U=Js(me)).call.apply(U,[this].concat(Te)))),"Grid",void 0),an(Bn(G),"_cellRenderer",function(Ie){var ze=Ie.parent,dt=Ie.rowIndex,ot=Ie.style,Dt=Ie.isScrolling,Jt=Ie.isVisible,rn=Ie.key,y=G.props.rowRenderer,C=Object.getOwnPropertyDescriptor(ot,"width");return C&&C.writable&&(ot.width="100%"),y({index:dt,style:ot,isScrolling:Dt,isVisible:Jt,key:rn,parent:ze})}),an(Bn(G),"_setRef",function(Ie){G.Grid=Ie}),an(Bn(G),"_onScroll",function(Ie){var ze=Ie.clientHeight,dt=Ie.scrollHeight,ot=Ie.scrollTop;(0,G.props.onScroll)({clientHeight:ze,scrollHeight:dt,scrollTop:ot})}),an(Bn(G),"_onSectionRendered",function(Ie){var ze=Ie.rowOverscanStartIndex,dt=Ie.rowOverscanStopIndex,ot=Ie.rowStartIndex,Dt=Ie.rowStopIndex;(0,G.props.onRowsRendered)({overscanStartIndex:ze,overscanStopIndex:dt,startIndex:ot,stopIndex:Dt})}),G}return n(me,"List"),ta(me,vr.PureComponent),bs(me,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(U){var G=U.alignment,te=U.index;return this.Grid?this.Grid.getOffsetForCell({alignment:G,rowIndex:te,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(U){var G=U.columnIndex,te=U.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:te,columnIndex:G})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(U){var G=0<arguments.length&&U!==void 0?U:{},te=G.columnIndex,Te=te===void 0?0:te,Re=G.rowIndex,Ie=Re===void 0?0:Re;this.Grid&&this.Grid.recomputeGridSize({rowIndex:Ie,columnIndex:Te})}},{key:"recomputeRowHeights",value:function(U){var G=0<arguments.length&&U!==void 0?U:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:G,columnIndex:0})}},{key:"scrollToPosition",value:function(U){var G=0<arguments.length&&U!==void 0?U:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:G})}},{key:"scrollToRow",value:function(U){var G=0<arguments.length&&U!==void 0?U:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:G})}},{key:"render",value:function(){var U=this.props,G=U.className,te=U.noRowsRenderer,Te=U.scrollToIndex,Re=U.width,Ie=Aa("ReactVirtualized__List",G);return vr.createElement(Ha,Va({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:Ie,columnWidth:Re,columnCount:1,noContentRenderer:te,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:Te}))}}]),me}();an(pu,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:cd,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Ac={ge:function(me,U,G,te,Te){return typeof G=="function"?function(Re,Ie,ze,dt,ot){for(var Dt=ze+1;Ie<=ze;){var Jt=Ie+ze>>>1;0<=ot(Re[Jt],dt)?ze=(Dt=Jt)-1:Ie=1+Jt}return Dt}(me,te===void 0?0:0|te,Te===void 0?me.length-1:0|Te,U,G):function(Re,Ie,ze,dt){for(var ot=ze+1;Ie<=ze;){var Dt=Ie+ze>>>1;dt<=Re[Dt]?ze=(ot=Dt)-1:Ie=1+Dt}return ot}(me,G===void 0?0:0|G,te===void 0?me.length-1:0|te,U)},gt:function(me,U,G,te,Te){return typeof G=="function"?function(Re,Ie,ze,dt,ot){for(var Dt=ze+1;Ie<=ze;){var Jt=Ie+ze>>>1;0<ot(Re[Jt],dt)?ze=(Dt=Jt)-1:Ie=1+Jt}return Dt}(me,te===void 0?0:0|te,Te===void 0?me.length-1:0|Te,U,G):function(Re,Ie,ze,dt){for(var ot=ze+1;Ie<=ze;){var Dt=Ie+ze>>>1;dt<Re[Dt]?ze=(ot=Dt)-1:Ie=1+Dt}return ot}(me,G===void 0?0:0|G,te===void 0?me.length-1:0|te,U)},lt:function(me,U,G,te,Te){return typeof G=="function"?function(Re,Ie,ze,dt,ot){for(var Dt=Ie-1;Ie<=ze;){var Jt=Ie+ze>>>1;ot(Re[Jt],dt)<0?Ie=1+(Dt=Jt):ze=Jt-1}return Dt}(me,te===void 0?0:0|te,Te===void 0?me.length-1:0|Te,U,G):function(Re,Ie,ze,dt){for(var ot=Ie-1;Ie<=ze;){var Dt=Ie+ze>>>1;Re[Dt]<dt?Ie=1+(ot=Dt):ze=Dt-1}return ot}(me,G===void 0?0:0|G,te===void 0?me.length-1:0|te,U)},le:function(me,U,G,te,Te){return typeof G=="function"?function(Re,Ie,ze,dt,ot){for(var Dt=Ie-1;Ie<=ze;){var Jt=Ie+ze>>>1;ot(Re[Jt],dt)<=0?Ie=1+(Dt=Jt):ze=Jt-1}return Dt}(me,te===void 0?0:0|te,Te===void 0?me.length-1:0|Te,U,G):function(Re,Ie,ze,dt){for(var ot=Ie-1;Ie<=ze;){var Dt=Ie+ze>>>1;Re[Dt]<=dt?Ie=1+(ot=Dt):ze=Dt-1}return ot}(me,G===void 0?0:0|G,te===void 0?me.length-1:0|te,U)},eq:function(me,U,G,te,Te){return typeof G=="function"?function(Re,Ie,ze,dt,ot){for(;Ie<=ze;){var Dt=Ie+ze>>>1,Jt=ot(Re[Dt],dt);if(Jt===0)return Dt;Jt<=0?Ie=1+Dt:ze=Dt-1}return-1}(me,te===void 0?0:0|te,Te===void 0?me.length-1:0|Te,U,G):function(Re,Ie,ze,dt){for(;Ie<=ze;){var ot=Ie+ze>>>1,Dt=Re[ot];if(Dt===dt)return ot;Dt<=dt?Ie=1+ot:ze=ot-1}return-1}(me,G===void 0?0:0|G,te===void 0?me.length-1:0|te,U)}};function ud(me,U,G,te,Te){this.mid=me,this.left=U,this.right=G,this.leftPoints=te,this.rightPoints=Te,this.count=(U?U.count:0)+(G?G.count:0)+te.length}n(ud,"IntervalTreeNode");var Wl=ud.prototype;function fd(me,U){me.mid=U.mid,me.left=U.left,me.right=U.right,me.leftPoints=U.leftPoints,me.rightPoints=U.rightPoints,me.count=U.count}n(fd,"copy");function mu(me,U){var G=Il(U);me.mid=G.mid,me.left=G.left,me.right=G.right,me.leftPoints=G.leftPoints,me.rightPoints=G.rightPoints,me.count=G.count}n(mu,"rebuild");function gu(me,U){var G=me.intervals([]);G.push(U),mu(me,G)}n(gu,"rebuildWithInterval");function vu(me,U){var G=me.intervals([]),te=G.indexOf(U);return te<0?0:(G.splice(te,1),mu(me,G),1)}n(vu,"rebuildWithoutInterval");function Su(me,U,G){for(var te=0;te<me.length&&me[te][0]<=U;++te){var Te=G(me[te]);if(Te)return Te}}n(Su,"reportLeftRange");function yu(me,U,G){for(var te=me.length-1;0<=te&&me[te][1]>=U;--te){var Te=G(me[te]);if(Te)return Te}}n(yu,"reportRightRange");function _u(me,U){for(var G=0;G<me.length;++G){var te=U(me[G]);if(te)return te}}n(_u,"reportRange");function Af(me,U){return me-U}n(Af,"compareNumbers");function hd(me,U){var G=me[0]-U[0];return G||me[1]-U[1]}n(hd,"compareBegin");function pd(me,U){var G=me[1]-U[1];return G||me[0]-U[0]}n(pd,"compareEnd");function Il(me){if(me.length===0)return null;for(var U=[],G=0;G<me.length;++G)U.push(me[G][0],me[G][1]);U.sort(Af);var te=U[U.length>>1],Te=[],Re=[],Ie=[];for(G=0;G<me.length;++G){var ze=me[G];ze[1]<te?Te.push(ze):te<ze[0]?Re.push(ze):Ie.push(ze)}var dt=Ie,ot=Ie.slice();return dt.sort(hd),ot.sort(pd),new ud(te,Il(Te),Il(Re),dt,ot)}n(Il,"createIntervalTree");function md(me){this.root=me}n(md,"IntervalTree"),Wl.intervals=function(me){return me.push.apply(me,this.leftPoints),this.left&&this.left.intervals(me),this.right&&this.right.intervals(me),me},Wl.insert=function(me){var U=this.count-this.leftPoints.length;if(this.count+=1,me[1]<this.mid)this.left?4*(this.left.count+1)>3*(1+U)?gu(this,me):this.left.insert(me):this.left=Il([me]);else if(me[0]>this.mid)this.right?4*(this.right.count+1)>3*(1+U)?gu(this,me):this.right.insert(me):this.right=Il([me]);else{var G=Ac.ge(this.leftPoints,me,hd),te=Ac.ge(this.rightPoints,me,pd);this.leftPoints.splice(G,0,me),this.rightPoints.splice(te,0,me)}},Wl.remove=function(me){var U=this.count-this.leftPoints;if(me[1]<this.mid)return this.left?3*(U-1)<4*(this.right?this.right.count:0)?vu(this,me):(Re=this.left.remove(me))===2?(this.left=null,this.count-=1,1):(Re===1&&(this.count-=1),Re):0;if(me[0]>this.mid)return this.right?3*(U-1)<4*(this.left?this.left.count:0)?vu(this,me):(Re=this.right.remove(me))===2?(this.right=null,this.count-=1,1):(Re===1&&(this.count-=1),Re):0;if(this.count===1)return this.leftPoints[0]===me?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===me){if(this.left&&this.right){for(var G=this,te=this.left;te.right;)te=(G=te).right;if(G===this)te.right=this.right;else{var Te=this.left;Re=this.right,G.count-=te.count,G.right=te.left,te.left=Te,te.right=Re}fd(this,te),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?fd(this,this.left):fd(this,this.right);return 1}for(Te=Ac.ge(this.leftPoints,me,hd);Te<this.leftPoints.length&&this.leftPoints[Te][0]===me[0];++Te)if(this.leftPoints[Te]===me){for(this.count-=1,this.leftPoints.splice(Te,1),Re=Ac.ge(this.rightPoints,me,pd);Re<this.rightPoints.length&&this.rightPoints[Re][1]===me[1];++Re)if(this.rightPoints[Re]===me)return this.rightPoints.splice(Re,1),1}return 0;var Re},Wl.queryPoint=function(me,U){if(me<this.mid)return this.left&&(G=this.left.queryPoint(me,U))?G:Su(this.leftPoints,me,U);if(me>this.mid){var G;return this.right&&(G=this.right.queryPoint(me,U))?G:yu(this.rightPoints,me,U)}return _u(this.leftPoints,U)},Wl.queryInterval=function(me,U,G){var te;return me<this.mid&&this.left&&(te=this.left.queryInterval(me,U,G))||U>this.mid&&this.right&&(te=this.right.queryInterval(me,U,G))?te:U<this.mid?Su(this.leftPoints,U,G):me>this.mid?yu(this.rightPoints,me,G):_u(this.leftPoints,G)};var wl=md.prototype;wl.insert=function(me){this.root?this.root.insert(me):this.root=new ud(me[0],null,null,[me],[me])},wl.remove=function(me){if(this.root){var U=this.root.remove(me);return U===2&&(this.root=null),U!==0}return!1},wl.queryPoint=function(me,U){if(this.root)return this.root.queryPoint(me,U)},wl.queryInterval=function(me,U,G){if(me<=U&&this.root)return this.root.queryInterval(me,U,G)},Object.defineProperty(wl,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(wl,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var gd=function(){function me(){ps(this,me),an(this,"_columnSizeMap",{}),an(this,"_intervalTree",function(U){return U&&U.length!==0?new md(Il(U)):new md(null)}()),an(this,"_leftMap",{})}return n(me,"PositionCache"),bs(me,[{key:"estimateTotalHeight",value:function(U,G,te){var Te=U-this.count;return this.tallestColumnSize+Math.ceil(Te/G)*te}},{key:"range",value:function(U,G,te){var Te=this;this._intervalTree.queryInterval(U,U+G,function(Re){var Ie=dm(Re,3),ze=Ie[0],dt=(Ie[1],Ie[2]);return te(dt,Te._leftMap[dt],ze)})}},{key:"setPosition",value:function(U,G,te,Te){this._intervalTree.insert([te,te+Te,U]),this._leftMap[U]=G;var Re=this._columnSizeMap,Ie=Re[G];Re[G]=Ie===void 0?te+Te:Math.max(Ie,te+Te)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var U=this._columnSizeMap,G=0;for(var te in U){var Te=U[te];G=G===0?Te:Math.min(G,Te)}return G}},{key:"tallestColumnSize",get:function(){var U=this._columnSizeMap,G=0;for(var te in U){var Te=U[te];G=Math.max(G,Te)}return G}}]),me}(),vd=function(){function me(){var U,G;ps(this,me);for(var te=arguments.length,Te=new Array(te),Re=0;Re<te;Re++)Te[Re]=arguments[Re];return an(Bn(G=na(this,(U=Js(me)).call.apply(U,[this].concat(Te)))),"state",{isScrolling:!1,scrollTop:0}),an(Bn(G),"_debounceResetIsScrollingId",void 0),an(Bn(G),"_invalidateOnUpdateStartIndex",null),an(Bn(G),"_invalidateOnUpdateStopIndex",null),an(Bn(G),"_positionCache",new gd),an(Bn(G),"_startIndex",null),an(Bn(G),"_startIndexMemoized",null),an(Bn(G),"_stopIndex",null),an(Bn(G),"_stopIndexMemoized",null),an(Bn(G),"_debounceResetIsScrollingCallback",function(){G.setState({isScrolling:!1})}),an(Bn(G),"_setScrollingContainerRef",function(Ie){G._scrollingContainer=Ie}),an(Bn(G),"_onScroll",function(Ie){var ze=G.props.height,dt=Ie.currentTarget.scrollTop,ot=Math.min(Math.max(0,G._getEstimatedTotalHeight()-ze),dt);dt===ot&&(G._debounceResetIsScrolling(),G.state.scrollTop!==ot&&G.setState({isScrolling:!0,scrollTop:ot}))}),G}return n(me,"Masonry"),ta(me,vr.PureComponent),bs(me,[{key:"clearCellPositions",value:function(){this._positionCache=new gd,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(U){var G=U.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=G,this._invalidateOnUpdateStopIndex=G):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,G),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,G))}},{key:"recomputeCellPositions",value:function(){var U=this._positionCache.count-1;this._positionCache=new gd,this._populatePositionCache(0,U),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(U){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==U.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Dc(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var U,G=this,te=this.props,Te=te.autoHeight,Re=te.cellCount,Ie=te.cellMeasurerCache,ze=te.cellRenderer,dt=te.className,ot=te.height,Dt=te.id,Jt=te.keyMapper,rn=te.overscanByPixels,y=te.role,C=te.style,D=te.tabIndex,k=te.width,j=te.rowDirection,ie=this.state,De=ie.isScrolling,Le=ie.scrollTop,Qe=[],We=this._getEstimatedTotalHeight(),Pt=this._positionCache.shortestColumnSize,Nt=this._positionCache.count,tn=0;if(this._positionCache.range(Math.max(0,Le-rn),ot+2*rn,function(Fi,ci,dr){var kr;U=U===void 0?tn=Fi:(tn=Math.min(tn,Fi),Math.max(U,Fi)),Qe.push(ze({index:Fi,isScrolling:De,key:Jt(Fi),parent:G,style:(kr={height:Ie.getHeight(Fi)},an(kr,j==="ltr"?"left":"right",ci),an(kr,"position","absolute"),an(kr,"top",dr),an(kr,"width",Ie.getWidth(Fi)),kr)}))}),Pt<Le+ot+rn&&Nt<Re)for(var ln=Math.min(Re-Nt,Math.ceil((Le+ot+rn-Pt)/Ie.defaultHeight*k/Ie.defaultWidth)),qn=Nt;qn<Nt+ln;qn++)U=qn,Qe.push(ze({index:qn,isScrolling:De,key:Jt(qn),parent:this,style:{width:Ie.getWidth(qn)}}));return this._startIndex=tn,this._stopIndex=U,vr.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Aa("ReactVirtualized__Masonry",dt),id:Dt,onScroll:this._onScroll,role:y,style:bo({boxSizing:"border-box",direction:"ltr",height:Te?"auto":ot,overflowX:"hidden",overflowY:We<ot?"hidden":"auto",position:"relative",width:k,WebkitOverflowScrolling:"touch",willChange:"transform"},C),tabIndex:D},vr.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:We,maxWidth:"100%",maxHeight:We,overflow:"hidden",pointerEvents:De?"none":"",position:"relative"}},Qe))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var U=this._invalidateOnUpdateStartIndex,G=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(U,G),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var U=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Dc(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=eo(this._debounceResetIsScrollingCallback,U)}},{key:"_getEstimatedTotalHeight",value:function(){var U=this.props,G=U.cellCount,te=U.cellMeasurerCache,Te=U.width,Re=Math.max(1,Math.floor(Te/te.defaultWidth));return this._positionCache.estimateTotalHeight(G,Re,te.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var U=this.props,G=U.height,te=U.onScroll,Te=this.state.scrollTop;this._onScrollMemoized!==Te&&(te({clientHeight:G,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:Te}),this._onScrollMemoized=Te)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(U,G){for(var te=this.props,Te=te.cellMeasurerCache,Re=te.cellPositioner,Ie=U;Ie<=G;Ie++){var ze=Re(Ie),dt=ze.left,ot=ze.top;this._positionCache.setPosition(Ie,dt,ot,Te.getHeight(Ie))}}}],[{key:"getDerivedStateFromProps",value:function(U,G){return U.scrollTop!==void 0&&G.scrollTop!==U.scrollTop?{isScrolling:!0,scrollTop:U.scrollTop}:null}}]),me}();function bu(){}n(bu,"noop"),an(vd,"defaultProps",{autoHeight:!1,keyMapper:function(me){return me},onCellsRendered:bu,onScroll:bu,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"}),sd(vd);var Sd=function(){function me(){var U=this,G=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};ps(this,me),an(this,"_cellMeasurerCache",void 0),an(this,"_columnIndexOffset",void 0),an(this,"_rowIndexOffset",void 0),an(this,"columnWidth",function(dt){var ot=dt.index;U._cellMeasurerCache.columnWidth({index:ot+U._columnIndexOffset})}),an(this,"rowHeight",function(dt){var ot=dt.index;U._cellMeasurerCache.rowHeight({index:ot+U._rowIndexOffset})});var te=G.cellMeasurerCache,Te=G.columnIndexOffset,Re=Te===void 0?0:Te,Ie=G.rowIndexOffset,ze=Ie===void 0?0:Ie;this._cellMeasurerCache=te,this._columnIndexOffset=Re,this._rowIndexOffset=ze}return n(me,"CellMeasurerCacheDecorator"),bs(me,[{key:"clear",value:function(U,G){this._cellMeasurerCache.clear(U+this._rowIndexOffset,G+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:0;return this._cellMeasurerCache.getHeight(U+this._rowIndexOffset,te+this._columnIndexOffset)}},{key:"getWidth",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:0;return this._cellMeasurerCache.getWidth(U+this._rowIndexOffset,te+this._columnIndexOffset)}},{key:"has",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:0;return this._cellMeasurerCache.has(U+this._rowIndexOffset,te+this._columnIndexOffset)}},{key:"set",value:function(U,G,te,Te){this._cellMeasurerCache.set(U+this._rowIndexOffset,G+this._columnIndexOffset,te,Te)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),me}(),Oc=function(){function me(U,G){var te;ps(this,me),an(Bn(te=na(this,Js(me).call(this,U,G))),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),an(Bn(te),"_deferredInvalidateColumnIndex",null),an(Bn(te),"_deferredInvalidateRowIndex",null),an(Bn(te),"_bottomLeftGridRef",function(ze){te._bottomLeftGrid=ze}),an(Bn(te),"_bottomRightGridRef",function(ze){te._bottomRightGrid=ze}),an(Bn(te),"_cellRendererBottomLeftGrid",function(ze){var dt=ze.rowIndex,ot=od(ze,["rowIndex"]),Dt=te.props,Jt=Dt.cellRenderer,rn=Dt.fixedRowCount;return dt===Dt.rowCount-rn?vr.createElement("div",{key:ot.key,style:bo({},ot.style,{height:20})}):Jt(bo({},ot,{parent:Bn(te),rowIndex:dt+rn}))}),an(Bn(te),"_cellRendererBottomRightGrid",function(ze){var dt=ze.columnIndex,ot=ze.rowIndex,Dt=od(ze,["columnIndex","rowIndex"]),Jt=te.props,rn=Jt.cellRenderer,y=Jt.fixedColumnCount,C=Jt.fixedRowCount;return rn(bo({},Dt,{columnIndex:dt+y,parent:Bn(te),rowIndex:ot+C}))}),an(Bn(te),"_cellRendererTopRightGrid",function(ze){var dt=ze.columnIndex,ot=od(ze,["columnIndex"]),Dt=te.props,Jt=Dt.cellRenderer,rn=Dt.columnCount,y=Dt.fixedColumnCount;return dt===rn-y?vr.createElement("div",{key:ot.key,style:bo({},ot.style,{width:20})}):Jt(bo({},ot,{columnIndex:dt+y,parent:Bn(te)}))}),an(Bn(te),"_columnWidthRightGrid",function(ze){var dt=ze.index,ot=te.props,Dt=ot.columnCount,Jt=ot.fixedColumnCount,rn=ot.columnWidth,y=te.state,C=y.scrollbarSize;return y.showHorizontalScrollbar&&dt===Dt-Jt?C:typeof rn=="function"?rn({index:dt+Jt}):rn}),an(Bn(te),"_onScroll",function(ze){var dt=ze.scrollLeft,ot=ze.scrollTop;te.setState({scrollLeft:dt,scrollTop:ot});var Dt=te.props.onScroll;Dt&&Dt(ze)}),an(Bn(te),"_onScrollbarPresenceChange",function(ze){var dt=ze.horizontal,ot=ze.size,Dt=ze.vertical,Jt=te.state,rn=Jt.showHorizontalScrollbar,y=Jt.showVerticalScrollbar;if(dt!==rn||Dt!==y){te.setState({scrollbarSize:ot,showHorizontalScrollbar:dt,showVerticalScrollbar:Dt});var C=te.props.onScrollbarPresenceChange;typeof C=="function"&&C({horizontal:dt,size:ot,vertical:Dt})}}),an(Bn(te),"_onScrollLeft",function(ze){var dt=ze.scrollLeft;te._onScroll({scrollLeft:dt,scrollTop:te.state.scrollTop})}),an(Bn(te),"_onScrollTop",function(ze){var dt=ze.scrollTop;te._onScroll({scrollTop:dt,scrollLeft:te.state.scrollLeft})}),an(Bn(te),"_rowHeightBottomGrid",function(ze){var dt=ze.index,ot=te.props,Dt=ot.fixedRowCount,Jt=ot.rowCount,rn=ot.rowHeight,y=te.state,C=y.scrollbarSize;return y.showVerticalScrollbar&&dt===Jt-Dt?C:typeof rn=="function"?rn({index:dt+Dt}):rn}),an(Bn(te),"_topLeftGridRef",function(ze){te._topLeftGrid=ze}),an(Bn(te),"_topRightGridRef",function(ze){te._topRightGrid=ze});var Te=U.deferredMeasurementCache,Re=U.fixedColumnCount,Ie=U.fixedRowCount;return te._maybeCalculateCachedStyles(!0),Te&&(te._deferredMeasurementCacheBottomLeftGrid=0<Ie?new Sd({cellMeasurerCache:Te,columnIndexOffset:0,rowIndexOffset:Ie}):Te,te._deferredMeasurementCacheBottomRightGrid=0<Re||0<Ie?new Sd({cellMeasurerCache:Te,columnIndexOffset:Re,rowIndexOffset:Ie}):Te,te._deferredMeasurementCacheTopRightGrid=0<Re?new Sd({cellMeasurerCache:Te,columnIndexOffset:Re,rowIndexOffset:0}):Te),te}return n(me,"MultiGrid"),ta(me,vr.PureComponent),bs(me,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(U){var G=0<arguments.length&&U!==void 0?U:{},te=G.columnIndex,Te=te===void 0?0:te,Re=G.rowIndex,Ie=Re===void 0?0:Re;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,Te):Te,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,Ie):Ie}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(U){var G=0<arguments.length&&U!==void 0?U:{},te=G.columnIndex,Te=te===void 0?0:te,Re=G.rowIndex,Ie=Re===void 0?0:Re,ze=this.props,dt=ze.fixedColumnCount,ot=ze.fixedRowCount,Dt=Math.max(0,Te-dt),Jt=Math.max(0,Ie-ot);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:Te,rowIndex:Jt}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:Dt,rowIndex:Jt}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:Te,rowIndex:Ie}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:Dt,rowIndex:Ie}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var U=this.props,G=U.scrollLeft,te=U.scrollTop;if(0<G||0<te){var Te={};0<G&&(Te.scrollLeft=G),0<te&&(Te.scrollTop=te),this.setState(Te)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var U=this.props,G=U.onScroll,te=U.onSectionRendered,Te=(U.onScrollbarPresenceChange,U.scrollLeft,U.scrollToColumn),Re=(U.scrollTop,U.scrollToRow),Ie=od(U,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var ze=this.state,dt=ze.scrollLeft,ot=ze.scrollTop;return vr.createElement("div",{style:this._containerOuterStyle},vr.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(Ie),this._renderTopRightGrid(bo({},Ie,{onScroll:G,scrollLeft:dt}))),vr.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(bo({},Ie,{onScroll:G,scrollTop:ot})),this._renderBottomRightGrid(bo({},Ie,{onScroll:G,onSectionRendered:te,scrollLeft:dt,scrollToColumn:Te,scrollToRow:Re,scrollTop:ot}))))}},{key:"_getBottomGridHeight",value:function(U){return U.height-this._getTopGridHeight(U)}},{key:"_getLeftGridWidth",value:function(U){var G=U.fixedColumnCount,te=U.columnWidth;if(this._leftGridWidth==null)if(typeof te=="function"){for(var Te=0,Re=0;Re<G;Re++)Te+=te({index:Re});this._leftGridWidth=Te}else this._leftGridWidth=te*G;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(U){return U.width-this._getLeftGridWidth(U)}},{key:"_getTopGridHeight",value:function(U){var G=U.fixedRowCount,te=U.rowHeight;if(this._topGridHeight==null)if(typeof te=="function"){for(var Te=0,Re=0;Re<G;Re++)Te+=te({index:Re});this._topGridHeight=Te}else this._topGridHeight=te*G;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var U=this._deferredInvalidateColumnIndex,G=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:U,rowIndex:G}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(U){var G=this.props,te=G.columnWidth,Te=G.enableFixedColumnScroll,Re=G.enableFixedRowScroll,Ie=G.height,ze=G.fixedColumnCount,dt=G.fixedRowCount,ot=G.rowHeight,Dt=G.style,Jt=G.styleBottomLeftGrid,rn=G.styleBottomRightGrid,y=G.styleTopLeftGrid,C=G.styleTopRightGrid,D=G.width,k=U||Ie!==this._lastRenderedHeight||D!==this._lastRenderedWidth,j=U||te!==this._lastRenderedColumnWidth||ze!==this._lastRenderedFixedColumnCount,ie=U||dt!==this._lastRenderedFixedRowCount||ot!==this._lastRenderedRowHeight;(U||k||Dt!==this._lastRenderedStyle)&&(this._containerOuterStyle=bo({height:Ie,overflow:"visible",width:D},Dt)),(U||k||ie)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:D},this._containerBottomStyle={height:Ie-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:D}),!U&&Jt===this._lastRenderedStyleBottomLeftGrid||(this._bottomLeftGridStyle=bo({left:0,overflowX:"hidden",overflowY:Te?"auto":"hidden",position:"absolute"},Jt)),(U||j||rn!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=bo({left:this._getLeftGridWidth(this.props),position:"absolute"},rn)),!U&&y===this._lastRenderedStyleTopLeftGrid||(this._topLeftGridStyle=bo({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},y)),(U||j||C!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=bo({left:this._getLeftGridWidth(this.props),overflowX:Re?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},C)),this._lastRenderedColumnWidth=te,this._lastRenderedFixedColumnCount=ze,this._lastRenderedFixedRowCount=dt,this._lastRenderedHeight=Ie,this._lastRenderedRowHeight=ot,this._lastRenderedStyle=Dt,this._lastRenderedStyleBottomLeftGrid=Jt,this._lastRenderedStyleBottomRightGrid=rn,this._lastRenderedStyleTopLeftGrid=y,this._lastRenderedStyleTopRightGrid=C,this._lastRenderedWidth=D}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(U){var G=U.enableFixedColumnScroll,te=U.fixedColumnCount,Te=U.fixedRowCount,Re=U.rowCount,Ie=U.hideBottomLeftGridScrollbar,ze=this.state.showVerticalScrollbar;if(!te)return null;var dt=ze?1:0,ot=this._getBottomGridHeight(U),Dt=this._getLeftGridWidth(U),Jt=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,rn=Ie?Dt+Jt:Dt,y=vr.createElement(Ha,Va({},U,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:te,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:ot,onScroll:G?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,Re-Te)+dt,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:rn}));return Ie?vr.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:bo({},this._bottomLeftGridStyle,{height:ot,width:Dt,overflowY:"hidden"})},y):y}},{key:"_renderBottomRightGrid",value:function(U){var G=U.columnCount,te=U.fixedColumnCount,Te=U.fixedRowCount,Re=U.rowCount,Ie=U.scrollToColumn,ze=U.scrollToRow;return vr.createElement(Ha,Va({},U,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,G-te),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(U),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,Re-Te),rowHeight:this._rowHeightBottomGrid,scrollToColumn:Ie-te,scrollToRow:ze-Te,style:this._bottomRightGridStyle,width:this._getRightGridWidth(U)}))}},{key:"_renderTopLeftGrid",value:function(U){var G=U.fixedColumnCount,te=U.fixedRowCount;return G&&te?vr.createElement(Ha,Va({},U,{className:this.props.classNameTopLeftGrid,columnCount:G,height:this._getTopGridHeight(U),ref:this._topLeftGridRef,rowCount:te,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(U)})):null}},{key:"_renderTopRightGrid",value:function(U){var G=U.columnCount,te=U.enableFixedRowScroll,Te=U.fixedColumnCount,Re=U.fixedRowCount,Ie=U.scrollLeft,ze=U.hideTopRightGridScrollbar,dt=this.state,ot=dt.showHorizontalScrollbar,Dt=dt.scrollbarSize;if(!Re)return null;var Jt=ot?1:0,rn=this._getTopGridHeight(U),y=this._getRightGridWidth(U),C=ot?Dt:0,D=rn,k=this._topRightGridStyle;ze&&(D=rn+C,k=bo({},this._topRightGridStyle,{left:0}));var j=vr.createElement(Ha,Va({},U,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,G-Te)+Jt,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:D,onScroll:te?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:Re,scrollLeft:Ie,style:k,tabIndex:null,width:y}));return ze?vr.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:bo({},this._topRightGridStyle,{height:rn,width:y,overflowX:"hidden"})},j):j}}],[{key:"getDerivedStateFromProps",value:function(U,G){return U.scrollLeft!==G.scrollLeft||U.scrollTop!==G.scrollTop?{scrollLeft:U.scrollLeft!=null&&0<=U.scrollLeft?U.scrollLeft:G.scrollLeft,scrollTop:U.scrollTop!=null&&0<=U.scrollTop?U.scrollTop:G.scrollTop}:null}}]),me}();an(Oc,"propTypes",{classNameBottomLeftGrid:Xt.string.isRequired,classNameBottomRightGrid:Xt.string.isRequired,classNameTopLeftGrid:Xt.string.isRequired,classNameTopRightGrid:Xt.string.isRequired,enableFixedColumnScroll:Xt.bool.isRequired,enableFixedRowScroll:Xt.bool.isRequired,fixedColumnCount:Xt.number.isRequired,fixedRowCount:Xt.number.isRequired,onScrollbarPresenceChange:Xt.func,style:Xt.object.isRequired,styleBottomLeftGrid:Xt.object.isRequired,styleBottomRightGrid:Xt.object.isRequired,styleTopLeftGrid:Xt.object.isRequired,styleTopRightGrid:Xt.object.isRequired,hideTopRightGridScrollbar:Xt.bool,hideBottomLeftGridScrollbar:Xt.bool}),an(Oc,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),sd(Oc);var Eu=function(){function me(U,G){var te;return ps(this,me),(te=na(this,Js(me).call(this,U,G))).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},te._onScroll=te._onScroll.bind(Bn(te)),te}return n(me,"ScrollSync"),ta(me,vr.PureComponent),bs(me,[{key:"render",value:function(){var U=this.props.children,G=this.state,te=G.clientHeight,Te=G.clientWidth,Re=G.scrollHeight,Ie=G.scrollLeft,ze=G.scrollTop,dt=G.scrollWidth;return U({clientHeight:te,clientWidth:Te,onScroll:this._onScroll,scrollHeight:Re,scrollLeft:Ie,scrollTop:ze,scrollWidth:dt})}},{key:"_onScroll",value:function(U){var G=U.clientHeight,te=U.clientWidth,Te=U.scrollHeight,Re=U.scrollLeft,Ie=U.scrollTop,ze=U.scrollWidth;this.setState({clientHeight:G,clientWidth:te,scrollHeight:Te,scrollLeft:Re,scrollTop:Ie,scrollWidth:ze})}}]),me}();function yd(me){var U=me.dataKey,G=me.rowData;return typeof G.get=="function"?G.get(U):G[U]}n(yd,"defaultCellDataGetter");function _d(me){var U=me.cellData;return U==null?"":String(U)}n(_d,"defaultCellRenderer");function bd(me){var U=me.className,G=me.columns,te=me.style;return vr.createElement("div",{className:U,role:"row",style:te},G)}n(bd,"defaultHeaderRowRenderer"),an(Eu,"propTypes",{children:Xt.func.isRequired});var xs={ASC:"ASC",DESC:"DESC"};function Rc(me){var U=me.sortDirection,G=Aa("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":U===xs.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":U===xs.DESC});return vr.createElement("svg",{className:G,width:18,height:18,viewBox:"0 0 24 24"},U===xs.ASC?vr.createElement("path",{d:"M7 14l5-5 5 5z"}):vr.createElement("path",{d:"M7 10l5 5 5-5z"}),vr.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}n(Rc,"SortIndicator");function Ed(me){var U=me.dataKey,G=me.label,te=me.sortBy,Te=me.sortDirection,Re=te===U,Ie=[vr.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof G=="string"?G:null},G)];return Re&&Ie.push(vr.createElement(Rc,{key:"SortIndicator",sortDirection:Te})),Ie}n(Ed,"defaultHeaderRenderer");function Cd(me){var U=me.className,G=me.columns,te=me.index,Te=me.key,Re=me.onRowClick,Ie=me.onRowDoubleClick,ze=me.onRowMouseOut,dt=me.onRowMouseOver,ot=me.onRowRightClick,Dt=me.rowData,Jt=me.style,rn={"aria-rowindex":te+1};return(Re||Ie||ze||dt||ot)&&(rn["aria-label"]="row",rn.tabIndex=0,Re&&(rn.onClick=function(y){return Re({event:y,index:te,rowData:Dt})}),Ie&&(rn.onDoubleClick=function(y){return Ie({event:y,index:te,rowData:Dt})}),ze&&(rn.onMouseOut=function(y){return ze({event:y,index:te,rowData:Dt})}),dt&&(rn.onMouseOver=function(y){return dt({event:y,index:te,rowData:Dt})}),ot&&(rn.onContextMenu=function(y){return ot({event:y,index:te,rowData:Dt})})),vr.createElement("div",Va({},rn,{className:U,key:Te,role:"row",style:Jt}),G)}n(Cd,"defaultRowRenderer"),Rc.propTypes={sortDirection:Xt.oneOf([xs.ASC,xs.DESC])};var Dl=function(){function me(){return ps(this,me),na(this,Js(me).apply(this,arguments))}return n(me,"Column"),ta(me,vr.Component),me}();an(Dl,"propTypes",{"aria-label":Xt.string,cellDataGetter:Xt.func,cellRenderer:Xt.func,className:Xt.string,columnData:Xt.object,dataKey:Xt.any.isRequired,defaultSortDirection:Xt.oneOf([xs.ASC,xs.DESC]),disableSort:Xt.bool,flexGrow:Xt.number,flexShrink:Xt.number,headerClassName:Xt.string,headerRenderer:Xt.func.isRequired,headerStyle:Xt.object,id:Xt.string,label:Xt.node,maxWidth:Xt.number,minWidth:Xt.number,style:Xt.object,width:Xt.number.isRequired}),an(Dl,"defaultProps",{cellDataGetter:yd,cellRenderer:_d,defaultSortDirection:xs.ASC,flexGrow:0,flexShrink:1,headerRenderer:Ed,style:{}});var Mc=function(){function me(U){var G;return ps(this,me),(G=na(this,Js(me).call(this,U))).state={scrollbarWidth:0},G._createColumn=G._createColumn.bind(Bn(G)),G._createRow=G._createRow.bind(Bn(G)),G._onScroll=G._onScroll.bind(Bn(G)),G._onSectionRendered=G._onSectionRendered.bind(Bn(G)),G._setRef=G._setRef.bind(Bn(G)),G}return n(me,"Table"),ta(me,vr.PureComponent),bs(me,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(U){var G=U.alignment,te=U.index;return this.Grid?this.Grid.getOffsetForCell({alignment:G,rowIndex:te}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(U){var G=U.columnIndex,te=U.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:te,columnIndex:G})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(U){var G=0<arguments.length&&U!==void 0?U:{},te=G.columnIndex,Te=te===void 0?0:te,Re=G.rowIndex,Ie=Re===void 0?0:Re;this.Grid&&this.Grid.recomputeGridSize({rowIndex:Ie,columnIndex:Te})}},{key:"recomputeRowHeights",value:function(U){var G=0<arguments.length&&U!==void 0?U:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:G})}},{key:"scrollToPosition",value:function(U){var G=0<arguments.length&&U!==void 0?U:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:G})}},{key:"scrollToRow",value:function(U){var G=0<arguments.length&&U!==void 0?U:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:G})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var U=_f.findDOMNode(this.Grid),G=U.clientWidth||0;return(U.offsetWidth||0)-G}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var U=this,G=this.props,te=G.children,Te=G.className,Re=G.disableHeader,Ie=G.gridClassName,ze=G.gridStyle,dt=G.headerHeight,ot=G.headerRowRenderer,Dt=G.height,Jt=G.id,rn=G.noRowsRenderer,y=G.rowClassName,C=G.rowStyle,D=G.scrollToIndex,k=G.style,j=G.width,ie=this.state.scrollbarWidth,De=Re?Dt:Dt-dt,Le=typeof y=="function"?y({index:-1}):y,Qe=typeof C=="function"?C({index:-1}):C;return this._cachedColumnStyles=[],vr.Children.toArray(te).forEach(function(We,Pt){var Nt=U._getFlexStyleForColumn(We,We.props.style);U._cachedColumnStyles[Pt]=bo({overflow:"hidden"},Nt)}),vr.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":vr.Children.toArray(te).length,"aria-rowcount":this.props.rowCount,className:Aa("ReactVirtualized__Table",Te),id:Jt,role:"grid",style:k},!Re&&ot({className:Aa("ReactVirtualized__Table__headerRow",Le),columns:this._getHeaderColumns(),style:bo({height:dt,overflow:"hidden",paddingRight:ie,width:j},Qe)}),vr.createElement(Ha,Va({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:Aa("ReactVirtualized__Table__Grid",Ie),cellRenderer:this._createRow,columnWidth:j,columnCount:1,height:De,id:void 0,noContentRenderer:rn,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:ie,scrollToRow:D,style:bo({},ze,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(U){var G=U.column,te=U.columnIndex,Te=U.isScrolling,Re=U.parent,Ie=U.rowData,ze=U.rowIndex,dt=this.props.onColumnClick,ot=G.props,Dt=ot.cellDataGetter,Jt=ot.cellRenderer,rn=ot.className,y=ot.columnData,C=ot.dataKey,D=ot.id,k=Jt({cellData:Dt({columnData:y,dataKey:C,rowData:Ie}),columnData:y,columnIndex:te,dataKey:C,isScrolling:Te,parent:Re,rowData:Ie,rowIndex:ze}),j=this._cachedColumnStyles[te],ie=typeof k=="string"?k:null;return vr.createElement("div",{"aria-colindex":te+1,"aria-describedby":D,className:Aa("ReactVirtualized__Table__rowColumn",rn),key:"Row"+ze+"-Col"+te,onClick:function(De){dt&&dt({columnData:y,dataKey:C,event:De})},role:"gridcell",style:j,title:ie},k)}},{key:"_createHeader",value:function(U){var G,te,Te,Re,Ie,ze=U.column,dt=U.index,ot=this.props,Dt=ot.headerClassName,Jt=ot.headerStyle,rn=ot.onHeaderClick,y=ot.sort,C=ot.sortBy,D=ot.sortDirection,k=ze.props,j=k.columnData,ie=k.dataKey,De=k.defaultSortDirection,Le=k.disableSort,Qe=k.headerRenderer,We=k.id,Pt=k.label,Nt=!Le&&y,tn=Aa("ReactVirtualized__Table__headerColumn",Dt,ze.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:Nt}),ln=this._getFlexStyleForColumn(ze,bo({},Jt,{},ze.props.headerStyle)),qn=Qe({columnData:j,dataKey:ie,disableSort:Le,label:Pt,sortBy:C,sortDirection:D});if(Nt||rn){var Fi=C!==ie?De:D===xs.DESC?xs.ASC:xs.DESC,ci=n(function(dr){Nt&&y({defaultSortDirection:De,event:dr,sortBy:ie,sortDirection:Fi}),rn&&rn({columnData:j,dataKey:ie,event:dr})},"onClick");Ie=ze.props["aria-label"]||Pt||ie,Re="none",Te=0,G=ci,te=n(function(dr){dr.key!=="Enter"&&dr.key!==" "||ci(dr)},"headerOnKeyDown")}return C===ie&&(Re=D===xs.ASC?"ascending":"descending"),vr.createElement("div",{"aria-label":Ie,"aria-sort":Re,className:tn,id:We,key:"Header-Col"+dt,onClick:G,onKeyDown:te,role:"columnheader",style:ln,tabIndex:Te},qn)}},{key:"_createRow",value:function(U){var G=this,te=U.rowIndex,Te=U.isScrolling,Re=U.key,Ie=U.parent,ze=U.style,dt=this.props,ot=dt.children,Dt=dt.onRowClick,Jt=dt.onRowDoubleClick,rn=dt.onRowRightClick,y=dt.onRowMouseOver,C=dt.onRowMouseOut,D=dt.rowClassName,k=dt.rowGetter,j=dt.rowRenderer,ie=dt.rowStyle,De=this.state.scrollbarWidth,Le=typeof D=="function"?D({index:te}):D,Qe=typeof ie=="function"?ie({index:te}):ie,We=k({index:te}),Pt=vr.Children.toArray(ot).map(function(ln,qn){return G._createColumn({column:ln,columnIndex:qn,isScrolling:Te,parent:Ie,rowData:We,rowIndex:te,scrollbarWidth:De})}),Nt=Aa("ReactVirtualized__Table__row",Le),tn=bo({},ze,{height:this._getRowHeight(te),overflow:"hidden",paddingRight:De},Qe);return j({className:Nt,columns:Pt,index:te,isScrolling:Te,key:Re,onRowClick:Dt,onRowDoubleClick:Jt,onRowRightClick:rn,onRowMouseOver:y,onRowMouseOut:C,rowData:We,style:tn})}},{key:"_getFlexStyleForColumn",value:function(U,G){var te=1<arguments.length&&G!==void 0?G:{},Te="".concat(U.props.flexGrow," ").concat(U.props.flexShrink," ").concat(U.props.width,"px"),Re=bo({},te,{flex:Te,msFlex:Te,WebkitFlex:Te});return U.props.maxWidth&&(Re.maxWidth=U.props.maxWidth),U.props.minWidth&&(Re.minWidth=U.props.minWidth),Re}},{key:"_getHeaderColumns",value:function(){var U=this,G=this.props,te=G.children;return(G.disableHeader?[]:vr.Children.toArray(te)).map(function(Te,Re){return U._createHeader({column:Te,index:Re})})}},{key:"_getRowHeight",value:function(U){var G=this.props.rowHeight;return typeof G=="function"?G({index:U}):G}},{key:"_onScroll",value:function(U){var G=U.clientHeight,te=U.scrollHeight,Te=U.scrollTop;(0,this.props.onScroll)({clientHeight:G,scrollHeight:te,scrollTop:Te})}},{key:"_onSectionRendered",value:function(U){var G=U.rowOverscanStartIndex,te=U.rowOverscanStopIndex,Te=U.rowStartIndex,Re=U.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:G,overscanStopIndex:te,startIndex:Te,stopIndex:Re})}},{key:"_setRef",value:function(U){this.Grid=U}},{key:"_setScrollbarWidth",value:function(){var U=this.getScrollbarWidth();this.setState({scrollbarWidth:U})}}]),me}();an(Mc,"propTypes",{"aria-label":Xt.string,"aria-labelledby":Xt.string,autoHeight:Xt.bool,children:function(me){for(var U=vr.Children.toArray(me.children),G=0;G<U.length;G++){var te=U[G].type;if(te!==Dl&&!(te.prototype instanceof Dl))return new Error("Table only accepts children of type Column")}},className:Xt.string,disableHeader:Xt.bool,estimatedRowSize:Xt.number.isRequired,gridClassName:Xt.string,gridStyle:Xt.object,headerClassName:Xt.string,headerHeight:Xt.number.isRequired,headerRowRenderer:Xt.func,headerStyle:Xt.object,height:Xt.number.isRequired,id:Xt.string,noRowsRenderer:Xt.func,onColumnClick:Xt.func,onHeaderClick:Xt.func,onRowClick:Xt.func,onRowDoubleClick:Xt.func,onRowMouseOut:Xt.func,onRowMouseOver:Xt.func,onRowRightClick:Xt.func,onRowsRendered:Xt.func,onScroll:Xt.func.isRequired,overscanIndicesGetter:Xt.func.isRequired,overscanRowCount:Xt.number.isRequired,rowClassName:Xt.oneOfType([Xt.string,Xt.func]),rowGetter:Xt.func.isRequired,rowHeight:Xt.oneOfType([Xt.number,Xt.func]).isRequired,rowCount:Xt.number.isRequired,rowRenderer:Xt.func,rowStyle:Xt.oneOfType([Xt.object,Xt.func]).isRequired,scrollToAlignment:Xt.oneOf(["auto","end","start","center"]).isRequired,scrollToIndex:Xt.number.isRequired,scrollTop:Xt.number,sort:Xt.func,sortBy:Xt.string,sortDirection:Xt.oneOf([xs.ASC,xs.DESC]),style:Xt.object,tabIndex:Xt.number,width:Xt.number.isRequired}),an(Mc,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:cd,overscanRowCount:10,rowRenderer:Cd,headerRowRenderer:bd,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Ja=[],Gl=null,ll=null;function Cu(){ll&&(ll=null,_e.body&&Gl!=null&&(_e.body.style.pointerEvents=Gl),Gl=null)}n(Cu,"enablePointerEventsIfDisabled");function Of(){Cu(),Ja.forEach(function(me){return me.__resetIsScrolling()})}n(Of,"enablePointerEventsAfterDelayCallback");function Tu(me){me.currentTarget===J&&Gl==null&&_e.body&&(Gl=_e.body.style.pointerEvents,_e.body.style.pointerEvents="none"),function(){ll&&Dc(ll);var U=0;Ja.forEach(function(G){U=Math.max(U,G.props.scrollingResetTimeInterval)}),ll=eo(Of,U)}(),Ja.forEach(function(U){U.props.scrollElement===me.currentTarget&&U.__handleWindowScrollEvent()})}n(Tu,"onScrollWindow");function Td(me,U){Ja.some(function(G){return G.props.scrollElement===U})||U.addEventListener("scroll",Tu),Ja.push(me)}n(Td,"registerScrollListener");function Iu(me,U){(Ja=Ja.filter(function(G){return G!==me})).length||(U.removeEventListener("scroll",Tu),ll&&(Dc(ll),Cu()))}n(Iu,"unregisterScrollListener");var Id=n(function(me){return me===J},"isWindow"),zl=n(function(me){return me.getBoundingClientRect()},"getBoundingBox");function wu(me,U){if(me){if(Id(me)){var G=J,te=G.innerHeight,Te=G.innerWidth;return{height:typeof te=="number"?te:0,width:typeof Te=="number"?Te:0}}return zl(me)}return{height:U.serverHeight,width:U.serverWidth}}n(wu,"getDimensions");function Du(me){return Id(me)&&_e.documentElement?{top:"scrollY"in J?J.scrollY:_e.documentElement.scrollTop,left:"scrollX"in J?J.scrollX:_e.documentElement.scrollLeft}:{top:me.scrollTop,left:me.scrollLeft}}n(Du,"getScrollOffset");var Au=n(function(){return typeof J<"u"?J:void 0},"getWindow"),Ou=function(){function me(){var U,G;ps(this,me);for(var te=arguments.length,Te=new Array(te),Re=0;Re<te;Re++)Te[Re]=arguments[Re];return an(Bn(G=na(this,(U=Js(me)).call.apply(U,[this].concat(Te)))),"_window",Au()),an(Bn(G),"_isMounted",!1),an(Bn(G),"_positionFromTop",0),an(Bn(G),"_positionFromLeft",0),an(Bn(G),"_detectElementResize",void 0),an(Bn(G),"_child",void 0),an(Bn(G),"state",bo({},wu(G.props.scrollElement,G.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),an(Bn(G),"_registerChild",function(Ie){!Ie||Ie instanceof uo||Wt.warn("WindowScroller registerChild expects to be passed Element or null"),G._child=Ie,G.updatePosition()}),an(Bn(G),"_onChildScroll",function(Ie){var ze=Ie.scrollTop;if(G.state.scrollTop!==ze){var dt=G.props.scrollElement;dt&&(typeof dt.scrollTo=="function"?dt.scrollTo(0,ze+G._positionFromTop):dt.scrollTop=ze+G._positionFromTop)}}),an(Bn(G),"_registerResizeListener",function(Ie){Ie===J?J.addEventListener("resize",G._onResize,!1):G._detectElementResize.addResizeListener(Ie,G._onResize)}),an(Bn(G),"_unregisterResizeListener",function(Ie){Ie===J?J.removeEventListener("resize",G._onResize,!1):Ie&&G._detectElementResize.removeResizeListener(Ie,G._onResize)}),an(Bn(G),"_onResize",function(){G.updatePosition()}),an(Bn(G),"__handleWindowScrollEvent",function(){if(G._isMounted){var Ie=G.props.onScroll,ze=G.props.scrollElement;if(ze){var dt=Du(ze),ot=Math.max(0,dt.left-G._positionFromLeft),Dt=Math.max(0,dt.top-G._positionFromTop);G.setState({isScrolling:!0,scrollLeft:ot,scrollTop:Dt}),Ie({scrollLeft:ot,scrollTop:Dt})}}}),an(Bn(G),"__resetIsScrolling",function(){G.setState({isScrolling:!1})}),G}return n(me,"WindowScroller"),ta(me,vr.PureComponent),bs(me,[{key:"updatePosition",value:function(U){var G=0<arguments.length&&U!==void 0?U:this.props.scrollElement,te=this.props.onResize,Te=this.state,Re=Te.height,Ie=Te.width,ze=this._child||_f.findDOMNode(this);if(ze instanceof uo&&G){var dt=function(Dt,Jt){if(Id(Jt)&&_e.documentElement){var rn=_e.documentElement,y=zl(Dt),C=zl(rn);return{top:y.top-C.top,left:y.left-C.left}}var D=Du(Jt),k=zl(Dt),j=zl(Jt);return{top:k.top+D.top-j.top,left:k.left+D.left-j.left}}(ze,G);this._positionFromTop=dt.top,this._positionFromLeft=dt.left}var ot=wu(G,this.props);Re===ot.height&&Ie===ot.width||(this.setState({height:ot.height,width:ot.width}),te({height:ot.height,width:ot.width}))}},{key:"componentDidMount",value:function(){var U=this.props.scrollElement;this._detectElementResize=Jh(),this.updatePosition(U),U&&(Td(this,U),this._registerResizeListener(U)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(U){var G=this.props.scrollElement,te=U.scrollElement;te!==G&&te!=null&&G!=null&&(this.updatePosition(G),Iu(this,te),Td(this,G),this._unregisterResizeListener(te),this._registerResizeListener(G))}},{key:"componentWillUnmount",value:function(){var U=this.props.scrollElement;U&&(Iu(this,U),this._unregisterResizeListener(U)),this._isMounted=!1}},{key:"render",value:function(){var U=this.props.children,G=this.state,te=G.isScrolling,Te=G.scrollTop,Re=G.scrollLeft,Ie=G.height,ze=G.width;return U({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:Ie,isScrolling:te,scrollLeft:Re,scrollTop:Te,width:ze})}}]),me}();an(Ou,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Au(),serverHeight:0,serverWidth:0}),Uo.ArrowKeyStepper=bf,Uo.AutoSizer=Yh,Uo.CellMeasurer=Ef,Uo.CellMeasurerCache=fm,Uo.Collection=wf,Uo.Column=Dl,Uo.ColumnSizer=rp,Uo.Grid=Ha,Uo.InfiniteLoader=dd,Uo.List=pu,Uo.Masonry=vd,Uo.MultiGrid=Oc,Uo.ScrollSync=Eu,Uo.SortDirection=xs,Uo.SortIndicator=Rc,Uo.Table=Mc,Uo.WindowScroller=Ou,Uo.accessibilityOverscanIndicesGetter=cd,Uo.createMasonryCellPositioner=function(me){var U,G=me.cellMeasurerCache,te=me.columnCount,Te=me.columnWidth,Re=me.spacer,Ie=Re===void 0?0:Re;function ze(ot){for(var Dt=0,Jt=1;Jt<U.length;Jt++)U[Jt]<U[Dt]&&(Dt=Jt);var rn=Dt*(Te+Ie),y=U[Dt]||0;return U[Dt]=y+G.getHeight(ot)+Ie,{left:rn,top:y}}n(ze,"cellPositioner");function dt(){U=[];for(var ot=0;ot<te;ot++)U[ot]=0}return n(dt,"initOrResetDerivedValues"),dt(),ze.reset=function(ot){te=ot.columnCount,Te=ot.columnWidth,Ie=ot.spacer,dt()},ze},Uo.createTableMultiSort=function(me){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},G=U.defaultSortBy,te=U.defaultSortDirection,Te=te===void 0?{}:te;if(!me)throw Error('Required parameter "sortCallback" not specified');var Re=G||[],Ie={};return Re.forEach(function(ze){Ie[ze]=Te[ze]!==void 0?Te[ze]:"ASC"}),{sort:function(ze){var dt=ze.defaultSortDirection,ot=ze.event,Dt=ze.sortBy;if(ot.shiftKey)Ie[Dt]!==void 0?Ie[Dt]=Ie[Dt]==="ASC"?"DESC":"ASC":(Ie[Dt]=dt,Re.push(Dt));else if(ot.ctrlKey||ot.metaKey){var Jt=Re.indexOf(Dt);0<=Jt&&(Re.splice(Jt,1),delete Ie[Dt])}else Re.length=0,Re.push(Dt),Object.keys(Ie).forEach(function(rn){rn!==Dt&&delete Ie[rn]}),Ie[Dt]!==void 0?Ie[Dt]=Ie[Dt]==="ASC"?"DESC":"ASC":Ie[Dt]=dt;me({sortBy:Re,sortDirection:Ie})},sortBy:Re,sortDirection:Ie}},Uo.defaultCellRangeRenderer=Ra,Uo.defaultOverscanIndicesGetter=sp,Uo.defaultTableCellDataGetter=yd,Uo.defaultTableCellRenderer=_d,Uo.defaultTableHeaderRenderer=Ed,Uo.defaultTableHeaderRowRenderer=bd,Uo.defaultTableRowRenderer=Cd,Object.defineProperty(Uo,"__esModule",{value:!0})}),s.exports}},3262078016:(V,l,c)=>{"use strict";c.r(l),c.d(l,{AiActionType:()=>mn,AutocompleteActions:()=>ve,CalloutBackgroundColor:()=>Gi,CalloutModificationProperty:()=>Zt,CollabApi:()=>Vn,CollabPopoverDismissSource:()=>ke,CollabUrlType:()=>nn,CommentFocusTarget:()=>Dr,CommentLevel:()=>Jn,CommentUIContext:()=>Yi,DialogContext:()=>Bt,DocBlockStyle:()=>K,DocInlineStyle:()=>ht,DocLayoutStyle:()=>se,EmbeddedMoveDirection:()=>$t,EmbeddedObjectType:()=>Ne,EmbeddedUIAttributes:()=>Ui,EmbeddedUiAction:()=>Er,EmbeddedUiContext:()=>cr,ErrorSource:()=>Qi,Feature:()=>Je,FullTableModification:()=>ti,GetSlackObjectFailureReason:()=>fe,GrafterUrls:()=>i,InlineFormattingType:()=>Be,NavigationTypeMetric:()=>we,OpenCommentScrollBehavior:()=>Yt,PlaceholderInsertionType:()=>Ji,RichTextMessageAction:()=>lo,SectionInsertionType:()=>oi,ShortcutModifier:()=>B,SlackListContentRenderType:()=>st,SlackObjectActionType:()=>Sr,SlackObjectType:()=>Fe,SlackShortcutCommandType:()=>ee,SlackShortcutMetricSource:()=>Et,SlackUnfurlContentRenderType:()=>on,TablePart:()=>yi,TablePartModificationType:()=>mi,TableSelectionAction:()=>Dn,TableSelectionModification:()=>ri,TemplateControlAction:()=>sr,TemplateType:()=>io,ToastMessageContext:()=>yt,UnfurlType:()=>ni});class d{constructor(){this.o=!1,this._=[]}run(){this.o=!0;const _e=this._;this._=[];for(let tt=0;tt<_e.length;tt++)_e[tt]()}add(_e){this.o?_e():this._.push(_e)}}n(d,"t");var h,m;(function(F){var _e;(_e=F.Op||(F.Op={}))[_e.DID_INITIALIZE=8]="DID_INITIALIZE",_e[_e.DID_FAIL_TO_INITIALIZE=9]="DID_FAIL_TO_INITIALIZE"})(h||(h={})),function(F){var _e;(_e=F.Op||(F.Op={}))[_e.INIT=0]="INIT"}(m||(m={}));class p{constructor(_e){this.l=new Map,this.u=null,this.destinationFn=_e}setTransportHook(_e){this.u=_e}tearDown(){}addHandler(_e,tt){this.l.has(_e)&&this.logError(`Already had handler for op ${_e} will overwrite.`),this.l.set(_e,tt)}getHandler(_e){const tt=this.l.get(_e);return tt?this.u?(zt,gn)=>{var Yn;return(Yn=this.u)===null||Yn===void 0||Yn.call(this,_e,zt,s.INCOMING),tt(zt,bi=>{var ei;return(ei=this.u)===null||ei===void 0||ei.call(this,_e,bi,s.OUTGOING_REPLY),gn(bi)})}:tt:null}invoke(_e,tt,zt){var gn;if((gn=this.u)===null||gn===void 0||gn.call(this,_e,tt,s.OUTGOING),this.u&&zt){const ei=zt;zt=n(si=>{var Si;(Si=this.u)===null||Si===void 0||Si.call(this,_e,si,s.INCOMING_REPLY),ei(si)},"i")}const Yn=this.destinationFn().getHandler(_e);if(!Yn)return void this.logError(`Bridge transport doesn't have handler for op ${_e}`);let bi;try{bi=Yn(tt,ei=>{zt?zt(ei):this.logError(`Invoke response received without callback for op ${_e}`)})}catch{a(_e,tt)}bi instanceof Promise&&bi.catch(ei=>a(_e,tt))}logError(_e){}}n(p,"s");let a=n((F,_e,tt)=>{let zt="";try{zt=JSON.stringify(_e)}catch{zt="(Unserializable message)"}},"n");var s,i,e;function t(F){return F?`${function(){var _e;const tt=(_e=new URLSearchParams(location.search).get("quip_js_path"))!==null&&_e!==void 0?_e:void 0;return tt&&/^remote-dev\d{4}$/.test(tt)?`https://app.${tt.split("-")[1]}.slack.com`:location.origin}()}${i.RDEVS_CONTROLLER_JS_PATH}`:i.CONTROLLER_JS}n(t,"E");function r(F){if(!F)return!1;const _e=F.indexOf(location.origin+"/")!=0,tt=F.includes("/canvas-rdev/collab/");return _e&&tt}n(r,"l"),function(F){F[F.INCOMING=1]="INCOMING",F[F.INCOMING_REPLY=2]="INCOMING_REPLY",F[F.OUTGOING=3]="OUTGOING",F[F.OUTGOING_REPLY=4]="OUTGOING_REPLY"}(s||(s={})),function(F){F.CONTROLLER_CSS="https://quip.codes/-/static/less/stylesheet/-?retina=True&mode=normal&less=collab%2Fcontroller.less",F.CONTROLLER_JS="https://slackdocs.codes:3000/ts/src/collab/controller/bundle.ts",F.EMBEDDED_JS="https://slackdocs.codes/-/static-script-files?grafted=True&resource_bundle_name=collab_embedded",F.RDEVS_EMBEDDED_JS_PATH="/canvas-rdev/collab/grafted/embedded?grafted=True&resource_bundle_name=collab_embedded",F.RDEVS_CONTROLLER_CSS_PATH="/canvas-rdev/collab/grafted/style?retina=True&mode=normal&less=collab%2Fcontroller.less",F.RDEVS_CONTROLLER_JS_PATH="/canvas-rdev/collab/canvas-remote-dev-vite?path=ts/src/collab/controller/bundle.ts"}(i||(i={})),function(F){F.BRIDGE_TRANSPORT_SET="bridge-transport-set",F.BRIDGE_TRANSPORT_READY="bridge-transport-ready",F.HANDLER_REGISTERED="handler-registered",F.HANDLER_REGISTRATION_FINISHED="handler_registration_finished",F.MESSAGE_SENT="message_sent",F.MESSAGE_HANDLED="message-handled",F.INIT_SENT="init_sent",F.INIT_RECEIVED="init_received",F.DID_INIT_SENT="did_init_sent",F.DID_INIT_RECEIVED="did_init_received",F.BRIDGE_OPEN="bridge-open",F.ERROR="error",F.SYSTEMJS_LOADED="systemjs-loaded",F.CONTROLLER_SYSTEMJS_MODULE_IMPORTED="controller-systemjs-imported",F.CONTROLLER_INIT_DATA_FETCHED="controller-init-data-fetched",F.CONTROLLER_RESOURCE_DATA_FETCHED="controller-resource-data-fetched",F.PROBE="probe",F.OTHER="misc"}(e||(e={}));class o{constructor(_e){this.A=_e,this.T=[],this.S=[],this.O=[],this.N=[],this.I=[],this.L=Date.now(),this.onlyBefore("Handler registered late",e.HANDLER_REGISTERED,[e.HANDLER_REGISTRATION_FINISHED]),this.onlyAfter("Message sent before bridge open",e.MESSAGE_SENT,[e.BRIDGE_OPEN]),this.onlyAfter("Message handled before bridge open",e.MESSAGE_HANDLED,[e.BRIDGE_OPEN])}getTimeoutForPromise(){return o.TIMEOUT_FOR_PROMISE}fireEvent(_e,tt=null){if(this.S.filter(gn=>gn.beforeEvent==_e).forEach(gn=>{gn.afterEvents.some(Yn=>this.T.includes(Yn))&&gn.message&&this.C(`${this.A}: ${gn.message}`)}),this.O.filter(gn=>gn.afterEvent==_e).forEach(gn=>{gn.beforeEvents.some(Yn=>!this.T.includes(Yn))&&gn.message&&this.C(`${this.A}: ${gn.message}`)}),_e!=e.HANDLER_REGISTERED&&this.C(tt?Promise.resolve(tt).then(gn=>`${_e}: ${gn}`):_e),this.T.includes(_e))return;this.T.push(_e);const zt=[];this.N=this.N.filter(gn=>!gn.events.every(Yn=>this.T.includes(Yn))||(zt.push(gn),!1)),zt.forEach(gn=>{gn.description&&this.C(`${_e} -> ${gn.description}`),gn.callback()})}after(_e,tt,zt=null){_e.every(gn=>this.T.includes(gn))?tt():(zt&&this.C(`${zt} deferred`),this.N.push({events:_e,description:zt,callback:tt}))}onlyBefore(_e,tt,zt){this.S.push({beforeEvent:tt,afterEvents:zt,message:_e})}onlyAfter(_e,tt,zt){this.O.push({beforeEvents:zt,afterEvent:tt,message:_e})}C(_e){if(this.I.length>o.MAX_INIT_LOG)return;const tt=Date.now()-this.L,zt=Promise.resolve(_e);this.I.push({timestamp:tt,message:zt}),zt.then(gn=>{console.debug(`${this.A}: ${gn}`)})}getInitLog(_e){const tt=(_e?this.I.slice(0,_e):this.I).map(async zt=>({t:zt.timestamp,e:await zt.message}));return Promise.all(tt).then(zt=>({id:this.A,log:zt}))}}n(o,"h"),o.MAX_INIT_LOG=50,o.TIMEOUT_FOR_PROMISE=3e4;function f(F,{logCallback:_e=n(()=>{},"e"),timeoutMillis:tt=3e4,name:zt="Unnamed",context:gn=""}={}){return new Promise((Yn,bi)=>{let ei=window.setTimeout(()=>{ei=null,_e(`${zt} promise timed out: ${gn}`),bi(new Error(`${zt} promise timed out`))},tt);const si=n(()=>{ei&&(clearTimeout(ei),ei=null)},"E");F.then(Si=>{ei?(si(),Yn(Si)):_e(`${zt} promise resolved after timeout: ${gn}`)}).catch(Si=>{ei?(si(),bi(Si)):_e(`${zt} promise rejected after timeout: ${gn}`)})})}n(f,"a");function g(F,_e,tt,zt,gn){const{span:Yn,closeSpanFn:bi}=zt.createBasicTraceSpan(gn,tt,{[bt.URL]:F}),{closeSpanFn:ei}=zt.createBasicTraceSpan(Yn,mt.HTTP_FETCH_HEADER),si=new AbortController,Si=setTimeout(()=>{si.abort()},zt.bridgeInit.getTimeoutForPromise());return fetch(F,Object.assign({signal:si.signal},_e)).catch(Ai=>{throw ei(Ai),Error(`${tt} fetch failed: ${Ai}`)}).then(Ai=>{if(clearTimeout(Si),!Ai.ok)return ei(new Error(`returned ${Ai.status}`)),u(zt,tt,Ai,Yn).then(hr=>{throw Error(hr)});ei();const{closeSpanFn:tr}=zt.createBasicTraceSpan(Yn,mt.HTTP_FETCH_CONTENT,{[bt.URL]:F});return Ai.text().catch(hr=>{throw tr(hr),hr}).then(hr=>{tr();const{closeSpanFn:Ar}=zt.createBasicTraceSpan(Yn,mt.JSON_PARSE);try{const co=JSON.parse(hr);return Ar(),co}catch(co){throw Ar(new Error(`${co}`)),zt.bridgeInit.fireEvent(e.ERROR,u(zt,tt,Ai,null)),co}})}).finally(()=>{bi()})}n(g,"c");function v(F,_e,tt,zt,gn=!1){const Yn=new AbortController,bi=setTimeout(()=>{Yn.abort()},tt.bridgeInit.getTimeoutForPromise());tt.bridgeInit.fireEvent(e.OTHER,`${_e} prefetch start`);const{span:ei,closeSpanFn:si}=tt.createBasicTraceSpan(zt,mt.MODULE_PREFETCH,{[bt.URL]:F}),{closeSpanFn:Si}=tt.createBasicTraceSpan(ei,mt.HTTP_FETCH_HEADER),Ai={method:"GET",mode:"cors",cache:"default",signal:Yn.signal};return gn&&(Ai.credentials="include"),fetch(F,Ai).catch(tr=>{throw Si(tr),Error(`${_e} fetch failed: ${tr}`)}).then(tr=>{if(!tr.ok)return Si(new Error(`Returned ${tr.status}`)),u(tt,_e,tr,ei).then(Ar=>{throw Error(Ar)});Si();const{closeSpanFn:hr}=tt.createBasicTraceSpan(ei,mt.HTTP_FETCH_CONTENT);return tr.text().then(()=>{hr(),tt.bridgeInit.fireEvent(e.OTHER,`${_e} prefetch ok`)}).catch(Ar=>{throw hr(Ar),Ar})}).finally(()=>{si(),clearTimeout(bi)})}n(v,"d");function u(F,_e,tt,zt){const{closeSpanFn:gn}=F.createBasicTraceSpan(zt,mt.HTTP_FETCH_CONTENT);return tt.text().then(Yn=>{const bi=function(si){if(!si||si.trim().length==0)return"response body empty";try{const Si=new DOMParser().parseFromString(si,"text/html").documentElement.textContent;if(Si&&Si.trim().length>0)return Si.trim().replace(/\s+/g," ").slice(0,50)}catch{}return si.trim().slice(0,50)}(Yn),ei=`${_e} fetch returned ${tt.status}: ${bi}`;return gn(new Error(ei)),ei}).catch(Yn=>{const bi=`${_e} fetch returned ${tt.status}: response body unavailable (${Yn})`;return gn(new Error(bi)),bi})}n(u,"u");function S(F,_e,tt){let zt=null;const{id:gn,promise:Yn}=function(si){const Si=Symbol(),Ai=new Promise(tr=>{Z.push({id:Si,callback:hr=>{si(),tr(hr)}})});return re||(re=!0,window._collabInit=tr=>{var hr;(hr=Z.shift())===null||hr===void 0||hr.callback(tr)}),{promise:Ai,id:Si}}(()=>{var si,Si;(Si=(si=F==null?void 0:F.platformDelegate)===null||si===void 0?void 0:si.endTraceOrSpan)===null||Si===void 0||Si.call(si,zt)}),bi=Yn.then(si=>(F.bridgeInit.fireEvent(e.OTHER,"_collabInit called"),si));return function(si,Si,Ai){return Si.then(tr=>{if(tr.module_loader_url==null)throw Error("No module loader URL.  Server likely isn't in SystemJS mode.");const{span:hr,closeSpanFn:Ar}=si.createBasicTraceSpan(Ai,mt.LOAD_CONTROLLER),co=si.config.useGraftedMode?t(si.config.isRemoteGraftingMode):tr.controller_entry_module_url;return function(hi,$r,to,vi){to&&(z=to);const vn=hi.bridgeInit;if(A){const uo=I;return vn.fireEvent(e.OTHER,`Collab ${uo} is loading systemjs, reusing the promise`),A.then(()=>{vn.fireEvent(e.OTHER,`Systemjs promise reused from collab ${uo} succeeded`)}).catch(Ko=>{throw vn.fireEvent(e.ERROR,`Systemjs promise reused from collab ${uo} failed: ${Ko}`),Ko})}let Oi,Zo=null;if(w())vn.fireEvent(e.OTHER,"systemjs already loaded, running prepareImport"),Zo="System.prepareImport() promise resolved",Oi=f(System.prepareImport(!0),{name:"System.prepareImport",timeoutMillis:vn.getTimeoutForPromise()});else{vn.fireEvent(e.OTHER,"No SystemJS found, loading it");const{span:uo,closeSpanFn:Ko}=hi.createBasicTraceSpan(vi,mt.LOAD_SYSTEMJS,{[bt.JS_PREFETCH_ENABLED]:"true",[bt.URL]:$r});Zo="systemjs script tag onload fired",Oi=function(Ho,pe,Ae){return v(pe,"systemjs-module-loader",Ho,Ae,r(pe)).then(()=>{const Ue=document.createElement("script");return new Promise((vt,Lt)=>{const{closeSpanFn:xt}=Ho.createBasicTraceSpan(Ae,mt.SCRIPT_TAG);Ue.src=pe,Ue.defer=!0,Ue.crossOrigin="anonymous",Ue.onload=()=>{xt(),vt()},Ue.onerror=Cn=>{const Nn=Error(`systemjs onerror called: ${Cn}`);xt(Nn),Lt(Nn)},document.body.appendChild(Ue)}).then(()=>{if(!w())throw Error("SystemJS not found after it was loaded")}).catch(vt=>{throw typeof System=="object"&&(delete window.System,Ho.bridgeInit.fireEvent(e.OTHER,"Cleaned up systemjs global object")),Ue.onload=null,Ue.onerror=null,Ue.parentNode&&(Ue.parentNode.removeChild(Ue),Ho.bridgeInit.fireEvent(e.OTHER,"Cleaned up systemjs loader script tag")),vt})})}(hi,$r,uo).finally(()=>{Ko()})}return I=hi.id,A=Oi.then(()=>{vn.fireEvent(e.SYSTEMJS_LOADED,Zo)}).finally(()=>{A=null,I=null}),A}(si,tr.module_loader_url,tr.import_map,hr).then(()=>{var hi,$r;return E(co,($r=(hi=tr.import_map)===null||hi===void 0?void 0:hi.imports)!==null&&$r!==void 0?$r:{},si,hr)}).finally(()=>{Ar()})})}(F,_e,tt).then(()=>{var si,Si,Ai;return zt=(Ai=(Si=(si=F==null?void 0:F.platformDelegate)===null||si===void 0?void 0:si.startSpan)===null||Si===void 0?void 0:Si.call(si,tt,mt.AWAIT_CALLBACK))!==null&&Ai!==void 0?Ai:null,f(bi,{name:"_collabInit callback",timeoutMillis:F.bridgeInit.getTimeoutForPromise()}).catch(tr=>{var hr,Ar;throw(Ar=(hr=F==null?void 0:F.platformDelegate)===null||hr===void 0?void 0:hr.endTraceOrSpan)===null||Ar===void 0||Ar.call(hr,zt,{[bt.ERROR]:`${tr}`}),tr})}).catch(si=>{var Si;throw Si=gn,Z=Z.filter(Ai=>Ai.id!==Si),si})}n(S,"A");let _=null,b=null;function E(F,_e,tt,zt){const gn=tt.bridgeInit;if(b){const si=_;return gn.fireEvent(e.OTHER,`Collab ${si} is loading the controller, waiting for it to finish...`),b.then(()=>(gn.fireEvent(e.OTHER,`Collab ${si} module loading complete`),E(F,_e,tt,zt))).catch(Si=>(gn.fireEvent(e.OTHER,`Collab ${si} module loading failed`),E(F,_e,tt,zt)))}if(gn.fireEvent(e.OTHER,"Loading controller module"),System.fork===void 0)return Promise.reject(Error("SystemJS is missing the fork() method"));if(tt.config.useSystemJsSharedFork&&!x){const si=Object.keys(_e).filter(Si=>Si.endsWith("-ancillary.js"));x=si.length>0?System.sharedFork(si,_e):null}const Yn=System.fork(_e,x);gn.fireEvent(e.OTHER,`controller module${System.isAlreadyLoaded(F)?" ":" not "}in systemjs cache`);const{span:bi,closeSpanFn:ei}=tt.createBasicTraceSpan(zt,mt.LOAD_CONTROLLER_MODULE,{[bt.JS_PREFETCH_ENABLED]:"true",[bt.URL]:F});return b=v(F,"controller-module",tt,bi,r(F)).then(()=>{const{closeSpanFn:si}=tt.createBasicTraceSpan(bi,mt.SYSTEMJS_IMPORT_MODULE,{[bt.URL]:F}),Si=[],Ai=new MutationObserver(tr=>{Si.push(...T(tr))});return Ai.observe(document.head,{childList:!0}),Yn.import(F).then(()=>{si(),gn.fireEvent(e.CONTROLLER_SYSTEMJS_MODULE_IMPORTED)}).catch(tr=>{si(tr),Si.push(...T(Ai.takeRecords()));let hr=0;throw Si.forEach(Ar=>{Ar.onload=null,Ar.onerror=null,Ar.parentNode&&(Ar.parentNode.removeChild(Ar),hr++)}),hr>0&&gn.fireEvent(e.OTHER,`Cleaned up ${hr} SystemJS script tags`),System.resetInstantiationCache()&&gn.fireEvent(e.OTHER,"SystemJS cache cleared"),tr}).finally(()=>{Ai.disconnect()})}).finally(()=>{ei(),_=null,b=null}),_=tt.id,b}n(E,"O");function T(F){const _e=[];return F.forEach(tt=>{tt.addedNodes.forEach(zt=>{zt instanceof HTMLScriptElement&&zt.getAttribute("systemjs")==="1"&&_e.push(zt)})}),_e}n(T,"N");let I=null,A=null;function w(){return typeof System=="object"&&typeof System.register=="function"}n(w,"C");function R(){if(!z)return console.warn("No import map data found"),[];const F=z.imports;return!F||typeof F!="object"?(console.warn("Imports property missing from importMapsData"),[]):Object.values(F).filter(_e=>typeof _e=="string"||_e instanceof String)}n(R,"R");const P={};let x,z,Z=[],re=!1,ne=null;class he extends p{constructor(_e,tt){super(tt),this.R=_e,this.D=_e.bridgeInit,this.m()}tearDown(){super.tearDown()}M(_e){var tt,zt;console.error("EmbeddedSameOriginBridgeTransport did not load",_e),_e&&console.error(_e.stack),this.D.fireEvent(e.ERROR,`Failure constructing EmbeddedSameOriginBridgeTransport: ${_e}`),(zt=(tt=this.R.config.delegate)===null||tt===void 0?void 0:tt.didFailToInitialize)===null||zt===void 0||zt.call(tt,"exception",_e)}m(){var _e,tt,zt;const gn=(zt=(tt=(_e=this.R.platformDelegate)===null||_e===void 0?void 0:_e.startTrace)===null||tt===void 0?void 0:tt.call(_e,mt.COLLAB_INIT,{[bt.CONTROLLER_ID]:`${this.R.id}`}))!==null&&zt!==void 0?zt:null,Yn=function(ei,si){const Si=new FormData,{authToken:Ai,userJwt:tr,getSlackToken:hr,isGov:Ar,isPreload:co}=ei.config;Ai&&Si.append("oauth_token",Ai),tr&&Si.append("user_jwt",tr),hr&&Si.append("token",hr()),co&&Si.append("canvas_loadshed_priority","low");const hi=ei.config.xhrWithCredentials===!0?"include":void 0,$r=g(`${lt(ei)}/collab/controller-init?format=map`,{method:"POST",body:Si,credentials:hi},mt.CONTROLLER_INIT,ei,si).then(vn=>(ei.bridgeInit.fireEvent(e.CONTROLLER_INIT_DATA_FETCHED),vn)),to=window.QUIP_VERSION_NAME||"server",vi=new URLSearchParams([["version-name",to]]);return ei.config.language&&vi.append("language-code",ei.config.language),vi.append("cdn_fallback",`${ei.getAttemptNumber()}`),Ar&&vi.append("serve_gov","1"),ne=g(`${lt(ei)}/collab/controller-resources?${vi.toString()}`,{method:"GET",credentials:hi},mt.CONTROLLER_RESORCES,ei,si).then(vn=>(ei.bridgeInit.fireEvent(e.CONTROLLER_RESOURCE_DATA_FETCHED),vn)).catch(vn=>(ne=null,ei.bridgeInit.fireEvent(e.ERROR,`controller-resources request failed: ${vn}`),{module_loader_url:null,controller_entry_module_url:null,import_map:null,resources_version:""})),Promise.all([$r,ne]).then(vn=>{const[Oi,Zo]=vn;return Object.assign(Object.assign({},Oi),Zo)})}(this.R,gn),bi=S(this.R,Yn,gn);Promise.all([bi,Yn]).then(ei=>{var si;const Si=ei[0],Ai=ei[1];Si.main(Ai.init_options,Ai.preserialized,this.R.config.getSlackToken?null:Ai.oauth_token,this.R.config.getSlackToken?null:Ai.oauth_token_expiry,(si=this.R.config.getSlackToken)!==null&&si!==void 0?si:null,lt(this.R),this.destinationFn(),Ai.js_initializer,Ai.user_id,this.R.config.xhrWithCredentials,this.R.config.enableWebCaching?Ai.web_cache_key:void 0,this.R.config.enableWebCaching?Ai.web_cache_key_version:void 0,this.R.config.requestsAreCors,Ai.body_classes,Ai.css_url,!!this.R.config.useGraftedMode,this.R.config.pathRewriteHook,!!this.R.config.isRemoteGraftingMode,Ai.resources_version),this.D.fireEvent(e.BRIDGE_TRANSPORT_READY)}).catch(ei=>this.M(ei)).finally(()=>{var ei,si;(si=(ei=this.R.platformDelegate)===null||ei===void 0?void 0:ei.endTraceOrSpan)===null||si===void 0||si.call(ei,gn)})}logError(_e){this.D.fireEvent(e.ERROR,_e)}}n(he,"P");class ge{constructor(_e){this.embeddedSide=new he(_e,()=>this.controllerSide),this.controllerSide=new p(()=>this.embeddedSide)}}n(ge,"U");function Pe(F,_e){let tt=null;for(const zt of function(gn){const Yn=[];for(const bi of Object.keys(gn))isNaN(Number(bi))&&Yn.push(bi);return Yn}(F))F[zt]===_e&&(tt=zt);return tt||(tt=String(_e)),tt+=` (${_e})`,tt}n(Pe,"w");const He={[s.INCOMING]:"ToEmbedded",[s.OUTGOING]:"FromEmbedded",[s.INCOMING_REPLY]:"ReplyToEmbedded",[s.OUTGOING_REPLY]:"ReplyFromEmbedded"},pt=[h.Op.DID_INITIALIZE,h.Op.DID_FAIL_TO_INITIALIZE],Ht=[];class Ke{constructor(_e,tt){this.p=_e,this.v=tt,this.I=[],this.P=[],this.U={[He[s.INCOMING]]:{},[He[s.OUTGOING_REPLY]]:{},[He[s.OUTGOING]]:{},[He[s.INCOMING_REPLY]]:{}}}getHook(){const _e=this.I,tt=this.P,zt=this.U;return(gn,Yn,bi)=>{var ei,si;const Si={ts:Date.now(),op:gn,message:Yn,type:bi},Ai=ct(bi,gn);if((ei=(si=zt[He[bi]])[Ai])!==null&&ei!==void 0||(si[Ai]=0),zt[He[bi]][Ai]+=1,_e.length>=30)for(tt.push(Si);tt.length>20;)tt.shift();else _e.push(Si)}}getReport(_e=!0){var tt;return{collabInstanceId:this.p,collabInstanceTeamId:(tt=this.v)!==null&&tt!==void 0?tt:"not_provided",reportTimestamp:Date.now(),messageCounts:this.U,startupLog:it(this.I,_e),recentLog:it(this.P,_e)}}}n(Ke,"F");function it(F,_e=!0){return F.map(tt=>{const zt={op:ct(tt.type,tt.op),type:He[tt.type]};var gn,Yn;return _e&&(gn=tt.type,Yn=tt.op,!([s.INCOMING,s.OUTGOING_REPLY].includes(gn)?pt.includes(Yn):Ht.includes(Yn)))||(zt.message=tt.message),_e||(zt.ts=tt.ts),zt})}n(it,"G");function ct(F,_e){return[s.INCOMING,s.OUTGOING_REPLY].includes(F)?Pe(h.Op,_e):Pe(m.Op,_e)}n(ct,"V");class rt{constructor(_e){this.D=_e.bridgeInit,this.B=function(tt){return new ge(tt).embeddedSide}(_e),this.F=new Ke(_e.id,_e.config.teamId),this.D.fireEvent(e.BRIDGE_TRANSPORT_SET),this.B.setTransportHook(this.F.getHook())}init(_e){this.D.after([e.BRIDGE_TRANSPORT_SET,e.BRIDGE_TRANSPORT_READY,e.HANDLER_REGISTRATION_FINISHED],()=>{this.invoke(m.Op.INIT,_e),this.D.fireEvent(e.INIT_SENT)})}tearDown(){this.B.tearDown()}invoke(_e,tt){const zt=_e==m.Op.INIT,gn=n(()=>{this.B.invoke(_e,tt),zt||this.D.fireEvent(e.MESSAGE_SENT,`Op ${_e}`)},"n");zt?gn():this.D.after([e.BRIDGE_OPEN],gn,`Send op ${_e}`)}addHandler(_e,tt){this.B.addHandler(_e,_e===h.Op.DID_INITIALIZE?tt:zt=>{this.D.after([e.BRIDGE_OPEN],()=>{tt(zt),this.D.fireEvent(e.MESSAGE_HANDLED,`Op ${_e}`)},`Handle op ${_e}`)})}getDebugReport(_e=!0){return this.F.getReport(_e)}}n(rt,"H");class _t{constructor(_e,tt){this.G=new WeakMap,this.V=_e,this.H=tt}get(){const _e=this.V.get();return this.K(_e)}getAsync(){return this.V.getAsync().then(_e=>this.K(_e))}listen(_e){let tt=this.G.get(_e);tt||(tt=n((zt,gn)=>{_e(this.K(zt),this.H(gn))},"e"),this.G.set(_e,tt)),this.V.listen(tt)}once(_e){let tt=this.G.get(_e);tt||(tt=n((zt,gn)=>{_e(this.K(zt),this.H(gn))},"e"),this.G.set(_e,tt)),this.V.once(tt)}unlisten(_e){const tt=this.G.get(_e);tt&&this.V.unlisten(tt)}K(_e){if(_e!==void 0)return this.H(_e)}}n(_t,"y");class Gt{constructor(_e,tt){this.V=_e,this.$=tt}get(){return this.V.get()}getAsync(){const _e=this.V.getAsync();return new Promise((tt,zt)=>{_e.then(gn=>{gn?tt(gn):this.V.once((Yn,bi)=>{tt(bi??this.$)})}).catch(zt)})}listen(_e){this.V.listen(_e)}unlisten(_e){this.V.unlisten(_e)}once(_e){this.V.once(_e)}}n(Gt,"K");var Kt;(function(F){F[F.DOC_UPDATED_USEC=1]="DOC_UPDATED_USEC",F[F.DOC_EMBED_SCROLL_POSITION=2]="DOC_EMBED_SCROLL_POSITION",F[F.DOC_BLOCK_KIT_THUMBNAIL=3]="DOC_BLOCK_KIT_THUMBNAIL",F[F.SECTION_SNIPPET=4]="SECTION_SNIPPET",F[F.CANNED_DOC_NAME=5]="CANNED_DOC_NAME",F[F.DOC_IS_EMPTY=6]="DOC_IS_EMPTY",F[F.DOC_LAST_UPDATED_USER_ID=8]="DOC_LAST_UPDATED_USER_ID",F[F.A11Y_READ_ONLY_MODE=9]="A11Y_READ_ONLY_MODE",F[F.DOC_EMBED_FOCUS_STATE=10]="DOC_EMBED_FOCUS_STATE",F[F.DOC_EMBED_SELECTION_STATE=11]="DOC_EMBED_SELECTION_STATE",F[F.TEXT_SECTION_OVERLAY_SHOWING=12]="TEXT_SECTION_OVERLAY_SHOWING",F[F.DOC_HAS_FILE_UNFURLS=13]="DOC_HAS_FILE_UNFURLS",F[F.TEMPLATE_CONTROLS_BE=14]="TEMPLATE_CONTROLS_BE",F[F.DOC_NEW_SECTION_USEC=15]="DOC_NEW_SECTION_USEC",F[F.TEMPLATE_CONTROLS_FE=16]="TEMPLATE_CONTROLS_FE",F[F.DOC_HAS_HEADER_IMAGE=17]="DOC_HAS_HEADER_IMAGE",F[F.PLACEHOLDERS_INFO=18]="PLACEHOLDERS_INFO",F[F.AI_ASSISTANT_OVERLAY_IS_OPEN=19]="AI_ASSISTANT_OVERLAY_IS_OPEN"})(Kt||(Kt={}));const Ye=new WeakMap;class Xe{constructor(_e={}){this.Y=new Set,this.W=_e}add(_e,tt){if(!this.Y.has(_e)&&(this.Y.add(_e),tt&&Ye.set(_e,tt),this.Y.size===1)){const{didStartHavingListeners:zt}=this.W;zt&&zt()}}addOneShot(_e,tt){const zt=n((...gn)=>{this.remove(zt),_e.apply(window,gn)},"i");this.add(zt,tt)}remove(_e){if(this.Y.delete(_e)&&this.Y.size===0){const{didStopHavingListeners:tt}=this.W;tt&&tt()}}removeAll(){this.Y.forEach(_e=>this.remove(_e))}empty(){return this.Y.size===0}notify(..._e){if(this.Y.size===0)return;const{notifyDecorator:tt,catchError:zt}=this.W;let gn;tt&&(gn=tt());const Yn=Array.from(this.Y);for(let bi=0;bi<Yn.length;bi++)if(zt)try{Yn[bi].apply(window,_e)}catch(ei){zt(ei)}else Yn[bi].apply(window,_e);gn&&gn.clear()}debugGetDescriptions(){return Array.from(this.Y,(_e,tt)=>Ye.get(_e)||`<anonymous-${tt}>`)}}n(Xe,"Y");class It{constructor(_e,tt,zt,gn=!1){this.X=_e,this.J=tt,this.Z=zt,this.q=gn;const Yn=n((bi,ei)=>{this.Y.notify(bi,ei)},"n");this.Y=new Xe({didStartHavingListeners:()=>this.Z.addListener(_e,tt,Yn),didStopHavingListeners:()=>{this.Z.removeListener(_e,tt,Yn),this.q||this.Z.cleanupStorage(_e,tt)}})}get(){return this.Z.getValue(this.X,this.J)}getAsync(){return this.Z.getValueAsync(this.X,this.J)}listen(_e){this.Y.add(_e)}unlisten(_e){this.Y.remove(_e)}unlistenAll(){this.Y.removeAll()}once(_e){this.Y.addOneShot(_e)}}n(It,"W");class kt{constructor(_e){this.Y=new Xe,this.tt=_e}set(_e){const tt=this.tt;this.tt=_e,this.Y.notify(tt,_e)}get(){return this.tt}getAsync(){return Promise.resolve(this.get())}listen(_e){this.Y.add(_e)}unlisten(_e){this.Y.remove(_e)}once(_e){this.Y.addOneShot(_e)}}n(kt,"j");class gt{constructor(_e){this.et=new Map,this.R=_e}didCreateDoc(_e,tt){const zt=this.et.get(_e);zt?(this.et.set(tt,zt),zt.idInternal.set(tt)):console.warn(`Could not find doc mapped to ID ${_e}`)}didDeleteDoc(_e){const tt=this.et.get(_e);tt==null||tt.deletedInternal.set(!0)}didTryToLoadWithTempId(_e){const tt=this.et.get(_e);tt==null||tt.didTryToLoadWithTempIdInternal.set(!0)}create(_e={}){const{title:tt,cannedDoc:zt,context:gn,usesOnlyInlineTextComments:Yn,content:bi}=_e;return this.controllerAccess.docs.createDoc(tt,zt,gn,Yn,bi).then(ei=>this.get(ei))}get(_e){let tt=this.et.get(_e);return tt||(tt=new En(_e,this.R),this.et.set(_e,tt)),tt}get controllerAccess(){return this.R.controllerAccess}setEditsDisabled(_e,tt){for(const zt of wn.values())zt.doc().id.get()===_e&&zt.docEditor.setEditsDisabled(tt);this.controllerAccess.docs.reloadThread(_e)}getBlockKitThumbnail(_e,tt=!0,zt){const gn=_n(this.R),Yn=zt?`${_e}/${zt}`:_e;return new Gt(new It(Kt.DOC_BLOCK_KIT_THUMBNAIL,Yn,gn,!0),'{"blocks": []}').getAsync().then(JSON.parse).then(bi=>(tt&&bi.blocks.length>0&&bi.blocks.shift(),bi))}getCannedDocName(_e){const tt=_n(this.R);return new Gt(new It(Kt.CANNED_DOC_NAME,_e,tt,!0),"").getAsync().then(zt=>zt.length===0?null:zt)}getSectionSnippet(_e){const tt=_n(this.R);return new Gt(new It(Kt.SECTION_SNIPPET,_e,tt,!0),"").getAsync()}setDebugOption(_e,tt){this.controllerAccess.docs.setDebugOption(_e,tt)}findSlackObject(_e,tt,zt){return this.controllerAccess.docs.findSlackObject(_e,tt,zt)}findSlackUnfurls(_e){return this.controllerAccess.docs.findSlackUnfurls(_e)}editLink(_e,tt,zt){this.controllerAccess.docs.editLink(_e,tt,zt)}loadData(_e,tt){return this.controllerAccess.docs.loadData([_e],tt)}it(){return In(this.R)}}n(gt,"X");class En{constructor(_e,tt){this.st=null,this.id=this.idInternal=new kt(_e),this.R=tt;const zt=_n(this.R);this.lastUpdated=new _t(new It(Kt.DOC_UPDATED_USEC,_e,zt,!0),gn=>new Date(gn/1e3)),this.lastUpdatedUsec=new It(Kt.DOC_UPDATED_USEC,_e,zt,!0),this.lastUpdatedSlackUserId=new It(Kt.DOC_LAST_UPDATED_USER_ID,_e,zt,!0),this.deleted=this.deletedInternal=new kt(!1),this.isEmpty=new It(Kt.DOC_IS_EMPTY,_e,zt,!0),this.hasPerformedEditingAction=new kt(!1),this.hasFileUnfurls=new It(Kt.DOC_HAS_FILE_UNFURLS,_e,zt,!0),this.templateControlsInfo=new It(Kt.TEMPLATE_CONTROLS_BE,_e,zt,!0),this.lastNewSectionUpdated=new _t(new It(Kt.DOC_NEW_SECTION_USEC,_e,zt,!0),gn=>new Date(gn/1e3)),this.hasHeaderImage=new It(Kt.DOC_HAS_HEADER_IMAGE,_e,zt,!0),this.didTryToLoadWithTempIdInternal=new kt(!1),this.placeholdersInfo=new It(Kt.PLACEHOLDERS_INFO,_e,zt,!0)}getBlockKitThumbnailValue(){if(!this.st&&this.isCreated()){const _e=_n(this.R);this.st=new _t(new It(Kt.DOC_BLOCK_KIT_THUMBNAIL,this.idInternal.get(),_e,!0),JSON.parse)}return this.st}embed(_e,tt={mode:"editor"}){let zt=pn.get(_e);return zt||(zt=new Qn(this,_e,tt,this.R),pn.set(_e,zt),zt.mount()),zt.doc()!==this&&console.error("There was a different document embedded in the container",_e),zt}isCreated(){return!this.idInternal.get().startsWith("temp:")}failedToCreate(){return!this.isCreated()&&this.deletedInternal.get()}triedToLoadTempId(){return this.didTryToLoadWithTempIdInternal.get()}}n(En,"J");const pn=new WeakMap,wn=new Map,zn={mode:"editor"};class Qn{constructor(_e,tt,zt,gn){this.rendered=new kt(!1),this.isRenderComplete=new kt(!1),this.isRenderStable=new kt(!1),this.failedToLoad=new kt(!1),this.loadInfo=new kt(void 0),this.editingActionPerformed=new kt(!1),this.loadError=new kt(void 0),this.editorContainer=new kt(void 0),this.nt=!1,this.rt=!1,this.ot=[],this._t=_e,this.Et=tt,this.W=Object.assign(Object.assign({},zn),zt),this.R=gn,this.lt=`${Zn}-${this.R.id}-${lr++}`,this.ht=function(){const Yn=document.createElement("div");return Yn.classList.add("collab-root"),Yn}(),this.at(Kt.DOC_EMBED_SCROLL_POSITION),this.scrollPosition=this.at(Kt.DOC_EMBED_SCROLL_POSITION),this.focusState=this.at(Kt.DOC_EMBED_FOCUS_STATE),this.selectionState=this.at(Kt.DOC_EMBED_SELECTION_STATE),this.a11yReadOnlyMode=this.at(Kt.A11Y_READ_ONLY_MODE),this.textSectionOverlayShowing=this.at(Kt.TEXT_SECTION_OVERLAY_SHOWING),this.templateControls=this.ct(Kt.TEMPLATE_CONTROLS_FE,new Map),this.hasHeaderImage=this.at(Kt.DOC_HAS_HEADER_IMAGE),this.placeholdersInfo=this.at(Kt.PLACEHOLDERS_INFO),this.aiAssistantOverlayIsOpen=this.at(Kt.AI_ASSISTANT_OVERLAY_IS_OPEN),this.controllerAccess.run(()=>{this.dt=this.controllerAccess.docs.getDocEditor(this.lt)})}get docEditor(){if(!this.dt)throw new Error("DocEditor object not set");return this.dt}get controllerAccess(){return this.R.controllerAccess}at(_e){const tt=_n(this.R),zt=new It(_e,this.lt,tt,!1);return this.ot.push(zt),zt}ct(_e,tt){return new Gt(this.at(_e),tt)}onEditorLoadError(_e){console.info("[QUIP] Editor load error",_e),this.failedToLoad.set(!0),this.loadError.set(_e),this.ut()}didLoadModel(_e){this.loadInfo.set(_e)}didRender(_e){this.rendered.set(!0),this.failedToLoad.set(!1),this.loadError.set(void 0),this.editorContainer.set(_e)}didFinishRender(){this.isRenderComplete.set(!0),this.isRenderStable.get()||this.isRenderStable.set(!0)}didFinishPartialStableRender(){this.isRenderStable.set(!0)}didPerformEditingAction(){this.editingActionPerformed.set(!0)}doc(){return this._t}docId(){return this._t.id.get()}containerElement(){return this.Et}frameName(){return this.lt}mount(){if(wn.set(this.lt,this),!this.rt){const _e=this.ht;_e.style.visibility="hidden",this.Et.appendChild(_e);let tt=_e.ownerDocument.defaultView;tt||(console.warn(`Mounting ${this.lt} into element with no window`),tt=window),this.nt=!0,this.controllerAccess.run(()=>{this.docEditor.createdViewFrame(_e)}),_e.style.visibility="visible",this.rt&&this.At(),this.rt=!0}this.nt&&this.At()}unmount(){try{console.info(`[Quip] unmount doc with frame name ${this.lt}. Frame loaded ${this.nt}`),this.nt&&(this.ut(),this.rendered.set(!1),this.isRenderStable.set(!1),this.isRenderComplete.set(!1),this.failedToLoad.set(!1),this.loadError.set(void 0),this.nt=!1),this.rt&&(pn.delete(this.Et),this.ht.remove(),this.rt=!1),this.ot.forEach(_e=>_e.unlistenAll()),wn.delete(this.lt)}catch(_e){console.warn("[Quip] Error thrown in unmount",_e)}}waitForEmbeddedUiProvider(){return new Promise(_e=>{this.embeddedUiProvider?_e(this.embeddedUiProvider):this.Tt=_e})}it(){return In(this.R)}At(){this.controllerAccess.run(()=>{this.docEditor.renderDoc(this._t.id.get(),this.W)})}ut(){this.controllerAccess.run(()=>{this.docEditor.cleanupViewFrame()})}setCommentsUiProvider(_e){this.commentsUiProvider=_e,_e==null||_e.setDelegate(this.docEditor)}setAutocompleteUiProvider(_e){this.autocompleteUiProvider=_e,_e==null||_e.setDelegate(this.docEditor)}setPermalinkUiProvider(_e){this.permalinkUiProvider=_e}setEmbeddedUiProvider(_e){this.embeddedUiProvider=_e,this.Tt&&_e&&(this.Tt(_e),this.Tt=null)}setErrorUiProvider(_e){this.errorUiProvider=_e}setEditorUiConnector(_e){this.editorUiConnector=_e,_e==null||_e.setDelegate(this.docEditor)}}n(Qn,"q");class Sn{constructor(_e){this.St=_e}getFrameByName(_e){return this.St.get(_e)}withFrame(_e,tt){const zt=this.getFrameByName(_e);zt||console.warn(`Could not find a frame with name ${_e}.`),tt(zt)}}n(Sn,"z");const Zn=`collab-doc-${(1e3*Math.random()).toString(36)}`;let lr=0;class ui{constructor(){this.Ot=[],this.Nt=!1}get docs(){return this.It}get settings(){return this.Lt}get providers(){return this.Ct}run(_e){this.Nt?_e():this.Ot.push(_e)}setObjects({docs:_e,settings:tt,providers:zt}){this.Nt=!0,this.It=_e,this.Lt=tt,this.Ct=zt;for(const gn of this.Ot)gn();this.Ot=[]}}n(ui,"it");let fi=0;class Vn{constructor(_e){this.id=fi++,this.o=!1,this.Rt=!1,this.config=_e,this.platformDelegate=_e.delegate,this.bridgeInit=Vn.Dt(`embedded ${this.id}`);const tt=new rt(this);wi.set(this,tt),this.controllerAccess=new ui,this.docs=new gt(this),this.failedToInitialize=new kt(!1),this.initializationError=new kt(void 0),this.Mt()}Mt(){if(this.o)return void this.bridgeInit.fireEvent(e.ERROR,"Collab instance initialized more than once");const{appearance:_e,language:tt,delegate:zt,commentsDataProvider:gn,bookmarksDataProvider:Yn,fileDataProvider:bi,slackListDataProvider:ei,slackObjectProvider:si,features:Si,documentEventProvider:Ai,underlineAllLinks:tr,enableAnimations:hr,displayEmojiAsPlainText:Ar,spellcheckEnabled:co,embeddedConfigProvider:hi,embeddedUiProvider:$r,topLevelTeamId:to,anchorLinkProvider:vi,slackObjectUIProvider:vn,slackTextyHtmlConversionProvider:Oi,useSmartQuotesAndDashes:Zo,atomStorageProvider:uo}=this.config,Ko=this.it();Ko.init({features:Si,delegate:zt,anchorLinkProvider:vi,bookmarksDataProvider:Yn,commentsDataProvider:gn,documentEventProvider:Ai,fileDataProvider:bi,slackListDataProvider:ei,slackObjectProvider:si,slackObjectUIProvider:vn,slackTextyHtmlConversionProvider:Oi,mountedFrameProvider:new Sn(wn),embeddedAccessDelegate:this.controllerAccess,docs:this.docs}),this.controllerAccess.run(()=>{this.atomClient=this.controllerAccess.providers.getAtomClient(uo)});const Ho=new d;var pe,Ae;Ho.add(()=>{_e&&this.ft(_e),tt&&this.vt(tt),tr!==void 0&&this.setUnderlineAllLinks(tr),hr!==void 0&&this.setEnableAnimations(hr),Ar!==void 0&&this.setDisplayEmojiAsPlainText(Ar),co!==void 0&&this.setSpellcheckEnabled(co),to&&this.Pt(to),Zo!==void 0&&this.setUseSmartQuotesAndDashes(Zo)}),function(Ue,vt,Lt){if(!Lt)return;const xt=Lt.supportedAutocompleteTypes;xt&&vt.add(()=>{Ue.providers.registerAutocompleteTypes(xt)}),Ue.run(()=>Lt.setDelegate(Ue.providers.getSlackObjectProviderDelegate()))}(this.controllerAccess,Ho,si),function(Ue,vt={},Lt,xt,Cn=Nn=>{}){Ue.addHandler(h.Op.DID_INITIALIZE,()=>{var Nn;(Nn=vt.didInitialize)===null||Nn===void 0||Nn.call(vt),Lt.run(),xt.fireEvent(e.DID_INIT_RECEIVED)}),Ue.addHandler(h.Op.DID_FAIL_TO_INITIALIZE,({initError:Nn})=>{var Xn;Cn(Nn),(Xn=vt.didFailToInitialize)===null||Xn===void 0||Xn.call(vt,Nn)})}(Ko,zt,Ho,this.bridgeInit,Ue=>{this.Ut(!0,Ue)}),pe=this.controllerAccess,Ae=gn,pe.run(()=>{Ae==null||Ae.setDelegate(pe.providers.getCommentsDataProviderDelegate())}),function(Ue,vt){Ue.run(()=>{vt==null||vt.setDelegate(Ue.providers.getBookmarksDataProviderDelegate())})}(this.controllerAccess,Yn),function(Ue,vt){Ue.run(()=>vt==null?void 0:vt.setDelegate(Ue.providers.getDocumentEventProviderDelegate()))}(this.controllerAccess,Ai),function(Ue,vt,Lt){Lt&&vt.add(()=>{Ue.providers.registerEmbeddedUiProvider(Lt.config())})}(this.controllerAccess,Ho,hi||$r),this.o=!0,this.bridgeInit.fireEvent(e.HANDLER_REGISTRATION_FINISHED)}Ut(_e,tt){const zt=this.failedToInitialize,gn=this.initializationError;zt.set(_e),gn.set(tt)}static Dt(_e){const tt=new o(_e);return tt.after([e.BRIDGE_TRANSPORT_SET,e.BRIDGE_TRANSPORT_READY,e.INIT_SENT,e.DID_INIT_RECEIVED,e.HANDLER_REGISTRATION_FINISHED],()=>{tt.fireEvent(e.BRIDGE_OPEN)}),tt}controllerModuleUrls(){return R()}preload(){return!this.Rt&&(R().forEach(_e=>{if(!P[_e]){const tt=document.createElement("link");tt.rel="preload",tt.as="script",tt.href=_e,tt.crossOrigin="anonymous",P[_e]=tt,document.head.appendChild(tt)}}),this.Rt=!0,!0)}tearDown(){this.it().tearDown(),wi.delete(this),this.Ut(!1),this.o=!1}createBasicTraceSpan(_e,tt,zt){var gn,Yn,bi;const ei=(bi=(Yn=(gn=this.platformDelegate)===null||gn===void 0?void 0:gn.startSpan)===null||Yn===void 0?void 0:Yn.call(gn,_e,tt,zt))!==null&&bi!==void 0?bi:null;return ei?{span:ei,closeSpanFn:si=>{var Si,Ai;(Ai=(Si=this.platformDelegate)===null||Si===void 0?void 0:Si.endTraceOrSpan)===null||Ai===void 0||Ai.call(Si,ei,si?{[bt.ERROR]:`${si}`}:{})}}:{span:null,closeSpanFn:()=>{}}}getAttemptNumber(){var _e;return(_e=this.config.attemptNumber)!==null&&_e!==void 0?_e:0}preloadThreads(_e,tt){this.controllerAccess.run(()=>this.controllerAccess.docs.preloadData(_e,tt))}setAppearance(_e){this.config.appearance=_e,this.ft(_e)}setLanguage(_e){this.config.language=_e}setAppKeyboardFocusModeEnabled(_e,tt){this.wt(_e,tt)}ft(_e){this.controllerAccess.settings.setAppearance(_e)}vt(_e){this.controllerAccess.settings.setLanguage(_e)}wt(_e,tt){this.controllerAccess.settings.setAppKeyboardFocusModeEnabled(_e,tt)}Pt(_e){this.controllerAccess.settings.setDefaultTeamId(_e)}setUnderlineAllLinks(_e){this.controllerAccess.settings.setUnderlineLinks(_e)}setEnableAnimations(_e){this.controllerAccess.settings.setEnableAnimations(_e)}setDisplayEmojiAsPlainText(_e){this.controllerAccess.settings.setDisplayEmojiAsPlainText(_e)}setSpellcheckEnabled(_e){this.controllerAccess.settings.setSpellcheckEnabled(_e)}setUseSmartQuotesAndDashes(_e){this.controllerAccess.settings.setUseSmartQuotesAndDashes(_e)}async getInitLog(_e){return Object.assign(Object.assign({},await this.bridgeInit.getInitLog(_e)),{lm:"SYSTEMJS_SCRIPT_CONTROLLER",dr:!0})}async getInitLogStr(_e){for(let tt=o.MAX_INIT_LOG;tt>=0;tt--){const zt=JSON.stringify(await this.getInitLog(tt));if(zt.length<=_e)return zt}return"Failed to generate"}getDebugReport(_e){return this.getBridgeDebugReport(_e)}getBridgeDebugReport(_e=!0){return this.it().getDebugReport(_e)}it(){return wi.get(this)}}n(Vn,"nt");function In(F){return wi.get(F)}n(In,"rt");const wi=new Map;function _n(F){return F.atomClient}n(_n,"_t");const An=document.querySelector("script[src*='/collab/embedded.js']"),sn=An==null?void 0:An.src,Q=sn?new URL(sn).origin:"https://prod.slack.quip.systems";function lt(F){return F.config.origin||Q}n(lt,"at");var mt,bt;(function(F){F.COLLAB_INIT="collab-init",F.CONTROLLER_INIT="controller-init",F.CONTROLLER_RESORCES="controller-resources",F.HTTP_FETCH_HEADER="http-fetch-header",F.HTTP_FETCH_CONTENT="http-fetch-content",F.JSON_PARSE="json-parse",F.LOAD_CONTROLLER="load-controller",F.AWAIT_CALLBACK="await-callback",F.LOAD_SYSTEMJS="load-systemjs",F.MODULE_PREFETCH="module-prefetch",F.SCRIPT_TAG="script-tag",F.LOAD_CONTROLLER_MODULE="load-controller-module",F.SYSTEMJS_IMPORT_MODULE="systemjs-import-module"})(mt||(mt={})),function(F){F.CONTROLLER_ID="controller-id",F.ERROR="error",F.JS_PREFETCH_ENABLED="js-prefetch-enabled",F.URL="url"}(bt||(bt={}));const At=(()=>{if(typeof c.g=="object")return c.g;if(typeof window=="object")return window;if(typeof self=="object")return self;throw new Error("Cannot find global")})();function Wt(F,_e,tt){const zt=F.split(".");let gn=tt||At;for(let Yn=0;Yn<zt.length;Yn++){const bi=zt[Yn];Yn===zt.length-1?gn[bi]=_e:(bi in gn||(gn[bi]={}),gn=gn[bi])}}n(Wt,"At");var we,ht,K,se,Ve,Be,Yt,yt,Bt,ke,Je,B,Fe,fe,ve,ee,Et,Ne,st,on,$t,yi,mi,ri,ti,Zt,mn,Ui,Er,Dn,nn,ni,oi,Ji,Qi,Ei,Jn,Sr,cr,Dr,Yi,io,sr,lo,Gi;(function(F){F[F.IN_APP_USER_INITIATED=0]="IN_APP_USER_INITIATED",F[F.PERMALINK=1]="PERMALINK",F[F.POPOUT=2]="POPOUT"})(we||(we={})),function(F){F.BOLD="bold",F.ITALIC="italic",F.UNDERLINE="underline",F.STRIKETHROUGH="strikethrough",F.CODE="code",F.SUBSCRIPT="subscript",F.SUPERSCRIPT="superscript",F.LINK="link"}(ht||(ht={})),function(F){F.PLAIN="plain",F.H1="h1",F.H2="h2",F.H3="h3",F.CODE="code",F.BLOCKQUOTE="blockquote",F.LIST_BULLET="list_bullet",F.LIST_NUMBERED="list_numbered",F.LIST_CHECKLIST="list_checklist"}(K||(K={})),function(F){F.FLEXBOX="flexbox",F.TABLE="table",F.CALLOUT="callout"}(se||(se={})),function(F){F.CACHE="cache",F.MEMORY="memory",F.NETWORK="network"}(Ve||(Ve={})),function(F){F.LINK="link",F.COMMENT="comment",F.REACTION="reaction",F.REFINEMENT="refinement",F.CALLOUT="callout"}(Be||(Be={})),function(F){F.NONE="none",F.SCROLL_TO_SECTION="scroll_to_section",F.FOCUS_SECTION="focus_section"}(Yt||(Yt={})),function(F){F[F.LINK_COPIED=0]="LINK_COPIED",F[F.LINK_FILE_SHARE_BLOCKED=1]="LINK_FILE_SHARE_BLOCKED",F[F.TABLE_SIZE_LIMIT_REACHED=2]="TABLE_SIZE_LIMIT_REACHED"}(yt||(yt={})),function(F){F[F.UNSUPPORTED_FILE_TYPE=0]="UNSUPPORTED_FILE_TYPE"}(Bt||(Bt={})),function(F){F[F.ANY=1]="ANY",F[F.ON_MOUSE_LEAVE=2]="ON_MOUSE_LEAVE"}(ke||(ke={})),function(F){F[F.COMMENTS=0]="COMMENTS",F[F.FILE_UPLOADS=1]="FILE_UPLOADS",F[F.DOCUMENT_EVENTS=2]="DOCUMENT_EVENTS",F[F.SPREADSHEETS=3]="SPREADSHEETS",F[F.HOVERCARDS=4]="HOVERCARDS",F[F.LINK_UNFURL=5]="LINK_UNFURL",F[F.UNREAD_COMMENTS=6]="UNREAD_COMMENTS",F[F.REMINDERS=7]="REMINDERS",F[F.DOCUMENT_UPDATE=8]="DOCUMENT_UPDATE",F[F.FLEXBOX_COLLAB=9]="FLEXBOX_COLLAB",F[F.SLACK_WORKFLOW_BUTTON_PROTOTYPE=10]="SLACK_WORKFLOW_BUTTON_PROTOTYPE",F[F.DOPE_TABLE=11]="DOPE_TABLE",F[F.UI_PARITY=12]="UI_PARITY",F[F.MOBILE_DOCUMENT_EDITING=13]="MOBILE_DOCUMENT_EDITING",F[F.MOBILE_IMAGE_LOADING=14]="MOBILE_IMAGE_LOADING",F[F.GALLERY_LAYOUT=15]="GALLERY_LAYOUT",F[F.ANCHOR_LINKS=16]="ANCHOR_LINKS",F[F.IMAGE_EMBEDS=17]="IMAGE_EMBEDS",F[F.IMAGE_CAPTION=18]="IMAGE_CAPTION",F[F.EMBEDS_DRAG_HANDLE=19]="EMBEDS_DRAG_HANDLE",F[F.SLACK_AUTOCOMPLETE=20]="SLACK_AUTOCOMPLETE",F[F.DOCUMENT_SLASH_COMMANDS=23]="DOCUMENT_SLASH_COMMANDS",F[F.DRAG_AND_DROP_MAX_DISTANCE=24]="DRAG_AND_DROP_MAX_DISTANCE",F[F.APP_UNFURL_NON_IFRAME_RENDERS=25]="APP_UNFURL_NON_IFRAME_RENDERS",F[F.A11Y_KEYBOARD_NAVIGATION=28]="A11Y_KEYBOARD_NAVIGATION",F[F.INSERT_TOOLBAR=29]="INSERT_TOOLBAR",F[F.MENTIONS_SHARE=30]="MENTIONS_SHARE",F[F.TEXT_IN_GALLERY_LAYOUT=31]="TEXT_IN_GALLERY_LAYOUT",F[F.AUTOSIZE_FLEXBOX=32]="AUTOSIZE_FLEXBOX",F[F.FORMATTING_TOOLBAR=33]="FORMATTING_TOOLBAR",F[F.UI_PARITY_SLACK_LINK_INSPECTOR=34]="UI_PARITY_SLACK_LINK_INSPECTOR",F[F.PREVENT_OBJECTS_IN_LISTS=35]="PREVENT_OBJECTS_IN_LISTS",F[F.DISALLOW_SECTION_COMMENTS=37]="DISALLOW_SECTION_COMMENTS",F[F.SECTION_TOOLBAR_ON_LEFT=38]="SECTION_TOOLBAR_ON_LEFT",F[F.MOBILE_WEBVIEW_UNFURLS=39]="MOBILE_WEBVIEW_UNFURLS",F[F.INLINE_COMMENTS=40]="INLINE_COMMENTS",F[F.UNIVERSAL_DRAG_PREVIEW=41]="UNIVERSAL_DRAG_PREVIEW",F[F.DISABLE_GLOBAL_SHORTCUTS=42]="DISABLE_GLOBAL_SHORTCUTS",F[F.NARROW_COLLAB_INDENTATION=43]="NARROW_COLLAB_INDENTATION",F[F.EXPANDED_FLEXBOX_MARGIN=44]="EXPANDED_FLEXBOX_MARGIN",F[F.ADD_COLUMN_FROM_SECTION_MENU=45]="ADD_COLUMN_FROM_SECTION_MENU",F[F.REQUEST_COMPLETION_HOOK=46]="REQUEST_COMPLETION_HOOK",F[F.A11Y_CARET=47]="A11Y_CARET",F[F.BOOKMARKS=48]="BOOKMARKS",F[F.GRIDLIKE_DRAG_AND_DROP_PLACEMENT=50]="GRIDLIKE_DRAG_AND_DROP_PLACEMENT",F[F.SLACK_MESSAGE_TITLE=51]="SLACK_MESSAGE_TITLE",F[F.LENIENT_STARTUP=52]="LENIENT_STARTUP",F[F.ALLOW_SELECTING_ARCHIVED_COMMENTS=53]="ALLOW_SELECTING_ARCHIVED_COMMENTS",F[F.ANIMATE_LAYOUT_DRAG=54]="ANIMATE_LAYOUT_DRAG",F[F.STATIC_TITLES=55]="STATIC_TITLES",F[F.PROFILE_UNFURLS=56]="PROFILE_UNFURLS",F[F.DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES=57]="DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES",F[F.MOBILE_NATIVE_UNFURLS=58]="MOBILE_NATIVE_UNFURLS",F[F.DEFAULT_UNFURLS_ON_PASTE=59]="DEFAULT_UNFURLS_ON_PASTE",F[F.SAVED_FOR_LATER=60]="SAVED_FOR_LATER",F[F.COMMENTS_REDESIGN=61]="COMMENTS_REDESIGN",F[F.SLACK_USER_CONTEXT_MENU=62]="SLACK_USER_CONTEXT_MENU",F[F.SLACK_OBJECT_CONTROL_CONTEXT_MENUS=63]="SLACK_OBJECT_CONTROL_CONTEXT_MENUS",F[F.JS_MODULE_PREFETCH=64]="JS_MODULE_PREFETCH",F[F.SLACK_SECTION_MENUS=65]="SLACK_SECTION_MENUS",F[F.PADDING_RESIZING=66]="PADDING_RESIZING",F[F.HOVERABLE_SECTION_MENU=68]="HOVERABLE_SECTION_MENU",F[F.SLACK_PRESENCE_UPDATES=69]="SLACK_PRESENCE_UPDATES",F[F.HIDE_INLINE_COMMENT_BUBBLES=70]="HIDE_INLINE_COMMENT_BUBBLES",F[F.HIDE_ADD_COMMENT_BUBBLE=71]="HIDE_ADD_COMMENT_BUBBLE",F[F.HYPERLINK_CONTEXT_MENU=72]="HYPERLINK_CONTEXT_MENU",F[F.UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI=73]="UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI",F[F.LOCK_SECTION_FOR_INLINE_ANNOTATION=74]="LOCK_SECTION_FOR_INLINE_ANNOTATION",F[F.EDITABLE_CONTROL=75]="EDITABLE_CONTROL",F[F.OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION=76]="OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION",F[F.MOVE_CARET_WHEN_OPENING_ANNOTATION=77]="MOVE_CARET_WHEN_OPENING_ANNOTATION",F[F.DISABLE_TITLE_UNFURL=79]="DISABLE_TITLE_UNFURL",F[F.HIDE_STUB_ANNOTATIONS=80]="HIDE_STUB_ANNOTATIONS",F[F.OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS=81]="OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS",F[F.USE_EXTERNAL_EDITOR_SAVE=82]="USE_EXTERNAL_EDITOR_SAVE",F[F.IMPROVED_WORD_WRAPPING=83]="IMPROVED_WORD_WRAPPING",F[F.HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS=84]="HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS",F[F.USE_NEW_FIND_MODAL=85]="USE_NEW_FIND_MODAL",F[F.DISPLAY_COMMENT_TOOLTIP=86]="DISPLAY_COMMENT_TOOLTIP",F[F.HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT=87]="HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT",F[F.SLACK_FILE_UNFURL_PLACEHOLDER=88]="SLACK_FILE_UNFURL_PLACEHOLDER",F[F.PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS=89]="PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS",F[F.CLEANUP_SENTINEL=90]="CLEANUP_SENTINEL",F[F.OPEN_COMMENTS_HIGHLIGHT_TEMPORARY=91]="OPEN_COMMENTS_HIGHLIGHT_TEMPORARY",F[F.UNFURL_PRIVATE_MESSAGES=92]="UNFURL_PRIVATE_MESSAGES",F[F.MOBILE_DISABLE_PRESENCE_MENU_POPOVER=93]="MOBILE_DISABLE_PRESENCE_MENU_POPOVER",F[F.CANVAS_GA_FAST_FOLLOW=95]="CANVAS_GA_FAST_FOLLOW",F[F.BRIDGE_REFACTORING=96]="BRIDGE_REFACTORING",F[F.SIMPLE_TABLES=97]="SIMPLE_TABLES",F[F.ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS=98]="ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS",F[F.ALLOW_SLACK_OBJECT_TITLE_UNFURL=99]="ALLOW_SLACK_OBJECT_TITLE_UNFURL",F[F.ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL=100]="ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL",F[F.CANVAS_GA_FAST_FOLLOW_2=101]="CANVAS_GA_FAST_FOLLOW_2",F[F.USE_LEFT_GUTTER_DISPLAY=102]="USE_LEFT_GUTTER_DISPLAY",F[F.USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD=103]="USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD",F[F.TITLE_BLOCK_KIT_FORMAT=104]="TITLE_BLOCK_KIT_FORMAT",F[F.USE_LIST_ITEM_MARKER_CONTAINER=105]="USE_LIST_ITEM_MARKER_CONTAINER",F[F.ALLOW_SLACK_TEMPLATE_PLACEHOLDER=106]="ALLOW_SLACK_TEMPLATE_PLACEHOLDER",F[F.USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS=107]="USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS",F[F.IMAGE_RESIZING=108]="IMAGE_RESIZING",F[F.PRIVATE_MESSAGE_SPEEDBUMP_MODAL=109]="PRIVATE_MESSAGE_SPEEDBUMP_MODAL",F[F.ALLOW_HEADER_IMAGE=110]="ALLOW_HEADER_IMAGE",F[F.PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS=111]="PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS",F[F.USE_NEW_SECTION_HIGHLIGHT=112]="USE_NEW_SECTION_HIGHLIGHT",F[F.MODEL_INTEGRITY_PROBE=113]="MODEL_INTEGRITY_PROBE",F[F.MODEL_INTEGRITY_CHANGES_CHECK=114]="MODEL_INTEGRITY_CHANGES_CHECK",F[F.MODEL_FSCK_PROBE=115]="MODEL_FSCK_PROBE",F[F.MODEL_UPDATES_PROBE=116]="MODEL_UPDATES_PROBE",F[F.SIMPLE_TABLES_FULL_BLEED=117]="SIMPLE_TABLES_FULL_BLEED",F[F.IMAGE_MIN_DIMENSIONS=118]="IMAGE_MIN_DIMENSIONS",F[F.SIMPLE_TABLES_MOBILE_DISPLAY_SCALE=119]="SIMPLE_TABLES_MOBILE_DISPLAY_SCALE",F[F.SLACK_TEXTY_CLIPBOARD=120]="SLACK_TEXTY_CLIPBOARD",F[F.ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE=121]="ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE",F[F.SINGLE_HOVERABLE_SECTION_MENU=122]="SINGLE_HOVERABLE_SECTION_MENU",F[F.SIMPLE_TABLES_FIT_TO_PAGE=123]="SIMPLE_TABLES_FIT_TO_PAGE",F[F.TRANSIENT_SECTION_HIGHLIGHTING=124]="TRANSIENT_SECTION_HIGHLIGHTING",F[F.OPTIMIZE_CONTROLS_RENDERING=125]="OPTIMIZE_CONTROLS_RENDERING",F[F.SIMPLE_TABLES_MOBILE_EDITING=126]="SIMPLE_TABLES_MOBILE_EDITING",F[F.OPTIMIZE_EMBEDS_RENDERING=127]="OPTIMIZE_EMBEDS_RENDERING",F[F.CONTENT_REACTION_BAR=128]="CONTENT_REACTION_BAR",F[F.GUTTER_REDESIGN=129]="GUTTER_REDESIGN",F[F.USE_NATIVE_LINK_INSPECTOR=131]="USE_NATIVE_LINK_INSPECTOR",F[F.SECTION_UPDATE_PILL_ENABLED=132]="SECTION_UPDATE_PILL_ENABLED",F[F.SIMPLE_TABLES_CELL_MERGING=133]="SIMPLE_TABLES_CELL_MERGING",F[F.HIGHLIGHT_IN_STANDALONE_CANVASES=134]="HIGHLIGHT_IN_STANDALONE_CANVASES",F[F.BLUE_GREY_MENTIONS=135]="BLUE_GREY_MENTIONS",F[F.SLASH_SHORTCUT_COMMANDS_NUX=136]="SLASH_SHORTCUT_COMMANDS_NUX",F[F.OPTIMIZE_SECTION_STATUS=137]="OPTIMIZE_SECTION_STATUS",F[F.UNFURL_EMBED=138]="UNFURL_EMBED",F[F.SLACK_REACT_17=139]="SLACK_REACT_17",F[F.ENABLE_REACT_18=140]="ENABLE_REACT_18",F[F.PAUSE_PRIVATE_MESSAGE_UNFURL_SNAPSHOTS=141]="PAUSE_PRIVATE_MESSAGE_UNFURL_SNAPSHOTS",F[F.DRAGGABLE_CONTROL=142]="DRAGGABLE_CONTROL",F[F.NEW_COLUMN_PLACEHOLDERS=143]="NEW_COLUMN_PLACEHOLDERS",F[F.CANVAS_LISTS_GA=144]="CANVAS_LISTS_GA",F[F.DOCUMENT_AUTOCOMPLETE=145]="DOCUMENT_AUTOCOMPLETE",F[F.CANVAS_DYNAMIC_LISTS=146]="CANVAS_DYNAMIC_LISTS",F[F.CANVAS_LISTS_CARDS=147]="CANVAS_LISTS_CARDS",F[F.MULTI_SECTION_DRAG=148]="MULTI_SECTION_DRAG",F[F.SMOOTHER_MARGIN_SELECTION=149]="SMOOTHER_MARGIN_SELECTION",F[F.WFB_BACK_TO_BASIC_APRIL_RELEASE=150]="WFB_BACK_TO_BASIC_APRIL_RELEASE",F[F.CANVAS_HEADER_IMAGE=151]="CANVAS_HEADER_IMAGE",F[F.AUTOSLUG_SLACK_CHANNELS=152]="AUTOSLUG_SLACK_CHANNELS",F[F.CANVAS_TITLE_UNFURL_DEFAULT=153]="CANVAS_TITLE_UNFURL_DEFAULT",F[F.CURSOR_AWARENESS=154]="CURSOR_AWARENESS",F[F.CANVAS_LISTS_EMBEDS=155]="CANVAS_LISTS_EMBEDS",F[F.CANVAS_DATE_MENTIONS=156]="CANVAS_DATE_MENTIONS",F[F.CANVAS_MOBILE_GENERIC_PLACEHOLDERS=157]="CANVAS_MOBILE_GENERIC_PLACEHOLDERS",F[F.SELECTION_AWARENESS=158]="SELECTION_AWARENESS",F[F.CANVAS_GROUP_MENTIONS=159]="CANVAS_GROUP_MENTIONS",F[F.CANVAS_SALES_TEMPLATES=160]="CANVAS_SALES_TEMPLATES",F[F.CALLOUTS=161]="CALLOUTS",F[F.CANVAS_LINK_HOVERCARD=162]="CANVAS_LINK_HOVERCARD",F[F.CANVAS_NATIVE_LIST_EMBED=163]="CANVAS_NATIVE_LIST_EMBED",F[F.MESSAGE_TO_CANVAS_BUTTON=165]="MESSAGE_TO_CANVAS_BUTTON",F[F.CANVAS_DYNAMIC_GUTTER=166]="CANVAS_DYNAMIC_GUTTER",F[F.TRANSIENT_SECTION_ENHANCEMENTS=167]="TRANSIENT_SECTION_ENHANCEMENTS",F[F.CANVAS_DATE_HOVERCARD=168]="CANVAS_DATE_HOVERCARD",F[F.MOBILE_COMMENT_ICON_UPDATE=169]="MOBILE_COMMENT_ICON_UPDATE",F[F.CRDTS_CLIENT=170]="CRDTS_CLIENT",F[F.MOBILE_CONTENT_REACTIONS=171]="MOBILE_CONTENT_REACTIONS",F[F.CANVAS_ANNOTATION_AUTO_HIGHLIGHTING=172]="CANVAS_ANNOTATION_AUTO_HIGHLIGHTING",F[F.CANVAS_REQUIRE_EXACT_MATCH_TO_OPEN_COMMENT_THREAD=173]="CANVAS_REQUIRE_EXACT_MATCH_TO_OPEN_COMMENT_THREAD",F[F.MOBILE_ADD_COMMENT_BOTTOM_SHEET=174]="MOBILE_ADD_COMMENT_BOTTOM_SHEET",F[F.CANVAS_GHOST_TEXT_ON_STYLED_SECTIONS=175]="CANVAS_GHOST_TEXT_ON_STYLED_SECTIONS",F[F.MOBILE_CONTENT_REACTIONS_AND_COMMENTS=176]="MOBILE_CONTENT_REACTIONS_AND_COMMENTS",F[F.CONTENT_REACTIONS_AND_COMMENTS=177]="CONTENT_REACTIONS_AND_COMMENTS",F[F.CANVAS_CHECKBOX_ANIMATIONS=178]="CANVAS_CHECKBOX_ANIMATIONS",F[F.MOBILE_SET_IN_CANVAS=179]="MOBILE_SET_IN_CANVAS",F[F.MOBILE_CANVAS_LEFT_PADDING=180]="MOBILE_CANVAS_LEFT_PADDING",F[F.CANVAS_AI_CONTENT_CREATION=181]="CANVAS_AI_CONTENT_CREATION",F[F.WORK_OBJECT_UNFURLS=182]="WORK_OBJECT_UNFURLS",F[F.ENABLE_LOCAL_HISTORY_LAYOUT_FIXERS=183]="ENABLE_LOCAL_HISTORY_LAYOUT_FIXERS",F[F.CANVAS_AI_GUTTER_ICON=184]="CANVAS_AI_GUTTER_ICON",F[F.LAZY_RENDERING=185]="LAZY_RENDERING",F[F.DISABLE_QUIP_METRICS_RECORDER=186]="DISABLE_QUIP_METRICS_RECORDER",F[F.CANVAS_SALESFORCE_DATA_MENTION=187]="CANVAS_SALESFORCE_DATA_MENTION",F[F.CANVAS_ALLOW_SLACK_OUTLINE=188]="CANVAS_ALLOW_SLACK_OUTLINE",F[F.DISABLE_THREAD_READ_ONLY_LISTENERS=189]="DISABLE_THREAD_READ_ONLY_LISTENERS",F[F.CANVAS_HUDDLE_SUMMARY_FEEDBACK_BTNS=190]="CANVAS_HUDDLE_SUMMARY_FEEDBACK_BTNS",F[F.CANVAS_CONVERT_TO_CALLOUT=191]="CANVAS_CONVERT_TO_CALLOUT",F[F.CANVAS_INLINE_AUTHOR_ATTRIBUTION=192]="CANVAS_INLINE_AUTHOR_ATTRIBUTION",F[F.MOBILE_FIND_IN_CANVAS=193]="MOBILE_FIND_IN_CANVAS",F[F.DISABLE_MAX_SAVE_DELAY=194]="DISABLE_MAX_SAVE_DELAY"}(Je||(Je={})),function(F){F[F.NONE=0]="NONE",F[F.SHIFT=1]="SHIFT",F[F.ALT=2]="ALT",F[F.META=4]="META",F[F.CTRL=8]="CTRL",F[F.MOD=16]="MOD"}(B||(B={})),function(F){F[F.CHANNEL=0]="CHANNEL",F[F.USER=1]="USER",F[F.EMOJI=2]="EMOJI",F[F.FILE=4]="FILE",F[F.UNFURL=5]="UNFURL",F[F.DOCUMENT=6]="DOCUMENT",F[F.LINK=7]="LINK",F[F.DOCUMENT_USER_ACCESS=9]="DOCUMENT_USER_ACCESS",F[F.PENDING_URL=10]="PENDING_URL",F[F.GENERIC=11]="GENERIC",F[F.TEMPLATE=12]="TEMPLATE",F[F.BACKGROUND=13]="BACKGROUND",F[F.WIDGET=14]="WIDGET",F[F.LIST=15]="LIST",F[F.LIST_RECORD=16]="LIST_RECORD",F[F.HEADER_IMAGE=17]="HEADER_IMAGE",F[F.SALESFORCE_RECORD=18]="SALESFORCE_RECORD",F[F.GROUP_MEMBERSHIP=19]="GROUP_MEMBERSHIP"}(Fe||(Fe={})),function(F){F[F.NOT_FOUND=0]="NOT_FOUND"}(fe||(fe={})),function(F){F[F.CLOSE=0]="CLOSE",F[F.SELECT=1]="SELECT",F[F.MOVE_SELECTION_DOWN=2]="MOVE_SELECTION_DOWN",F[F.MOVE_SELECTION_UP=3]="MOVE_SELECTION_UP"}(ve||(ve={})),function(F){F.CANVAS="insert-canvas",F.AUDIO="insert-audio",F.VIDEO="insert-video",F.FILE="insert-file",F.WORKFLOW="insert-workflow",F.PROFILE="insert-profile",F.LIST="insert-list",F.CALLOUT="insert-callout",F.CODE="inline-code",F.CHANNEL="ac-trigger-channel",F.CODEBLOCK="insert-codeblock",F.BLOCKQUOTE="insert-blockquote",F.PLAIN="insert-plain",F.H1="insert-h1",F.H2="insert-h2",F.H3="insert-h3",F.IMAGE="insert-image",F.TABLE="insert-table",F.CHECKLIST="insert-checklist",F.BULLET_LIST="insert-bullet-list",F.ORDERED_LIST="insert-ordered-list",F.DIVIDER="insert-divider",F.TWO_COLUMNS="layout-two-columns",F.THREE_COLUMNS="layout-three-columns",F.DATE_GENERIC="date-generic",F.DATE_TODAY="date-today",F.DATE_TOMORROW="date-tomorrow",F.DATE_YESTERDAY="date-yesterday",F.AI_ASSISTANT="ai-assistant",F.AI_ASSISTANT_CANVAS_SUMMARY="ai-assistant-canvas-summary",F.AI_ASSISTANT_CANVAS_ACTION_ITEMS="ai-assistant-canvas-action-items",F.SALESFORCE_DATA_MENTION="salesforce-data-mention",F.SALESFORCE_RECORD="salesforce-record"}(ee||(ee={})),function(F){F.DEFAULT_SOURCE="canvas-shortcut-command"}(Et||(Et={})),function(F){F[F.SLACK_OBJECT=0]="SLACK_OBJECT",F[F.LINK=1]="LINK",F[F.HEADER=2]="HEADER",F[F.TEXT=3]="TEXT",F[F.DIVIDER=4]="DIVIDER",F[F.HYPERLINK=5]="HYPERLINK",F[F.TITLE=6]="TITLE",F[F.TABLE=7]="TABLE",F[F.DRAG_OVERLAY=8]="DRAG_OVERLAY",F[F.COMMENT_METADATA=9]="COMMENT_METADATA",F[F.INVITED_USER=10]="INVITED_USER",F[F.DATE=11]="DATE",F[F.BACKDROP=12]="BACKDROP",F[F.CALLOUT=13]="CALLOUT",F[F.AI_ASSISTANT=14]="AI_ASSISTANT"}(Ne||(Ne={})),function(F){F.STATIC="list-static",F.EMBED="list-embed"}(st||(st={})),function(F){F.STATIC="unfurl-static",F.EMBED="unfurl-embed",F.BUTTON="unfurl-button"}(on||(on={})),function(F){F[F.PREVIOUS=0]="PREVIOUS",F[F.NEXT=1]="NEXT"}($t||($t={})),function(F){F.ROW="row",F.COLUMN="column"}(yi||(yi={})),function(F){F.INSERT_BEFORE="insert_before",F.INSERT_AFTER="insert_after",F.DELETE="delete"}(mi||(mi={})),function(F){F.CLEAR_CONTENTS="clear_contents",F.MERGE_CELLS="merge_cells",F.UNMERGE_CELLS="unmerge_cells"}(ri||(ri={})),function(F){F.TOGGLE_HAS_HEADER_ROW="toggle_has_header_row",F.TOGGLE_HAS_HEADER_COLUMN="toggle_has_header_column",F.DISTRIBUTE_COLUMNS="distribute_columns",F.TOGGLE_FIT_TO_PAGE="toggle_fit_to_page"}(ti||(ti={})),function(F){F.BACKGROUND_COLOR="background_color"}(Zt||(Zt={})),function(F){F.INSERT_CONTENT="insert_content",F.ACCEPT_DRAFT="accept_draft",F.CANCEL_DRAFT="cancel_draft",F.HANDLE_STREAM_INIT="handle_stream_init",F.HANDLE_STREAM_UPDATE="handle_stream_update",F.HANDLE_STREAM_COMPLETE="handle_stream_complete"}(mn||(mn={})),function(F){F.NO_FOCUS_ON_CLICK="data-no-focus-section-on-click",F.NO_DRAG_ON_MOUSE_MOVE="data-no-drag-on-mouse-move",F.EMBEDDED_FILE_CARD_CLASSNAME="card-view__file_card",F.EMBEDDED_IMAGE_CARD_CLASSNAME="card-view__image_card"}(Ui||(Ui={})),function(F){F[F.DISMISS_POPOVER=0]="DISMISS_POPOVER",F[F.REMOVE_ASSOCIATED_CONTENT=1]="REMOVE_ASSOCIATED_CONTENT",F[F.COPY_OBJECT=2]="COPY_OBJECT",F[F.CREATE_OR_VIEW_COMMENT=3]="CREATE_OR_VIEW_COMMENT",F[F.REPLACE_FILE=4]="REPLACE_FILE",F[F.SWITCH_UNFURL_TYPE=5]="SWITCH_UNFURL_TYPE",F[F.PREVENT_POPOVER_DISMISS=6]="PREVENT_POPOVER_DISMISS",F[F.SYNC_METADATA=7]="SYNC_METADATA",F[F.COPY_SECTION_LINK=8]="COPY_SECTION_LINK",F[F.SET_BLOCK_STYLE=9]="SET_BLOCK_STYLE",F[F.ADD_COLUMN=10]="ADD_COLUMN",F[F.MOVE_LINE=11]="MOVE_LINE",F[F.TOGGLE_COLLAPSE=12]="TOGGLE_COLLAPSE",F[F.CHECK_ALL=13]="CHECK_ALL",F[F.UNCHECK_ALL=14]="UNCHECK_ALL",F[F.REMOVE_CHECKED=15]="REMOVE_CHECKED",F[F.MOVE_CHECKED_TO_BOTTOM=16]="MOVE_CHECKED_TO_BOTTOM",F[F.SORT_ALPHA=17]="SORT_ALPHA",F[F.TAKE_OVER_EDITING=18]="TAKE_OVER_EDITING",F[F.ADD_TEXT_BELOW=19]="ADD_TEXT_BELOW",F[F.UPDATE_INLINE_ENTITY_DISPLAY_INFO=20]="UPDATE_INLINE_ENTITY_DISPLAY_INFO",F[F.ON_LINK_INSPECTOR_INPUT_CHANGE=21]="ON_LINK_INSPECTOR_INPUT_CHANGE",F[F.FOCUS_ASSOCIATED_SECTION=22]="FOCUS_ASSOCIATED_SECTION",F[F.UNFURL_URL=23]="UNFURL_URL",F[F.MODIFY_TABLE=24]="MODIFY_TABLE",F[F.RESUME_SNAPSHOTS=25]="RESUME_SNAPSHOTS",F[F.OPEN_POPOVER=26]="OPEN_POPOVER",F[F.CANCEL_HEADER_IMAGE=27]="CANCEL_HEADER_IMAGE",F[F.PREVIEW_HEADER_IMAGE=28]="PREVIEW_HEADER_IMAGE",F[F.SAVE_HEADER_IMAGE=29]="SAVE_HEADER_IMAGE",F[F.MESSAGE_UNFURL_CONFIRMATION=30]="MESSAGE_UNFURL_CONFIRMATION",F[F.UNFURL_URLS=31]="UNFURL_URLS",F[F.ADD_INVITED_USER_CARDS=32]="ADD_INVITED_USER_CARDS",F[F.SYNC_CONTENT_WIDTH=33]="SYNC_CONTENT_WIDTH",F[F.SET_DATE_MS=34]="SET_DATE_MS",F[F.SWITCH_LIST_VIEW=35]="SWITCH_LIST_VIEW",F[F.CONVERT_TABLE_TO_LIST=36]="CONVERT_TABLE_TO_LIST",F[F.HANDLE_MODAL_STATE_CHANGE=37]="HANDLE_MODAL_STATE_CHANGE",F[F.MODIFY_CALLOUT=38]="MODIFY_CALLOUT",F[F.CONVERT_TO_CALLOUT=39]="CONVERT_TO_CALLOUT",F[F.AI_INSERTION_ACTION=40]="AI_INSERTION_ACTION",F[F.CREATE_OR_VIEW_REACTION=41]="CREATE_OR_VIEW_REACTION",F[F.CONVERT_FROM_CALLOUT=42]="CONVERT_FROM_CALLOUT",F[F.PERFORM_CALLOUT_CONVERSION=43]="PERFORM_CALLOUT_CONVERSION",F[F.UPDATE_SALESFORCE_DATA_MENTION=44]="UPDATE_SALESFORCE_DATA_MENTION"}(Er||(Er={})),function(F){F.MERGE="merge",F.UNMERGE="unmerge",F.CLEAR_CONTENTS="clear_contents"}(Dn||(Dn={})),function(F){F[F.SLACK_MESSAGE=0]="SLACK_MESSAGE",F[F.SLACK_FILE=1]="SLACK_FILE",F[F.SLACK_IMAGE_FILE=8]="SLACK_IMAGE_FILE",F[F.SLACK_DOCUMENT=2]="SLACK_DOCUMENT",F[F.SLACK_DOCUMENT_SECTION=3]="SLACK_DOCUMENT_SECTION",F[F.SLACK_PUBLIC_LINK=4]="SLACK_PUBLIC_LINK",F[F.SLACK_USER=5]="SLACK_USER",F[F.SLACK_CHANNEL=6]="SLACK_CHANNEL",F[F.SLACK_WORKFLOW=7]="SLACK_WORKFLOW",F[F.SLACK_WIDGET=9]="SLACK_WIDGET",F[F.SLACK_EMBED=10]="SLACK_EMBED",F[F.SLACK_LIST=11]="SLACK_LIST",F[F.SLACK_LIST_RECORD=12]="SLACK_LIST_RECORD",F[F.SLACK_SALESFORCE_RECORD=13]="SLACK_SALESFORCE_RECORD"}(nn||(nn={})),function(F){F[F.CARD=0]="CARD",F[F.INLINE=1]="INLINE",F[F.LINK=2]="LINK",F[F.WIDGET=3]="WIDGET"}(ni||(ni={})),function(F){F.IMAGE="image",F.HORIZONTAL_RULE="horizontal-rule",F.CHECKLIST="checklist",F.NUMBERED_LIST="numbered-list",F.BULLETED_LIST="bullet-list",F.TABLE="table",F.CODE="code",F.TEXT_H1_STYLE="large-heading",F.TEXT_H2_STYLE="medium-heading",F.TEXT_H3_STYLE="small-heading",F.TEXT_PLAIN_STYLE="plain",F.BLOCKQUOTE="blockquote",F.LAYOUT="layout",F.EMOJI="emoji",F.DATE_MENTION="date-mention",F.CALLOUT="callout"}(oi||(oi={})),function(F){F.PROFILE="profile",F.WORKFLOW="workflow",F.LINK="link",F.IMAGE="image",F.CANVAS="canvas",F.VIDEO="video",F.AUDIO="audio",F.FILE="file",F.LIST="list",F.SALESFORCE_RECORD="sfrecord"}(Ji||(Ji={})),function(F){F[F.DOCUMENT_SAVING=1]="DOCUMENT_SAVING",F[F.IO=2]="IO",F[F.LISTENER=3]="LISTENER",F[F.ELEMENT=4]="ELEMENT"}(Qi||(Qi={})),function(F){F[F.NONE=0]="NONE",F[F.DOCUMENT_FAILED_TO_LOAD=1]="DOCUMENT_FAILED_TO_LOAD",F[F.DOCUMENT_SAVE_FAILED=2]="DOCUMENT_SAVE_FAILED",F[F.DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE=3]="DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE",F[F.DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE=4]="DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE",F[F.DOCUMENT_TOO_LARGE_TO_SAVE=5]="DOCUMENT_TOO_LARGE_TO_SAVE",F[F.SESSION_EXPIRED=6]="SESSION_EXPIRED",F[F.THREAD_CLOSED=7]="THREAD_CLOSED",F[F.DOCUMENT_SAVE_FAILED_TO_COMPLETE=8]="DOCUMENT_SAVE_FAILED_TO_COMPLETE",F[F.DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES=9]="DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES",F[F.DOCUMENT_SAVE_FAILED_DUE_TO_THREAD_READ_ONLY=10]="DOCUMENT_SAVE_FAILED_DUE_TO_THREAD_READ_ONLY"}(Ei||(Ei={})),function(F){F[F.WRITE=0]="WRITE",F[F.READ=1]="READ",F[F.NONE=2]="NONE"}(Jn||(Jn={})),function(F){F.DOWNLOAD="download",F.EDIT_FILE="edit-file",F.OPEN_IN_NEW_WINDOW="open-in-new-window",F.PREVIEW_FILE="preview-file",F.VIEW_FULL_SCREEN="view-full-screen",F.SHARE="share"}(Sr||(Sr={})),function(F){F[F.HOVERCARD=0]="HOVERCARD",F[F.CARD=1]="CARD",F[F.HEADER=2]="HEADER",F[F.CONTROL_CONTEXT_MENU=3]="CONTROL_CONTEXT_MENU",F[F.SECTION_MENU=4]="SECTION_MENU",F[F.HYPERLINK_CONTEXT_MENU=5]="HYPERLINK_CONTEXT_MENU",F[F.HYPERLINK_INSPECTOR_TOOLBAR=6]="HYPERLINK_INSPECTOR_TOOLBAR",F[F.CONTROL_OBJECT_OBSERVER=7]="CONTROL_OBJECT_OBSERVER",F[F.TABLE_SELECTION_MENU=8]="TABLE_SELECTION_MENU",F[F.FILE_UPLOAD_BLOCKED_OVERLAY=9]="FILE_UPLOAD_BLOCKED_OVERLAY",F[F.EPHEMERAL_MESSAGE_MODAL_TRIGGER=10]="EPHEMERAL_MESSAGE_MODAL_TRIGGER",F[F.VARIABLE_EDIT_POPOVER=11]="VARIABLE_EDIT_POPOVER",F[F.CONTENT_REACTION_BAR=12]="CONTENT_REACTION_BAR",F[F.GUTTER_REACTION_ICON=13]="GUTTER_REACTION_ICON",F[F.HEADER_IMAGE_PICKER=14]="HEADER_IMAGE_PICKER",F[F.DATE_PICKER=15]="DATE_PICKER",F[F.MODAL_STATE_OBSERVER=16]="MODAL_STATE_OBSERVER",F[F.AI_ASSISTANT_OVERLAY=17]="AI_ASSISTANT_OVERLAY",F[F.EMOJI_PICKER=18]="EMOJI_PICKER",F[F.AI_SECTION_MENU=19]="AI_SECTION_MENU"}(cr||(cr={})),function(F){F.NONE="none",F.THREAD_ROOT="thread_root",F.THREAD_COMPOSER="thread_composer"}(Dr||(Dr={})),function(F){F[F.COMMENT=1]="COMMENT",F[F.REACTION=2]="REACTION"}(Yi||(Yi={})),function(F){F.TEXT="text",F.USER="user",F.CHANNEL="channel",F.DATE="date",F.SALESFORCE_DATA_MENTION="salesforce data mention"}(io||(io={})),function(F){F.INSERT="insert",F.EDIT="edit",F.REMOVE="remove",F.SHOW_CREATION_POPOVER="show_creation_popover",F.HIGHLIGHT="highlight"}(sr||(sr={})),function(F){F.INSERT="insert",F.INITIATE_DRAG="initiate_drag"}(lo||(lo={}));class ji{constructor(_e){this.gt=0,this.bt=-1,this.Bt=-1,this.Ft=-1,this.Gt=-1,this.Vt=void 0,this.Ht=void 0;const tt=_e.userAgent.toLowerCase(),zt=_e.platform;if(this.yt=tt.indexOf("webkit")!=-1,this.Kt=this.yt,this.kt=tt.indexOf("android")!=-1,this.$t=tt.indexOf("chrome")!=-1,this.Yt=tt.indexOf("edge/")!=-1,this.Wt=!1,this.$t&&(this.Wt=!0,this.Kt=!1,this.gt=parseInt(tt.match(/chrome\/(\d+)\./)[1],10)),this.jt=!this.$t&&tt.indexOf("safari")!=-1,this.Xt=tt.indexOf("gecko")!=-1&&tt.indexOf("like gecko")==-1,this.Jt=tt.indexOf("opera")!=-1,this.yt){const gn=/applewebkit\/([\d.]+)/.exec(tt);gn&&(this.bt=parseFloat(gn[1]))}if(this.Xt){const gn=/rv:([\d.]+)\)/.exec(tt);gn&&(this.Bt=parseFloat(gn[1]))}if(this.Yt){this.$t=!1,this.Wt=!1,this.yt=!1,this.Kt=!1,this.bt=-1,this.gt=0;const gn=/edge\/([\d.]+)/.exec(tt);gn&&(this.Ft=parseFloat(gn[1]))}if(this.xt=zt.indexOf("Win")==0,this.Zt=zt.indexOf("Mac")==0,this.Qt=zt.match(/^(iPad|iPhone|iPod)/)!==null,this.qt=zt.match(/^(iPad)/)!==null,this.Qt){const gn=/(OS|os) (\d+)(_\d+)*\s/.exec(tt);gn&&(this.Gt=parseInt(gn[2]||"0",10))}}isWebKitLineage(){return this.yt}isWebKit(){return this.Kt}isBlink(){return this.Wt}webKitVersion(){return this.bt}isWindows(){return this.xt}isMac(){return this.Zt}isIOs(){return this.Qt}iosMajorVersion(){return this.Gt}isIPad(){return this.qt}isAndroid(){return this.kt}isChrome(){return this.$t}chromeVersion(){return this.gt}isSafari(){return this.jt}isGecko(){return this.Xt}geckoVersion(){return this.Bt}isOpera(){return this.Jt}isEdge(){return this.Yt}edgeVersion(){return this.Ft}isSmallScreen(){return this.Vt!==void 0?this.Vt=="small":this.Qt?!this.qt:!!this.kt&&Math.min(window.innerWidth,window.innerHeight)<630}isMediumScreen(){return this.Vt!==void 0&&this.Vt=="medium"}setScreenSizeOverride(_e){this.Vt=_e}isTablet(){return this.Ht!==void 0?!!this.Ht:!!this.Qt&&this.qt}setIsTabletOverride(_e){this.Ht=_e}isPhone(){return(this.isIOs()||this.isAndroid())&&!this.isTablet()}isMobile(){return this.isIOs()||this.isAndroid()}hasEmacsBindings(){return this.Qt||this.Zt}consoleSupportsCss(){return this.Wt||this.Kt&&this.bt>=537||this.Xt}useAppStoreTimeout(){return this.Qt&&this.bt<601}isSupportedBrowser(){return!!this.Wt||(this.yt?this.bt>=536:this.Xt?this.Bt>=21:!!this.Yt)}}n(ji,"_e"),new ji(navigator),function(F){F.GREEN="green",F.JADE="jade",F.BLUE="blue",F.INDIGO="indigo",F.PURPLE="purple",F.PINK="pink",F.ORANGE="orange",F.BROWN="brown",F.GRAY="gray"}(Gi||(Gi={})),Wt("Collab",Vn),Wt("dumpCollabDebugReport",function(){wi.forEach((F,_e)=>{_e.getInitLog().then(tt=>{console.log(`Collab instance ${_e.id} debug report:`,_e.getBridgeDebugReport(!1),tt)})})}),window.JS_CLIENT_HASH="UP1KIQXud9dza7d3gQl5tg",window.QUIP_VERSION_NAME="quipbuild_2025_08_13T17_47_af4cb4f"},1483755157:(V,l,c)=>{var d;(function(h,m,p){if(!h)return;for(var a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},e={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},t,r=1;r<20;++r)a[111+r]="f"+r;for(r=0;r<=9;++r)a[r+96]=r.toString();function o(P,x,z){if(P.addEventListener){P.addEventListener(x,z,!1);return}P.attachEvent("on"+x,z)}n(o,"_addEvent");function f(P,x,z){P.removeEventListener&&P.removeEventListener(x,z,!1)}n(f,"_removeEvent");function g(P){if(P.type=="keypress"){var x=String.fromCharCode(P.which);return P.shiftKey||(x=x.toLowerCase()),x}return a[P.which]?a[P.which]:s[P.which]?s[P.which]:String.fromCharCode(P.which).toLowerCase()}n(g,"_characterFromEvent");function v(P,x){return P.sort().join(",")===x.sort().join(",")}n(v,"_modifiersMatch");function u(P){var x=[];return P.shiftKey&&x.push("shift"),P.altKey&&x.push("alt"),P.ctrlKey&&x.push("ctrl"),P.metaKey&&x.push("meta"),x}n(u,"_eventModifiers");function S(P){if(P.preventDefault){P.preventDefault();return}P.returnValue=!1}n(S,"_preventDefault");function _(P){if(P.stopPropagation){P.stopPropagation();return}P.cancelBubble=!0}n(_,"_stopPropagation");function b(P){return P=="shift"||P=="ctrl"||P=="alt"||P=="meta"}n(b,"_isModifier");function E(){if(!t){t={};for(var P in a)P>95&&P<112||a.hasOwnProperty(P)&&(t[a[P]]=P)}return t}n(E,"_getReverseMap");function T(P,x,z){return z||(z=E()[P]?"keydown":"keypress"),z=="keypress"&&x.length&&(z="keydown"),z}n(T,"_pickBestAction");function I(P){return P==="+"?["+"]:(P=P.replace(/\+{2}/g,"+plus"),P.split("+"))}n(I,"_keysFromString");function A(P,x){var z,Z,re,ne=[];for(z=I(P),re=0;re<z.length;++re)Z=z[re],e[Z]&&(Z=e[Z]),x&&x!="keypress"&&i[Z]&&(Z=i[Z],ne.push("shift")),b(Z)&&ne.push(Z);return x=T(Z,ne,x),{key:Z,modifiers:ne,action:x}}n(A,"_getKeyInfo");function w(P,x){return P===null||P===m?!1:P===x?!0:w(P.parentNode,x)}n(w,"_belongsTo");function R(P){var x=this;if(P=P||m,!(x instanceof R))return new R(P);x.target=P,x._callbacks={},x._directMap={};var z={},Z,re=!1,ne=!1,he=!1;function ge(ct){ct=ct||{};var rt=!1,_t;for(_t in z){if(ct[_t]){rt=!0;continue}z[_t]=0}rt||(he=!1)}n(ge,"_resetSequences");function Pe(ct,rt,_t,Gt,Kt,Ye){var Xe,It,kt=[],gt=_t.type;if(!x._callbacks[ct])return[];for(gt=="keyup"&&b(ct)&&(rt=[ct]),Xe=0;Xe<x._callbacks[ct].length;++Xe)if(It=x._callbacks[ct][Xe],!(!Gt&&It.seq&&z[It.seq]!=It.level)&&gt==It.action&&(gt=="keypress"&&!_t.metaKey&&!_t.ctrlKey||v(rt,It.modifiers))){var En=!Gt&&It.combo==Kt,pn=Gt&&It.seq==Gt&&It.level==Ye;(En||pn)&&x._callbacks[ct].splice(Xe,1),kt.push(It)}return kt}n(Pe,"_getMatches");function He(ct,rt,_t,Gt){x.stopCallback(rt,rt.target||rt.srcElement,_t,Gt)||ct(rt,_t)===!1&&(S(rt),_(rt))}n(He,"_fireCallback"),x._handleKey=function(ct,rt,_t){var Gt=Pe(ct,rt,_t),Kt,Ye={},Xe=0,It=!1;for(Kt=0;Kt<Gt.length;++Kt)Gt[Kt].seq&&(Xe=Math.max(Xe,Gt[Kt].level));for(Kt=0;Kt<Gt.length;++Kt){if(Gt[Kt].seq){if(Gt[Kt].level!=Xe)continue;It=!0,Ye[Gt[Kt].seq]=1,He(Gt[Kt].callback,_t,Gt[Kt].combo,Gt[Kt].seq);continue}It||He(Gt[Kt].callback,_t,Gt[Kt].combo)}var kt=_t.type=="keypress"&&ne;_t.type==he&&!b(ct)&&!kt&&ge(Ye),ne=It&&_t.type=="keydown"};function pt(ct){typeof ct.which!="number"&&(ct.which=ct.keyCode);var rt=g(ct);if(rt){if(ct.type=="keyup"&&re===rt){re=!1;return}x.handleKey(rt,u(ct),ct)}}n(pt,"_handleKeyEvent");function Ht(){clearTimeout(Z),Z=setTimeout(ge,1e3)}n(Ht,"_resetSequenceTimer");function Ke(ct,rt,_t,Gt){z[ct]=0;function Kt(gt){return function(){he=gt,++z[ct],Ht()}}n(Kt,"_increaseSequence");function Ye(gt){He(_t,gt,ct),Gt!=="keyup"&&(re=g(gt)),setTimeout(ge,10)}n(Ye,"_callbackAndReset");for(var Xe=0;Xe<rt.length;++Xe){var It=Xe+1===rt.length,kt=It?Ye:Kt(Gt||A(rt[Xe+1]).action);it(rt[Xe],kt,Gt,ct,Xe)}}n(Ke,"_bindSequence");function it(ct,rt,_t,Gt,Kt){x._directMap[ct+":"+_t]=rt,ct=ct.replace(/\s+/g," ");var Ye=ct.split(" "),Xe;if(Ye.length>1){Ke(ct,Ye,rt,_t);return}Xe=A(ct,_t),x._callbacks[Xe.key]=x._callbacks[Xe.key]||[],Pe(Xe.key,Xe.modifiers,{type:Xe.action},Gt,ct,Kt),x._callbacks[Xe.key][Gt?"unshift":"push"]({callback:rt,modifiers:Xe.modifiers,action:Xe.action,seq:Gt,level:Kt,combo:ct})}n(it,"_bindSingle"),x._bindMultiple=function(ct,rt,_t){for(var Gt=0;Gt<ct.length;++Gt)it(ct[Gt],rt,_t)},x.destroy=function(){f(P,"keypress",pt),f(P,"keydown",pt),f(P,"keyup",pt),x.reset()},o(P,"keypress",pt),o(P,"keydown",pt),o(P,"keyup",pt)}n(R,"Mousetrap"),R.prototype.bind=function(P,x,z){var Z=this;return P=P instanceof Array?P:[P],Z._bindMultiple.call(Z,P,x,z),Z},R.prototype.unbind=function(P,x){var z=this;return z.bind.call(z,P,function(){},x)},R.prototype.trigger=function(P,x){var z=this;return z._directMap[P+":"+x]&&z._directMap[P+":"+x]({},P),z},R.prototype.reset=function(){var P=this;return P._callbacks={},P._directMap={},P},R.prototype.stopCallback=function(P,x){var z=this;return(" "+x.className+" ").indexOf(" mousetrap ")>-1||w(x,z.target)?!1:x.tagName=="INPUT"||x.tagName=="SELECT"||x.tagName=="TEXTAREA"||x.isContentEditable},R.prototype.handleKey=function(){var P=this;return P._handleKey.apply(P,arguments)},R.addKeycodes=function(P){for(var x in P)P.hasOwnProperty(x)&&(a[x]=P[x]);t=null},R.init=function(){var P=R(m);for(var x in P)x.charAt(0)!=="_"&&(R[x]=function(z){return function(){return P[z].apply(P,arguments)}}(x))},R.init(),h.Mousetrap=R,V.exports&&(V.exports=R),d=function(){return R}.call(l,c,l,V),d!==p&&(V.exports=d)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},1874409785:function(V){(function(l,c){V.exports=c()})(this,function(){return function(l){var c={};function d(h){if(c[h])return c[h].exports;var m=c[h]={i:h,l:!1,exports:{}};return l[h].call(m.exports,m,m.exports,d),m.l=!0,m.exports}return n(d,"r"),d.m=l,d.c=c,d.d=function(h,m,p){d.o(h,m)||Object.defineProperty(h,m,{enumerable:!0,get:p})},d.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},d.t=function(h,m){if(1&m&&(h=d(h)),8&m||4&m&&typeof h=="object"&&h&&h.__esModule)return h;var p=Object.create(null);if(d.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:h}),2&m&&typeof h!="string")for(var a in h)d.d(p,a,function(s){return h[s]}.bind(null,a));return p},d.n=function(h){var m=h&&h.__esModule?function(){return h.default}:function(){return h};return d.d(m,"a",m),m},d.o=function(h,m){return Object.prototype.hasOwnProperty.call(h,m)},d.p="",d(d.s=90)}({17:function(l,c,d){"use strict";c.__esModule=!0,c.default=void 0;var h=d(18),m=function(){function p(){}return n(p,"e"),p.getFirstMatch=function(a,s){var i=s.match(a);return i&&i.length>0&&i[1]||""},p.getSecondMatch=function(a,s){var i=s.match(a);return i&&i.length>1&&i[2]||""},p.matchAndReturnConst=function(a,s,i){if(a.test(s))return i},p.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},p.getMacOSVersionName=function(a){var s=a.split(".").splice(0,2).map(function(i){return parseInt(i,10)||0});if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},p.getAndroidVersionName=function(a){var s=a.split(".").splice(0,2).map(function(i){return parseInt(i,10)||0});if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},p.getVersionPrecision=function(a){return a.split(".").length},p.compareVersions=function(a,s,i){i===void 0&&(i=!1);var e=p.getVersionPrecision(a),t=p.getVersionPrecision(s),r=Math.max(e,t),o=0,f=p.map([a,s],function(g){var v=r-p.getVersionPrecision(g),u=g+new Array(v+1).join(".0");return p.map(u.split("."),function(S){return new Array(20-S.length).join("0")+S}).reverse()});for(i&&(o=r-Math.min(e,t)),r-=1;r>=o;){if(f[0][r]>f[1][r])return 1;if(f[0][r]===f[1][r]){if(r===o)return 0;r-=1}else if(f[0][r]<f[1][r])return-1}},p.map=function(a,s){var i,e=[];if(Array.prototype.map)return Array.prototype.map.call(a,s);for(i=0;i<a.length;i+=1)e.push(s(a[i]));return e},p.find=function(a,s){var i,e;if(Array.prototype.find)return Array.prototype.find.call(a,s);for(i=0,e=a.length;i<e;i+=1){var t=a[i];if(s(t,i))return t}},p.assign=function(a){for(var s,i,e=a,t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[a].concat(r));var f=n(function(){var g=r[s];typeof g=="object"&&g!==null&&Object.keys(g).forEach(function(v){e[v]=g[v]})},"o");for(s=0,i=r.length;s<i;s+=1)f();return a},p.getBrowserAlias=function(a){return h.BROWSER_ALIASES_MAP[a]},p.getBrowserTypeByAlias=function(a){return h.BROWSER_MAP[a]||""},p}();c.default=m,l.exports=c.default},18:function(l,c,d){"use strict";c.__esModule=!0,c.ENGINE_MAP=c.OS_MAP=c.PLATFORMS_MAP=c.BROWSER_MAP=c.BROWSER_ALIASES_MAP=void 0,c.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},c.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},c.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},c.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},c.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(l,c,d){"use strict";c.__esModule=!0,c.default=void 0;var h,m=(h=d(91))&&h.__esModule?h:{default:h},p=d(18);function a(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}n(a,"a");var s=function(){function i(){}n(i,"e");var e,t,r;return i.getParser=function(o,f){if(f===void 0&&(f=!1),typeof o!="string")throw new Error("UserAgent should be a string");return new m.default(o,f)},i.parse=function(o){return new m.default(o).getResult()},e=i,r=[{key:"BROWSER_MAP",get:function(){return p.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return p.ENGINE_MAP}},{key:"OS_MAP",get:function(){return p.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return p.PLATFORMS_MAP}}],(t=null)&&a(e.prototype,t),r&&a(e,r),i}();c.default=s,l.exports=c.default},91:function(l,c,d){"use strict";c.__esModule=!0,c.default=void 0;var h=i(d(92)),m=i(d(93)),p=i(d(94)),a=i(d(95)),s=i(d(17));function i(t){return t&&t.__esModule?t:{default:t}}n(i,"u");var e=function(){function t(o,f){if(f===void 0&&(f=!1),o==null||o==="")throw new Error("UserAgent parameter can't be empty");this._ua=o,this.parsedResult={},f!==!0&&this.parse()}n(t,"e");var r=t.prototype;return r.getUA=function(){return this._ua},r.test=function(o){return o.test(this._ua)},r.parseBrowser=function(){var o=this;this.parsedResult.browser={};var f=s.default.find(h.default,function(g){if(typeof g.test=="function")return g.test(o);if(g.test instanceof Array)return g.test.some(function(v){return o.test(v)});throw new Error("Browser's test function is not valid")});return f&&(this.parsedResult.browser=f.describe(this.getUA())),this.parsedResult.browser},r.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},r.getBrowserName=function(o){return o?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},r.getBrowserVersion=function(){return this.getBrowser().version},r.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},r.parseOS=function(){var o=this;this.parsedResult.os={};var f=s.default.find(m.default,function(g){if(typeof g.test=="function")return g.test(o);if(g.test instanceof Array)return g.test.some(function(v){return o.test(v)});throw new Error("Browser's test function is not valid")});return f&&(this.parsedResult.os=f.describe(this.getUA())),this.parsedResult.os},r.getOSName=function(o){var f=this.getOS().name;return o?String(f).toLowerCase()||"":f||""},r.getOSVersion=function(){return this.getOS().version},r.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},r.getPlatformType=function(o){o===void 0&&(o=!1);var f=this.getPlatform().type;return o?String(f).toLowerCase()||"":f||""},r.parsePlatform=function(){var o=this;this.parsedResult.platform={};var f=s.default.find(p.default,function(g){if(typeof g.test=="function")return g.test(o);if(g.test instanceof Array)return g.test.some(function(v){return o.test(v)});throw new Error("Browser's test function is not valid")});return f&&(this.parsedResult.platform=f.describe(this.getUA())),this.parsedResult.platform},r.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},r.getEngineName=function(o){return o?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},r.parseEngine=function(){var o=this;this.parsedResult.engine={};var f=s.default.find(a.default,function(g){if(typeof g.test=="function")return g.test(o);if(g.test instanceof Array)return g.test.some(function(v){return o.test(v)});throw new Error("Browser's test function is not valid")});return f&&(this.parsedResult.engine=f.describe(this.getUA())),this.parsedResult.engine},r.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},r.getResult=function(){return s.default.assign({},this.parsedResult)},r.satisfies=function(o){var f=this,g={},v=0,u={},S=0;if(Object.keys(o).forEach(function(R){var P=o[R];typeof P=="string"?(u[R]=P,S+=1):typeof P=="object"&&(g[R]=P,v+=1)}),v>0){var _=Object.keys(g),b=s.default.find(_,function(R){return f.isOS(R)});if(b){var E=this.satisfies(g[b]);if(E!==void 0)return E}var T=s.default.find(_,function(R){return f.isPlatform(R)});if(T){var I=this.satisfies(g[T]);if(I!==void 0)return I}}if(S>0){var A=Object.keys(u),w=s.default.find(A,function(R){return f.isBrowser(R,!0)});if(w!==void 0)return this.compareVersion(u[w])}},r.isBrowser=function(o,f){f===void 0&&(f=!1);var g=this.getBrowserName().toLowerCase(),v=o.toLowerCase(),u=s.default.getBrowserTypeByAlias(v);return f&&u&&(v=u.toLowerCase()),v===g},r.compareVersion=function(o){var f=[0],g=o,v=!1,u=this.getBrowserVersion();if(typeof u=="string")return o[0]===">"||o[0]==="<"?(g=o.substr(1),o[1]==="="?(v=!0,g=o.substr(2)):f=[],o[0]===">"?f.push(1):f.push(-1)):o[0]==="="?g=o.substr(1):o[0]==="~"&&(v=!0,g=o.substr(1)),f.indexOf(s.default.compareVersions(u,g,v))>-1},r.isOS=function(o){return this.getOSName(!0)===String(o).toLowerCase()},r.isPlatform=function(o){return this.getPlatformType(!0)===String(o).toLowerCase()},r.isEngine=function(o){return this.getEngineName(!0)===String(o).toLowerCase()},r.is=function(o,f){return f===void 0&&(f=!1),this.isBrowser(o,f)||this.isOS(o)||this.isPlatform(o)},r.some=function(o){var f=this;return o===void 0&&(o=[]),o.some(function(g){return f.is(g)})},t}();c.default=e,l.exports=c.default},92:function(l,c,d){"use strict";c.__esModule=!0,c.default=void 0;var h,m=(h=d(17))&&h.__esModule?h:{default:h},p=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(s){var i={name:"Googlebot"},e=m.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/opera/i],describe:function(s){var i={name:"Opera"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/opr\/|opios/i],describe:function(s){var i={name:"Opera"},e=m.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/SamsungBrowser/i],describe:function(s){var i={name:"Samsung Internet for Android"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/Whale/i],describe:function(s){var i={name:"NAVER Whale Browser"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/MZBrowser/i],describe:function(s){var i={name:"MZ Browser"},e=m.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/focus/i],describe:function(s){var i={name:"Focus"},e=m.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/swing/i],describe:function(s){var i={name:"Swing"},e=m.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/coast/i],describe:function(s){var i={name:"Opera Coast"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var i={name:"Opera Touch"},e=m.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/yabrowser/i],describe:function(s){var i={name:"Yandex Browser"},e=m.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/ucbrowser/i],describe:function(s){var i={name:"UC Browser"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/Maxthon|mxios/i],describe:function(s){var i={name:"Maxthon"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/epiphany/i],describe:function(s){var i={name:"Epiphany"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/puffin/i],describe:function(s){var i={name:"Puffin"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/sleipnir/i],describe:function(s){var i={name:"Sleipnir"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/k-meleon/i],describe:function(s){var i={name:"K-Meleon"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/micromessenger/i],describe:function(s){var i={name:"WeChat"},e=m.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/qqbrowser/i],describe:function(s){var i={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},e=m.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/msie|trident/i],describe:function(s){var i={name:"Internet Explorer"},e=m.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/\sedg\//i],describe:function(s){var i={name:"Microsoft Edge"},e=m.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/edg([ea]|ios)/i],describe:function(s){var i={name:"Microsoft Edge"},e=m.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/vivaldi/i],describe:function(s){var i={name:"Vivaldi"},e=m.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/seamonkey/i],describe:function(s){var i={name:"SeaMonkey"},e=m.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/sailfish/i],describe:function(s){var i={name:"Sailfish"},e=m.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return e&&(i.version=e),i}},{test:[/silk/i],describe:function(s){var i={name:"Amazon Silk"},e=m.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/phantom/i],describe:function(s){var i={name:"PhantomJS"},e=m.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/slimerjs/i],describe:function(s){var i={name:"SlimerJS"},e=m.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var i={name:"BlackBerry"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var i={name:"WebOS Browser"},e=m.default.getFirstMatch(p,s)||m.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/bada/i],describe:function(s){var i={name:"Bada"},e=m.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/tizen/i],describe:function(s){var i={name:"Tizen"},e=m.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/qupzilla/i],describe:function(s){var i={name:"QupZilla"},e=m.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var i={name:"Firefox"},e=m.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/electron/i],describe:function(s){var i={name:"Electron"},e=m.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/MiuiBrowser/i],describe:function(s){var i={name:"Miui"},e=m.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/chromium/i],describe:function(s){var i={name:"Chromium"},e=m.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/chrome|crios|crmo/i],describe:function(s){var i={name:"Chrome"},e=m.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/GSA/i],describe:function(s){var i={name:"Google Search"},e=m.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:function(s){var i=!s.test(/like android/i),e=s.test(/android/i);return i&&e},describe:function(s){var i={name:"Android Browser"},e=m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/playstation 4/i],describe:function(s){var i={name:"PlayStation 4"},e=m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/safari|applewebkit/i],describe:function(s){var i={name:"Safari"},e=m.default.getFirstMatch(p,s);return e&&(i.version=e),i}},{test:[/.*/i],describe:function(s){var i=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:m.default.getFirstMatch(i,s),version:m.default.getSecondMatch(i,s)}}}];c.default=a,l.exports=c.default},93:function(l,c,d){"use strict";c.__esModule=!0,c.default=void 0;var h,m=(h=d(17))&&h.__esModule?h:{default:h},p=d(18),a=[{test:[/Roku\/DVP/],describe:function(s){var i=m.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:p.OS_MAP.Roku,version:i}}},{test:[/windows phone/i],describe:function(s){var i=m.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:p.OS_MAP.WindowsPhone,version:i}}},{test:[/windows /i],describe:function(s){var i=m.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),e=m.default.getWindowsVersionName(i);return{name:p.OS_MAP.Windows,version:i,versionName:e}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var i={name:p.OS_MAP.iOS},e=m.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return e&&(i.version=e),i}},{test:[/macintosh/i],describe:function(s){var i=m.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),e=m.default.getMacOSVersionName(i),t={name:p.OS_MAP.MacOS,version:i};return e&&(t.versionName=e),t}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var i=m.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:p.OS_MAP.iOS,version:i}}},{test:function(s){var i=!s.test(/like android/i),e=s.test(/android/i);return i&&e},describe:function(s){var i=m.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),e=m.default.getAndroidVersionName(i),t={name:p.OS_MAP.Android,version:i};return e&&(t.versionName=e),t}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var i=m.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),e={name:p.OS_MAP.WebOS};return i&&i.length&&(e.version=i),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var i=m.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||m.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||m.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:p.OS_MAP.BlackBerry,version:i}}},{test:[/bada/i],describe:function(s){var i=m.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:p.OS_MAP.Bada,version:i}}},{test:[/tizen/i],describe:function(s){var i=m.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:p.OS_MAP.Tizen,version:i}}},{test:[/linux/i],describe:function(){return{name:p.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:p.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var i=m.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:p.OS_MAP.PlayStation4,version:i}}}];c.default=a,l.exports=c.default},94:function(l,c,d){"use strict";c.__esModule=!0,c.default=void 0;var h,m=(h=d(17))&&h.__esModule?h:{default:h},p=d(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var i=m.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",e={type:p.PLATFORMS_MAP.mobile,vendor:"Huawei"};return i&&(e.model=i),e}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:p.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:p.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:p.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:p.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:p.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:p.PLATFORMS_MAP.tablet}}},{test:function(s){var i=s.test(/ipod|iphone/i),e=s.test(/like (ipod|iphone)/i);return i&&!e},describe:function(s){var i=m.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:p.PLATFORMS_MAP.mobile,vendor:"Apple",model:i}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:p.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:p.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:p.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:p.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:p.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var i=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&i>=3},describe:function(){return{type:p.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:p.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:p.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:p.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:p.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:p.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:p.PLATFORMS_MAP.tv}}}];c.default=a,l.exports=c.default},95:function(l,c,d){"use strict";c.__esModule=!0,c.default=void 0;var h,m=(h=d(17))&&h.__esModule?h:{default:h},p=d(18),a=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:p.ENGINE_MAP.Blink};var i=m.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:p.ENGINE_MAP.EdgeHTML,version:i}}},{test:[/trident/i],describe:function(s){var i={name:p.ENGINE_MAP.Trident},e=m.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:function(s){return s.test(/presto/i)},describe:function(s){var i={name:p.ENGINE_MAP.Presto},e=m.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:function(s){var i=s.test(/gecko/i),e=s.test(/like gecko/i);return i&&!e},describe:function(s){var i={name:p.ENGINE_MAP.Gecko},e=m.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:p.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var i={name:p.ENGINE_MAP.WebKit},e=m.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return e&&(i.version=e),i}}];c.default=a,l.exports=c.default}})})},585669709:(V,l,c)=>{"use strict";c.r(l),c.d(l,{BotInfo:()=>a,BrowserInfo:()=>h,NodeInfo:()=>m,ReactNativeInfo:()=>s,SearchBotDeviceInfo:()=>p,browserName:()=>v,detect:()=>f,detectOS:()=>S,getNodeVersion:()=>_,parseUserAgent:()=>u});var d=function(E,T,I){if(I||arguments.length===2)for(var A=0,w=T.length,R;A<w;A++)(R||!(A in T))&&(R||(R=Array.prototype.slice.call(T,0,A)),R[A]=T[A]);return E.concat(R||Array.prototype.slice.call(T))},h=function(){function E(T,I,A){this.name=T,this.version=I,this.os=A,this.type="browser"}return n(E,"BrowserInfo"),E}(),m=function(){function E(T){this.version=T,this.type="node",this.name="node",this.os=(void 0).platform}return n(E,"NodeInfo"),E}(),p=function(){function E(T,I,A,w){this.name=T,this.version=I,this.os=A,this.bot=w,this.type="bot-device"}return n(E,"SearchBotDeviceInfo"),E}(),a=function(){function E(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n(E,"BotInfo"),E}(),s=function(){function E(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n(E,"ReactNativeInfo"),E}(),i=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,t=3,r=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",i]],o=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(E){return E?u(E):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new s:typeof navigator<"u"?u(navigator.userAgent):_()}n(f,"detect");function g(E){return E!==""&&r.reduce(function(T,I){var A=I[0],w=I[1];if(T)return T;var R=w.exec(E);return!!R&&[A,R]},!1)}n(g,"matchUserAgent");function v(E){var T=g(E);return T?T[0]:null}n(v,"browserName");function u(E){var T=g(E);if(!T)return null;var I=T[0],A=T[1];if(I==="searchbot")return new a;var w=A[1]&&A[1].split(".").join("_").split("_").slice(0,3);w?w.length<t&&(w=d(d([],w,!0),b(t-w.length),!0)):w=[];var R=w.join("."),P=S(E),x=e.exec(E);return x&&x[1]?new p(I,R,P,x[1]):new h(I,R,P)}n(u,"parseUserAgent");function S(E){for(var T=0,I=o.length;T<I;T++){var A=o[T],w=A[0],R=A[1],P=R.exec(E);if(P)return w}return null}n(S,"detectOS");function _(){var E=!1;return E?new m((void 0).version.slice(1)):null}n(_,"getNodeVersion");function b(E){for(var T=[],I=0;I<E;I++)T.push("0");return T}n(b,"createVersionParts")},434544446:V=>{"use strict";V.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},3564666345:(V,l,c)=>{"use strict";c.d(l,{D0:()=>bt,ED:()=>Bt,l1:()=>ui,Mt:()=>mt,Wx:()=>lr,j7:()=>ct});var d=n(function(ve){return h(ve)&&!m(ve)},"isMergeableObject");function h(fe){return!!fe&&typeof fe=="object"}n(h,"isNonNullObject");function m(fe){var ve=Object.prototype.toString.call(fe);return ve==="[object RegExp]"||ve==="[object Date]"||s(fe)}n(m,"isSpecial");var p=typeof Symbol=="function"&&Symbol.for,a=p?Symbol.for("react.element"):60103;function s(fe){return fe.$$typeof===a}n(s,"isReactElement");function i(fe){return Array.isArray(fe)?[]:{}}n(i,"emptyTarget");function e(fe,ve){return ve.clone!==!1&&ve.isMergeableObject(fe)?o(i(fe),fe,ve):fe}n(e,"cloneUnlessOtherwiseSpecified");function t(fe,ve,ee){return fe.concat(ve).map(function(Et){return e(Et,ee)})}n(t,"defaultArrayMerge");function r(fe,ve,ee){var Et={};return ee.isMergeableObject(fe)&&Object.keys(fe).forEach(function(Ne){Et[Ne]=e(fe[Ne],ee)}),Object.keys(ve).forEach(function(Ne){!ee.isMergeableObject(ve[Ne])||!fe[Ne]?Et[Ne]=e(ve[Ne],ee):Et[Ne]=o(fe[Ne],ve[Ne],ee)}),Et}n(r,"mergeObject");function o(fe,ve,ee){ee=ee||{},ee.arrayMerge=ee.arrayMerge||t,ee.isMergeableObject=ee.isMergeableObject||d;var Et=Array.isArray(ve),Ne=Array.isArray(fe),st=Et===Ne;return st?Et?ee.arrayMerge(fe,ve,ee):r(fe,ve,ee):e(ve,ee)}n(o,"deepmerge"),o.all=n(function(ve,ee){if(!Array.isArray(ve))throw new Error("first argument should be an array");return ve.reduce(function(Et,Ne){return o(Et,Ne,ee)},{})},"deepmergeAll");var f=o;const g=f;var v=c(9217268294),u=c(3134334389),S=c(2228537078),_=c.n(S),b=c(5828775116),E=c(2394306156),T=c(3584844445),I=c(4885105346),A=c(9746734072),w=c(1717613543),R=c(2925863672),P=c(3055495996),x=c(6253409059);function z(fe){return(0,A.A)(fe)?(0,T.A)(fe,P.A):(0,w.A)(fe)?[fe]:(0,I.A)((0,R.A)((0,x.A)(fe)))}n(z,"toPath");const Z=z;var re=c(7066919455),ne=c.n(re),he=c(498506970);function ge(){return ge=Object.assign||function(fe){for(var ve=1;ve<arguments.length;ve++){var ee=arguments[ve];for(var Et in ee)Object.prototype.hasOwnProperty.call(ee,Et)&&(fe[Et]=ee[Et])}return fe},ge.apply(this,arguments)}n(ge,"_extends");function Pe(fe,ve){fe.prototype=Object.create(ve.prototype),fe.prototype.constructor=fe,fe.__proto__=ve}n(Pe,"_inheritsLoose");function He(fe,ve){if(fe==null)return{};var ee={},Et=Object.keys(fe),Ne,st;for(st=0;st<Et.length;st++)Ne=Et[st],!(ve.indexOf(Ne)>=0)&&(ee[Ne]=fe[Ne]);return ee}n(He,"_objectWithoutPropertiesLoose");function pt(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}n(pt,"_assertThisInitialized");var Ht=(0,u.createContext)(void 0);Ht.displayName="FormikContext";var Ke=Ht.Provider,it=Ht.Consumer;function ct(){var fe=(0,u.useContext)(Ht);return fe||(0,b.A)(!1),fe}n(ct,"useFormikContext");var rt=n(function(ve){return Array.isArray(ve)&&ve.length===0},"isEmptyArray"),_t=n(function(ve){return typeof ve=="function"},"isFunction"),Gt=n(function(ve){return ve!==null&&typeof ve=="object"},"isObject"),Kt=n(function(ve){return String(Math.floor(Number(ve)))===ve},"isInteger"),Ye=n(function(ve){return Object.prototype.toString.call(ve)==="[object String]"},"isString"),Xe=n(function(ve){return ve!==ve},"isNaN"),It=n(function(ve){return u.Children.count(ve)===0},"isEmptyChildren"),kt=n(function(ve){return Gt(ve)&&_t(ve.then)},"isPromise"),gt=n(function(ve){return ve&&Gt(ve)&&Gt(ve.target)},"isInputEvent");function En(fe){if(fe=fe||(typeof document<"u"?document:void 0),typeof fe>"u")return null;try{return fe.activeElement||fe.body}catch{return fe.body}}n(En,"getActiveElement");function pn(fe,ve,ee,Et){Et===void 0&&(Et=0);for(var Ne=Z(ve);fe&&Et<Ne.length;)fe=fe[Ne[Et++]];return Et!==Ne.length&&!fe||fe===void 0?ee:fe}n(pn,"getIn");function wn(fe,ve,ee){for(var Et=(0,E.A)(fe),Ne=Et,st=0,on=Z(ve);st<on.length-1;st++){var $t=on[st],yi=pn(fe,on.slice(0,st+1));if(yi&&(Gt(yi)||Array.isArray(yi)))Ne=Ne[$t]=(0,E.A)(yi);else{var mi=on[st+1];Ne=Ne[$t]=Kt(mi)&&Number(mi)>=0?[]:{}}}return(st===0?fe:Ne)[on[st]]===ee?fe:(ee===void 0?delete Ne[on[st]]:Ne[on[st]]=ee,st===0&&ee===void 0&&delete Et[on[st]],Et)}n(wn,"setIn");function zn(fe,ve,ee,Et){ee===void 0&&(ee=new WeakMap),Et===void 0&&(Et={});for(var Ne=0,st=Object.keys(fe);Ne<st.length;Ne++){var on=st[Ne],$t=fe[on];Gt($t)?ee.get($t)||(ee.set($t,!0),Et[on]=Array.isArray($t)?[]:{},zn($t,ve,ee,Et[on])):Et[on]=ve}return Et}n(zn,"setNestedObjectValues");function Qn(fe,ve){switch(ve.type){case"SET_VALUES":return ge({},fe,{values:ve.payload});case"SET_TOUCHED":return ge({},fe,{touched:ve.payload});case"SET_ERRORS":return _()(fe.errors,ve.payload)?fe:ge({},fe,{errors:ve.payload});case"SET_STATUS":return ge({},fe,{status:ve.payload});case"SET_ISSUBMITTING":return ge({},fe,{isSubmitting:ve.payload});case"SET_ISVALIDATING":return ge({},fe,{isValidating:ve.payload});case"SET_FIELD_VALUE":return ge({},fe,{values:wn(fe.values,ve.payload.field,ve.payload.value)});case"SET_FIELD_TOUCHED":return ge({},fe,{touched:wn(fe.touched,ve.payload.field,ve.payload.value)});case"SET_FIELD_ERROR":return ge({},fe,{errors:wn(fe.errors,ve.payload.field,ve.payload.value)});case"RESET_FORM":return ge({},fe,ve.payload);case"SET_FORMIK_STATE":return ve.payload(fe);case"SUBMIT_ATTEMPT":return ge({},fe,{touched:zn(fe.values,!0),isSubmitting:!0,submitCount:fe.submitCount+1});case"SUBMIT_FAILURE":return ge({},fe,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ge({},fe,{isSubmitting:!1});default:return fe}}n(Qn,"formikReducer");var Sn={},Zn={};function lr(fe){var ve=fe.validateOnChange,ee=ve===void 0?!0:ve,Et=fe.validateOnBlur,Ne=Et===void 0?!0:Et,st=fe.validateOnMount,on=st===void 0?!1:st,$t=fe.isInitialValid,yi=fe.enableReinitialize,mi=yi===void 0?!1:yi,ri=fe.onSubmit,ti=He(fe,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),Zt=ge({validateOnChange:ee,validateOnBlur:Ne,validateOnMount:on,onSubmit:ri},ti),mn=(0,u.useRef)(Zt.initialValues),Ui=(0,u.useRef)(Zt.initialErrors||Sn),Er=(0,u.useRef)(Zt.initialTouched||Zn),Dn=(0,u.useRef)(Zt.initialStatus),nn=(0,u.useRef)(!1),ni=(0,u.useRef)({});(0,u.useEffect)(function(){return nn.current=!0,function(){nn.current=!1}},[]);var oi=(0,u.useState)(0),Ji=oi[1],Qi=(0,u.useRef)({values:Zt.initialValues,errors:Zt.initialErrors||Sn,touched:Zt.initialTouched||Zn,status:Zt.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),Ei=Qi.current,Jn=(0,u.useCallback)(function(pe){var Ae=Qi.current;Qi.current=Qn(Ae,pe),Ae!==Qi.current&&Ji(function(Ue){return Ue+1})},[]),Sr=(0,u.useCallback)(function(pe,Ae){return new Promise(function(Ue,vt){var Lt=Zt.validate(pe,Ae);Lt==null?Ue(Sn):kt(Lt)?Lt.then(function(xt){Ue(xt||Sn)},function(xt){vt(xt)}):Ue(Lt)})},[Zt.validate]),cr=(0,u.useCallback)(function(pe,Ae){var Ue=Zt.validationSchema,vt=_t(Ue)?Ue(Ae):Ue,Lt=Ae&&vt.validateAt?vt.validateAt(Ae,pe):In(pe,vt);return new Promise(function(xt,Cn){Lt.then(function(){xt(Sn)},function(Nn){Nn.name==="ValidationError"?xt(Vn(Nn)):Cn(Nn)})})},[Zt.validationSchema]),Dr=(0,u.useCallback)(function(pe,Ae){return new Promise(function(Ue){return Ue(ni.current[pe].validate(Ae))})},[]),Yi=(0,u.useCallback)(function(pe){var Ae=Object.keys(ni.current).filter(function(vt){return _t(ni.current[vt].validate)}),Ue=Ae.length>0?Ae.map(function(vt){return Dr(vt,pn(pe,vt))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ue).then(function(vt){return vt.reduce(function(Lt,xt,Cn){return xt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||xt&&(Lt=wn(Lt,Ae[Cn],xt)),Lt},{})})},[Dr]),io=(0,u.useCallback)(function(pe){return Promise.all([Yi(pe),Zt.validationSchema?cr(pe):{},Zt.validate?Sr(pe):{}]).then(function(Ae){var Ue=Ae[0],vt=Ae[1],Lt=Ae[2],xt=g.all([Ue,vt,Lt],{arrayMerge:_n});return xt})},[Zt.validate,Zt.validationSchema,Yi,Sr,cr]),sr=lt(function(pe){return pe===void 0&&(pe=Ei.values),Jn({type:"SET_ISVALIDATING",payload:!0}),io(pe).then(function(Ae){return nn.current&&(Jn({type:"SET_ISVALIDATING",payload:!1}),Jn({type:"SET_ERRORS",payload:Ae})),Ae})});(0,u.useEffect)(function(){on&&nn.current===!0&&_()(mn.current,Zt.initialValues)&&sr(mn.current)},[on,sr]);var lo=(0,u.useCallback)(function(pe){var Ae=pe&&pe.values?pe.values:mn.current,Ue=pe&&pe.errors?pe.errors:Ui.current?Ui.current:Zt.initialErrors||{},vt=pe&&pe.touched?pe.touched:Er.current?Er.current:Zt.initialTouched||{},Lt=pe&&pe.status?pe.status:Dn.current?Dn.current:Zt.initialStatus;mn.current=Ae,Ui.current=Ue,Er.current=vt,Dn.current=Lt;var xt=n(function(){Jn({type:"RESET_FORM",payload:{isSubmitting:!!pe&&!!pe.isSubmitting,errors:Ue,touched:vt,status:Lt,values:Ae,isValidating:!!pe&&!!pe.isValidating,submitCount:pe&&pe.submitCount&&typeof pe.submitCount=="number"?pe.submitCount:0}})},"dispatchFn");if(Zt.onReset){var Cn=Zt.onReset(Ei.values,$r);kt(Cn)?Cn.then(xt):xt()}else xt()},[Zt.initialErrors,Zt.initialStatus,Zt.initialTouched,Zt.onReset]);(0,u.useEffect)(function(){nn.current===!0&&!_()(mn.current,Zt.initialValues)&&mi&&(mn.current=Zt.initialValues,lo(),on&&sr(mn.current))},[mi,Zt.initialValues,lo,on,sr]),(0,u.useEffect)(function(){mi&&nn.current===!0&&!_()(Ui.current,Zt.initialErrors)&&(Ui.current=Zt.initialErrors||Sn,Jn({type:"SET_ERRORS",payload:Zt.initialErrors||Sn}))},[mi,Zt.initialErrors]),(0,u.useEffect)(function(){mi&&nn.current===!0&&!_()(Er.current,Zt.initialTouched)&&(Er.current=Zt.initialTouched||Zn,Jn({type:"SET_TOUCHED",payload:Zt.initialTouched||Zn}))},[mi,Zt.initialTouched]),(0,u.useEffect)(function(){mi&&nn.current===!0&&!_()(Dn.current,Zt.initialStatus)&&(Dn.current=Zt.initialStatus,Jn({type:"SET_STATUS",payload:Zt.initialStatus}))},[mi,Zt.initialStatus,Zt.initialTouched]);var Gi=lt(function(pe){if(ni.current[pe]&&_t(ni.current[pe].validate)){var Ae=pn(Ei.values,pe),Ue=ni.current[pe].validate(Ae);return kt(Ue)?(Jn({type:"SET_ISVALIDATING",payload:!0}),Ue.then(function(vt){return vt}).then(function(vt){Jn({type:"SET_FIELD_ERROR",payload:{field:pe,value:vt}}),Jn({type:"SET_ISVALIDATING",payload:!1})})):(Jn({type:"SET_FIELD_ERROR",payload:{field:pe,value:Ue}}),Promise.resolve(Ue))}else if(Zt.validationSchema)return Jn({type:"SET_ISVALIDATING",payload:!0}),cr(Ei.values,pe).then(function(vt){return vt}).then(function(vt){Jn({type:"SET_FIELD_ERROR",payload:{field:pe,value:pn(vt,pe)}}),Jn({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ji=(0,u.useCallback)(function(pe,Ae){var Ue=Ae.validate;ni.current[pe]={validate:Ue}},[]),F=(0,u.useCallback)(function(pe){delete ni.current[pe]},[]),_e=lt(function(pe,Ae){Jn({type:"SET_TOUCHED",payload:pe});var Ue=Ae===void 0?Ne:Ae;return Ue?sr(Ei.values):Promise.resolve()}),tt=(0,u.useCallback)(function(pe){Jn({type:"SET_ERRORS",payload:pe})},[]),zt=lt(function(pe,Ae){var Ue=_t(pe)?pe(Ei.values):pe;Jn({type:"SET_VALUES",payload:Ue});var vt=Ae===void 0?ee:Ae;return vt?sr(Ue):Promise.resolve()}),gn=(0,u.useCallback)(function(pe,Ae){Jn({type:"SET_FIELD_ERROR",payload:{field:pe,value:Ae}})},[]),Yn=lt(function(pe,Ae,Ue){Jn({type:"SET_FIELD_VALUE",payload:{field:pe,value:Ae}});var vt=Ue===void 0?ee:Ue;return vt?sr(wn(Ei.values,pe,Ae)):Promise.resolve()}),bi=(0,u.useCallback)(function(pe,Ae){var Ue=Ae,vt=pe,Lt;if(!Ye(pe)){pe.persist&&pe.persist();var xt=pe.target?pe.target:pe.currentTarget,Cn=xt.type,Nn=xt.name,Xn=xt.id,Un=xt.value,Ti=xt.checked,Tn=xt.outerHTML,qi=xt.options,_i=xt.multiple;Ue=Ae||Nn||Xn,vt=/number|range/.test(Cn)?(Lt=parseFloat(Un),isNaN(Lt)?"":Lt):/checkbox/.test(Cn)?sn(pn(Ei.values,Ue),Ti,Un):qi&&_i?An(qi):Un}Ue&&Yn(Ue,vt)},[Yn,Ei.values]),ei=lt(function(pe){if(Ye(pe))return function(Ae){return bi(Ae,pe)};bi(pe)}),si=lt(function(pe,Ae,Ue){Ae===void 0&&(Ae=!0),Jn({type:"SET_FIELD_TOUCHED",payload:{field:pe,value:Ae}});var vt=Ue===void 0?Ne:Ue;return vt?sr(Ei.values):Promise.resolve()}),Si=(0,u.useCallback)(function(pe,Ae){pe.persist&&pe.persist();var Ue=pe.target,vt=Ue.name,Lt=Ue.id,xt=Ue.outerHTML,Cn=Ae||vt||Lt;si(Cn,!0)},[si]),Ai=lt(function(pe){if(Ye(pe))return function(Ae){return Si(Ae,pe)};Si(pe)}),tr=(0,u.useCallback)(function(pe){_t(pe)?Jn({type:"SET_FORMIK_STATE",payload:pe}):Jn({type:"SET_FORMIK_STATE",payload:n(function(){return pe},"payload")})},[]),hr=(0,u.useCallback)(function(pe){Jn({type:"SET_STATUS",payload:pe})},[]),Ar=(0,u.useCallback)(function(pe){Jn({type:"SET_ISSUBMITTING",payload:pe})},[]),co=lt(function(){return Jn({type:"SUBMIT_ATTEMPT"}),sr().then(function(pe){var Ae=pe instanceof Error,Ue=!Ae&&Object.keys(pe).length===0;if(Ue){var vt;try{if(vt=to(),vt===void 0)return}catch(Lt){throw Lt}return Promise.resolve(vt).then(function(Lt){return nn.current&&Jn({type:"SUBMIT_SUCCESS"}),Lt}).catch(function(Lt){if(nn.current)throw Jn({type:"SUBMIT_FAILURE"}),Lt})}else if(nn.current&&(Jn({type:"SUBMIT_FAILURE"}),Ae))throw pe})}),hi=lt(function(pe){if(pe&&pe.preventDefault&&_t(pe.preventDefault)&&pe.preventDefault(),pe&&pe.stopPropagation&&_t(pe.stopPropagation)&&pe.stopPropagation(),!1)var Ae;co().catch(function(Ue){console.warn("Warning: An unhandled error was caught from submitForm()",Ue)})}),$r={resetForm:lo,validateForm:sr,validateField:Gi,setErrors:tt,setFieldError:gn,setFieldTouched:si,setFieldValue:Yn,setStatus:hr,setSubmitting:Ar,setTouched:_e,setValues:zt,setFormikState:tr,submitForm:co},to=lt(function(){return ri(Ei.values,$r)}),vi=lt(function(pe){pe&&pe.preventDefault&&_t(pe.preventDefault)&&pe.preventDefault(),pe&&pe.stopPropagation&&_t(pe.stopPropagation)&&pe.stopPropagation(),lo()}),vn=(0,u.useCallback)(function(pe){return{value:pn(Ei.values,pe),error:pn(Ei.errors,pe),touched:!!pn(Ei.touched,pe),initialValue:pn(mn.current,pe),initialTouched:!!pn(Er.current,pe),initialError:pn(Ui.current,pe)}},[Ei.errors,Ei.touched,Ei.values]),Oi=(0,u.useCallback)(function(pe){return{setValue:n(function(Ue,vt){return Yn(pe,Ue,vt)},"setValue"),setTouched:n(function(Ue,vt){return si(pe,Ue,vt)},"setTouched"),setError:n(function(Ue){return gn(pe,Ue)},"setError")}},[Yn,si,gn]),Zo=(0,u.useCallback)(function(pe){var Ae=Gt(pe),Ue=Ae?pe.name:pe,vt=pn(Ei.values,Ue),Lt={name:Ue,value:vt,onChange:ei,onBlur:Ai};if(Ae){var xt=pe.type,Cn=pe.value,Nn=pe.as,Xn=pe.multiple;xt==="checkbox"?Cn===void 0?Lt.checked=!!vt:(Lt.checked=!!(Array.isArray(vt)&&~vt.indexOf(Cn)),Lt.value=Cn):xt==="radio"?(Lt.checked=vt===Cn,Lt.value=Cn):Nn==="select"&&Xn&&(Lt.value=Lt.value||[],Lt.multiple=!0)}return Lt},[Ai,ei,Ei.values]),uo=(0,u.useMemo)(function(){return!_()(mn.current,Ei.values)},[mn.current,Ei.values]),Ko=(0,u.useMemo)(function(){return typeof $t<"u"?uo?Ei.errors&&Object.keys(Ei.errors).length===0:$t!==!1&&_t($t)?$t(Zt):$t:Ei.errors&&Object.keys(Ei.errors).length===0},[$t,uo,Ei.errors,Zt]),Ho=ge({},Ei,{initialValues:mn.current,initialErrors:Ui.current,initialTouched:Er.current,initialStatus:Dn.current,handleBlur:Ai,handleChange:ei,handleReset:vi,handleSubmit:hi,resetForm:lo,setErrors:tt,setFormikState:tr,setFieldTouched:si,setFieldValue:Yn,setFieldError:gn,setStatus:hr,setSubmitting:Ar,setTouched:_e,setValues:zt,submitForm:co,validateForm:sr,validateField:Gi,isValid:Ko,dirty:uo,unregisterField:F,registerField:ji,getFieldProps:Zo,getFieldMeta:vn,getFieldHelpers:Oi,validateOnBlur:Ne,validateOnChange:ee,validateOnMount:on});return Ho}n(lr,"useFormik");function ui(fe){var ve=lr(fe),ee=fe.component,Et=fe.children,Ne=fe.render,st=fe.innerRef;return(0,u.useImperativeHandle)(st,function(){return ve}),(0,u.createElement)(Ke,{value:ve},ee?(0,u.createElement)(ee,ve):Ne?Ne(ve):Et?_t(Et)?Et(ve):It(Et)?null:u.Children.only(Et):null)}n(ui,"Formik");function fi(fe){var ve=fe.htmlContent,ee=fe.documentationAnchorLink,Et=fe.handlerName;console.warn("Warning: Formik called `"+Et+"`, but you forgot to pass an `id` or `name` attribute to your input:\n    "+ve+`
    Formik cannot determine which value to update. For more info see https://formik.org/docs/api/formik#`+ee+`
  `)}n(fi,"warnAboutMissingIdentifier");function Vn(fe){var ve={};if(fe.inner){if(fe.inner.length===0)return wn(ve,fe.path,fe.message);for(var Ne=fe.inner,ee=Array.isArray(Ne),Et=0,Ne=ee?Ne:Ne[Symbol.iterator]();;){var st;if(ee){if(Et>=Ne.length)break;st=Ne[Et++]}else{if(Et=Ne.next(),Et.done)break;st=Et.value}var on=st;pn(ve,on.path)||(ve=wn(ve,on.path,on.message))}}return ve}n(Vn,"yupToFormErrors");function In(fe,ve,ee,Et){ee===void 0&&(ee=!1);var Ne=wi(fe);return ve[ee?"validateSync":"validate"](Ne,{abortEarly:!1,context:Et||Ne})}n(In,"validateYupSchema");function wi(fe){var ve=Array.isArray(fe)?[]:{};for(var ee in fe)if(Object.prototype.hasOwnProperty.call(fe,ee)){var Et=String(ee);Array.isArray(fe[Et])===!0?ve[Et]=fe[Et].map(function(Ne){return Array.isArray(Ne)===!0||(0,v.A)(Ne)?wi(Ne):Ne!==""?Ne:void 0}):(0,v.A)(fe[Et])?ve[Et]=wi(fe[Et]):ve[Et]=fe[Et]!==""?fe[Et]:void 0}return ve}n(wi,"prepareDataForValidation");function _n(fe,ve,ee){var Et=fe.slice();return ve.forEach(n(function(st,on){if(typeof Et[on]>"u"){var $t=ee.clone!==!1,yi=$t&&ee.isMergeableObject(st);Et[on]=yi?g(Array.isArray(st)?[]:{},st,ee):st}else ee.isMergeableObject(st)?Et[on]=g(fe[on],st,ee):fe.indexOf(st)===-1&&Et.push(st)},"merge")),Et}n(_n,"arrayMerge");function An(fe){return Array.from(fe).filter(function(ve){return ve.selected}).map(function(ve){return ve.value})}n(An,"getSelectedValues");function sn(fe,ve,ee){if(typeof fe=="boolean")return Boolean(ve);var Et=[],Ne=!1,st=-1;if(Array.isArray(fe))Et=fe,st=fe.indexOf(ee),Ne=st>=0;else if(!ee||ee=="true"||ee=="false")return Boolean(ve);return ve&&ee&&!Ne?Et.concat(ee):Ne?Et.slice(0,st).concat(Et.slice(st+1)):Et}n(sn,"getValueForCheckbox");var Q=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect;function lt(fe){var ve=(0,u.useRef)(fe);return Q(function(){ve.current=fe}),(0,u.useCallback)(function(){for(var ee=arguments.length,Et=new Array(ee),Ne=0;Ne<ee;Ne++)Et[Ne]=arguments[Ne];return ve.current.apply(void 0,Et)},[])}n(lt,"useEventCallback");function mt(fe){var ve=ct(),ee=ve.getFieldProps,Et=ve.getFieldMeta,Ne=ve.getFieldHelpers,st=ve.registerField,on=ve.unregisterField,$t=Gt(fe),yi=$t?fe:{name:fe},mi=yi.name,ri=yi.validate;(0,u.useEffect)(function(){return mi&&st(mi,{validate:ri}),function(){mi&&on(mi)}},[st,on,mi,ri]),mi||(0,b.A)(!1);var ti=(0,u.useMemo)(function(){return Ne(mi)},[Ne,mi]);return[ee(yi),Et(mi),ti]}n(mt,"useField");function bt(fe){var ve=fe.validate,ee=fe.name,Et=fe.render,Ne=fe.children,st=fe.as,on=fe.component,$t=fe.className,yi=He(fe,["validate","name","render","children","as","component","className"]),mi=ct(),ri=He(mi,["validate","validationSchema"]),ti=ri.registerField,Zt=ri.unregisterField;(0,u.useEffect)(function(){return ti(ee,{validate:ve}),function(){Zt(ee)}},[ti,Zt,ee,ve]);var mn=ri.getFieldProps(ge({name:ee},yi)),Ui=ri.getFieldMeta(ee),Er={field:mn,form:ri};if(Et)return Et(ge({},Er,{meta:Ui}));if(_t(Ne))return Ne(ge({},Er,{meta:Ui}));if(on){if(typeof on=="string"){var Dn=yi.innerRef,nn=He(yi,["innerRef"]);return(0,u.createElement)(on,ge({ref:Dn},mn,nn,{className:$t}),Ne)}return(0,u.createElement)(on,ge({field:mn,form:ri},yi,{className:$t}),Ne)}var ni=st||"input";if(typeof ni=="string"){var oi=yi.innerRef,Ji=He(yi,["innerRef"]);return(0,u.createElement)(ni,ge({ref:oi},mn,Ji,{className:$t}),Ne)}return(0,u.createElement)(ni,ge({},mn,yi,{className:$t}),Ne)}n(bt,"Field");var At=(0,u.forwardRef)(function(fe,ve){var ee=fe.action,Et=He(fe,["action"]),Ne=ee??"#",st=ct(),on=st.handleReset,$t=st.handleSubmit;return(0,u.createElement)("form",ge({onSubmit:$t,ref:ve,onReset:on,action:Ne},Et))});At.displayName="Form";function Wt(fe){var ve=fe.mapPropsToValues,ee=ve===void 0?function(Ne){var st={};for(var on in Ne)Ne.hasOwnProperty(on)&&typeof Ne[on]!="function"&&(st[on]=Ne[on]);return st}:ve,Et=He(fe,["mapPropsToValues"]);return n(function(st){var on=st.displayName||st.name||st.constructor&&st.constructor.name||"Component",$t=function(yi){Pe(mi,yi);function mi(){for(var ti,Zt=arguments.length,mn=new Array(Zt),Ui=0;Ui<Zt;Ui++)mn[Ui]=arguments[Ui];return ti=yi.call.apply(yi,[this].concat(mn))||this,ti.validate=function(Er){return Et.validate(Er,ti.props)},ti.validationSchema=function(){return _t(Et.validationSchema)?Et.validationSchema(ti.props):Et.validationSchema},ti.handleSubmit=function(Er,Dn){return Et.handleSubmit(Er,ge({},Dn,{props:ti.props}))},ti.renderFormComponent=function(Er){return createElement(st,ge({},ti.props,Er))},ti}n(mi,"C");var ri=mi.prototype;return ri.render=n(function(){var Zt=this.props,mn=He(Zt,["children"]);return createElement(ui,ge({},mn,Et,{validate:Et.validate&&this.validate,validationSchema:Et.validationSchema&&this.validationSchema,initialValues:ee(this.props),initialStatus:Et.mapPropsToStatus&&Et.mapPropsToStatus(this.props),initialErrors:Et.mapPropsToErrors&&Et.mapPropsToErrors(this.props),initialTouched:Et.mapPropsToTouched&&Et.mapPropsToTouched(this.props),onSubmit:this.handleSubmit,children:this.renderFormComponent}))},"render"),mi}(Component);return $t.displayName="WithFormik("+on+")",hoistNonReactStatics($t,st)},"createFormik")}n(Wt,"withFormik");function we(fe){var ve=n(function(Ne){return(0,u.createElement)(it,null,function(st){return st||(0,b.A)(!1),(0,u.createElement)(fe,ge({},Ne,{formik:st}))})},"C"),ee=fe.displayName||fe.name||fe.constructor&&fe.constructor.name||"Component";return ve.WrappedComponent=fe,ve.displayName="FormikConnect("+ee+")",ne()(ve,fe)}n(we,"connect");var ht=n(function(ve,ee,Et){var Ne=Be(ve),st=Ne[ee];return Ne.splice(ee,1),Ne.splice(Et,0,st),Ne},"move"),K=n(function(ve,ee,Et){var Ne=Be(ve),st=Ne[ee];return Ne[ee]=Ne[Et],Ne[Et]=st,Ne},"swap"),se=n(function(ve,ee,Et){var Ne=Be(ve);return Ne.splice(ee,0,Et),Ne},"insert"),Ve=n(function(ve,ee,Et){var Ne=Be(ve);return Ne[ee]=Et,Ne},"replace"),Be=n(function(ve){if(ve){if(Array.isArray(ve))return[].concat(ve);var ee=Object.keys(ve).map(function(Et){return parseInt(Et)}).reduce(function(Et,Ne){return Ne>Et?Ne:Et},0);return Array.from(ge({},ve,{length:ee+1}))}else return[]},"copyArrayLike"),Yt=n(function(ve,ee){var Et=typeof ve=="function"?ve:ee;return function(Ne){if(Array.isArray(Ne)||Gt(Ne)){var st=Be(Ne);return Et(st)}return Ne}},"createAlterationHandler"),yt=function(fe){Pe(ve,fe);function ve(Et){var Ne;return Ne=fe.call(this,Et)||this,Ne.updateArrayField=function(st,on,$t){var yi=Ne.props,mi=yi.name,ri=yi.formik.setFormikState;ri(function(ti){var Zt=Yt($t,st),mn=Yt(on,st),Ui=wn(ti.values,mi,st(pn(ti.values,mi))),Er=$t?Zt(pn(ti.errors,mi)):void 0,Dn=on?mn(pn(ti.touched,mi)):void 0;return rt(Er)&&(Er=void 0),rt(Dn)&&(Dn=void 0),ge({},ti,{values:Ui,errors:$t?wn(ti.errors,mi,Er):ti.errors,touched:on?wn(ti.touched,mi,Dn):ti.touched})})},Ne.push=function(st){return Ne.updateArrayField(function(on){return[].concat(Be(on),[(0,he.A)(st)])},!1,!1)},Ne.handlePush=function(st){return function(){return Ne.push(st)}},Ne.swap=function(st,on){return Ne.updateArrayField(function($t){return K($t,st,on)},!0,!0)},Ne.handleSwap=function(st,on){return function(){return Ne.swap(st,on)}},Ne.move=function(st,on){return Ne.updateArrayField(function($t){return ht($t,st,on)},!0,!0)},Ne.handleMove=function(st,on){return function(){return Ne.move(st,on)}},Ne.insert=function(st,on){return Ne.updateArrayField(function($t){return se($t,st,on)},function($t){return se($t,st,null)},function($t){return se($t,st,null)})},Ne.handleInsert=function(st,on){return function(){return Ne.insert(st,on)}},Ne.replace=function(st,on){return Ne.updateArrayField(function($t){return Ve($t,st,on)},!1,!1)},Ne.handleReplace=function(st,on){return function(){return Ne.replace(st,on)}},Ne.unshift=function(st){var on=-1;return Ne.updateArrayField(function($t){var yi=$t?[st].concat($t):[st];return on=yi.length,yi},function($t){return $t?[null].concat($t):[null]},function($t){return $t?[null].concat($t):[null]}),on},Ne.handleUnshift=function(st){return function(){return Ne.unshift(st)}},Ne.handleRemove=function(st){return function(){return Ne.remove(st)}},Ne.handlePop=function(){return function(){return Ne.pop()}},Ne.remove=Ne.remove.bind(pt(Ne)),Ne.pop=Ne.pop.bind(pt(Ne)),Ne}n(ve,"FieldArrayInner");var ee=ve.prototype;return ee.componentDidUpdate=n(function(Ne){this.props.validateOnChange&&this.props.formik.validateOnChange&&!_()(pn(Ne.formik.values,Ne.name),pn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},"componentDidUpdate"),ee.remove=n(function(Ne){var st;return this.updateArrayField(function(on){var $t=on?Be(on):[];return st||(st=$t[Ne]),_t($t.splice)&&$t.splice(Ne,1),_t($t.every)&&$t.every(function(yi){return yi===void 0})?[]:$t},!0,!0),st},"remove"),ee.pop=n(function(){var Ne;return this.updateArrayField(function(st){var on=st.slice();return Ne||(Ne=on&&on.pop&&on.pop()),on},!0,!0),Ne},"pop"),ee.render=n(function(){var Ne={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},st=this.props,on=st.component,$t=st.render,yi=st.children,mi=st.name,ri=st.formik,ti=He(ri,["validate","validationSchema"]),Zt=ge({},Ne,{form:ti,name:mi});return on?(0,u.createElement)(on,Zt):$t?$t(Zt):yi?typeof yi=="function"?yi(Zt):It(yi)?null:u.Children.only(yi):null},"render"),ve}(u.Component);yt.defaultProps={validateOnChange:!0};var Bt=we(yt),ke=null,Je=null,B=null,Fe=null},2053254856:(V,l)=>{l=V.exports=function(a){if(a&&typeof a=="object"){var s=a.which||a.keyCode||a.charCode;s&&(a=s)}if(typeof a=="number")return m[a];var i=String(a),e=c[i.toLowerCase()];if(e)return e;var e=d[i.toLowerCase()];if(e)return e;if(i.length===1)return i.charCodeAt(0)};var c=l.code=l.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},d=l.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(h=97;h<123;h++)c[String.fromCharCode(h)]=h-32;for(var h=48;h<58;h++)c[h-48]=h;for(h=1;h<13;h++)c["f"+h]=h+111;for(h=0;h<10;h++)c["numpad "+h]=h+96;var m=l.names=l.title={};for(h in c)m[c[h]]=h;for(var p in d)c[p]=d[p]},870990405:(V,l,c)=>{"use strict";c.d(l,{JY:()=>bh,sx:()=>Ks,gL:()=>Bl});var d=c(3134334389);function h(O,M){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():n(function(Y,le){return Y.__proto__=le,Y},"_setPrototypeOf"),h(O,M)}n(h,"_setPrototypeOf");function m(O,M){O.prototype=Object.create(M.prototype),O.prototype.constructor=O,h(O,M)}n(m,"_inheritsLoose");function p(){return p=Object.assign?Object.assign.bind():function(O){for(var M=1;M<arguments.length;M++){var W=arguments[M];for(var Y in W)Object.prototype.hasOwnProperty.call(W,Y)&&(O[Y]=W[Y])}return O},p.apply(this,arguments)}n(p,"_extends");function a(O,M,W){return M in O?Object.defineProperty(O,M,{value:W,enumerable:!0,configurable:!0,writable:!0}):O[M]=W,O}n(a,"_defineProperty");function s(O,M){var W=Object.keys(O);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(O);M&&(Y=Y.filter(function(le){return Object.getOwnPropertyDescriptor(O,le).enumerable})),W.push.apply(W,Y)}return W}n(s,"ownKeys");function i(O){for(var M=1;M<arguments.length;M++){var W=arguments[M]!=null?arguments[M]:{};M%2?s(Object(W),!0).forEach(function(Y){a(O,Y,W[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(W)):s(Object(W)).forEach(function(Y){Object.defineProperty(O,Y,Object.getOwnPropertyDescriptor(W,Y))})}return O}n(i,"_objectSpread2");function e(O){return"Minified Redux error #"+O+"; visit https://redux.js.org/Errors?code="+O+" for the full message or use the non-minified dev environment for full errors. "}n(e,"formatProdErrorMessage");var t=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),r=n(function(){return Math.random().toString(36).substring(7).split("").join(".")},"randomString"),o={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:n(function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()},"PROBE_UNKNOWN_ACTION")};function f(O){if(typeof O!="object"||O===null)return!1;for(var M=O;Object.getPrototypeOf(M)!==null;)M=Object.getPrototypeOf(M);return Object.getPrototypeOf(O)===M}n(f,"isPlainObject");function g(O){if(O===void 0)return"undefined";if(O===null)return"null";var M=typeof O;switch(M){case"boolean":case"string":case"number":case"symbol":case"function":return M}if(Array.isArray(O))return"array";if(S(O))return"date";if(u(O))return"error";var W=v(O);switch(W){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return W}return M.slice(8,-1).toLowerCase().replace(/\s/g,"")}n(g,"miniKindOf");function v(O){return typeof O.constructor=="function"?O.constructor.name:null}n(v,"ctorName");function u(O){return O instanceof Error||typeof O.message=="string"&&O.constructor&&typeof O.constructor.stackTraceLimit=="number"}n(u,"isError");function S(O){return O instanceof Date?!0:typeof O.toDateString=="function"&&typeof O.getDate=="function"&&typeof O.setDate=="function"}n(S,"isDate");function _(O){var M=typeof O;return M}n(_,"kindOf");function b(O,M,W){var Y;if(typeof M=="function"&&typeof W=="function"||typeof W=="function"&&typeof arguments[3]=="function")throw new Error(e(0));if(typeof M=="function"&&typeof W>"u"&&(W=M,M=void 0),typeof W<"u"){if(typeof W!="function")throw new Error(e(1));return W(b)(O,M)}if(typeof O!="function")throw new Error(e(2));var le=O,ue=M,Se=[],Ee=Se,je=!1;function ut(){Ee===Se&&(Ee=Se.slice())}n(ut,"ensureCanMutateNextListeners");function at(){if(je)throw new Error(e(3));return ue}n(at,"getState");function qe(Mn){if(typeof Mn!="function")throw new Error(e(4));if(je)throw new Error(e(5));var Gn=!0;return ut(),Ee.push(Mn),n(function(){if(Gn){if(je)throw new Error(e(6));Gn=!1,ut();var ii=Ee.indexOf(Mn);Ee.splice(ii,1),Se=null}},"unsubscribe")}n(qe,"subscribe");function Ze(Mn){if(!f(Mn))throw new Error(e(7));if(typeof Mn.type>"u")throw new Error(e(8));if(je)throw new Error(e(9));try{je=!0,ue=le(ue,Mn)}finally{je=!1}for(var Gn=Se=Ee,Pn=0;Pn<Gn.length;Pn++){var ii=Gn[Pn];ii()}return Mn}n(Ze,"dispatch");function Tt(Mn){if(typeof Mn!="function")throw new Error(e(10));le=Mn,Ze({type:o.REPLACE})}n(Tt,"replaceReducer");function Qt(){var Mn,Gn=qe;return Mn={subscribe:n(function(ii){if(typeof ii!="object"||ii===null)throw new Error(e(11));function Pi(){ii.next&&ii.next(at())}n(Pi,"observeState"),Pi();var zi=Gn(Pi);return{unsubscribe:zi}},"subscribe")},Mn[t]=function(){return this},Mn}return n(Qt,"observable"),Ze({type:o.INIT}),Y={dispatch:Ze,subscribe:qe,getState:at,replaceReducer:Tt},Y[t]=Qt,Y}n(b,"createStore");var E=null;function T(O){typeof console<"u"&&typeof console.error=="function"&&console.error(O);try{throw new Error(O)}catch{}}n(T,"warning");function I(O,M,W,Y){var le=Object.keys(M),ue=W&&W.type===o.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(le.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!f(O))return"The "+ue+' has unexpected type of "'+_(O)+'". Expected argument to be an object with the following '+('keys: "'+le.join('", "')+'"');var Se=Object.keys(O).filter(function(Ee){return!M.hasOwnProperty(Ee)&&!Y[Ee]});if(Se.forEach(function(Ee){Y[Ee]=!0}),!(W&&W.type===o.REPLACE)&&Se.length>0)return"Unexpected "+(Se.length>1?"keys":"key")+" "+('"'+Se.join('", "')+'" found in '+ue+". ")+"Expected to find one of the known reducer keys instead: "+('"'+le.join('", "')+'". Unexpected keys will be ignored.')}n(I,"getUnexpectedStateShapeWarningMessage");function A(O){Object.keys(O).forEach(function(M){var W=O[M],Y=W(void 0,{type:o.INIT});if(typeof Y>"u")throw new Error(e(12));if(typeof W(void 0,{type:o.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(e(13))})}n(A,"assertReducerShape");function w(O){for(var M=Object.keys(O),W={},Y=0;Y<M.length;Y++){var le=M[Y];typeof O[le]=="function"&&(W[le]=O[le])}var ue=Object.keys(W),Se,Ee;try{A(W)}catch(je){Ee=je}return n(function(ut,at){if(ut===void 0&&(ut={}),Ee)throw Ee;if(!1)var qe;for(var Ze=!1,Tt={},Qt=0;Qt<ue.length;Qt++){var Mn=ue[Qt],Gn=W[Mn],Pn=ut[Mn],ii=Gn(Pn,at);if(typeof ii>"u"){var Pi=at&&at.type;throw new Error(e(14))}Tt[Mn]=ii,Ze=Ze||ii!==Pn}return Ze=Ze||ue.length!==Object.keys(ut).length,Ze?Tt:ut},"combination")}n(w,"combineReducers");function R(O,M){return function(){return M(O.apply(this,arguments))}}n(R,"bindActionCreator");function P(O,M){if(typeof O=="function")return R(O,M);if(typeof O!="object"||O===null)throw new Error(e(16));var W={};for(var Y in O){var le=O[Y];typeof le=="function"&&(W[Y]=R(le,M))}return W}n(P,"bindActionCreators");function x(){for(var O=arguments.length,M=new Array(O),W=0;W<O;W++)M[W]=arguments[W];return M.length===0?function(Y){return Y}:M.length===1?M[0]:M.reduce(function(Y,le){return function(){return Y(le.apply(void 0,arguments))}})}n(x,"compose");function z(){for(var O=arguments.length,M=new Array(O),W=0;W<O;W++)M[W]=arguments[W];return function(Y){return function(){var le=Y.apply(void 0,arguments),ue=n(function(){throw new Error(e(15))},"dispatch"),Se={getState:le.getState,dispatch:n(function(){return ue.apply(void 0,arguments)},"dispatch")},Ee=M.map(function(je){return je(Se)});return ue=x.apply(void 0,Ee)(le.dispatch),i(i({},le),{},{dispatch:ue})}}}n(z,"applyMiddleware");function Z(){}n(Z,"isCrushed");var re=d.createContext(null);const ne=null;function he(O){O()}n(he,"defaultNoopBatch");var ge=he,Pe=n(function(M){return ge=M},"setBatch"),He=n(function(){return ge},"getBatch");function pt(){var O=He(),M=null,W=null;return{clear:n(function(){M=null,W=null},"clear"),notify:n(function(){O(function(){for(var le=M;le;)le.callback(),le=le.next})},"notify"),get:n(function(){for(var le=[],ue=M;ue;)le.push(ue),ue=ue.next;return le},"get"),subscribe:n(function(le){var ue=!0,Se=W={callback:le,next:null,prev:W};return Se.prev?Se.prev.next=Se:M=Se,n(function(){!ue||M===null||(ue=!1,Se.next?Se.next.prev=Se.prev:W=Se.prev,Se.prev?Se.prev.next=Se.next:M=Se.next)},"unsubscribe")},"subscribe")}}n(pt,"createListenerCollection");var Ht={notify:n(function(){},"notify"),get:n(function(){return[]},"get")};function Ke(O,M){var W,Y=Ht;function le(qe){return je(),Y.subscribe(qe)}n(le,"addNestedSub");function ue(){Y.notify()}n(ue,"notifyNestedSubs");function Se(){at.onStateChange&&at.onStateChange()}n(Se,"handleChangeWrapper");function Ee(){return Boolean(W)}n(Ee,"isSubscribed");function je(){W||(W=M?M.addNestedSub(Se):O.subscribe(Se),Y=pt())}n(je,"trySubscribe");function ut(){W&&(W(),W=void 0,Y.clear(),Y=Ht)}n(ut,"tryUnsubscribe");var at={addNestedSub:le,notifyNestedSubs:ue,handleChangeWrapper:Se,isSubscribed:Ee,trySubscribe:je,tryUnsubscribe:ut,getListeners:n(function(){return Y},"getListeners")};return at}n(Ke,"Subscription_createSubscription");var it=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect;function ct(O){var M=O.store,W=O.context,Y=O.children,le=(0,d.useMemo)(function(){var Ee=Ke(M);return{store:M,subscription:Ee}},[M]),ue=(0,d.useMemo)(function(){return M.getState()},[M]);it(function(){var Ee=le.subscription;return Ee.onStateChange=Ee.notifyNestedSubs,Ee.trySubscribe(),ue!==M.getState()&&Ee.notifyNestedSubs(),function(){Ee.tryUnsubscribe(),Ee.onStateChange=null}},[le,ue]);var Se=W||re;return d.createElement(Se.Provider,{value:le},Y)}n(ct,"Provider");const rt=ct;function _t(O,M){if(O==null)return{};var W={},Y=Object.keys(O),le,ue;for(ue=0;ue<Y.length;ue++)le=Y[ue],!(M.indexOf(le)>=0)&&(W[le]=O[le]);return W}n(_t,"_objectWithoutPropertiesLoose");var Gt=c(7066919455),Kt=c.n(Gt),Ye=c(1734264638),Xe=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],It=["reactReduxForwardedRef"],kt=[],gt=[null,null],En=n(function(M){try{return JSON.stringify(M)}catch{return String(M)}},"stringifyComponent");function pn(O,M){var W=O[1];return[M.payload,W+1]}n(pn,"storeStateUpdatesReducer");function wn(O,M,W){it(function(){return O.apply(void 0,M)},W)}n(wn,"useIsomorphicLayoutEffectWithArgs");function zn(O,M,W,Y,le,ue,Se){O.current=Y,M.current=le,W.current=!1,ue.current&&(ue.current=null,Se())}n(zn,"captureWrapperProps");function Qn(O,M,W,Y,le,ue,Se,Ee,je,ut){if(O){var at=!1,qe=null,Ze=n(function(){if(!at){var Mn=M.getState(),Gn,Pn;try{Gn=Y(Mn,le.current)}catch(ii){Pn=ii,qe=ii}Pn||(qe=null),Gn===ue.current?Se.current||je():(ue.current=Gn,Ee.current=Gn,Se.current=!0,ut({type:"STORE_UPDATED",payload:{error:Pn}}))}},"checkForUpdates");W.onStateChange=Ze,W.trySubscribe(),Ze();var Tt=n(function(){if(at=!0,W.tryUnsubscribe(),W.onStateChange=null,qe)throw qe},"unsubscribeWrapper");return Tt}}n(Qn,"subscribeUpdates");var Sn=n(function(){return[null,0]},"initStateUpdates");function Zn(O,M){M===void 0&&(M={});var W=M,Y=W.getDisplayName,le=Y===void 0?function(Or){return"ConnectAdvanced("+Or+")"}:Y,ue=W.methodName,Se=ue===void 0?"connectAdvanced":ue,Ee=W.renderCountProp,je=Ee===void 0?void 0:Ee,ut=W.shouldHandleStateChanges,at=ut===void 0?!0:ut,qe=W.storeKey,Ze=qe===void 0?"store":qe,Tt=W.withRef,Qt=Tt===void 0?!1:Tt,Mn=W.forwardRef,Gn=Mn===void 0?!1:Mn,Pn=W.context,ii=Pn===void 0?re:Pn,Pi=_t(W,Xe);if(!1)var zi;var Pr=ii;return n(function(Yr){var jo=Yr.displayName||Yr.name||"Component",qr=le(jo),$o=p({},Pi,{getDisplayName:le,methodName:Se,renderCountProp:je,shouldHandleStateChanges:at,storeKey:Ze,displayName:qr,wrappedComponentName:jo,WrappedComponent:Yr}),_s=Pi.pure;function ks(Ds){return O(Ds.dispatch,$o)}n(ks,"createChildSelector");var Da=_s?d.useMemo:function(Ds){return Ds()};function ma(Ds){var $a=(0,d.useMemo)(function(){var Hl=Ds.reactReduxForwardedRef,rd=_t(Ds,It);return[Ds.context,Hl,rd]},[Ds]),ca=$a[0],Ul=$a[1],ol=$a[2],Ka=(0,d.useMemo)(function(){return ca&&ca.Consumer&&(0,Ye.isContextConsumer)(d.createElement(ca.Consumer,null))?ca:Pr},[ca,Pr]),ga=(0,d.useContext)(Ka),sl=Boolean(Ds.store)&&Boolean(Ds.store.getState)&&Boolean(Ds.store.dispatch),vc=Boolean(ga)&&Boolean(ga.store),ea=sl?Ds.store:ga.store,Vl=(0,d.useMemo)(function(){return ks(ea)},[ea]),Sc=(0,d.useMemo)(function(){if(!at)return gt;var Hl=Ke(ea,sl?null:ga.subscription),rd=Hl.notifyNestedSubs.bind(Hl);return[Hl,rd]},[ea,sl,ga]),El=Sc[0],yc=Sc[1],_c=(0,d.useMemo)(function(){return sl?ga:p({},ga,{subscription:El})},[sl,ga,El]),au=(0,d.useReducer)(pn,kt,Sn),vf=au[0],bc=vf[0],Sf=au[1];if(bc&&bc.error)throw bc.error;var lu=(0,d.useRef)(),td=(0,d.useRef)(ol),Ec=(0,d.useRef)(),cu=(0,d.useRef)(!1),nd=Da(function(){return Ec.current&&ol===td.current?Ec.current:Vl(ea.getState(),ol)},[ea,bc,ol]);wn(zn,[td,lu,cu,ol,nd,Ec,yc]),wn(Qn,[at,ea,El,Vl,td,lu,cu,Ec,yc,Sf],[ea,El,Vl]);var id=(0,d.useMemo)(function(){return d.createElement(Yr,p({},nd,{ref:Ul}))},[Ul,Yr,nd]),yf=(0,d.useMemo)(function(){return at?d.createElement(Ka.Provider,{value:_c},id):id},[Ka,id,_c]);return yf}n(ma,"ConnectFunction");var Zs=_s?d.memo(ma):ma;if(Zs.WrappedComponent=Yr,Zs.displayName=ma.displayName=qr,Gn){var qs=d.forwardRef(n(function($a,ca){return d.createElement(Zs,p({},$a,{reactReduxForwardedRef:ca}))},"forwardConnectRef"));return qs.displayName=qr,qs.WrappedComponent=Yr,Kt()(qs,Yr)}return Kt()(Zs,Yr)},"wrapWithConnect")}n(Zn,"connectAdvanced");function lr(O,M){return O===M?O!==0||M!==0||1/O===1/M:O!==O&&M!==M}n(lr,"is");function ui(O,M){if(lr(O,M))return!0;if(typeof O!="object"||O===null||typeof M!="object"||M===null)return!1;var W=Object.keys(O),Y=Object.keys(M);if(W.length!==Y.length)return!1;for(var le=0;le<W.length;le++)if(!Object.prototype.hasOwnProperty.call(M,W[le])||!lr(O[W[le]],M[W[le]]))return!1;return!0}n(ui,"shallowEqual");function fi(O,M){var W={},Y=n(function(Se){var Ee=O[Se];typeof Ee=="function"&&(W[Se]=function(){return M(Ee.apply(void 0,arguments))})},"_loop");for(var le in O)Y(le);return W}n(fi,"bindActionCreators_bindActionCreators");function Vn(O){return n(function(W,Y){var le=O(W,Y);function ue(){return le}return n(ue,"constantSelector"),ue.dependsOnOwnProps=!1,ue},"initConstantSelector")}n(Vn,"wrapMapToPropsConstant");function In(O){return O.dependsOnOwnProps!==null&&O.dependsOnOwnProps!==void 0?Boolean(O.dependsOnOwnProps):O.length!==1}n(In,"getDependsOnOwnProps");function wi(O,M){return n(function(Y,le){var ue=le.displayName,Se=n(function(je,ut){return Se.dependsOnOwnProps?Se.mapToProps(je,ut):Se.mapToProps(je)},"mapToPropsProxy");return Se.dependsOnOwnProps=!0,Se.mapToProps=n(function(je,ut){Se.mapToProps=O,Se.dependsOnOwnProps=In(O);var at=Se(je,ut);return typeof at=="function"&&(Se.mapToProps=at,Se.dependsOnOwnProps=In(at),at=Se(je,ut)),at},"detectFactoryAndVerify"),Se},"initProxySelector")}n(wi,"wrapMapToPropsFunc");function _n(O){return typeof O=="function"?wi(O,"mapDispatchToProps"):void 0}n(_n,"whenMapDispatchToPropsIsFunction");function An(O){return O?void 0:Vn(function(M){return{dispatch:M}})}n(An,"whenMapDispatchToPropsIsMissing");function sn(O){return O&&typeof O=="object"?Vn(function(M){return fi(O,M)}):void 0}n(sn,"whenMapDispatchToPropsIsObject");const Q=[_n,An,sn];function lt(O){return typeof O=="function"?wi(O,"mapStateToProps"):void 0}n(lt,"whenMapStateToPropsIsFunction");function mt(O){return O?void 0:Vn(function(){return{}})}n(mt,"whenMapStateToPropsIsMissing");const bt=[lt,mt];function At(O,M,W){return p({},W,O,M)}n(At,"defaultMergeProps");function Wt(O){return n(function(W,Y){var le=Y.displayName,ue=Y.pure,Se=Y.areMergedPropsEqual,Ee=!1,je;return n(function(at,qe,Ze){var Tt=O(at,qe,Ze);return Ee?(!ue||!Se(Tt,je))&&(je=Tt):(Ee=!0,je=Tt),je},"mergePropsProxy")},"initMergePropsProxy")}n(Wt,"wrapMergePropsFunc");function we(O){return typeof O=="function"?Wt(O):void 0}n(we,"whenMergePropsIsFunction");function ht(O){return O?void 0:function(){return At}}n(ht,"whenMergePropsIsOmitted");const K=[we,ht];var se=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ve(O,M,W,Y){return n(function(ue,Se){return W(O(ue,Se),M(Y,Se),Se)},"impureFinalPropsSelector")}n(Ve,"impureFinalPropsSelectorFactory");function Be(O,M,W,Y,le){var ue=le.areStatesEqual,Se=le.areOwnPropsEqual,Ee=le.areStatePropsEqual,je=!1,ut,at,qe,Ze,Tt;function Qt(Pi,zi){return ut=Pi,at=zi,qe=O(ut,at),Ze=M(Y,at),Tt=W(qe,Ze,at),je=!0,Tt}n(Qt,"handleFirstCall");function Mn(){return qe=O(ut,at),M.dependsOnOwnProps&&(Ze=M(Y,at)),Tt=W(qe,Ze,at),Tt}n(Mn,"handleNewPropsAndNewState");function Gn(){return O.dependsOnOwnProps&&(qe=O(ut,at)),M.dependsOnOwnProps&&(Ze=M(Y,at)),Tt=W(qe,Ze,at),Tt}n(Gn,"handleNewProps");function Pn(){var Pi=O(ut,at),zi=!Ee(Pi,qe);return qe=Pi,zi&&(Tt=W(qe,Ze,at)),Tt}n(Pn,"handleNewState");function ii(Pi,zi){var Pr=!Se(zi,at),Or=!ue(Pi,ut);return ut=Pi,at=zi,Pr&&Or?Mn():Pr?Gn():Or?Pn():Tt}return n(ii,"handleSubsequentCalls"),n(function(zi,Pr){return je?ii(zi,Pr):Qt(zi,Pr)},"pureFinalPropsSelector")}n(Be,"pureFinalPropsSelectorFactory");function Yt(O,M){var W=M.initMapStateToProps,Y=M.initMapDispatchToProps,le=M.initMergeProps,ue=_t(M,se),Se=W(O,ue),Ee=Y(O,ue),je=le(O,ue),ut=ue.pure?Be:Ve;return ut(Se,Ee,je,O,ue)}n(Yt,"finalPropsSelectorFactory");var yt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Bt(O,M,W){for(var Y=M.length-1;Y>=0;Y--){var le=M[Y](O);if(le)return le}return function(ue,Se){throw new Error("Invalid value of type "+typeof O+" for "+W+" argument when connecting component "+Se.wrappedComponentName+".")}}n(Bt,"match");function ke(O,M){return O===M}n(ke,"strictEqual");function Je(O){var M=O===void 0?{}:O,W=M.connectHOC,Y=W===void 0?Zn:W,le=M.mapStateToPropsFactories,ue=le===void 0?bt:le,Se=M.mapDispatchToPropsFactories,Ee=Se===void 0?Q:Se,je=M.mergePropsFactories,ut=je===void 0?K:je,at=M.selectorFactory,qe=at===void 0?Yt:at;return n(function(Tt,Qt,Mn,Gn){Gn===void 0&&(Gn={});var Pn=Gn,ii=Pn.pure,Pi=ii===void 0?!0:ii,zi=Pn.areStatesEqual,Pr=zi===void 0?ke:zi,Or=Pn.areOwnPropsEqual,Yr=Or===void 0?ui:Or,jo=Pn.areStatePropsEqual,qr=jo===void 0?ui:jo,$o=Pn.areMergedPropsEqual,_s=$o===void 0?ui:$o,ks=_t(Pn,yt),Da=Bt(Tt,ue,"mapStateToProps"),ma=Bt(Qt,Ee,"mapDispatchToProps"),Zs=Bt(Mn,ut,"mergeProps");return Y(qe,p({methodName:"connect",getDisplayName:n(function(Ds){return"Connect("+Ds+")"},"getDisplayName"),shouldHandleStateChanges:Boolean(Tt),initMapStateToProps:Da,initMapDispatchToProps:ma,initMergeProps:Zs,pure:Pi,areStatesEqual:Pr,areOwnPropsEqual:Yr,areStatePropsEqual:qr,areMergedPropsEqual:_s},ks))},"connect")}n(Je,"createConnect");const B=Je();function Fe(){var O=useContext(ReactReduxContext);return O}n(Fe,"useReduxContext");function fe(O){O===void 0&&(O=ReactReduxContext);var M=O===ReactReduxContext?useDefaultReduxContext:function(){return useContext(O)};return n(function(){var Y=M(),le=Y.store;return le},"useStore")}n(fe,"useStore_createStoreHook");var ve=null;function ee(O){O===void 0&&(O=ReactReduxContext);var M=O===ReactReduxContext?useDefaultStore:createStoreHook(O);return n(function(){var Y=M();return Y.dispatch},"useDispatch")}n(ee,"createDispatchHook");var Et=null,Ne=n(function(M,W){return M===W},"refEquality");function st(O,M,W,Y){var le=useReducer(function(Qt){return Qt+1},0),ue=le[1],Se=useMemo(function(){return createSubscription(W,Y)},[W,Y]),Ee=useRef(),je=useRef(),ut=useRef(),at=useRef(),qe=W.getState(),Ze;try{if(O!==je.current||qe!==ut.current||Ee.current){var Tt=O(qe);at.current===void 0||!M(Tt,at.current)?Ze=Tt:Ze=at.current}else Ze=at.current}catch(Qt){throw Ee.current&&(Qt.message+=`
The error may be correlated with this previous error:
`+Ee.current.stack+`

`),Qt}return useIsomorphicLayoutEffect(function(){je.current=O,ut.current=qe,at.current=Ze,Ee.current=void 0}),useIsomorphicLayoutEffect(function(){function Qt(){try{var Mn=W.getState();if(Mn===ut.current)return;var Gn=je.current(Mn);if(M(Gn,at.current))return;at.current=Gn,ut.current=Mn}catch(Pn){Ee.current=Pn}ue()}return n(Qt,"checkForUpdates"),Se.onStateChange=Qt,Se.trySubscribe(),Qt(),function(){return Se.tryUnsubscribe()}},[W,Se]),Ze}n(st,"useSelectorWithStoreAndSubscription");function on(O){O===void 0&&(O=ReactReduxContext);var M=O===ReactReduxContext?useDefaultReduxContext:function(){return useContext(O)};return n(function(Y,le){le===void 0&&(le=Ne);var ue=M(),Se=ue.store,Ee=ue.subscription,je=st(Y,le,Se,Ee);return useDebugValue(je),je},"useSelector")}n(on,"createSelectorHook");var $t=null,yi=c(9322124936);Pe(yi.unstable_batchedUpdates);function mi(O,M){if(O.length!==M.length)return!1;for(var W=0;W<O.length;W++)if(O[W]!==M[W])return!1;return!0}n(mi,"areInputsEqual");function ri(O,M){var W=(0,d.useState)(function(){return{inputs:M,result:O()}})[0],Y=(0,d.useRef)(!0),le=(0,d.useRef)(W),ue=Y.current||Boolean(M&&le.current.inputs&&mi(M,le.current.inputs)),Se=ue?le.current:{inputs:M,result:O()};return(0,d.useEffect)(function(){Y.current=!1,le.current=Se},[Se]),Se.result}n(ri,"useMemoOne");function ti(O,M){return ri(function(){return O},M)}n(ti,"useCallbackOne");var Zt=ri,mn=ti,Ui=!0,Er="Invariant failed";function Dn(O,M){if(!O){if(Ui)throw new Error(Er);var W=typeof M=="function"?M():M,Y=W?Er+": "+W:Er;throw new Error(Y)}}n(Dn,"invariant");var nn=n(function(M){var W=M.top,Y=M.right,le=M.bottom,ue=M.left,Se=Y-ue,Ee=le-W,je={top:W,right:Y,bottom:le,left:ue,width:Se,height:Ee,x:ue,y:W,center:{x:(Y+ue)/2,y:(le+W)/2}};return je},"getRect"),ni=n(function(M,W){return{top:M.top-W.top,left:M.left-W.left,bottom:M.bottom+W.bottom,right:M.right+W.right}},"expand"),oi=n(function(M,W){return{top:M.top+W.top,left:M.left+W.left,bottom:M.bottom-W.bottom,right:M.right-W.right}},"shrink"),Ji=n(function(M,W){return{top:M.top+W.y,left:M.left+W.x,bottom:M.bottom+W.y,right:M.right+W.x}},"shift"),Qi={top:0,right:0,bottom:0,left:0},Ei=n(function(M){var W=M.borderBox,Y=M.margin,le=Y===void 0?Qi:Y,ue=M.border,Se=ue===void 0?Qi:ue,Ee=M.padding,je=Ee===void 0?Qi:Ee,ut=nn(ni(W,le)),at=nn(oi(W,Se)),qe=nn(oi(at,je));return{marginBox:ut,borderBox:nn(W),paddingBox:at,contentBox:qe,margin:le,border:Se,padding:je}},"createBox"),Jn=n(function(M){var W=M.slice(0,-2),Y=M.slice(-2);if(Y!=="px")return 0;var le=Number(W);return isNaN(le)&&Dn(!1),le},"parse"),Sr=n(function(){return{x:window.pageXOffset,y:window.pageYOffset}},"getWindowScroll"),cr=n(function(M,W){var Y=M.borderBox,le=M.border,ue=M.margin,Se=M.padding,Ee=Ji(Y,W);return Ei({borderBox:Ee,border:le,margin:ue,padding:Se})},"offset"),Dr=n(function(M,W){return W===void 0&&(W=Sr()),cr(M,W)},"withScroll"),Yi=n(function(M,W){var Y={top:Jn(W.marginTop),right:Jn(W.marginRight),bottom:Jn(W.marginBottom),left:Jn(W.marginLeft)},le={top:Jn(W.paddingTop),right:Jn(W.paddingRight),bottom:Jn(W.paddingBottom),left:Jn(W.paddingLeft)},ue={top:Jn(W.borderTopWidth),right:Jn(W.borderRightWidth),bottom:Jn(W.borderBottomWidth),left:Jn(W.borderLeftWidth)};return Ei({borderBox:M,margin:Y,padding:le,border:ue})},"calculateBox"),io=n(function(M){var W=M.getBoundingClientRect(),Y=window.getComputedStyle(M);return Yi(W,Y)},"getBox"),sr=Number.isNaN||n(function(M){return typeof M=="number"&&M!==M},"ponyfill");function lo(O,M){return!!(O===M||sr(O)&&sr(M))}n(lo,"isEqual");function Gi(O,M){if(O.length!==M.length)return!1;for(var W=0;W<O.length;W++)if(!lo(O[W],M[W]))return!1;return!0}n(Gi,"memoize_one_esm_areInputsEqual");function ji(O,M){M===void 0&&(M=Gi);var W,Y=[],le,ue=!1;function Se(){for(var Ee=[],je=0;je<arguments.length;je++)Ee[je]=arguments[je];return ue&&W===this&&M(Ee,Y)||(le=O.apply(this,Ee),ue=!0,W=this,Y=Ee),le}return n(Se,"memoized"),Se}n(ji,"memoizeOne");const F=ji;var _e=n(function(M){var W=[],Y=null,le=n(function(){for(var Se=arguments.length,Ee=new Array(Se),je=0;je<Se;je++)Ee[je]=arguments[je];W=Ee,!Y&&(Y=requestAnimationFrame(function(){Y=null,M.apply(void 0,W)}))},"wrapperFn");return le.cancel=function(){Y&&(cancelAnimationFrame(Y),Y=null)},le},"rafSchd");const tt=_e;var zt=!0,gn=/[ \t]{2,}/g,Yn=/^[ \t]*/gm,bi=n(function(M){return M.replace(gn," ").replace(Yn,"").trim()},"clean"),ei=n(function(M){return bi(`
  %creact-beautiful-dnd

  %c`+bi(M)+`

  %c\u{1F477}\u200D This is a development only message. It will be removed in production builds.
`)},"getDevMessage"),si=n(function(M){return[ei(M),"color: #00C584; font-size: 1.2em; font-weight: bold;","line-height: 1.5","color: #723874;"]},"getFormattedMessage"),Si="__react-beautiful-dnd-disable-dev-warnings";function Ai(O,M){var W;zt||typeof window<"u"&&window[Si]||(W=console)[O].apply(W,si(M))}n(Ai,"log");var tr=Ai.bind(null,"warn"),hr=Ai.bind(null,"error");function Ar(){}n(Ar,"noop");function co(O,M){return p({},O,{},M)}n(co,"getOptions");function hi(O,M,W){var Y=M.map(function(le){var ue=co(W,le.options);return O.addEventListener(le.eventName,le.fn,ue),n(function(){O.removeEventListener(le.eventName,le.fn,ue)},"unbind")});return n(function(){Y.forEach(function(ue){ue()})},"unbindAll")}n(hi,"bindEvents");var $r=!0,to="Invariant failed";function vi(O){this.message=O}n(vi,"RbdInvariant"),vi.prototype.toString=n(function(){return this.message},"toString");function vn(O,M){if(!O)throw $r?new vi(to):new vi(to+": "+(M||""))}n(vn,"react_beautiful_dnd_esm_invariant");var Oi=function(O){m(M,O);function M(){for(var Y,le=arguments.length,ue=new Array(le),Se=0;Se<le;Se++)ue[Se]=arguments[Se];return Y=O.call.apply(O,[this].concat(ue))||this,Y.callbacks=null,Y.unbind=Ar,Y.onWindowError=function(Ee){var je=Y.getCallbacks();je.isDragging()&&je.tryAbort();var ut=Ee.error;ut instanceof vi&&Ee.preventDefault()},Y.getCallbacks=function(){if(!Y.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return Y.callbacks},Y.setCallbacks=function(Ee){Y.callbacks=Ee},Y}n(M,"ErrorBoundary");var W=M.prototype;return W.componentDidMount=n(function(){this.unbind=hi(window,[{eventName:"error",fn:this.onWindowError}])},"componentDidMount"),W.componentDidCatch=n(function(le){if(le instanceof vi){this.setState({});return}throw le},"componentDidCatch"),W.componentWillUnmount=n(function(){this.unbind()},"componentWillUnmount"),W.render=n(function(){return this.props.children(this.setCallbacks)},"render"),M}(d.Component),Zo=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,uo=n(function(M){return M+1},"position"),Ko=n(function(M){return`
  You have lifted an item in position `+uo(M.source.index)+`
`},"onDragStart"),Ho=n(function(M,W){var Y=M.droppableId===W.droppableId,le=uo(M.index),ue=uo(W.index);return Y?`
      You have moved the item from position `+le+`
      to position `+ue+`
    `:`
    You have moved the item from position `+le+`
    in list `+M.droppableId+`
    to list `+W.droppableId+`
    in position `+ue+`
  `},"withLocation"),pe=n(function(M,W,Y){var le=W.droppableId===Y.droppableId;return le?`
      The item `+M+`
      has been combined with `+Y.draggableId:`
      The item `+M+`
      in list `+W.droppableId+`
      has been combined with `+Y.draggableId+`
      in list `+Y.droppableId+`
    `},"withCombine"),Ae=n(function(M){var W=M.destination;if(W)return Ho(M.source,W);var Y=M.combine;return Y?pe(M.draggableId,M.source,Y):"You are over an area that cannot be dropped on"},"onDragUpdate"),Ue=n(function(M){return`
  The item has returned to its starting position
  of `+uo(M.index)+`
`},"returnedToStart"),vt=n(function(M){if(M.reason==="CANCEL")return`
      Movement cancelled.
      `+Ue(M.source)+`
    `;var W=M.destination,Y=M.combine;return W?`
      You have dropped the item.
      `+Ho(M.source,W)+`
    `:Y?`
      You have dropped the item.
      `+pe(M.draggableId,M.source,Y)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Ue(M.source)+`
  `},"onDragEnd"),Lt={dragHandleUsageInstructions:Zo,onDragStart:Ko,onDragUpdate:Ae,onDragEnd:vt},xt={x:0,y:0},Cn=n(function(M,W){return{x:M.x+W.x,y:M.y+W.y}},"add"),Nn=n(function(M,W){return{x:M.x-W.x,y:M.y-W.y}},"subtract"),Xn=n(function(M,W){return M.x===W.x&&M.y===W.y},"isEqual"),Un=n(function(M){return{x:M.x!==0?-M.x:0,y:M.y!==0?-M.y:0}},"negate"),Ti=n(function(M,W,Y){var le;return Y===void 0&&(Y=0),le={},le[M]=W,le[M==="x"?"y":"x"]=Y,le},"patch"),Tn=n(function(M,W){return Math.sqrt(Math.pow(W.x-M.x,2)+Math.pow(W.y-M.y,2))},"distance"),qi=n(function(M,W){return Math.min.apply(Math,W.map(function(Y){return Tn(M,Y)}))},"closest"),_i=n(function(M){return function(W){return{x:M(W.x),y:M(W.y)}}},"apply"),Nr=n(function(O,M){var W=nn({top:Math.max(M.top,O.top),right:Math.min(M.right,O.right),bottom:Math.min(M.bottom,O.bottom),left:Math.max(M.left,O.left)});return W.width<=0||W.height<=0?null:W},"executeClip"),Ur=n(function(M,W){return{top:M.top+W.y,left:M.left+W.x,bottom:M.bottom+W.y,right:M.right+W.x}},"offsetByPosition"),Gr=n(function(M){return[{x:M.left,y:M.top},{x:M.right,y:M.top},{x:M.left,y:M.bottom},{x:M.right,y:M.bottom}]},"getCorners"),ki={top:0,right:0,bottom:0,left:0},Vi=n(function(M,W){return W?Ur(M,W.scroll.diff.displacement):M},"scroll"),Zi=n(function(M,W,Y){if(Y&&Y.increasedBy){var le;return p({},M,(le={},le[W.end]=M[W.end]+Y.increasedBy[W.line],le))}return M},"increase"),_r=n(function(M,W){return W&&W.shouldClipSubject?Nr(W.pageMarginBox,M):nn(M)},"clip"),Hr=n(function(O){var M=O.page,W=O.withPlaceholder,Y=O.axis,le=O.frame,ue=Vi(M.marginBox,le),Se=Zi(ue,Y,W),Ee=_r(Se,le);return{page:M,withPlaceholder:W,active:Ee}},"getSubject"),Eo=n(function(O,M){O.frame||vn(!1);var W=O.frame,Y=Nn(M,W.scroll.initial),le=Un(Y),ue=p({},W,{scroll:{initial:W.scroll.initial,current:M,diff:{value:Y,displacement:le},max:W.scroll.max}}),Se=Hr({page:O.subject.page,withPlaceholder:O.subject.withPlaceholder,axis:O.axis,frame:ue}),Ee=p({},O,{frame:ue,subject:Se});return Ee},"scrollDroppable");function er(O){return Number.isInteger?Number.isInteger(O):typeof O=="number"&&isFinite(O)&&Math.floor(O)===O}n(er,"isInteger");function Co(O){return Object.values?Object.values(O):Object.keys(O).map(function(M){return O[M]})}n(Co,"values");function Fr(O,M){if(O.findIndex)return O.findIndex(M);for(var W=0;W<O.length;W++)if(M(O[W]))return W;return-1}n(Fr,"findIndex");function no(O,M){if(O.find)return O.find(M);var W=Fr(O,M);if(W!==-1)return O[W]}n(no,"find");function Is(O){return Array.prototype.slice.call(O)}n(Is,"toArray");var As=F(function(O){return O.reduce(function(M,W){return M[W.descriptor.id]=W,M},{})}),ms=F(function(O){return O.reduce(function(M,W){return M[W.descriptor.id]=W,M},{})}),cs=F(function(O){return Co(O)}),Os=F(function(O){return Co(O)}),qo=F(function(O,M){var W=Os(M).filter(function(Y){return O===Y.descriptor.droppableId}).sort(function(Y,le){return Y.descriptor.index-le.descriptor.index});return W});function Mo(O){return O.at&&O.at.type==="REORDER"?O.at.destination:null}n(Mo,"tryGetDestination");function No(O){return O.at&&O.at.type==="COMBINE"?O.at.combine:null}n(No,"tryGetCombine");var Wo=F(function(O,M){return M.filter(function(W){return W.descriptor.id!==O.descriptor.id})}),Fo=n(function(O){var M=O.isMovingForward,W=O.draggable,Y=O.destination,le=O.insideDestination,ue=O.previousImpact;if(!Y.isCombineEnabled)return null;var Se=Mo(ue);if(!Se)return null;function Ee(Mn){var Gn={type:"COMBINE",combine:{draggableId:Mn,droppableId:Y.descriptor.id}};return p({},ue,{at:Gn})}n(Ee,"getImpact");var je=ue.displaced.all,ut=je.length?je[0]:null;if(M)return ut?Ee(ut):null;var at=Wo(W,le);if(!ut){if(!at.length)return null;var qe=at[at.length-1];return Ee(qe.descriptor.id)}var Ze=Fr(at,function(Mn){return Mn.descriptor.id===ut});Ze===-1&&vn(!1);var Tt=Ze-1;if(Tt<0)return null;var Qt=at[Tt];return Ee(Qt.descriptor.id)},"moveToNextCombine"),yo=n(function(O,M){return O.descriptor.droppableId===M.descriptor.id},"isHomeOf"),fo={point:xt,value:0},Po={invisible:{},visible:{},all:[]},ia={displaced:Po,displacedBy:fo,at:null},is=n(function(O,M){return function(W){return O<=W&&W<=M}},"isWithin"),Go=n(function(O){var M=is(O.top,O.bottom),W=is(O.left,O.right);return function(Y){var le=M(Y.top)&&M(Y.bottom)&&W(Y.left)&&W(Y.right);if(le)return!0;var ue=M(Y.top)||M(Y.bottom),Se=W(Y.left)||W(Y.right),Ee=ue&&Se;if(Ee)return!0;var je=Y.top<O.top&&Y.bottom>O.bottom,ut=Y.left<O.left&&Y.right>O.right,at=je&&ut;if(at)return!0;var qe=je&&Se||ut&&ue;return qe}},"isPartiallyVisibleThroughFrame"),gs=n(function(O){var M=is(O.top,O.bottom),W=is(O.left,O.right);return function(Y){var le=M(Y.top)&&M(Y.bottom)&&W(Y.left)&&W(Y.right);return le}},"isTotallyVisibleThroughFrame"),ro={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Oo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ao=n(function(O){return function(M){var W=is(M.top,M.bottom),Y=is(M.left,M.right);return function(le){return O===ro?W(le.top)&&W(le.bottom):Y(le.left)&&Y(le.right)}}},"isTotallyVisibleThroughFrameOnAxis"),Jo=n(function(M,W){var Y=W.frame?W.frame.scroll.diff.displacement:xt;return Ur(M,Y)},"getDroppableDisplaced"),xo=n(function(M,W,Y){return W.subject.active?Y(W.subject.active)(M):!1},"isVisibleInDroppable"),ra=n(function(M,W,Y){return Y(W)(M)},"isVisibleInViewport"),de=n(function(M){var W=M.target,Y=M.destination,le=M.viewport,ue=M.withDroppableDisplacement,Se=M.isVisibleThroughFrameFn,Ee=ue?Jo(W,Y):W;return xo(Ee,Y,Se)&&ra(Ee,le,Se)},"isVisible"),ye=n(function(M){return de(p({},M,{isVisibleThroughFrameFn:Go}))},"isPartiallyVisible"),Me=n(function(M){return de(p({},M,{isVisibleThroughFrameFn:gs}))},"isTotallyVisible"),Ge=n(function(M){return de(p({},M,{isVisibleThroughFrameFn:Ao(M.destination.axis)}))},"isTotallyVisibleOnAxis"),nt=n(function(M,W,Y){if(typeof Y=="boolean")return Y;if(!W)return!0;var le=W.invisible,ue=W.visible;if(le[M])return!1;var Se=ue[M];return Se?Se.shouldAnimate:!0},"getShouldAnimate");function Ut(O,M){var W=O.page.marginBox,Y={top:M.point.y,right:0,bottom:0,left:M.point.x};return nn(ni(W,Y))}n(Ut,"getTarget");function wt(O){var M=O.afterDragging,W=O.destination,Y=O.displacedBy,le=O.viewport,ue=O.forceShouldAnimate,Se=O.last;return M.reduce(n(function(je,ut){var at=Ut(ut,Y),qe=ut.descriptor.id;je.all.push(qe);var Ze=ye({target:at,destination:W,viewport:le,withDroppableDisplacement:!0});if(!Ze)return je.invisible[ut.descriptor.id]=!0,je;var Tt=nt(qe,Se,ue),Qt={draggableId:qe,shouldAnimate:Tt};return je.visible[qe]=Qt,je},"process"),{all:[],visible:{},invisible:{}})}n(wt,"getDisplacementGroups");function dn(O,M){if(!O.length)return 0;var W=O[O.length-1].descriptor.index;return M.inHomeList?W:W+1}n(dn,"getIndexOfLastItem");function cn(O){var M=O.insideDestination,W=O.inHomeList,Y=O.displacedBy,le=O.destination,ue=dn(M,{inHomeList:W});return{displaced:Po,displacedBy:Y,at:{type:"REORDER",destination:{droppableId:le.descriptor.id,index:ue}}}}n(cn,"goAtEnd");function bn(O){var M=O.draggable,W=O.insideDestination,Y=O.destination,le=O.viewport,ue=O.displacedBy,Se=O.last,Ee=O.index,je=O.forceShouldAnimate,ut=yo(M,Y);if(Ee==null)return cn({insideDestination:W,inHomeList:ut,displacedBy:ue,destination:Y});var at=no(W,function(Mn){return Mn.descriptor.index===Ee});if(!at)return cn({insideDestination:W,inHomeList:ut,displacedBy:ue,destination:Y});var qe=Wo(M,W),Ze=W.indexOf(at),Tt=qe.slice(Ze),Qt=wt({afterDragging:Tt,destination:Y,displacedBy:ue,last:Se,viewport:le.frame,forceShouldAnimate:je});return{displaced:Qt,displacedBy:ue,at:{type:"REORDER",destination:{droppableId:Y.descriptor.id,index:Ee}}}}n(bn,"calculateReorderImpact");function hn(O,M){return Boolean(M.effected[O])}n(hn,"didStartAfterCritical");var Fn=n(function(O){var M=O.isMovingForward,W=O.destination,Y=O.draggables,le=O.combine,ue=O.afterCritical;if(!W.isCombineEnabled)return null;var Se=le.draggableId,Ee=Y[Se],je=Ee.descriptor.index,ut=hn(Se,ue);return ut?M?je:je-1:M?je+1:je},"fromCombine"),xn=n(function(O){var M=O.isMovingForward,W=O.isInHomeList,Y=O.insideDestination,le=O.location;if(!Y.length)return null;var ue=le.index,Se=M?ue+1:ue-1,Ee=Y[0].descriptor.index,je=Y[Y.length-1].descriptor.index,ut=W?je:je+1;return Se<Ee||Se>ut?null:Se},"fromReorder"),jn=n(function(O){var M=O.isMovingForward,W=O.isInHomeList,Y=O.draggable,le=O.draggables,ue=O.destination,Se=O.insideDestination,Ee=O.previousImpact,je=O.viewport,ut=O.afterCritical,at=Ee.at;if(at||vn(!1),at.type==="REORDER"){var qe=xn({isMovingForward:M,isInHomeList:W,location:at.destination,insideDestination:Se});return qe==null?null:bn({draggable:Y,insideDestination:Se,destination:ue,viewport:je,last:Ee.displaced,displacedBy:Ee.displacedBy,index:qe})}var Ze=Fn({isMovingForward:M,destination:ue,displaced:Ee.displaced,draggables:le,combine:at.combine,afterCritical:ut});return Ze==null?null:bn({draggable:Y,insideDestination:Se,destination:ue,viewport:je,last:Ee.displaced,displacedBy:Ee.displacedBy,index:Ze})},"moveToNextIndex"),pi=n(function(O){var M=O.displaced,W=O.afterCritical,Y=O.combineWith,le=O.displacedBy,ue=Boolean(M.visible[Y]||M.invisible[Y]);return hn(Y,W)?ue?xt:Un(le.point):ue?le.point:xt},"getCombinedItemDisplacement"),ai=n(function(O){var M=O.afterCritical,W=O.impact,Y=O.draggables,le=No(W);le||vn(!1);var ue=le.draggableId,Se=Y[ue].page.borderBox.center,Ee=pi({displaced:W.displaced,afterCritical:M,combineWith:ue,displacedBy:W.displacedBy});return Cn(Se,Ee)},"whenCombining"),$n=n(function(M,W){return W.margin[M.start]+W.borderBox[M.size]/2},"distanceFromStartToBorderBoxCenter"),kn=n(function(M,W){return W.margin[M.end]+W.borderBox[M.size]/2},"distanceFromEndToBorderBoxCenter"),Ri=n(function(M,W,Y){return W[M.crossAxisStart]+Y.margin[M.crossAxisStart]+Y.borderBox[M.crossAxisSize]/2},"getCrossAxisBorderBoxCenter"),pr=n(function(M){var W=M.axis,Y=M.moveRelativeTo,le=M.isMoving;return Ti(W.line,Y.marginBox[W.end]+$n(W,le),Ri(W,Y.marginBox,le))},"goAfter"),Rr=n(function(M){var W=M.axis,Y=M.moveRelativeTo,le=M.isMoving;return Ti(W.line,Y.marginBox[W.start]-kn(W,le),Ri(W,Y.marginBox,le))},"goBefore"),Kr=n(function(M){var W=M.axis,Y=M.moveInto,le=M.isMoving;return Ti(W.line,Y.contentBox[W.start]+$n(W,le),Ri(W,Y.contentBox,le))},"goIntoStart"),qt=n(function(O){var M=O.impact,W=O.draggable,Y=O.draggables,le=O.droppable,ue=O.afterCritical,Se=qo(le.descriptor.id,Y),Ee=W.page,je=le.axis;if(!Se.length)return Kr({axis:je,moveInto:le.page,isMoving:Ee});var ut=M.displaced,at=M.displacedBy,qe=ut.all[0];if(qe){var Ze=Y[qe];if(hn(qe,ue))return Rr({axis:je,moveRelativeTo:Ze.page,isMoving:Ee});var Tt=cr(Ze.page,at.point);return Rr({axis:je,moveRelativeTo:Tt,isMoving:Ee})}var Qt=Se[Se.length-1];if(Qt.descriptor.id===W.descriptor.id)return Ee.borderBox.center;if(hn(Qt.descriptor.id,ue)){var Mn=cr(Qt.page,Un(ue.displacedBy.point));return pr({axis:je,moveRelativeTo:Mn,isMoving:Ee})}return pr({axis:je,moveRelativeTo:Qt.page,isMoving:Ee})},"whenReordering"),Mr=n(function(O,M){var W=O.frame;return W?Cn(M,W.scroll.diff.displacement):M},"withDroppableDisplacement"),xr=n(function(M){var W=M.impact,Y=M.draggable,le=M.droppable,ue=M.draggables,Se=M.afterCritical,Ee=Y.page.borderBox.center,je=W.at;return!le||!je?Ee:je.type==="REORDER"?qt({impact:W,draggable:Y,draggables:ue,droppable:le,afterCritical:Se}):ai({impact:W,draggables:ue,afterCritical:Se})},"getResultWithoutDroppableDisplacement"),ur=n(function(O){var M=xr(O),W=O.droppable,Y=W?Mr(W,M):M;return Y},"getPageBorderBoxCenterFromImpact"),To=n(function(O,M){var W=Nn(M,O.scroll.initial),Y=Un(W),le=nn({top:M.y,bottom:M.y+O.frame.height,left:M.x,right:M.x+O.frame.width}),ue={frame:le,scroll:{initial:O.scroll.initial,max:O.scroll.max,current:M,diff:{value:W,displacement:Y}}};return ue},"scrollViewport");function es(O,M){return O.map(function(W){return M[W]})}n(es,"getDraggables");function oo(O,M){for(var W=0;W<M.length;W++){var Y=M[W].visible[O];if(Y)return Y}return null}n(oo,"tryGetVisible");var Yo=n(function(O){var M=O.impact,W=O.viewport,Y=O.destination,le=O.draggables,ue=O.maxScrollChange,Se=To(W,Cn(W.scroll.current,ue)),Ee=Y.frame?Eo(Y,Cn(Y.frame.scroll.current,ue)):Y,je=M.displaced,ut=wt({afterDragging:es(je.all,le),destination:Y,displacedBy:M.displacedBy,viewport:Se.frame,last:je,forceShouldAnimate:!1}),at=wt({afterDragging:es(je.all,le),destination:Ee,displacedBy:M.displacedBy,viewport:W.frame,last:je,forceShouldAnimate:!1}),qe={},Ze={},Tt=[je,ut,at];je.all.forEach(function(Mn){var Gn=oo(Mn,Tt);if(Gn){Ze[Mn]=Gn;return}qe[Mn]=!0});var Qt=p({},M,{displaced:{all:je.all,invisible:qe,visible:Ze}});return Qt},"speculativelyIncrease"),os=n(function(O,M){return Cn(O.scroll.diff.displacement,M)},"withViewportDisplacement"),vs=n(function(O){var M=O.pageBorderBoxCenter,W=O.draggable,Y=O.viewport,le=os(Y,M),ue=Nn(le,W.page.borderBox.center);return Cn(W.client.borderBox.center,ue)},"getClientFromPageBorderBoxCenter"),Vs=n(function(O){var M=O.draggable,W=O.destination,Y=O.newPageBorderBoxCenter,le=O.viewport,ue=O.withDroppableDisplacement,Se=O.onlyOnMainAxis,Ee=Se===void 0?!1:Se,je=Nn(Y,M.page.borderBox.center),ut=Ur(M.page.borderBox,je),at={target:ut,destination:W,withDroppableDisplacement:ue,viewport:le};return Ee?Ge(at):Me(at)},"isTotallyVisibleInNewLocation"),ho=n(function(O){var M=O.isMovingForward,W=O.draggable,Y=O.destination,le=O.draggables,ue=O.previousImpact,Se=O.viewport,Ee=O.previousPageBorderBoxCenter,je=O.previousClientSelection,ut=O.afterCritical;if(!Y.isEnabled)return null;var at=qo(Y.descriptor.id,le),qe=yo(W,Y),Ze=Fo({isMovingForward:M,draggable:W,destination:Y,insideDestination:at,previousImpact:ue})||jn({isMovingForward:M,isInHomeList:qe,draggable:W,draggables:le,destination:Y,insideDestination:at,previousImpact:ue,viewport:Se,afterCritical:ut});if(!Ze)return null;var Tt=ur({impact:Ze,draggable:W,droppable:Y,draggables:le,afterCritical:ut}),Qt=Vs({draggable:W,destination:Y,newPageBorderBoxCenter:Tt,viewport:Se.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(Qt){var Mn=vs({pageBorderBoxCenter:Tt,draggable:W,viewport:Se});return{clientSelection:Mn,impact:Ze,scrollJumpRequest:null}}var Gn=Nn(Tt,Ee),Pn=Yo({impact:Ze,viewport:Se,destination:Y,draggables:le,maxScrollChange:Gn});return{clientSelection:je,impact:Pn,scrollJumpRequest:Gn}},"moveToNextPlace"),Bo=n(function(M){var W=M.subject.active;return W||vn(!1),W},"getKnownActive"),ya=n(function(O){var M=O.isMovingForward,W=O.pageBorderBoxCenter,Y=O.source,le=O.droppables,ue=O.viewport,Se=Y.subject.active;if(!Se)return null;var Ee=Y.axis,je=is(Se[Ee.start],Se[Ee.end]),ut=cs(le).filter(function(qe){return qe!==Y}).filter(function(qe){return qe.isEnabled}).filter(function(qe){return Boolean(qe.subject.active)}).filter(function(qe){return Go(ue.frame)(Bo(qe))}).filter(function(qe){var Ze=Bo(qe);return M?Se[Ee.crossAxisEnd]<Ze[Ee.crossAxisEnd]:Ze[Ee.crossAxisStart]<Se[Ee.crossAxisStart]}).filter(function(qe){var Ze=Bo(qe),Tt=is(Ze[Ee.start],Ze[Ee.end]);return je(Ze[Ee.start])||je(Ze[Ee.end])||Tt(Se[Ee.start])||Tt(Se[Ee.end])}).sort(function(qe,Ze){var Tt=Bo(qe)[Ee.crossAxisStart],Qt=Bo(Ze)[Ee.crossAxisStart];return M?Tt-Qt:Qt-Tt}).filter(function(qe,Ze,Tt){return Bo(qe)[Ee.crossAxisStart]===Bo(Tt[0])[Ee.crossAxisStart]});if(!ut.length)return null;if(ut.length===1)return ut[0];var at=ut.filter(function(qe){var Ze=is(Bo(qe)[Ee.start],Bo(qe)[Ee.end]);return Ze(W[Ee.line])});return at.length===1?at[0]:at.length>1?at.sort(function(qe,Ze){return Bo(qe)[Ee.start]-Bo(Ze)[Ee.start]})[0]:ut.sort(function(qe,Ze){var Tt=qi(W,Gr(Bo(qe))),Qt=qi(W,Gr(Bo(Ze)));return Tt!==Qt?Tt-Qt:Bo(qe)[Ee.start]-Bo(Ze)[Ee.start]})[0]},"getBestCrossAxisDroppable"),$s=n(function(M,W){var Y=M.page.borderBox.center;return hn(M.descriptor.id,W)?Nn(Y,W.displacedBy.point):Y},"getCurrentPageBorderBoxCenter"),Hs=n(function(M,W){var Y=M.page.borderBox;return hn(M.descriptor.id,W)?Ur(Y,Un(W.displacedBy.point)):Y},"getCurrentPageBorderBox"),oa=n(function(O){var M=O.pageBorderBoxCenter,W=O.viewport,Y=O.destination,le=O.insideDestination,ue=O.afterCritical,Se=le.filter(function(Ee){return Me({target:Hs(Ee,ue),destination:Y,viewport:W.frame,withDroppableDisplacement:!0})}).sort(function(Ee,je){var ut=Tn(M,Mr(Y,$s(Ee,ue))),at=Tn(M,Mr(Y,$s(je,ue)));return ut<at?-1:at<ut?1:Ee.descriptor.index-je.descriptor.index});return Se[0]||null},"getClosestDraggable"),Rs=F(n(function(M,W){var Y=W[M.line];return{value:Y,point:Ti(M.line,Y)}},"getDisplacedBy")),Ss=n(function(M,W,Y){var le=M.axis;if(M.descriptor.mode==="virtual")return Ti(le.line,W[le.line]);var ue=M.subject.page.contentBox[le.size],Se=qo(M.descriptor.id,Y),Ee=Se.reduce(function(at,qe){return at+qe.client.marginBox[le.size]},0),je=Ee+W[le.line],ut=je-ue;return ut<=0?null:Ti(le.line,ut)},"getRequiredGrowthForPlaceholder"),ys=n(function(M,W){return p({},M,{scroll:p({},M.scroll,{max:W})})},"withMaxScroll"),fs=n(function(M,W,Y){var le=M.frame;yo(W,M)&&vn(!1),M.subject.withPlaceholder&&vn(!1);var ue=Rs(M.axis,W.displaceBy).point,Se=Ss(M,ue,Y),Ee={placeholderSize:ue,increasedBy:Se,oldFrameMaxScroll:M.frame?M.frame.scroll.max:null};if(!le){var je=Hr({page:M.subject.page,withPlaceholder:Ee,axis:M.axis,frame:M.frame});return p({},M,{subject:je})}var ut=Se?Cn(le.scroll.max,Se):le.scroll.max,at=ys(le,ut),qe=Hr({page:M.subject.page,withPlaceholder:Ee,axis:M.axis,frame:at});return p({},M,{subject:qe,frame:at})},"addPlaceholder"),_a=n(function(M){var W=M.subject.withPlaceholder;W||vn(!1);var Y=M.frame;if(!Y){var le=Hr({page:M.subject.page,axis:M.axis,frame:null,withPlaceholder:null});return p({},M,{subject:le})}var ue=W.oldFrameMaxScroll;ue||vn(!1);var Se=ys(Y,ue),Ee=Hr({page:M.subject.page,axis:M.axis,frame:Se,withPlaceholder:null});return p({},M,{subject:Ee,frame:Se})},"removePlaceholder"),ul=n(function(O){var M=O.previousPageBorderBoxCenter,W=O.moveRelativeTo,Y=O.insideDestination,le=O.draggable,ue=O.draggables,Se=O.destination,Ee=O.viewport,je=O.afterCritical;if(!W){if(Y.length)return null;var ut={displaced:Po,displacedBy:fo,at:{type:"REORDER",destination:{droppableId:Se.descriptor.id,index:0}}},at=ur({impact:ut,draggable:le,droppable:Se,draggables:ue,afterCritical:je}),qe=yo(le,Se)?Se:fs(Se,le,ue),Ze=Vs({draggable:le,destination:qe,newPageBorderBoxCenter:at,viewport:Ee.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return Ze?ut:null}var Tt=Boolean(M[Se.axis.line]<=W.page.borderBox.center[Se.axis.line]),Qt=function(){var Gn=W.descriptor.index;return W.descriptor.id===le.descriptor.id||Tt?Gn:Gn+1}(),Mn=Rs(Se.axis,le.displaceBy);return bn({draggable:le,insideDestination:Y,destination:Se,viewport:Ee,displacedBy:Mn,last:Po,index:Qt})},"moveToNewDroppable"),ba=n(function(O){var M=O.isMovingForward,W=O.previousPageBorderBoxCenter,Y=O.draggable,le=O.isOver,ue=O.draggables,Se=O.droppables,Ee=O.viewport,je=O.afterCritical,ut=ya({isMovingForward:M,pageBorderBoxCenter:W,source:le,droppables:Se,viewport:Ee});if(!ut)return null;var at=qo(ut.descriptor.id,ue),qe=oa({pageBorderBoxCenter:W,viewport:Ee,destination:ut,insideDestination:at,afterCritical:je}),Ze=ul({previousPageBorderBoxCenter:W,destination:ut,draggable:Y,draggables:ue,moveRelativeTo:qe,insideDestination:at,viewport:Ee,afterCritical:je});if(!Ze)return null;var Tt=ur({impact:Ze,draggable:Y,droppable:ut,draggables:ue,afterCritical:je}),Qt=vs({pageBorderBoxCenter:Tt,draggable:Y,viewport:Ee});return{clientSelection:Qt,impact:Ze,scrollJumpRequest:null}},"moveCrossAxis"),Io=n(function(O){var M=O.at;return M?M.type==="REORDER"?M.destination.droppableId:M.combine.droppableId:null},"whatIsDraggedOver"),Li=n(function(M,W){var Y=Io(M);return Y?W[Y]:null},"getDroppableOver"),Ys=n(function(O){var M=O.state,W=O.type,Y=Li(M.impact,M.dimensions.droppables),le=Boolean(Y),ue=M.dimensions.droppables[M.critical.droppable.id],Se=Y||ue,Ee=Se.axis.direction,je=Ee==="vertical"&&(W==="MOVE_UP"||W==="MOVE_DOWN")||Ee==="horizontal"&&(W==="MOVE_LEFT"||W==="MOVE_RIGHT");if(je&&!le)return null;var ut=W==="MOVE_DOWN"||W==="MOVE_RIGHT",at=M.dimensions.draggables[M.critical.draggable.id],qe=M.current.page.borderBoxCenter,Ze=M.dimensions,Tt=Ze.draggables,Qt=Ze.droppables;return je?ho({isMovingForward:ut,previousPageBorderBoxCenter:qe,draggable:at,destination:Se,draggables:Tt,viewport:M.viewport,previousClientSelection:M.current.client.selection,previousImpact:M.impact,afterCritical:M.afterCritical}):ba({isMovingForward:ut,previousPageBorderBoxCenter:qe,draggable:at,isOver:Se,draggables:Tt,droppables:Qt,viewport:M.viewport,afterCritical:M.afterCritical})},"moveInDirection");function Mi(O){return O.phase==="DRAGGING"||O.phase==="COLLECTING"}n(Mi,"isMovementAllowed");function Ea(O){var M=is(O.top,O.bottom),W=is(O.left,O.right);return n(function(le){return M(le.y)&&W(le.x)},"run")}n(Ea,"isPositionInFrame");function sa(O,M){return O.left<M.right&&O.right>M.left&&O.top<M.bottom&&O.bottom>M.top}n(sa,"getHasOverlap");function qa(O){var M=O.pageBorderBox,W=O.draggable,Y=O.candidates,le=W.page.borderBox.center,ue=Y.map(function(Se){var Ee=Se.axis,je=Ti(Se.axis.line,M.center[Ee.line],Se.page.borderBox.center[Ee.crossAxisLine]);return{id:Se.descriptor.id,distance:Tn(le,je)}}).sort(function(Se,Ee){return Ee.distance-Se.distance});return ue[0]?ue[0].id:null}n(qa,"getFurthestAway");function oe(O){var M=O.pageBorderBox,W=O.draggable,Y=O.droppables,le=cs(Y).filter(function(ue){if(!ue.isEnabled)return!1;var Se=ue.subject.active;if(!Se||!sa(M,Se))return!1;if(Ea(Se)(M.center))return!0;var Ee=ue.axis,je=Se.center[Ee.crossAxisLine],ut=M[Ee.crossAxisStart],at=M[Ee.crossAxisEnd],qe=is(Se[Ee.crossAxisStart],Se[Ee.crossAxisEnd]),Ze=qe(ut),Tt=qe(at);return!Ze&&!Tt?!0:Ze?ut<je:at>je});return le.length?le.length===1?le[0].descriptor.id:qa({pageBorderBox:M,draggable:W,candidates:le}):null}n(oe,"getDroppableOver$1");var ae=n(function(M,W){return nn(Ur(M,W))},"offsetRectByPosition"),X=n(function(O,M){var W=O.frame;return W?ae(M,W.scroll.diff.value):M},"withDroppableScroll");function L(O){var M=O.displaced,W=O.id;return Boolean(M.visible[W]||M.invisible[W])}n(L,"getIsDisplaced");function q(O){var M=O.draggable,W=O.closest,Y=O.inHomeList;return W?Y&&W.descriptor.index>M.descriptor.index?W.descriptor.index-1:W.descriptor.index:null}n(q,"atIndex");var be=n(function(O){var M=O.pageBorderBoxWithDroppableScroll,W=O.draggable,Y=O.destination,le=O.insideDestination,ue=O.last,Se=O.viewport,Ee=O.afterCritical,je=Y.axis,ut=Rs(Y.axis,W.displaceBy),at=ut.value,qe=M[je.start],Ze=M[je.end],Tt=Wo(W,le),Qt=no(Tt,function(Gn){var Pn=Gn.descriptor.id,ii=Gn.page.borderBox.center[je.line],Pi=hn(Pn,Ee),zi=L({displaced:ue,id:Pn});return Pi?zi?Ze<=ii:qe<ii-at:zi?Ze<=ii+at:qe<ii}),Mn=q({draggable:W,closest:Qt,inHomeList:yo(W,Y)});return bn({draggable:W,insideDestination:le,destination:Y,viewport:Se,last:ue,displacedBy:ut,index:Mn})},"getReorderImpact"),Ce=4,xe=n(function(O){var M=O.draggable,W=O.pageBorderBoxWithDroppableScroll,Y=O.previousImpact,le=O.destination,ue=O.insideDestination,Se=O.afterCritical;if(!le.isCombineEnabled)return null;var Ee=le.axis,je=Rs(le.axis,M.displaceBy),ut=je.value,at=W[Ee.start],qe=W[Ee.end],Ze=Wo(M,ue),Tt=no(Ze,function(Mn){var Gn=Mn.descriptor.id,Pn=Mn.page.borderBox,ii=Pn[Ee.size],Pi=ii/Ce,zi=hn(Gn,Se),Pr=L({displaced:Y.displaced,id:Gn});return zi?Pr?qe>Pn[Ee.start]+Pi&&qe<Pn[Ee.end]-Pi:at>Pn[Ee.start]-ut+Pi&&at<Pn[Ee.end]-ut-Pi:Pr?qe>Pn[Ee.start]+ut+Pi&&qe<Pn[Ee.end]+ut-Pi:at>Pn[Ee.start]+Pi&&at<Pn[Ee.end]-Pi});if(!Tt)return null;var Qt={displacedBy:je,displaced:Y.displaced,at:{type:"COMBINE",combine:{draggableId:Tt.descriptor.id,droppableId:le.descriptor.id}}};return Qt},"getCombineImpact"),et=n(function(O){var M=O.pageOffset,W=O.draggable,Y=O.draggables,le=O.droppables,ue=O.previousImpact,Se=O.viewport,Ee=O.afterCritical,je=ae(W.page.borderBox,M),ut=oe({pageBorderBox:je,draggable:W,droppables:le});if(!ut)return ia;var at=le[ut],qe=qo(at.descriptor.id,Y),Ze=X(at,je);return xe({pageBorderBoxWithDroppableScroll:Ze,draggable:W,previousImpact:ue,destination:at,insideDestination:qe,afterCritical:Ee})||be({pageBorderBoxWithDroppableScroll:Ze,draggable:W,destination:at,insideDestination:qe,last:ue.displaced,viewport:Se,afterCritical:Ee})},"getDragImpact"),Rt=n(function(O,M){var W;return p({},O,(W={},W[M.descriptor.id]=M,W))},"patchDroppableMap"),ft=n(function(M){var W=M.previousImpact,Y=M.impact,le=M.droppables,ue=Io(W),Se=Io(Y);if(!ue||ue===Se)return le;var Ee=le[ue];if(!Ee.subject.withPlaceholder)return le;var je=_a(Ee);return Rt(le,je)},"clearUnusedPlaceholder"),Ot=n(function(O){var M=O.draggable,W=O.draggables,Y=O.droppables,le=O.previousImpact,ue=O.impact,Se=ft({previousImpact:le,impact:ue,droppables:Y}),Ee=Io(ue);if(!Ee)return Se;var je=Y[Ee];if(yo(M,je)||je.subject.withPlaceholder)return Se;var ut=fs(je,M,W);return Rt(Se,ut)},"recomputePlaceholders"),St=n(function(O){var M=O.state,W=O.clientSelection,Y=O.dimensions,le=O.viewport,ue=O.impact,Se=O.scrollJumpRequest,Ee=le||M.viewport,je=Y||M.dimensions,ut=W||M.current.client.selection,at=Nn(ut,M.initial.client.selection),qe={offset:at,selection:ut,borderBoxCenter:Cn(M.initial.client.borderBoxCenter,at)},Ze={selection:Cn(qe.selection,Ee.scroll.current),borderBoxCenter:Cn(qe.borderBoxCenter,Ee.scroll.current),offset:Cn(qe.offset,Ee.scroll.diff.value)},Tt={client:qe,page:Ze};if(M.phase==="COLLECTING")return p({phase:"COLLECTING"},M,{dimensions:je,viewport:Ee,current:Tt});var Qt=je.draggables[M.critical.draggable.id],Mn=ue||et({pageOffset:Ze.offset,draggable:Qt,draggables:je.draggables,droppables:je.droppables,previousImpact:M.impact,viewport:Ee,afterCritical:M.afterCritical}),Gn=Ot({draggable:Qt,impact:Mn,previousImpact:M.impact,draggables:je.draggables,droppables:je.droppables}),Pn=p({},M,{current:Tt,dimensions:{draggables:je.draggables,droppables:Gn},impact:Mn,viewport:Ee,scrollJumpRequest:Se||null,forceShouldAnimate:Se?!1:null});return Pn},"update");function yn(O,M){return O.map(function(W){return M[W]})}n(yn,"getDraggables$1");var Ln=n(function(O){var M=O.impact,W=O.viewport,Y=O.draggables,le=O.destination,ue=O.forceShouldAnimate,Se=M.displaced,Ee=yn(Se.all,Y),je=wt({afterDragging:Ee,destination:le,displacedBy:M.displacedBy,viewport:W.frame,forceShouldAnimate:ue,last:Se});return p({},M,{displaced:je})},"recompute"),Kn=n(function(O){var M=O.impact,W=O.draggable,Y=O.droppable,le=O.draggables,ue=O.viewport,Se=O.afterCritical,Ee=ur({impact:M,draggable:W,draggables:le,droppable:Y,afterCritical:Se});return vs({pageBorderBoxCenter:Ee,draggable:W,viewport:ue})},"getClientBorderBoxCenter"),Di=n(function(O){var M=O.state,W=O.dimensions,Y=O.viewport;M.movementMode!=="SNAP"&&vn(!1);var le=M.impact,ue=Y||M.viewport,Se=W||M.dimensions,Ee=Se.draggables,je=Se.droppables,ut=Ee[M.critical.draggable.id],at=Io(le);at||vn(!1);var qe=je[at],Ze=Ln({impact:le,viewport:ue,destination:qe,draggables:Ee}),Tt=Kn({impact:Ze,draggable:ut,droppable:qe,draggables:Ee,viewport:ue,afterCritical:M.afterCritical});return St({impact:Ze,clientSelection:Tt,state:M,dimensions:Se,viewport:ue})},"refreshSnap"),Ni=n(function(O){return{index:O.index,droppableId:O.droppableId}},"getHomeLocation"),Hi=n(function(O){var M=O.draggable,W=O.home,Y=O.draggables,le=O.viewport,ue=Rs(W.axis,M.displaceBy),Se=qo(W.descriptor.id,Y),Ee=Se.indexOf(M);Ee===-1&&vn(!1);var je=Se.slice(Ee+1),ut=je.reduce(function(Tt,Qt){return Tt[Qt.descriptor.id]=!0,Tt},{}),at={inVirtualList:W.descriptor.mode==="virtual",displacedBy:ue,effected:ut},qe=wt({afterDragging:je,destination:W,displacedBy:ue,last:null,viewport:le.frame,forceShouldAnimate:!1}),Ze={displaced:qe,displacedBy:ue,at:{type:"REORDER",destination:Ni(M.descriptor)}};return{impact:Ze,afterCritical:at}},"getLiftEffect"),mr=n(function(O,M){return{draggables:O.draggables,droppables:Rt(O.droppables,M)}},"patchDimensionMap"),fr=n(function(M){},"start"),br=n(function(M){},"finish"),Jr=n(function(O){var M=O.draggable,W=O.offset,Y=O.initialWindowScroll,le=cr(M.client,W),ue=Dr(le,Y),Se=p({},M,{placeholder:p({},M.placeholder,{client:le}),client:le,page:ue});return Se},"offsetDraggable"),yr=n(function(O){var M=O.frame;return M||vn(!1),M},"getFrame"),di=n(function(O){var M=O.additions,W=O.updatedDroppables,Y=O.viewport,le=Y.scroll.diff.value;return M.map(function(ue){var Se=ue.descriptor.droppableId,Ee=W[Se],je=yr(Ee),ut=je.scroll.diff.value,at=Cn(le,ut),qe=Jr({draggable:ue,offset:at,initialWindowScroll:Y.scroll.initial});return qe})},"adjustAdditionsForScrollChanges"),Cr=n(function(O){var M=O.state,W=O.published;fr();var Y=W.modified.map(function(Pi){var zi=M.dimensions.droppables[Pi.droppableId],Pr=Eo(zi,Pi.scroll);return Pr}),le=p({},M.dimensions.droppables,{},As(Y)),ue=ms(di({additions:W.additions,updatedDroppables:le,viewport:M.viewport})),Se=p({},M.dimensions.draggables,{},ue);W.removals.forEach(function(Pi){delete Se[Pi]});var Ee={droppables:le,draggables:Se},je=Io(M.impact),ut=je?Ee.droppables[je]:null,at=Ee.draggables[M.critical.draggable.id],qe=Ee.droppables[M.critical.droppable.id],Ze=Hi({draggable:at,home:qe,draggables:Se,viewport:M.viewport}),Tt=Ze.impact,Qt=Ze.afterCritical,Mn=ut&&ut.isCombineEnabled?M.impact:Tt,Gn=et({pageOffset:M.current.page.offset,draggable:Ee.draggables[M.critical.draggable.id],draggables:Ee.draggables,droppables:Ee.droppables,previousImpact:Mn,viewport:M.viewport,afterCritical:Qt});br();var Pn=p({phase:"DRAGGING"},M,{phase:"DRAGGING",impact:Gn,onLiftImpact:Tt,dimensions:Ee,afterCritical:Qt,forceShouldAnimate:!1});if(M.phase==="COLLECTING")return Pn;var ii=p({phase:"DROP_PENDING"},Pn,{phase:"DROP_PENDING",reason:M.reason,isWaiting:!1});return ii},"publishWhileDraggingInVirtual"),Mt=n(function(M){return M.movementMode==="SNAP"},"isSnapping"),Vt=n(function(M,W,Y){var le=mr(M.dimensions,W);return!Mt(M)||Y?St({state:M,dimensions:le}):Di({state:M,dimensions:le})},"postDroppableChange");function un(O){return O.isDragging&&O.movementMode==="SNAP"?p({phase:"DRAGGING"},O,{scrollJumpRequest:null}):O}n(un,"removeScrollJumpRequest");var Hn={phase:"IDLE",completed:null,shouldFlush:!1},gi=n(function(O,M){if(O===void 0&&(O=Hn),M.type==="FLUSH")return p({},Hn,{shouldFlush:!0});if(M.type==="INITIAL_PUBLISH"){O.phase!=="IDLE"&&vn(!1);var W=M.payload,Y=W.critical,le=W.clientSelection,ue=W.viewport,Se=W.dimensions,Ee=W.movementMode,je=Se.draggables[Y.draggable.id],ut=Se.droppables[Y.droppable.id],at={selection:le,borderBoxCenter:je.client.borderBox.center,offset:xt},qe={client:at,page:{selection:Cn(at.selection,ue.scroll.initial),borderBoxCenter:Cn(at.selection,ue.scroll.initial),offset:Cn(at.selection,ue.scroll.diff.value)}},Ze=cs(Se.droppables).every(function(_c){return!_c.isFixedOnPage}),Tt=Hi({draggable:je,home:ut,draggables:Se.draggables,viewport:ue}),Qt=Tt.impact,Mn=Tt.afterCritical,Gn={phase:"DRAGGING",isDragging:!0,critical:Y,movementMode:Ee,dimensions:Se,initial:qe,current:qe,isWindowScrollAllowed:Ze,impact:Qt,afterCritical:Mn,onLiftImpact:Qt,viewport:ue,scrollJumpRequest:null,forceShouldAnimate:null};return Gn}if(M.type==="COLLECTION_STARTING"){if(O.phase==="COLLECTING"||O.phase==="DROP_PENDING")return O;O.phase!=="DRAGGING"&&vn(!1);var Pn=p({phase:"COLLECTING"},O,{phase:"COLLECTING"});return Pn}if(M.type==="PUBLISH_WHILE_DRAGGING")return O.phase==="COLLECTING"||O.phase==="DROP_PENDING"||vn(!1),Cr({state:O,published:M.payload});if(M.type==="MOVE"){if(O.phase==="DROP_PENDING")return O;Mi(O)||vn(!1);var ii=M.payload.client;return Xn(ii,O.current.client.selection)?O:St({state:O,clientSelection:ii,impact:Mt(O)?O.impact:null})}if(M.type==="UPDATE_DROPPABLE_SCROLL"){if(O.phase==="DROP_PENDING"||O.phase==="COLLECTING")return un(O);Mi(O)||vn(!1);var Pi=M.payload,zi=Pi.id,Pr=Pi.newScroll,Or=O.dimensions.droppables[zi];if(!Or)return O;var Yr=Eo(Or,Pr);return Vt(O,Yr,!1)}if(M.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(O.phase==="DROP_PENDING")return O;Mi(O)||vn(!1);var jo=M.payload,qr=jo.id,$o=jo.isEnabled,_s=O.dimensions.droppables[qr];_s||vn(!1),_s.isEnabled===$o&&vn(!1);var ks=p({},_s,{isEnabled:$o});return Vt(O,ks,!0)}if(M.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(O.phase==="DROP_PENDING")return O;Mi(O)||vn(!1);var Da=M.payload,ma=Da.id,Zs=Da.isCombineEnabled,qs=O.dimensions.droppables[ma];qs||vn(!1),qs.isCombineEnabled===Zs&&vn(!1);var Ds=p({},qs,{isCombineEnabled:Zs});return Vt(O,Ds,!0)}if(M.type==="MOVE_BY_WINDOW_SCROLL"){if(O.phase==="DROP_PENDING"||O.phase==="DROP_ANIMATING")return O;Mi(O)||vn(!1),O.isWindowScrollAllowed||vn(!1);var $a=M.payload.newScroll;if(Xn(O.viewport.scroll.current,$a))return un(O);var ca=To(O.viewport,$a);return Mt(O)?Di({state:O,viewport:ca}):St({state:O,viewport:ca})}if(M.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mi(O))return O;var Ul=M.payload.maxScroll;if(Xn(Ul,O.viewport.scroll.max))return O;var ol=p({},O.viewport,{scroll:p({},O.viewport.scroll,{max:Ul})});return p({phase:"DRAGGING"},O,{viewport:ol})}if(M.type==="MOVE_UP"||M.type==="MOVE_DOWN"||M.type==="MOVE_LEFT"||M.type==="MOVE_RIGHT"){if(O.phase==="COLLECTING"||O.phase==="DROP_PENDING")return O;O.phase!=="DRAGGING"&&vn(!1);var Ka=Ys({state:O,type:M.type});return Ka?St({state:O,impact:Ka.impact,clientSelection:Ka.clientSelection,scrollJumpRequest:Ka.scrollJumpRequest}):O}if(M.type==="DROP_PENDING"){var ga=M.payload.reason;O.phase!=="COLLECTING"&&vn(!1);var sl=p({phase:"DROP_PENDING"},O,{phase:"DROP_PENDING",isWaiting:!0,reason:ga});return sl}if(M.type==="DROP_ANIMATE"){var vc=M.payload,ea=vc.completed,Vl=vc.dropDuration,Sc=vc.newHomeClientOffset;O.phase==="DRAGGING"||O.phase==="DROP_PENDING"||vn(!1);var El={phase:"DROP_ANIMATING",completed:ea,dropDuration:Vl,newHomeClientOffset:Sc,dimensions:O.dimensions};return El}if(M.type==="DROP_COMPLETE"){var yc=M.payload.completed;return{phase:"IDLE",completed:yc,shouldFlush:!1}}return O},"reducer"),ar=n(function(M){return{type:"BEFORE_INITIAL_CAPTURE",payload:M}},"beforeInitialCapture"),Xi=n(function(M){return{type:"LIFT",payload:M}},"lift"),$i=n(function(M){return{type:"INITIAL_PUBLISH",payload:M}},"initialPublish"),rr=n(function(M){return{type:"PUBLISH_WHILE_DRAGGING",payload:M}},"publishWhileDragging"),Br=n(function(){return{type:"COLLECTION_STARTING",payload:null}},"collectionStarting"),ts=n(function(M){return{type:"UPDATE_DROPPABLE_SCROLL",payload:M}},"updateDroppableScroll"),Vr=n(function(M){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:M}},"updateDroppableIsEnabled"),Ro=n(function(M){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:M}},"updateDroppableIsCombineEnabled"),ds=n(function(M){return{type:"MOVE",payload:M}},"move"),Fs=n(function(M){return{type:"MOVE_BY_WINDOW_SCROLL",payload:M}},"moveByWindowScroll"),hs=n(function(M){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:M}},"updateViewportMaxScroll"),Xo=n(function(){return{type:"MOVE_UP",payload:null}},"moveUp"),Ca=n(function(){return{type:"MOVE_DOWN",payload:null}},"moveDown"),Pa=n(function(){return{type:"MOVE_RIGHT",payload:null}},"moveRight"),aa=n(function(){return{type:"MOVE_LEFT",payload:null}},"moveLeft"),Xs=n(function(){return{type:"FLUSH",payload:null}},"flush"),Ga=n(function(M){return{type:"DROP_ANIMATE",payload:M}},"animateDrop"),ua=n(function(M){return{type:"DROP_COMPLETE",payload:M}},"completeDrop"),el=n(function(M){return{type:"DROP",payload:M}},"drop"),ka=n(function(M){return{type:"DROP_PENDING",payload:M}},"dropPending"),Ms=n(function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},"dropAnimationFinished");function po(O){if(!(O.length<=1)){for(var M=O.map(function(Ee){return Ee.descriptor.index}),W={},Y=1;Y<M.length;Y++){var le=M[Y],ue=M[Y-1];le!==ue+1&&(W[le]=!0)}if(Object.keys(W).length)var Se=M.map(function(Ee){var je=Boolean(W[Ee]);return je?"[\u{1F525}"+Ee+"]":""+Ee}).join(", ")}}n(po,"checkIndexes");function wo(O,M){if(!1)var W}n(wo,"validateDimensions");var ss=n(function(O){return function(M){var W=M.getState,Y=M.dispatch;return function(le){return function(ue){if(ue.type!=="LIFT"){le(ue);return}var Se=ue.payload,Ee=Se.id,je=Se.clientSelection,ut=Se.movementMode,at=W();at.phase==="DROP_ANIMATING"&&Y(ua({completed:at.completed})),W().phase!=="IDLE"&&vn(!1),Y(Xs()),Y(ar({draggableId:Ee,movementMode:ut}));var qe={shouldPublishImmediately:ut==="SNAP"},Ze={draggableId:Ee,scrollOptions:qe},Tt=O.startPublishing(Ze),Qt=Tt.critical,Mn=Tt.dimensions,Gn=Tt.viewport;wo(Qt,Mn),Y($i({critical:Qt,dimensions:Mn,clientSelection:je,movementMode:ut,viewport:Gn}))}}}},"lift$1"),Ta=n(function(O){return function(){return function(M){return function(W){W.type==="INITIAL_PUBLISH"&&O.dragging(),W.type==="DROP_ANIMATE"&&O.dropping(W.payload.completed.result.reason),(W.type==="FLUSH"||W.type==="DROP_COMPLETE")&&O.resting(),M(W)}}}},"style"),Ws={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},fl={opacity:{drop:0,combining:.7},scale:{drop:.75}},Kl={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},za=Kl.outOfTheWay+"s "+Ws.outOfTheWay,hl={fluid:"opacity "+za,snap:"transform "+za+", opacity "+za,drop:n(function(M){var W=M+"s "+Ws.drop;return"transform "+W+", opacity "+W},"drop"),outOfTheWay:"transform "+za,placeholder:"height "+za+", width "+za+", margin "+za},xc=n(function(M){return Xn(M,xt)?null:"translate("+M.x+"px, "+M.y+"px)"},"moveTo"),Jl={moveTo:xc,drop:n(function(M,W){var Y=xc(M);return Y?W?Y+" scale("+fl.scale.drop+")":Y:null},"drop")},Yl=Kl.minDropTime,Bc=Kl.maxDropTime,Ld=Bc-Yl,Nd=1500,Fd=.6,Xr=n(function(O){var M=O.current,W=O.destination,Y=O.reason,le=Tn(M,W);if(le<=0)return Yl;if(le>=Nd)return Bc;var ue=le/Nd,Se=Yl+Ld*ue,Ee=Y==="CANCEL"?Se*Fd:Se;return Number(Ee.toFixed(2))},"getDropDuration"),Xl=n(function(O){var M=O.impact,W=O.draggable,Y=O.dimensions,le=O.viewport,ue=O.afterCritical,Se=Y.draggables,Ee=Y.droppables,je=Io(M),ut=je?Ee[je]:null,at=Ee[W.descriptor.droppableId],qe=Kn({impact:M,draggable:W,draggables:Se,afterCritical:ue,droppable:ut||at,viewport:le}),Ze=Nn(qe,W.client.borderBox.center);return Ze},"getNewHomeClientOffset"),pl=n(function(O){var M=O.draggables,W=O.reason,Y=O.lastImpact,le=O.home,ue=O.viewport,Se=O.onLiftImpact;if(!Y.at||W!=="DROP"){var Ee=Ln({draggables:M,impact:Se,destination:le,viewport:ue,forceShouldAnimate:!0});return{impact:Ee,didDropInsideDroppable:!1}}if(Y.at.type==="REORDER")return{impact:Y,didDropInsideDroppable:!0};var je=p({},Y,{displaced:Po});return{impact:je,didDropInsideDroppable:!0}},"getDropImpact"),Ql=n(function(O){var M=O.getState,W=O.dispatch;return function(Y){return function(le){if(le.type!=="DROP"){Y(le);return}var ue=M(),Se=le.payload.reason;if(ue.phase==="COLLECTING"){W(ka({reason:Se}));return}if(ue.phase!=="IDLE"){var Ee=ue.phase==="DROP_PENDING"&&ue.isWaiting;Ee&&vn(!1),ue.phase==="DRAGGING"||ue.phase==="DROP_PENDING"||vn(!1);var je=ue.critical,ut=ue.dimensions,at=ut.draggables[ue.critical.draggable.id],qe=pl({reason:Se,lastImpact:ue.impact,afterCritical:ue.afterCritical,onLiftImpact:ue.onLiftImpact,home:ue.dimensions.droppables[ue.critical.droppable.id],viewport:ue.viewport,draggables:ue.dimensions.draggables}),Ze=qe.impact,Tt=qe.didDropInsideDroppable,Qt=Tt?Mo(Ze):null,Mn=Tt?No(Ze):null,Gn={index:je.draggable.index,droppableId:je.droppable.id},Pn={draggableId:at.descriptor.id,type:at.descriptor.type,source:Gn,reason:Se,mode:ue.movementMode,destination:Qt,combine:Mn},ii=Xl({impact:Ze,draggable:at,dimensions:ut,viewport:ue.viewport,afterCritical:ue.afterCritical}),Pi={critical:ue.critical,afterCritical:ue.afterCritical,result:Pn,impact:Ze},zi=!Xn(ue.current.client.offset,ii)||Boolean(Pn.combine);if(!zi){W(ua({completed:Pi}));return}var Pr=Xr({current:ue.current.client.offset,destination:ii,reason:Se}),Or={newHomeClientOffset:ii,dropDuration:Pr,completed:Pi};W(Ga(Or))}}}},"drop$1"),On=n(function(){return{x:window.pageXOffset,y:window.pageYOffset}},"react_beautiful_dnd_esm_getWindowScroll");function Wu(O){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n(function(W){W.target!==window&&W.target!==window.document||O()},"fn")}}n(Wu,"getWindowScrollBinding");function Ii(O){var M=O.onWindowScroll;function W(){M(On())}n(W,"updateScroll");var Y=tt(W),le=Wu(Y),ue=Ar;function Se(){return ue!==Ar}n(Se,"isActive");function Ee(){Se()&&vn(!1),ue=hi(window,[le])}n(Ee,"start");function je(){Se()||vn(!1),Y.cancel(),ue(),ue=Ar}return n(je,"stop"),{start:Ee,stop:je,isActive:Se}}n(Ii,"getScrollListener");var xd=n(function(M){return M.type==="DROP_COMPLETE"||M.type==="DROP_ANIMATE"||M.type==="FLUSH"},"shouldEnd"),Pl=n(function(O){var M=Ii({onWindowScroll:n(function(Y){O.dispatch(Fs({newScroll:Y}))},"onWindowScroll")});return function(W){return function(Y){!M.isActive()&&Y.type==="INITIAL_PUBLISH"&&M.start(),M.isActive()&&xd(Y)&&M.stop(),W(Y)}}},"scrollListener"),Zl=n(function(O){var M=!1,W=!1,Y=setTimeout(function(){W=!0}),le=n(function(Se){M||W||(M=!0,O(Se),clearTimeout(Y))},"result");return le.wasCalled=function(){return M},le},"getExpiringAnnounce"),Uc=n(function(){var O=[],M=n(function(ue){var Se=Fr(O,function(ut){return ut.timerId===ue});Se===-1&&vn(!1);var Ee=O.splice(Se,1),je=Ee[0];je.callback()},"execute"),W=n(function(ue){var Se=setTimeout(function(){return M(Se)}),Ee={timerId:Se,callback:ue};O.push(Ee)},"add"),Y=n(function(){if(O.length){var ue=[].concat(O);O.length=0,ue.forEach(function(Se){clearTimeout(Se.timerId),Se.callback()})}},"flush");return{add:W,flush:Y}},"getAsyncMarshal"),ql=n(function(M,W){return M==null&&W==null?!0:M==null||W==null?!1:M.droppableId===W.droppableId&&M.index===W.index},"areLocationsEqual"),Bd=n(function(M,W){return M==null&&W==null?!0:M==null||W==null?!1:M.draggableId===W.draggableId&&M.droppableId===W.droppableId},"isCombineEqual"),Gu=n(function(M,W){if(M===W)return!0;var Y=M.draggable.id===W.draggable.id&&M.draggable.droppableId===W.draggable.droppableId&&M.draggable.type===W.draggable.type&&M.draggable.index===W.draggable.index,le=M.droppable.id===W.droppable.id&&M.droppable.type===W.droppable.type;return Y&&le},"isCriticalEqual"),Gs=n(function(M,W){fr(),W(),br()},"withTimings"),Wi=n(function(M,W){return{draggableId:M.draggable.id,type:M.droppable.type,source:{droppableId:M.droppable.id,index:M.draggable.index},mode:W}},"getDragStart"),ec=n(function(M,W,Y,le){if(!M){Y(le(W));return}var ue=Zl(Y),Se={announce:ue};M(W,Se),ue.wasCalled()||Y(le(W))},"execute"),Ud=n(function(O,M){var W=Uc(),Y=null,le=n(function(Ze,Tt){Y&&vn(!1),Gs("onBeforeCapture",function(){var Qt=O().onBeforeCapture;if(Qt){var Mn={draggableId:Ze,mode:Tt};Qt(Mn)}})},"beforeCapture"),ue=n(function(Ze,Tt){Y&&vn(!1),Gs("onBeforeDragStart",function(){var Qt=O().onBeforeDragStart;Qt&&Qt(Wi(Ze,Tt))})},"beforeStart"),Se=n(function(Ze,Tt){Y&&vn(!1);var Qt=Wi(Ze,Tt);Y={mode:Tt,lastCritical:Ze,lastLocation:Qt.source,lastCombine:null},W.add(function(){Gs("onDragStart",function(){return ec(O().onDragStart,Qt,M,Lt.onDragStart)})})},"start"),Ee=n(function(Ze,Tt){var Qt=Mo(Tt),Mn=No(Tt);Y||vn(!1);var Gn=!Gu(Ze,Y.lastCritical);Gn&&(Y.lastCritical=Ze);var Pn=!ql(Y.lastLocation,Qt);Pn&&(Y.lastLocation=Qt);var ii=!Bd(Y.lastCombine,Mn);if(ii&&(Y.lastCombine=Mn),!(!Gn&&!Pn&&!ii)){var Pi=p({},Wi(Ze,Y.mode),{combine:Mn,destination:Qt});W.add(function(){Gs("onDragUpdate",function(){return ec(O().onDragUpdate,Pi,M,Lt.onDragUpdate)})})}},"update"),je=n(function(){Y||vn(!1),W.flush()},"flush"),ut=n(function(Ze){Y||vn(!1),Y=null,Gs("onDragEnd",function(){return ec(O().onDragEnd,Ze,M,Lt.onDragEnd)})},"drop"),at=n(function(){if(Y){var Ze=p({},Wi(Y.lastCritical,Y.mode),{combine:null,destination:null,reason:"CANCEL"});ut(Ze)}},"abort");return{beforeCapture:le,beforeStart:ue,start:Se,update:Ee,flush:je,drop:ut,abort:at}},"getPublisher"),Vc=n(function(O,M){var W=Ud(O,M);return function(Y){return function(le){return function(ue){if(ue.type==="BEFORE_INITIAL_CAPTURE"){W.beforeCapture(ue.payload.draggableId,ue.payload.movementMode);return}if(ue.type==="INITIAL_PUBLISH"){var Se=ue.payload.critical;W.beforeStart(Se,ue.payload.movementMode),le(ue),W.start(Se,ue.payload.movementMode);return}if(ue.type==="DROP_COMPLETE"){var Ee=ue.payload.completed.result;W.flush(),le(ue),W.drop(Ee);return}if(le(ue),ue.type==="FLUSH"){W.abort();return}var je=Y.getState();je.phase==="DRAGGING"&&W.update(je.critical,je.impact)}}}},"responders"),Vd=n(function(O){return function(M){return function(W){if(W.type!=="DROP_ANIMATION_FINISHED"){M(W);return}var Y=O.getState();Y.phase!=="DROP_ANIMATING"&&vn(!1),O.dispatch(ua({completed:Y.completed}))}}},"dropAnimationFinish"),Hc=n(function(O){var M=null,W=null;function Y(){W&&(cancelAnimationFrame(W),W=null),M&&(M(),M=null)}return n(Y,"clear"),function(le){return function(ue){if((ue.type==="FLUSH"||ue.type==="DROP_COMPLETE"||ue.type==="DROP_ANIMATION_FINISHED")&&Y(),le(ue),ue.type==="DROP_ANIMATE"){var Se={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:n(function(){var je=O.getState();je.phase==="DROP_ANIMATING"&&O.dispatch(Ms())},"flushDropAnimation")};W=requestAnimationFrame(function(){W=null,M=hi(window,[Se])})}}}},"dropAnimationFlushOnScroll"),Wc=n(function(O){return function(){return function(M){return function(W){(W.type==="DROP_COMPLETE"||W.type==="FLUSH"||W.type==="DROP_ANIMATE")&&O.stopPublishing(),M(W)}}}},"dimensionMarshalStopper"),ml=n(function(O){var M=!1;return function(){return function(W){return function(Y){if(Y.type==="INITIAL_PUBLISH"){M=!0,O.tryRecordFocus(Y.payload.critical.draggable.id),W(Y),O.tryRestoreFocusRecorded();return}if(W(Y),!!M){if(Y.type==="FLUSH"){M=!1,O.tryRestoreFocusRecorded();return}if(Y.type==="DROP_COMPLETE"){M=!1;var le=Y.payload.completed.result;le.combine&&O.tryShiftRecord(le.draggableId,le.combine.draggableId),O.tryRestoreFocusRecorded()}}}}}},"react_beautiful_dnd_esm_focus"),Hd=n(function(M){return M.type==="DROP_COMPLETE"||M.type==="DROP_ANIMATE"||M.type==="FLUSH"},"shouldStop"),Gc=n(function(O){return function(M){return function(W){return function(Y){if(Hd(Y)){O.stop(),W(Y);return}if(Y.type==="INITIAL_PUBLISH"){W(Y);var le=M.getState();le.phase!=="DRAGGING"&&vn(!1),O.start(le);return}W(Y),O.scroll(M.getState())}}}},"autoScroll"),Wd=n(function(O){return function(M){return function(W){if(M(W),W.type==="PUBLISH_WHILE_DRAGGING"){var Y=O.getState();Y.phase==="DROP_PENDING"&&(Y.isWaiting||O.dispatch(el({reason:Y.reason})))}}}},"pendingDrop"),N=x,H=n(function(O){var M=O.dimensionMarshal,W=O.focusMarshal,Y=O.styleMarshal,le=O.getResponders,ue=O.announce,Se=O.autoScroller;return b(gi,N(z(Ta(Y),Wc(M),ss(M),Ql,Vd,Hc,Wd,Gc(Se),Pl,ml(W),Vc(le,ue))))},"react_beautiful_dnd_esm_createStore"),$=n(function(){return{additions:{},removals:{},modified:{}}},"clean");function ce(O){var M=O.registry,W=O.callbacks,Y=$(),le=null,ue=n(function(){le||(W.collectionStarting(),le=requestAnimationFrame(function(){le=null,fr();var at=Y,qe=at.additions,Ze=at.removals,Tt=at.modified,Qt=Object.keys(qe).map(function(Pn){return M.draggable.getById(Pn).getDimension(xt)}).sort(function(Pn,ii){return Pn.descriptor.index-ii.descriptor.index}),Mn=Object.keys(Tt).map(function(Pn){var ii=M.droppable.getById(Pn),Pi=ii.callbacks.getScrollWhileDragging();return{droppableId:Pn,scroll:Pi}}),Gn={additions:Qt,removals:Object.keys(Ze),modified:Mn};Y=$(),br(),W.publish(Gn)}))},"collect"),Se=n(function(at){var qe=at.descriptor.id;Y.additions[qe]=at,Y.modified[at.descriptor.droppableId]=!0,Y.removals[qe]&&delete Y.removals[qe],ue()},"add"),Ee=n(function(at){var qe=at.descriptor;Y.removals[qe.id]=!0,Y.modified[qe.droppableId]=!0,Y.additions[qe.id]&&delete Y.additions[qe.id],ue()},"remove"),je=n(function(){le&&(cancelAnimationFrame(le),le=null,Y=$())},"stop");return{add:Se,remove:Ee,stop:je}}n(ce,"createPublisher");var Oe=n(function(O){var M=O.scrollHeight,W=O.scrollWidth,Y=O.height,le=O.width,ue=Nn({x:W,y:M},{x:le,y:Y}),Se={x:Math.max(0,ue.x),y:Math.max(0,ue.y)};return Se},"getMaxScroll"),$e=n(function(){var O=document.documentElement;return O||vn(!1),O},"getDocumentElement"),Ct=n(function(){var O=$e(),M=Oe({scrollHeight:O.scrollHeight,scrollWidth:O.scrollWidth,width:O.clientWidth,height:O.clientHeight});return M},"getMaxWindowScroll"),jt=n(function(){var O=On(),M=Ct(),W=O.y,Y=O.x,le=$e(),ue=le.clientWidth,Se=le.clientHeight,Ee=Y+ue,je=W+Se,ut=nn({top:W,left:Y,right:Ee,bottom:je}),at={frame:ut,scroll:{initial:O,current:O,max:M,diff:{value:xt,displacement:xt}}};return at},"getViewport"),Ft=n(function(O){var M=O.critical,W=O.scrollOptions,Y=O.registry;fr();var le=jt(),ue=le.scroll.current,Se=M.droppable,Ee=Y.droppable.getAllByType(Se.type).map(function(qe){return qe.callbacks.getDimensionAndWatchScroll(ue,W)}),je=Y.draggable.getAllByType(M.draggable.type).map(function(qe){return qe.getDimension(ue)}),ut={draggables:ms(je),droppables:As(Ee)};br();var at={dimensions:ut,critical:M,viewport:le};return at},"getInitialPublish");function fn(O,M,W){if(W.descriptor.id===M.id||W.descriptor.type!==M.type)return!1;var Y=O.droppable.getById(W.descriptor.droppableId);return Y.descriptor.mode==="virtual"}n(fn,"shouldPublishUpdate");var en=n(function(O,M){var W=null,Y=ce({callbacks:{publish:M.publishWhileDragging,collectionStarting:M.collectionStarting},registry:O}),le=n(function(Tt,Qt){O.droppable.exists(Tt)||vn(!1),W&&M.updateDroppableIsEnabled({id:Tt,isEnabled:Qt})},"updateDroppableIsEnabled"),ue=n(function(Tt,Qt){W&&(O.droppable.exists(Tt)||vn(!1),M.updateDroppableIsCombineEnabled({id:Tt,isCombineEnabled:Qt}))},"updateDroppableIsCombineEnabled"),Se=n(function(Tt,Qt){W&&(O.droppable.exists(Tt)||vn(!1),M.updateDroppableScroll({id:Tt,newScroll:Qt}))},"updateDroppableScroll"),Ee=n(function(Tt,Qt){W&&O.droppable.getById(Tt).callbacks.scroll(Qt)},"scrollDroppable"),je=n(function(){if(W){Y.stop();var Tt=W.critical.droppable;O.droppable.getAllByType(Tt.type).forEach(function(Qt){return Qt.callbacks.dragStopped()}),W.unsubscribe(),W=null}},"stopPublishing"),ut=n(function(Tt){W||vn(!1);var Qt=W.critical.draggable;Tt.type==="ADDITION"&&fn(O,Qt,Tt.value)&&Y.add(Tt.value),Tt.type==="REMOVAL"&&fn(O,Qt,Tt.value)&&Y.remove(Tt.value)},"subscriber"),at=n(function(Tt){W&&vn(!1);var Qt=O.draggable.getById(Tt.draggableId),Mn=O.droppable.getById(Qt.descriptor.droppableId),Gn={draggable:Qt.descriptor,droppable:Mn.descriptor},Pn=O.subscribe(ut);return W={critical:Gn,unsubscribe:Pn},Ft({critical:Gn,registry:O,scrollOptions:Tt.scrollOptions})},"startPublishing"),qe={updateDroppableIsEnabled:le,updateDroppableIsCombineEnabled:ue,scrollDroppable:Ee,updateDroppableScroll:Se,startPublishing:at,stopPublishing:je};return qe},"createDimensionMarshal"),Rn=n(function(O,M){return O.phase==="IDLE"?!0:O.phase!=="DROP_ANIMATING"||O.completed.result.draggableId===M?!1:O.completed.result.reason==="DROP"},"canStartDrag"),Wn=n(function(O){window.scrollBy(O.x,O.y)},"scrollWindow"),li=F(function(O){return cs(O).filter(function(M){return!(!M.isEnabled||!M.frame)})}),Ci=n(function(M,W){var Y=no(li(W),function(le){return le.frame||vn(!1),Ea(le.frame.pageMarginBox)(M)});return Y},"getScrollableDroppableOver"),Ki=n(function(O){var M=O.center,W=O.destination,Y=O.droppables;if(W){var le=Y[W];return le.frame?le:null}var ue=Ci(M,Y);return ue},"getBestScrollableDroppable"),gr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n(function(M){return Math.pow(M,2)},"ease"),durationDampening:{stopDampeningAt:1200,accelerateAt:360}},or=n(function(O,M){var W=O[M.size]*gr.startFromPercentage,Y=O[M.size]*gr.maxScrollAtPercentage,le={startScrollingFrom:W,maxScrollValueAt:Y};return le},"getDistanceThresholds"),Wr=n(function(O){var M=O.startOfRange,W=O.endOfRange,Y=O.current,le=W-M;if(le===0)return 0;var ue=Y-M,Se=ue/le;return Se},"getPercentage"),so=1,mo=n(function(O,M){if(O>M.startScrollingFrom)return 0;if(O<=M.maxScrollValueAt)return gr.maxPixelScroll;if(O===M.startScrollingFrom)return so;var W=Wr({startOfRange:M.maxScrollValueAt,endOfRange:M.startScrollingFrom,current:O}),Y=1-W,le=gr.maxPixelScroll*gr.ease(Y);return Math.ceil(le)},"getValueFromDistance"),zo=gr.durationDampening.accelerateAt,Lr=gr.durationDampening.stopDampeningAt,nr=n(function(O,M){var W=M,Y=Lr,le=Date.now(),ue=le-W;if(ue>=Lr)return O;if(ue<zo)return so;var Se=Wr({startOfRange:zo,endOfRange:Y,current:ue}),Ee=O*gr.ease(Se);return Math.ceil(Ee)},"dampenValueByTime"),Zr=n(function(O){var M=O.distanceToEdge,W=O.thresholds,Y=O.dragStartTime,le=O.shouldUseTimeDampening,ue=mo(M,W);return ue===0?0:le?Math.max(nr(ue,Y),so):ue},"getValue"),ns=n(function(O){var M=O.container,W=O.distanceToEdges,Y=O.dragStartTime,le=O.axis,ue=O.shouldUseTimeDampening,Se=or(M,le),Ee=W[le.end]<W[le.start];return Ee?Zr({distanceToEdge:W[le.end],thresholds:Se,dragStartTime:Y,shouldUseTimeDampening:ue}):-1*Zr({distanceToEdge:W[le.start],thresholds:Se,dragStartTime:Y,shouldUseTimeDampening:ue})},"getScrollOnAxis"),ir=n(function(O){var M=O.container,W=O.subject,Y=O.proposedScroll,le=W.height>M.height,ue=W.width>M.width;return!ue&&!le?Y:ue&&le?null:{x:ue?0:Y.x,y:le?0:Y.y}},"adjustForSizeLimits"),zr=_i(function(O){return O===0?0:O}),ko=n(function(O){var M=O.dragStartTime,W=O.container,Y=O.subject,le=O.center,ue=O.shouldUseTimeDampening,Se={top:le.y-W.top,right:W.right-le.x,bottom:W.bottom-le.y,left:le.x-W.left},Ee=ns({container:W,distanceToEdges:Se,dragStartTime:M,axis:ro,shouldUseTimeDampening:ue}),je=ns({container:W,distanceToEdges:Se,dragStartTime:M,axis:Oo,shouldUseTimeDampening:ue}),ut=zr({x:je,y:Ee});if(Xn(ut,xt))return null;var at=ir({container:W,subject:Y,proposedScroll:ut});return at?Xn(at,xt)?null:at:null},"getScroll"),us=_i(function(O){return O===0?0:O>0?1:-1}),as=function(){var O=n(function(W,Y){return W<0?W:W>Y?W-Y:0},"getRemainder");return function(M){var W=M.current,Y=M.max,le=M.change,ue=Cn(W,le),Se={x:O(ue.x,Y.x),y:O(ue.y,Y.y)};return Xn(Se,xt)?null:Se}}(),Ps=n(function(M){var W=M.max,Y=M.current,le=M.change,ue={x:Math.max(Y.x,W.x),y:Math.max(Y.y,W.y)},Se=us(le),Ee=as({max:ue,current:Y,change:Se});return!Ee||Se.x!==0&&Ee.x===0||Se.y!==0&&Ee.y===0},"canPartiallyScroll"),Do=n(function(M,W){return Ps({current:M.scroll.current,max:M.scroll.max,change:W})},"canScrollWindow"),zs=n(function(M,W){if(!Do(M,W))return null;var Y=M.scroll.max,le=M.scroll.current;return as({current:le,max:Y,change:W})},"getWindowOverlap"),ls=n(function(M,W){var Y=M.frame;return Y?Ps({current:Y.scroll.current,max:Y.scroll.max,change:W}):!1},"canScrollDroppable"),la=n(function(M,W){var Y=M.frame;return!Y||!ls(M,W)?null:as({current:Y.scroll.current,max:Y.scroll.max,change:W})},"getDroppableOverlap"),Ia=n(function(O){var M=O.viewport,W=O.subject,Y=O.center,le=O.dragStartTime,ue=O.shouldUseTimeDampening,Se=ko({dragStartTime:le,container:M.frame,subject:W,center:Y,shouldUseTimeDampening:ue});return Se&&Do(M,Se)?Se:null},"getWindowScrollChange"),Gd=n(function(O){var M=O.droppable,W=O.subject,Y=O.center,le=O.dragStartTime,ue=O.shouldUseTimeDampening,Se=M.frame;if(!Se)return null;var Ee=ko({dragStartTime:le,container:Se.pageMarginBox,subject:W,center:Y,shouldUseTimeDampening:ue});return Ee&&ls(M,Ee)?Ee:null},"getDroppableScrollChange"),kl=n(function(O){var M=O.state,W=O.dragStartTime,Y=O.shouldUseTimeDampening,le=O.scrollWindow,ue=O.scrollDroppable,Se=M.current.page.borderBoxCenter,Ee=M.dimensions.draggables[M.critical.draggable.id],je=Ee.page.marginBox;if(M.isWindowScrollAllowed){var ut=M.viewport,at=Ia({dragStartTime:W,viewport:ut,subject:je,center:Se,shouldUseTimeDampening:Y});if(at){le(at);return}}var qe=Ki({center:Se,destination:Io(M.impact),droppables:M.dimensions.droppables});if(qe){var Ze=Gd({dragStartTime:W,droppable:qe,subject:je,center:Se,shouldUseTimeDampening:Y});Ze&&ue(qe.descriptor.id,Ze)}},"scroll$1"),tc=n(function(O){var M=O.scrollWindow,W=O.scrollDroppable,Y=tt(M),le=tt(W),ue=null,Se=n(function(at){ue||vn(!1);var qe=ue,Ze=qe.shouldUseTimeDampening,Tt=qe.dragStartTime;kl({state:at,scrollWindow:Y,scrollDroppable:le,dragStartTime:Tt,shouldUseTimeDampening:Ze})},"tryScroll"),Ee=n(function(at){fr(),ue&&vn(!1);var qe=Date.now(),Ze=!1,Tt=n(function(){Ze=!0},"fakeScrollCallback");kl({state:at,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:Tt,scrollDroppable:Tt}),ue={dragStartTime:qe,shouldUseTimeDampening:Ze},br(),Ze&&Se(at)},"start$1"),je=n(function(){ue&&(Y.cancel(),le.cancel(),ue=null)},"stop");return{start:Ee,stop:je,scroll:Se}},"createFluidScroller"),gl=n(function(O){var M=O.move,W=O.scrollDroppable,Y=O.scrollWindow,le=n(function(ut,at){var qe=Cn(ut.current.client.selection,at);M({client:qe})},"moveByOffset"),ue=n(function(ut,at){if(!ls(ut,at))return at;var qe=la(ut,at);if(!qe)return W(ut.descriptor.id,at),null;var Ze=Nn(at,qe);W(ut.descriptor.id,Ze);var Tt=Nn(at,Ze);return Tt},"scrollDroppableAsMuchAsItCan"),Se=n(function(ut,at,qe){if(!ut||!Do(at,qe))return qe;var Ze=zs(at,qe);if(!Ze)return Y(qe),null;var Tt=Nn(qe,Ze);Y(Tt);var Qt=Nn(qe,Tt);return Qt},"scrollWindowAsMuchAsItCan"),Ee=n(function(ut){var at=ut.scrollJumpRequest;if(at){var qe=Io(ut.impact);qe||vn(!1);var Ze=ue(ut.dimensions.droppables[qe],at);if(Ze){var Tt=ut.viewport,Qt=Se(ut.isWindowScrollAllowed,Tt,Ze);Qt&&le(ut,Qt)}}},"jumpScroller");return Ee},"createJumpScroller"),zc=n(function(O){var M=O.scrollDroppable,W=O.scrollWindow,Y=O.move,le=tc({scrollWindow:W,scrollDroppable:M}),ue=gl({move:Y,scrollWindow:W,scrollDroppable:M}),Se=n(function(ut){if(ut.phase==="DRAGGING"){if(ut.movementMode==="FLUID"){le.scroll(ut);return}ut.scrollJumpRequest&&ue(ut)}},"scroll"),Ee={scroll:Se,start:le.start,stop:le.stop};return Ee},"createAutoScroller"),La="data-rbd",Na=function(){var O=La+"-drag-handle";return{base:O,draggableId:O+"-draggable-id",contextId:O+"-context-id"}}(),Ll=function(){var O=La+"-draggable";return{base:O,contextId:O+"-context-id",id:O+"-id"}}(),vl=function(){var O=La+"-droppable";return{base:O,contextId:O+"-context-id",id:O+"-id"}}(),nc={contextId:La+"-scroll-container-context-id"},tl=n(function(M){return function(W){return"["+W+'="'+M+'"]'}},"makeGetSelector"),Fa=n(function(M,W){return M.map(function(Y){var le=Y.styles[W];return le?Y.selector+" { "+le+" }":""}).join(" ")},"getStyles"),wa="pointer-events: none;",ja=n(function(O){var M=tl(O),W=function(){var Ee=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:M(Na.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:Ee,dragging:wa,dropAnimating:Ee}}}(),Y=function(){var Ee=`
      transition: `+hl.outOfTheWay+`;
    `;return{selector:M(Ll.contextId),styles:{dragging:Ee,dropAnimating:Ee,userCancel:Ee}}}(),le={selector:M(vl.contextId),styles:{always:"overflow-anchor: none;"}},ue={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},Se=[Y,W,le,ue];return{always:Fa(Se,"always"),resting:Fa(Se,"resting"),dragging:Fa(Se,"dragging"),dropAnimating:Fa(Se,"dropAnimating"),userCancel:Fa(Se,"userCancel")}},"getStyles$1"),js=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect,Sl=n(function(){var M=document.querySelector("head");return M||vn(!1),M},"getHead"),nl=n(function(M){var W=document.createElement("style");return M&&W.setAttribute("nonce",M),W.type="text/css",W},"createStyleEl");function ic(O,M){var W=Zt(function(){return ja(O)},[O]),Y=(0,d.useRef)(null),le=(0,d.useRef)(null),ue=mn(F(function(qe){var Ze=le.current;Ze||vn(!1),Ze.textContent=qe}),[]),Se=mn(function(qe){var Ze=Y.current;Ze||vn(!1),Ze.textContent=qe},[]);js(function(){!Y.current&&!le.current||vn(!1);var qe=nl(M),Ze=nl(M);return Y.current=qe,le.current=Ze,qe.setAttribute(La+"-always",O),Ze.setAttribute(La+"-dynamic",O),Sl().appendChild(qe),Sl().appendChild(Ze),Se(W.always),ue(W.resting),function(){var Tt=n(function(Mn){var Gn=Mn.current;Gn||vn(!1),Sl().removeChild(Gn),Mn.current=null},"remove");Tt(Y),Tt(le)}},[M,Se,ue,W.always,W.resting,O]);var Ee=mn(function(){return ue(W.dragging)},[ue,W.dragging]),je=mn(function(qe){if(qe==="DROP"){ue(W.dropAnimating);return}ue(W.userCancel)},[ue,W.dropAnimating,W.userCancel]),ut=mn(function(){le.current&&ue(W.resting)},[ue,W.resting]),at=Zt(function(){return{dragging:Ee,dropping:je,resting:ut}},[Ee,je,ut]);return at}n(ic,"useStyleMarshal");var go=n(function(O){return O&&O.ownerDocument?O.ownerDocument.defaultView:window},"getWindowFromEl");function ws(O){return O instanceof go(O).HTMLElement}n(ws,"isHtmlElement");function ao(O,M){var W="["+Na.contextId+'="'+O+'"]',Y=Is(document.querySelectorAll(W));if(!Y.length)return null;var le=no(Y,function(ue){return ue.getAttribute(Na.draggableId)===M});return!le||!ws(le)?null:le}n(ao,"findDragHandle");function Qo(O){var M=(0,d.useRef)({}),W=(0,d.useRef)(null),Y=(0,d.useRef)(null),le=(0,d.useRef)(!1),ue=mn(n(function(Ze,Tt){var Qt={id:Ze,focus:Tt};return M.current[Ze]=Qt,n(function(){var Gn=M.current,Pn=Gn[Ze];Pn!==Qt&&delete Gn[Ze]},"unregister")},"register"),[]),Se=mn(n(function(Ze){var Tt=ao(O,Ze);Tt&&Tt!==document.activeElement&&Tt.focus()},"tryGiveFocus"),[O]),Ee=mn(n(function(Ze,Tt){W.current===Ze&&(W.current=Tt)},"tryShiftRecord"),[]),je=mn(n(function(){Y.current||le.current&&(Y.current=requestAnimationFrame(function(){Y.current=null;var Ze=W.current;Ze&&Se(Ze)}))},"tryRestoreFocusRecorded"),[Se]),ut=mn(n(function(Ze){W.current=null;var Tt=document.activeElement;Tt&&Tt.getAttribute(Na.draggableId)===Ze&&(W.current=Ze)},"tryRecordFocus"),[]);js(function(){return le.current=!0,n(function(){le.current=!1;var Ze=Y.current;Ze&&cancelAnimationFrame(Ze)},"clearFrameOnUnmount")},[]);var at=Zt(function(){return{register:ue,tryRecordFocus:ut,tryRestoreFocusRecorded:je,tryShiftRecord:Ee}},[ue,ut,je,Ee]);return at}n(Qo,"useFocusMarshal");function _o(){var O={draggables:{},droppables:{}},M=[];function W(qe){return M.push(qe),n(function(){var Tt=M.indexOf(qe);Tt!==-1&&M.splice(Tt,1)},"unsubscribe")}n(W,"subscribe");function Y(qe){M.length&&M.forEach(function(Ze){return Ze(qe)})}n(Y,"notify");function le(qe){return O.draggables[qe]||null}n(le,"findDraggableById");function ue(qe){var Ze=le(qe);return Ze||vn(!1),Ze}n(ue,"getDraggableById");var Se={register:n(function(Ze){O.draggables[Ze.descriptor.id]=Ze,Y({type:"ADDITION",value:Ze})},"register"),update:n(function(Ze,Tt){var Qt=O.draggables[Tt.descriptor.id];Qt&&Qt.uniqueId===Ze.uniqueId&&(delete O.draggables[Tt.descriptor.id],O.draggables[Ze.descriptor.id]=Ze)},"update"),unregister:n(function(Ze){var Tt=Ze.descriptor.id,Qt=le(Tt);Qt&&Ze.uniqueId===Qt.uniqueId&&(delete O.draggables[Tt],Y({type:"REMOVAL",value:Ze}))},"unregister"),getById:ue,findById:le,exists:n(function(Ze){return Boolean(le(Ze))},"exists"),getAllByType:n(function(Ze){return Co(O.draggables).filter(function(Tt){return Tt.descriptor.type===Ze})},"getAllByType")};function Ee(qe){return O.droppables[qe]||null}n(Ee,"findDroppableById");function je(qe){var Ze=Ee(qe);return Ze||vn(!1),Ze}n(je,"getDroppableById");var ut={register:n(function(Ze){O.droppables[Ze.descriptor.id]=Ze},"register"),unregister:n(function(Ze){var Tt=Ee(Ze.descriptor.id);Tt&&Ze.uniqueId===Tt.uniqueId&&delete O.droppables[Ze.descriptor.id]},"unregister"),getById:je,findById:Ee,exists:n(function(Ze){return Boolean(Ee(Ze))},"exists"),getAllByType:n(function(Ze){return Co(O.droppables).filter(function(Tt){return Tt.descriptor.type===Ze})},"getAllByType")};function at(){O.draggables={},O.droppables={},M.length=0}return n(at,"clean"),{draggable:Se,droppable:ut,subscribe:W,clean:at}}n(_o,"createRegistry");function fa(){var O=Zt(_o,[]);return(0,d.useEffect)(function(){return n(function(){requestAnimationFrame(O.clean)},"unmount")},[O]),O}n(fa,"useRegistry");var Nl=d.createContext(null),rc=n(function(){var O=document.body;return O||vn(!1),O},"getBodyElement"),Tp={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ip=n(function(M){return"rbd-announcement-"+M},"getId");function xf(O){var M=Zt(function(){return Ip(O)},[O]),W=(0,d.useRef)(null);(0,d.useEffect)(n(function(){var ue=document.createElement("div");return W.current=ue,ue.id=M,ue.setAttribute("aria-live","assertive"),ue.setAttribute("aria-atomic","true"),p(ue.style,Tp),rc().appendChild(ue),n(function(){setTimeout(n(function(){var je=rc();je.contains(ue)&&je.removeChild(ue),ue===W.current&&(W.current=null)},"remove"))},"cleanup")},"setup"),[M]);var Y=mn(function(le){var ue=W.current;if(ue){ue.textContent=le;return}},[]);return Y}n(xf,"useAnnouncer");var zd=0,Bf={separator:"::"};function Uf(){zd=0}n(Uf,"react_beautiful_dnd_esm_reset");function oc(O,M){return M===void 0&&(M=Bf),Zt(function(){return""+O+M.separator+zd++},[M.separator,O])}n(oc,"useUniqueId");function jc(O){var M=O.contextId,W=O.uniqueId;return"rbd-hidden-text-"+M+"-"+W}n(jc,"getElementId");function zu(O){var M=O.contextId,W=O.text,Y=oc("hidden-text",{separator:"-"}),le=Zt(function(){return jc({contextId:M,uniqueId:Y})},[Y,M]);return(0,d.useEffect)(n(function(){var Se=document.createElement("div");return Se.id=le,Se.textContent=W,Se.style.display="none",rc().appendChild(Se),n(function(){var je=rc();je.contains(Se)&&je.removeChild(Se)},"unmount")},"mount"),[le,W]),le}n(zu,"useHiddenTextElement");var $c=d.createContext(null),wp={react:"^16.8.5 || ^17.0.0 || ^18.0.0","react-dom":"^16.8.5 || ^17.0.0 || ^18.0.0"},Vf=/(\d+)\.(\d+)\.(\d+)/,ju=n(function(M){var W=Vf.exec(M);W==null&&vn(!1);var Y=Number(W[1]),le=Number(W[2]),ue=Number(W[3]);return{major:Y,minor:le,patch:ue,raw:M}},"getVersion"),Hf=n(function(M,W){return W.major>M.major?!0:W.major<M.major?!1:W.minor>M.minor?!0:W.minor<M.minor?!1:W.patch>=M.patch},"isSatisfied"),Wf=n(function(O,M){var W=ju(O),Y=ju(M);Hf(W,Y)},"checkReactVersion"),Dp=`
  We expect a html5 doctype: <!doctype html>
  This is to ensure consistent browser layout and measurement

  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md
`,Tr=n(function(O){var M=O.doctype;M&&(M.name.toLowerCase(),M.publicId)},"checkDoctype");function Ap(O){}n(Ap,"useDev");function sc(O,M){}n(sc,"useDevSetupWarning");function Gf(){sc(function(){Wf(wp.react,d.version),Tr(document)},[])}n(Gf,"useStartupValidation");function jd(O){var M=(0,d.useRef)(O);return(0,d.useEffect)(function(){M.current=O}),M}n(jd,"usePrevious");function ac(){var O=null;function M(){return Boolean(O)}n(M,"isClaimed");function W(Se){return Se===O}n(W,"isActive");function Y(Se){O&&vn(!1);var Ee={abandon:Se};return O=Ee,Ee}n(Y,"claim");function le(){O||vn(!1),O=null}n(le,"release");function ue(){O&&(O.abandon(),le())}return n(ue,"tryAbandon"),{isClaimed:M,isActive:W,claim:Y,release:le,tryAbandon:ue}}n(ac,"create");var $d=9,$u=13,Kc=27,Ku=32,zf=33,Jc=34,jf=35,Kd=36,$f=37,Jd=38,Kf=39,Jf=40,Yc,Op=(Yc={},Yc[$u]=!0,Yc[$d]=!0,Yc),Yf=n(function(O){Op[O.keyCode]&&O.preventDefault()},"preventStandardKeyEvents"),Yd=function(){var O="visibilitychange";if(typeof document>"u")return O;var M=[O,"ms"+O,"webkit"+O,"moz"+O,"o"+O],W=no(M,function(Y){return"on"+Y in document});return W||O}(),Xf=0,Ju=5;function Yu(O,M){return Math.abs(M.x-O.x)>=Ju||Math.abs(M.y-O.y)>=Ju}n(Yu,"isSloppyClickThresholdExceeded");var Xd={type:"IDLE"};function Qd(O){var M=O.cancel,W=O.completed,Y=O.getPhase,le=O.setPhase;return[{eventName:"mousemove",fn:n(function(Se){var Ee=Se.button,je=Se.clientX,ut=Se.clientY;if(Ee===Xf){var at={x:je,y:ut},qe=Y();if(qe.type==="DRAGGING"){Se.preventDefault(),qe.actions.move(at);return}qe.type!=="PENDING"&&vn(!1);var Ze=qe.point;if(Yu(Ze,at)){Se.preventDefault();var Tt=qe.actions.fluidLift(at);le({type:"DRAGGING",actions:Tt})}}},"fn")},{eventName:"mouseup",fn:n(function(Se){var Ee=Y();if(Ee.type!=="DRAGGING"){M();return}Se.preventDefault(),Ee.actions.drop({shouldBlockNextClick:!0}),W()},"fn")},{eventName:"mousedown",fn:n(function(Se){Y().type==="DRAGGING"&&Se.preventDefault(),M()},"fn")},{eventName:"keydown",fn:n(function(Se){var Ee=Y();if(Ee.type==="PENDING"){M();return}if(Se.keyCode===Kc){Se.preventDefault(),M();return}Yf(Se)},"fn")},{eventName:"resize",fn:M},{eventName:"scroll",options:{passive:!0,capture:!1},fn:n(function(){Y().type==="PENDING"&&M()},"fn")},{eventName:"webkitmouseforcedown",fn:n(function(Se){var Ee=Y();if(Ee.type==="IDLE"&&vn(!1),Ee.actions.shouldRespectForcePress()){M();return}Se.preventDefault()},"fn")},{eventName:Yd,fn:M}]}n(Qd,"getCaptureBindings");function Qf(O){var M=(0,d.useRef)(Xd),W=(0,d.useRef)(Ar),Y=Zt(function(){return{eventName:"mousedown",fn:n(function(qe){if(!qe.defaultPrevented&&qe.button===Xf&&!(qe.ctrlKey||qe.metaKey||qe.shiftKey||qe.altKey)){var Ze=O.findClosestDraggableId(qe);if(Ze){var Tt=O.tryGetLock(Ze,Se,{sourceEvent:qe});if(Tt){qe.preventDefault();var Qt={x:qe.clientX,y:qe.clientY};W.current(),ut(Tt,Qt)}}}},"onMouseDown")}},[O]),le=Zt(function(){return{eventName:"webkitmouseforcewillbegin",fn:n(function(qe){if(!qe.defaultPrevented){var Ze=O.findClosestDraggableId(qe);if(Ze){var Tt=O.findOptionsForDraggable(Ze);Tt&&(Tt.shouldRespectForcePress||O.canGetLock(Ze)&&qe.preventDefault())}}},"fn")}},[O]),ue=mn(n(function(){var qe={passive:!1,capture:!0};W.current=hi(window,[le,Y],qe)},"listenForCapture"),[le,Y]),Se=mn(function(){var at=M.current;at.type!=="IDLE"&&(M.current=Xd,W.current(),ue())},[ue]),Ee=mn(function(){var at=M.current;Se(),at.type==="DRAGGING"&&at.actions.cancel({shouldBlockNextClick:!0}),at.type==="PENDING"&&at.actions.abort()},[Se]),je=mn(n(function(){var qe={capture:!0,passive:!1},Ze=Qd({cancel:Ee,completed:Se,getPhase:n(function(){return M.current},"getPhase"),setPhase:n(function(Qt){M.current=Qt},"setPhase")});W.current=hi(window,Ze,qe)},"bindCapturingEvents"),[Ee,Se]),ut=mn(n(function(qe,Ze){M.current.type!=="IDLE"&&vn(!1),M.current={type:"PENDING",point:Ze,actions:qe},je()},"startPendingDrag"),[je]);js(n(function(){return ue(),n(function(){W.current()},"unmount")},"mount"),[ue])}n(Qf,"useMouseSensor");var il;function Xu(){}n(Xu,"noop$1");var Zf=(il={},il[Jc]=!0,il[zf]=!0,il[Kd]=!0,il[jf]=!0,il);function qf(O,M){function W(){M(),O.cancel()}n(W,"cancel");function Y(){M(),O.drop()}return n(Y,"drop"),[{eventName:"keydown",fn:n(function(ue){if(ue.keyCode===Kc){ue.preventDefault(),W();return}if(ue.keyCode===Ku){ue.preventDefault(),Y();return}if(ue.keyCode===Jf){ue.preventDefault(),O.moveDown();return}if(ue.keyCode===Jd){ue.preventDefault(),O.moveUp();return}if(ue.keyCode===Kf){ue.preventDefault(),O.moveRight();return}if(ue.keyCode===$f){ue.preventDefault(),O.moveLeft();return}if(Zf[ue.keyCode]){ue.preventDefault();return}Yf(ue)},"fn")},{eventName:"mousedown",fn:W},{eventName:"mouseup",fn:W},{eventName:"click",fn:W},{eventName:"touchstart",fn:W},{eventName:"resize",fn:W},{eventName:"wheel",fn:W,options:{passive:!0}},{eventName:Yd,fn:W}]}n(qf,"getDraggingBindings");function eh(O){var M=(0,d.useRef)(Xu),W=Zt(function(){return{eventName:"keydown",fn:n(function(ue){if(ue.defaultPrevented||ue.keyCode!==Ku)return;var Se=O.findClosestDraggableId(ue);if(!Se)return;var Ee=O.tryGetLock(Se,at,{sourceEvent:ue});if(!Ee)return;ue.preventDefault();var je=!0,ut=Ee.snapLift();M.current();function at(){je||vn(!1),je=!1,M.current(),Y()}n(at,"stop"),M.current=hi(window,qf(ut,at),{capture:!0,passive:!1})},"onKeyDown")}},[O]),Y=mn(n(function(){var ue={passive:!1,capture:!0};M.current=hi(window,[W],ue)},"tryStartCapture"),[W]);js(n(function(){return Y(),n(function(){M.current()},"unmount")},"mount"),[Y])}n(eh,"useKeyboardSensor");var yl={type:"IDLE"},th=120,nh=.15;function ih(O){var M=O.cancel,W=O.getPhase;return[{eventName:"orientationchange",fn:M},{eventName:"resize",fn:M},{eventName:"contextmenu",fn:n(function(le){le.preventDefault()},"fn")},{eventName:"keydown",fn:n(function(le){if(W().type!=="DRAGGING"){M();return}le.keyCode===Kc&&le.preventDefault(),M()},"fn")},{eventName:Yd,fn:M}]}n(ih,"getWindowBindings");function rh(O){var M=O.cancel,W=O.completed,Y=O.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:n(function(ue){var Se=Y();if(Se.type!=="DRAGGING"){M();return}Se.hasMoved=!0;var Ee=ue.touches[0],je=Ee.clientX,ut=Ee.clientY,at={x:je,y:ut};ue.preventDefault(),Se.actions.move(at)},"fn")},{eventName:"touchend",fn:n(function(ue){var Se=Y();if(Se.type!=="DRAGGING"){M();return}ue.preventDefault(),Se.actions.drop({shouldBlockNextClick:!0}),W()},"fn")},{eventName:"touchcancel",fn:n(function(ue){if(Y().type!=="DRAGGING"){M();return}ue.preventDefault(),M()},"fn")},{eventName:"touchforcechange",fn:n(function(ue){var Se=Y();Se.type==="IDLE"&&vn(!1);var Ee=ue.touches[0];if(Ee){var je=Ee.force>=nh;if(je){var ut=Se.actions.shouldRespectForcePress();if(Se.type==="PENDING"){ut&&M();return}if(ut){if(Se.hasMoved){ue.preventDefault();return}M();return}ue.preventDefault()}}},"fn")},{eventName:Yd,fn:M}]}n(rh,"getHandleBindings");function oh(O){var M=(0,d.useRef)(yl),W=(0,d.useRef)(Ar),Y=mn(n(function(){return M.current},"getPhase"),[]),le=mn(n(function(Tt){M.current=Tt},"setPhase"),[]),ue=Zt(function(){return{eventName:"touchstart",fn:n(function(Tt){if(!Tt.defaultPrevented){var Qt=O.findClosestDraggableId(Tt);if(Qt){var Mn=O.tryGetLock(Qt,Ee,{sourceEvent:Tt});if(Mn){var Gn=Tt.touches[0],Pn=Gn.clientX,ii=Gn.clientY,Pi={x:Pn,y:ii};W.current(),qe(Mn,Pi)}}}},"onTouchStart")}},[O]),Se=mn(n(function(){var Tt={capture:!0,passive:!1};W.current=hi(window,[ue],Tt)},"listenForCapture"),[ue]),Ee=mn(function(){var Ze=M.current;Ze.type!=="IDLE"&&(Ze.type==="PENDING"&&clearTimeout(Ze.longPressTimerId),le(yl),W.current(),Se())},[Se,le]),je=mn(function(){var Ze=M.current;Ee(),Ze.type==="DRAGGING"&&Ze.actions.cancel({shouldBlockNextClick:!0}),Ze.type==="PENDING"&&Ze.actions.abort()},[Ee]),ut=mn(n(function(){var Tt={capture:!0,passive:!1},Qt={cancel:je,completed:Ee,getPhase:Y},Mn=hi(window,rh(Qt),Tt),Gn=hi(window,ih(Qt),Tt);W.current=n(function(){Mn(),Gn()},"unbindAll")},"bindCapturingEvents"),[je,Y,Ee]),at=mn(n(function(){var Tt=Y();Tt.type!=="PENDING"&&vn(!1);var Qt=Tt.actions.fluidLift(Tt.point);le({type:"DRAGGING",actions:Qt,hasMoved:!1})},"startDragging"),[Y,le]),qe=mn(n(function(Tt,Qt){Y().type!=="IDLE"&&vn(!1);var Mn=setTimeout(at,th);le({type:"PENDING",point:Qt,actions:Tt,longPressTimerId:Mn}),ut()},"startPendingDrag"),[ut,Y,le,at]);js(n(function(){return Se(),n(function(){W.current();var Qt=Y();Qt.type==="PENDING"&&(clearTimeout(Qt.longPressTimerId),le(yl))},"unmount")},"mount"),[Y,Se,le]),js(n(function(){var Tt=hi(window,[{eventName:"touchmove",fn:n(function(){},"fn"),options:{capture:!1,passive:!1}}]);return Tt},"webkitHack"),[])}n(oh,"useTouchSensor");function sh(O){}n(sh,"useValidateSensorHooks");var ah={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Qu(O,M){if(M==null)return!1;var W=Boolean(ah[M.tagName.toLowerCase()]);if(W)return!0;var Y=M.getAttribute("contenteditable");return Y==="true"||Y===""?!0:M===O?!1:Qu(O,M.parentElement)}n(Qu,"isAnInteractiveElement");function lh(O,M){var W=M.target;return ws(W)?Qu(O,W):!1}n(lh,"isEventInInteractiveElement");var ch=n(function(O){return nn(O.getBoundingClientRect()).center},"getBorderBoxCenterPosition");function dh(O){return O instanceof go(O).Element}n(dh,"isElement");var uh=function(){var O="matches";if(typeof document>"u")return O;var M=[O,"msMatchesSelector","webkitMatchesSelector"],W=no(M,function(Y){return Y in Element.prototype});return W||O}();function Zu(O,M){return O==null?null:O[uh](M)?O:Zu(O.parentElement,M)}n(Zu,"closestPonyfill");function Rp(O,M){return O.closest?O.closest(M):Zu(O,M)}n(Rp,"closest$1");function ha(O){return"["+Na.contextId+'="'+O+'"]'}n(ha,"getSelector");function fh(O,M){var W=M.target;if(!dh(W))return null;var Y=ha(O),le=Rp(W,Y);return!le||!ws(le)?null:le}n(fh,"findClosestDragHandleFromEvent");function hh(O,M){var W=fh(O,M);return W?W.getAttribute(Na.draggableId):null}n(hh,"tryGetClosestDraggableIdFromEvent");function ph(O,M){var W="["+Ll.contextId+'="'+O+'"]',Y=Is(document.querySelectorAll(W)),le=no(Y,function(ue){return ue.getAttribute(Ll.id)===M});return!le||!ws(le)?null:le}n(ph,"findDraggable");function mh(O){O.preventDefault()}n(mh,"preventDefault");function _l(O){var M=O.expected,W=O.phase,Y=O.isLockActive,le=O.shouldWarn;return!(!Y()||M!==W)}n(_l,"_isActive");function qu(O){var M=O.lockAPI,W=O.store,Y=O.registry,le=O.draggableId;if(M.isClaimed())return!1;var ue=Y.draggable.findById(le);return!(!ue||!ue.options.isEnabled||!Rn(W.getState(),le))}n(qu,"canStart");function gh(O){var M=O.lockAPI,W=O.contextId,Y=O.store,le=O.registry,ue=O.draggableId,Se=O.forceSensorStop,Ee=O.sourceEvent,je=qu({lockAPI:M,store:Y,registry:le,draggableId:ue});if(!je)return null;var ut=le.draggable.getById(ue),at=ph(W,ut.descriptor.id);if(!at||Ee&&!ut.options.canDragInteractiveElements&&lh(at,Ee))return null;var qe=M.claim(Se||Ar),Ze="PRE_DRAG";function Tt(){return ut.options.shouldRespectForcePress}n(Tt,"getShouldRespectForcePress");function Qt(){return M.isActive(qe)}n(Qt,"isLockActive");function Mn(Or,Yr){_l({expected:Or,phase:Ze,isLockActive:Qt,shouldWarn:!0})&&Y.dispatch(Yr())}n(Mn,"tryDispatch");var Gn=Mn.bind(null,"DRAGGING");function Pn(Or){function Yr(){M.release(),Ze="COMPLETED"}n(Yr,"completed"),Ze!=="PRE_DRAG"&&(Yr(),Ze!=="PRE_DRAG"&&vn(!1)),Y.dispatch(Xi(Or.liftActionArgs)),Ze="DRAGGING";function jo(qr,$o){if($o===void 0&&($o={shouldBlockNextClick:!1}),Or.cleanup(),$o.shouldBlockNextClick){var _s=hi(window,[{eventName:"click",fn:mh,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(_s)}Yr(),Y.dispatch(el({reason:qr}))}return n(jo,"finish"),p({isActive:n(function(){return _l({expected:"DRAGGING",phase:Ze,isLockActive:Qt,shouldWarn:!1})},"isActive"),shouldRespectForcePress:Tt,drop:n(function($o){return jo("DROP",$o)},"drop"),cancel:n(function($o){return jo("CANCEL",$o)},"cancel")},Or.actions)}n(Pn,"lift$1");function ii(Or){var Yr=tt(function(qr){Gn(function(){return ds({client:qr})})}),jo=Pn({liftActionArgs:{id:ue,clientSelection:Or,movementMode:"FLUID"},cleanup:n(function(){return Yr.cancel()},"cleanup"),actions:{move:Yr}});return p({},jo,{move:Yr})}n(ii,"fluidLift");function Pi(){var Or={moveUp:n(function(){return Gn(Xo)},"moveUp$1"),moveRight:n(function(){return Gn(Pa)},"moveRight$1"),moveDown:n(function(){return Gn(Ca)},"moveDown$1"),moveLeft:n(function(){return Gn(aa)},"moveLeft$1")};return Pn({liftActionArgs:{id:ue,clientSelection:ch(at),movementMode:"SNAP"},cleanup:Ar,actions:Or})}n(Pi,"snapLift");function zi(){var Or=_l({expected:"PRE_DRAG",phase:Ze,isLockActive:Qt,shouldWarn:!0});Or&&M.release()}n(zi,"abortPreDrag");var Pr={isActive:n(function(){return _l({expected:"PRE_DRAG",phase:Ze,isLockActive:Qt,shouldWarn:!1})},"isActive"),shouldRespectForcePress:Tt,fluidLift:ii,snapLift:Pi,abort:zi};return Pr}n(gh,"tryStart");var vh=[Qf,eh,oh];function Sh(O){var M=O.contextId,W=O.store,Y=O.registry,le=O.customSensors,ue=O.enableDefaultSensors,Se=[].concat(ue?vh:[],le||[]),Ee=(0,d.useState)(function(){return ac()})[0],je=mn(n(function(ii,Pi){ii.isDragging&&!Pi.isDragging&&Ee.tryAbandon()},"tryAbandonLock"),[Ee]);js(n(function(){var ii=W.getState(),Pi=W.subscribe(function(){var zi=W.getState();je(ii,zi),ii=zi});return Pi},"listenToStore"),[Ee,W,je]),js(function(){return Ee.tryAbandon},[Ee.tryAbandon]);var ut=mn(function(Pn){return qu({lockAPI:Ee,registry:Y,store:W,draggableId:Pn})},[Ee,Y,W]),at=mn(function(Pn,ii,Pi){return gh({lockAPI:Ee,registry:Y,contextId:M,store:W,draggableId:Pn,forceSensorStop:ii,sourceEvent:Pi&&Pi.sourceEvent?Pi.sourceEvent:null})},[M,Ee,Y,W]),qe=mn(function(Pn){return hh(M,Pn)},[M]),Ze=mn(function(Pn){var ii=Y.draggable.findById(Pn);return ii?ii.options:null},[Y.draggable]),Tt=mn(n(function(){Ee.isClaimed()&&(Ee.tryAbandon(),W.getState().phase!=="IDLE"&&W.dispatch(Xs()))},"tryReleaseLock"),[Ee,W]),Qt=mn(Ee.isClaimed,[Ee]),Mn=Zt(function(){return{canGetLock:ut,tryGetLock:at,findClosestDraggableId:qe,findOptionsForDraggable:Ze,tryReleaseLock:Tt,isLockClaimed:Qt}},[ut,at,qe,Ze,Tt,Qt]);sh(Se);for(var Gn=0;Gn<Se.length;Gn++)Se[Gn](Mn)}n(Sh,"useSensorMarshal");var yh=n(function(M){return{onBeforeCapture:M.onBeforeCapture,onBeforeDragStart:M.onBeforeDragStart,onDragStart:M.onDragStart,onDragEnd:M.onDragEnd,onDragUpdate:M.onDragUpdate}},"createResponders");function Fl(O){return O.current||vn(!1),O.current}n(Fl,"getStore");function Mp(O){var M=O.contextId,W=O.setCallbacks,Y=O.sensors,le=O.nonce,ue=O.dragHandleUsageInstructions,Se=(0,d.useRef)(null);Gf();var Ee=jd(O),je=mn(function(){return yh(Ee.current)},[Ee]),ut=xf(M),at=zu({contextId:M,text:ue}),qe=ic(M,le),Ze=mn(function(qr){Fl(Se).dispatch(qr)},[]),Tt=Zt(function(){return P({publishWhileDragging:rr,updateDroppableScroll:ts,updateDroppableIsEnabled:Vr,updateDroppableIsCombineEnabled:Ro,collectionStarting:Br},Ze)},[Ze]),Qt=fa(),Mn=Zt(function(){return en(Qt,Tt)},[Qt,Tt]),Gn=Zt(function(){return zc(p({scrollWindow:Wn,scrollDroppable:Mn.scrollDroppable},P({move:ds},Ze)))},[Mn.scrollDroppable,Ze]),Pn=Qo(M),ii=Zt(function(){return H({announce:ut,autoScroller:Gn,dimensionMarshal:Mn,focusMarshal:Pn,getResponders:je,styleMarshal:qe})},[ut,Gn,Mn,Pn,je,qe]);Se.current=ii;var Pi=mn(function(){var qr=Fl(Se),$o=qr.getState();$o.phase!=="IDLE"&&qr.dispatch(Xs())},[]),zi=mn(function(){var qr=Fl(Se).getState();return qr.isDragging||qr.phase==="DROP_ANIMATING"},[]),Pr=Zt(function(){return{isDragging:zi,tryAbort:Pi}},[zi,Pi]);W(Pr);var Or=mn(function(qr){return Rn(Fl(Se).getState(),qr)},[]),Yr=mn(function(){return Mi(Fl(Se).getState())},[]),jo=Zt(function(){return{marshal:Mn,focus:Pn,contextId:M,canLift:Or,isMovementAllowed:Yr,dragHandleUsageInstructionsId:at,registry:Qt}},[M,Mn,at,Pn,Or,Yr,Qt]);return Sh({contextId:M,store:ii,registry:Qt,customSensors:Y,enableDefaultSensors:O.enableDefaultSensors!==!1}),(0,d.useEffect)(function(){return Pi},[Pi]),d.createElement($c.Provider,{value:jo},d.createElement(rt,{context:Nl,store:ii},O.children))}n(Mp,"App");var ef=0;function _h(){ef=0}n(_h,"reset$1");function tf(){return Zt(function(){return""+ef++},[])}n(tf,"useInstanceCount");function Pp(){_h(),Uf()}n(Pp,"resetServerContext");function bh(O){var M=tf(),W=O.dragHandleUsageInstructions||Lt.dragHandleUsageInstructions;return d.createElement(Oi,null,function(Y){return d.createElement(Mp,{nonce:O.nonce,contextId:M,setCallbacks:Y,dragHandleUsageInstructions:W,enableDefaultSensors:O.enableDefaultSensors,sensors:O.sensors,onBeforeCapture:O.onBeforeCapture,onBeforeDragStart:O.onBeforeDragStart,onDragStart:O.onDragStart,onDragUpdate:O.onDragUpdate,onDragEnd:O.onDragEnd},O.children)})}n(bh,"DragDropContext");var Xc=n(function(M){return function(W){return M===W}},"isEqual"),Eh=Xc("scroll"),nf=Xc("auto"),Zd=Xc("visible"),qd=n(function(M,W){return W(M.overflowX)||W(M.overflowY)},"isEither"),Ch=n(function(M,W){return W(M.overflowX)&&W(M.overflowY)},"isBoth"),eu=n(function(M){var W=window.getComputedStyle(M),Y={overflowX:W.overflowX,overflowY:W.overflowY};return qd(Y,Eh)||qd(Y,nf)},"isElementScrollable"),lc=n(function(){return!1;var M,W,Y,le},"isBodyScrollable"),rf=n(function O(M){return M==null?null:M===document.body?lc()?M:null:M===document.documentElement?null:eu(M)?M:O(M.parentElement)},"getClosestScrollable"),Th=n(function(O){if(O)var M=rf(O.parentElement)},"checkForNestedScrollContainers"),of=n(function(O){return{x:O.scrollLeft,y:O.scrollTop}},"getScroll$1"),sf=n(function O(M){if(!M)return!1;var W=window.getComputedStyle(M);return W.position==="fixed"?!0:O(M.parentElement)},"getIsFixed"),xa=n(function(O){var M=rf(O),W=sf(O);return{closestScrollable:M,isFixedOnPage:W}},"getEnv"),Ba=n(function(O){var M=O.descriptor,W=O.isEnabled,Y=O.isCombineEnabled,le=O.isFixedOnPage,ue=O.direction,Se=O.client,Ee=O.page,je=O.closest,ut=function(){if(!je)return null;var Tt=je.scrollSize,Qt=je.client,Mn=Oe({scrollHeight:Tt.scrollHeight,scrollWidth:Tt.scrollWidth,height:Qt.paddingBox.height,width:Qt.paddingBox.width});return{pageMarginBox:je.page.marginBox,frameClient:Qt,scrollSize:Tt,shouldClipSubject:je.shouldClipSubject,scroll:{initial:je.scroll,current:je.scroll,max:Mn,diff:{value:xt,displacement:xt}}}}(),at=ue==="vertical"?ro:Oo,qe=Hr({page:Ee,withPlaceholder:null,axis:at,frame:ut}),Ze={descriptor:M,isCombineEnabled:Y,isFixedOnPage:le,axis:at,isEnabled:W,client:Se,page:Ee,frame:ut,subject:qe};return Ze},"getDroppableDimension"),xl=n(function(M,W){var Y=io(M);if(!W||M!==W)return Y;var le=Y.paddingBox.top-W.scrollTop,ue=Y.paddingBox.left-W.scrollLeft,Se=le+W.scrollHeight,Ee=ue+W.scrollWidth,je={top:le,right:Ee,bottom:Se,left:ue},ut=ni(je,Y.border),at=Ei({borderBox:ut,margin:Y.margin,border:Y.border,padding:Y.padding});return at},"getClient"),af=n(function(O){var M=O.ref,W=O.descriptor,Y=O.env,le=O.windowScroll,ue=O.direction,Se=O.isDropDisabled,Ee=O.isCombineEnabled,je=O.shouldClipSubject,ut=Y.closestScrollable,at=xl(M,ut),qe=Dr(at,le),Ze=function(){if(!ut)return null;var Qt=io(ut),Mn={scrollHeight:ut.scrollHeight,scrollWidth:ut.scrollWidth};return{client:Qt,page:Dr(Qt,le),scroll:of(ut),scrollSize:Mn,shouldClipSubject:je}}(),Tt=Ba({descriptor:W,isEnabled:!Se,isCombineEnabled:Ee,isFixedOnPage:Y.isFixedOnPage,direction:ue,client:at,page:qe,closest:Ze});return Tt},"getDimension"),lf={passive:!1},cc={passive:!0},bl=n(function(O){return O.shouldPublishImmediately?lf:cc},"getListenerOptions");function rl(O){var M=(0,d.useContext)(O);return M||vn(!1),M}n(rl,"useRequiredContext");var pa=n(function(M){return M&&M.env.closestScrollable||null},"getClosestScrollableFromDrag");function tu(O){var M=(0,d.useRef)(null),W=rl($c),Y=oc("droppable"),le=W.registry,ue=W.marshal,Se=jd(O),Ee=Zt(function(){return{id:O.droppableId,type:O.type,mode:O.mode}},[O.droppableId,O.mode,O.type]),je=(0,d.useRef)(Ee),ut=Zt(function(){return F(function(zi,Pr){M.current||vn(!1);var Or={x:zi,y:Pr};ue.updateDroppableScroll(Ee.id,Or)})},[Ee.id,ue]),at=mn(function(){var zi=M.current;return!zi||!zi.env.closestScrollable?xt:of(zi.env.closestScrollable)},[]),qe=mn(function(){var zi=at();ut(zi.x,zi.y)},[at,ut]),Ze=Zt(function(){return tt(qe)},[qe]),Tt=mn(function(){var zi=M.current,Pr=pa(zi);zi&&Pr||vn(!1);var Or=zi.scrollOptions;if(Or.shouldPublishImmediately){qe();return}Ze()},[Ze,qe]),Qt=mn(function(zi,Pr){M.current&&vn(!1);var Or=Se.current,Yr=Or.getDroppableRef();Yr||vn(!1);var jo=xa(Yr),qr={ref:Yr,descriptor:Ee,env:jo,scrollOptions:Pr};M.current=qr;var $o=af({ref:Yr,descriptor:Ee,env:jo,windowScroll:zi,direction:Or.direction,isDropDisabled:Or.isDropDisabled,isCombineEnabled:Or.isCombineEnabled,shouldClipSubject:!Or.ignoreContainerClipping}),_s=jo.closestScrollable;return _s&&(_s.setAttribute(nc.contextId,W.contextId),_s.addEventListener("scroll",Tt,bl(qr.scrollOptions))),$o},[W.contextId,Ee,Tt,Se]),Mn=mn(function(){var zi=M.current,Pr=pa(zi);return zi&&Pr||vn(!1),of(Pr)},[]),Gn=mn(function(){var zi=M.current;zi||vn(!1);var Pr=pa(zi);M.current=null,Pr&&(Ze.cancel(),Pr.removeAttribute(nc.contextId),Pr.removeEventListener("scroll",Tt,bl(zi.scrollOptions)))},[Tt,Ze]),Pn=mn(function(zi){var Pr=M.current;Pr||vn(!1);var Or=pa(Pr);Or||vn(!1),Or.scrollTop+=zi.y,Or.scrollLeft+=zi.x},[]),ii=Zt(function(){return{getDimensionAndWatchScroll:Qt,getScrollWhileDragging:Mn,dragStopped:Gn,scroll:Pn}},[Gn,Qt,Mn,Pn]),Pi=Zt(function(){return{uniqueId:Y,descriptor:Ee,callbacks:ii}},[ii,Ee,Y]);js(function(){return je.current=Pi.descriptor,le.droppable.register(Pi),function(){M.current&&Gn(),le.droppable.unregister(Pi)}},[ii,Ee,Gn,Pi,ue,le.droppable]),js(function(){M.current&&ue.updateDroppableIsEnabled(je.current.id,!O.isDropDisabled)},[O.isDropDisabled,ue]),js(function(){M.current&&ue.updateDroppableIsCombineEnabled(je.current.id,O.isCombineEnabled)},[O.isCombineEnabled,ue])}n(tu,"useDroppablePublisher");function Qc(){}n(Qc,"noop$2");var nu={width:0,height:0,margin:ki},cf=n(function(M){var W=M.isAnimatingOpenOnMount,Y=M.placeholder,le=M.animate;return W||le==="close"?nu:{height:Y.client.borderBox.height,width:Y.client.borderBox.width,margin:Y.client.margin}},"getSize"),df=n(function(M){var W=M.isAnimatingOpenOnMount,Y=M.placeholder,le=M.animate,ue=cf({isAnimatingOpenOnMount:W,placeholder:Y,animate:le});return{display:Y.display,boxSizing:"border-box",width:ue.width,height:ue.height,marginTop:ue.margin.top,marginRight:ue.margin.right,marginBottom:ue.margin.bottom,marginLeft:ue.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:le!=="none"?hl.placeholder:null}},"getStyle");function uf(O){var M=(0,d.useRef)(null),W=mn(function(){M.current&&(clearTimeout(M.current),M.current=null)},[]),Y=O.animate,le=O.onTransitionEnd,ue=O.onClose,Se=O.contextId,Ee=(0,d.useState)(O.animate==="open"),je=Ee[0],ut=Ee[1];(0,d.useEffect)(function(){return je?Y!=="open"?(W(),ut(!1),Qc):M.current?Qc:(M.current=setTimeout(function(){M.current=null,ut(!1)}),W):Qc},[Y,je,W]);var at=mn(function(Ze){Ze.propertyName==="height"&&(le(),Y==="close"&&ue())},[Y,ue,le]),qe=df({isAnimatingOpenOnMount:je,animate:O.animate,placeholder:O.placeholder});return d.createElement(O.placeholder.tagName,{style:qe,"data-rbd-placeholder-context-id":Se,onTransitionEnd:at,ref:O.innerRef})}n(uf,"Placeholder");var Ua=d.memo(uf),Zc=d.createContext(null);function iu(O){O&&ws(O)||vn(!1)}n(iu,"checkIsValidInnerRef");function qc(O){return typeof O=="boolean"}n(qc,"isBoolean");function ed(O,M){M.forEach(function(W){return W(O)})}n(ed,"runChecks");var ff=[n(function(M){var W=M.props;W.droppableId||vn(!1),typeof W.droppableId!="string"&&vn(!1)},"required"),n(function(M){var W=M.props;qc(W.isDropDisabled)||vn(!1),qc(W.isCombineEnabled)||vn(!1),qc(W.ignoreContainerClipping)||vn(!1)},"_boolean"),n(function(M){var W=M.getDroppableRef;iu(W())},"ref")],kp=[n(function(M){var W=M.props,Y=M.getPlaceholderRef;if(W.placeholder)var le=Y()},"placeholder")],Ih=[n(function(M){var W=M.props;W.renderClone||vn(!1)},"hasClone"),n(function(M){var W=M.getPlaceholderRef;W()&&vn(!1)},"hasNoPlaceholder")];function wh(O){sc(function(){ed(O,ff),O.props.mode==="standard"&&ed(O,kp),O.props.mode==="virtual"&&ed(O,Ih)})}n(wh,"useValidation");var Dh=function(O){m(M,O);function M(){for(var Y,le=arguments.length,ue=new Array(le),Se=0;Se<le;Se++)ue[Se]=arguments[Se];return Y=O.call.apply(O,[this].concat(ue))||this,Y.state={isVisible:Boolean(Y.props.on),data:Y.props.on,animate:Y.props.shouldAnimate&&Y.props.on?"open":"none"},Y.onClose=function(){Y.state.animate==="close"&&Y.setState({isVisible:!1})},Y}n(M,"AnimateInOut"),M.getDerivedStateFromProps=n(function(le,ue){return le.shouldAnimate?le.on?{isVisible:!0,data:le.on,animate:"open"}:ue.isVisible?{isVisible:!0,data:ue.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(le.on),data:le.on,animate:"none"}},"getDerivedStateFromProps");var W=M.prototype;return W.render=n(function(){if(!this.state.isVisible)return null;var le={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(le)},"render"),M}(d.PureComponent),hf={dragging:5e3,dropAnimating:4500},dc=n(function(M,W){return W?hl.drop(W.duration):M?hl.snap:hl.fluid},"getDraggingTransition"),ru=n(function(M,W){return M?W?fl.opacity.drop:fl.opacity.combining:null},"getDraggingOpacity"),ou=n(function(M){return M.forceShouldAnimate!=null?M.forceShouldAnimate:M.mode==="SNAP"},"getShouldDraggingAnimate");function Lp(O){var M=O.dimension,W=M.client,Y=O.offset,le=O.combineWith,ue=O.dropping,Se=Boolean(le),Ee=ou(O),je=Boolean(ue),ut=je?Jl.drop(Y,Se):Jl.moveTo(Y),at={position:"fixed",top:W.marginBox.top,left:W.marginBox.left,boxSizing:"border-box",width:W.borderBox.width,height:W.borderBox.height,transition:dc(Ee,ue),transform:ut,opacity:ru(Se,je),zIndex:je?hf.dropAnimating:hf.dragging,pointerEvents:"none"};return at}n(Lp,"getDraggingStyle");function Ah(O){return{transform:Jl.moveTo(O.offset),transition:O.shouldAnimateDisplacement?null:"none"}}n(Ah,"getSecondaryStyle");function Oh(O){return O.type==="DRAGGING"?Lp(O):Ah(O)}n(Oh,"getStyle$1");function Rh(O,M,W){W===void 0&&(W=xt);var Y=window.getComputedStyle(M),le=M.getBoundingClientRect(),ue=Yi(le,Y),Se=Dr(ue,W),Ee={client:ue,tagName:M.tagName.toLowerCase(),display:Y.display},je={x:ue.marginBox.width,y:ue.marginBox.height},ut={descriptor:O,placeholder:Ee,displaceBy:je,client:ue,page:Se};return ut}n(Rh,"getDimension$1");function Mh(O){var M=oc("draggable"),W=O.descriptor,Y=O.registry,le=O.getDraggableRef,ue=O.canDragInteractiveElements,Se=O.shouldRespectForcePress,Ee=O.isEnabled,je=Zt(function(){return{canDragInteractiveElements:ue,shouldRespectForcePress:Se,isEnabled:Ee}},[ue,Ee,Se]),ut=mn(function(Tt){var Qt=le();return Qt||vn(!1),Rh(W,Qt,Tt)},[W,le]),at=Zt(function(){return{uniqueId:M,descriptor:W,options:je,getDimension:ut}},[W,ut,je,M]),qe=(0,d.useRef)(at),Ze=(0,d.useRef)(!0);js(function(){return Y.draggable.register(qe.current),function(){return Y.draggable.unregister(qe.current)}},[Y.draggable]),js(function(){if(Ze.current){Ze.current=!1;return}var Tt=qe.current;qe.current=at,Y.draggable.update(at,Tt)},[at,Y.draggable])}n(Mh,"useDraggablePublisher");function Ph(O,M,W){sc(function(){function Y(ue){return"Draggable[id: "+ue+"]: "}n(Y,"prefix");var le=O.draggableId;le||vn(!1),typeof le!="string"&&vn(!1),er(O.index)||vn(!1),O.mapped.type!=="DRAGGING"&&(iu(W()),O.isEnabled&&(ao(M,le)||vn(!1)))})}n(Ph,"useValidation$1");function kh(O){}n(kh,"useClonePropValidation");function Lh(O){O.preventDefault()}n(Lh,"preventHtml5Dnd");function Nh(O){var M=(0,d.useRef)(null),W=mn(function(qr){M.current=qr},[]),Y=mn(function(){return M.current},[]),le=rl($c),ue=le.contextId,Se=le.dragHandleUsageInstructionsId,Ee=le.registry,je=rl(Zc),ut=je.type,at=je.droppableId,qe=Zt(function(){return{id:O.draggableId,index:O.index,type:ut,droppableId:at}},[O.draggableId,O.index,ut,at]),Ze=O.children,Tt=O.draggableId,Qt=O.isEnabled,Mn=O.shouldRespectForcePress,Gn=O.canDragInteractiveElements,Pn=O.isClone,ii=O.mapped,Pi=O.dropAnimationFinished;if(Ph(O,ue,Y),kh(Pn),!Pn){var zi=Zt(function(){return{descriptor:qe,registry:Ee,getDraggableRef:Y,canDragInteractiveElements:Gn,shouldRespectForcePress:Mn,isEnabled:Qt}},[qe,Ee,Y,Gn,Mn,Qt]);Mh(zi)}var Pr=Zt(function(){return Qt?{tabIndex:0,role:"button","aria-describedby":Se,"data-rbd-drag-handle-draggable-id":Tt,"data-rbd-drag-handle-context-id":ue,draggable:!1,onDragStart:Lh}:null},[ue,Se,Tt,Qt]),Or=mn(function(qr){ii.type==="DRAGGING"&&ii.dropping&&qr.propertyName==="transform"&&Pi()},[Pi,ii]),Yr=Zt(function(){var qr=Oh(ii),$o=ii.type==="DRAGGING"&&ii.dropping?Or:null,_s={innerRef:W,draggableProps:{"data-rbd-draggable-context-id":ue,"data-rbd-draggable-id":Tt,style:qr,onTransitionEnd:$o},dragHandleProps:Pr};return _s},[ue,Pr,Tt,ii,Or,W]),jo=Zt(function(){return{draggableId:qe.id,type:qe.type,source:{index:qe.index,droppableId:qe.droppableId}}},[qe.droppableId,qe.id,qe.index,qe.type]);return Ze(Yr,ii.snapshot,jo)}n(Nh,"Draggable");var pf=n(function(O,M){return O===M},"isStrictEqual"),Fh=n(function(O){var M=O.combine,W=O.destination;return W?W.droppableId:M?M.droppableId:null},"whatIsDraggedOverFromResult"),Np=n(function(M){return M.combine?M.combine.draggableId:null},"getCombineWithFromResult"),xh=n(function(M){return M.at&&M.at.type==="COMBINE"?M.at.combine.draggableId:null},"getCombineWithFromImpact");function Bh(){var O=F(function(le,ue){return{x:le,y:ue}}),M=F(function(le,ue,Se,Ee,je){return{isDragging:!0,isClone:ue,isDropAnimating:Boolean(je),dropAnimation:je,mode:le,draggingOver:Se,combineWith:Ee,combineTargetFor:null}}),W=F(function(le,ue,Se,Ee,je,ut,at){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:je,combineWith:ut,mode:ue,offset:le,dimension:Se,forceShouldAnimate:at,snapshot:M(ue,Ee,je,ut,null)}}}),Y=n(function(ue,Se){if(ue.isDragging){if(ue.critical.draggable.id!==Se.draggableId)return null;var Ee=ue.current.client.offset,je=ue.dimensions.draggables[Se.draggableId],ut=Io(ue.impact),at=xh(ue.impact),qe=ue.forceShouldAnimate;return W(O(Ee.x,Ee.y),ue.movementMode,je,Se.isClone,ut,at,qe)}if(ue.phase==="DROP_ANIMATING"){var Ze=ue.completed;if(Ze.result.draggableId!==Se.draggableId)return null;var Tt=Se.isClone,Qt=ue.dimensions.draggables[Se.draggableId],Mn=Ze.result,Gn=Mn.mode,Pn=Fh(Mn),ii=Np(Mn),Pi=ue.dropDuration,zi={duration:Pi,curve:Ws.drop,moveTo:ue.newHomeClientOffset,opacity:ii?fl.opacity.drop:null,scale:ii?fl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:ue.newHomeClientOffset,dimension:Qt,dropping:zi,draggingOver:Pn,combineWith:ii,mode:Gn,forceShouldAnimate:null,snapshot:M(Gn,Tt,Pn,ii,zi)}}}return null},"selector");return Y}n(Bh,"getDraggableSelector");function uc(O){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:O,combineWith:null}}n(uc,"getSecondarySnapshot");var fc={mapped:{type:"SECONDARY",offset:xt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:uc(null)}};function Qs(){var O=F(function(Se,Ee){return{x:Se,y:Ee}}),M=F(uc),W=F(function(Se,Ee,je){return Ee===void 0&&(Ee=null),{mapped:{type:"SECONDARY",offset:Se,combineTargetFor:Ee,shouldAnimateDisplacement:je,snapshot:M(Ee)}}}),Y=n(function(Ee){return Ee?W(xt,Ee,!0):null},"getFallback"),le=n(function(Ee,je,ut,at){var qe=ut.displaced.visible[Ee],Ze=Boolean(at.inVirtualList&&at.effected[Ee]),Tt=No(ut),Qt=Tt&&Tt.draggableId===Ee?je:null;if(!qe){if(!Ze)return Y(Qt);if(ut.displaced.invisible[Ee])return null;var Mn=Un(at.displacedBy.point),Gn=O(Mn.x,Mn.y);return W(Gn,Qt,!0)}if(Ze)return Y(Qt);var Pn=ut.displacedBy.point,ii=O(Pn.x,Pn.y);return W(ii,Qt,qe.shouldAnimate)},"getProps"),ue=n(function(Ee,je){if(Ee.isDragging)return Ee.critical.draggable.id===je.draggableId?null:le(je.draggableId,Ee.critical.draggable.id,Ee.impact,Ee.afterCritical);if(Ee.phase==="DROP_ANIMATING"){var ut=Ee.completed;return ut.result.draggableId===je.draggableId?null:le(je.draggableId,ut.result.draggableId,ut.impact,ut.afterCritical)}return null},"selector");return ue}n(Qs,"getSecondarySelector");var Uh=n(function(){var M=Bh(),W=Qs(),Y=n(function(ue,Se){return M(ue,Se)||W(ue,Se)||fc},"selector");return Y},"makeMapStateToProps"),jr={dropAnimationFinished:Ms},Vh=B(Uh,jr,null,{context:Nl,areStatePropsEqual:pf})(Nh);function mf(O){var M=rl(Zc),W=M.isUsingCloneFor;return W===O.draggableId&&!O.isClone?null:d.createElement(Vh,O)}n(mf,"PrivateDraggable");function Ks(O){var M=typeof O.isDragDisabled=="boolean"?!O.isDragDisabled:!0,W=Boolean(O.disableInteractiveElementBlocking),Y=Boolean(O.shouldRespectForcePress);return d.createElement(mf,p({},O,{isClone:!1,isEnabled:M,canDragInteractiveElements:W,shouldRespectForcePress:Y}))}n(Ks,"PublicDraggable");function Hh(O){var M=(0,d.useContext)($c);M||vn(!1);var W=M.contextId,Y=M.isMovementAllowed,le=(0,d.useRef)(null),ue=(0,d.useRef)(null),Se=O.children,Ee=O.droppableId,je=O.type,ut=O.mode,at=O.direction,qe=O.ignoreContainerClipping,Ze=O.isDropDisabled,Tt=O.isCombineEnabled,Qt=O.snapshot,Mn=O.useClone,Gn=O.updateViewportMaxScroll,Pn=O.getContainerForClone,ii=mn(function(){return le.current},[]),Pi=mn(function(ks){le.current=ks},[]),zi=mn(function(){return ue.current},[]),Pr=mn(function(ks){ue.current=ks},[]);wh({props:O,getDroppableRef:ii,getPlaceholderRef:zi});var Or=mn(function(){Y()&&Gn({maxScroll:Ct()})},[Y,Gn]);tu({droppableId:Ee,type:je,mode:ut,direction:at,isDropDisabled:Ze,isCombineEnabled:Tt,ignoreContainerClipping:qe,getDroppableRef:ii});var Yr=d.createElement(Dh,{on:O.placeholder,shouldAnimate:O.shouldAnimatePlaceholder},function(ks){var Da=ks.onClose,ma=ks.data,Zs=ks.animate;return d.createElement(Ua,{placeholder:ma,onClose:Da,innerRef:Pr,animate:Zs,contextId:W,onTransitionEnd:Or})}),jo=Zt(function(){return{innerRef:Pi,placeholder:Yr,droppableProps:{"data-rbd-droppable-id":Ee,"data-rbd-droppable-context-id":W}}},[W,Ee,Yr,Pi]),qr=Mn?Mn.dragging.draggableId:null,$o=Zt(function(){return{droppableId:Ee,type:je,isUsingCloneFor:qr}},[Ee,qr,je]);function _s(){if(!Mn)return null;var ks=Mn.dragging,Da=Mn.render,ma=d.createElement(mf,{draggableId:ks.draggableId,index:ks.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Zs,qs){return Da(Zs,qs,ks)});return yi.createPortal(ma,Pn())}return n(_s,"getClone"),d.createElement(Zc.Provider,{value:$o},Se(jo,Qt),_s())}n(Hh,"Droppable");var su=n(function(M,W){return M===W.droppable.type},"isMatchingType"),gf=n(function(M,W){return W.draggables[M.draggable.id]},"getDraggable"),hc=n(function(){var M={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},W=p({},M,{shouldAnimatePlaceholder:!1}),Y=F(function(Se){return{draggableId:Se.id,type:Se.type,source:{index:Se.index,droppableId:Se.droppableId}}}),le=F(function(Se,Ee,je,ut,at,qe){var Ze=at.descriptor.id,Tt=at.descriptor.droppableId===Se;if(Tt){var Qt=qe?{render:qe,dragging:Y(at.descriptor)}:null,Mn={isDraggingOver:je,draggingOverWith:je?Ze:null,draggingFromThisWith:Ze,isUsingPlaceholder:!0};return{placeholder:at.placeholder,shouldAnimatePlaceholder:!1,snapshot:Mn,useClone:Qt}}if(!Ee)return W;if(!ut)return M;var Gn={isDraggingOver:je,draggingOverWith:Ze,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:at.placeholder,shouldAnimatePlaceholder:!0,snapshot:Gn,useClone:null}}),ue=n(function(Ee,je){var ut=je.droppableId,at=je.type,qe=!je.isDropDisabled,Ze=je.renderClone;if(Ee.isDragging){var Tt=Ee.critical;if(!su(at,Tt))return W;var Qt=gf(Tt,Ee.dimensions),Mn=Io(Ee.impact)===ut;return le(ut,qe,Mn,Mn,Qt,Ze)}if(Ee.phase==="DROP_ANIMATING"){var Gn=Ee.completed;if(!su(at,Gn.critical))return W;var Pn=gf(Gn.critical,Ee.dimensions);return le(ut,qe,Fh(Gn.result)===ut,Io(Gn.impact)===ut,Pn,Ze)}if(Ee.phase==="IDLE"&&Ee.completed&&!Ee.shouldFlush){var ii=Ee.completed;if(!su(at,ii.critical))return W;var Pi=Io(ii.impact)===ut,zi=Boolean(ii.impact.at&&ii.impact.at.type==="COMBINE"),Pr=ii.critical.droppable.id===ut;return Pi?zi?M:W:Pr?M:W}return W},"selector");return ue},"makeMapStateToProps"),pc={updateViewportMaxScroll:hs};function mc(){return document.body||vn(!1),document.body}n(mc,"getBody");var gc={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:mc},Bl=B(hc,pc,null,{context:Nl,areStatePropsEqual:pf})(Hh);Bl.defaultProps=gc},2228537078:V=>{"use strict";var l=Array.isArray,c=Object.keys,d=Object.prototype.hasOwnProperty,h=typeof Element<"u";function m(p,a){if(p===a)return!0;if(p&&a&&typeof p=="object"&&typeof a=="object"){var s=l(p),i=l(a),e,t,r;if(s&&i){if(t=p.length,t!=a.length)return!1;for(e=t;e--!==0;)if(!m(p[e],a[e]))return!1;return!0}if(s!=i)return!1;var o=p instanceof Date,f=a instanceof Date;if(o!=f)return!1;if(o&&f)return p.getTime()==a.getTime();var g=p instanceof RegExp,v=a instanceof RegExp;if(g!=v)return!1;if(g&&v)return p.toString()==a.toString();var u=c(p);if(t=u.length,t!==c(a).length)return!1;for(e=t;e--!==0;)if(!d.call(a,u[e]))return!1;if(h&&p instanceof Element&&a instanceof Element)return p===a;for(e=t;e--!==0;)if(r=u[e],!(r==="_owner"&&p.$$typeof)&&!m(p[r],a[r]))return!1;return!0}return p!==p&&a!==a}n(m,"equal"),V.exports=n(function(a,s){try{return m(a,s)}catch(i){if(i.message&&i.message.match(/stack|recursion/i)||i.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",i.name,i.message),!1;throw i}},"exportedEqual")},344860614:(V,l,c)=>{"use strict";c.d(l,{zy:()=>hi,Zp:()=>Oi,wQ:()=>$r,g:()=>pe});var d=c(3134334389),h=c.t(d,2);/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m(){return m=Object.assign?Object.assign.bind():function(de){for(var ye=1;ye<arguments.length;ye++){var Me=arguments[ye];for(var Ge in Me)Object.prototype.hasOwnProperty.call(Me,Ge)&&(de[Ge]=Me[Ge])}return de},m.apply(this,arguments)}n(m,"_extends");var p;(function(de){de.Pop="POP",de.Push="PUSH",de.Replace="REPLACE"})(p||(p={}));const a="popstate";function s(de){de===void 0&&(de={});let{initialEntries:ye=["/"],initialIndex:Me,v5Compat:Ge=!1}=de,nt;nt=ye.map((jn,pi)=>hn(jn,typeof jn=="string"?null:jn.state,pi===0?"default":void 0));let Ut=cn(Me??nt.length-1),wt=p.Pop,dn=null;function cn(jn){return Math.min(Math.max(jn,0),nt.length-1)}n(cn,"clampIndex");function bn(){return nt[Ut]}n(bn,"getCurrentLocation");function hn(jn,pi,ai){pi===void 0&&(pi=null);let $n=g(nt?bn().pathname:"/",jn,pi,ai);return r($n.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(jn)),$n}n(hn,"createMemoryLocation");function Fn(jn){return typeof jn=="string"?jn:v(jn)}return n(Fn,"createHref"),{get index(){return Ut},get action(){return wt},get location(){return bn()},createHref:Fn,createURL(jn){return new URL(Fn(jn),"http://localhost")},encodeLocation(jn){let pi=typeof jn=="string"?u(jn):jn;return{pathname:pi.pathname||"",search:pi.search||"",hash:pi.hash||""}},push(jn,pi){wt=p.Push;let ai=hn(jn,pi);Ut+=1,nt.splice(Ut,nt.length,ai),Ge&&dn&&dn({action:wt,location:ai,delta:1})},replace(jn,pi){wt=p.Replace;let ai=hn(jn,pi);nt[Ut]=ai,Ge&&dn&&dn({action:wt,location:ai,delta:0})},go(jn){wt=p.Pop;let pi=cn(Ut+jn),ai=nt[pi];Ut=pi,dn&&dn({action:wt,location:ai,delta:jn})},listen(jn){return dn=jn,()=>{dn=null}}}}n(s,"router_createMemoryHistory");function i(de){de===void 0&&(de={});function ye(Ge,nt){let{pathname:Ut,search:wt,hash:dn}=Ge.location;return g("",{pathname:Ut,search:wt,hash:dn},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}n(ye,"createBrowserLocation");function Me(Ge,nt){return typeof nt=="string"?nt:v(nt)}return n(Me,"createBrowserHref"),S(ye,Me,null,de)}n(i,"createBrowserHistory");function e(de){de===void 0&&(de={});function ye(nt,Ut){let{pathname:wt="/",search:dn="",hash:cn=""}=u(nt.location.hash.substr(1));return!wt.startsWith("/")&&!wt.startsWith(".")&&(wt="/"+wt),g("",{pathname:wt,search:dn,hash:cn},Ut.state&&Ut.state.usr||null,Ut.state&&Ut.state.key||"default")}n(ye,"createHashLocation");function Me(nt,Ut){let wt=nt.document.querySelector("base"),dn="";if(wt&&wt.getAttribute("href")){let cn=nt.location.href,bn=cn.indexOf("#");dn=bn===-1?cn:cn.slice(0,bn)}return dn+"#"+(typeof Ut=="string"?Ut:v(Ut))}n(Me,"createHashHref");function Ge(nt,Ut){r(nt.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(Ut)+")")}return n(Ge,"validateHashLocation"),S(ye,Me,Ge,de)}n(e,"createHashHistory");function t(de,ye){if(de===!1||de===null||typeof de>"u")throw new Error(ye)}n(t,"invariant");function r(de,ye){if(!de){typeof console<"u"&&console.warn(ye);try{throw new Error(ye)}catch{}}}n(r,"warning");function o(){return Math.random().toString(36).substr(2,8)}n(o,"createKey");function f(de,ye){return{usr:de.state,key:de.key,idx:ye}}n(f,"getHistoryState");function g(de,ye,Me,Ge){return Me===void 0&&(Me=null),m({pathname:typeof de=="string"?de:de.pathname,search:"",hash:""},typeof ye=="string"?u(ye):ye,{state:Me,key:ye&&ye.key||Ge||o()})}n(g,"createLocation");function v(de){let{pathname:ye="/",search:Me="",hash:Ge=""}=de;return Me&&Me!=="?"&&(ye+=Me.charAt(0)==="?"?Me:"?"+Me),Ge&&Ge!=="#"&&(ye+=Ge.charAt(0)==="#"?Ge:"#"+Ge),ye}n(v,"createPath");function u(de){let ye={};if(de){let Me=de.indexOf("#");Me>=0&&(ye.hash=de.substr(Me),de=de.substr(0,Me));let Ge=de.indexOf("?");Ge>=0&&(ye.search=de.substr(Ge),de=de.substr(0,Ge)),de&&(ye.pathname=de)}return ye}n(u,"router_parsePath");function S(de,ye,Me,Ge){Ge===void 0&&(Ge={});let{window:nt=document.defaultView,v5Compat:Ut=!1}=Ge,wt=nt.history,dn=p.Pop,cn=null,bn=hn();bn==null&&(bn=0,wt.replaceState(m({},wt.state,{idx:bn}),""));function hn(){return(wt.state||{idx:null}).idx}n(hn,"getIndex");function Fn(){dn=p.Pop;let $n=hn(),kn=$n==null?null:$n-bn;bn=$n,cn&&cn({action:dn,location:ai.location,delta:kn})}n(Fn,"handlePop");function xn($n,kn){dn=p.Push;let Ri=g(ai.location,$n,kn);Me&&Me(Ri,$n),bn=hn()+1;let pr=f(Ri,bn),Rr=ai.createHref(Ri);try{wt.pushState(pr,"",Rr)}catch(Kr){if(Kr instanceof DOMException&&Kr.name==="DataCloneError")throw Kr;nt.location.assign(Rr)}Ut&&cn&&cn({action:dn,location:ai.location,delta:1})}n(xn,"push");function jn($n,kn){dn=p.Replace;let Ri=g(ai.location,$n,kn);Me&&Me(Ri,$n),bn=hn();let pr=f(Ri,bn),Rr=ai.createHref(Ri);wt.replaceState(pr,"",Rr),Ut&&cn&&cn({action:dn,location:ai.location,delta:0})}n(jn,"replace");function pi($n){let kn=nt.location.origin!=="null"?nt.location.origin:nt.location.href,Ri=typeof $n=="string"?$n:v($n);return Ri=Ri.replace(/ $/,"%20"),t(kn,"No window.location.(origin|href) available to create URL for href: "+Ri),new URL(Ri,kn)}n(pi,"createURL");let ai={get action(){return dn},get location(){return de(nt,wt)},listen($n){if(cn)throw new Error("A history only accepts one active listener");return nt.addEventListener(a,Fn),cn=$n,()=>{nt.removeEventListener(a,Fn),cn=null}},createHref($n){return ye(nt,$n)},createURL:pi,encodeLocation($n){let kn=pi($n);return{pathname:kn.pathname,search:kn.search,hash:kn.hash}},push:xn,replace:jn,go($n){return wt.go($n)}};return ai}n(S,"getUrlBasedHistory");var _;(function(de){de.data="data",de.deferred="deferred",de.redirect="redirect",de.error="error"})(_||(_={}));const b=new Set(["lazy","caseSensitive","path","id","index","children"]);function E(de){return de.index===!0}n(E,"isIndexRoute");function T(de,ye,Me,Ge){return Me===void 0&&(Me=[]),Ge===void 0&&(Ge={}),de.map((nt,Ut)=>{let wt=[...Me,Ut],dn=typeof nt.id=="string"?nt.id:wt.join("-");if(t(nt.index!==!0||!nt.children,"Cannot specify children on an index route"),t(!Ge[dn],'Found a route id collision on id "'+dn+`".  Route id's must be globally unique within Data Router usages`),E(nt)){let cn=m({},nt,ye(nt),{id:dn});return Ge[dn]=cn,cn}else{let cn=m({},nt,ye(nt),{id:dn,children:void 0});return Ge[dn]=cn,nt.children&&(cn.children=T(nt.children,ye,wt,Ge)),cn}})}n(T,"convertRoutesToDataRoutes");function I(de,ye,Me){Me===void 0&&(Me="/");let Ge=typeof ye=="string"?u(ye):ye,nt=rt(Ge.pathname||"/",Me);if(nt==null)return null;let Ut=w(de);P(Ut);let wt=null;for(let dn=0;wt==null&&dn<Ut.length;++dn){let cn=ct(nt);wt=pt(Ut[dn],cn)}return wt}n(I,"router_matchRoutes");function A(de,ye){let{route:Me,pathname:Ge,params:nt}=de;return{id:Me.id,pathname:Ge,params:nt,data:ye[Me.id],handle:Me.handle}}n(A,"convertRouteMatchToUiMatch");function w(de,ye,Me,Ge){ye===void 0&&(ye=[]),Me===void 0&&(Me=[]),Ge===void 0&&(Ge="");let nt=n((Ut,wt,dn)=>{let cn={relativePath:dn===void 0?Ut.path||"":dn,caseSensitive:Ut.caseSensitive===!0,childrenIndex:wt,route:Ut};cn.relativePath.startsWith("/")&&(t(cn.relativePath.startsWith(Ge),'Absolute route path "'+cn.relativePath+'" nested under path '+('"'+Ge+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),cn.relativePath=cn.relativePath.slice(Ge.length));let bn=gt([Ge,cn.relativePath]),hn=Me.concat(cn);Ut.children&&Ut.children.length>0&&(t(Ut.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+bn+'".')),w(Ut.children,ye,hn,bn)),!(Ut.path==null&&!Ut.index)&&ye.push({path:bn,score:Pe(bn,Ut.index),routesMeta:hn})},"flattenRoute");return de.forEach((Ut,wt)=>{var dn;if(Ut.path===""||!((dn=Ut.path)!=null&&dn.includes("?")))nt(Ut,wt);else for(let cn of R(Ut.path))nt(Ut,wt,cn)}),ye}n(w,"flattenRoutes");function R(de){let ye=de.split("/");if(ye.length===0)return[];let[Me,...Ge]=ye,nt=Me.endsWith("?"),Ut=Me.replace(/\?$/,"");if(Ge.length===0)return nt?[Ut,""]:[Ut];let wt=R(Ge.join("/")),dn=[];return dn.push(...wt.map(cn=>cn===""?Ut:[Ut,cn].join("/"))),nt&&dn.push(...wt),dn.map(cn=>de.startsWith("/")&&cn===""?"/":cn)}n(R,"explodeOptionalSegments");function P(de){de.sort((ye,Me)=>ye.score!==Me.score?Me.score-ye.score:He(ye.routesMeta.map(Ge=>Ge.childrenIndex),Me.routesMeta.map(Ge=>Ge.childrenIndex)))}n(P,"rankRouteBranches");const x=/^:[\w-]+$/,z=3,Z=2,re=1,ne=10,he=null,ge=n(de=>de==="*","isSplat");function Pe(de,ye){let Me=de.split("/"),Ge=Me.length;return Me.some(ge)&&(Ge+=he),ye&&(Ge+=Z),Me.filter(nt=>!ge(nt)).reduce((nt,Ut)=>nt+(x.test(Ut)?z:Ut===""?re:ne),Ge)}n(Pe,"computeScore");function He(de,ye){return de.length===ye.length&&de.slice(0,-1).every((Ge,nt)=>Ge===ye[nt])?de[de.length-1]-ye[ye.length-1]:0}n(He,"compareIndexes");function pt(de,ye){let{routesMeta:Me}=de,Ge={},nt="/",Ut=[];for(let wt=0;wt<Me.length;++wt){let dn=Me[wt],cn=wt===Me.length-1,bn=nt==="/"?ye:ye.slice(nt.length)||"/",hn=Ke({path:dn.relativePath,caseSensitive:dn.caseSensitive,end:cn},bn);if(!hn)return null;Object.assign(Ge,hn.params);let Fn=dn.route;Ut.push({params:Ge,pathname:gt([nt,hn.pathname]),pathnameBase:En(gt([nt,hn.pathnameBase])),route:Fn}),hn.pathnameBase!=="/"&&(nt=gt([nt,hn.pathnameBase]))}return Ut}n(pt,"matchRouteBranch");function Ht(de,ye){ye===void 0&&(ye={});let Me=de;Me.endsWith("*")&&Me!=="*"&&!Me.endsWith("/*")&&(r(!1,'Route path "'+Me+'" will be treated as if it were '+('"'+Me.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+Me.replace(/\*$/,"/*")+'".')),Me=Me.replace(/\*$/,"/*"));const Ge=Me.startsWith("/")?"/":"",nt=n(wt=>wt==null?"":typeof wt=="string"?wt:String(wt),"stringify"),Ut=Me.split(/\/+/).map((wt,dn,cn)=>{if(dn===cn.length-1&&wt==="*")return nt(ye["*"]);const hn=wt.match(/^:([\w-]+)(\??)$/);if(hn){const[,Fn,xn]=hn;let jn=ye[Fn];return t(xn==="?"||jn!=null,'Missing ":'+Fn+'" param'),nt(jn)}return wt.replace(/\?$/g,"")}).filter(wt=>!!wt);return Ge+Ut.join("/")}n(Ht,"generatePath");function Ke(de,ye){typeof de=="string"&&(de={path:de,caseSensitive:!1,end:!0});let[Me,Ge]=it(de.path,de.caseSensitive,de.end),nt=ye.match(Me);if(!nt)return null;let Ut=nt[0],wt=Ut.replace(/(.)\/+$/,"$1"),dn=nt.slice(1);return{params:Ge.reduce((bn,hn,Fn)=>{let{paramName:xn,isOptional:jn}=hn;if(xn==="*"){let ai=dn[Fn]||"";wt=Ut.slice(0,Ut.length-ai.length).replace(/(.)\/+$/,"$1")}const pi=dn[Fn];return jn&&!pi?bn[xn]=void 0:bn[xn]=(pi||"").replace(/%2F/g,"/"),bn},{}),pathname:Ut,pathnameBase:wt,pattern:de}}n(Ke,"router_matchPath");function it(de,ye,Me){ye===void 0&&(ye=!1),Me===void 0&&(Me=!0),r(de==="*"||!de.endsWith("*")||de.endsWith("/*"),'Route path "'+de+'" will be treated as if it were '+('"'+de.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+de.replace(/\*$/,"/*")+'".'));let Ge=[],nt="^"+de.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(wt,dn,cn)=>(Ge.push({paramName:dn,isOptional:cn!=null}),cn?"/?([^\\/]+)?":"/([^\\/]+)"));return de.endsWith("*")?(Ge.push({paramName:"*"}),nt+=de==="*"||de==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):Me?nt+="\\/*$":de!==""&&de!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,ye?void 0:"i"),Ge]}n(it,"compilePath");function ct(de){try{return de.split("/").map(ye=>decodeURIComponent(ye).replace(/\//g,"%2F")).join("/")}catch(ye){return r(!1,'The URL path "'+de+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+ye+").")),de}}n(ct,"decodePath");function rt(de,ye){if(ye==="/")return de;if(!de.toLowerCase().startsWith(ye.toLowerCase()))return null;let Me=ye.endsWith("/")?ye.length-1:ye.length,Ge=de.charAt(Me);return Ge&&Ge!=="/"?null:de.slice(Me)||"/"}n(rt,"router_stripBasename");function _t(de,ye){ye===void 0&&(ye="/");let{pathname:Me,search:Ge="",hash:nt=""}=typeof de=="string"?u(de):de;return{pathname:Me?Me.startsWith("/")?Me:Gt(Me,ye):ye,search:pn(Ge),hash:wn(nt)}}n(_t,"resolvePath");function Gt(de,ye){let Me=ye.replace(/\/+$/,"").split("/");return de.split("/").forEach(nt=>{nt===".."?Me.length>1&&Me.pop():nt!=="."&&Me.push(nt)}),Me.length>1?Me.join("/"):"/"}n(Gt,"resolvePathname");function Kt(de,ye,Me,Ge){return"Cannot include a '"+de+"' character in a manually specified "+("`to."+ye+"` field ["+JSON.stringify(Ge)+"].  Please separate it out to the ")+("`to."+Me+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}n(Kt,"getInvalidPathError");function Ye(de){return de.filter((ye,Me)=>Me===0||ye.route.path&&ye.route.path.length>0)}n(Ye,"getPathContributingMatches");function Xe(de,ye){let Me=Ye(de);return ye?Me.map((Ge,nt)=>nt===de.length-1?Ge.pathname:Ge.pathnameBase):Me.map(Ge=>Ge.pathnameBase)}n(Xe,"getResolveToMatches");function It(de,ye,Me,Ge){Ge===void 0&&(Ge=!1);let nt;typeof de=="string"?nt=u(de):(nt=m({},de),t(!nt.pathname||!nt.pathname.includes("?"),Kt("?","pathname","search",nt)),t(!nt.pathname||!nt.pathname.includes("#"),Kt("#","pathname","hash",nt)),t(!nt.search||!nt.search.includes("#"),Kt("#","search","hash",nt)));let Ut=de===""||nt.pathname==="",wt=Ut?"/":nt.pathname,dn;if(wt==null)dn=Me;else{let Fn=ye.length-1;if(!Ge&&wt.startsWith("..")){let xn=wt.split("/");for(;xn[0]==="..";)xn.shift(),Fn-=1;nt.pathname=xn.join("/")}dn=Fn>=0?ye[Fn]:"/"}let cn=_t(nt,dn),bn=wt&&wt!=="/"&&wt.endsWith("/"),hn=(Ut||wt===".")&&Me.endsWith("/");return!cn.pathname.endsWith("/")&&(bn||hn)&&(cn.pathname+="/"),cn}n(It,"router_resolveTo");function kt(de){return de===""||de.pathname===""?"/":typeof de=="string"?u(de).pathname:de.pathname}n(kt,"getToPathname");const gt=n(de=>de.join("/").replace(/\/\/+/g,"/"),"router_joinPaths"),En=n(de=>de.replace(/\/+$/,"").replace(/^\/*/,"/"),"normalizePathname"),pn=n(de=>!de||de==="?"?"":de.startsWith("?")?de:"?"+de,"normalizeSearch"),wn=n(de=>!de||de==="#"?"":de.startsWith("#")?de:"#"+de,"normalizeHash"),zn=n(function(ye,Me){Me===void 0&&(Me={});let Ge=typeof Me=="number"?{status:Me}:Me,nt=new Headers(Ge.headers);return nt.has("Content-Type")||nt.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(ye),m({},Ge,{headers:nt}))},"json");class Qn extends Error{}n(Qn,"AbortedDeferredError");class Sn{constructor(ye,Me){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],t(ye&&typeof ye=="object"&&!Array.isArray(ye),"defer() only accepts plain objects");let Ge;this.abortPromise=new Promise((Ut,wt)=>Ge=wt),this.controller=new AbortController;let nt=n(()=>Ge(new Qn("Deferred data aborted")),"onAbort");this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",nt),this.controller.signal.addEventListener("abort",nt),this.data=Object.entries(ye).reduce((Ut,wt)=>{let[dn,cn]=wt;return Object.assign(Ut,{[dn]:this.trackPromise(dn,cn)})},{}),this.done&&this.unlistenAbortSignal(),this.init=Me}trackPromise(ye,Me){if(!(Me instanceof Promise))return Me;this.deferredKeys.push(ye),this.pendingKeysSet.add(ye);let Ge=Promise.race([Me,this.abortPromise]).then(nt=>this.onSettle(Ge,ye,void 0,nt),nt=>this.onSettle(Ge,ye,nt));return Ge.catch(()=>{}),Object.defineProperty(Ge,"_tracked",{get:()=>!0}),Ge}onSettle(ye,Me,Ge,nt){if(this.controller.signal.aborted&&Ge instanceof Qn)return this.unlistenAbortSignal(),Object.defineProperty(ye,"_error",{get:()=>Ge}),Promise.reject(Ge);if(this.pendingKeysSet.delete(Me),this.done&&this.unlistenAbortSignal(),Ge===void 0&&nt===void 0){let Ut=new Error('Deferred data for key "'+Me+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(ye,"_error",{get:()=>Ut}),this.emit(!1,Me),Promise.reject(Ut)}return nt===void 0?(Object.defineProperty(ye,"_error",{get:()=>Ge}),this.emit(!1,Me),Promise.reject(Ge)):(Object.defineProperty(ye,"_data",{get:()=>nt}),this.emit(!1,Me),nt)}emit(ye,Me){this.subscribers.forEach(Ge=>Ge(ye,Me))}subscribe(ye){return this.subscribers.add(ye),()=>this.subscribers.delete(ye)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((ye,Me)=>this.pendingKeysSet.delete(Me)),this.emit(!0)}async resolveData(ye){let Me=!1;if(!this.done){let Ge=n(()=>this.cancel(),"onAbort");ye.addEventListener("abort",Ge),Me=await new Promise(nt=>{this.subscribe(Ut=>{ye.removeEventListener("abort",Ge),(Ut||this.done)&&nt(Ut)})})}return Me}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return t(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((ye,Me)=>{let[Ge,nt]=Me;return Object.assign(ye,{[Ge]:lr(nt)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}n(Sn,"DeferredData");function Zn(de){return de instanceof Promise&&de._tracked===!0}n(Zn,"isTrackedPromise");function lr(de){if(!Zn(de))return de;if(de._error)throw de._error;return de._data}n(lr,"unwrapTrackedPromise");const ui=n(function(ye,Me){Me===void 0&&(Me={});let Ge=typeof Me=="number"?{status:Me}:Me;return new Sn(ye,Ge)},"defer"),fi=n(function(ye,Me){Me===void 0&&(Me=302);let Ge=Me;typeof Ge=="number"?Ge={status:Ge}:typeof Ge.status>"u"&&(Ge.status=302);let nt=new Headers(Ge.headers);return nt.set("Location",ye),new Response(null,m({},Ge,{headers:nt}))},"redirect"),Vn=n((de,ye)=>{let Me=fi(de,ye);return Me.headers.set("X-Remix-Reload-Document","true"),Me},"redirectDocument");class In{constructor(ye,Me,Ge,nt){nt===void 0&&(nt=!1),this.status=ye,this.statusText=Me||"",this.internal=nt,Ge instanceof Error?(this.data=Ge.toString(),this.error=Ge):this.data=Ge}}n(In,"ErrorResponseImpl");function wi(de){return de!=null&&typeof de.status=="number"&&typeof de.statusText=="string"&&typeof de.internal=="boolean"&&"data"in de}n(wi,"router_isRouteErrorResponse");const _n=["post","put","patch","delete"],An=new Set(_n),sn=["get",..._n],Q=new Set(sn),lt=new Set([301,302,303,307,308]),mt=new Set([307,308]),bt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},At={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},we=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=n(de=>({hasErrorBoundary:Boolean(de.hasErrorBoundary)}),"defaultMapRouteProperties"),K="remix-router-transitions";function se(de){const ye=de.window?de.window:typeof window<"u"?window:void 0,Me=typeof ye<"u"&&typeof ye.document<"u"&&typeof ye.document.createElement<"u",Ge=!Me;t(de.routes.length>0,"You must provide a non-empty routes array to createRouter");let nt;if(de.mapRouteProperties)nt=de.mapRouteProperties;else if(de.detectErrorBoundary){let Mt=de.detectErrorBoundary;nt=n(Vt=>({hasErrorBoundary:Mt(Vt)}),"mapRouteProperties")}else nt=ht;let Ut={},wt=T(de.routes,nt,void 0,Ut),dn,cn=de.basename||"/",bn=m({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},de.future),hn=null,Fn=new Set,xn=null,jn=null,pi=null,ai=de.hydrationData!=null,$n=I(wt,de.history.location,cn),kn=null;if($n==null){let Mt=mn(404,{pathname:de.history.location.pathname}),{matches:Vt,route:un}=Zt(wt);$n=Vt,kn={[un.id]:Mt}}let Ri,pr=$n.some(Mt=>Mt.route.lazy),Rr=$n.some(Mt=>Mt.route.loader);if(pr)Ri=!1;else if(!Rr)Ri=!0;else if(bn.v7_partialHydration){let Mt=de.hydrationData?de.hydrationData.loaderData:null,Vt=de.hydrationData?de.hydrationData.errors:null;Ri=$n.every(un=>un.route.loader&&un.route.loader.hydrate!==!0&&(Mt&&Mt[un.route.id]!==void 0||Vt&&Vt[un.route.id]!==void 0))}else Ri=de.hydrationData!=null;let Kr,qt={historyAction:de.history.action,location:de.history.location,matches:$n,initialized:Ri,navigation:bt,restoreScrollPosition:de.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:de.hydrationData&&de.hydrationData.loaderData||{},actionData:de.hydrationData&&de.hydrationData.actionData||null,errors:de.hydrationData&&de.hydrationData.errors||kn,fetchers:new Map,blockers:new Map},Mr=p.Pop,xr=!1,ur,To=!1,es=new Map,oo=null,Yo=!1,os=!1,vs=[],Vs=[],ho=new Map,Bo=0,ya=-1,$s=new Map,Hs=new Set,oa=new Map,Rs=new Map,Ss=new Set,ys=new Map,fs=new Map,_a=!1;function ul(){if(hn=de.history.listen(Mt=>{let{action:Vt,location:un,delta:Hn}=Mt;if(_a){_a=!1;return}r(fs.size===0||Hn!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let gi=mr({currentLocation:qt.location,nextLocation:un,historyAction:Vt});if(gi&&Hn!=null){_a=!0,de.history.go(Hn*-1),Hi(gi,{state:"blocked",location:un,proceed(){Hi(gi,{state:"proceeding",proceed:void 0,reset:void 0,location:un}),de.history.go(Hn)},reset(){let ar=new Map(qt.blockers);ar.set(gi,Wt),Li({blockers:ar})}});return}return sa(Vt,un)}),Me){zt(ye,es);let Mt=n(()=>gn(ye,es),"_saveAppliedTransitions");ye.addEventListener("pagehide",Mt),oo=n(()=>ye.removeEventListener("pagehide",Mt),"removePageHideEventListener")}return qt.initialized||sa(p.Pop,qt.location,{initialHydration:!0}),Kr}n(ul,"initialize");function ba(){hn&&hn(),oo&&oo(),Fn.clear(),ur&&ur.abort(),qt.fetchers.forEach((Mt,Vt)=>ft(Vt)),qt.blockers.forEach((Mt,Vt)=>Ni(Vt))}n(ba,"dispose");function Io(Mt){return Fn.add(Mt),()=>Fn.delete(Mt)}n(Io,"subscribe");function Li(Mt,Vt){Vt===void 0&&(Vt={}),qt=m({},qt,Mt);let un=[],Hn=[];bn.v7_fetcherPersist&&qt.fetchers.forEach((gi,ar)=>{gi.state==="idle"&&(Ss.has(ar)?Hn.push(ar):un.push(ar))}),[...Fn].forEach(gi=>gi(qt,{deletedFetchers:Hn,unstable_viewTransitionOpts:Vt.viewTransitionOpts,unstable_flushSync:Vt.flushSync===!0})),bn.v7_fetcherPersist&&(un.forEach(gi=>qt.fetchers.delete(gi)),Hn.forEach(gi=>ft(gi)))}n(Li,"updateState");function Ys(Mt,Vt,un){var Hn,gi;let{flushSync:ar}=un===void 0?{}:un,Xi=qt.actionData!=null&&qt.navigation.formMethod!=null&&cr(qt.navigation.formMethod)&&qt.navigation.state==="loading"&&((Hn=Mt.state)==null?void 0:Hn._isRedirect)!==!0,$i;Vt.actionData?Object.keys(Vt.actionData).length>0?$i=Vt.actionData:$i=null:Xi?$i=qt.actionData:$i=null;let rr=Vt.loaderData?ri(qt.loaderData,Vt.loaderData,Vt.matches||[],Vt.errors):qt.loaderData,Br=qt.blockers;Br.size>0&&(Br=new Map(Br),Br.forEach((Ro,ds)=>Br.set(ds,Wt)));let ts=xr===!0||qt.navigation.formMethod!=null&&cr(qt.navigation.formMethod)&&((gi=Mt.state)==null?void 0:gi._isRedirect)!==!0;dn&&(wt=dn,dn=void 0),Yo||Mr===p.Pop||(Mr===p.Push?de.history.push(Mt,Mt.state):Mr===p.Replace&&de.history.replace(Mt,Mt.state));let Vr;if(Mr===p.Pop){let Ro=es.get(qt.location.pathname);Ro&&Ro.has(Mt.pathname)?Vr={currentLocation:qt.location,nextLocation:Mt}:es.has(Mt.pathname)&&(Vr={currentLocation:Mt,nextLocation:qt.location})}else if(To){let Ro=es.get(qt.location.pathname);Ro?Ro.add(Mt.pathname):(Ro=new Set([Mt.pathname]),es.set(qt.location.pathname,Ro)),Vr={currentLocation:qt.location,nextLocation:Mt}}Li(m({},Vt,{actionData:$i,loaderData:rr,historyAction:Mr,location:Mt,initialized:!0,navigation:bt,revalidation:"idle",restoreScrollPosition:di(Mt,Vt.matches||qt.matches),preventScrollReset:ts,blockers:Br}),{viewTransitionOpts:Vr,flushSync:ar===!0}),Mr=p.Pop,xr=!1,To=!1,Yo=!1,os=!1,vs=[],Vs=[]}n(Ys,"completeNavigation");async function Mi(Mt,Vt){if(typeof Mt=="number"){de.history.go(Mt);return}let un=ke(qt.location,qt.matches,cn,bn.v7_prependBasename,Mt,bn.v7_relativeSplatPath,Vt==null?void 0:Vt.fromRouteId,Vt==null?void 0:Vt.relative),{path:Hn,submission:gi,error:ar}=Je(bn.v7_normalizeFormMethod,!1,un,Vt),Xi=qt.location,$i=g(qt.location,Hn,Vt&&Vt.state);$i=m({},$i,de.history.encodeLocation($i));let rr=Vt&&Vt.replace!=null?Vt.replace:void 0,Br=p.Push;rr===!0?Br=p.Replace:rr===!1||gi!=null&&cr(gi.formMethod)&&gi.formAction===qt.location.pathname+qt.location.search&&(Br=p.Replace);let ts=Vt&&"preventScrollReset"in Vt?Vt.preventScrollReset===!0:void 0,Vr=(Vt&&Vt.unstable_flushSync)===!0,Ro=mr({currentLocation:Xi,nextLocation:$i,historyAction:Br});if(Ro){Hi(Ro,{state:"blocked",location:$i,proceed(){Hi(Ro,{state:"proceeding",proceed:void 0,reset:void 0,location:$i}),Mi(Mt,Vt)},reset(){let ds=new Map(qt.blockers);ds.set(Ro,Wt),Li({blockers:ds})}});return}return await sa(Br,$i,{submission:gi,pendingError:ar,preventScrollReset:ts,replace:Vt&&Vt.replace,enableViewTransition:Vt&&Vt.unstable_viewTransition,flushSync:Vr})}n(Mi,"navigate");function Ea(){if(Ce(),Li({revalidation:"loading"}),qt.navigation.state!=="submitting"){if(qt.navigation.state==="idle"){sa(qt.historyAction,qt.location,{startUninterruptedRevalidation:!0});return}sa(Mr||qt.historyAction,qt.navigation.location,{overrideNavigation:qt.navigation})}}n(Ea,"revalidate");async function sa(Mt,Vt,un){ur&&ur.abort(),ur=null,Mr=Mt,Yo=(un&&un.startUninterruptedRevalidation)===!0,yr(qt.location,qt.matches),xr=(un&&un.preventScrollReset)===!0,To=(un&&un.enableViewTransition)===!0;let Hn=dn||wt,gi=un&&un.overrideNavigation,ar=I(Hn,Vt,cn),Xi=(un&&un.flushSync)===!0;if(!ar){let ds=mn(404,{pathname:Vt.pathname}),{matches:Fs,route:hs}=Zt(Hn);fr(),Ys(Vt,{matches:Fs,loaderData:{},errors:{[hs.id]:ds}},{flushSync:Xi});return}if(qt.initialized&&!os&&Dn(qt.location,Vt)&&!(un&&un.submission&&cr(un.submission.formMethod))){Ys(Vt,{matches:ar},{flushSync:Xi});return}ur=new AbortController;let $i=st(de.history,Vt,ur.signal,un&&un.submission),rr,Br;if(un&&un.pendingError)Br={[ti(ar).route.id]:un.pendingError};else if(un&&un.submission&&cr(un.submission.formMethod)){let ds=await qa($i,Vt,un.submission,ar,{replace:un.replace,flushSync:Xi});if(ds.shortCircuited)return;rr=ds.pendingActionData,Br=ds.pendingActionError,gi=Gi(Vt,un.submission),Xi=!1,$i=new Request($i.url,{signal:$i.signal})}let{shortCircuited:ts,loaderData:Vr,errors:Ro}=await oe($i,Vt,ar,gi,un&&un.submission,un&&un.fetcherSubmission,un&&un.replace,un&&un.initialHydration===!0,Xi,rr,Br);ts||(ur=null,Ys(Vt,m({matches:ar},rr?{actionData:rr}:{},{loaderData:Vr,errors:Ro})))}n(sa,"startNavigation");async function qa(Mt,Vt,un,Hn,gi){gi===void 0&&(gi={}),Ce();let ar=ji(Vt,un);Li({navigation:ar},{flushSync:gi.flushSync===!0});let Xi,$i=sr(Hn,Vt);if(!$i.route.action&&!$i.route.lazy)Xi={type:_.error,error:mn(405,{method:Mt.method,pathname:Vt.pathname,routeId:$i.route.id})};else if(Xi=await Ne("action",Mt,$i,Hn,Ut,nt,cn,bn.v7_relativeSplatPath),Mt.signal.aborted)return{shortCircuited:!0};if(oi(Xi)){let rr;return gi&&gi.replace!=null?rr=gi.replace:rr=Xi.location===qt.location.pathname+qt.location.search,await q(qt,Xi,{submission:un,replace:rr}),{shortCircuited:!0}}if(ni(Xi)){let rr=ti(Hn,$i.route.id);return(gi&&gi.replace)!==!0&&(Mr=p.Push),{pendingActionData:{},pendingActionError:{[rr.route.id]:Xi.error}}}if(nn(Xi))throw mn(400,{type:"defer-action"});return{pendingActionData:{[$i.route.id]:Xi.data}}}n(qa,"handleAction");async function oe(Mt,Vt,un,Hn,gi,ar,Xi,$i,rr,Br,ts){let Vr=Hn||Gi(Vt,gi),Ro=gi||ar||lo(Vr),ds=dn||wt,[Fs,hs]=Fe(de.history,qt,un,Ro,Vt,bn.v7_partialHydration&&$i===!0,os,vs,Vs,Ss,oa,Hs,ds,cn,Br,ts);if(fr(po=>!(un&&un.some(wo=>wo.route.id===po))||Fs&&Fs.some(wo=>wo.route.id===po)),ya=++Bo,Fs.length===0&&hs.length===0){let po=Ln();return Ys(Vt,m({matches:un,loaderData:{},errors:ts||null},Br?{actionData:Br}:{},po?{fetchers:new Map(qt.fetchers)}:{}),{flushSync:rr}),{shortCircuited:!0}}if(!Yo&&(!bn.v7_partialHydration||!$i)){hs.forEach(wo=>{let ss=qt.fetchers.get(wo.key),Ta=F(void 0,ss?ss.data:void 0);qt.fetchers.set(wo.key,Ta)});let po=Br||qt.actionData;Li(m({navigation:Vr},po?Object.keys(po).length===0?{actionData:null}:{actionData:po}:{},hs.length>0?{fetchers:new Map(qt.fetchers)}:{}),{flushSync:rr})}hs.forEach(po=>{ho.has(po.key)&&St(po.key),po.controller&&ho.set(po.key,po.controller)});let Xo=n(()=>hs.forEach(po=>St(po.key)),"abortPendingFetchRevalidations");ur&&ur.signal.addEventListener("abort",Xo);let{results:Ca,loaderResults:Pa,fetcherResults:aa}=await be(qt.matches,un,Fs,hs,Mt);if(Mt.signal.aborted)return{shortCircuited:!0};ur&&ur.signal.removeEventListener("abort",Xo),hs.forEach(po=>ho.delete(po.key));let Xs=Ui(Ca);if(Xs){if(Xs.idx>=Fs.length){let po=hs[Xs.idx-Fs.length].key;Hs.add(po)}return await q(qt,Xs.result,{replace:Xi}),{shortCircuited:!0}}let{loaderData:Ga,errors:ua}=mi(qt,un,Fs,Pa,ts,hs,aa,ys);ys.forEach((po,wo)=>{po.subscribe(ss=>{(ss||po.done)&&ys.delete(wo)})}),bn.v7_partialHydration&&$i&&qt.errors&&Object.entries(qt.errors).filter(po=>{let[wo]=po;return!Fs.some(ss=>ss.route.id===wo)}).forEach(po=>{let[wo,ss]=po;ua=Object.assign(ua||{},{[wo]:ss})});let el=Ln(),ka=Kn(ya),Ms=el||ka||hs.length>0;return m({loaderData:Ga,errors:ua},Ms?{fetchers:new Map(qt.fetchers)}:{})}n(oe,"handleLoaders");function ae(Mt,Vt,un,Hn){if(Ge)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ho.has(Mt)&&St(Mt);let gi=(Hn&&Hn.unstable_flushSync)===!0,ar=dn||wt,Xi=ke(qt.location,qt.matches,cn,bn.v7_prependBasename,un,bn.v7_relativeSplatPath,Vt,Hn==null?void 0:Hn.relative),$i=I(ar,Xi,cn);if(!$i){et(Mt,Vt,mn(404,{pathname:Xi}),{flushSync:gi});return}let{path:rr,submission:Br,error:ts}=Je(bn.v7_normalizeFormMethod,!0,Xi,Hn);if(ts){et(Mt,Vt,ts,{flushSync:gi});return}let Vr=sr($i,rr);if(xr=(Hn&&Hn.preventScrollReset)===!0,Br&&cr(Br.formMethod)){X(Mt,Vt,rr,Vr,$i,gi,Br);return}oa.set(Mt,{routeId:Vt,path:rr}),L(Mt,Vt,rr,Vr,$i,gi,Br)}n(ae,"fetch");async function X(Mt,Vt,un,Hn,gi,ar,Xi){if(Ce(),oa.delete(Mt),!Hn.route.action&&!Hn.route.lazy){let wo=mn(405,{method:Xi.formMethod,pathname:un,routeId:Vt});et(Mt,Vt,wo,{flushSync:ar});return}let $i=qt.fetchers.get(Mt);xe(Mt,_e(Xi,$i),{flushSync:ar});let rr=new AbortController,Br=st(de.history,un,rr.signal,Xi);ho.set(Mt,rr);let ts=Bo,Vr=await Ne("action",Br,Hn,gi,Ut,nt,cn,bn.v7_relativeSplatPath);if(Br.signal.aborted){ho.get(Mt)===rr&&ho.delete(Mt);return}if(bn.v7_fetcherPersist&&Ss.has(Mt)){if(oi(Vr)||ni(Vr)){xe(Mt,tt(void 0));return}}else{if(oi(Vr))if(ho.delete(Mt),ya>ts){xe(Mt,tt(void 0));return}else return Hs.add(Mt),xe(Mt,F(Xi)),q(qt,Vr,{fetcherSubmission:Xi});if(ni(Vr)){et(Mt,Vt,Vr.error);return}}if(nn(Vr))throw mn(400,{type:"defer-action"});let Ro=qt.navigation.location||qt.location,ds=st(de.history,Ro,rr.signal),Fs=dn||wt,hs=qt.navigation.state!=="idle"?I(Fs,qt.navigation.location,cn):qt.matches;t(hs,"Didn't find any matches after fetcher action");let Xo=++Bo;$s.set(Mt,Xo);let Ca=F(Xi,Vr.data);qt.fetchers.set(Mt,Ca);let[Pa,aa]=Fe(de.history,qt,hs,Xi,Ro,!1,os,vs,Vs,Ss,oa,Hs,Fs,cn,{[Hn.route.id]:Vr.data},void 0);aa.filter(wo=>wo.key!==Mt).forEach(wo=>{let ss=wo.key,Ta=qt.fetchers.get(ss),Ws=F(void 0,Ta?Ta.data:void 0);qt.fetchers.set(ss,Ws),ho.has(ss)&&St(ss),wo.controller&&ho.set(ss,wo.controller)}),Li({fetchers:new Map(qt.fetchers)});let Xs=n(()=>aa.forEach(wo=>St(wo.key)),"abortPendingFetchRevalidations");rr.signal.addEventListener("abort",Xs);let{results:Ga,loaderResults:ua,fetcherResults:el}=await be(qt.matches,hs,Pa,aa,ds);if(rr.signal.aborted)return;rr.signal.removeEventListener("abort",Xs),$s.delete(Mt),ho.delete(Mt),aa.forEach(wo=>ho.delete(wo.key));let ka=Ui(Ga);if(ka){if(ka.idx>=Pa.length){let wo=aa[ka.idx-Pa.length].key;Hs.add(wo)}return q(qt,ka.result)}let{loaderData:Ms,errors:po}=mi(qt,qt.matches,Pa,ua,void 0,aa,el,ys);if(qt.fetchers.has(Mt)){let wo=tt(Vr.data);qt.fetchers.set(Mt,wo)}Kn(Xo),qt.navigation.state==="loading"&&Xo>ya?(t(Mr,"Expected pending action"),ur&&ur.abort(),Ys(qt.navigation.location,{matches:hs,loaderData:Ms,errors:po,fetchers:new Map(qt.fetchers)})):(Li({errors:po,loaderData:ri(qt.loaderData,Ms,hs,po),fetchers:new Map(qt.fetchers)}),os=!1)}n(X,"handleFetcherAction");async function L(Mt,Vt,un,Hn,gi,ar,Xi){let $i=qt.fetchers.get(Mt);xe(Mt,F(Xi,$i?$i.data:void 0),{flushSync:ar});let rr=new AbortController,Br=st(de.history,un,rr.signal);ho.set(Mt,rr);let ts=Bo,Vr=await Ne("loader",Br,Hn,gi,Ut,nt,cn,bn.v7_relativeSplatPath);if(nn(Vr)&&(Vr=await Yi(Vr,Br.signal,!0)||Vr),ho.get(Mt)===rr&&ho.delete(Mt),!Br.signal.aborted){if(Ss.has(Mt)){xe(Mt,tt(void 0));return}if(oi(Vr))if(ya>ts){xe(Mt,tt(void 0));return}else{Hs.add(Mt),await q(qt,Vr);return}if(ni(Vr)){et(Mt,Vt,Vr.error);return}t(!nn(Vr),"Unhandled fetcher deferred data"),xe(Mt,tt(Vr.data))}}n(L,"handleFetcherLoader");async function q(Mt,Vt,un){let{submission:Hn,fetcherSubmission:gi,replace:ar}=un===void 0?{}:un;Vt.revalidate&&(os=!0);let Xi=g(Mt.location,Vt.location,{_isRedirect:!0});if(t(Xi,"Expected a location on the redirect navigation"),Me){let Ro=!1;if(Vt.reloadDocument)Ro=!0;else if(we.test(Vt.location)){const ds=de.history.createURL(Vt.location);Ro=ds.origin!==ye.location.origin||rt(ds.pathname,cn)==null}if(Ro){ar?ye.location.replace(Vt.location):ye.location.assign(Vt.location);return}}ur=null;let $i=ar===!0?p.Replace:p.Push,{formMethod:rr,formAction:Br,formEncType:ts}=Mt.navigation;!Hn&&!gi&&rr&&Br&&ts&&(Hn=lo(Mt.navigation));let Vr=Hn||gi;if(mt.has(Vt.status)&&Vr&&cr(Vr.formMethod))await sa($i,Xi,{submission:m({},Vr,{formAction:Vt.location}),preventScrollReset:xr});else{let Ro=Gi(Xi,Hn);await sa($i,Xi,{overrideNavigation:Ro,fetcherSubmission:gi,preventScrollReset:xr})}}n(q,"startRedirectNavigation");async function be(Mt,Vt,un,Hn,gi){let ar=await Promise.all([...un.map(rr=>Ne("loader",gi,rr,Vt,Ut,nt,cn,bn.v7_relativeSplatPath)),...Hn.map(rr=>rr.matches&&rr.match&&rr.controller?Ne("loader",st(de.history,rr.path,rr.controller.signal),rr.match,rr.matches,Ut,nt,cn,bn.v7_relativeSplatPath):{type:_.error,error:mn(404,{pathname:rr.path})})]),Xi=ar.slice(0,un.length),$i=ar.slice(un.length);return await Promise.all([Dr(Mt,un,Xi,Xi.map(()=>gi.signal),!1,qt.loaderData),Dr(Mt,Hn.map(rr=>rr.match),$i,Hn.map(rr=>rr.controller?rr.controller.signal:null),!0)]),{results:ar,loaderResults:Xi,fetcherResults:$i}}n(be,"callLoadersAndMaybeResolveData");function Ce(){os=!0,vs.push(...fr()),oa.forEach((Mt,Vt)=>{ho.has(Vt)&&(Vs.push(Vt),St(Vt))})}n(Ce,"interruptActiveLoads");function xe(Mt,Vt,un){un===void 0&&(un={}),qt.fetchers.set(Mt,Vt),Li({fetchers:new Map(qt.fetchers)},{flushSync:(un&&un.flushSync)===!0})}n(xe,"updateFetcherState");function et(Mt,Vt,un,Hn){Hn===void 0&&(Hn={});let gi=ti(qt.matches,Vt);ft(Mt),Li({errors:{[gi.route.id]:un},fetchers:new Map(qt.fetchers)},{flushSync:(Hn&&Hn.flushSync)===!0})}n(et,"setFetcherError");function Rt(Mt){return bn.v7_fetcherPersist&&(Rs.set(Mt,(Rs.get(Mt)||0)+1),Ss.has(Mt)&&Ss.delete(Mt)),qt.fetchers.get(Mt)||At}n(Rt,"getFetcher");function ft(Mt){let Vt=qt.fetchers.get(Mt);ho.has(Mt)&&!(Vt&&Vt.state==="loading"&&$s.has(Mt))&&St(Mt),oa.delete(Mt),$s.delete(Mt),Hs.delete(Mt),Ss.delete(Mt),qt.fetchers.delete(Mt)}n(ft,"deleteFetcher");function Ot(Mt){if(bn.v7_fetcherPersist){let Vt=(Rs.get(Mt)||0)-1;Vt<=0?(Rs.delete(Mt),Ss.add(Mt)):Rs.set(Mt,Vt)}else ft(Mt);Li({fetchers:new Map(qt.fetchers)})}n(Ot,"deleteFetcherAndUpdateState");function St(Mt){let Vt=ho.get(Mt);t(Vt,"Expected fetch controller: "+Mt),Vt.abort(),ho.delete(Mt)}n(St,"abortFetcher");function yn(Mt){for(let Vt of Mt){let un=Rt(Vt),Hn=tt(un.data);qt.fetchers.set(Vt,Hn)}}n(yn,"markFetchersDone");function Ln(){let Mt=[],Vt=!1;for(let un of Hs){let Hn=qt.fetchers.get(un);t(Hn,"Expected fetcher: "+un),Hn.state==="loading"&&(Hs.delete(un),Mt.push(un),Vt=!0)}return yn(Mt),Vt}n(Ln,"markFetchRedirectsDone");function Kn(Mt){let Vt=[];for(let[un,Hn]of $s)if(Hn<Mt){let gi=qt.fetchers.get(un);t(gi,"Expected fetcher: "+un),gi.state==="loading"&&(St(un),$s.delete(un),Vt.push(un))}return yn(Vt),Vt.length>0}n(Kn,"abortStaleFetchLoads");function Di(Mt,Vt){let un=qt.blockers.get(Mt)||Wt;return fs.get(Mt)!==Vt&&fs.set(Mt,Vt),un}n(Di,"getBlocker");function Ni(Mt){qt.blockers.delete(Mt),fs.delete(Mt)}n(Ni,"deleteBlocker");function Hi(Mt,Vt){let un=qt.blockers.get(Mt)||Wt;t(un.state==="unblocked"&&Vt.state==="blocked"||un.state==="blocked"&&Vt.state==="blocked"||un.state==="blocked"&&Vt.state==="proceeding"||un.state==="blocked"&&Vt.state==="unblocked"||un.state==="proceeding"&&Vt.state==="unblocked","Invalid blocker state transition: "+un.state+" -> "+Vt.state);let Hn=new Map(qt.blockers);Hn.set(Mt,Vt),Li({blockers:Hn})}n(Hi,"updateBlocker");function mr(Mt){let{currentLocation:Vt,nextLocation:un,historyAction:Hn}=Mt;if(fs.size===0)return;fs.size>1&&r(!1,"A router only supports one blocker at a time");let gi=Array.from(fs.entries()),[ar,Xi]=gi[gi.length-1],$i=qt.blockers.get(ar);if(!($i&&$i.state==="proceeding")&&Xi({currentLocation:Vt,nextLocation:un,historyAction:Hn}))return ar}n(mr,"shouldBlockNavigation");function fr(Mt){let Vt=[];return ys.forEach((un,Hn)=>{(!Mt||Mt(Hn))&&(un.cancel(),Vt.push(Hn),ys.delete(Hn))}),Vt}n(fr,"cancelActiveDeferreds");function br(Mt,Vt,un){if(xn=Mt,pi=Vt,jn=un||null,!ai&&qt.navigation===bt){ai=!0;let Hn=di(qt.location,qt.matches);Hn!=null&&Li({restoreScrollPosition:Hn})}return()=>{xn=null,pi=null,jn=null}}n(br,"enableScrollRestoration");function Jr(Mt,Vt){return jn&&jn(Mt,Vt.map(Hn=>A(Hn,qt.loaderData)))||Mt.key}n(Jr,"getScrollKey");function yr(Mt,Vt){if(xn&&pi){let un=Jr(Mt,Vt);xn[un]=pi()}}n(yr,"saveScrollPosition");function di(Mt,Vt){if(xn){let un=Jr(Mt,Vt),Hn=xn[un];if(typeof Hn=="number")return Hn}return null}n(di,"getSavedScrollPosition");function Cr(Mt){Ut={},dn=T(Mt,nt,void 0,Ut)}return n(Cr,"_internalSetRoutes"),Kr={get basename(){return cn},get future(){return bn},get state(){return qt},get routes(){return wt},get window(){return ye},initialize:ul,subscribe:Io,enableScrollRestoration:br,navigate:Mi,fetch:ae,revalidate:Ea,createHref:Mt=>de.history.createHref(Mt),encodeLocation:Mt=>de.history.encodeLocation(Mt),getFetcher:Rt,deleteFetcher:Ot,dispose:ba,getBlocker:Di,deleteBlocker:Ni,_internalFetchControllers:ho,_internalActiveDeferreds:ys,_internalSetRoutes:Cr},Kr}n(se,"router_createRouter");const Ve=Symbol("deferred");function Be(de,ye){t(de.length>0,"You must provide a non-empty routes array to createStaticHandler");let Me={},Ge=(ye?ye.basename:null)||"/",nt;if(ye!=null&&ye.mapRouteProperties)nt=ye.mapRouteProperties;else if(ye!=null&&ye.detectErrorBoundary){let xn=ye.detectErrorBoundary;nt=n(jn=>({hasErrorBoundary:xn(jn)}),"mapRouteProperties")}else nt=ht;let Ut=m({v7_relativeSplatPath:!1,v7_throwAbortReason:!1},ye?ye.future:null),wt=T(de,nt,void 0,Me);async function dn(xn,jn){let{requestContext:pi}=jn===void 0?{}:jn,ai=new URL(xn.url),$n=xn.method,kn=g("",v(ai),null,"default"),Ri=I(wt,kn,Ge);if(!Sr($n)&&$n!=="HEAD"){let Rr=mn(405,{method:$n}),{matches:Kr,route:qt}=Zt(wt);return{basename:Ge,location:kn,matches:Kr,loaderData:{},actionData:null,errors:{[qt.id]:Rr},statusCode:Rr.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}else if(!Ri){let Rr=mn(404,{pathname:kn.pathname}),{matches:Kr,route:qt}=Zt(wt);return{basename:Ge,location:kn,matches:Kr,loaderData:{},actionData:null,errors:{[qt.id]:Rr},statusCode:Rr.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let pr=await bn(xn,kn,Ri,pi);return Qi(pr)?pr:m({location:kn,basename:Ge},pr)}n(dn,"query");async function cn(xn,jn){let{routeId:pi,requestContext:ai}=jn===void 0?{}:jn,$n=new URL(xn.url),kn=xn.method,Ri=g("",v($n),null,"default"),pr=I(wt,Ri,Ge);if(!Sr(kn)&&kn!=="HEAD"&&kn!=="OPTIONS")throw mn(405,{method:kn});if(!pr)throw mn(404,{pathname:Ri.pathname});let Rr=pi?pr.find(xr=>xr.route.id===pi):sr(pr,Ri);if(pi&&!Rr)throw mn(403,{pathname:Ri.pathname,routeId:pi});if(!Rr)throw mn(404,{pathname:Ri.pathname});let Kr=await bn(xn,Ri,pr,ai,Rr);if(Qi(Kr))return Kr;let qt=Kr.errors?Object.values(Kr.errors)[0]:void 0;if(qt!==void 0)throw qt;if(Kr.actionData)return Object.values(Kr.actionData)[0];if(Kr.loaderData){var Mr;let xr=Object.values(Kr.loaderData)[0];return(Mr=Kr.activeDeferreds)!=null&&Mr[Rr.route.id]&&(xr[Ve]=Kr.activeDeferreds[Rr.route.id]),xr}}n(cn,"queryRoute");async function bn(xn,jn,pi,ai,$n){t(xn.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(cr(xn.method.toLowerCase()))return await hn(xn,pi,$n||sr(pi,jn),ai,$n!=null);let kn=await Fn(xn,pi,ai,$n);return Qi(kn)?kn:m({},kn,{actionData:null,actionHeaders:{}})}catch(kn){if(Jn(kn)){if(kn.type===_.error)throw kn.response;return kn.response}if(Ei(kn))return kn;throw kn}}n(bn,"queryImpl");async function hn(xn,jn,pi,ai,$n){let kn;if(!pi.route.action&&!pi.route.lazy){let Rr=mn(405,{method:xn.method,pathname:new URL(xn.url).pathname,routeId:pi.route.id});if($n)throw Rr;kn={type:_.error,error:Rr}}else kn=await Ne("action",xn,pi,jn,Me,nt,Ge,Ut.v7_relativeSplatPath,{isStaticRequest:!0,isRouteRequest:$n,requestContext:ai}),xn.signal.aborted&&yt(xn,$n,Ut);if(oi(kn))throw new Response(null,{status:kn.status,headers:{Location:kn.location}});if(nn(kn)){let Rr=mn(400,{type:"defer-action"});if($n)throw Rr;kn={type:_.error,error:Rr}}if($n){if(ni(kn))throw kn.error;return{matches:[pi],loaderData:{},actionData:{[pi.route.id]:kn.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(ni(kn)){let Rr=ti(jn,pi.route.id),Kr=await Fn(xn,jn,ai,void 0,{[Rr.route.id]:kn.error});return m({},Kr,{statusCode:wi(kn.error)?kn.error.status:500,actionData:null,actionHeaders:m({},kn.headers?{[pi.route.id]:kn.headers}:{})})}let Ri=new Request(xn.url,{headers:xn.headers,redirect:xn.redirect,signal:xn.signal}),pr=await Fn(Ri,jn,ai);return m({},pr,kn.statusCode?{statusCode:kn.statusCode}:{},{actionData:{[pi.route.id]:kn.data},actionHeaders:m({},kn.headers?{[pi.route.id]:kn.headers}:{})})}n(hn,"submit");async function Fn(xn,jn,pi,ai,$n){let kn=ai!=null;if(kn&&!(ai!=null&&ai.route.loader)&&!(ai!=null&&ai.route.lazy))throw mn(400,{method:xn.method,pathname:new URL(xn.url).pathname,routeId:ai==null?void 0:ai.route.id});let pr=(ai?[ai]:B(jn,Object.keys($n||{})[0])).filter(xr=>xr.route.loader||xr.route.lazy);if(pr.length===0)return{matches:jn,loaderData:jn.reduce((xr,ur)=>Object.assign(xr,{[ur.route.id]:null}),{}),errors:$n||null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let Rr=await Promise.all([...pr.map(xr=>Ne("loader",xn,xr,jn,Me,nt,Ge,Ut.v7_relativeSplatPath,{isStaticRequest:!0,isRouteRequest:kn,requestContext:pi}))]);xn.signal.aborted&&yt(xn,kn,Ut);let Kr=new Map,qt=yi(jn,pr,Rr,$n,Kr),Mr=new Set(pr.map(xr=>xr.route.id));return jn.forEach(xr=>{Mr.has(xr.route.id)||(qt.loaderData[xr.route.id]=null)}),m({},qt,{matches:jn,activeDeferreds:Kr.size>0?Object.fromEntries(Kr.entries()):null})}return n(Fn,"loadRouteData"),{dataRoutes:wt,query:dn,queryRoute:cn}}n(Be,"createStaticHandler");function Yt(de,ye,Me){return m({},ye,{statusCode:wi(Me)?Me.status:500,errors:{[ye._deepestRenderedBoundaryId||de[0].id]:Me}})}n(Yt,"getStaticContextFromError");function yt(de,ye,Me){if(Me.v7_throwAbortReason&&de.signal.reason!==void 0)throw de.signal.reason;let Ge=ye?"queryRoute":"query";throw new Error(Ge+"() call aborted: "+de.method+" "+de.url)}n(yt,"throwStaticHandlerAbortedError");function Bt(de){return de!=null&&("formData"in de&&de.formData!=null||"body"in de&&de.body!==void 0)}n(Bt,"isSubmissionNavigation");function ke(de,ye,Me,Ge,nt,Ut,wt,dn){let cn,bn;if(wt){cn=[];for(let Fn of ye)if(cn.push(Fn),Fn.route.id===wt){bn=Fn;break}}else cn=ye,bn=ye[ye.length-1];let hn=It(nt||".",Xe(cn,Ut),rt(de.pathname,Me)||de.pathname,dn==="path");return nt==null&&(hn.search=de.search,hn.hash=de.hash),(nt==null||nt===""||nt===".")&&bn&&bn.route.index&&!io(hn.search)&&(hn.search=hn.search?hn.search.replace(/^\?/,"?index&"):"?index"),Ge&&Me!=="/"&&(hn.pathname=hn.pathname==="/"?Me:gt([Me,hn.pathname])),v(hn)}n(ke,"normalizeTo");function Je(de,ye,Me,Ge){if(!Ge||!Bt(Ge))return{path:Me};if(Ge.formMethod&&!Sr(Ge.formMethod))return{path:Me,error:mn(405,{method:Ge.formMethod})};let nt=n(()=>({path:Me,error:mn(400,{type:"invalid-body"})}),"getInvalidBodyError"),Ut=Ge.formMethod||"get",wt=de?Ut.toUpperCase():Ut.toLowerCase(),dn=Er(Me);if(Ge.body!==void 0){if(Ge.formEncType==="text/plain"){if(!cr(wt))return nt();let xn=typeof Ge.body=="string"?Ge.body:Ge.body instanceof FormData||Ge.body instanceof URLSearchParams?Array.from(Ge.body.entries()).reduce((jn,pi)=>{let[ai,$n]=pi;return""+jn+ai+"="+$n+`
`},""):String(Ge.body);return{path:Me,submission:{formMethod:wt,formAction:dn,formEncType:Ge.formEncType,formData:void 0,json:void 0,text:xn}}}else if(Ge.formEncType==="application/json"){if(!cr(wt))return nt();try{let xn=typeof Ge.body=="string"?JSON.parse(Ge.body):Ge.body;return{path:Me,submission:{formMethod:wt,formAction:dn,formEncType:Ge.formEncType,formData:void 0,json:xn,text:void 0}}}catch{return nt()}}}t(typeof FormData=="function","FormData is not available in this environment");let cn,bn;if(Ge.formData)cn=on(Ge.formData),bn=Ge.formData;else if(Ge.body instanceof FormData)cn=on(Ge.body),bn=Ge.body;else if(Ge.body instanceof URLSearchParams)cn=Ge.body,bn=$t(cn);else if(Ge.body==null)cn=new URLSearchParams,bn=new FormData;else try{cn=new URLSearchParams(Ge.body),bn=$t(cn)}catch{return nt()}let hn={formMethod:wt,formAction:dn,formEncType:Ge&&Ge.formEncType||"application/x-www-form-urlencoded",formData:bn,json:void 0,text:void 0};if(cr(hn.formMethod))return{path:Me,submission:hn};let Fn=u(Me);return ye&&Fn.search&&io(Fn.search)&&cn.append("index",""),Fn.search="?"+cn,{path:v(Fn),submission:hn}}n(Je,"normalizeNavigateOptions");function B(de,ye){let Me=de;if(ye){let Ge=de.findIndex(nt=>nt.route.id===ye);Ge>=0&&(Me=de.slice(0,Ge))}return Me}n(B,"getLoaderMatchesUntilBoundary");function Fe(de,ye,Me,Ge,nt,Ut,wt,dn,cn,bn,hn,Fn,xn,jn,pi,ai){let $n=ai?Object.values(ai)[0]:pi?Object.values(pi)[0]:void 0,kn=de.createURL(ye.location),Ri=de.createURL(nt),pr=ai?Object.keys(ai)[0]:void 0,Kr=B(Me,pr).filter((Mr,xr)=>{let{route:ur}=Mr;if(ur.lazy)return!0;if(ur.loader==null)return!1;if(Ut)return ur.loader.hydrate?!0:ye.loaderData[ur.id]===void 0&&(!ye.errors||ye.errors[ur.id]===void 0);if(fe(ye.loaderData,ye.matches[xr],Mr)||dn.some(oo=>oo===Mr.route.id))return!0;let To=ye.matches[xr],es=Mr;return ee(Mr,m({currentUrl:kn,currentParams:To.params,nextUrl:Ri,nextParams:es.params},Ge,{actionResult:$n,defaultShouldRevalidate:wt||kn.pathname+kn.search===Ri.pathname+Ri.search||kn.search!==Ri.search||ve(To,es)}))}),qt=[];return hn.forEach((Mr,xr)=>{if(Ut||!Me.some(Yo=>Yo.route.id===Mr.routeId)||bn.has(xr))return;let ur=I(xn,Mr.path,jn);if(!ur){qt.push({key:xr,routeId:Mr.routeId,path:Mr.path,matches:null,match:null,controller:null});return}let To=ye.fetchers.get(xr),es=sr(ur,Mr.path),oo=!1;Fn.has(xr)?oo=!1:cn.includes(xr)?oo=!0:To&&To.state!=="idle"&&To.data===void 0?oo=wt:oo=ee(es,m({currentUrl:kn,currentParams:ye.matches[ye.matches.length-1].params,nextUrl:Ri,nextParams:Me[Me.length-1].params},Ge,{actionResult:$n,defaultShouldRevalidate:wt})),oo&&qt.push({key:xr,routeId:Mr.routeId,path:Mr.path,matches:ur,match:es,controller:new AbortController})}),[Kr,qt]}n(Fe,"getMatchesToLoad");function fe(de,ye,Me){let Ge=!ye||Me.route.id!==ye.route.id,nt=de[Me.route.id]===void 0;return Ge||nt}n(fe,"isNewLoader");function ve(de,ye){let Me=de.route.path;return de.pathname!==ye.pathname||Me!=null&&Me.endsWith("*")&&de.params["*"]!==ye.params["*"]}n(ve,"isNewRouteInstance");function ee(de,ye){if(de.route.shouldRevalidate){let Me=de.route.shouldRevalidate(ye);if(typeof Me=="boolean")return Me}return ye.defaultShouldRevalidate}n(ee,"shouldRevalidateLoader");async function Et(de,ye,Me){if(!de.lazy)return;let Ge=await de.lazy();if(!de.lazy)return;let nt=Me[de.id];t(nt,"No route found in manifest");let Ut={};for(let wt in Ge){let cn=nt[wt]!==void 0&&wt!=="hasErrorBoundary";r(!cn,'Route "'+nt.id+'" has a static property "'+wt+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+wt+'" will be ignored.')),!cn&&!b.has(wt)&&(Ut[wt]=Ge[wt])}Object.assign(nt,Ut),Object.assign(nt,m({},ye(nt),{lazy:void 0}))}n(Et,"loadLazyRouteModule");async function Ne(de,ye,Me,Ge,nt,Ut,wt,dn,cn){cn===void 0&&(cn={});let bn,hn,Fn,xn=n(ai=>{let $n,kn=new Promise((Ri,pr)=>$n=pr);return Fn=n(()=>$n(),"onReject"),ye.signal.addEventListener("abort",Fn),Promise.race([ai({request:ye,params:Me.params,context:cn.requestContext}),kn])},"runHandler");try{let ai=Me.route[de];if(Me.route.lazy)if(ai){let $n,kn=await Promise.all([xn(ai).catch(Ri=>{$n=Ri}),Et(Me.route,Ut,nt)]);if($n)throw $n;hn=kn[0]}else if(await Et(Me.route,Ut,nt),ai=Me.route[de],ai)hn=await xn(ai);else if(de==="action"){let $n=new URL(ye.url),kn=$n.pathname+$n.search;throw mn(405,{method:ye.method,pathname:kn,routeId:Me.route.id})}else return{type:_.data,data:void 0};else if(ai)hn=await xn(ai);else{let $n=new URL(ye.url),kn=$n.pathname+$n.search;throw mn(404,{pathname:kn})}t(hn!==void 0,"You defined "+(de==="action"?"an action":"a loader")+" for route "+('"'+Me.route.id+"\" but didn't return anything from your `"+de+"` ")+"function. Please return a value or `null`.")}catch(ai){bn=_.error,hn=ai}finally{Fn&&ye.signal.removeEventListener("abort",Fn)}if(Qi(hn)){let ai=hn.status;if(lt.has(ai)){let kn=hn.headers.get("Location");if(t(kn,"Redirects returned/thrown from loaders/actions must have a Location header"),!we.test(kn))kn=ke(new URL(ye.url),Ge.slice(0,Ge.indexOf(Me)+1),wt,!0,kn,dn);else if(!cn.isStaticRequest){let Ri=new URL(ye.url),pr=kn.startsWith("//")?new URL(Ri.protocol+kn):new URL(kn),Rr=rt(pr.pathname,wt)!=null;pr.origin===Ri.origin&&Rr&&(kn=pr.pathname+pr.search+pr.hash)}if(cn.isStaticRequest)throw hn.headers.set("Location",kn),hn;return{type:_.redirect,status:ai,location:kn,revalidate:hn.headers.get("X-Remix-Revalidate")!==null,reloadDocument:hn.headers.get("X-Remix-Reload-Document")!==null}}if(cn.isRouteRequest)throw{type:bn===_.error?_.error:_.data,response:hn};let $n;try{let kn=hn.headers.get("Content-Type");kn&&/\bapplication\/json\b/.test(kn)?hn.body==null?$n=null:$n=await hn.json():$n=await hn.text()}catch(kn){return{type:_.error,error:kn}}return bn===_.error?{type:bn,error:new In(ai,hn.statusText,$n),headers:hn.headers}:{type:_.data,data:$n,statusCode:hn.status,headers:hn.headers}}if(bn===_.error)return{type:bn,error:hn};if(Ji(hn)){var jn,pi;return{type:_.deferred,deferredData:hn,statusCode:(jn=hn.init)==null?void 0:jn.status,headers:((pi=hn.init)==null?void 0:pi.headers)&&new Headers(hn.init.headers)}}return{type:_.data,data:hn}}n(Ne,"callLoaderOrAction");function st(de,ye,Me,Ge){let nt=de.createURL(Er(ye)).toString(),Ut={signal:Me};if(Ge&&cr(Ge.formMethod)){let{formMethod:wt,formEncType:dn}=Ge;Ut.method=wt.toUpperCase(),dn==="application/json"?(Ut.headers=new Headers({"Content-Type":dn}),Ut.body=JSON.stringify(Ge.json)):dn==="text/plain"?Ut.body=Ge.text:dn==="application/x-www-form-urlencoded"&&Ge.formData?Ut.body=on(Ge.formData):Ut.body=Ge.formData}return new Request(nt,Ut)}n(st,"createClientSideRequest");function on(de){let ye=new URLSearchParams;for(let[Me,Ge]of de.entries())ye.append(Me,typeof Ge=="string"?Ge:Ge.name);return ye}n(on,"convertFormDataToSearchParams");function $t(de){let ye=new FormData;for(let[Me,Ge]of de.entries())ye.append(Me,Ge);return ye}n($t,"convertSearchParamsToFormData");function yi(de,ye,Me,Ge,nt){let Ut={},wt=null,dn,cn=!1,bn={};return Me.forEach((hn,Fn)=>{let xn=ye[Fn].route.id;if(t(!oi(hn),"Cannot handle redirect results in processLoaderData"),ni(hn)){let jn=ti(de,xn),pi=hn.error;Ge&&(pi=Object.values(Ge)[0],Ge=void 0),wt=wt||{},wt[jn.route.id]==null&&(wt[jn.route.id]=pi),Ut[xn]=void 0,cn||(cn=!0,dn=wi(hn.error)?hn.error.status:500),hn.headers&&(bn[xn]=hn.headers)}else nn(hn)?(nt.set(xn,hn.deferredData),Ut[xn]=hn.deferredData.data):Ut[xn]=hn.data,hn.statusCode!=null&&hn.statusCode!==200&&!cn&&(dn=hn.statusCode),hn.headers&&(bn[xn]=hn.headers)}),Ge&&(wt=Ge,Ut[Object.keys(Ge)[0]]=void 0),{loaderData:Ut,errors:wt,statusCode:dn||200,loaderHeaders:bn}}n(yi,"processRouteLoaderData");function mi(de,ye,Me,Ge,nt,Ut,wt,dn){let{loaderData:cn,errors:bn}=yi(ye,Me,Ge,nt,dn);for(let hn=0;hn<Ut.length;hn++){let{key:Fn,match:xn,controller:jn}=Ut[hn];t(wt!==void 0&&wt[hn]!==void 0,"Did not find corresponding fetcher result");let pi=wt[hn];if(!(jn&&jn.signal.aborted))if(ni(pi)){let ai=ti(de.matches,xn==null?void 0:xn.route.id);bn&&bn[ai.route.id]||(bn=m({},bn,{[ai.route.id]:pi.error})),de.fetchers.delete(Fn)}else if(oi(pi))t(!1,"Unhandled fetcher revalidation redirect");else if(nn(pi))t(!1,"Unhandled fetcher deferred data");else{let ai=tt(pi.data);de.fetchers.set(Fn,ai)}}return{loaderData:cn,errors:bn}}n(mi,"processLoaderData");function ri(de,ye,Me,Ge){let nt=m({},ye);for(let Ut of Me){let wt=Ut.route.id;if(ye.hasOwnProperty(wt)?ye[wt]!==void 0&&(nt[wt]=ye[wt]):de[wt]!==void 0&&Ut.route.loader&&(nt[wt]=de[wt]),Ge&&Ge.hasOwnProperty(wt))break}return nt}n(ri,"mergeLoaderData");function ti(de,ye){return(ye?de.slice(0,de.findIndex(Ge=>Ge.route.id===ye)+1):[...de]).reverse().find(Ge=>Ge.route.hasErrorBoundary===!0)||de[0]}n(ti,"findNearestBoundary");function Zt(de){let ye=de.length===1?de[0]:de.find(Me=>Me.index||!Me.path||Me.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:ye}],route:ye}}n(Zt,"getShortCircuitMatches");function mn(de,ye){let{pathname:Me,routeId:Ge,method:nt,type:Ut}=ye===void 0?{}:ye,wt="Unknown Server Error",dn="Unknown @remix-run/router error";return de===400?(wt="Bad Request",nt&&Me&&Ge?dn="You made a "+nt+' request to "'+Me+'" but '+('did not provide a `loader` for route "'+Ge+'", ')+"so there is no way to handle the request.":Ut==="defer-action"?dn="defer() is not supported in actions":Ut==="invalid-body"&&(dn="Unable to encode submission body")):de===403?(wt="Forbidden",dn='Route "'+Ge+'" does not match URL "'+Me+'"'):de===404?(wt="Not Found",dn='No route matches URL "'+Me+'"'):de===405&&(wt="Method Not Allowed",nt&&Me&&Ge?dn="You made a "+nt.toUpperCase()+' request to "'+Me+'" but '+('did not provide an `action` for route "'+Ge+'", ')+"so there is no way to handle the request.":nt&&(dn='Invalid request method "'+nt.toUpperCase()+'"')),new In(de||500,wt,new Error(dn),!0)}n(mn,"getInternalRouterError");function Ui(de){for(let ye=de.length-1;ye>=0;ye--){let Me=de[ye];if(oi(Me))return{result:Me,idx:ye}}}n(Ui,"findRedirect");function Er(de){let ye=typeof de=="string"?u(de):de;return v(m({},ye,{hash:""}))}n(Er,"stripHashFromPath");function Dn(de,ye){return de.pathname!==ye.pathname||de.search!==ye.search?!1:de.hash===""?ye.hash!=="":de.hash===ye.hash?!0:ye.hash!==""}n(Dn,"isHashChangeOnly");function nn(de){return de.type===_.deferred}n(nn,"isDeferredResult");function ni(de){return de.type===_.error}n(ni,"isErrorResult");function oi(de){return(de&&de.type)===_.redirect}n(oi,"isRedirectResult");function Ji(de){let ye=de;return ye&&typeof ye=="object"&&typeof ye.data=="object"&&typeof ye.subscribe=="function"&&typeof ye.cancel=="function"&&typeof ye.resolveData=="function"}n(Ji,"isDeferredData");function Qi(de){return de!=null&&typeof de.status=="number"&&typeof de.statusText=="string"&&typeof de.headers=="object"&&typeof de.body<"u"}n(Qi,"isResponse");function Ei(de){if(!Qi(de))return!1;let ye=de.status,Me=de.headers.get("Location");return ye>=300&&ye<=399&&Me!=null}n(Ei,"isRedirectResponse");function Jn(de){return de&&Qi(de.response)&&(de.type===_.data||de.type===_.error)}n(Jn,"isQueryRouteResponse");function Sr(de){return Q.has(de.toLowerCase())}n(Sr,"isValidMethod");function cr(de){return An.has(de.toLowerCase())}n(cr,"isMutationMethod");async function Dr(de,ye,Me,Ge,nt,Ut){for(let wt=0;wt<Me.length;wt++){let dn=Me[wt],cn=ye[wt];if(!cn)continue;let bn=de.find(Fn=>Fn.route.id===cn.route.id),hn=bn!=null&&!ve(bn,cn)&&(Ut&&Ut[cn.route.id])!==void 0;if(nn(dn)&&(nt||hn)){let Fn=Ge[wt];t(Fn,"Expected an AbortSignal for revalidating fetcher deferred result"),await Yi(dn,Fn,nt).then(xn=>{xn&&(Me[wt]=xn||Me[wt])})}}}n(Dr,"resolveDeferredResults");async function Yi(de,ye,Me){if(Me===void 0&&(Me=!1),!await de.deferredData.resolveData(ye)){if(Me)try{return{type:_.data,data:de.deferredData.unwrappedData}}catch(nt){return{type:_.error,error:nt}}return{type:_.data,data:de.deferredData.data}}}n(Yi,"resolveDeferredData");function io(de){return new URLSearchParams(de).getAll("index").some(ye=>ye==="")}n(io,"hasNakedIndexQuery");function sr(de,ye){let Me=typeof ye=="string"?u(ye).search:ye.search;if(de[de.length-1].route.index&&io(Me||""))return de[de.length-1];let Ge=Ye(de);return Ge[Ge.length-1]}n(sr,"getTargetMatch");function lo(de){let{formMethod:ye,formAction:Me,formEncType:Ge,text:nt,formData:Ut,json:wt}=de;if(!(!ye||!Me||!Ge)){if(nt!=null)return{formMethod:ye,formAction:Me,formEncType:Ge,formData:void 0,json:void 0,text:nt};if(Ut!=null)return{formMethod:ye,formAction:Me,formEncType:Ge,formData:Ut,json:void 0,text:void 0};if(wt!==void 0)return{formMethod:ye,formAction:Me,formEncType:Ge,formData:void 0,json:wt,text:void 0}}}n(lo,"getSubmissionFromNavigation");function Gi(de,ye){return ye?{state:"loading",location:de,formMethod:ye.formMethod,formAction:ye.formAction,formEncType:ye.formEncType,formData:ye.formData,json:ye.json,text:ye.text}:{state:"loading",location:de,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}n(Gi,"getLoadingNavigation");function ji(de,ye){return{state:"submitting",location:de,formMethod:ye.formMethod,formAction:ye.formAction,formEncType:ye.formEncType,formData:ye.formData,json:ye.json,text:ye.text}}n(ji,"getSubmittingNavigation");function F(de,ye){return de?{state:"loading",formMethod:de.formMethod,formAction:de.formAction,formEncType:de.formEncType,formData:de.formData,json:de.json,text:de.text,data:ye}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:ye}}n(F,"getLoadingFetcher");function _e(de,ye){return{state:"submitting",formMethod:de.formMethod,formAction:de.formAction,formEncType:de.formEncType,formData:de.formData,json:de.json,text:de.text,data:ye?ye.data:void 0}}n(_e,"getSubmittingFetcher");function tt(de){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:de}}n(tt,"getDoneFetcher");function zt(de,ye){try{let Me=de.sessionStorage.getItem(K);if(Me){let Ge=JSON.parse(Me);for(let[nt,Ut]of Object.entries(Ge||{}))Ut&&Array.isArray(Ut)&&ye.set(nt,new Set(Ut||[]))}}catch{}}n(zt,"restoreAppliedTransitions");function gn(de,ye){if(ye.size>0){let Me={};for(let[Ge,nt]of ye)Me[Ge]=[...nt];try{de.sessionStorage.setItem(K,JSON.stringify(Me))}catch(Ge){r(!1,"Failed to save applied view transitions in sessionStorage ("+Ge+").")}}}n(gn,"persistAppliedTransitions");/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(de){for(var ye=1;ye<arguments.length;ye++){var Me=arguments[ye];for(var Ge in Me)Object.prototype.hasOwnProperty.call(Me,Ge)&&(de[Ge]=Me[Ge])}return de},Yn.apply(this,arguments)}n(Yn,"dist_extends");const bi=d.createContext(null),ei=null,si=d.createContext(null),Si=d.createContext(null),Ai=d.createContext(null),tr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),hr=d.createContext(null);function Ar(de,ye){let{relative:Me}=ye===void 0?{}:ye;co()||UNSAFE_invariant(!1);let{basename:Ge,navigator:nt}=React.useContext(Si),{hash:Ut,pathname:wt,search:dn}=Ae(de,{relative:Me}),cn=wt;return Ge!=="/"&&(cn=wt==="/"?Ge:joinPaths([Ge,wt])),nt.createHref({pathname:cn,search:dn,hash:Ut})}n(Ar,"useHref");function co(){return d.useContext(Ai)!=null}n(co,"useInRouterContext");function hi(){return co()||t(!1),d.useContext(Ai).location}n(hi,"useLocation");function $r(){return d.useContext(Ai).navigationType}n($r,"useNavigationType");function to(de){co()||UNSAFE_invariant(!1);let{pathname:ye}=hi();return React.useMemo(()=>matchPath(de,ye),[ye,de])}n(to,"useMatch");const vi=null;function vn(de){d.useContext(Si).static||d.useLayoutEffect(de)}n(vn,"useIsomorphicLayoutEffect");function Oi(){let{isDataRoute:de}=d.useContext(tr);return de?As():Zo()}n(Oi,"useNavigate");function Zo(){co()||t(!1);let de=d.useContext(bi),{basename:ye,future:Me,navigator:Ge}=d.useContext(Si),{matches:nt}=d.useContext(tr),{pathname:Ut}=hi(),wt=JSON.stringify(Xe(nt,Me.v7_relativeSplatPath)),dn=d.useRef(!1);return vn(()=>{dn.current=!0}),d.useCallback(function(bn,hn){if(hn===void 0&&(hn={}),!dn.current)return;if(typeof bn=="number"){Ge.go(bn);return}let Fn=It(bn,JSON.parse(wt),Ut,hn.relative==="path");de==null&&ye!=="/"&&(Fn.pathname=Fn.pathname==="/"?ye:gt([ye,Fn.pathname])),(hn.replace?Ge.replace:Ge.push)(Fn,hn.state,hn)},[ye,Ge,wt,Ut,de])}n(Zo,"useNavigateUnstable");const uo=null;function Ko(){return React.useContext(uo)}n(Ko,"useOutletContext");function Ho(de){let ye=React.useContext(tr).outlet;return ye&&React.createElement(uo.Provider,{value:de},ye)}n(Ho,"useOutlet");function pe(){let{matches:de}=d.useContext(tr),ye=de[de.length-1];return ye?ye.params:{}}n(pe,"useParams");function Ae(de,ye){let{relative:Me}=ye===void 0?{}:ye,{future:Ge}=React.useContext(Si),{matches:nt}=React.useContext(tr),{pathname:Ut}=hi(),wt=JSON.stringify(UNSAFE_getResolveToMatches(nt,Ge.v7_relativeSplatPath));return React.useMemo(()=>resolveTo(de,JSON.parse(wt),Ut,Me==="path"),[de,wt,Ut,Me])}n(Ae,"useResolvedPath");function Ue(de,ye){return vt(de,ye)}n(Ue,"useRoutes");function vt(de,ye,Me,Ge){co()||UNSAFE_invariant(!1);let{navigator:nt}=React.useContext(Si),{matches:Ut}=React.useContext(tr),wt=Ut[Ut.length-1],dn=wt?wt.params:{},cn=wt?wt.pathname:"/",bn=wt?wt.pathnameBase:"/",hn=wt&&wt.route,Fn=hi(),xn;if(ye){var jn;let Ri=typeof ye=="string"?parsePath(ye):ye;bn==="/"||(jn=Ri.pathname)!=null&&jn.startsWith(bn)||UNSAFE_invariant(!1),xn=Ri}else xn=Fn;let pi=xn.pathname||"/",ai=pi;if(bn!=="/"){let Ri=bn.replace(/^\//,"").split("/");ai="/"+pi.replace(/^\//,"").split("/").slice(Ri.length).join("/")}let $n=matchRoutes(de,{pathname:ai}),kn=Xn($n&&$n.map(Ri=>Object.assign({},Ri,{params:Object.assign({},dn,Ri.params),pathname:joinPaths([bn,nt.encodeLocation?nt.encodeLocation(Ri.pathname).pathname:Ri.pathname]),pathnameBase:Ri.pathnameBase==="/"?bn:joinPaths([bn,nt.encodeLocation?nt.encodeLocation(Ri.pathnameBase).pathname:Ri.pathnameBase])})),Ut,Me,Ge);return ye&&kn?React.createElement(Ai.Provider,{value:{location:Yn({pathname:"/",search:"",hash:"",state:null,key:"default"},xn),navigationType:Action.Pop}},kn):kn}n(vt,"useRoutesImpl");function Lt(){let de=er(),ye=isRouteErrorResponse(de)?de.status+" "+de.statusText:de instanceof Error?de.message:JSON.stringify(de),Me=de instanceof Error?de.stack:null,Ge="rgba(200,200,200, 0.5)",nt={padding:"0.5rem",backgroundColor:Ge},Ut={padding:"2px 4px",backgroundColor:Ge},wt=null;return React.createElement(React.Fragment,null,React.createElement("h2",null,"Unexpected Application Error!"),React.createElement("h3",{style:{fontStyle:"italic"}},ye),Me?React.createElement("pre",{style:nt},Me):null,wt)}n(Lt,"DefaultErrorComponent");const xt=null;class Cn extends d.Component{constructor(ye){super(ye),this.state={location:ye.location,revalidation:ye.revalidation,error:ye.error}}static getDerivedStateFromError(ye){return{error:ye}}static getDerivedStateFromProps(ye,Me){return Me.location!==ye.location||Me.revalidation!=="idle"&&ye.revalidation==="idle"?{error:ye.error,location:ye.location,revalidation:ye.revalidation}:{error:ye.error!==void 0?ye.error:Me.error,location:Me.location,revalidation:ye.revalidation||Me.revalidation}}componentDidCatch(ye,Me){console.error("React Router caught the following error during render",ye,Me)}render(){return this.state.error!==void 0?d.createElement(tr.Provider,{value:this.props.routeContext},d.createElement(hr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}n(Cn,"RenderErrorBoundary");function Nn(de){let{routeContext:ye,match:Me,children:Ge}=de,nt=React.useContext(bi);return nt&&nt.static&&nt.staticContext&&(Me.route.errorElement||Me.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=Me.route.id),React.createElement(tr.Provider,{value:ye},Ge)}n(Nn,"RenderedRoute");function Xn(de,ye,Me,Ge){var nt;if(ye===void 0&&(ye=[]),Me===void 0&&(Me=null),Ge===void 0&&(Ge=null),de==null){var Ut;if((Ut=Me)!=null&&Ut.errors)de=Me.matches;else return null}let wt=de,dn=(nt=Me)==null?void 0:nt.errors;if(dn!=null){let hn=wt.findIndex(Fn=>Fn.route.id&&(dn==null?void 0:dn[Fn.route.id]));hn>=0||UNSAFE_invariant(!1),wt=wt.slice(0,Math.min(wt.length,hn+1))}let cn=!1,bn=-1;if(Me&&Ge&&Ge.v7_partialHydration)for(let hn=0;hn<wt.length;hn++){let Fn=wt[hn];if((Fn.route.HydrateFallback||Fn.route.hydrateFallbackElement)&&(bn=hn),Fn.route.id){let{loaderData:xn,errors:jn}=Me,pi=Fn.route.loader&&xn[Fn.route.id]===void 0&&(!jn||jn[Fn.route.id]===void 0);if(Fn.route.lazy||pi){cn=!0,bn>=0?wt=wt.slice(0,bn+1):wt=[wt[0]];break}}}return wt.reduceRight((hn,Fn,xn)=>{let jn,pi=!1,ai=null,$n=null;Me&&(jn=dn&&Fn.route.id?dn[Fn.route.id]:void 0,ai=Fn.route.errorElement||xt,cn&&(bn<0&&xn===0?(cs("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),pi=!0,$n=null):bn===xn&&(pi=!0,$n=Fn.route.hydrateFallbackElement||null)));let kn=ye.concat(wt.slice(0,xn+1)),Ri=n(()=>{let pr;return jn?pr=ai:pi?pr=$n:Fn.route.Component?pr=React.createElement(Fn.route.Component,null):Fn.route.element?pr=Fn.route.element:pr=hn,React.createElement(Nn,{match:Fn,routeContext:{outlet:hn,matches:kn,isDataRoute:Me!=null},children:pr})},"getChildren");return Me&&(Fn.route.ErrorBoundary||Fn.route.errorElement||xn===0)?React.createElement(Cn,{location:Me.location,revalidation:Me.revalidation,component:ai,error:jn,children:Ri(),routeContext:{outlet:null,matches:kn,isDataRoute:!0}}):Ri()},null)}n(Xn,"_renderMatches");var Un=function(de){return de.UseBlocker="useBlocker",de.UseRevalidator="useRevalidator",de.UseNavigateStable="useNavigate",de}(Un||{}),Ti=function(de){return de.UseBlocker="useBlocker",de.UseLoaderData="useLoaderData",de.UseActionData="useActionData",de.UseRouteError="useRouteError",de.UseNavigation="useNavigation",de.UseRouteLoaderData="useRouteLoaderData",de.UseMatches="useMatches",de.UseRevalidator="useRevalidator",de.UseNavigateStable="useNavigate",de.UseRouteId="useRouteId",de}(Ti||{});function Tn(de){return de+" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router."}n(Tn,"getDataRouterConsoleError");function qi(de){let ye=d.useContext(bi);return ye||t(!1),ye}n(qi,"useDataRouterContext");function _i(de){let ye=React.useContext(ei);return ye||UNSAFE_invariant(!1),ye}n(_i,"useDataRouterState");function Nr(de){let ye=d.useContext(tr);return ye||t(!1),ye}n(Nr,"useRouteContext");function Ur(de){let ye=Nr(de),Me=ye.matches[ye.matches.length-1];return Me.route.id||t(!1),Me.route.id}n(Ur,"useCurrentRouteId");function Gr(){return Ur(Ti.UseRouteId)}n(Gr,"useRouteId");function ki(){return _i(Ti.UseNavigation).navigation}n(ki,"useNavigation");function Vi(){let de=qi(Un.UseRevalidator),ye=_i(Ti.UseRevalidator);return React.useMemo(()=>({revalidate:de.router.revalidate,state:ye.revalidation}),[de.router.revalidate,ye.revalidation])}n(Vi,"useRevalidator");function Zi(){let{matches:de,loaderData:ye}=_i(Ti.UseMatches);return React.useMemo(()=>de.map(Me=>UNSAFE_convertRouteMatchToUiMatch(Me,ye)),[de,ye])}n(Zi,"useMatches");function _r(){let de=_i(Ti.UseLoaderData),ye=Ur(Ti.UseLoaderData);if(de.errors&&de.errors[ye]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+ye+")");return}return de.loaderData[ye]}n(_r,"useLoaderData");function Hr(de){return _i(Ti.UseRouteLoaderData).loaderData[de]}n(Hr,"useRouteLoaderData");function Eo(){let de=_i(Ti.UseActionData),ye=Ur(Ti.UseLoaderData);return de.actionData?de.actionData[ye]:void 0}n(Eo,"useActionData");function er(){var de;let ye=React.useContext(hr),Me=_i(Ti.UseRouteError),Ge=Ur(Ti.UseRouteError);return ye!==void 0?ye:(de=Me.errors)==null?void 0:de[Ge]}n(er,"useRouteError");function Co(){let de=React.useContext(si);return de==null?void 0:de._data}n(Co,"useAsyncValue");function Fr(){let de=React.useContext(si);return de==null?void 0:de._error}n(Fr,"useAsyncError");let no=0;function Is(de){let{router:ye,basename:Me}=qi(Un.UseBlocker),Ge=_i(Ti.UseBlocker),[nt,Ut]=React.useState(""),wt=React.useCallback(dn=>{if(typeof de!="function")return!!de;if(Me==="/")return de(dn);let{currentLocation:cn,nextLocation:bn,historyAction:hn}=dn;return de({currentLocation:Yn({},cn,{pathname:stripBasename(cn.pathname,Me)||cn.pathname}),nextLocation:Yn({},bn,{pathname:stripBasename(bn.pathname,Me)||bn.pathname}),historyAction:hn})},[Me,de]);return React.useEffect(()=>{let dn=String(++no);return Ut(dn),()=>ye.deleteBlocker(dn)},[ye]),React.useEffect(()=>{nt!==""&&ye.getBlocker(nt,wt)},[ye,nt,wt]),nt&&Ge.blockers.has(nt)?Ge.blockers.get(nt):IDLE_BLOCKER}n(Is,"useBlocker");function As(){let{router:de}=qi(Un.UseNavigateStable),ye=Ur(Ti.UseNavigateStable),Me=d.useRef(!1);return vn(()=>{Me.current=!0}),d.useCallback(function(nt,Ut){Ut===void 0&&(Ut={}),Me.current&&(typeof nt=="number"?de.navigate(nt):de.navigate(nt,Yn({fromRouteId:ye},Ut)))},[de,ye])}n(As,"useNavigateStable");const ms={};function cs(de,ye,Me){!ye&&!ms[de]&&(ms[de]=!0)}n(cs,"warningOnce");const qo=h["startTransition"];function Mo(de){let{fallbackElement:ye,router:Me,future:Ge}=de,[nt,Ut]=React.useState(Me.state),{v7_startTransition:wt}=Ge||{},dn=React.useCallback(Fn=>{wt&&qo?qo(()=>Ut(Fn)):Ut(Fn)},[Ut,wt]);React.useLayoutEffect(()=>Me.subscribe(dn),[Me,dn]),React.useEffect(()=>{},[]);let cn=React.useMemo(()=>({createHref:Me.createHref,encodeLocation:Me.encodeLocation,go:Fn=>Me.navigate(Fn),push:(Fn,xn,jn)=>Me.navigate(Fn,{state:xn,preventScrollReset:jn==null?void 0:jn.preventScrollReset}),replace:(Fn,xn,jn)=>Me.navigate(Fn,{replace:!0,state:xn,preventScrollReset:jn==null?void 0:jn.preventScrollReset})}),[Me]),bn=Me.basename||"/",hn=React.useMemo(()=>({router:Me,navigator:cn,static:!1,basename:bn}),[Me,cn,bn]);return React.createElement(React.Fragment,null,React.createElement(bi.Provider,{value:hn},React.createElement(ei.Provider,{value:nt},React.createElement(Po,{basename:bn,location:nt.location,navigationType:nt.historyAction,navigator:cn,future:{v7_relativeSplatPath:Me.future.v7_relativeSplatPath}},nt.initialized||Me.future.v7_partialHydration?React.createElement(No,{routes:Me.routes,future:Me.future,state:nt}):ye))),null)}n(Mo,"RouterProvider");function No(de){let{routes:ye,future:Me,state:Ge}=de;return vt(ye,void 0,Ge,Me)}n(No,"DataRoutes");function Wo(de){let{basename:ye,children:Me,initialEntries:Ge,initialIndex:nt,future:Ut}=de,wt=React.useRef();wt.current==null&&(wt.current=createMemoryHistory({initialEntries:Ge,initialIndex:nt,v5Compat:!0}));let dn=wt.current,[cn,bn]=React.useState({action:dn.action,location:dn.location}),{v7_startTransition:hn}=Ut||{},Fn=React.useCallback(xn=>{hn&&qo?qo(()=>bn(xn)):bn(xn)},[bn,hn]);return React.useLayoutEffect(()=>dn.listen(Fn),[dn,Fn]),React.createElement(Po,{basename:ye,children:Me,location:cn.location,navigationType:cn.action,navigator:dn,future:Ut})}n(Wo,"MemoryRouter");function Fo(de){let{to:ye,replace:Me,state:Ge,relative:nt}=de;co()||UNSAFE_invariant(!1);let{future:Ut,static:wt}=React.useContext(Si),{matches:dn}=React.useContext(tr),{pathname:cn}=hi(),bn=Oi(),hn=resolveTo(ye,UNSAFE_getResolveToMatches(dn,Ut.v7_relativeSplatPath),cn,nt==="path"),Fn=JSON.stringify(hn);return React.useEffect(()=>bn(JSON.parse(Fn),{replace:Me,state:Ge,relative:nt}),[bn,Fn,nt,Me,Ge]),null}n(Fo,"Navigate");function yo(de){return Ho(de.context)}n(yo,"Outlet");function fo(de){UNSAFE_invariant(!1)}n(fo,"Route");function Po(de){let{basename:ye="/",children:Me=null,location:Ge,navigationType:nt=Action.Pop,navigator:Ut,static:wt=!1,future:dn}=de;co()&&UNSAFE_invariant(!1);let cn=ye.replace(/^\/*/,"/"),bn=React.useMemo(()=>({basename:cn,navigator:Ut,static:wt,future:Yn({v7_relativeSplatPath:!1},dn)}),[cn,dn,Ut,wt]);typeof Ge=="string"&&(Ge=parsePath(Ge));let{pathname:hn="/",search:Fn="",hash:xn="",state:jn=null,key:pi="default"}=Ge,ai=React.useMemo(()=>{let $n=stripBasename(hn,cn);return $n==null?null:{location:{pathname:$n,search:Fn,hash:xn,state:jn,key:pi},navigationType:nt}},[cn,hn,Fn,xn,jn,pi,nt]);return ai==null?null:React.createElement(Si.Provider,{value:bn},React.createElement(Ai.Provider,{children:Me,value:ai}))}n(Po,"Router");function ia(de){let{children:ye,location:Me}=de;return Ue(Ao(ye),Me)}n(ia,"Routes");function is(de){let{children:ye,errorElement:Me,resolve:Ge}=de;return React.createElement(ro,{resolve:Ge,errorElement:Me},React.createElement(Oo,null,ye))}n(is,"Await");var Go=function(de){return de[de.pending=0]="pending",de[de.success=1]="success",de[de.error=2]="error",de}(Go||{});const gs=new Promise(()=>{});class ro extends d.Component{constructor(ye){super(ye),this.state={error:null}}static getDerivedStateFromError(ye){return{error:ye}}componentDidCatch(ye,Me){console.error("<Await> caught the following error during render",ye,Me)}render(){let{children:ye,errorElement:Me,resolve:Ge}=this.props,nt=null,Ut=Go.pending;if(!(Ge instanceof Promise))Ut=Go.success,nt=Promise.resolve(),Object.defineProperty(nt,"_tracked",{get:()=>!0}),Object.defineProperty(nt,"_data",{get:()=>Ge});else if(this.state.error){Ut=Go.error;let wt=this.state.error;nt=Promise.reject().catch(()=>{}),Object.defineProperty(nt,"_tracked",{get:()=>!0}),Object.defineProperty(nt,"_error",{get:()=>wt})}else Ge._tracked?(nt=Ge,Ut=nt._error!==void 0?Go.error:nt._data!==void 0?Go.success:Go.pending):(Ut=Go.pending,Object.defineProperty(Ge,"_tracked",{get:()=>!0}),nt=Ge.then(wt=>Object.defineProperty(Ge,"_data",{get:()=>wt}),wt=>Object.defineProperty(Ge,"_error",{get:()=>wt})));if(Ut===Go.error&&nt._error instanceof Qn)throw gs;if(Ut===Go.error&&!Me)throw nt._error;if(Ut===Go.error)return d.createElement(si.Provider,{value:nt,children:Me});if(Ut===Go.success)return d.createElement(si.Provider,{value:nt,children:ye});throw nt}}n(ro,"AwaitErrorBoundary");function Oo(de){let{children:ye}=de,Me=Co(),Ge=typeof ye=="function"?ye(Me):ye;return React.createElement(React.Fragment,null,Ge)}n(Oo,"ResolveAwait");function Ao(de,ye){ye===void 0&&(ye=[]);let Me=[];return React.Children.forEach(de,(Ge,nt)=>{if(!React.isValidElement(Ge))return;let Ut=[...ye,nt];if(Ge.type===React.Fragment){Me.push.apply(Me,Ao(Ge.props.children,Ut));return}Ge.type!==fo&&UNSAFE_invariant(!1),!Ge.props.index||!Ge.props.children||UNSAFE_invariant(!1);let wt={id:Ge.props.id||Ut.join("-"),caseSensitive:Ge.props.caseSensitive,element:Ge.props.element,Component:Ge.props.Component,index:Ge.props.index,path:Ge.props.path,loader:Ge.props.loader,action:Ge.props.action,errorElement:Ge.props.errorElement,ErrorBoundary:Ge.props.ErrorBoundary,hasErrorBoundary:Ge.props.ErrorBoundary!=null||Ge.props.errorElement!=null,shouldRevalidate:Ge.props.shouldRevalidate,handle:Ge.props.handle,lazy:Ge.props.lazy};Ge.props.children&&(wt.children=Ao(Ge.props.children,Ut)),Me.push(wt)}),Me}n(Ao,"createRoutesFromChildren");function Jo(de){return Xn(de)}n(Jo,"renderMatches");function xo(de){let ye={hasErrorBoundary:de.ErrorBoundary!=null||de.errorElement!=null};return de.Component&&Object.assign(ye,{element:React.createElement(de.Component),Component:void 0}),de.HydrateFallback&&Object.assign(ye,{hydrateFallbackElement:React.createElement(de.HydrateFallback),HydrateFallback:void 0}),de.ErrorBoundary&&Object.assign(ye,{errorElement:React.createElement(de.ErrorBoundary),ErrorBoundary:void 0}),ye}n(xo,"mapRouteProperties");function ra(de,ye){return createRouter({basename:ye==null?void 0:ye.basename,future:Yn({},ye==null?void 0:ye.future,{v7_prependBasename:!0}),history:createMemoryHistory({initialEntries:ye==null?void 0:ye.initialEntries,initialIndex:ye==null?void 0:ye.initialIndex}),hydrationData:ye==null?void 0:ye.hydrationData,routes:de,mapRouteProperties:xo}).initialize()}n(ra,"createMemoryRouter")},105789326:(V,l,c)=>{"use strict";c.d(l,{e9:()=>ve,t$:()=>yi,dl:()=>mn,jS:()=>Dn,VP:()=>To,wK:()=>Ar,B8:()=>Ho,_3:()=>bn,XI:()=>Yo,PG:()=>sa,Mn:()=>zn});function d(oe,ae){if(!(oe instanceof ae))throw new TypeError("Cannot call a class as a function")}n(d,"_classCallCheck");function h(oe,ae){for(var X=0;X<ae.length;X++){var L=ae[X];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(oe,L.key,L)}}n(h,"_defineProperties");function m(oe,ae,X){return ae&&h(oe.prototype,ae),X&&h(oe,X),Object.defineProperty(oe,"prototype",{writable:!1}),oe}n(m,"_createClass");function p(oe){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},p(oe)}n(p,"_typeof");function a(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}n(a,"_assertThisInitialized");function s(oe,ae){if(ae&&(p(ae)==="object"||typeof ae=="function"))return ae;if(ae!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(oe)}n(s,"_possibleConstructorReturn");function i(oe){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():n(function(X){return X.__proto__||Object.getPrototypeOf(X)},"_getPrototypeOf"),i(oe)}n(i,"_getPrototypeOf");function e(oe,ae){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():n(function(L,q){return L.__proto__=q,L},"_setPrototypeOf"),e(oe,ae)}n(e,"_setPrototypeOf");function t(oe,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(ae&&ae.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),Object.defineProperty(oe,"prototype",{writable:!1}),ae&&e(oe,ae)}n(t,"_inherits");function r(oe,ae,X){return ae in oe?Object.defineProperty(oe,ae,{value:X,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=X,oe}n(r,"_defineProperty");var o=c(3134334389),f=c(9619874424);function g(){return g=Object.assign?Object.assign.bind():function(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae];for(var L in X)Object.prototype.hasOwnProperty.call(X,L)&&(oe[L]=X[L])}return oe},g.apply(this,arguments)}n(g,"_extends");function v(oe){var ae,X,L="";if(typeof oe=="string"||typeof oe=="number")L+=oe;else if(typeof oe=="object")if(Array.isArray(oe))for(ae=0;ae<oe.length;ae++)oe[ae]&&(X=v(oe[ae]))&&(L&&(L+=" "),L+=X);else for(ae in oe)oe[ae]&&(L&&(L+=" "),L+=ae);return L}n(v,"r");function u(){for(var oe,ae,X=0,L="";X<arguments.length;)(oe=arguments[X++])&&(ae=v(oe))&&(L&&(L+=" "),L+=ae);return L}n(u,"clsx");const S=u;function _(oe){var ae=oe.cellCount,X=oe.cellSize,L=oe.computeMetadataCallback,q=oe.computeMetadataCallbackProps,be=oe.nextCellsCount,Ce=oe.nextCellSize,xe=oe.nextScrollToIndex,et=oe.scrollToIndex,Rt=oe.updateScrollOffsetForScrollToIndex;(ae!==be||(typeof X=="number"||typeof Ce=="number")&&X!==Ce)&&(L(q),et>=0&&et===xe&&Rt())}n(_,"calculateSizeAndPositionDataAndUpdateScrollOffset");function b(oe,ae){if(oe==null)return{};var X={},L=Object.keys(oe),q,be;for(be=0;be<L.length;be++)q=L[be],!(ae.indexOf(q)>=0)&&(X[q]=oe[q]);return X}n(b,"_objectWithoutPropertiesLoose");function E(oe,ae){if(oe==null)return{};var X=b(oe,ae),L,q;if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(oe);for(q=0;q<be.length;q++)L=be[q],!(ae.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(oe,L)&&(X[L]=oe[L])}return X}n(E,"_objectWithoutProperties");var T=null,I=null,A=null,w=null,R=null,P=null,x=null,z=null,Z=null,re=null,ne=null,he=null,ge=null,Pe=null,He=null,pt=null,Ht=null,Ke=null,it=function(){function oe(ae){var X=ae.cellCount,L=ae.cellSizeGetter,q=ae.estimatedCellSize;d(this,oe),r(this,"_cellSizeAndPositionData",{}),r(this,"_lastMeasuredIndex",-1),r(this,"_lastBatchedIndex",-1),r(this,"_cellCount",void 0),r(this,"_cellSizeGetter",void 0),r(this,"_estimatedCellSize",void 0),this._cellSizeGetter=L,this._cellCount=X,this._estimatedCellSize=q}return n(oe,"CellSizeAndPositionManager"),m(oe,[{key:"areOffsetsAdjusted",value:n(function(){return!1},"areOffsetsAdjusted")},{key:"configure",value:n(function(X){var L=X.cellCount,q=X.estimatedCellSize,be=X.cellSizeGetter;this._cellCount=L,this._estimatedCellSize=q,this._cellSizeGetter=be},"configure")},{key:"getCellCount",value:n(function(){return this._cellCount},"getCellCount")},{key:"getEstimatedCellSize",value:n(function(){return this._estimatedCellSize},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:n(function(){return this._lastMeasuredIndex},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:n(function(){return 0},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:n(function(X){if(X<0||X>=this._cellCount)throw Error("Requested index ".concat(X," is outside of range 0..").concat(this._cellCount));if(X>this._lastMeasuredIndex)for(var L=this.getSizeAndPositionOfLastMeasuredCell(),q=L.offset+L.size,be=this._lastMeasuredIndex+1;be<=X;be++){var Ce=this._cellSizeGetter({index:be});if(Ce===void 0||isNaN(Ce))throw Error("Invalid size returned for cell ".concat(be," of value ").concat(Ce));Ce===null?(this._cellSizeAndPositionData[be]={offset:q,size:0},this._lastBatchedIndex=X):(this._cellSizeAndPositionData[be]={offset:q,size:Ce},q+=Ce,this._lastMeasuredIndex=X)}return this._cellSizeAndPositionData[X]},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:n(function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:n(function(){var X=this.getSizeAndPositionOfLastMeasuredCell(),L=X.offset+X.size,q=this._cellCount-this._lastMeasuredIndex-1,be=q*this._estimatedCellSize;return L+be},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:n(function(X){var L=X.align,q=L===void 0?"auto":L,be=X.containerSize,Ce=X.currentOffset,xe=X.targetIndex;if(be<=0)return 0;var et=this.getSizeAndPositionOfCell(xe),Rt=et.offset,ft=Rt-be+et.size,Ot;switch(q){case"start":Ot=Rt;break;case"end":Ot=ft;break;case"center":Ot=Rt-(be-et.size)/2;break;default:Ot=Math.max(ft,Math.min(Rt,Ce));break}var St=this.getTotalSize();return Math.max(0,Math.min(St-be,Ot))},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:n(function(X){var L=X.containerSize,q=X.offset,be=this.getTotalSize();if(be===0)return{};var Ce=q+L,xe=this._findNearestCell(q),et=this.getSizeAndPositionOfCell(xe);q=et.offset+et.size;for(var Rt=xe;q<Ce&&Rt<this._cellCount-1;)Rt++,q+=this.getSizeAndPositionOfCell(Rt).size;return{start:xe,stop:Rt}},"getVisibleCellRange")},{key:"resetCell",value:n(function(X){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,X-1)},"resetCell")},{key:"_binarySearch",value:n(function(X,L,q){for(;L<=X;){var be=L+Math.floor((X-L)/2),Ce=this.getSizeAndPositionOfCell(be).offset;if(Ce===q)return be;Ce<q?L=be+1:Ce>q&&(X=be-1)}return L>0?L-1:0},"_binarySearch")},{key:"_exponentialSearch",value:n(function(X,L){for(var q=1;X<this._cellCount&&this.getSizeAndPositionOfCell(X).offset<L;)X+=q,q*=2;return this._binarySearch(Math.min(X,this._cellCount-1),Math.floor(X/2),L)},"_exponentialSearch")},{key:"_findNearestCell",value:n(function(X){if(isNaN(X))throw Error("Invalid offset ".concat(X," specified"));X=Math.max(0,X);var L=this.getSizeAndPositionOfLastMeasuredCell(),q=Math.max(0,this._lastMeasuredIndex);return L.offset>=X?this._binarySearch(q,0,X):this._exponentialSearch(q,X)},"_findNearestCell")}]),oe}(),ct=15e5,rt=16777100,_t=n(function(){return typeof window<"u"},"isBrowser"),Gt=n(function(){return!!window.chrome},"isChrome"),Kt=n(function(){return _t()&&Gt()?rt:ct},"getMaxElementSize"),Ye=function(){function oe(ae){var X=ae.maxScrollSize,L=X===void 0?Kt():X,q=E(ae,["maxScrollSize"]);d(this,oe),r(this,"_cellSizeAndPositionManager",void 0),r(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new it(q),this._maxScrollSize=L}return n(oe,"ScalingCellSizeAndPositionManager"),m(oe,[{key:"areOffsetsAdjusted",value:n(function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize},"areOffsetsAdjusted")},{key:"configure",value:n(function(X){this._cellSizeAndPositionManager.configure(X)},"configure")},{key:"getCellCount",value:n(function(){return this._cellSizeAndPositionManager.getCellCount()},"getCellCount")},{key:"getEstimatedCellSize",value:n(function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:n(function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:n(function(X){var L=X.containerSize,q=X.offset,be=this._cellSizeAndPositionManager.getTotalSize(),Ce=this.getTotalSize(),xe=this._getOffsetPercentage({containerSize:L,offset:q,totalSize:Ce});return Math.round(xe*(Ce-be))},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:n(function(X){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(X)},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:n(function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:n(function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:n(function(X){var L=X.align,q=L===void 0?"auto":L,be=X.containerSize,Ce=X.currentOffset,xe=X.targetIndex;Ce=this._safeOffsetToOffset({containerSize:be,offset:Ce});var et=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:q,containerSize:be,currentOffset:Ce,targetIndex:xe});return this._offsetToSafeOffset({containerSize:be,offset:et})},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:n(function(X){var L=X.containerSize,q=X.offset;return q=this._safeOffsetToOffset({containerSize:L,offset:q}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:L,offset:q})},"getVisibleCellRange")},{key:"resetCell",value:n(function(X){this._cellSizeAndPositionManager.resetCell(X)},"resetCell")},{key:"_getOffsetPercentage",value:n(function(X){var L=X.containerSize,q=X.offset,be=X.totalSize;return be<=L?0:q/(be-L)},"_getOffsetPercentage")},{key:"_offsetToSafeOffset",value:n(function(X){var L=X.containerSize,q=X.offset,be=this._cellSizeAndPositionManager.getTotalSize(),Ce=this.getTotalSize();if(be===Ce)return q;var xe=this._getOffsetPercentage({containerSize:L,offset:q,totalSize:be});return Math.round(xe*(Ce-L))},"_offsetToSafeOffset")},{key:"_safeOffsetToOffset",value:n(function(X){var L=X.containerSize,q=X.offset,be=this._cellSizeAndPositionManager.getTotalSize(),Ce=this.getTotalSize();if(be===Ce)return q;var xe=this._getOffsetPercentage({containerSize:L,offset:q,totalSize:Ce});return Math.round(xe*(be-L))},"_safeOffsetToOffset")}]),oe}();function Xe(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,ae={};return function(X){var L=X.callback,q=X.indices,be=Object.keys(q),Ce=!oe||be.every(function(et){var Rt=q[et];return Array.isArray(Rt)?Rt.length>0:Rt>=0}),xe=be.length!==Object.keys(ae).length||be.some(function(et){var Rt=ae[et],ft=q[et];return Array.isArray(ft)?Rt.join(",")!==ft.join(","):Rt!==ft});ae=q,Ce&&xe&&L(q)}}n(Xe,"createCallbackMemoizer");var It=-1,kt=1,gt="horizontal",En="vertical";function pn(oe){var ae=oe.cellCount,X=oe.overscanCellsCount,L=oe.scrollDirection,q=oe.startIndex,be=oe.stopIndex;return L===kt?{overscanStartIndex:Math.max(0,q),overscanStopIndex:Math.min(ae-1,be+X)}:{overscanStartIndex:Math.max(0,q-X),overscanStopIndex:Math.min(ae-1,be)}}n(pn,"defaultOverscanIndicesGetter");function wn(oe){var ae=oe.cellSize,X=oe.cellSizeAndPositionManager,L=oe.previousCellsCount,q=oe.previousCellSize,be=oe.previousScrollToAlignment,Ce=oe.previousScrollToIndex,xe=oe.previousSize,et=oe.scrollOffset,Rt=oe.scrollToAlignment,ft=oe.scrollToIndex,Ot=oe.size,St=oe.sizeJustIncreasedFromZero,yn=oe.updateScrollIndexCallback,Ln=X.getCellCount(),Kn=ft>=0&&ft<Ln,Di=Ot!==xe||St||!q||typeof ae=="number"&&ae!==q;Kn&&(Di||Rt!==be||ft!==Ce)?yn(ft):!Kn&&Ln>0&&(Ot<xe||Ln<L)&&et>X.getTotalSize()-Ot&&yn(Ln-1)}n(wn,"updateScrollIndexHelper");function zn(oe){for(var ae=oe.cellCache,X=oe.cellRenderer,L=oe.columnSizeAndPositionManager,q=oe.columnStartIndex,be=oe.columnStopIndex,Ce=oe.deferredMeasurementCache,xe=oe.horizontalOffsetAdjustment,et=oe.isScrolling,Rt=oe.isScrollingOptOut,ft=oe.parent,Ot=oe.rowSizeAndPositionManager,St=oe.rowStartIndex,yn=oe.rowStopIndex,Ln=oe.styleCache,Kn=oe.verticalOffsetAdjustment,Di=oe.visibleColumnIndices,Ni=oe.visibleRowIndices,Hi=[],mr=L.areOffsetsAdjusted()||Ot.areOffsetsAdjusted(),fr=!et&&!mr,br=St;br<=yn;br++)for(var Jr=Ot.getSizeAndPositionOfCell(br),yr=q;yr<=be;yr++){var di=L.getSizeAndPositionOfCell(yr),Cr=yr>=Di.start&&yr<=Di.stop&&br>=Ni.start&&br<=Ni.stop,Mt="".concat(br,"-").concat(yr),Vt=void 0;fr&&Ln[Mt]?Vt=Ln[Mt]:Ce&&!Ce.has(br,yr)?Vt={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(Vt={height:Jr.size,left:di.offset+xe,position:"absolute",top:Jr.offset+Kn,width:di.size},Ln[Mt]=Vt);var un={columnIndex:yr,isScrolling:et,isVisible:Cr,key:Mt,parent:ft,rowIndex:br,style:Vt},Hn=void 0;(Rt||et)&&!xe&&!Kn?(ae[Mt]||(ae[Mt]=X(un)),Hn=ae[Mt]):Hn=X(un),!(Hn==null||Hn===!1)&&Hi.push(Hn)}return Hi}n(zn,"defaultCellRangeRenderer");function Qn(oe,ae){}n(Qn,"warnAboutMissingStyle");const Sn=!!(typeof window<"u"&&window.document&&window.document.createElement);var Zn;function lr(oe){if((!Zn&&Zn!==0||oe)&&Sn){var ae=document.createElement("div");ae.style.position="absolute",ae.style.top="-9999px",ae.style.width="50px",ae.style.height="50px",ae.style.overflow="scroll",document.body.appendChild(ae),Zn=ae.offsetWidth-ae.clientWidth,document.body.removeChild(ae)}return Zn}n(lr,"scrollbarSize");var ui;typeof window<"u"?ui=window:typeof self<"u"?ui=self:ui={};var fi=ui.requestAnimationFrame||ui.webkitRequestAnimationFrame||ui.mozRequestAnimationFrame||ui.oRequestAnimationFrame||ui.msRequestAnimationFrame||function(oe){return ui.setTimeout(oe,1e3/60)},Vn=ui.cancelAnimationFrame||ui.webkitCancelAnimationFrame||ui.mozCancelAnimationFrame||ui.oCancelAnimationFrame||ui.msCancelAnimationFrame||function(oe){ui.clearTimeout(oe)},In=fi,wi=Vn,_n=null,An=n(function(ae){return wi(ae.id)},"cancelAnimationTimeout"),sn=n(function(ae,X){var L;Promise.resolve().then(function(){L=Date.now()});var q=n(function Ce(){Date.now()-L>=X?ae.call():be.id=In(Ce)},"timeout"),be={id:In(q)};return be},"requestAnimationTimeout"),Q,lt;function mt(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(mt,"ownKeys");function bt(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?mt(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):mt(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n(bt,"_objectSpread");var At=150,Wt={OBSERVED:"observed",REQUESTED:"requested"},we=n(function(){return null},"renderNull"),ht=(lt=Q=function(oe){t(ae,oe);function ae(X){var L;d(this,ae),L=s(this,i(ae).call(this,X)),r(a(L),"_onGridRenderedMemoizer",Xe()),r(a(L),"_onScrollMemoizer",Xe(!1)),r(a(L),"_deferredInvalidateColumnIndex",null),r(a(L),"_deferredInvalidateRowIndex",null),r(a(L),"_recomputeScrollLeftFlag",!1),r(a(L),"_recomputeScrollTopFlag",!1),r(a(L),"_horizontalScrollBarSize",0),r(a(L),"_verticalScrollBarSize",0),r(a(L),"_scrollbarPresenceChanged",!1),r(a(L),"_scrollingContainer",void 0),r(a(L),"_childrenToDisplay",void 0),r(a(L),"_columnStartIndex",void 0),r(a(L),"_columnStopIndex",void 0),r(a(L),"_rowStartIndex",void 0),r(a(L),"_rowStopIndex",void 0),r(a(L),"_renderedColumnStartIndex",0),r(a(L),"_renderedColumnStopIndex",0),r(a(L),"_renderedRowStartIndex",0),r(a(L),"_renderedRowStopIndex",0),r(a(L),"_initialScrollTop",void 0),r(a(L),"_initialScrollLeft",void 0),r(a(L),"_disablePointerEventsTimeoutId",void 0),r(a(L),"_styleCache",{}),r(a(L),"_cellCache",{}),r(a(L),"_debounceScrollEndedCallback",function(){L._disablePointerEventsTimeoutId=null,L.setState({isScrolling:!1,needToResetStyleCache:!1})}),r(a(L),"_invokeOnGridRenderedHelper",function(){var Ce=L.props.onSectionRendered;L._onGridRenderedMemoizer({callback:Ce,indices:{columnOverscanStartIndex:L._columnStartIndex,columnOverscanStopIndex:L._columnStopIndex,columnStartIndex:L._renderedColumnStartIndex,columnStopIndex:L._renderedColumnStopIndex,rowOverscanStartIndex:L._rowStartIndex,rowOverscanStopIndex:L._rowStopIndex,rowStartIndex:L._renderedRowStartIndex,rowStopIndex:L._renderedRowStopIndex}})}),r(a(L),"_setScrollingContainerRef",function(Ce){L._scrollingContainer=Ce}),r(a(L),"_onScroll",function(Ce){Ce.target===L._scrollingContainer&&L.handleScrollEvent(Ce.target)});var q=new Ye({cellCount:X.columnCount,cellSizeGetter:n(function(xe){return ae._wrapSizeGetter(X.columnWidth)(xe)},"cellSizeGetter"),estimatedCellSize:ae._getEstimatedColumnSize(X)}),be=new Ye({cellCount:X.rowCount,cellSizeGetter:n(function(xe){return ae._wrapSizeGetter(X.rowHeight)(xe)},"cellSizeGetter"),estimatedCellSize:ae._getEstimatedRowSize(X)});return L.state={instanceProps:{columnSizeAndPositionManager:q,rowSizeAndPositionManager:be,prevColumnWidth:X.columnWidth,prevRowHeight:X.rowHeight,prevColumnCount:X.columnCount,prevRowCount:X.rowCount,prevIsScrolling:X.isScrolling===!0,prevScrollToColumn:X.scrollToColumn,prevScrollToRow:X.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:kt,scrollDirectionVertical:kt,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},X.scrollToRow>0&&(L._initialScrollTop=L._getCalculatedScrollTop(X,L.state)),X.scrollToColumn>0&&(L._initialScrollLeft=L._getCalculatedScrollLeft(X,L.state)),L}return n(ae,"Grid"),m(ae,[{key:"getOffsetForCell",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.alignment,be=q===void 0?this.props.scrollToAlignment:q,Ce=L.columnIndex,xe=Ce===void 0?this.props.scrollToColumn:Ce,et=L.rowIndex,Rt=et===void 0?this.props.scrollToRow:et,ft=bt({},this.props,{scrollToAlignment:be,scrollToColumn:xe,scrollToRow:Rt});return{scrollLeft:this._getCalculatedScrollLeft(ft),scrollTop:this._getCalculatedScrollTop(ft)}},"getOffsetForCell")},{key:"getTotalRowsHeight",value:n(function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()},"getTotalRowsHeight")},{key:"getTotalColumnsWidth",value:n(function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()},"getTotalColumnsWidth")},{key:"handleScrollEvent",value:n(function(L){var q=L.scrollLeft,be=q===void 0?0:q,Ce=L.scrollTop,xe=Ce===void 0?0:Ce;if(!(xe<0)){this._debounceScrollEnded();var et=this.props,Rt=et.autoHeight,ft=et.autoWidth,Ot=et.height,St=et.width,yn=this.state.instanceProps,Ln=yn.scrollbarSize,Kn=yn.rowSizeAndPositionManager.getTotalSize(),Di=yn.columnSizeAndPositionManager.getTotalSize(),Ni=Math.min(Math.max(0,Di-St+Ln),be),Hi=Math.min(Math.max(0,Kn-Ot+Ln),xe);if(this.state.scrollLeft!==Ni||this.state.scrollTop!==Hi){var mr=Ni!==this.state.scrollLeft?Ni>this.state.scrollLeft?kt:It:this.state.scrollDirectionHorizontal,fr=Hi!==this.state.scrollTop?Hi>this.state.scrollTop?kt:It:this.state.scrollDirectionVertical,br={isScrolling:!0,scrollDirectionHorizontal:mr,scrollDirectionVertical:fr,scrollPositionChangeReason:Wt.OBSERVED};Rt||(br.scrollTop=Hi),ft||(br.scrollLeft=Ni),br.needToResetStyleCache=!1,this.setState(br)}this._invokeOnScrollMemoizer({scrollLeft:Ni,scrollTop:Hi,totalColumnsWidth:Di,totalRowsHeight:Kn})}},"handleScrollEvent")},{key:"invalidateCellSizeAfterRender",value:n(function(L){var q=L.columnIndex,be=L.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,q):q,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,be):be},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:n(function(){var L=this.props,q=L.columnCount,be=L.rowCount,Ce=this.state.instanceProps;Ce.columnSizeAndPositionManager.getSizeAndPositionOfCell(q-1),Ce.rowSizeAndPositionManager.getSizeAndPositionOfCell(be-1)},"measureAllCells")},{key:"recomputeGridSize",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.columnIndex,be=q===void 0?0:q,Ce=L.rowIndex,xe=Ce===void 0?0:Ce,et=this.props,Rt=et.scrollToColumn,ft=et.scrollToRow,Ot=this.state.instanceProps;Ot.columnSizeAndPositionManager.resetCell(be),Ot.rowSizeAndPositionManager.resetCell(xe),this._recomputeScrollLeftFlag=Rt>=0&&(this.state.scrollDirectionHorizontal===kt?be<=Rt:be>=Rt),this._recomputeScrollTopFlag=ft>=0&&(this.state.scrollDirectionVertical===kt?xe<=ft:xe>=ft),this._styleCache={},this._cellCache={},this.forceUpdate()},"recomputeGridSize")},{key:"scrollToCell",value:n(function(L){var q=L.columnIndex,be=L.rowIndex,Ce=this.props.columnCount,xe=this.props;Ce>1&&q!==void 0&&this._updateScrollLeftForScrollToColumn(bt({},xe,{scrollToColumn:q})),be!==void 0&&this._updateScrollTopForScrollToRow(bt({},xe,{scrollToRow:be}))},"scrollToCell")},{key:"componentDidMount",value:n(function(){var L=this.props,q=L.getScrollbarSize,be=L.height,Ce=L.scrollLeft,xe=L.scrollToColumn,et=L.scrollTop,Rt=L.scrollToRow,ft=L.width,Ot=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),Ot.scrollbarSizeMeasured||this.setState(function(Ln){var Kn=bt({},Ln,{needToResetStyleCache:!1});return Kn.instanceProps.scrollbarSize=q(),Kn.instanceProps.scrollbarSizeMeasured=!0,Kn}),typeof Ce=="number"&&Ce>=0||typeof et=="number"&&et>=0){var St=ae._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:Ce,scrollTop:et});St&&(St.needToResetStyleCache=!1,this.setState(St))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var yn=be>0&&ft>0;xe>=0&&yn&&this._updateScrollLeftForScrollToColumn(),Rt>=0&&yn&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:Ce||0,scrollTop:et||0,totalColumnsWidth:Ot.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:Ot.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()},"componentDidMount")},{key:"componentDidUpdate",value:n(function(L,q){var be=this,Ce=this.props,xe=Ce.autoHeight,et=Ce.autoWidth,Rt=Ce.columnCount,ft=Ce.height,Ot=Ce.rowCount,St=Ce.scrollToAlignment,yn=Ce.scrollToColumn,Ln=Ce.scrollToRow,Kn=Ce.width,Di=this.state,Ni=Di.scrollLeft,Hi=Di.scrollPositionChangeReason,mr=Di.scrollTop,fr=Di.instanceProps;this._handleInvalidatedGridSize();var br=Rt>0&&L.columnCount===0||Ot>0&&L.rowCount===0;Hi===Wt.REQUESTED&&(!et&&Ni>=0&&(Ni!==this._scrollingContainer.scrollLeft||br)&&(this._scrollingContainer.scrollLeft=Ni),!xe&&mr>=0&&(mr!==this._scrollingContainer.scrollTop||br)&&(this._scrollingContainer.scrollTop=mr));var Jr=(L.width===0||L.height===0)&&ft>0&&Kn>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):wn({cellSizeAndPositionManager:fr.columnSizeAndPositionManager,previousCellsCount:L.columnCount,previousCellSize:L.columnWidth,previousScrollToAlignment:L.scrollToAlignment,previousScrollToIndex:L.scrollToColumn,previousSize:L.width,scrollOffset:Ni,scrollToAlignment:St,scrollToIndex:yn,size:Kn,sizeJustIncreasedFromZero:Jr,updateScrollIndexCallback:n(function(){return be._updateScrollLeftForScrollToColumn(be.props)},"updateScrollIndexCallback")}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):wn({cellSizeAndPositionManager:fr.rowSizeAndPositionManager,previousCellsCount:L.rowCount,previousCellSize:L.rowHeight,previousScrollToAlignment:L.scrollToAlignment,previousScrollToIndex:L.scrollToRow,previousSize:L.height,scrollOffset:mr,scrollToAlignment:St,scrollToIndex:Ln,size:ft,sizeJustIncreasedFromZero:Jr,updateScrollIndexCallback:n(function(){return be._updateScrollTopForScrollToRow(be.props)},"updateScrollIndexCallback")}),this._invokeOnGridRenderedHelper(),Ni!==q.scrollLeft||mr!==q.scrollTop){var yr=fr.rowSizeAndPositionManager.getTotalSize(),di=fr.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:Ni,scrollTop:mr,totalColumnsWidth:di,totalRowsHeight:yr})}this._maybeCallOnScrollbarPresenceChange()},"componentDidUpdate")},{key:"componentWillUnmount",value:n(function(){this._disablePointerEventsTimeoutId&&An(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:n(function(){var L=this.props,q=L.autoContainerWidth,be=L.autoHeight,Ce=L.autoWidth,xe=L.className,et=L.containerProps,Rt=L.containerRole,ft=L.containerStyle,Ot=L.height,St=L.id,yn=L.noContentRenderer,Ln=L.role,Kn=L.style,Di=L.tabIndex,Ni=L.width,Hi=this.state,mr=Hi.instanceProps,fr=Hi.needToResetStyleCache,br=this._isScrolling(),Jr={boxSizing:"border-box",direction:"ltr",height:be?"auto":Ot,position:"relative",width:Ce?"auto":Ni,WebkitOverflowScrolling:"touch",willChange:"transform"};fr&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var yr=mr.columnSizeAndPositionManager.getTotalSize(),di=mr.rowSizeAndPositionManager.getTotalSize(),Cr=di>Ot?mr.scrollbarSize:0,Mt=yr>Ni?mr.scrollbarSize:0;(Mt!==this._horizontalScrollBarSize||Cr!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=Mt,this._verticalScrollBarSize=Cr,this._scrollbarPresenceChanged=!0),Jr.overflowX=yr+Cr<=Ni?"hidden":"auto",Jr.overflowY=di+Mt<=Ot?"hidden":"auto";var Vt=this._childrenToDisplay,un=Vt.length===0&&Ot>0&&Ni>0;return o.createElement("div",g({ref:this._setScrollingContainerRef},et,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:S("ReactVirtualized__Grid",xe),id:St,onScroll:this._onScroll,role:Ln,style:bt({},Jr,{},Kn),tabIndex:Di}),Vt.length>0&&o.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:Rt,style:bt({width:q?"auto":yr,height:di,maxWidth:yr,maxHeight:di,overflow:"hidden",pointerEvents:br?"none":"",position:"relative"},ft)},Vt),un&&yn())},"render")},{key:"_calculateChildrenToRender",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,be=L.cellRenderer,Ce=L.cellRangeRenderer,xe=L.columnCount,et=L.deferredMeasurementCache,Rt=L.height,ft=L.overscanColumnCount,Ot=L.overscanIndicesGetter,St=L.overscanRowCount,yn=L.rowCount,Ln=L.width,Kn=L.isScrollingOptOut,Di=q.scrollDirectionHorizontal,Ni=q.scrollDirectionVertical,Hi=q.instanceProps,mr=this._initialScrollTop>0?this._initialScrollTop:q.scrollTop,fr=this._initialScrollLeft>0?this._initialScrollLeft:q.scrollLeft,br=this._isScrolling(L,q);if(this._childrenToDisplay=[],Rt>0&&Ln>0){var Jr=Hi.columnSizeAndPositionManager.getVisibleCellRange({containerSize:Ln,offset:fr}),yr=Hi.rowSizeAndPositionManager.getVisibleCellRange({containerSize:Rt,offset:mr}),di=Hi.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:Ln,offset:fr}),Cr=Hi.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:Rt,offset:mr});this._renderedColumnStartIndex=Jr.start,this._renderedColumnStopIndex=Jr.stop,this._renderedRowStartIndex=yr.start,this._renderedRowStopIndex=yr.stop;var Mt=Ot({direction:"horizontal",cellCount:xe,overscanCellsCount:ft,scrollDirection:Di,startIndex:typeof Jr.start=="number"?Jr.start:0,stopIndex:typeof Jr.stop=="number"?Jr.stop:-1}),Vt=Ot({direction:"vertical",cellCount:yn,overscanCellsCount:St,scrollDirection:Ni,startIndex:typeof yr.start=="number"?yr.start:0,stopIndex:typeof yr.stop=="number"?yr.stop:-1}),un=Mt.overscanStartIndex,Hn=Mt.overscanStopIndex,gi=Vt.overscanStartIndex,ar=Vt.overscanStopIndex;if(et){if(!et.hasFixedHeight()){for(var Xi=gi;Xi<=ar;Xi++)if(!et.has(Xi,0)){un=0,Hn=xe-1;break}}if(!et.hasFixedWidth()){for(var $i=un;$i<=Hn;$i++)if(!et.has(0,$i)){gi=0,ar=yn-1;break}}}this._childrenToDisplay=Ce({cellCache:this._cellCache,cellRenderer:be,columnSizeAndPositionManager:Hi.columnSizeAndPositionManager,columnStartIndex:un,columnStopIndex:Hn,deferredMeasurementCache:et,horizontalOffsetAdjustment:di,isScrolling:br,isScrollingOptOut:Kn,parent:this,rowSizeAndPositionManager:Hi.rowSizeAndPositionManager,rowStartIndex:gi,rowStopIndex:ar,scrollLeft:fr,scrollTop:mr,styleCache:this._styleCache,verticalOffsetAdjustment:Cr,visibleColumnIndices:Jr,visibleRowIndices:yr}),this._columnStartIndex=un,this._columnStopIndex=Hn,this._rowStartIndex=gi,this._rowStopIndex=ar}},"_calculateChildrenToRender")},{key:"_debounceScrollEnded",value:n(function(){var L=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&An(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=sn(this._debounceScrollEndedCallback,L)},"_debounceScrollEnded")},{key:"_handleInvalidatedGridSize",value:n(function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var L=this._deferredInvalidateColumnIndex,q=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:L,rowIndex:q})}},"_handleInvalidatedGridSize")},{key:"_invokeOnScrollMemoizer",value:n(function(L){var q=this,be=L.scrollLeft,Ce=L.scrollTop,xe=L.totalColumnsWidth,et=L.totalRowsHeight;this._onScrollMemoizer({callback:n(function(ft){var Ot=ft.scrollLeft,St=ft.scrollTop,yn=q.props,Ln=yn.height,Kn=yn.onScroll,Di=yn.width;Kn({clientHeight:Ln,clientWidth:Di,scrollHeight:et,scrollLeft:Ot,scrollTop:St,scrollWidth:xe})},"callback"),indices:{scrollLeft:be,scrollTop:Ce}})},"_invokeOnScrollMemoizer")},{key:"_isScrolling",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(L,"isScrolling")?Boolean(L.isScrolling):Boolean(q.isScrolling)},"_isScrolling")},{key:"_maybeCallOnScrollbarPresenceChange",value:n(function(){if(this._scrollbarPresenceChanged){var L=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,L({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}},"_maybeCallOnScrollbarPresenceChange")},{key:"scrollToPosition",value:n(function(L){var q=L.scrollLeft,be=L.scrollTop,Ce=ae._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:q,scrollTop:be});Ce&&(Ce.needToResetStyleCache=!1,this.setState(Ce))},"scrollToPosition")},{key:"_getCalculatedScrollLeft",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ae._getCalculatedScrollLeft(L,q)},"_getCalculatedScrollLeft")},{key:"_updateScrollLeftForScrollToColumn",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,be=ae._getScrollLeftForScrollToColumnStateUpdate(L,q);be&&(be.needToResetStyleCache=!1,this.setState(be))},"_updateScrollLeftForScrollToColumn")},{key:"_getCalculatedScrollTop",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ae._getCalculatedScrollTop(L,q)},"_getCalculatedScrollTop")},{key:"_resetStyleCache",value:n(function(){var L=this._styleCache,q=this._cellCache,be=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var Ce=this._rowStartIndex;Ce<=this._rowStopIndex;Ce++)for(var xe=this._columnStartIndex;xe<=this._columnStopIndex;xe++){var et="".concat(Ce,"-").concat(xe);this._styleCache[et]=L[et],be&&(this._cellCache[et]=q[et])}},"_resetStyleCache")},{key:"_updateScrollTopForScrollToRow",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,be=ae._getScrollTopForScrollToRowStateUpdate(L,q);be&&(be.needToResetStyleCache=!1,this.setState(be))},"_updateScrollTopForScrollToRow")}],[{key:"getDerivedStateFromProps",value:n(function(L,q){var be={};L.columnCount===0&&q.scrollLeft!==0||L.rowCount===0&&q.scrollTop!==0?(be.scrollLeft=0,be.scrollTop=0):(L.scrollLeft!==q.scrollLeft&&L.scrollToColumn<0||L.scrollTop!==q.scrollTop&&L.scrollToRow<0)&&Object.assign(be,ae._getScrollToPositionStateUpdate({prevState:q,scrollLeft:L.scrollLeft,scrollTop:L.scrollTop}));var Ce=q.instanceProps;be.needToResetStyleCache=!1,(L.columnWidth!==Ce.prevColumnWidth||L.rowHeight!==Ce.prevRowHeight)&&(be.needToResetStyleCache=!0),Ce.columnSizeAndPositionManager.configure({cellCount:L.columnCount,estimatedCellSize:ae._getEstimatedColumnSize(L),cellSizeGetter:ae._wrapSizeGetter(L.columnWidth)}),Ce.rowSizeAndPositionManager.configure({cellCount:L.rowCount,estimatedCellSize:ae._getEstimatedRowSize(L),cellSizeGetter:ae._wrapSizeGetter(L.rowHeight)}),(Ce.prevColumnCount===0||Ce.prevRowCount===0)&&(Ce.prevColumnCount=0,Ce.prevRowCount=0),L.autoHeight&&L.isScrolling===!1&&Ce.prevIsScrolling===!0&&Object.assign(be,{isScrolling:!1});var xe,et;return _({cellCount:Ce.prevColumnCount,cellSize:typeof Ce.prevColumnWidth=="number"?Ce.prevColumnWidth:null,computeMetadataCallback:n(function(){return Ce.columnSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:L,nextCellsCount:L.columnCount,nextCellSize:typeof L.columnWidth=="number"?L.columnWidth:null,nextScrollToIndex:L.scrollToColumn,scrollToIndex:Ce.prevScrollToColumn,updateScrollOffsetForScrollToIndex:n(function(){xe=ae._getScrollLeftForScrollToColumnStateUpdate(L,q)},"updateScrollOffsetForScrollToIndex")}),_({cellCount:Ce.prevRowCount,cellSize:typeof Ce.prevRowHeight=="number"?Ce.prevRowHeight:null,computeMetadataCallback:n(function(){return Ce.rowSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:L,nextCellsCount:L.rowCount,nextCellSize:typeof L.rowHeight=="number"?L.rowHeight:null,nextScrollToIndex:L.scrollToRow,scrollToIndex:Ce.prevScrollToRow,updateScrollOffsetForScrollToIndex:n(function(){et=ae._getScrollTopForScrollToRowStateUpdate(L,q)},"updateScrollOffsetForScrollToIndex")}),Ce.prevColumnCount=L.columnCount,Ce.prevColumnWidth=L.columnWidth,Ce.prevIsScrolling=L.isScrolling===!0,Ce.prevRowCount=L.rowCount,Ce.prevRowHeight=L.rowHeight,Ce.prevScrollToColumn=L.scrollToColumn,Ce.prevScrollToRow=L.scrollToRow,Ce.scrollbarSize=L.getScrollbarSize(),Ce.scrollbarSize===void 0?(Ce.scrollbarSizeMeasured=!1,Ce.scrollbarSize=0):Ce.scrollbarSizeMeasured=!0,be.instanceProps=Ce,bt({},be,{},xe,{},et)},"getDerivedStateFromProps")},{key:"_getEstimatedColumnSize",value:n(function(L){return typeof L.columnWidth=="number"?L.columnWidth:L.estimatedColumnSize},"_getEstimatedColumnSize")},{key:"_getEstimatedRowSize",value:n(function(L){return typeof L.rowHeight=="number"?L.rowHeight:L.estimatedRowSize},"_getEstimatedRowSize")},{key:"_getScrollToPositionStateUpdate",value:n(function(L){var q=L.prevState,be=L.scrollLeft,Ce=L.scrollTop,xe={scrollPositionChangeReason:Wt.REQUESTED};return typeof be=="number"&&be>=0&&(xe.scrollDirectionHorizontal=be>q.scrollLeft?kt:It,xe.scrollLeft=be),typeof Ce=="number"&&Ce>=0&&(xe.scrollDirectionVertical=Ce>q.scrollTop?kt:It,xe.scrollTop=Ce),typeof be=="number"&&be>=0&&be!==q.scrollLeft||typeof Ce=="number"&&Ce>=0&&Ce!==q.scrollTop?xe:{}},"_getScrollToPositionStateUpdate")},{key:"_wrapSizeGetter",value:n(function(L){return typeof L=="function"?L:function(){return L}},"_wrapSizeGetter")},{key:"_getCalculatedScrollLeft",value:n(function(L,q){var be=L.columnCount,Ce=L.height,xe=L.scrollToAlignment,et=L.scrollToColumn,Rt=L.width,ft=q.scrollLeft,Ot=q.instanceProps;if(be>0){var St=be-1,yn=et<0?St:Math.min(St,et),Ln=Ot.rowSizeAndPositionManager.getTotalSize(),Kn=Ot.scrollbarSizeMeasured&&Ln>Ce?Ot.scrollbarSize:0;return Ot.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:xe,containerSize:Rt-Kn,currentOffset:ft,targetIndex:yn})}return 0},"_getCalculatedScrollLeft")},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:n(function(L,q){var be=q.scrollLeft,Ce=ae._getCalculatedScrollLeft(L,q);return typeof Ce=="number"&&Ce>=0&&be!==Ce?ae._getScrollToPositionStateUpdate({prevState:q,scrollLeft:Ce,scrollTop:-1}):{}},"_getScrollLeftForScrollToColumnStateUpdate")},{key:"_getCalculatedScrollTop",value:n(function(L,q){var be=L.height,Ce=L.rowCount,xe=L.scrollToAlignment,et=L.scrollToRow,Rt=L.width,ft=q.scrollTop,Ot=q.instanceProps;if(Ce>0){var St=Ce-1,yn=et<0?St:Math.min(St,et),Ln=Ot.columnSizeAndPositionManager.getTotalSize(),Kn=Ot.scrollbarSizeMeasured&&Ln>Rt?Ot.scrollbarSize:0;return Ot.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:xe,containerSize:be-Kn,currentOffset:ft,targetIndex:yn})}return 0},"_getCalculatedScrollTop")},{key:"_getScrollTopForScrollToRowStateUpdate",value:n(function(L,q){var be=q.scrollTop,Ce=ae._getCalculatedScrollTop(L,q);return typeof Ce=="number"&&Ce>=0&&be!==Ce?ae._getScrollToPositionStateUpdate({prevState:q,scrollLeft:-1,scrollTop:Ce}):{}},"_getScrollTopForScrollToRowStateUpdate")}]),ae}(o.PureComponent),r(Q,"propTypes",null),lt);r(ht,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:zn,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:lr,noContentRenderer:we,onScroll:n(function(){},"onScroll"),onScrollbarPresenceChange:n(function(){},"onScrollbarPresenceChange"),onSectionRendered:n(function(){},"onSectionRendered"),overscanColumnCount:0,overscanIndicesGetter:pn,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:At,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),(0,f.polyfill)(ht);const K=ht;var se=null,Ve=1,Be="horizontal",Yt="vertical";function yt(oe){var ae=oe.cellCount,X=oe.overscanCellsCount,L=oe.scrollDirection,q=oe.startIndex,be=oe.stopIndex;return X=Math.max(1,X),L===Ve?{overscanStartIndex:Math.max(0,q-1),overscanStopIndex:Math.min(ae-1,be+X)}:{overscanStartIndex:Math.max(0,q-X),overscanStopIndex:Math.min(ae-1,be+1)}}n(yt,"accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter");var Bt=null,ke,Je;function B(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(B,"ArrowKeyStepper_ownKeys");function Fe(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?B(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):B(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n(Fe,"ArrowKeyStepper_objectSpread");var fe=(Je=ke=function(oe){t(ae,oe);function ae(){var X,L;d(this,ae);for(var q=arguments.length,be=new Array(q),Ce=0;Ce<q;Ce++)be[Ce]=arguments[Ce];return L=s(this,(X=i(ae)).call.apply(X,[this].concat(be))),r(a(L),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),r(a(L),"_columnStartIndex",0),r(a(L),"_columnStopIndex",0),r(a(L),"_rowStartIndex",0),r(a(L),"_rowStopIndex",0),r(a(L),"_onKeyDown",function(xe){var et=L.props,Rt=et.columnCount,ft=et.disabled,Ot=et.mode,St=et.rowCount;if(!ft){var yn=L._getScrollState(),Ln=yn.scrollToColumn,Kn=yn.scrollToRow,Di=L._getScrollState(),Ni=Di.scrollToColumn,Hi=Di.scrollToRow;switch(xe.key){case"ArrowDown":Hi=Math.min(Ot==="cells"?Hi+1:L._rowStopIndex+1,St-1);break;case"ArrowLeft":Ni=Math.max(Ot==="cells"?Ni-1:L._columnStartIndex-1,0);break;case"ArrowRight":Ni=Math.min(Ot==="cells"?Ni+1:L._columnStopIndex+1,Rt-1);break;case"ArrowUp":Hi=Math.max(Ot==="cells"?Hi-1:L._rowStartIndex-1,0);break}(Ni!==Ln||Hi!==Kn)&&(xe.preventDefault(),L._updateScrollState({scrollToColumn:Ni,scrollToRow:Hi}))}}),r(a(L),"_onSectionRendered",function(xe){var et=xe.columnStartIndex,Rt=xe.columnStopIndex,ft=xe.rowStartIndex,Ot=xe.rowStopIndex;L._columnStartIndex=et,L._columnStopIndex=Rt,L._rowStartIndex=ft,L._rowStopIndex=Ot}),L}return n(ae,"ArrowKeyStepper"),m(ae,[{key:"setScrollIndexes",value:n(function(L){var q=L.scrollToColumn,be=L.scrollToRow;this.setState({scrollToRow:be,scrollToColumn:q})},"setScrollIndexes")},{key:"render",value:n(function(){var L=this.props,q=L.className,be=L.children,Ce=this._getScrollState(),xe=Ce.scrollToColumn,et=Ce.scrollToRow;return o.createElement("div",{className:q,onKeyDown:this._onKeyDown},be({onSectionRendered:this._onSectionRendered,scrollToColumn:xe,scrollToRow:et}))},"render")},{key:"_getScrollState",value:n(function(){return this.props.isControlled?this.props:this.state},"_getScrollState")},{key:"_updateScrollState",value:n(function(L){var q=L.scrollToColumn,be=L.scrollToRow,Ce=this.props,xe=Ce.isControlled,et=Ce.onScrollToChange;typeof et=="function"&&et({scrollToColumn:q,scrollToRow:be}),xe||this.setState({scrollToColumn:q,scrollToRow:be})},"_updateScrollState")}],[{key:"getDerivedStateFromProps",value:n(function(L,q){return L.isControlled?{}:L.scrollToColumn!==q.instanceProps.prevScrollToColumn||L.scrollToRow!==q.instanceProps.prevScrollToRow?Fe({},q,{scrollToColumn:L.scrollToColumn,scrollToRow:L.scrollToRow,instanceProps:{prevScrollToColumn:L.scrollToColumn,prevScrollToRow:L.scrollToRow}}):{}},"getDerivedStateFromProps")}]),ae}(o.PureComponent),r(ke,"propTypes",null),Je);r(fe,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),(0,f.polyfill)(fe);const ve=fe;var ee=n(()=>'<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',"resizeTriggersHtml");function Et(oe,ae){var X;typeof ae<"u"?X=ae:typeof window<"u"?X=window:typeof self<"u"?X=self:X=c.g;var L=typeof X.document<"u"&&X.document.attachEvent;if(!L){var q=function(){var yr=X.requestAnimationFrame||X.mozRequestAnimationFrame||X.webkitRequestAnimationFrame||function(di){return X.setTimeout(di,20)};return function(di){return yr(di)}}(),be=function(){var yr=X.cancelAnimationFrame||X.mozCancelAnimationFrame||X.webkitCancelAnimationFrame||X.clearTimeout;return function(di){return yr(di)}}(),Ce=n(function(di){var Cr=di.__resizeTriggers__,Mt=Cr.firstElementChild,Vt=Cr.lastElementChild,un=Mt.firstElementChild;Vt.scrollLeft=Vt.scrollWidth,Vt.scrollTop=Vt.scrollHeight,un.style.width=Mt.offsetWidth+1+"px",un.style.height=Mt.offsetHeight+1+"px",Mt.scrollLeft=Mt.scrollWidth,Mt.scrollTop=Mt.scrollHeight},"resetTriggers"),xe=n(function(di){return di.offsetWidth!=di.__resizeLast__.width||di.offsetHeight!=di.__resizeLast__.height},"checkTriggers"),et=n(function(di){if(!(di.target.className&&typeof di.target.className.indexOf=="function"&&di.target.className.indexOf("contract-trigger")<0&&di.target.className.indexOf("expand-trigger")<0)){var Cr=this;Ce(this),this.__resizeRAF__&&be(this.__resizeRAF__),this.__resizeRAF__=q(function(){xe(Cr)&&(Cr.__resizeLast__.width=Cr.offsetWidth,Cr.__resizeLast__.height=Cr.offsetHeight,Cr.__resizeListeners__.forEach(function(Mt){Mt.call(Cr,di)}))})}},"scrollListener"),Rt=!1,ft="",Ot="animationstart",St="Webkit Moz O ms".split(" "),yn="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),Ln="";{var Kn=X.document.createElement("fakeelement");if(Kn.style.animationName!==void 0&&(Rt=!0),Rt===!1){for(var Di=0;Di<St.length;Di++)if(Kn.style[St[Di]+"AnimationName"]!==void 0){Ln=St[Di],ft="-"+Ln.toLowerCase()+"-",Ot=yn[Di],Rt=!0;break}}}var Ni="resizeanim",Hi="@"+ft+"keyframes "+Ni+" { from { opacity: 0; } to { opacity: 0; } } ",mr=ft+"animation: 1ms "+Ni+"; "}var fr=n(function(di){if(!di.getElementById("detectElementResize")){var Cr=(Hi||"")+".resize-triggers { "+(mr||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',Mt=di.head||di.getElementsByTagName("head")[0],Vt=di.createElement("style");Vt.id="detectElementResize",Vt.type="text/css",oe!=null&&Vt.setAttribute("nonce",oe),Vt.styleSheet?Vt.styleSheet.cssText=Cr:Vt.appendChild(di.createTextNode(Cr)),Mt.appendChild(Vt)}},"createStyles"),br=n(function(di,Cr){if(L)di.attachEvent("onresize",Cr);else{if(!di.__resizeTriggers__){var Mt=di.ownerDocument,Vt=X.getComputedStyle(di);if(Vt&&Vt.position=="static"&&(di.style.position="relative"),fr(Mt),di.__resizeLast__={},di.__resizeListeners__=[],(di.__resizeTriggers__=Mt.createElement("div")).className="resize-triggers",window.trustedTypes){var un=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:ee});di.__resizeTriggers__.innerHTML=un.createHTML("")}else di.__resizeTriggers__.innerHTML=ee();di.appendChild(di.__resizeTriggers__),Ce(di),di.addEventListener("scroll",et,!0),Ot&&(di.__resizeTriggers__.__animationListener__=n(function(gi){gi.animationName==Ni&&Ce(di)},"animationListener"),di.__resizeTriggers__.addEventListener(Ot,di.__resizeTriggers__.__animationListener__))}di.__resizeListeners__.push(Cr)}},"addResizeListener"),Jr=n(function(di,Cr){if(L)di.detachEvent("onresize",Cr);else if(di.__resizeListeners__.splice(di.__resizeListeners__.indexOf(Cr),1),!di.__resizeListeners__.length){di.removeEventListener("scroll",et,!0),di.__resizeTriggers__.__animationListener__&&(di.__resizeTriggers__.removeEventListener(Ot,di.__resizeTriggers__.__animationListener__),di.__resizeTriggers__.__animationListener__=null);try{di.__resizeTriggers__=!di.removeChild(di.__resizeTriggers__)}catch{}}},"removeResizeListener");return{addResizeListener:br,removeResizeListener:Jr}}n(Et,"createDetectElementResize");var Ne,st;function on(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(on,"AutoSizer_ownKeys");function $t(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?on(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):on(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n($t,"AutoSizer_objectSpread");var yi=(st=Ne=function(oe){t(ae,oe);function ae(){var X,L;d(this,ae);for(var q=arguments.length,be=new Array(q),Ce=0;Ce<q;Ce++)be[Ce]=arguments[Ce];return L=s(this,(X=i(ae)).call.apply(X,[this].concat(be))),r(a(L),"state",{height:L.props.defaultHeight||0,width:L.props.defaultWidth||0}),r(a(L),"_parentNode",void 0),r(a(L),"_autoSizer",void 0),r(a(L),"_window",void 0),r(a(L),"_detectElementResize",void 0),r(a(L),"_onResize",function(){var xe=L.props,et=xe.disableHeight,Rt=xe.disableWidth,ft=xe.onResize;if(L._parentNode){var Ot=L._parentNode.offsetHeight||0,St=L._parentNode.offsetWidth||0,yn=L._window||window,Ln=yn.getComputedStyle(L._parentNode)||{},Kn=parseInt(Ln.paddingLeft,10)||0,Di=parseInt(Ln.paddingRight,10)||0,Ni=parseInt(Ln.paddingTop,10)||0,Hi=parseInt(Ln.paddingBottom,10)||0,mr=Ot-Ni-Hi,fr=St-Kn-Di;(!et&&L.state.height!==mr||!Rt&&L.state.width!==fr)&&(L.setState({height:Ot-Ni-Hi,width:St-Kn-Di}),ft({height:Ot,width:St}))}}),r(a(L),"_setRef",function(xe){L._autoSizer=xe}),L}return n(ae,"AutoSizer"),m(ae,[{key:"componentDidMount",value:n(function(){var L=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Et(L,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())},"componentDidMount")},{key:"componentWillUnmount",value:n(function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)},"componentWillUnmount")},{key:"render",value:n(function(){var L=this.props,q=L.children,be=L.className,Ce=L.disableHeight,xe=L.disableWidth,et=L.style,Rt=this.state,ft=Rt.height,Ot=Rt.width,St={overflow:"visible"},yn={};return Ce||(St.height=0,yn.height=ft),xe||(St.width=0,yn.width=Ot),o.createElement("div",{className:be,ref:this._setRef,style:$t({},St,{},et)},q(yn))},"render")}]),ae}(o.Component),r(Ne,"propTypes",null),st);r(yi,"defaultProps",{onResize:n(function(){},"onResize"),disableHeight:!1,disableWidth:!1,style:{}});var mi=c(9322124936),ri=null,ti,Zt,mn=(Zt=ti=function(oe){t(ae,oe);function ae(){var X,L;d(this,ae);for(var q=arguments.length,be=new Array(q),Ce=0;Ce<q;Ce++)be[Ce]=arguments[Ce];return L=s(this,(X=i(ae)).call.apply(X,[this].concat(be))),r(a(L),"_child",void 0),r(a(L),"_measure",function(){var xe=L.props,et=xe.cache,Rt=xe.columnIndex,ft=Rt===void 0?0:Rt,Ot=xe.parent,St=xe.rowIndex,yn=St===void 0?L.props.index||0:St,Ln=L._getCellMeasurements(),Kn=Ln.height,Di=Ln.width;(Kn!==et.getHeight(yn,ft)||Di!==et.getWidth(yn,ft))&&(et.set(yn,ft,Di,Kn),Ot&&typeof Ot.recomputeGridSize=="function"&&Ot.recomputeGridSize({columnIndex:ft,rowIndex:yn}))}),r(a(L),"_registerChild",function(xe){xe&&!(xe instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),L._child=xe,xe&&L._maybeMeasureCell()}),L}return n(ae,"CellMeasurer"),m(ae,[{key:"componentDidMount",value:n(function(){this._maybeMeasureCell()},"componentDidMount")},{key:"componentDidUpdate",value:n(function(){this._maybeMeasureCell()},"componentDidUpdate")},{key:"render",value:n(function(){var L=this.props.children;return typeof L=="function"?L({measure:this._measure,registerChild:this._registerChild}):L},"render")},{key:"_getCellMeasurements",value:n(function(){var L=this.props.cache,q=this._child||(0,mi.findDOMNode)(this);if(q&&q.ownerDocument&&q.ownerDocument.defaultView&&q instanceof q.ownerDocument.defaultView.HTMLElement){var be=q.style.width,Ce=q.style.height;L.hasFixedWidth()||(q.style.width="auto"),L.hasFixedHeight()||(q.style.height="auto");var xe=Math.ceil(q.offsetHeight),et=Math.ceil(q.offsetWidth);return be&&(q.style.width=be),Ce&&(q.style.height=Ce),{height:xe,width:et}}else return{height:0,width:0}},"_getCellMeasurements")},{key:"_maybeMeasureCell",value:n(function(){var L=this.props,q=L.cache,be=L.columnIndex,Ce=be===void 0?0:be,xe=L.parent,et=L.rowIndex,Rt=et===void 0?this.props.index||0:et;if(!q.has(Rt,Ce)){var ft=this._getCellMeasurements(),Ot=ft.height,St=ft.width;q.set(Rt,Ce,St,Ot),xe&&typeof xe.invalidateCellSizeAfterRender=="function"&&xe.invalidateCellSizeAfterRender({columnIndex:Ce,rowIndex:Rt})}},"_maybeMeasureCell")}]),ae}(o.PureComponent),r(ti,"propTypes",null),Zt);r(mn,"__internalCellMeasurerFlag",!1);var Ui=30,Er=100,Dn=function(){function oe(){var ae=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d(this,oe),r(this,"_cellHeightCache",{}),r(this,"_cellWidthCache",{}),r(this,"_columnWidthCache",{}),r(this,"_rowHeightCache",{}),r(this,"_defaultHeight",void 0),r(this,"_defaultWidth",void 0),r(this,"_minHeight",void 0),r(this,"_minWidth",void 0),r(this,"_keyMapper",void 0),r(this,"_hasFixedHeight",void 0),r(this,"_hasFixedWidth",void 0),r(this,"_columnCount",0),r(this,"_rowCount",0),r(this,"columnWidth",function(ft){var Ot=ft.index,St=ae._keyMapper(0,Ot);return ae._columnWidthCache[St]!==void 0?ae._columnWidthCache[St]:ae._defaultWidth}),r(this,"rowHeight",function(ft){var Ot=ft.index,St=ae._keyMapper(Ot,0);return ae._rowHeightCache[St]!==void 0?ae._rowHeightCache[St]:ae._defaultHeight});var L=X.defaultHeight,q=X.defaultWidth,be=X.fixedHeight,Ce=X.fixedWidth,xe=X.keyMapper,et=X.minHeight,Rt=X.minWidth;this._hasFixedHeight=be===!0,this._hasFixedWidth=Ce===!0,this._minHeight=et||0,this._minWidth=Rt||0,this._keyMapper=xe||nn,this._defaultHeight=Math.max(this._minHeight,typeof L=="number"?L:Ui),this._defaultWidth=Math.max(this._minWidth,typeof q=="number"?q:Er)}return n(oe,"CellMeasurerCache"),m(oe,[{key:"clear",value:n(function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=this._keyMapper(X,L);delete this._cellHeightCache[q],delete this._cellWidthCache[q],this._updateCachedColumnAndRowSizes(X,L)},"clear")},{key:"clearAll",value:n(function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0},"clearAll")},{key:"hasFixedHeight",value:n(function(){return this._hasFixedHeight},"hasFixedHeight")},{key:"hasFixedWidth",value:n(function(){return this._hasFixedWidth},"hasFixedWidth")},{key:"getHeight",value:n(function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var q=this._keyMapper(X,L);return this._cellHeightCache[q]!==void 0?Math.max(this._minHeight,this._cellHeightCache[q]):this._defaultHeight},"getHeight")},{key:"getWidth",value:n(function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var q=this._keyMapper(X,L);return this._cellWidthCache[q]!==void 0?Math.max(this._minWidth,this._cellWidthCache[q]):this._defaultWidth},"getWidth")},{key:"has",value:n(function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=this._keyMapper(X,L);return this._cellHeightCache[q]!==void 0},"has")},{key:"set",value:n(function(X,L,q,be){var Ce=this._keyMapper(X,L);L>=this._columnCount&&(this._columnCount=L+1),X>=this._rowCount&&(this._rowCount=X+1),this._cellHeightCache[Ce]=be,this._cellWidthCache[Ce]=q,this._updateCachedColumnAndRowSizes(X,L)},"set")},{key:"_updateCachedColumnAndRowSizes",value:n(function(X,L){if(!this._hasFixedWidth){for(var q=0,be=0;be<this._rowCount;be++)q=Math.max(q,this.getWidth(be,L));var Ce=this._keyMapper(0,L);this._columnWidthCache[Ce]=q}if(!this._hasFixedHeight){for(var xe=0,et=0;et<this._columnCount;et++)xe=Math.max(xe,this.getHeight(X,et));var Rt=this._keyMapper(X,0);this._rowHeightCache[Rt]=xe}},"_updateCachedColumnAndRowSizes")},{key:"defaultHeight",get:n(function(){return this._defaultHeight},"get")},{key:"defaultWidth",get:n(function(){return this._defaultWidth},"get")}]),oe}();function nn(oe,ae){return"".concat(oe,"-").concat(ae)}n(nn,"defaultKeyMapper");const ni=null;function oi(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(oi,"CollectionView_ownKeys");function Ji(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?oi(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):oi(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n(Ji,"CollectionView_objectSpread");var Qi=150,Ei={OBSERVED:"observed",REQUESTED:"requested"},Jn=function(oe){t(ae,oe);function ae(){var X,L;d(this,ae);for(var q=arguments.length,be=new Array(q),Ce=0;Ce<q;Ce++)be[Ce]=arguments[Ce];return L=s(this,(X=i(ae)).call.apply(X,[this].concat(be))),r(a(L),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),r(a(L),"_calculateSizeAndPositionDataOnNextUpdate",!1),r(a(L),"_onSectionRenderedMemoizer",Xe()),r(a(L),"_onScrollMemoizer",Xe(!1)),r(a(L),"_invokeOnSectionRenderedHelper",function(){var xe=L.props,et=xe.cellLayoutManager,Rt=xe.onSectionRendered;L._onSectionRenderedMemoizer({callback:Rt,indices:{indices:et.getLastRenderedIndices()}})}),r(a(L),"_setScrollingContainerRef",function(xe){L._scrollingContainer=xe}),r(a(L),"_updateScrollPositionForScrollToCell",function(){var xe=L.props,et=xe.cellLayoutManager,Rt=xe.height,ft=xe.scrollToAlignment,Ot=xe.scrollToCell,St=xe.width,yn=L.state,Ln=yn.scrollLeft,Kn=yn.scrollTop;if(Ot>=0){var Di=et.getScrollPositionForCell({align:ft,cellIndex:Ot,height:Rt,scrollLeft:Ln,scrollTop:Kn,width:St});(Di.scrollLeft!==Ln||Di.scrollTop!==Kn)&&L._setScrollPosition(Di)}}),r(a(L),"_onScroll",function(xe){if(xe.target===L._scrollingContainer){L._enablePointerEventsAfterDelay();var et=L.props,Rt=et.cellLayoutManager,ft=et.height,Ot=et.isScrollingChange,St=et.width,yn=L._scrollbarSize,Ln=Rt.getTotalSize(),Kn=Ln.height,Di=Ln.width,Ni=Math.max(0,Math.min(Di-St+yn,xe.target.scrollLeft)),Hi=Math.max(0,Math.min(Kn-ft+yn,xe.target.scrollTop));if(L.state.scrollLeft!==Ni||L.state.scrollTop!==Hi){var mr=xe.cancelable?Ei.OBSERVED:Ei.REQUESTED;L.state.isScrolling||Ot(!0),L.setState({isScrolling:!0,scrollLeft:Ni,scrollPositionChangeReason:mr,scrollTop:Hi})}L._invokeOnScrollMemoizer({scrollLeft:Ni,scrollTop:Hi,totalWidth:Di,totalHeight:Kn})}}),L._scrollbarSize=lr(),L._scrollbarSize===void 0?(L._scrollbarSizeMeasured=!1,L._scrollbarSize=0):L._scrollbarSizeMeasured=!0,L}return n(ae,"CollectionView"),m(ae,[{key:"recomputeCellSizesAndPositions",value:n(function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()},"recomputeCellSizesAndPositions")},{key:"componentDidMount",value:n(function(){var L=this.props,q=L.cellLayoutManager,be=L.scrollLeft,Ce=L.scrollToCell,xe=L.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=lr(),this._scrollbarSizeMeasured=!0,this.setState({})),Ce>=0?this._updateScrollPositionForScrollToCell():(be>=0||xe>=0)&&this._setScrollPosition({scrollLeft:be,scrollTop:xe}),this._invokeOnSectionRenderedHelper();var et=q.getTotalSize(),Rt=et.height,ft=et.width;this._invokeOnScrollMemoizer({scrollLeft:be||0,scrollTop:xe||0,totalHeight:Rt,totalWidth:ft})},"componentDidMount")},{key:"componentDidUpdate",value:n(function(L,q){var be=this.props,Ce=be.height,xe=be.scrollToAlignment,et=be.scrollToCell,Rt=be.width,ft=this.state,Ot=ft.scrollLeft,St=ft.scrollPositionChangeReason,yn=ft.scrollTop;St===Ei.REQUESTED&&(Ot>=0&&Ot!==q.scrollLeft&&Ot!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=Ot),yn>=0&&yn!==q.scrollTop&&yn!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=yn)),(Ce!==L.height||xe!==L.scrollToAlignment||et!==L.scrollToCell||Rt!==L.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()},"componentDidUpdate")},{key:"componentWillUnmount",value:n(function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:n(function(){var L=this.props,q=L.autoHeight,be=L.cellCount,Ce=L.cellLayoutManager,xe=L.className,et=L.height,Rt=L.horizontalOverscanSize,ft=L.id,Ot=L.noContentRenderer,St=L.style,yn=L.verticalOverscanSize,Ln=L.width,Kn=this.state,Di=Kn.isScrolling,Ni=Kn.scrollLeft,Hi=Kn.scrollTop;(this._lastRenderedCellCount!==be||this._lastRenderedCellLayoutManager!==Ce||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=be,this._lastRenderedCellLayoutManager=Ce,this._calculateSizeAndPositionDataOnNextUpdate=!1,Ce.calculateSizeAndPositionData());var mr=Ce.getTotalSize(),fr=mr.height,br=mr.width,Jr=Math.max(0,Ni-Rt),yr=Math.max(0,Hi-yn),di=Math.min(br,Ni+Ln+Rt),Cr=Math.min(fr,Hi+et+yn),Mt=et>0&&Ln>0?Ce.cellRenderers({height:Cr-yr,isScrolling:Di,width:di-Jr,x:Jr,y:yr}):[],Vt={boxSizing:"border-box",direction:"ltr",height:q?"auto":et,position:"relative",WebkitOverflowScrolling:"touch",width:Ln,willChange:"transform"},un=fr>et?this._scrollbarSize:0,Hn=br>Ln?this._scrollbarSize:0;return Vt.overflowX=br+un<=Ln?"hidden":"auto",Vt.overflowY=fr+Hn<=et?"hidden":"auto",o.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:S("ReactVirtualized__Collection",xe),id:ft,onScroll:this._onScroll,role:"grid",style:Ji({},Vt,{},St),tabIndex:0},be>0&&o.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:fr,maxHeight:fr,maxWidth:br,overflow:"hidden",pointerEvents:Di?"none":"",width:br}},Mt),be===0&&Ot())},"render")},{key:"_enablePointerEventsAfterDelay",value:n(function(){var L=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var q=L.props.isScrollingChange;q(!1),L._disablePointerEventsTimeoutId=null,L.setState({isScrolling:!1})},Qi)},"_enablePointerEventsAfterDelay")},{key:"_invokeOnScrollMemoizer",value:n(function(L){var q=this,be=L.scrollLeft,Ce=L.scrollTop,xe=L.totalHeight,et=L.totalWidth;this._onScrollMemoizer({callback:n(function(ft){var Ot=ft.scrollLeft,St=ft.scrollTop,yn=q.props,Ln=yn.height,Kn=yn.onScroll,Di=yn.width;Kn({clientHeight:Ln,clientWidth:Di,scrollHeight:xe,scrollLeft:Ot,scrollTop:St,scrollWidth:et})},"callback"),indices:{scrollLeft:be,scrollTop:Ce}})},"_invokeOnScrollMemoizer")},{key:"_setScrollPosition",value:n(function(L){var q=L.scrollLeft,be=L.scrollTop,Ce={scrollPositionChangeReason:Ei.REQUESTED};q>=0&&(Ce.scrollLeft=q),be>=0&&(Ce.scrollTop=be),(q>=0&&q!==this.state.scrollLeft||be>=0&&be!==this.state.scrollTop)&&this.setState(Ce)},"_setScrollPosition")}],[{key:"getDerivedStateFromProps",value:n(function(L,q){return L.cellCount===0&&(q.scrollLeft!==0||q.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Ei.REQUESTED}:L.scrollLeft!==q.scrollLeft||L.scrollTop!==q.scrollTop?{scrollLeft:L.scrollLeft!=null?L.scrollLeft:q.scrollLeft,scrollTop:L.scrollTop!=null?L.scrollTop:q.scrollTop,scrollPositionChangeReason:Ei.REQUESTED}:null},"getDerivedStateFromProps")}]),ae}(o.PureComponent);r(Jn,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:n(function(){return null},"noContentRenderer"),onScroll:n(function(){return null},"onScroll"),onSectionRendered:n(function(){return null},"onSectionRendered"),scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),Jn.propTypes={},(0,f.polyfill)(Jn);const Sr=Jn;var cr=null,Dr=null,Yi=null,io=null,sr=null,lo=function(){function oe(ae){var X=ae.height,L=ae.width,q=ae.x,be=ae.y;d(this,oe),this.height=X,this.width=L,this.x=q,this.y=be,this._indexMap={},this._indices=[]}return n(oe,"Section"),m(oe,[{key:"addCellIndex",value:n(function(X){var L=X.index;this._indexMap[L]||(this._indexMap[L]=!0,this._indices.push(L))},"addCellIndex")},{key:"getCellIndices",value:n(function(){return this._indices},"getCellIndices")},{key:"toString",value:n(function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)},"toString")}]),oe}(),Gi=100,ji=function(){function oe(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gi;d(this,oe),this._sectionSize=ae,this._cellMetadata=[],this._sections={}}return n(oe,"SectionManager"),m(oe,[{key:"getCellIndices",value:n(function(X){var L=X.height,q=X.width,be=X.x,Ce=X.y,xe={};return this.getSections({height:L,width:q,x:be,y:Ce}).forEach(function(et){return et.getCellIndices().forEach(function(Rt){xe[Rt]=Rt})}),Object.keys(xe).map(function(et){return xe[et]})},"getCellIndices")},{key:"getCellMetadata",value:n(function(X){var L=X.index;return this._cellMetadata[L]},"getCellMetadata")},{key:"getSections",value:n(function(X){for(var L=X.height,q=X.width,be=X.x,Ce=X.y,xe=Math.floor(be/this._sectionSize),et=Math.floor((be+q-1)/this._sectionSize),Rt=Math.floor(Ce/this._sectionSize),ft=Math.floor((Ce+L-1)/this._sectionSize),Ot=[],St=xe;St<=et;St++)for(var yn=Rt;yn<=ft;yn++){var Ln="".concat(St,".").concat(yn);this._sections[Ln]||(this._sections[Ln]=new lo({height:this._sectionSize,width:this._sectionSize,x:St*this._sectionSize,y:yn*this._sectionSize})),Ot.push(this._sections[Ln])}return Ot},"getSections")},{key:"getTotalSectionCount",value:n(function(){return Object.keys(this._sections).length},"getTotalSectionCount")},{key:"toString",value:n(function(){var X=this;return Object.keys(this._sections).map(function(L){return X._sections[L].toString()})},"toString")},{key:"registerCell",value:n(function(X){var L=X.cellMetadatum,q=X.index;this._cellMetadata[q]=L,this.getSections(L).forEach(function(be){return be.addCellIndex({index:q})})},"registerCell")}]),oe}();function F(oe){for(var ae=oe.cellCount,X=oe.cellSizeAndPositionGetter,L=oe.sectionSize,q=[],be=new ji(L),Ce=0,xe=0,et=0;et<ae;et++){var Rt=X({index:et});if(Rt.height==null||isNaN(Rt.height)||Rt.width==null||isNaN(Rt.width)||Rt.x==null||isNaN(Rt.x)||Rt.y==null||isNaN(Rt.y))throw Error("Invalid metadata returned for cell ".concat(et,`:
        x:`).concat(Rt.x,", y:").concat(Rt.y,", width:").concat(Rt.width,", height:").concat(Rt.height));Ce=Math.max(Ce,Rt.y+Rt.height),xe=Math.max(xe,Rt.x+Rt.width),q[et]=Rt,be.registerCell({cellMetadatum:Rt,index:et})}return{cellMetadata:q,height:Ce,sectionManager:be,width:xe}}n(F,"calculateSizeAndPositionData_calculateSizeAndPositionData");function _e(oe){var ae=oe.align,X=ae===void 0?"auto":ae,L=oe.cellOffset,q=oe.cellSize,be=oe.containerSize,Ce=oe.currentOffset,xe=L,et=xe-be+q;switch(X){case"start":return xe;case"end":return et;case"center":return xe-(be-q)/2;default:return Math.max(et,Math.min(xe,Ce))}}n(_e,"getUpdatedOffsetForIndex");var tt=function(oe){t(ae,oe);function ae(X,L){var q;return d(this,ae),q=s(this,i(ae).call(this,X,L)),q._cellMetadata=[],q._lastRenderedCellIndices=[],q._cellCache=[],q._isScrollingChange=q._isScrollingChange.bind(a(q)),q._setCollectionViewRef=q._setCollectionViewRef.bind(a(q)),q}return n(ae,"Collection"),m(ae,[{key:"forceUpdate",value:n(function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()},"forceUpdate")},{key:"recomputeCellSizesAndPositions",value:n(function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()},"recomputeCellSizesAndPositions")},{key:"render",value:n(function(){var L=g({},this.props);return o.createElement(Sr,g({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},L))},"render")},{key:"calculateSizeAndPositionData",value:n(function(){var L=this.props,q=L.cellCount,be=L.cellSizeAndPositionGetter,Ce=L.sectionSize,xe=F({cellCount:q,cellSizeAndPositionGetter:be,sectionSize:Ce});this._cellMetadata=xe.cellMetadata,this._sectionManager=xe.sectionManager,this._height=xe.height,this._width=xe.width},"calculateSizeAndPositionData")},{key:"getLastRenderedIndices",value:n(function(){return this._lastRenderedCellIndices},"getLastRenderedIndices")},{key:"getScrollPositionForCell",value:n(function(L){var q=L.align,be=L.cellIndex,Ce=L.height,xe=L.scrollLeft,et=L.scrollTop,Rt=L.width,ft=this.props.cellCount;if(be>=0&&be<ft){var Ot=this._cellMetadata[be];xe=_e({align:q,cellOffset:Ot.x,cellSize:Ot.width,containerSize:Rt,currentOffset:xe,targetIndex:be}),et=_e({align:q,cellOffset:Ot.y,cellSize:Ot.height,containerSize:Ce,currentOffset:et,targetIndex:be})}return{scrollLeft:xe,scrollTop:et}},"getScrollPositionForCell")},{key:"getTotalSize",value:n(function(){return{height:this._height,width:this._width}},"getTotalSize")},{key:"cellRenderers",value:n(function(L){var q=this,be=L.height,Ce=L.isScrolling,xe=L.width,et=L.x,Rt=L.y,ft=this.props,Ot=ft.cellGroupRenderer,St=ft.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:be,width:xe,x:et,y:Rt}),Ot({cellCache:this._cellCache,cellRenderer:St,cellSizeAndPositionGetter:n(function(Ln){var Kn=Ln.index;return q._sectionManager.getCellMetadata({index:Kn})},"cellSizeAndPositionGetter"),indices:this._lastRenderedCellIndices,isScrolling:Ce})},"cellRenderers")},{key:"_isScrollingChange",value:n(function(L){L||(this._cellCache=[])},"_isScrollingChange")},{key:"_setCollectionViewRef",value:n(function(L){this._collectionView=L},"_setCollectionViewRef")}]),ae}(o.PureComponent);r(tt,"defaultProps",{"aria-label":"grid",cellGroupRenderer:zt}),tt.propTypes={};function zt(oe){var ae=oe.cellCache,X=oe.cellRenderer,L=oe.cellSizeAndPositionGetter,q=oe.indices,be=oe.isScrolling;return q.map(function(Ce){var xe=L({index:Ce}),et={index:Ce,isScrolling:be,key:Ce,style:{height:xe.height,left:xe.x,position:"absolute",top:xe.y,width:xe.width}};return be?(Ce in ae||(ae[Ce]=X(et)),ae[Ce]):X(et)}).filter(function(Ce){return!!Ce})}n(zt,"defaultCellGroupRenderer");const gn=null;var Yn=function(oe){t(ae,oe);function ae(X,L){var q;return d(this,ae),q=s(this,i(ae).call(this,X,L)),q._registerChild=q._registerChild.bind(a(q)),q}return n(ae,"ColumnSizer"),m(ae,[{key:"componentDidUpdate",value:n(function(L){var q=this.props,be=q.columnMaxWidth,Ce=q.columnMinWidth,xe=q.columnCount,et=q.width;(be!==L.columnMaxWidth||Ce!==L.columnMinWidth||xe!==L.columnCount||et!==L.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()},"componentDidUpdate")},{key:"render",value:n(function(){var L=this.props,q=L.children,be=L.columnMaxWidth,Ce=L.columnMinWidth,xe=L.columnCount,et=L.width,Rt=Ce||1,ft=be?Math.min(be,et):et,Ot=et/xe;Ot=Math.max(Rt,Ot),Ot=Math.min(ft,Ot),Ot=Math.floor(Ot);var St=Math.min(et,Ot*xe);return q({adjustedWidth:St,columnWidth:Ot,getColumnWidth:n(function(){return Ot},"getColumnWidth"),registerChild:this._registerChild})},"render")},{key:"_registerChild",value:n(function(L){if(L&&typeof L.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=L,this._registeredChild&&this._registeredChild.recomputeGridSize()},"_registerChild")}]),ae}(o.PureComponent);Yn.propTypes={};const bi=null;function ei(oe,ae){(ae==null||ae>oe.length)&&(ae=oe.length);for(var X=0,L=new Array(ae);X<ae;X++)L[X]=oe[X];return L}n(ei,"_arrayLikeToArray");function si(oe){if(Array.isArray(oe))return ei(oe)}n(si,"_arrayWithoutHoles");function Si(oe){if(typeof Symbol<"u"&&oe[Symbol.iterator]!=null||oe["@@iterator"]!=null)return Array.from(oe)}n(Si,"_iterableToArray");function Ai(oe,ae){if(oe){if(typeof oe=="string")return ei(oe,ae);var X=Object.prototype.toString.call(oe).slice(8,-1);if(X==="Object"&&oe.constructor&&(X=oe.constructor.name),X==="Map"||X==="Set")return Array.from(oe);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return ei(oe,ae)}}n(Ai,"_unsupportedIterableToArray");function tr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n(tr,"_nonIterableSpread");function hr(oe){return si(oe)||Si(oe)||Ai(oe)||tr()}n(hr,"_toConsumableArray");var Ar=function(oe){t(ae,oe);function ae(X,L){var q;return d(this,ae),q=s(this,i(ae).call(this,X,L)),q._loadMoreRowsMemoizer=Xe(),q._onRowsRendered=q._onRowsRendered.bind(a(q)),q._registerChild=q._registerChild.bind(a(q)),q}return n(ae,"InfiniteLoader"),m(ae,[{key:"resetLoadMoreRowsCache",value:n(function(L){this._loadMoreRowsMemoizer=Xe(),L&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)},"resetLoadMoreRowsCache")},{key:"render",value:n(function(){var L=this.props.children;return L({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})},"render")},{key:"_loadUnloadedRanges",value:n(function(L){var q=this,be=this.props.loadMoreRows;L.forEach(function(Ce){var xe=be(Ce);xe&&xe.then(function(){co({lastRenderedStartIndex:q._lastRenderedStartIndex,lastRenderedStopIndex:q._lastRenderedStopIndex,startIndex:Ce.startIndex,stopIndex:Ce.stopIndex})&&q._registeredChild&&$r(q._registeredChild,q._lastRenderedStartIndex)})})},"_loadUnloadedRanges")},{key:"_onRowsRendered",value:n(function(L){var q=L.startIndex,be=L.stopIndex;this._lastRenderedStartIndex=q,this._lastRenderedStopIndex=be,this._doStuff(q,be)},"_onRowsRendered")},{key:"_doStuff",value:n(function(L,q){var be,Ce=this,xe=this.props,et=xe.isRowLoaded,Rt=xe.minimumBatchSize,ft=xe.rowCount,Ot=xe.threshold,St=hi({isRowLoaded:et,minimumBatchSize:Rt,rowCount:ft,startIndex:Math.max(0,L-Ot),stopIndex:Math.min(ft-1,q+Ot)}),yn=(be=[]).concat.apply(be,hr(St.map(function(Ln){var Kn=Ln.startIndex,Di=Ln.stopIndex;return[Kn,Di]})));this._loadMoreRowsMemoizer({callback:n(function(){Ce._loadUnloadedRanges(St)},"callback"),indices:{squashedUnloadedRanges:yn}})},"_doStuff")},{key:"_registerChild",value:n(function(L){this._registeredChild=L},"_registerChild")}]),ae}(o.PureComponent);r(Ar,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),Ar.propTypes={};function co(oe){var ae=oe.lastRenderedStartIndex,X=oe.lastRenderedStopIndex,L=oe.startIndex,q=oe.stopIndex;return!(L>X||q<ae)}n(co,"isRangeVisible");function hi(oe){for(var ae=oe.isRowLoaded,X=oe.minimumBatchSize,L=oe.rowCount,q=oe.startIndex,be=oe.stopIndex,Ce=[],xe=null,et=null,Rt=q;Rt<=be;Rt++){var ft=ae({index:Rt});ft?et!==null&&(Ce.push({startIndex:xe,stopIndex:et}),xe=et=null):(et=Rt,xe===null&&(xe=Rt))}if(et!==null){for(var Ot=Math.min(Math.max(et,xe+X-1),L-1),St=et+1;St<=Ot&&!ae({index:St});St++)et=St;Ce.push({startIndex:xe,stopIndex:et})}if(Ce.length)for(var yn=Ce[0];yn.stopIndex-yn.startIndex+1<X&&yn.startIndex>0;){var Ln=yn.startIndex-1;if(!ae({index:Ln}))yn.startIndex=Ln;else break}return Ce}n(hi,"scanForUnloadedRanges");function $r(oe){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=typeof oe.recomputeGridSize=="function"?oe.recomputeGridSize:oe.recomputeRowHeights;X?X.call(oe,ae):oe.forceUpdate()}n($r,"forceUpdateReactVirtualizedComponent");const to=null;var vi=null,vn=null,Oi=null,Zo=null,uo,Ko,Ho=(Ko=uo=function(oe){t(ae,oe);function ae(){var X,L;d(this,ae);for(var q=arguments.length,be=new Array(q),Ce=0;Ce<q;Ce++)be[Ce]=arguments[Ce];return L=s(this,(X=i(ae)).call.apply(X,[this].concat(be))),r(a(L),"Grid",void 0),r(a(L),"_cellRenderer",function(xe){var et=xe.parent,Rt=xe.rowIndex,ft=xe.style,Ot=xe.isScrolling,St=xe.isVisible,yn=xe.key,Ln=L.props.rowRenderer,Kn=Object.getOwnPropertyDescriptor(ft,"width");return Kn&&Kn.writable&&(ft.width="100%"),Ln({index:Rt,style:ft,isScrolling:Ot,isVisible:St,key:yn,parent:et})}),r(a(L),"_setRef",function(xe){L.Grid=xe}),r(a(L),"_onScroll",function(xe){var et=xe.clientHeight,Rt=xe.scrollHeight,ft=xe.scrollTop,Ot=L.props.onScroll;Ot({clientHeight:et,scrollHeight:Rt,scrollTop:ft})}),r(a(L),"_onSectionRendered",function(xe){var et=xe.rowOverscanStartIndex,Rt=xe.rowOverscanStopIndex,ft=xe.rowStartIndex,Ot=xe.rowStopIndex,St=L.props.onRowsRendered;St({overscanStartIndex:et,overscanStopIndex:Rt,startIndex:ft,stopIndex:Ot})}),L}return n(ae,"List"),m(ae,[{key:"forceUpdateGrid",value:n(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:n(function(L){var q=L.alignment,be=L.index;if(this.Grid){var Ce=this.Grid.getOffsetForCell({alignment:q,rowIndex:be,columnIndex:0}),xe=Ce.scrollTop;return xe}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:n(function(L){var q=L.columnIndex,be=L.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:be,columnIndex:q})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:n(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.columnIndex,be=q===void 0?0:q,Ce=L.rowIndex,xe=Ce===void 0?0:Ce;this.Grid&&this.Grid.recomputeGridSize({rowIndex:xe,columnIndex:be})},"recomputeGridSize")},{key:"recomputeRowHeights",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L,columnIndex:0})},"recomputeRowHeights")},{key:"scrollToPosition",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})},"scrollToPosition")},{key:"scrollToRow",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})},"scrollToRow")},{key:"render",value:n(function(){var L=this.props,q=L.className,be=L.noRowsRenderer,Ce=L.scrollToIndex,xe=L.width,et=S("ReactVirtualized__List",q);return o.createElement(K,g({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:et,columnWidth:xe,columnCount:1,noContentRenderer:be,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:Ce}))},"render")}]),ae}(o.PureComponent),r(uo,"propTypes",null),Ko);r(Ho,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:n(function(){},"onScroll"),noRowsRenderer:n(function(){return null},"noRowsRenderer"),onRowsRendered:n(function(){},"onRowsRendered"),overscanIndicesGetter:yt,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function pe(oe){if(Array.isArray(oe))return oe}n(pe,"_arrayWithHoles");function Ae(oe,ae){var X=oe==null?null:typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(X!=null){var L=[],q=!0,be=!1,Ce,xe;try{for(X=X.call(oe);!(q=(Ce=X.next()).done)&&(L.push(Ce.value),!(ae&&L.length===ae));q=!0);}catch(et){be=!0,xe=et}finally{try{!q&&X.return!=null&&X.return()}finally{if(be)throw xe}}return L}}n(Ae,"_iterableToArrayLimit");function Ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n(Ue,"_nonIterableRest");function vt(oe,ae){return pe(oe)||Ae(oe,ae)||Ai(oe,ae)||Ue()}n(vt,"_slicedToArray");function Lt(oe,ae,X,L){for(var q=X+1;ae<=X;){var be=ae+X>>>1,Ce=oe[be];Ce>=L?(q=be,X=be-1):ae=be+1}return q}n(Lt,"_GEA");function xt(oe,ae,X,L,q){for(var be=X+1;ae<=X;){var Ce=ae+X>>>1,xe=oe[Ce];q(xe,L)>=0?(be=Ce,X=Ce-1):ae=Ce+1}return be}n(xt,"_GEP");function Cn(oe,ae,X,L,q){return typeof X=="function"?xt(oe,L===void 0?0:L|0,q===void 0?oe.length-1:q|0,ae,X):Lt(oe,X===void 0?0:X|0,L===void 0?oe.length-1:L|0,ae)}n(Cn,"dispatchBsearchGE");function Nn(oe,ae,X,L){for(var q=X+1;ae<=X;){var be=ae+X>>>1,Ce=oe[be];Ce>L?(q=be,X=be-1):ae=be+1}return q}n(Nn,"_GTA");function Xn(oe,ae,X,L,q){for(var be=X+1;ae<=X;){var Ce=ae+X>>>1,xe=oe[Ce];q(xe,L)>0?(be=Ce,X=Ce-1):ae=Ce+1}return be}n(Xn,"_GTP");function Un(oe,ae,X,L,q){return typeof X=="function"?Xn(oe,L===void 0?0:L|0,q===void 0?oe.length-1:q|0,ae,X):Nn(oe,X===void 0?0:X|0,L===void 0?oe.length-1:L|0,ae)}n(Un,"dispatchBsearchGT");function Ti(oe,ae,X,L){for(var q=ae-1;ae<=X;){var be=ae+X>>>1,Ce=oe[be];Ce<L?(q=be,ae=be+1):X=be-1}return q}n(Ti,"_LTA");function Tn(oe,ae,X,L,q){for(var be=ae-1;ae<=X;){var Ce=ae+X>>>1,xe=oe[Ce];q(xe,L)<0?(be=Ce,ae=Ce+1):X=Ce-1}return be}n(Tn,"_LTP");function qi(oe,ae,X,L,q){return typeof X=="function"?Tn(oe,L===void 0?0:L|0,q===void 0?oe.length-1:q|0,ae,X):Ti(oe,X===void 0?0:X|0,L===void 0?oe.length-1:L|0,ae)}n(qi,"dispatchBsearchLT");function _i(oe,ae,X,L){for(var q=ae-1;ae<=X;){var be=ae+X>>>1,Ce=oe[be];Ce<=L?(q=be,ae=be+1):X=be-1}return q}n(_i,"_LEA");function Nr(oe,ae,X,L,q){for(var be=ae-1;ae<=X;){var Ce=ae+X>>>1,xe=oe[Ce];q(xe,L)<=0?(be=Ce,ae=Ce+1):X=Ce-1}return be}n(Nr,"_LEP");function Ur(oe,ae,X,L,q){return typeof X=="function"?Nr(oe,L===void 0?0:L|0,q===void 0?oe.length-1:q|0,ae,X):_i(oe,X===void 0?0:X|0,L===void 0?oe.length-1:L|0,ae)}n(Ur,"dispatchBsearchLE");function Gr(oe,ae,X,L){for(ae-1;ae<=X;){var q=ae+X>>>1,be=oe[q];if(be===L)return q;be<=L?ae=q+1:X=q-1}return-1}n(Gr,"_EQA");function ki(oe,ae,X,L,q){for(ae-1;ae<=X;){var be=ae+X>>>1,Ce=oe[be],xe=q(Ce,L);if(xe===0)return be;xe<=0?ae=be+1:X=be-1}return-1}n(ki,"_EQP");function Vi(oe,ae,X,L,q){return typeof X=="function"?ki(oe,L===void 0?0:L|0,q===void 0?oe.length-1:q|0,ae,X):Gr(oe,X===void 0?0:X|0,L===void 0?oe.length-1:L|0,ae)}n(Vi,"dispatchBsearchEQ");const Zi={ge:Cn,gt:Un,lt:qi,le:Ur,eq:Vi};var _r=0,Hr=1,Eo=2;function er(oe,ae,X,L,q){this.mid=oe,this.left=ae,this.right=X,this.leftPoints=L,this.rightPoints=q,this.count=(ae?ae.count:0)+(X?X.count:0)+L.length}n(er,"IntervalTreeNode");var Co=er.prototype;function Fr(oe,ae){oe.mid=ae.mid,oe.left=ae.left,oe.right=ae.right,oe.leftPoints=ae.leftPoints,oe.rightPoints=ae.rightPoints,oe.count=ae.count}n(Fr,"copy");function no(oe,ae){var X=Wo(ae);oe.mid=X.mid,oe.left=X.left,oe.right=X.right,oe.leftPoints=X.leftPoints,oe.rightPoints=X.rightPoints,oe.count=X.count}n(no,"rebuild");function Is(oe,ae){var X=oe.intervals([]);X.push(ae),no(oe,X)}n(Is,"rebuildWithInterval");function As(oe,ae){var X=oe.intervals([]),L=X.indexOf(ae);return L<0?_r:(X.splice(L,1),no(oe,X),Hr)}n(As,"rebuildWithoutInterval"),Co.intervals=function(oe){return oe.push.apply(oe,this.leftPoints),this.left&&this.left.intervals(oe),this.right&&this.right.intervals(oe),oe},Co.insert=function(oe){var ae=this.count-this.leftPoints.length;if(this.count+=1,oe[1]<this.mid)this.left?4*(this.left.count+1)>3*(ae+1)?Is(this,oe):this.left.insert(oe):this.left=Wo([oe]);else if(oe[0]>this.mid)this.right?4*(this.right.count+1)>3*(ae+1)?Is(this,oe):this.right.insert(oe):this.right=Wo([oe]);else{var X=Zi.ge(this.leftPoints,oe,Mo),L=Zi.ge(this.rightPoints,oe,No);this.leftPoints.splice(X,0,oe),this.rightPoints.splice(L,0,oe)}},Co.remove=function(oe){var ae=this.count-this.leftPoints;if(oe[1]<this.mid){if(!this.left)return _r;var X=this.right?this.right.count:0;if(4*X>3*(ae-1))return As(this,oe);var L=this.left.remove(oe);return L===Eo?(this.left=null,this.count-=1,Hr):(L===Hr&&(this.count-=1),L)}else if(oe[0]>this.mid){if(!this.right)return _r;var q=this.left?this.left.count:0;if(4*q>3*(ae-1))return As(this,oe);var L=this.right.remove(oe);return L===Eo?(this.right=null,this.count-=1,Hr):(L===Hr&&(this.count-=1),L)}else{if(this.count===1)return this.leftPoints[0]===oe?Eo:_r;if(this.leftPoints.length===1&&this.leftPoints[0]===oe){if(this.left&&this.right){for(var be=this,Ce=this.left;Ce.right;)be=Ce,Ce=Ce.right;if(be===this)Ce.right=this.right;else{var xe=this.left,L=this.right;be.count-=Ce.count,be.right=Ce.left,Ce.left=xe,Ce.right=L}Fr(this,Ce),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Fr(this,this.left):Fr(this,this.right);return Hr}for(var xe=Zi.ge(this.leftPoints,oe,Mo);xe<this.leftPoints.length&&this.leftPoints[xe][0]===oe[0];++xe)if(this.leftPoints[xe]===oe){this.count-=1,this.leftPoints.splice(xe,1);for(var L=Zi.ge(this.rightPoints,oe,No);L<this.rightPoints.length&&this.rightPoints[L][1]===oe[1];++L)if(this.rightPoints[L]===oe)return this.rightPoints.splice(L,1),Hr}return _r}};function ms(oe,ae,X){for(var L=0;L<oe.length&&oe[L][0]<=ae;++L){var q=X(oe[L]);if(q)return q}}n(ms,"reportLeftRange");function cs(oe,ae,X){for(var L=oe.length-1;L>=0&&oe[L][1]>=ae;--L){var q=X(oe[L]);if(q)return q}}n(cs,"reportRightRange");function Os(oe,ae){for(var X=0;X<oe.length;++X){var L=ae(oe[X]);if(L)return L}}n(Os,"reportRange"),Co.queryPoint=function(oe,ae){if(oe<this.mid){if(this.left){var X=this.left.queryPoint(oe,ae);if(X)return X}return ms(this.leftPoints,oe,ae)}else if(oe>this.mid){if(this.right){var X=this.right.queryPoint(oe,ae);if(X)return X}return cs(this.rightPoints,oe,ae)}else return Os(this.leftPoints,ae)},Co.queryInterval=function(oe,ae,X){if(oe<this.mid&&this.left){var L=this.left.queryInterval(oe,ae,X);if(L)return L}if(ae>this.mid&&this.right){var L=this.right.queryInterval(oe,ae,X);if(L)return L}return ae<this.mid?ms(this.leftPoints,ae,X):oe>this.mid?cs(this.rightPoints,oe,X):Os(this.leftPoints,X)};function qo(oe,ae){return oe-ae}n(qo,"compareNumbers");function Mo(oe,ae){var X=oe[0]-ae[0];return X||oe[1]-ae[1]}n(Mo,"compareBegin");function No(oe,ae){var X=oe[1]-ae[1];return X||oe[0]-ae[0]}n(No,"compareEnd");function Wo(oe){if(oe.length===0)return null;for(var ae=[],X=0;X<oe.length;++X)ae.push(oe[X][0],oe[X][1]);ae.sort(qo);for(var L=ae[ae.length>>1],q=[],be=[],Ce=[],X=0;X<oe.length;++X){var xe=oe[X];xe[1]<L?q.push(xe):L<xe[0]?be.push(xe):Ce.push(xe)}var et=Ce,Rt=Ce.slice();return et.sort(Mo),Rt.sort(No),new er(L,Wo(q),Wo(be),et,Rt)}n(Wo,"createIntervalTree");function Fo(oe){this.root=oe}n(Fo,"IntervalTree");var yo=Fo.prototype;yo.insert=function(oe){this.root?this.root.insert(oe):this.root=new er(oe[0],null,null,[oe],[oe])},yo.remove=function(oe){if(this.root){var ae=this.root.remove(oe);return ae===Eo&&(this.root=null),ae!==_r}return!1},yo.queryPoint=function(oe,ae){if(this.root)return this.root.queryPoint(oe,ae)},yo.queryInterval=function(oe,ae,X){if(oe<=ae&&this.root)return this.root.queryInterval(oe,ae,X)},Object.defineProperty(yo,"count",{get:n(function(){return this.root?this.root.count:0},"get")}),Object.defineProperty(yo,"intervals",{get:n(function(){return this.root?this.root.intervals([]):[]},"get")});function fo(oe){return!oe||oe.length===0?new Fo(null):new Fo(Wo(oe))}n(fo,"createWrapper");var Po=function(){function oe(){d(this,oe),r(this,"_columnSizeMap",{}),r(this,"_intervalTree",fo()),r(this,"_leftMap",{})}return n(oe,"PositionCache"),m(oe,[{key:"estimateTotalHeight",value:n(function(X,L,q){var be=X-this.count;return this.tallestColumnSize+Math.ceil(be/L)*q},"estimateTotalHeight")},{key:"range",value:n(function(X,L,q){var be=this;this._intervalTree.queryInterval(X,X+L,function(Ce){var xe=vt(Ce,3),et=xe[0],Rt=xe[1],ft=xe[2];return q(ft,be._leftMap[ft],et)})},"range")},{key:"setPosition",value:n(function(X,L,q,be){this._intervalTree.insert([q,q+be,X]),this._leftMap[X]=L;var Ce=this._columnSizeMap,xe=Ce[L];xe===void 0?Ce[L]=q+be:Ce[L]=Math.max(xe,q+be)},"setPosition")},{key:"count",get:n(function(){return this._intervalTree.count},"get")},{key:"shortestColumnSize",get:n(function(){var X=this._columnSizeMap,L=0;for(var q in X){var be=X[q];L=L===0?be:Math.min(L,be)}return L},"get")},{key:"tallestColumnSize",get:n(function(){var X=this._columnSizeMap,L=0;for(var q in X){var be=X[q];L=Math.max(L,be)}return L},"get")}]),oe}(),ia,is;function Go(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(Go,"Masonry_ownKeys");function gs(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?Go(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):Go(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n(gs,"Masonry_objectSpread");var ro={},Oo=150,Ao=(is=ia=function(oe){t(ae,oe);function ae(){var X,L;d(this,ae);for(var q=arguments.length,be=new Array(q),Ce=0;Ce<q;Ce++)be[Ce]=arguments[Ce];return L=s(this,(X=i(ae)).call.apply(X,[this].concat(be))),r(a(L),"state",{isScrolling:!1,scrollTop:0}),r(a(L),"_debounceResetIsScrollingId",void 0),r(a(L),"_invalidateOnUpdateStartIndex",null),r(a(L),"_invalidateOnUpdateStopIndex",null),r(a(L),"_positionCache",new Po),r(a(L),"_startIndex",null),r(a(L),"_startIndexMemoized",null),r(a(L),"_stopIndex",null),r(a(L),"_stopIndexMemoized",null),r(a(L),"_debounceResetIsScrollingCallback",function(){L.setState({isScrolling:!1})}),r(a(L),"_setScrollingContainerRef",function(xe){L._scrollingContainer=xe}),r(a(L),"_onScroll",function(xe){var et=L.props.height,Rt=xe.currentTarget.scrollTop,ft=Math.min(Math.max(0,L._getEstimatedTotalHeight()-et),Rt);Rt===ft&&(L._debounceResetIsScrolling(),L.state.scrollTop!==ft&&L.setState({isScrolling:!0,scrollTop:ft}))}),L}return n(ae,"Masonry"),m(ae,[{key:"clearCellPositions",value:n(function(){this._positionCache=new Po,this.forceUpdate()},"clearCellPositions")},{key:"invalidateCellSizeAfterRender",value:n(function(L){var q=L.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=q,this._invalidateOnUpdateStopIndex=q):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,q),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,q))},"invalidateCellSizeAfterRender")},{key:"recomputeCellPositions",value:n(function(){var L=this._positionCache.count-1;this._positionCache=new Po,this._populatePositionCache(0,L),this.forceUpdate()},"recomputeCellPositions")},{key:"componentDidMount",value:n(function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()},"componentDidMount")},{key:"componentDidUpdate",value:n(function(L,q){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==L.scrollTop&&this._debounceResetIsScrolling()},"componentDidUpdate")},{key:"componentWillUnmount",value:n(function(){this._debounceResetIsScrollingId&&An(this._debounceResetIsScrollingId)},"componentWillUnmount")},{key:"render",value:n(function(){var L=this,q=this.props,be=q.autoHeight,Ce=q.cellCount,xe=q.cellMeasurerCache,et=q.cellRenderer,Rt=q.className,ft=q.height,Ot=q.id,St=q.keyMapper,yn=q.overscanByPixels,Ln=q.role,Kn=q.style,Di=q.tabIndex,Ni=q.width,Hi=q.rowDirection,mr=this.state,fr=mr.isScrolling,br=mr.scrollTop,Jr=[],yr=this._getEstimatedTotalHeight(),di=this._positionCache.shortestColumnSize,Cr=this._positionCache.count,Mt=0,Vt;if(this._positionCache.range(Math.max(0,br-yn),ft+yn*2,function(gi,ar,Xi){var $i;typeof Vt>"u"?(Mt=gi,Vt=gi):(Mt=Math.min(Mt,gi),Vt=Math.max(Vt,gi)),Jr.push(et({index:gi,isScrolling:fr,key:St(gi),parent:L,style:($i={height:xe.getHeight(gi)},r($i,Hi==="ltr"?"left":"right",ar),r($i,"position","absolute"),r($i,"top",Xi),r($i,"width",xe.getWidth(gi)),$i)}))}),di<br+ft+yn&&Cr<Ce)for(var un=Math.min(Ce-Cr,Math.ceil((br+ft+yn-di)/xe.defaultHeight*Ni/xe.defaultWidth)),Hn=Cr;Hn<Cr+un;Hn++)Vt=Hn,Jr.push(et({index:Hn,isScrolling:fr,key:St(Hn),parent:this,style:{width:xe.getWidth(Hn)}}));return this._startIndex=Mt,this._stopIndex=Vt,o.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:S("ReactVirtualized__Masonry",Rt),id:Ot,onScroll:this._onScroll,role:Ln,style:gs({boxSizing:"border-box",direction:"ltr",height:be?"auto":ft,overflowX:"hidden",overflowY:yr<ft?"hidden":"auto",position:"relative",width:Ni,WebkitOverflowScrolling:"touch",willChange:"transform"},Kn),tabIndex:Di},o.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:yr,maxWidth:"100%",maxHeight:yr,overflow:"hidden",pointerEvents:fr?"none":"",position:"relative"}},Jr))},"render")},{key:"_checkInvalidateOnUpdate",value:n(function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var L=this._invalidateOnUpdateStartIndex,q=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(L,q),this.forceUpdate()}},"_checkInvalidateOnUpdate")},{key:"_debounceResetIsScrolling",value:n(function(){var L=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&An(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=sn(this._debounceResetIsScrollingCallback,L)},"_debounceResetIsScrolling")},{key:"_getEstimatedTotalHeight",value:n(function(){var L=this.props,q=L.cellCount,be=L.cellMeasurerCache,Ce=L.width,xe=Math.max(1,Math.floor(Ce/be.defaultWidth));return this._positionCache.estimateTotalHeight(q,xe,be.defaultHeight)},"_getEstimatedTotalHeight")},{key:"_invokeOnScrollCallback",value:n(function(){var L=this.props,q=L.height,be=L.onScroll,Ce=this.state.scrollTop;this._onScrollMemoized!==Ce&&(be({clientHeight:q,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:Ce}),this._onScrollMemoized=Ce)},"_invokeOnScrollCallback")},{key:"_invokeOnCellsRenderedCallback",value:n(function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var L=this.props.onCellsRendered;L({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}},"_invokeOnCellsRenderedCallback")},{key:"_populatePositionCache",value:n(function(L,q){for(var be=this.props,Ce=be.cellMeasurerCache,xe=be.cellPositioner,et=L;et<=q;et++){var Rt=xe(et),ft=Rt.left,Ot=Rt.top;this._positionCache.setPosition(et,ft,Ot,Ce.getHeight(et))}},"_populatePositionCache")}],[{key:"getDerivedStateFromProps",value:n(function(L,q){return L.scrollTop!==void 0&&q.scrollTop!==L.scrollTop?{isScrolling:!0,scrollTop:L.scrollTop}:null},"getDerivedStateFromProps")}]),ae}(o.PureComponent),r(ia,"propTypes",null),is);r(Ao,"defaultProps",{autoHeight:!1,keyMapper:Jo,onCellsRendered:xo,onScroll:xo,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Oo,style:ro,tabIndex:0,rowDirection:"ltr"});function Jo(oe){return oe}n(Jo,"identity");function xo(){}n(xo,"noop");var ra=null;(0,f.polyfill)(Ao);const de=null;var ye=null;function Me(oe){var ae=oe.cellMeasurerCache,X=oe.columnCount,L=oe.columnWidth,q=oe.spacer,be=q===void 0?0:q,Ce;et();function xe(ft){for(var Ot=0,St=1;St<Ce.length;St++)Ce[St]<Ce[Ot]&&(Ot=St);var yn=Ot*(L+be),Ln=Ce[Ot]||0;return Ce[Ot]=Ln+ae.getHeight(ft)+be,{left:yn,top:Ln}}n(xe,"cellPositioner");function et(){Ce=[];for(var ft=0;ft<X;ft++)Ce[ft]=0}n(et,"initOrResetDerivedValues");function Rt(ft){X=ft.columnCount,L=ft.columnWidth,be=ft.spacer,et()}return n(Rt,"reset"),xe.reset=Rt,xe}n(Me,"createCellPositioner");const Ge=null;var nt=function(){function oe(){var ae=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d(this,oe),r(this,"_cellMeasurerCache",void 0),r(this,"_columnIndexOffset",void 0),r(this,"_rowIndexOffset",void 0),r(this,"columnWidth",function(et){var Rt=et.index;ae._cellMeasurerCache.columnWidth({index:Rt+ae._columnIndexOffset})}),r(this,"rowHeight",function(et){var Rt=et.index;ae._cellMeasurerCache.rowHeight({index:Rt+ae._rowIndexOffset})});var L=X.cellMeasurerCache,q=X.columnIndexOffset,be=q===void 0?0:q,Ce=X.rowIndexOffset,xe=Ce===void 0?0:Ce;this._cellMeasurerCache=L,this._columnIndexOffset=be,this._rowIndexOffset=xe}return n(oe,"CellMeasurerCacheDecorator"),m(oe,[{key:"clear",value:n(function(X,L){this._cellMeasurerCache.clear(X+this._rowIndexOffset,L+this._columnIndexOffset)},"clear")},{key:"clearAll",value:n(function(){this._cellMeasurerCache.clearAll()},"clearAll")},{key:"hasFixedHeight",value:n(function(){return this._cellMeasurerCache.hasFixedHeight()},"hasFixedHeight")},{key:"hasFixedWidth",value:n(function(){return this._cellMeasurerCache.hasFixedWidth()},"hasFixedWidth")},{key:"getHeight",value:n(function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(X+this._rowIndexOffset,L+this._columnIndexOffset)},"getHeight")},{key:"getWidth",value:n(function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(X+this._rowIndexOffset,L+this._columnIndexOffset)},"getWidth")},{key:"has",value:n(function(X){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(X+this._rowIndexOffset,L+this._columnIndexOffset)},"has")},{key:"set",value:n(function(X,L,q,be){this._cellMeasurerCache.set(X+this._rowIndexOffset,L+this._columnIndexOffset,q,be)},"set")},{key:"defaultHeight",get:n(function(){return this._cellMeasurerCache.defaultHeight},"get")},{key:"defaultWidth",get:n(function(){return this._cellMeasurerCache.defaultWidth},"get")}]),oe}();function Ut(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(Ut,"MultiGrid_ownKeys");function wt(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?Ut(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):Ut(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n(wt,"MultiGrid_objectSpread");var dn=20,cn=function(oe){t(ae,oe);function ae(X,L){var q;d(this,ae),q=s(this,i(ae).call(this,X,L)),r(a(q),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),r(a(q),"_deferredInvalidateColumnIndex",null),r(a(q),"_deferredInvalidateRowIndex",null),r(a(q),"_bottomLeftGridRef",function(et){q._bottomLeftGrid=et}),r(a(q),"_bottomRightGridRef",function(et){q._bottomRightGrid=et}),r(a(q),"_cellRendererBottomLeftGrid",function(et){var Rt=et.rowIndex,ft=E(et,["rowIndex"]),Ot=q.props,St=Ot.cellRenderer,yn=Ot.fixedRowCount,Ln=Ot.rowCount;return Rt===Ln-yn?o.createElement("div",{key:ft.key,style:wt({},ft.style,{height:dn})}):St(wt({},ft,{parent:a(q),rowIndex:Rt+yn}))}),r(a(q),"_cellRendererBottomRightGrid",function(et){var Rt=et.columnIndex,ft=et.rowIndex,Ot=E(et,["columnIndex","rowIndex"]),St=q.props,yn=St.cellRenderer,Ln=St.fixedColumnCount,Kn=St.fixedRowCount;return yn(wt({},Ot,{columnIndex:Rt+Ln,parent:a(q),rowIndex:ft+Kn}))}),r(a(q),"_cellRendererTopRightGrid",function(et){var Rt=et.columnIndex,ft=E(et,["columnIndex"]),Ot=q.props,St=Ot.cellRenderer,yn=Ot.columnCount,Ln=Ot.fixedColumnCount;return Rt===yn-Ln?o.createElement("div",{key:ft.key,style:wt({},ft.style,{width:dn})}):St(wt({},ft,{columnIndex:Rt+Ln,parent:a(q)}))}),r(a(q),"_columnWidthRightGrid",function(et){var Rt=et.index,ft=q.props,Ot=ft.columnCount,St=ft.fixedColumnCount,yn=ft.columnWidth,Ln=q.state,Kn=Ln.scrollbarSize,Di=Ln.showHorizontalScrollbar;return Di&&Rt===Ot-St?Kn:typeof yn=="function"?yn({index:Rt+St}):yn}),r(a(q),"_onScroll",function(et){var Rt=et.scrollLeft,ft=et.scrollTop;q.setState({scrollLeft:Rt,scrollTop:ft});var Ot=q.props.onScroll;Ot&&Ot(et)}),r(a(q),"_onScrollbarPresenceChange",function(et){var Rt=et.horizontal,ft=et.size,Ot=et.vertical,St=q.state,yn=St.showHorizontalScrollbar,Ln=St.showVerticalScrollbar;if(Rt!==yn||Ot!==Ln){q.setState({scrollbarSize:ft,showHorizontalScrollbar:Rt,showVerticalScrollbar:Ot});var Kn=q.props.onScrollbarPresenceChange;typeof Kn=="function"&&Kn({horizontal:Rt,size:ft,vertical:Ot})}}),r(a(q),"_onScrollLeft",function(et){var Rt=et.scrollLeft;q._onScroll({scrollLeft:Rt,scrollTop:q.state.scrollTop})}),r(a(q),"_onScrollTop",function(et){var Rt=et.scrollTop;q._onScroll({scrollTop:Rt,scrollLeft:q.state.scrollLeft})}),r(a(q),"_rowHeightBottomGrid",function(et){var Rt=et.index,ft=q.props,Ot=ft.fixedRowCount,St=ft.rowCount,yn=ft.rowHeight,Ln=q.state,Kn=Ln.scrollbarSize,Di=Ln.showVerticalScrollbar;return Di&&Rt===St-Ot?Kn:typeof yn=="function"?yn({index:Rt+Ot}):yn}),r(a(q),"_topLeftGridRef",function(et){q._topLeftGrid=et}),r(a(q),"_topRightGridRef",function(et){q._topRightGrid=et});var be=X.deferredMeasurementCache,Ce=X.fixedColumnCount,xe=X.fixedRowCount;return q._maybeCalculateCachedStyles(!0),be&&(q._deferredMeasurementCacheBottomLeftGrid=xe>0?new nt({cellMeasurerCache:be,columnIndexOffset:0,rowIndexOffset:xe}):be,q._deferredMeasurementCacheBottomRightGrid=Ce>0||xe>0?new nt({cellMeasurerCache:be,columnIndexOffset:Ce,rowIndexOffset:xe}):be,q._deferredMeasurementCacheTopRightGrid=Ce>0?new nt({cellMeasurerCache:be,columnIndexOffset:Ce,rowIndexOffset:0}):be),q}return n(ae,"MultiGrid"),m(ae,[{key:"forceUpdateGrids",value:n(function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()},"forceUpdateGrids")},{key:"invalidateCellSizeAfterRender",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.columnIndex,be=q===void 0?0:q,Ce=L.rowIndex,xe=Ce===void 0?0:Ce;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,be):be,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,xe):xe},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:n(function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()},"measureAllCells")},{key:"recomputeGridSize",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.columnIndex,be=q===void 0?0:q,Ce=L.rowIndex,xe=Ce===void 0?0:Ce,et=this.props,Rt=et.fixedColumnCount,ft=et.fixedRowCount,Ot=Math.max(0,be-Rt),St=Math.max(0,xe-ft);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:be,rowIndex:St}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:Ot,rowIndex:St}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:be,rowIndex:xe}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:Ot,rowIndex:xe}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)},"recomputeGridSize")},{key:"componentDidMount",value:n(function(){var L=this.props,q=L.scrollLeft,be=L.scrollTop;if(q>0||be>0){var Ce={};q>0&&(Ce.scrollLeft=q),be>0&&(Ce.scrollTop=be),this.setState(Ce)}this._handleInvalidatedGridSize()},"componentDidMount")},{key:"componentDidUpdate",value:n(function(){this._handleInvalidatedGridSize()},"componentDidUpdate")},{key:"render",value:n(function(){var L=this.props,q=L.onScroll,be=L.onSectionRendered,Ce=L.onScrollbarPresenceChange,xe=L.scrollLeft,et=L.scrollToColumn,Rt=L.scrollTop,ft=L.scrollToRow,Ot=E(L,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var St=this.state,yn=St.scrollLeft,Ln=St.scrollTop;return o.createElement("div",{style:this._containerOuterStyle},o.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(Ot),this._renderTopRightGrid(wt({},Ot,{onScroll:q,scrollLeft:yn}))),o.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(wt({},Ot,{onScroll:q,scrollTop:Ln})),this._renderBottomRightGrid(wt({},Ot,{onScroll:q,onSectionRendered:be,scrollLeft:yn,scrollToColumn:et,scrollToRow:ft,scrollTop:Ln}))))},"render")},{key:"_getBottomGridHeight",value:n(function(L){var q=L.height,be=this._getTopGridHeight(L);return q-be},"_getBottomGridHeight")},{key:"_getLeftGridWidth",value:n(function(L){var q=L.fixedColumnCount,be=L.columnWidth;if(this._leftGridWidth==null)if(typeof be=="function"){for(var Ce=0,xe=0;xe<q;xe++)Ce+=be({index:xe});this._leftGridWidth=Ce}else this._leftGridWidth=be*q;return this._leftGridWidth},"_getLeftGridWidth")},{key:"_getRightGridWidth",value:n(function(L){var q=L.width,be=this._getLeftGridWidth(L);return q-be},"_getRightGridWidth")},{key:"_getTopGridHeight",value:n(function(L){var q=L.fixedRowCount,be=L.rowHeight;if(this._topGridHeight==null)if(typeof be=="function"){for(var Ce=0,xe=0;xe<q;xe++)Ce+=be({index:xe});this._topGridHeight=Ce}else this._topGridHeight=be*q;return this._topGridHeight},"_getTopGridHeight")},{key:"_handleInvalidatedGridSize",value:n(function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var L=this._deferredInvalidateColumnIndex,q=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:L,rowIndex:q}),this.forceUpdate()}},"_handleInvalidatedGridSize")},{key:"_maybeCalculateCachedStyles",value:n(function(L){var q=this.props,be=q.columnWidth,Ce=q.enableFixedColumnScroll,xe=q.enableFixedRowScroll,et=q.height,Rt=q.fixedColumnCount,ft=q.fixedRowCount,Ot=q.rowHeight,St=q.style,yn=q.styleBottomLeftGrid,Ln=q.styleBottomRightGrid,Kn=q.styleTopLeftGrid,Di=q.styleTopRightGrid,Ni=q.width,Hi=L||et!==this._lastRenderedHeight||Ni!==this._lastRenderedWidth,mr=L||be!==this._lastRenderedColumnWidth||Rt!==this._lastRenderedFixedColumnCount,fr=L||ft!==this._lastRenderedFixedRowCount||Ot!==this._lastRenderedRowHeight;(L||Hi||St!==this._lastRenderedStyle)&&(this._containerOuterStyle=wt({height:et,overflow:"visible",width:Ni},St)),(L||Hi||fr)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:Ni},this._containerBottomStyle={height:et-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:Ni}),(L||yn!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=wt({left:0,overflowX:"hidden",overflowY:Ce?"auto":"hidden",position:"absolute"},yn)),(L||mr||Ln!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=wt({left:this._getLeftGridWidth(this.props),position:"absolute"},Ln)),(L||Kn!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=wt({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},Kn)),(L||mr||Di!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=wt({left:this._getLeftGridWidth(this.props),overflowX:xe?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},Di)),this._lastRenderedColumnWidth=be,this._lastRenderedFixedColumnCount=Rt,this._lastRenderedFixedRowCount=ft,this._lastRenderedHeight=et,this._lastRenderedRowHeight=Ot,this._lastRenderedStyle=St,this._lastRenderedStyleBottomLeftGrid=yn,this._lastRenderedStyleBottomRightGrid=Ln,this._lastRenderedStyleTopLeftGrid=Kn,this._lastRenderedStyleTopRightGrid=Di,this._lastRenderedWidth=Ni},"_maybeCalculateCachedStyles")},{key:"_prepareForRender",value:n(function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight},"_prepareForRender")},{key:"_renderBottomLeftGrid",value:n(function(L){var q=L.enableFixedColumnScroll,be=L.fixedColumnCount,Ce=L.fixedRowCount,xe=L.rowCount,et=L.hideBottomLeftGridScrollbar,Rt=this.state.showVerticalScrollbar;if(!be)return null;var ft=Rt?1:0,Ot=this._getBottomGridHeight(L),St=this._getLeftGridWidth(L),yn=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,Ln=et?St+yn:St,Kn=o.createElement(K,g({},L,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:be,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:Ot,onScroll:q?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,xe-Ce)+ft,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:Ln}));return et?o.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:wt({},this._bottomLeftGridStyle,{height:Ot,width:St,overflowY:"hidden"})},Kn):Kn},"_renderBottomLeftGrid")},{key:"_renderBottomRightGrid",value:n(function(L){var q=L.columnCount,be=L.fixedColumnCount,Ce=L.fixedRowCount,xe=L.rowCount,et=L.scrollToColumn,Rt=L.scrollToRow;return o.createElement(K,g({},L,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,q-be),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(L),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,xe-Ce),rowHeight:this._rowHeightBottomGrid,scrollToColumn:et-be,scrollToRow:Rt-Ce,style:this._bottomRightGridStyle,width:this._getRightGridWidth(L)}))},"_renderBottomRightGrid")},{key:"_renderTopLeftGrid",value:n(function(L){var q=L.fixedColumnCount,be=L.fixedRowCount;return!q||!be?null:o.createElement(K,g({},L,{className:this.props.classNameTopLeftGrid,columnCount:q,height:this._getTopGridHeight(L),ref:this._topLeftGridRef,rowCount:be,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(L)}))},"_renderTopLeftGrid")},{key:"_renderTopRightGrid",value:n(function(L){var q=L.columnCount,be=L.enableFixedRowScroll,Ce=L.fixedColumnCount,xe=L.fixedRowCount,et=L.scrollLeft,Rt=L.hideTopRightGridScrollbar,ft=this.state,Ot=ft.showHorizontalScrollbar,St=ft.scrollbarSize;if(!xe)return null;var yn=Ot?1:0,Ln=this._getTopGridHeight(L),Kn=this._getRightGridWidth(L),Di=Ot?St:0,Ni=Ln,Hi=this._topRightGridStyle;Rt&&(Ni=Ln+Di,Hi=wt({},this._topRightGridStyle,{left:0}));var mr=o.createElement(K,g({},L,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,q-Ce)+yn,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:Ni,onScroll:be?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:xe,scrollLeft:et,style:Hi,tabIndex:null,width:Kn}));return Rt?o.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:wt({},this._topRightGridStyle,{height:Ln,width:Kn,overflowX:"hidden"})},mr):mr},"_renderTopRightGrid")}],[{key:"getDerivedStateFromProps",value:n(function(L,q){return L.scrollLeft!==q.scrollLeft||L.scrollTop!==q.scrollTop?{scrollLeft:L.scrollLeft!=null&&L.scrollLeft>=0?L.scrollLeft:q.scrollLeft,scrollTop:L.scrollTop!=null&&L.scrollTop>=0?L.scrollTop:q.scrollTop}:null},"getDerivedStateFromProps")}]),ae}(o.PureComponent);r(cn,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),cn.propTypes={},(0,f.polyfill)(cn);const bn=cn,hn=null;var Fn=function(oe){t(ae,oe);function ae(X,L){var q;return d(this,ae),q=s(this,i(ae).call(this,X,L)),q.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},q._onScroll=q._onScroll.bind(a(q)),q}return n(ae,"ScrollSync"),m(ae,[{key:"render",value:n(function(){var L=this.props.children,q=this.state,be=q.clientHeight,Ce=q.clientWidth,xe=q.scrollHeight,et=q.scrollLeft,Rt=q.scrollTop,ft=q.scrollWidth;return L({clientHeight:be,clientWidth:Ce,onScroll:this._onScroll,scrollHeight:xe,scrollLeft:et,scrollTop:Rt,scrollWidth:ft})},"render")},{key:"_onScroll",value:n(function(L){var q=L.clientHeight,be=L.clientWidth,Ce=L.scrollHeight,xe=L.scrollLeft,et=L.scrollTop,Rt=L.scrollWidth;this.setState({clientHeight:q,clientWidth:be,scrollHeight:Ce,scrollLeft:xe,scrollTop:et,scrollWidth:Rt})},"_onScroll")}]),ae}(o.PureComponent);Fn.propTypes={};const xn=null;var jn=null,pi=null,ai=null,$n=null,kn=null;function Ri(oe){var ae=oe.dataKey,X=oe.rowData;return typeof X.get=="function"?X.get(ae):X[ae]}n(Ri,"defaultCellDataGetter");function pr(oe){var ae=oe.cellData;return ae==null?"":String(ae)}n(pr,"defaultCellRenderer");function Rr(oe){var ae=oe.className,X=oe.columns,L=oe.style;return o.createElement("div",{className:ae,role:"row",style:L},X)}n(Rr,"defaultHeaderRowRenderer"),Rr.propTypes=null;var Kr={ASC:"ASC",DESC:"DESC"};const qt=Kr;function Mr(oe){var ae=oe.sortDirection,X=S("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":ae===qt.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":ae===qt.DESC});return o.createElement("svg",{className:X,width:18,height:18,viewBox:"0 0 24 24"},ae===qt.ASC?o.createElement("path",{d:"M7 14l5-5 5 5z"}):o.createElement("path",{d:"M7 10l5 5 5-5z"}),o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}n(Mr,"SortIndicator"),Mr.propTypes={};function xr(oe){var ae=oe.dataKey,X=oe.label,L=oe.sortBy,q=oe.sortDirection,be=L===ae,Ce=[o.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof X=="string"?X:null},X)];return be&&Ce.push(o.createElement(Mr,{key:"SortIndicator",sortDirection:q})),Ce}n(xr,"defaultHeaderRenderer"),xr.propTypes=null;function ur(oe){var ae=oe.className,X=oe.columns,L=oe.index,q=oe.key,be=oe.onRowClick,Ce=oe.onRowDoubleClick,xe=oe.onRowMouseOut,et=oe.onRowMouseOver,Rt=oe.onRowRightClick,ft=oe.rowData,Ot=oe.style,St={"aria-rowindex":L+1};return(be||Ce||xe||et||Rt)&&(St["aria-label"]="row",St.tabIndex=0,be&&(St.onClick=function(yn){return be({event:yn,index:L,rowData:ft})}),Ce&&(St.onDoubleClick=function(yn){return Ce({event:yn,index:L,rowData:ft})}),xe&&(St.onMouseOut=function(yn){return xe({event:yn,index:L,rowData:ft})}),et&&(St.onMouseOver=function(yn){return et({event:yn,index:L,rowData:ft})}),Rt&&(St.onContextMenu=function(yn){return Rt({event:yn,index:L,rowData:ft})})),o.createElement("div",g({},St,{className:ae,key:q,role:"row",style:Ot}),X)}n(ur,"defaultRowRenderer"),ur.propTypes=null;var To=function(oe){t(ae,oe);function ae(){return d(this,ae),s(this,i(ae).apply(this,arguments))}return n(ae,"Column"),ae}(o.Component);r(To,"defaultProps",{cellDataGetter:Ri,cellRenderer:pr,defaultSortDirection:qt.ASC,flexGrow:0,flexShrink:1,headerRenderer:xr,style:{}}),To.propTypes={};function es(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(es,"Table_ownKeys");function oo(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?es(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):es(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n(oo,"Table_objectSpread");var Yo=function(oe){t(ae,oe);function ae(X){var L;return d(this,ae),L=s(this,i(ae).call(this,X)),L.state={scrollbarWidth:0},L._createColumn=L._createColumn.bind(a(L)),L._createRow=L._createRow.bind(a(L)),L._onScroll=L._onScroll.bind(a(L)),L._onSectionRendered=L._onSectionRendered.bind(a(L)),L._setRef=L._setRef.bind(a(L)),L}return n(ae,"Table"),m(ae,[{key:"forceUpdateGrid",value:n(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:n(function(L){var q=L.alignment,be=L.index;if(this.Grid){var Ce=this.Grid.getOffsetForCell({alignment:q,rowIndex:be}),xe=Ce.scrollTop;return xe}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:n(function(L){var q=L.columnIndex,be=L.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:be,columnIndex:q})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:n(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.columnIndex,be=q===void 0?0:q,Ce=L.rowIndex,xe=Ce===void 0?0:Ce;this.Grid&&this.Grid.recomputeGridSize({rowIndex:xe,columnIndex:be})},"recomputeGridSize")},{key:"recomputeRowHeights",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L})},"recomputeRowHeights")},{key:"scrollToPosition",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})},"scrollToPosition")},{key:"scrollToRow",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})},"scrollToRow")},{key:"getScrollbarWidth",value:n(function(){if(this.Grid){var L=(0,mi.findDOMNode)(this.Grid),q=L.clientWidth||0,be=L.offsetWidth||0;return be-q}return 0},"getScrollbarWidth")},{key:"componentDidMount",value:n(function(){this._setScrollbarWidth()},"componentDidMount")},{key:"componentDidUpdate",value:n(function(){this._setScrollbarWidth()},"componentDidUpdate")},{key:"render",value:n(function(){var L=this,q=this.props,be=q.children,Ce=q.className,xe=q.disableHeader,et=q.gridClassName,Rt=q.gridStyle,ft=q.headerHeight,Ot=q.headerRowRenderer,St=q.height,yn=q.id,Ln=q.noRowsRenderer,Kn=q.rowClassName,Di=q.rowStyle,Ni=q.scrollToIndex,Hi=q.style,mr=q.width,fr=this.state.scrollbarWidth,br=xe?St:St-ft,Jr=typeof Kn=="function"?Kn({index:-1}):Kn,yr=typeof Di=="function"?Di({index:-1}):Di;return this._cachedColumnStyles=[],o.Children.toArray(be).forEach(function(di,Cr){var Mt=L._getFlexStyleForColumn(di,di.props.style);L._cachedColumnStyles[Cr]=oo({overflow:"hidden"},Mt)}),o.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":o.Children.toArray(be).length,"aria-rowcount":this.props.rowCount,className:S("ReactVirtualized__Table",Ce),id:yn,role:"grid",style:Hi},!xe&&Ot({className:S("ReactVirtualized__Table__headerRow",Jr),columns:this._getHeaderColumns(),style:oo({height:ft,overflow:"hidden",paddingRight:fr,width:mr},yr)}),o.createElement(K,g({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:S("ReactVirtualized__Table__Grid",et),cellRenderer:this._createRow,columnWidth:mr,columnCount:1,height:br,id:void 0,noContentRenderer:Ln,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:fr,scrollToRow:Ni,style:oo({},Rt,{overflowX:"hidden"})})))},"render")},{key:"_createColumn",value:n(function(L){var q=L.column,be=L.columnIndex,Ce=L.isScrolling,xe=L.parent,et=L.rowData,Rt=L.rowIndex,ft=this.props.onColumnClick,Ot=q.props,St=Ot.cellDataGetter,yn=Ot.cellRenderer,Ln=Ot.className,Kn=Ot.columnData,Di=Ot.dataKey,Ni=Ot.id,Hi=St({columnData:Kn,dataKey:Di,rowData:et}),mr=yn({cellData:Hi,columnData:Kn,columnIndex:be,dataKey:Di,isScrolling:Ce,parent:xe,rowData:et,rowIndex:Rt}),fr=n(function(di){ft&&ft({columnData:Kn,dataKey:Di,event:di})},"onClick"),br=this._cachedColumnStyles[be],Jr=typeof mr=="string"?mr:null;return o.createElement("div",{"aria-colindex":be+1,"aria-describedby":Ni,className:S("ReactVirtualized__Table__rowColumn",Ln),key:"Row"+Rt+"-Col"+be,onClick:fr,role:"gridcell",style:br,title:Jr},mr)},"_createColumn")},{key:"_createHeader",value:n(function(L){var q=L.column,be=L.index,Ce=this.props,xe=Ce.headerClassName,et=Ce.headerStyle,Rt=Ce.onHeaderClick,ft=Ce.sort,Ot=Ce.sortBy,St=Ce.sortDirection,yn=q.props,Ln=yn.columnData,Kn=yn.dataKey,Di=yn.defaultSortDirection,Ni=yn.disableSort,Hi=yn.headerRenderer,mr=yn.id,fr=yn.label,br=!Ni&&ft,Jr=S("ReactVirtualized__Table__headerColumn",xe,q.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:br}),yr=this._getFlexStyleForColumn(q,oo({},et,{},q.props.headerStyle)),di=Hi({columnData:Ln,dataKey:Kn,disableSort:Ni,label:fr,sortBy:Ot,sortDirection:St}),Cr,Mt,Vt,un,Hn;if(br||Rt){var gi=Ot!==Kn,ar=gi?Di:St===qt.DESC?qt.ASC:qt.DESC,Xi=n(function(Br){br&&ft({defaultSortDirection:Di,event:Br,sortBy:Kn,sortDirection:ar}),Rt&&Rt({columnData:Ln,dataKey:Kn,event:Br})},"onClick"),$i=n(function(Br){(Br.key==="Enter"||Br.key===" ")&&Xi(Br)},"onKeyDown");Hn=q.props["aria-label"]||fr||Kn,un="none",Vt=0,Cr=Xi,Mt=$i}return Ot===Kn&&(un=St===qt.ASC?"ascending":"descending"),o.createElement("div",{"aria-label":Hn,"aria-sort":un,className:Jr,id:mr,key:"Header-Col"+be,onClick:Cr,onKeyDown:Mt,role:"columnheader",style:yr,tabIndex:Vt},di)},"_createHeader")},{key:"_createRow",value:n(function(L){var q=this,be=L.rowIndex,Ce=L.isScrolling,xe=L.key,et=L.parent,Rt=L.style,ft=this.props,Ot=ft.children,St=ft.onRowClick,yn=ft.onRowDoubleClick,Ln=ft.onRowRightClick,Kn=ft.onRowMouseOver,Di=ft.onRowMouseOut,Ni=ft.rowClassName,Hi=ft.rowGetter,mr=ft.rowRenderer,fr=ft.rowStyle,br=this.state.scrollbarWidth,Jr=typeof Ni=="function"?Ni({index:be}):Ni,yr=typeof fr=="function"?fr({index:be}):fr,di=Hi({index:be}),Cr=o.Children.toArray(Ot).map(function(un,Hn){return q._createColumn({column:un,columnIndex:Hn,isScrolling:Ce,parent:et,rowData:di,rowIndex:be,scrollbarWidth:br})}),Mt=S("ReactVirtualized__Table__row",Jr),Vt=oo({},Rt,{height:this._getRowHeight(be),overflow:"hidden",paddingRight:br},yr);return mr({className:Mt,columns:Cr,index:be,isScrolling:Ce,key:xe,onRowClick:St,onRowDoubleClick:yn,onRowRightClick:Ln,onRowMouseOver:Kn,onRowMouseOut:Di,rowData:di,style:Vt})},"_createRow")},{key:"_getFlexStyleForColumn",value:n(function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be="".concat(L.props.flexGrow," ").concat(L.props.flexShrink," ").concat(L.props.width,"px"),Ce=oo({},q,{flex:be,msFlex:be,WebkitFlex:be});return L.props.maxWidth&&(Ce.maxWidth=L.props.maxWidth),L.props.minWidth&&(Ce.minWidth=L.props.minWidth),Ce},"_getFlexStyleForColumn")},{key:"_getHeaderColumns",value:n(function(){var L=this,q=this.props,be=q.children,Ce=q.disableHeader,xe=Ce?[]:o.Children.toArray(be);return xe.map(function(et,Rt){return L._createHeader({column:et,index:Rt})})},"_getHeaderColumns")},{key:"_getRowHeight",value:n(function(L){var q=this.props.rowHeight;return typeof q=="function"?q({index:L}):q},"_getRowHeight")},{key:"_onScroll",value:n(function(L){var q=L.clientHeight,be=L.scrollHeight,Ce=L.scrollTop,xe=this.props.onScroll;xe({clientHeight:q,scrollHeight:be,scrollTop:Ce})},"_onScroll")},{key:"_onSectionRendered",value:n(function(L){var q=L.rowOverscanStartIndex,be=L.rowOverscanStopIndex,Ce=L.rowStartIndex,xe=L.rowStopIndex,et=this.props.onRowsRendered;et({overscanStartIndex:q,overscanStopIndex:be,startIndex:Ce,stopIndex:xe})},"_onSectionRendered")},{key:"_setRef",value:n(function(L){this.Grid=L},"_setRef")},{key:"_setScrollbarWidth",value:n(function(){var L=this.getScrollbarWidth();this.setState({scrollbarWidth:L})},"_setScrollbarWidth")}]),ae}(o.PureComponent);r(Yo,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:n(function(){return null},"noRowsRenderer"),onRowsRendered:n(function(){return null},"onRowsRendered"),onScroll:n(function(){return null},"onScroll"),overscanIndicesGetter:yt,overscanRowCount:10,rowRenderer:ur,headerRowRenderer:Rr,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),Yo.propTypes={};const os=null;var vs=[],Vs=null,ho=null;function Bo(){ho&&(ho=null,document.body&&Vs!=null&&(document.body.style.pointerEvents=Vs),Vs=null)}n(Bo,"enablePointerEventsIfDisabled");function ya(){Bo(),vs.forEach(function(oe){return oe.__resetIsScrolling()})}n(ya,"enablePointerEventsAfterDelayCallback");function $s(){ho&&An(ho);var oe=0;vs.forEach(function(ae){oe=Math.max(oe,ae.props.scrollingResetTimeInterval)}),ho=sn(ya,oe)}n($s,"enablePointerEventsAfterDelay");function Hs(oe){oe.currentTarget===window&&Vs==null&&document.body&&(Vs=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),$s(),vs.forEach(function(ae){ae.props.scrollElement===oe.currentTarget&&ae.__handleWindowScrollEvent()})}n(Hs,"onScrollWindow");function oa(oe,ae){vs.some(function(X){return X.props.scrollElement===ae})||ae.addEventListener("scroll",Hs),vs.push(oe)}n(oa,"registerScrollListener");function Rs(oe,ae){vs=vs.filter(function(X){return X!==oe}),vs.length||(ae.removeEventListener("scroll",Hs),ho&&(An(ho),Bo()))}n(Rs,"unregisterScrollListener");var Ss=n(function(ae){return ae===window},"isWindow"),ys=n(function(ae){return ae.getBoundingClientRect()},"getBoundingBox");function fs(oe,ae){if(oe)if(Ss(oe)){var X=window,L=X.innerHeight,q=X.innerWidth;return{height:typeof L=="number"?L:0,width:typeof q=="number"?q:0}}else return ys(oe);else return{height:ae.serverHeight,width:ae.serverWidth}}n(fs,"getDimensions");function _a(oe,ae){if(Ss(ae)&&document.documentElement){var X=document.documentElement,L=ys(oe),q=ys(X);return{top:L.top-q.top,left:L.left-q.left}}else{var be=ul(ae),Ce=ys(oe),xe=ys(ae);return{top:Ce.top+be.top-xe.top,left:Ce.left+be.left-xe.left}}}n(_a,"getPositionOffset");function ul(oe){return Ss(oe)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:oe.scrollTop,left:oe.scrollLeft}}n(ul,"getScrollOffset");var ba,Io;function Li(oe,ae){var X=Object.keys(oe);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(oe);ae&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),X.push.apply(X,L)}return X}n(Li,"WindowScroller_ownKeys");function Ys(oe){for(var ae=1;ae<arguments.length;ae++){var X=arguments[ae]!=null?arguments[ae]:{};ae%2?Li(X,!0).forEach(function(L){r(oe,L,X[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(X)):Li(X).forEach(function(L){Object.defineProperty(oe,L,Object.getOwnPropertyDescriptor(X,L))})}return oe}n(Ys,"WindowScroller_objectSpread");var Mi=150,Ea=n(function(){return typeof window<"u"?window:void 0},"getWindow"),sa=(Io=ba=function(oe){t(ae,oe);function ae(){var X,L;d(this,ae);for(var q=arguments.length,be=new Array(q),Ce=0;Ce<q;Ce++)be[Ce]=arguments[Ce];return L=s(this,(X=i(ae)).call.apply(X,[this].concat(be))),r(a(L),"_window",Ea()),r(a(L),"_isMounted",!1),r(a(L),"_positionFromTop",0),r(a(L),"_positionFromLeft",0),r(a(L),"_detectElementResize",void 0),r(a(L),"_child",void 0),r(a(L),"state",Ys({},fs(L.props.scrollElement,L.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),r(a(L),"_registerChild",function(xe){xe&&!(xe instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),L._child=xe,L.updatePosition()}),r(a(L),"_onChildScroll",function(xe){var et=xe.scrollTop;if(L.state.scrollTop!==et){var Rt=L.props.scrollElement;Rt&&(typeof Rt.scrollTo=="function"?Rt.scrollTo(0,et+L._positionFromTop):Rt.scrollTop=et+L._positionFromTop)}}),r(a(L),"_registerResizeListener",function(xe){xe===window?window.addEventListener("resize",L._onResize,!1):L._detectElementResize.addResizeListener(xe,L._onResize)}),r(a(L),"_unregisterResizeListener",function(xe){xe===window?window.removeEventListener("resize",L._onResize,!1):xe&&L._detectElementResize.removeResizeListener(xe,L._onResize)}),r(a(L),"_onResize",function(){L.updatePosition()}),r(a(L),"__handleWindowScrollEvent",function(){if(L._isMounted){var xe=L.props.onScroll,et=L.props.scrollElement;if(et){var Rt=ul(et),ft=Math.max(0,Rt.left-L._positionFromLeft),Ot=Math.max(0,Rt.top-L._positionFromTop);L.setState({isScrolling:!0,scrollLeft:ft,scrollTop:Ot}),xe({scrollLeft:ft,scrollTop:Ot})}}}),r(a(L),"__resetIsScrolling",function(){L.setState({isScrolling:!1})}),L}return n(ae,"WindowScroller"),m(ae,[{key:"updatePosition",value:n(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,q=this.props.onResize,be=this.state,Ce=be.height,xe=be.width,et=this._child||mi.findDOMNode(this);if(et instanceof Element&&L){var Rt=_a(et,L);this._positionFromTop=Rt.top,this._positionFromLeft=Rt.left}var ft=fs(L,this.props);(Ce!==ft.height||xe!==ft.width)&&(this.setState({height:ft.height,width:ft.width}),q({height:ft.height,width:ft.width}))},"updatePosition")},{key:"componentDidMount",value:n(function(){var L=this.props.scrollElement;this._detectElementResize=Et(),this.updatePosition(L),L&&(oa(this,L),this._registerResizeListener(L)),this._isMounted=!0},"componentDidMount")},{key:"componentDidUpdate",value:n(function(L,q){var be=this.props.scrollElement,Ce=L.scrollElement;Ce!==be&&Ce!=null&&be!=null&&(this.updatePosition(be),Rs(this,Ce),oa(this,be),this._unregisterResizeListener(Ce),this._registerResizeListener(be))},"componentDidUpdate")},{key:"componentWillUnmount",value:n(function(){var L=this.props.scrollElement;L&&(Rs(this,L),this._unregisterResizeListener(L)),this._isMounted=!1},"componentWillUnmount")},{key:"render",value:n(function(){var L=this.props.children,q=this.state,be=q.isScrolling,Ce=q.scrollTop,xe=q.scrollLeft,et=q.height,Rt=q.width;return L({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:et,isScrolling:be,scrollLeft:xe,scrollTop:Ce,width:Rt})},"render")}]),ae}(o.PureComponent),r(ba,"propTypes",null),Io);r(sa,"defaultProps",{onResize:n(function(){},"onResize"),onScroll:n(function(){},"onScroll"),scrollingResetTimeInterval:Mi,scrollElement:Ea(),serverHeight:0,serverWidth:0});const qa=null},7763652800:(V,l,c)=>{"use strict";c.d(l,{P:()=>h});function d(p){return n(({dispatch:s,getState:i})=>e=>t=>typeof t=="function"?t(s,i,p):e(t),"middleware")}n(d,"createThunkMiddleware");var h=d(),m=null},3803027235:()=>{/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */String.fromCodePoint||function(){var V=function(){try{var h={},m=Object.defineProperty,p=m(h,h,h)&&m}catch{}return p}(),l=String.fromCharCode,c=Math.floor,d=n(function(h){var m=16384,p=[],a,s,i=-1,e=arguments.length;if(!e)return"";for(var t="";++i<e;){var r=Number(arguments[i]);if(!isFinite(r)||r<0||r>1114111||c(r)!=r)throw RangeError("Invalid code point: "+r);r<=65535?p.push(r):(r-=65536,a=(r>>10)+55296,s=r%1024+56320,p.push(a,s)),(i+1==e||p.length>m)&&(t+=l.apply(null,p),p.length=0)}return t},"fromCodePoint");V?V(String,"fromCodePoint",{value:d,configurable:!0,writable:!0}):String.fromCodePoint=d}()},8863079134:(V,l,c)=>{"use strict";c.d(l,{Q:()=>d,c:()=>h});var d;(function(m){m[m.ID=25]="ID",m[m.FRECENCY=0]="FRECENCY",m[m.RAW_FRECENCY=65]="RAW_FRECENCY",m[m.FRECENCY_BONUS=76]="FRECENCY_BONUS",m[m.FRECENCY_WEIGHT_HIT_VISITS=91]="FRECENCY_WEIGHT_HIT_VISITS",m[m.FRECENCY_HIT_COUNT=92]="FRECENCY_HIT_COUNT",m[m.FRECENCY_WEIGHT_ITEM_VISITS=93]="FRECENCY_WEIGHT_ITEM_VISITS",m[m.FRECENCY_ITEM_COUNT=94]="FRECENCY_ITEM_COUNT",m[m.FRECENCY_LOG_HIT_COUNT=105]="FRECENCY_LOG_HIT_COUNT",m[m.FRECENCY_LOG_HIT_COUNT_SCALED=106]="FRECENCY_LOG_HIT_COUNT_SCALED",m[m.FRECENCY_LOG_ITEM_COUNT=159]="FRECENCY_LOG_ITEM_COUNT",m[m.FRECENCY_LOG_ITEM_COUNT_SCALED=160]="FRECENCY_LOG_ITEM_COUNT_SCALED",m[m.FRECENCY_HIT_VISIT_DECAY_2H=162]="FRECENCY_HIT_VISIT_DECAY_2H",m[m.FRECENCY_HIT_VISIT_DECAY_7D=163]="FRECENCY_HIT_VISIT_DECAY_7D",m[m.FRECENCY_ITEM_VISIT_DECAY_2H=164]="FRECENCY_ITEM_VISIT_DECAY_2H",m[m.FRECENCY_ITEM_VISIT_DECAY_7D=165]="FRECENCY_ITEM_VISIT_DECAY_7D",m[m.FRECENCY_HIT_VISITS_4H=242]="FRECENCY_HIT_VISITS_4H",m[m.FRECENCY_HIT_VISITS_1D=243]="FRECENCY_HIT_VISITS_1D",m[m.FRECENCY_HIT_VISITS_3D=244]="FRECENCY_HIT_VISITS_3D",m[m.FRECENCY_HIT_VISITS_1W=245]="FRECENCY_HIT_VISITS_1W",m[m.FRECENCY_HIT_VISITS_1M=246]="FRECENCY_HIT_VISITS_1M",m[m.FRECENCY_HIT_VISITS_90D=247]="FRECENCY_HIT_VISITS_90D",m[m.FRECENCY_ITEM_VISITS_4H=248]="FRECENCY_ITEM_VISITS_4H",m[m.FRECENCY_ITEM_VISITS_1D=249]="FRECENCY_ITEM_VISITS_1D",m[m.FRECENCY_ITEM_VISITS_3D=250]="FRECENCY_ITEM_VISITS_3D",m[m.FRECENCY_ITEM_VISITS_1W=251]="FRECENCY_ITEM_VISITS_1W",m[m.FRECENCY_ITEM_VISITS_1M=252]="FRECENCY_ITEM_VISITS_1M",m[m.FRECENCY_ITEM_VISITS_90D=253]="FRECENCY_ITEM_VISITS_90D",m[m.TYPE_NAVIGATION_CHANNEL=2]="TYPE_NAVIGATION_CHANNEL",m[m.TYPE_NAVIGATION_LINK=172]="TYPE_NAVIGATION_LINK",m[m.TYPE_NAVIGATION_MPIM=4]="TYPE_NAVIGATION_MPIM",m[m.TYPE_NAVIGATION_MODAL=177]="TYPE_NAVIGATION_MODAL",m[m.TYPE_NAVIGATION_USER=5]="TYPE_NAVIGATION_USER",m[m.TYPE_QUERY=6]="TYPE_QUERY",m[m.TYPE_QUERY_HISTORY=7]="TYPE_QUERY_HISTORY",m[m.TYPE_EMOJI=178]="TYPE_EMOJI",m[m.ACTIVE_TOKEN_FILTER_IN=8]="ACTIVE_TOKEN_FILTER_IN",m[m.ACTIVE_TOKEN_FILTER_FROM=9]="ACTIVE_TOKEN_FILTER_FROM",m[m.ACTIVE_TOKEN_FILTER_TO=10]="ACTIVE_TOKEN_FILTER_TO",m[m.ACTIVE_TOKEN_FILTER_BEFORE=11]="ACTIVE_TOKEN_FILTER_BEFORE",m[m.ACTIVE_TOKEN_FILTER_DURING=12]="ACTIVE_TOKEN_FILTER_DURING",m[m.ACTIVE_TOKEN_FILTER_ON=13]="ACTIVE_TOKEN_FILTER_ON",m[m.ACTIVE_TOKEN_FILTER_AFTER=14]="ACTIVE_TOKEN_FILTER_AFTER",m[m.ACTIVE_TOKEN_FILTER_HAS=15]="ACTIVE_TOKEN_FILTER_HAS",m[m.ACTIVE_TOKEN_FILTER_IS=155]="ACTIVE_TOKEN_FILTER_IS",m[m.ACTIVE_TOKEN_FILTER_WITH=233]="ACTIVE_TOKEN_FILTER_WITH",m[m.ACTIVE_TOKEN_MEMBER=16]="ACTIVE_TOKEN_MEMBER",m[m.ACTIVE_TOKEN_STRING=17]="ACTIVE_TOKEN_STRING",m[m.ACTIVE_TOKEN_PHRASE=18]="ACTIVE_TOKEN_PHRASE",m[m.STRING_EXACT_MATCH=19]="STRING_EXACT_MATCH",m[m.STRING_EXACT_PREFIX_MATCH=20]="STRING_EXACT_PREFIX_MATCH",m[m.STRING_NORMAL_MATCH=21]="STRING_NORMAL_MATCH",m[m.STRING_NORMAL_PREFIX_MATCH=22]="STRING_NORMAL_PREFIX_MATCH",m[m.STRING_SAME_NUMBER_WORDS=23]="STRING_SAME_NUMBER_WORDS",m[m.EXCESS_STRING_LENGTH=24]="EXCESS_STRING_LENGTH",m[m.EXACT_MATCH_LOG_RESULTS=229]="EXACT_MATCH_LOG_RESULTS",m[m.FILE_SUGGESTION_SCORE=26]="FILE_SUGGESTION_SCORE",m[m.ACTIVE_TOKEN_QUERY_SUGGESTION=27]="ACTIVE_TOKEN_QUERY_SUGGESTION",m[m.QUERY_SUGGESTION_SCORE_V2=28]="QUERY_SUGGESTION_SCORE_V2",m[m.TYPE_NAVIGATION_TEAM=31]="TYPE_NAVIGATION_TEAM",m[m.TYPE_NAVIGATION_VIEW=32]="TYPE_NAVIGATION_VIEW",m[m.TYPE_USER_QUERY=33]="TYPE_USER_QUERY",m[m.NAV_EXACT_MATCH=35]="NAV_EXACT_MATCH",m[m.NAV_EXACT_PREFIX_MATCH=36]="NAV_EXACT_PREFIX_MATCH",m[m.NAV_NORMAL_MATCH=37]="NAV_NORMAL_MATCH",m[m.NAV_NORMAL_PREFIX_MATCH=75]="NAV_NORMAL_PREFIX_MATCH",m[m.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH=38]="CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH",m[m.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH=39]="CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH",m[m.CHANNEL_IS_ARCHIVED=40]="CHANNEL_IS_ARCHIVED",m[m.CHANNEL_IS_MEMBER=41]="CHANNEL_IS_MEMBER",m[m.CHANNEL_IS_STARRED=42]="CHANNEL_IS_STARRED",m[m.MPIM_IS_STARRED=43]="MPIM_IS_STARRED",m[m.CHANNEL_IS_UNREAD=44]="CHANNEL_IS_UNREAD",m[m.MPIM_IS_UNREAD=45]="MPIM_IS_UNREAD",m[m.CHANNEL_IS_OTHER_TEAM=46]="CHANNEL_IS_OTHER_TEAM",m[m.USER_IS_ACTIVE=47]="USER_IS_ACTIVE",m[m.USER_IS_CURRENT_USER=48]="USER_IS_CURRENT_USER",m[m.USER_DM_IS_STARRED=49]="USER_DM_IS_STARRED",m[m.USER_DM_IS_UNREAD=50]="USER_DM_IS_UNREAD",m[m.CHANNEL_PRIORITY=51]="CHANNEL_PRIORITY",m[m.CHANNEL_READ_AGE_DECAY_7D=52]="CHANNEL_READ_AGE_DECAY_7D",m[m.CHANNEL_READ_AGE_DECAY_2H=53]="CHANNEL_READ_AGE_DECAY_2H",m[m.MPIM_READ_AGE_DECAY_2H=54]="MPIM_READ_AGE_DECAY_2H",m[m.MPIM_READ_AGE_DECAY_7D=55]="MPIM_READ_AGE_DECAY_7D",m[m.USER_DM_READ_AGE_DECAY_7D=56]="USER_DM_READ_AGE_DECAY_7D",m[m.USER_DM_READ_AGE_DECAY_2H=57]="USER_DM_READ_AGE_DECAY_2H",m[m.USER_DM_READ_AGE_DECAY_7D_V2=274]="USER_DM_READ_AGE_DECAY_7D_V2",m[m.USER_DM_READ_AGE_DECAY_2H_V2=275]="USER_DM_READ_AGE_DECAY_2H_V2",m[m.QUERY_LENGTH=61]="QUERY_LENGTH",m[m.NAV_QUERY_LENGTH=62]="NAV_QUERY_LENGTH",m[m.SUGGESTION_TEXT_LENGTH=63]="SUGGESTION_TEXT_LENGTH",m[m.NAV_TEXT_LENGTH=64]="NAV_TEXT_LENGTH",m[m.MPIM_PRIORITY=66]="MPIM_PRIORITY",m[m.QUERY_RATIO_LENGTH_STRING=68]="QUERY_RATIO_LENGTH_STRING",m[m.NAV_QUERY_RATIO_LENGTH_STRING=69]="NAV_QUERY_RATIO_LENGTH_STRING",m[m.USER_QUERY_RATIO_LENGTH_STRING=70]="USER_QUERY_RATIO_LENGTH_STRING",m[m.CHANNEL_QUERY_RATIO_LENGTH_STRING=71]="CHANNEL_QUERY_RATIO_LENGTH_STRING",m[m.MPIM_QUERY_RATIO_LENGTH_STRING=72]="MPIM_QUERY_RATIO_LENGTH_STRING",m[m.FUZZY_SCORE=73]="FUZZY_SCORE",m[m.MPIM_WITH_DEACTIVATED_USER=74]="MPIM_WITH_DEACTIVATED_USER",m[m.USER_FIRST_NAME_EXACT_MATCH=81]="USER_FIRST_NAME_EXACT_MATCH",m[m.USER_FIRST_NAME_EXACT_PREFIX_MATCH=82]="USER_FIRST_NAME_EXACT_PREFIX_MATCH",m[m.USER_FIRST_NAME_NORMAL_MATCH=83]="USER_FIRST_NAME_NORMAL_MATCH",m[m.USER_FIRST_NAME_NORMAL_PREFIX_MATCH=84]="USER_FIRST_NAME_NORMAL_PREFIX_MATCH",m[m.USER_LAST_NAME_EXACT_MATCH=85]="USER_LAST_NAME_EXACT_MATCH",m[m.USER_LAST_NAME_EXACT_PREFIX_MATCH=86]="USER_LAST_NAME_EXACT_PREFIX_MATCH",m[m.USER_LAST_NAME_NORMAL_MATCH=87]="USER_LAST_NAME_NORMAL_MATCH",m[m.USER_LAST_NAME_NORMAL_PREFIX_MATCH=88]="USER_LAST_NAME_NORMAL_PREFIX_MATCH",m[m.USER_PRIORITY=89]="USER_PRIORITY",m[m.ONLY_MATCHES_PREVIOUS_NAME=90]="ONLY_MATCHES_PREVIOUS_NAME",m[m.NAV_NORMAL_MATCH_USER=95]="NAV_NORMAL_MATCH_USER",m[m.NAV_NORMAL_PREFIX_MATCH_USER=96]="NAV_NORMAL_PREFIX_MATCH_USER",m[m.NAV_NORMAL_MATCH_NO_USER=97]="NAV_NORMAL_MATCH_NO_USER",m[m.NAV_NORMAL_PREFIX_MATCH_NO_USER=98]="NAV_NORMAL_PREFIX_MATCH_NO_USER",m[m.CHANNEL_LATEST_MSG_AGE_DECAY_7D=99]="CHANNEL_LATEST_MSG_AGE_DECAY_7D",m[m.CHANNEL_LATEST_MSG_AGE_DECAY_2H=100]="CHANNEL_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_LATEST_MSG_AGE_DECAY_2H=101]="MPIM_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_LATEST_MSG_AGE_DECAY_7D=102]="MPIM_LATEST_MSG_AGE_DECAY_7D",m[m.USER_DM_LATEST_MSG_AGE_DECAY_7D=103]="USER_DM_LATEST_MSG_AGE_DECAY_7D",m[m.USER_DM_LATEST_MSG_AGE_DECAY_2H=104]="USER_DM_LATEST_MSG_AGE_DECAY_2H",m[m.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2=260]="USER_DM_LATEST_MSG_AGE_DECAY_7D_V2",m[m.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2=261]="USER_DM_LATEST_MSG_AGE_DECAY_2H_V2",m[m.FUZZY_SCORE_50=127]="FUZZY_SCORE_50",m[m.FUZZY_SCORE_25=128]="FUZZY_SCORE_25",m[m.FUZZY_SCORE_ALL=129]="FUZZY_SCORE_ALL",m[m.FUZZY_SCORE_SCALED_EXP=291]="FUZZY_SCORE_SCALED_EXP",m[m.FUZZY_SCORE_SCALED_FLIPPED=292]="FUZZY_SCORE_SCALED_FLIPPED",m[m.FUZZY_SCORE_SCALED_SUBTRACT=293]="FUZZY_SCORE_SCALED_SUBTRACT",m[m.HERE_KEYWORD=131]="HERE_KEYWORD",m[m.HERE_KEYWORD_EXACT_MATCH=132]="HERE_KEYWORD_EXACT_MATCH",m[m.IS_BROADCAST_KEYWORD=133]="IS_BROADCAST_KEYWORD",m[m.BROADCAST_KEYWORD_NORMAL_MATCH=134]="BROADCAST_KEYWORD_NORMAL_MATCH",m[m.MEMBER_OF_CURRENT_CHANNEL=153]="MEMBER_OF_CURRENT_CHANNEL",m[m.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL=154]="QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL",m[m.USER_EMAIL_MATCH=170]="USER_EMAIL_MATCH",m[m.USER_EMAIL_ONLY_MATCH=171]="USER_EMAIL_ONLY_MATCH",m[m.QUERY_IS_SELF=193]="QUERY_IS_SELF",m[m.CURRENT_USER_TEXTY=194]="CURRENT_USER_TEXTY",m[m.USER_IS_EXTERNAL=234]="USER_IS_EXTERNAL",m[m.USER_SAME_TEAM=235]="USER_SAME_TEAM",m[m.USER_IS_BOT=254]="USER_IS_BOT",m[m.MEMBER_OF_SEARCHER_DEFAULT_TEAM=294]="MEMBER_OF_SEARCHER_DEFAULT_TEAM",m[m.HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER=295]="HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER",m[m.NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER=296]="NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER",m[m.USER_IS_DEACTIVATED=297]="USER_IS_DEACTIVATED",m[m.USER_IS_IN_CURRENT_THREAD=298]="USER_IS_IN_CURRENT_THREAD",m[m.MEMBER_FILTER_USER_IN_CHANNEL=299]="MEMBER_FILTER_USER_IN_CHANNEL",m[m.FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL=300]="FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL",m[m.CHANNEL_TEAM_CTR_90DD=189]="CHANNEL_TEAM_CTR_90DD",m[m.CHANNEL_USER_CTR_30DD=190]="CHANNEL_USER_CTR_30DD",m[m.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS=199]="NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS",m[m.HISTORY_AGE_DECAY_2H=230]="HISTORY_AGE_DECAY_2H",m[m.HISTORY_AGE_DECAY_7D=231]="HISTORY_AGE_DECAY_7D",m[m.HISTORY_POSITION=232]="HISTORY_POSITION",m[m.USER_DM_NULL=179]="USER_DM_NULL",m[m.USER_DM_EMPTY=180]="USER_DM_EMPTY",m[m.USER_DM_NOT_OPEN=181]="USER_DM_NOT_OPEN",m[m.USER_DM_OPEN=182]="USER_DM_OPEN",m[m.USER_DM_LATEST_OLDER_30D=183]="USER_DM_LATEST_OLDER_30D",m[m.USER_DM_LATEST_OLDER_90D=184]="USER_DM_LATEST_OLDER_90D",m[m.USER_DM_EMPTY_V2=257]="USER_DM_EMPTY_V2",m[m.USER_DM_LATEST_OLDER_30D_V2=258]="USER_DM_LATEST_OLDER_30D_V2",m[m.USER_DM_LATEST_OLDER_90D_V2=259]="USER_DM_LATEST_OLDER_90D_V2",m[m.USER_HAS_DMED=284]="USER_HAS_DMED",m[m.USER_DM_READ_AGE_DECAY_2H_V3=285]="USER_DM_READ_AGE_DECAY_2H_V3",m[m.USER_DM_READ_AGE_DECAY_7D_V3=286]="USER_DM_READ_AGE_DECAY_7D_V3",m[m.USER_DM_READ_OLDER_7D=287]="USER_DM_READ_OLDER_7D",m[m.USER_DM_READ_OLDER_30D=288]="USER_DM_READ_OLDER_30D",m[m.USER_DM_READ_OLDER_90D=289]="USER_DM_READ_OLDER_90D",m[m.USER_MPIM_READ_AGE_DECAY_7D=236]="USER_MPIM_READ_AGE_DECAY_7D",m[m.USER_MPIM_READ_AGE_DECAY_2H=237]="USER_MPIM_READ_AGE_DECAY_2H",m[m.USER_MPIM_LATEST_MSG_AGE_DECAY_7D=238]="USER_MPIM_LATEST_MSG_AGE_DECAY_7D",m[m.USER_MPIM_LATEST_MSG_AGE_DECAY_2H=239]="USER_MPIM_LATEST_MSG_AGE_DECAY_2H",m[m.USER_MPIM_FRECENCY_LOG_HIT_COUNT=240]="USER_MPIM_FRECENCY_LOG_HIT_COUNT",m[m.USER_MPIM_FRECENCY_LOG_ITEM_COUNT=241]="USER_MPIM_FRECENCY_LOG_ITEM_COUNT",m[m.USER_HAS_MPDMED=303]="USER_HAS_MPDMED",m[m.USER_MPIM_LOG1P_MEMBERSHIP_COUNT=304]="USER_MPIM_LOG1P_MEMBERSHIP_COUNT",m[m.USER_MPIM_GTE5_MEMBERSHIP_COUNT=305]="USER_MPIM_GTE5_MEMBERSHIP_COUNT",m[m.USER_MPIM_GTE25_MEMBERSHIP_COUNT=306]="USER_MPIM_GTE25_MEMBERSHIP_COUNT",m[m.USER_MPIM_READ_AGE_DECAY_7D_V2=307]="USER_MPIM_READ_AGE_DECAY_7D_V2",m[m.USER_MPIM_READ_AGE_DECAY_2H_V2=308]="USER_MPIM_READ_AGE_DECAY_2H_V2",m[m.MPIM_MEMBERS=166]="MPIM_MEMBERS",m[m.MPIM_MEMBER_NAME_MATCHES=167]="MPIM_MEMBER_NAME_MATCHES",m[m.MPIM_MEMBER_ALL_MATCHES=168]="MPIM_MEMBER_ALL_MATCHES",m[m.MPIM_MATCHER_SCORE=169]="MPIM_MATCHER_SCORE",m[m.MPIM_MATCHER_SCORE_0=173]="MPIM_MATCHER_SCORE_0",m[m.MPIM_MATCHER_SCORE_1=174]="MPIM_MATCHER_SCORE_1",m[m.MPIM_MATCHER_SCORE_2=175]="MPIM_MATCHER_SCORE_2",m[m.MPIM_MATCHER_SCORE_3=176]="MPIM_MATCHER_SCORE_3",m[m.MPIM_TEAM_CTR_90DD=187]="MPIM_TEAM_CTR_90DD",m[m.MPIM_USER_CTR_30DD=188]="MPIM_USER_CTR_30DD",m[m.MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS=301]="MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS",m[m.MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH=302]="MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH",m[m.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H=262]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D=263]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D",m[m.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H=264]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H",m[m.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D=265]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D",m[m.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H=266]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H",m[m.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D=267]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D",m[m.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H=268]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H",m[m.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D=269]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D",m[m.MPIM_USERS_PCT_NON_EMPTY_DMS=270]="MPIM_USERS_PCT_NON_EMPTY_DMS",m[m.MPIM_USERS_PCT_NON_NULL_DMS=271]="MPIM_USERS_PCT_NON_NULL_DMS",m[m.MPIM_USERS_ALL_INTERNAL=272]="MPIM_USERS_ALL_INTERNAL",m[m.EMOJI_EXACT_MATCH=136]="EMOJI_EXACT_MATCH",m[m.EMOJI_QUERY_LENGTH_RATIO=150]="EMOJI_QUERY_LENGTH_RATIO",m[m.EMOJI_TOTAL_COMBO_BREAKS=151]="EMOJI_TOTAL_COMBO_BREAKS",m[m.EMOJI_COMBO_BREAK_0=161]="EMOJI_COMBO_BREAK_0",m[m.EMOJI_COMBO_BREAK_1=156]="EMOJI_COMBO_BREAK_1",m[m.EMOJI_COMBO_BREAK_2=157]="EMOJI_COMBO_BREAK_2",m[m.EMOJI_COMBO_BREAK_3=158]="EMOJI_COMBO_BREAK_3",m[m.EMOJI_TEAM_CTR_90DD=185]="EMOJI_TEAM_CTR_90DD",m[m.EMOJI_USER_CTR_30DD=186]="EMOJI_USER_CTR_30DD",m[m.CHANNEL_IS_FROZEN=146]="CHANNEL_IS_FROZEN",m[m.USER_DM_IS_FROZEN=147]="USER_DM_IS_FROZEN",m[m.CHANNEL_HAS_DRAFT=148]="CHANNEL_HAS_DRAFT",m[m.USER_DM_HAS_DRAFT=149]="USER_DM_HAS_DRAFT",m[m.QUERY_FRECENCY_RAW=107]="QUERY_FRECENCY_RAW",m[m.QUERY_FRECENCY_WEIGHT_HIT_VISITS=108]="QUERY_FRECENCY_WEIGHT_HIT_VISITS",m[m.QUERY_FRECENCY_HIT_COUNT=109]="QUERY_FRECENCY_HIT_COUNT",m[m.QUERY_FRECENCY_WEIGHT_ITEM_VISITS=110]="QUERY_FRECENCY_WEIGHT_ITEM_VISITS",m[m.QUERY_FRECENCY_ITEM_COUNT=111]="QUERY_FRECENCY_ITEM_COUNT",m[m.QUERY_FUZZY_SCORE=112]="QUERY_FUZZY_SCORE",m[m.QUERY_FRECENCY_BONUS=113]="QUERY_FRECENCY_BONUS",m[m.QUERY_LOG_HIT_COUNT=130]="QUERY_LOG_HIT_COUNT",m[m.QUERY_TOKEN_NORMAL_MATCH=137]="QUERY_TOKEN_NORMAL_MATCH",m[m.QUERY_TOKEN_NORMAL_PREFIX_MATCH=138]="QUERY_TOKEN_NORMAL_PREFIX_MATCH",m[m.QUERY_HISTORY_AGE_DECAY_30D=282]="QUERY_HISTORY_AGE_DECAY_30D",m[m.QUERY_HISTORY_LOG_INDEX=283]="QUERY_HISTORY_LOG_INDEX",m[m.FILTER_USER_IS_ACTIVE=114]="FILTER_USER_IS_ACTIVE",m[m.FILTER_USER_IS_CURRENT_USER=115]="FILTER_USER_IS_CURRENT_USER",m[m.FILTER_USER_DM_IS_STARRED=116]="FILTER_USER_DM_IS_STARRED",m[m.FILTER_USER_DM_IS_UNREAD=117]="FILTER_USER_DM_IS_UNREAD",m[m.FILTER_USER_DM_READ_AGE_DECAY_7D=118]="FILTER_USER_DM_READ_AGE_DECAY_7D",m[m.FILTER_USER_DM_READ_AGE_DECAY_2H=119]="FILTER_USER_DM_READ_AGE_DECAY_2H",m[m.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D=120]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D",m[m.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H=121]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H",m[m.FILTER_USER_FIRST_NAME_NORMAL_MATCH=122]="FILTER_USER_FIRST_NAME_NORMAL_MATCH",m[m.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH=123]="FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH",m[m.FILTER_USER_LAST_NAME_NORMAL_MATCH=124]="FILTER_USER_LAST_NAME_NORMAL_MATCH",m[m.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH=125]="FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH",m[m.FILTER_USER_PRIORITY=126]="FILTER_USER_PRIORITY",m[m.FILTER_CHANNEL_IS_ARCHIVED=139]="FILTER_CHANNEL_IS_ARCHIVED",m[m.FILTER_CHANNEL_IS_MEMBER=140]="FILTER_CHANNEL_IS_MEMBER",m[m.FILTER_CHANNEL_IS_STARRED=141]="FILTER_CHANNEL_IS_STARRED",m[m.FILTER_CHANNEL_IS_UNREAD=142]="FILTER_CHANNEL_IS_UNREAD",m[m.FILTER_CHANNEL_READ_AGE_DECAY_7D=143]="FILTER_CHANNEL_READ_AGE_DECAY_7D",m[m.FILTER_CHANNEL_READ_AGE_DECAY_2H=144]="FILTER_CHANNEL_READ_AGE_DECAY_2H",m[m.FILTER_CHANNEL_PRIORITY=145]="FILTER_CHANNEL_PRIORITY",m[m.USER_ENTITY_TYPE_CTR_30DD=191]="USER_ENTITY_TYPE_CTR_30DD",m[m.NUM_RESULTS=192]="NUM_RESULTS",m[m.TYPE_NAVIGATION_FILE=3]="TYPE_NAVIGATION_FILE",m[m.FILE_AGE_DECAY_7D=195]="FILE_AGE_DECAY_7D",m[m.FILE_AGE_DECAY_28D=196]="FILE_AGE_DECAY_28D",m[m.FILE_AGE_DECAY_90D=197]="FILE_AGE_DECAY_90D",m[m.FILE_FROM_CURRENT_USER=198]="FILE_FROM_CURRENT_USER",m[m.FILE_LOG_PRIVATE_SHARES=200]="FILE_LOG_PRIVATE_SHARES",m[m.FILE_LOG_PUBLIC_SHARES=201]="FILE_LOG_PUBLIC_SHARES",m[m.FILE_LOG_ACTIONS=202]="FILE_LOG_ACTIONS",m[m.FILE_LATEST_ACTION_AGE_DECAY_2H=203]="FILE_LATEST_ACTION_AGE_DECAY_2H",m[m.FILE_LATEST_ACTION_AGE_DECAY_7D=204]="FILE_LATEST_ACTION_AGE_DECAY_7D",m[m.FILE_LATEST_ACTION_AGE_DECAY_90D=205]="FILE_LATEST_ACTION_AGE_DECAY_90D",m[m.FILE_LATEST_SHARE_AGE_DECAY_2H=206]="FILE_LATEST_SHARE_AGE_DECAY_2H",m[m.FILE_LATEST_SHARE_AGE_DECAY_7D=207]="FILE_LATEST_SHARE_AGE_DECAY_7D",m[m.FILE_LATEST_SHARE_AGE_DECAY_90D=208]="FILE_LATEST_SHARE_AGE_DECAY_90D",m[m.FILE_CHANNEL_CTR=209]="FILE_CHANNEL_CTR",m[m.FILE_SUGGESTIONS_SEARCHER=210]="FILE_SUGGESTIONS_SEARCHER",m[m.FILE_USER_CTR=211]="FILE_USER_CTR",m[m.FILE_NAME_CONTAINS_QUERY_NORMALIZED=273]="FILE_NAME_CONTAINS_QUERY_NORMALIZED",m[m.FILE_IS_CANVAS=276]="FILE_IS_CANVAS",m[m.FILE_HAS_DMS_WITH_CREATOR=277]="FILE_HAS_DMS_WITH_CREATOR",m[m.FILE_LATEST_VIEW_BY_USER_OLDER_90D=278]="FILE_LATEST_VIEW_BY_USER_OLDER_90D",m[m.FILE_HAS_DMS_WITH_CREATOR_V2=290]="FILE_HAS_DMS_WITH_CREATOR_V2",m[m.APP_NAME_PREFIX_MATCH=215]="APP_NAME_PREFIX_MATCH",m[m.BEST_NAME_MATCH_LOG_RESULTS=218]="BEST_NAME_MATCH_LOG_RESULTS",m[m.SHORTCUT_ENTITY_TYPE_CTR=226]="SHORTCUT_ENTITY_TYPE_CTR",m[m.TYPE_SLASH_COMMAND=212]="TYPE_SLASH_COMMAND",m[m.SLASH_COMMAND_TEAM_CTR=227]="SLASH_COMMAND_TEAM_CTR",m[m.SLASH_COMMAND_USER_CTR=219]="SLASH_COMMAND_USER_CTR",m[m.TYPE_GLOBAL_ACTION=213]="TYPE_GLOBAL_ACTION",m[m.IS_INVITE_WORKSPACE=217]="IS_INVITE_WORKSPACE",m[m.GLOBAL_ACTION_TEAM_CTR=220]="GLOBAL_ACTION_TEAM_CTR",m[m.GLOBAL_ACTION_USER_CTR=221]="GLOBAL_ACTION_USER_CTR",m[m.TYPE_CHANNEL_ACTION=214]="TYPE_CHANNEL_ACTION",m[m.CHANNEL_ACTION_TEAM_CTR=222]="CHANNEL_ACTION_TEAM_CTR",m[m.CHANNEL_ACTION_USER_CTR=223]="CHANNEL_ACTION_USER_CTR",m[m.TYPE_APP_ACTION=152]="TYPE_APP_ACTION",m[m.APP_ACTION_TEAM_CTR=224]="APP_ACTION_TEAM_CTR",m[m.APP_ACTION_USER_CTR=225]="APP_ACTION_USER_CTR",m[m.OS_APP_ACTION=228]="OS_APP_ACTION",m[m.TYPE_APP=216]="TYPE_APP",m[m.TYPE_NAVIGATION_MESSAGE=255]="TYPE_NAVIGATION_MESSAGE",m[m.TYPE_WORKFLOW_TRIGGER=256]="TYPE_WORKFLOW_TRIGGER",m[m.WORKFLOW_TRIGGER_TEAM_CTR=279]="WORKFLOW_TRIGGER_TEAM_CTR",m[m.WORKFLOW_TRIGGER_USER_CTR=280]="WORKFLOW_TRIGGER_USER_CTR",m[m.HAS_CHANNEL_ASSOCIATION=281]="HAS_CHANNEL_ASSOCIATION",m[m.DEPRECATED_QUERY_SUGGESTION_SCORE=1]="DEPRECATED_QUERY_SUGGESTION_SCORE",m[m.DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL=29]="DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL",m[m.DEPRECATED_BM25_SCORE=30]="DEPRECATED_BM25_SCORE",m[m.DEPRECATED_NAV_EXCESS_STRING_LENGTH=34]="DEPRECATED_NAV_EXCESS_STRING_LENGTH",m[m.DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH=58]="DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH",m[m.DEPRECATED_USER_EXCESS_STRING_LENGTH=59]="DEPRECATED_USER_EXCESS_STRING_LENGTH",m[m.DEPRECATED_MPIM_EXCESS_STRING_LENGTH=60]="DEPRECATED_MPIM_EXCESS_STRING_LENGTH",m[m.DEPRECATED_LOG_FRECENCY=67]="DEPRECATED_LOG_FRECENCY",m[m.DEPRECATED_LOG_FRECENCY_BONUS=77]="DEPRECATED_LOG_FRECENCY_BONUS",m[m.DEPRECATED_LOG_FRECENCY_CHANNEL=78]="DEPRECATED_LOG_FRECENCY_CHANNEL",m[m.DEPRECATED_LOG_FRECENCY_USER=79]="DEPRECATED_LOG_FRECENCY_USER",m[m.DEPRECATED_LOG_FRECENCY_MPIM=80]="DEPRECATED_LOG_FRECENCY_MPIM",m[m.DEPRECATED_EMOJI_SCORE_BONUS=135]="DEPRECATED_EMOJI_SCORE_BONUS",m[m.TEST_FEATURE_1=1e3]="TEST_FEATURE_1",m[m.TEST_FEATURE_2=1001]="TEST_FEATURE_2",m[m.TEST_FEATURE_3=1002]="TEST_FEATURE_3",m[m.TEST_FEATURE_4=1003]="TEST_FEATURE_4",m[m.TEST_FEATURE_5=1004]="TEST_FEATURE_5",m[m.TEST_FEATURE_6=1005]="TEST_FEATURE_6",m[m.TEST_FEATURE_7=1006]="TEST_FEATURE_7",m[m.TEST_FEATURE_8=1007]="TEST_FEATURE_8",m[m.TEST_FEATURE_9=1008]="TEST_FEATURE_9",m[m.TEST_FEATURE_10=1009]="TEST_FEATURE_10"})(d||(d={}));var h;(function(m){m[m.NUMERICAL=1]="NUMERICAL",m[m.BINARY=2]="BINARY",m[m.TEXT=3]="TEXT"})(h||(h={}))},6542992125:(V,l,c)=>{"use strict";var d=c(4224187311),h=c.n(d);const m=d.Reader,p=d.Writer,a=d.util,s=d.roots.default||(d.roots.default={}),i=s.slack=(()=>{const e={};return e.calls=function(){const t={};return t.analytics=function(){const r={};return r.RecvMedia=function(){function o(g){if(g)for(let v=Object.keys(g),u=0;u<v.length;++u)g[v[u]]!=null&&(this[v[u]]=g[v[u]])}n(o,"RecvMedia"),o.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.bytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.packetsReceived=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.fractionLost=0,o.prototype.jitter=0,o.prototype.packetsLost=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.codec=0,o.prototype.userId="",o.prototype.peerIdString="",o.prototype.audioStats=null,o.prototype.videoStats=null;let f;return Object.defineProperty(o.prototype,"mediaType",{get:a.oneOfGetter(f=["audioStats","videoStats"]),set:a.oneOfSetter(f)}),o.create=n(function(v){return new o(v)},"create"),o.encode=n(function(v,u){return u||(u=p.create()),v.peerId!=null&&Object.hasOwnProperty.call(v,"peerId")&&u.uint32(8).uint64(v.peerId),v.bytesReceived!=null&&Object.hasOwnProperty.call(v,"bytesReceived")&&u.uint32(16).uint64(v.bytesReceived),v.packetsReceived!=null&&Object.hasOwnProperty.call(v,"packetsReceived")&&u.uint32(24).uint64(v.packetsReceived),v.fractionLost!=null&&Object.hasOwnProperty.call(v,"fractionLost")&&u.uint32(33).double(v.fractionLost),v.jitter!=null&&Object.hasOwnProperty.call(v,"jitter")&&u.uint32(41).double(v.jitter),v.packetsLost!=null&&Object.hasOwnProperty.call(v,"packetsLost")&&u.uint32(48).uint64(v.packetsLost),v.codec!=null&&Object.hasOwnProperty.call(v,"codec")&&u.uint32(56).int32(v.codec),v.audioStats!=null&&Object.hasOwnProperty.call(v,"audioStats")&&s.slack.calls.analytics.RecvMedia.Audio.encode(v.audioStats,u.uint32(66).fork()).ldelim(),v.videoStats!=null&&Object.hasOwnProperty.call(v,"videoStats")&&s.slack.calls.analytics.RecvMedia.Video.encode(v.videoStats,u.uint32(74).fork()).ldelim(),v.userId!=null&&Object.hasOwnProperty.call(v,"userId")&&u.uint32(82).string(v.userId),v.peerIdString!=null&&Object.hasOwnProperty.call(v,"peerIdString")&&u.uint32(90).string(v.peerIdString),u},"encode"),o.encodeDelimited=n(function(v,u){return this.encode(v,u).ldelim()},"encodeDelimited"),o.decode=n(function(v,u){v instanceof m||(v=m.create(v));let S=u===void 0?v.len:v.pos+u,_=new s.slack.calls.analytics.RecvMedia;for(;v.pos<S;){let b=v.uint32();switch(b>>>3){case 1:{_.peerId=v.uint64();break}case 2:{_.bytesReceived=v.uint64();break}case 3:{_.packetsReceived=v.uint64();break}case 4:{_.fractionLost=v.double();break}case 5:{_.jitter=v.double();break}case 6:{_.packetsLost=v.uint64();break}case 7:{_.codec=v.int32();break}case 10:{_.userId=v.string();break}case 11:{_.peerIdString=v.string();break}case 8:{_.audioStats=s.slack.calls.analytics.RecvMedia.Audio.decode(v,v.uint32());break}case 9:{_.videoStats=s.slack.calls.analytics.RecvMedia.Video.decode(v,v.uint32());break}default:v.skipType(b&7);break}}return _},"decode"),o.decodeDelimited=n(function(v){return v instanceof m||(v=new m(v)),this.decode(v,v.uint32())},"decodeDelimited"),o.verify=n(function(v){if(typeof v!="object"||v===null)return"object expected";let u={};if(v.peerId!=null&&v.hasOwnProperty("peerId")&&!a.isInteger(v.peerId)&&!(v.peerId&&a.isInteger(v.peerId.low)&&a.isInteger(v.peerId.high)))return"peerId: integer|Long expected";if(v.bytesReceived!=null&&v.hasOwnProperty("bytesReceived")&&!a.isInteger(v.bytesReceived)&&!(v.bytesReceived&&a.isInteger(v.bytesReceived.low)&&a.isInteger(v.bytesReceived.high)))return"bytesReceived: integer|Long expected";if(v.packetsReceived!=null&&v.hasOwnProperty("packetsReceived")&&!a.isInteger(v.packetsReceived)&&!(v.packetsReceived&&a.isInteger(v.packetsReceived.low)&&a.isInteger(v.packetsReceived.high)))return"packetsReceived: integer|Long expected";if(v.fractionLost!=null&&v.hasOwnProperty("fractionLost")&&typeof v.fractionLost!="number")return"fractionLost: number expected";if(v.jitter!=null&&v.hasOwnProperty("jitter")&&typeof v.jitter!="number")return"jitter: number expected";if(v.packetsLost!=null&&v.hasOwnProperty("packetsLost")&&!a.isInteger(v.packetsLost)&&!(v.packetsLost&&a.isInteger(v.packetsLost.low)&&a.isInteger(v.packetsLost.high)))return"packetsLost: integer|Long expected";if(v.codec!=null&&v.hasOwnProperty("codec"))switch(v.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(v.userId!=null&&v.hasOwnProperty("userId")&&!a.isString(v.userId))return"userId: string expected";if(v.peerIdString!=null&&v.hasOwnProperty("peerIdString")&&!a.isString(v.peerIdString))return"peerIdString: string expected";if(v.audioStats!=null&&v.hasOwnProperty("audioStats")){u.mediaType=1;{let S=s.slack.calls.analytics.RecvMedia.Audio.verify(v.audioStats);if(S)return"audioStats."+S}}if(v.videoStats!=null&&v.hasOwnProperty("videoStats")){if(u.mediaType===1)return"mediaType: multiple values";u.mediaType=1;{let S=s.slack.calls.analytics.RecvMedia.Video.verify(v.videoStats);if(S)return"videoStats."+S}}return null},"verify"),o.fromObject=n(function(v){if(v instanceof s.slack.calls.analytics.RecvMedia)return v;let u=new s.slack.calls.analytics.RecvMedia;switch(v.peerId!=null&&(a.Long?(u.peerId=a.Long.fromValue(v.peerId)).unsigned=!0:typeof v.peerId=="string"?u.peerId=parseInt(v.peerId,10):typeof v.peerId=="number"?u.peerId=v.peerId:typeof v.peerId=="object"&&(u.peerId=new a.LongBits(v.peerId.low>>>0,v.peerId.high>>>0).toNumber(!0))),v.bytesReceived!=null&&(a.Long?(u.bytesReceived=a.Long.fromValue(v.bytesReceived)).unsigned=!0:typeof v.bytesReceived=="string"?u.bytesReceived=parseInt(v.bytesReceived,10):typeof v.bytesReceived=="number"?u.bytesReceived=v.bytesReceived:typeof v.bytesReceived=="object"&&(u.bytesReceived=new a.LongBits(v.bytesReceived.low>>>0,v.bytesReceived.high>>>0).toNumber(!0))),v.packetsReceived!=null&&(a.Long?(u.packetsReceived=a.Long.fromValue(v.packetsReceived)).unsigned=!0:typeof v.packetsReceived=="string"?u.packetsReceived=parseInt(v.packetsReceived,10):typeof v.packetsReceived=="number"?u.packetsReceived=v.packetsReceived:typeof v.packetsReceived=="object"&&(u.packetsReceived=new a.LongBits(v.packetsReceived.low>>>0,v.packetsReceived.high>>>0).toNumber(!0))),v.fractionLost!=null&&(u.fractionLost=Number(v.fractionLost)),v.jitter!=null&&(u.jitter=Number(v.jitter)),v.packetsLost!=null&&(a.Long?(u.packetsLost=a.Long.fromValue(v.packetsLost)).unsigned=!0:typeof v.packetsLost=="string"?u.packetsLost=parseInt(v.packetsLost,10):typeof v.packetsLost=="number"?u.packetsLost=v.packetsLost:typeof v.packetsLost=="object"&&(u.packetsLost=new a.LongBits(v.packetsLost.low>>>0,v.packetsLost.high>>>0).toNumber(!0))),v.codec){default:if(typeof v.codec=="number"){u.codec=v.codec;break}break;case"UNKNOWN":case 0:u.codec=0;break;case"OPUS":case 1:u.codec=1;break;case"VP8":case 2:u.codec=2;break;case"VP9":case 3:u.codec=3;break;case"H264":case 4:u.codec=4;break}if(v.userId!=null&&(u.userId=String(v.userId)),v.peerIdString!=null&&(u.peerIdString=String(v.peerIdString)),v.audioStats!=null){if(typeof v.audioStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.audioStats: object expected");u.audioStats=s.slack.calls.analytics.RecvMedia.Audio.fromObject(v.audioStats)}if(v.videoStats!=null){if(typeof v.videoStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.videoStats: object expected");u.videoStats=s.slack.calls.analytics.RecvMedia.Video.fromObject(v.videoStats)}return u},"fromObject"),o.toObject=n(function(v,u){u||(u={});let S={};if(u.defaults){if(a.Long){let _=new a.Long(0,0,!0);S.peerId=u.longs===String?_.toString():u.longs===Number?_.toNumber():_}else S.peerId=u.longs===String?"0":0;if(a.Long){let _=new a.Long(0,0,!0);S.bytesReceived=u.longs===String?_.toString():u.longs===Number?_.toNumber():_}else S.bytesReceived=u.longs===String?"0":0;if(a.Long){let _=new a.Long(0,0,!0);S.packetsReceived=u.longs===String?_.toString():u.longs===Number?_.toNumber():_}else S.packetsReceived=u.longs===String?"0":0;if(S.fractionLost=0,S.jitter=0,a.Long){let _=new a.Long(0,0,!0);S.packetsLost=u.longs===String?_.toString():u.longs===Number?_.toNumber():_}else S.packetsLost=u.longs===String?"0":0;S.codec=u.enums===String?"UNKNOWN":0,S.userId="",S.peerIdString=""}return v.peerId!=null&&v.hasOwnProperty("peerId")&&(typeof v.peerId=="number"?S.peerId=u.longs===String?String(v.peerId):v.peerId:S.peerId=u.longs===String?a.Long.prototype.toString.call(v.peerId):u.longs===Number?new a.LongBits(v.peerId.low>>>0,v.peerId.high>>>0).toNumber(!0):v.peerId),v.bytesReceived!=null&&v.hasOwnProperty("bytesReceived")&&(typeof v.bytesReceived=="number"?S.bytesReceived=u.longs===String?String(v.bytesReceived):v.bytesReceived:S.bytesReceived=u.longs===String?a.Long.prototype.toString.call(v.bytesReceived):u.longs===Number?new a.LongBits(v.bytesReceived.low>>>0,v.bytesReceived.high>>>0).toNumber(!0):v.bytesReceived),v.packetsReceived!=null&&v.hasOwnProperty("packetsReceived")&&(typeof v.packetsReceived=="number"?S.packetsReceived=u.longs===String?String(v.packetsReceived):v.packetsReceived:S.packetsReceived=u.longs===String?a.Long.prototype.toString.call(v.packetsReceived):u.longs===Number?new a.LongBits(v.packetsReceived.low>>>0,v.packetsReceived.high>>>0).toNumber(!0):v.packetsReceived),v.fractionLost!=null&&v.hasOwnProperty("fractionLost")&&(S.fractionLost=u.json&&!isFinite(v.fractionLost)?String(v.fractionLost):v.fractionLost),v.jitter!=null&&v.hasOwnProperty("jitter")&&(S.jitter=u.json&&!isFinite(v.jitter)?String(v.jitter):v.jitter),v.packetsLost!=null&&v.hasOwnProperty("packetsLost")&&(typeof v.packetsLost=="number"?S.packetsLost=u.longs===String?String(v.packetsLost):v.packetsLost:S.packetsLost=u.longs===String?a.Long.prototype.toString.call(v.packetsLost):u.longs===Number?new a.LongBits(v.packetsLost.low>>>0,v.packetsLost.high>>>0).toNumber(!0):v.packetsLost),v.codec!=null&&v.hasOwnProperty("codec")&&(S.codec=u.enums===String?s.slack.calls.analytics.Codec[v.codec]===void 0?v.codec:s.slack.calls.analytics.Codec[v.codec]:v.codec),v.audioStats!=null&&v.hasOwnProperty("audioStats")&&(S.audioStats=s.slack.calls.analytics.RecvMedia.Audio.toObject(v.audioStats,u),u.oneofs&&(S.mediaType="audioStats")),v.videoStats!=null&&v.hasOwnProperty("videoStats")&&(S.videoStats=s.slack.calls.analytics.RecvMedia.Video.toObject(v.videoStats,u),u.oneofs&&(S.mediaType="videoStats")),v.userId!=null&&v.hasOwnProperty("userId")&&(S.userId=v.userId),v.peerIdString!=null&&v.hasOwnProperty("peerIdString")&&(S.peerIdString=v.peerIdString),S},"toObject"),o.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),o.getTypeUrl=n(function(v){return v===void 0&&(v="type.googleapis.com"),v+"/slack.calls.analytics.RecvMedia"},"getTypeUrl"),o.Audio=function(){function g(v){if(v)for(let u=Object.keys(v),S=0;S<u.length;++S)v[u[S]]!=null&&(this[u[S]]=v[u[S]])}return n(g,"Audio"),g.prototype.audioLevel=0,g.prototype.jitterBufferDelay=0,g.prototype.concealmentEvents=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.concealedSamples=a.Long?a.Long.fromBits(0,0,!0):0,g.create=n(function(u){return new g(u)},"create"),g.encode=n(function(u,S){return S||(S=p.create()),u.audioLevel!=null&&Object.hasOwnProperty.call(u,"audioLevel")&&S.uint32(9).double(u.audioLevel),u.jitterBufferDelay!=null&&Object.hasOwnProperty.call(u,"jitterBufferDelay")&&S.uint32(17).double(u.jitterBufferDelay),u.concealmentEvents!=null&&Object.hasOwnProperty.call(u,"concealmentEvents")&&S.uint32(24).uint64(u.concealmentEvents),u.concealedSamples!=null&&Object.hasOwnProperty.call(u,"concealedSamples")&&S.uint32(32).uint64(u.concealedSamples),S},"encode"),g.encodeDelimited=n(function(u,S){return this.encode(u,S).ldelim()},"encodeDelimited"),g.decode=n(function(u,S){u instanceof m||(u=m.create(u));let _=S===void 0?u.len:u.pos+S,b=new s.slack.calls.analytics.RecvMedia.Audio;for(;u.pos<_;){let E=u.uint32();switch(E>>>3){case 1:{b.audioLevel=u.double();break}case 2:{b.jitterBufferDelay=u.double();break}case 3:{b.concealmentEvents=u.uint64();break}case 4:{b.concealedSamples=u.uint64();break}default:u.skipType(E&7);break}}return b},"decode"),g.decodeDelimited=n(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=n(function(u){return typeof u!="object"||u===null?"object expected":u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&typeof u.audioLevel!="number"?"audioLevel: number expected":u.jitterBufferDelay!=null&&u.hasOwnProperty("jitterBufferDelay")&&typeof u.jitterBufferDelay!="number"?"jitterBufferDelay: number expected":u.concealmentEvents!=null&&u.hasOwnProperty("concealmentEvents")&&!a.isInteger(u.concealmentEvents)&&!(u.concealmentEvents&&a.isInteger(u.concealmentEvents.low)&&a.isInteger(u.concealmentEvents.high))?"concealmentEvents: integer|Long expected":u.concealedSamples!=null&&u.hasOwnProperty("concealedSamples")&&!a.isInteger(u.concealedSamples)&&!(u.concealedSamples&&a.isInteger(u.concealedSamples.low)&&a.isInteger(u.concealedSamples.high))?"concealedSamples: integer|Long expected":null},"verify"),g.fromObject=n(function(u){if(u instanceof s.slack.calls.analytics.RecvMedia.Audio)return u;let S=new s.slack.calls.analytics.RecvMedia.Audio;return u.audioLevel!=null&&(S.audioLevel=Number(u.audioLevel)),u.jitterBufferDelay!=null&&(S.jitterBufferDelay=Number(u.jitterBufferDelay)),u.concealmentEvents!=null&&(a.Long?(S.concealmentEvents=a.Long.fromValue(u.concealmentEvents)).unsigned=!0:typeof u.concealmentEvents=="string"?S.concealmentEvents=parseInt(u.concealmentEvents,10):typeof u.concealmentEvents=="number"?S.concealmentEvents=u.concealmentEvents:typeof u.concealmentEvents=="object"&&(S.concealmentEvents=new a.LongBits(u.concealmentEvents.low>>>0,u.concealmentEvents.high>>>0).toNumber(!0))),u.concealedSamples!=null&&(a.Long?(S.concealedSamples=a.Long.fromValue(u.concealedSamples)).unsigned=!0:typeof u.concealedSamples=="string"?S.concealedSamples=parseInt(u.concealedSamples,10):typeof u.concealedSamples=="number"?S.concealedSamples=u.concealedSamples:typeof u.concealedSamples=="object"&&(S.concealedSamples=new a.LongBits(u.concealedSamples.low>>>0,u.concealedSamples.high>>>0).toNumber(!0))),S},"fromObject"),g.toObject=n(function(u,S){S||(S={});let _={};if(S.defaults){if(_.audioLevel=0,_.jitterBufferDelay=0,a.Long){let b=new a.Long(0,0,!0);_.concealmentEvents=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.concealmentEvents=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.concealedSamples=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.concealedSamples=S.longs===String?"0":0}return u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&(_.audioLevel=S.json&&!isFinite(u.audioLevel)?String(u.audioLevel):u.audioLevel),u.jitterBufferDelay!=null&&u.hasOwnProperty("jitterBufferDelay")&&(_.jitterBufferDelay=S.json&&!isFinite(u.jitterBufferDelay)?String(u.jitterBufferDelay):u.jitterBufferDelay),u.concealmentEvents!=null&&u.hasOwnProperty("concealmentEvents")&&(typeof u.concealmentEvents=="number"?_.concealmentEvents=S.longs===String?String(u.concealmentEvents):u.concealmentEvents:_.concealmentEvents=S.longs===String?a.Long.prototype.toString.call(u.concealmentEvents):S.longs===Number?new a.LongBits(u.concealmentEvents.low>>>0,u.concealmentEvents.high>>>0).toNumber(!0):u.concealmentEvents),u.concealedSamples!=null&&u.hasOwnProperty("concealedSamples")&&(typeof u.concealedSamples=="number"?_.concealedSamples=S.longs===String?String(u.concealedSamples):u.concealedSamples:_.concealedSamples=S.longs===String?a.Long.prototype.toString.call(u.concealedSamples):S.longs===Number?new a.LongBits(u.concealedSamples.low>>>0,u.concealedSamples.high>>>0).toNumber(!0):u.concealedSamples),_},"toObject"),g.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),g.getTypeUrl=n(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.RecvMedia.Audio"},"getTypeUrl"),g}(),o.Video=function(){function g(v){if(v)for(let u=Object.keys(v),S=0;S<u.length;++S)v[u[S]]!=null&&(this[u[S]]=v[u[S]])}return n(g,"Video"),g.prototype.firCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.nackCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.pliCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.sliCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesPerSecond=0,g.prototype.framesCorrupted=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesDecoded=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesDropped=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesReceived=a.Long?a.Long.fromBits(0,0,!0):0,g.create=n(function(u){return new g(u)},"create"),g.encode=n(function(u,S){return S||(S=p.create()),u.firCount!=null&&Object.hasOwnProperty.call(u,"firCount")&&S.uint32(8).uint64(u.firCount),u.nackCount!=null&&Object.hasOwnProperty.call(u,"nackCount")&&S.uint32(16).uint64(u.nackCount),u.pliCount!=null&&Object.hasOwnProperty.call(u,"pliCount")&&S.uint32(24).uint64(u.pliCount),u.sliCount!=null&&Object.hasOwnProperty.call(u,"sliCount")&&S.uint32(32).uint64(u.sliCount),u.frameHeight!=null&&Object.hasOwnProperty.call(u,"frameHeight")&&S.uint32(40).uint64(u.frameHeight),u.frameWidth!=null&&Object.hasOwnProperty.call(u,"frameWidth")&&S.uint32(48).uint64(u.frameWidth),u.framesPerSecond!=null&&Object.hasOwnProperty.call(u,"framesPerSecond")&&S.uint32(57).double(u.framesPerSecond),u.framesCorrupted!=null&&Object.hasOwnProperty.call(u,"framesCorrupted")&&S.uint32(64).uint64(u.framesCorrupted),u.framesDecoded!=null&&Object.hasOwnProperty.call(u,"framesDecoded")&&S.uint32(72).uint64(u.framesDecoded),u.framesDropped!=null&&Object.hasOwnProperty.call(u,"framesDropped")&&S.uint32(80).uint64(u.framesDropped),u.framesReceived!=null&&Object.hasOwnProperty.call(u,"framesReceived")&&S.uint32(88).uint64(u.framesReceived),S},"encode"),g.encodeDelimited=n(function(u,S){return this.encode(u,S).ldelim()},"encodeDelimited"),g.decode=n(function(u,S){u instanceof m||(u=m.create(u));let _=S===void 0?u.len:u.pos+S,b=new s.slack.calls.analytics.RecvMedia.Video;for(;u.pos<_;){let E=u.uint32();switch(E>>>3){case 1:{b.firCount=u.uint64();break}case 2:{b.nackCount=u.uint64();break}case 3:{b.pliCount=u.uint64();break}case 4:{b.sliCount=u.uint64();break}case 5:{b.frameHeight=u.uint64();break}case 6:{b.frameWidth=u.uint64();break}case 7:{b.framesPerSecond=u.double();break}case 8:{b.framesCorrupted=u.uint64();break}case 9:{b.framesDecoded=u.uint64();break}case 10:{b.framesDropped=u.uint64();break}case 11:{b.framesReceived=u.uint64();break}default:u.skipType(E&7);break}}return b},"decode"),g.decodeDelimited=n(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=n(function(u){return typeof u!="object"||u===null?"object expected":u.firCount!=null&&u.hasOwnProperty("firCount")&&!a.isInteger(u.firCount)&&!(u.firCount&&a.isInteger(u.firCount.low)&&a.isInteger(u.firCount.high))?"firCount: integer|Long expected":u.nackCount!=null&&u.hasOwnProperty("nackCount")&&!a.isInteger(u.nackCount)&&!(u.nackCount&&a.isInteger(u.nackCount.low)&&a.isInteger(u.nackCount.high))?"nackCount: integer|Long expected":u.pliCount!=null&&u.hasOwnProperty("pliCount")&&!a.isInteger(u.pliCount)&&!(u.pliCount&&a.isInteger(u.pliCount.low)&&a.isInteger(u.pliCount.high))?"pliCount: integer|Long expected":u.sliCount!=null&&u.hasOwnProperty("sliCount")&&!a.isInteger(u.sliCount)&&!(u.sliCount&&a.isInteger(u.sliCount.low)&&a.isInteger(u.sliCount.high))?"sliCount: integer|Long expected":u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&!a.isInteger(u.frameHeight)&&!(u.frameHeight&&a.isInteger(u.frameHeight.low)&&a.isInteger(u.frameHeight.high))?"frameHeight: integer|Long expected":u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&!a.isInteger(u.frameWidth)&&!(u.frameWidth&&a.isInteger(u.frameWidth.low)&&a.isInteger(u.frameWidth.high))?"frameWidth: integer|Long expected":u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&typeof u.framesPerSecond!="number"?"framesPerSecond: number expected":u.framesCorrupted!=null&&u.hasOwnProperty("framesCorrupted")&&!a.isInteger(u.framesCorrupted)&&!(u.framesCorrupted&&a.isInteger(u.framesCorrupted.low)&&a.isInteger(u.framesCorrupted.high))?"framesCorrupted: integer|Long expected":u.framesDecoded!=null&&u.hasOwnProperty("framesDecoded")&&!a.isInteger(u.framesDecoded)&&!(u.framesDecoded&&a.isInteger(u.framesDecoded.low)&&a.isInteger(u.framesDecoded.high))?"framesDecoded: integer|Long expected":u.framesDropped!=null&&u.hasOwnProperty("framesDropped")&&!a.isInteger(u.framesDropped)&&!(u.framesDropped&&a.isInteger(u.framesDropped.low)&&a.isInteger(u.framesDropped.high))?"framesDropped: integer|Long expected":u.framesReceived!=null&&u.hasOwnProperty("framesReceived")&&!a.isInteger(u.framesReceived)&&!(u.framesReceived&&a.isInteger(u.framesReceived.low)&&a.isInteger(u.framesReceived.high))?"framesReceived: integer|Long expected":null},"verify"),g.fromObject=n(function(u){if(u instanceof s.slack.calls.analytics.RecvMedia.Video)return u;let S=new s.slack.calls.analytics.RecvMedia.Video;return u.firCount!=null&&(a.Long?(S.firCount=a.Long.fromValue(u.firCount)).unsigned=!0:typeof u.firCount=="string"?S.firCount=parseInt(u.firCount,10):typeof u.firCount=="number"?S.firCount=u.firCount:typeof u.firCount=="object"&&(S.firCount=new a.LongBits(u.firCount.low>>>0,u.firCount.high>>>0).toNumber(!0))),u.nackCount!=null&&(a.Long?(S.nackCount=a.Long.fromValue(u.nackCount)).unsigned=!0:typeof u.nackCount=="string"?S.nackCount=parseInt(u.nackCount,10):typeof u.nackCount=="number"?S.nackCount=u.nackCount:typeof u.nackCount=="object"&&(S.nackCount=new a.LongBits(u.nackCount.low>>>0,u.nackCount.high>>>0).toNumber(!0))),u.pliCount!=null&&(a.Long?(S.pliCount=a.Long.fromValue(u.pliCount)).unsigned=!0:typeof u.pliCount=="string"?S.pliCount=parseInt(u.pliCount,10):typeof u.pliCount=="number"?S.pliCount=u.pliCount:typeof u.pliCount=="object"&&(S.pliCount=new a.LongBits(u.pliCount.low>>>0,u.pliCount.high>>>0).toNumber(!0))),u.sliCount!=null&&(a.Long?(S.sliCount=a.Long.fromValue(u.sliCount)).unsigned=!0:typeof u.sliCount=="string"?S.sliCount=parseInt(u.sliCount,10):typeof u.sliCount=="number"?S.sliCount=u.sliCount:typeof u.sliCount=="object"&&(S.sliCount=new a.LongBits(u.sliCount.low>>>0,u.sliCount.high>>>0).toNumber(!0))),u.frameHeight!=null&&(a.Long?(S.frameHeight=a.Long.fromValue(u.frameHeight)).unsigned=!0:typeof u.frameHeight=="string"?S.frameHeight=parseInt(u.frameHeight,10):typeof u.frameHeight=="number"?S.frameHeight=u.frameHeight:typeof u.frameHeight=="object"&&(S.frameHeight=new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0))),u.frameWidth!=null&&(a.Long?(S.frameWidth=a.Long.fromValue(u.frameWidth)).unsigned=!0:typeof u.frameWidth=="string"?S.frameWidth=parseInt(u.frameWidth,10):typeof u.frameWidth=="number"?S.frameWidth=u.frameWidth:typeof u.frameWidth=="object"&&(S.frameWidth=new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0))),u.framesPerSecond!=null&&(S.framesPerSecond=Number(u.framesPerSecond)),u.framesCorrupted!=null&&(a.Long?(S.framesCorrupted=a.Long.fromValue(u.framesCorrupted)).unsigned=!0:typeof u.framesCorrupted=="string"?S.framesCorrupted=parseInt(u.framesCorrupted,10):typeof u.framesCorrupted=="number"?S.framesCorrupted=u.framesCorrupted:typeof u.framesCorrupted=="object"&&(S.framesCorrupted=new a.LongBits(u.framesCorrupted.low>>>0,u.framesCorrupted.high>>>0).toNumber(!0))),u.framesDecoded!=null&&(a.Long?(S.framesDecoded=a.Long.fromValue(u.framesDecoded)).unsigned=!0:typeof u.framesDecoded=="string"?S.framesDecoded=parseInt(u.framesDecoded,10):typeof u.framesDecoded=="number"?S.framesDecoded=u.framesDecoded:typeof u.framesDecoded=="object"&&(S.framesDecoded=new a.LongBits(u.framesDecoded.low>>>0,u.framesDecoded.high>>>0).toNumber(!0))),u.framesDropped!=null&&(a.Long?(S.framesDropped=a.Long.fromValue(u.framesDropped)).unsigned=!0:typeof u.framesDropped=="string"?S.framesDropped=parseInt(u.framesDropped,10):typeof u.framesDropped=="number"?S.framesDropped=u.framesDropped:typeof u.framesDropped=="object"&&(S.framesDropped=new a.LongBits(u.framesDropped.low>>>0,u.framesDropped.high>>>0).toNumber(!0))),u.framesReceived!=null&&(a.Long?(S.framesReceived=a.Long.fromValue(u.framesReceived)).unsigned=!0:typeof u.framesReceived=="string"?S.framesReceived=parseInt(u.framesReceived,10):typeof u.framesReceived=="number"?S.framesReceived=u.framesReceived:typeof u.framesReceived=="object"&&(S.framesReceived=new a.LongBits(u.framesReceived.low>>>0,u.framesReceived.high>>>0).toNumber(!0))),S},"fromObject"),g.toObject=n(function(u,S){S||(S={});let _={};if(S.defaults){if(a.Long){let b=new a.Long(0,0,!0);_.firCount=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.firCount=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.nackCount=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.nackCount=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.pliCount=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.pliCount=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.sliCount=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.sliCount=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.frameHeight=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.frameHeight=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.frameWidth=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.frameWidth=S.longs===String?"0":0;if(_.framesPerSecond=0,a.Long){let b=new a.Long(0,0,!0);_.framesCorrupted=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.framesCorrupted=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.framesDecoded=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.framesDecoded=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.framesDropped=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.framesDropped=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.framesReceived=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.framesReceived=S.longs===String?"0":0}return u.firCount!=null&&u.hasOwnProperty("firCount")&&(typeof u.firCount=="number"?_.firCount=S.longs===String?String(u.firCount):u.firCount:_.firCount=S.longs===String?a.Long.prototype.toString.call(u.firCount):S.longs===Number?new a.LongBits(u.firCount.low>>>0,u.firCount.high>>>0).toNumber(!0):u.firCount),u.nackCount!=null&&u.hasOwnProperty("nackCount")&&(typeof u.nackCount=="number"?_.nackCount=S.longs===String?String(u.nackCount):u.nackCount:_.nackCount=S.longs===String?a.Long.prototype.toString.call(u.nackCount):S.longs===Number?new a.LongBits(u.nackCount.low>>>0,u.nackCount.high>>>0).toNumber(!0):u.nackCount),u.pliCount!=null&&u.hasOwnProperty("pliCount")&&(typeof u.pliCount=="number"?_.pliCount=S.longs===String?String(u.pliCount):u.pliCount:_.pliCount=S.longs===String?a.Long.prototype.toString.call(u.pliCount):S.longs===Number?new a.LongBits(u.pliCount.low>>>0,u.pliCount.high>>>0).toNumber(!0):u.pliCount),u.sliCount!=null&&u.hasOwnProperty("sliCount")&&(typeof u.sliCount=="number"?_.sliCount=S.longs===String?String(u.sliCount):u.sliCount:_.sliCount=S.longs===String?a.Long.prototype.toString.call(u.sliCount):S.longs===Number?new a.LongBits(u.sliCount.low>>>0,u.sliCount.high>>>0).toNumber(!0):u.sliCount),u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&(typeof u.frameHeight=="number"?_.frameHeight=S.longs===String?String(u.frameHeight):u.frameHeight:_.frameHeight=S.longs===String?a.Long.prototype.toString.call(u.frameHeight):S.longs===Number?new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0):u.frameHeight),u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&(typeof u.frameWidth=="number"?_.frameWidth=S.longs===String?String(u.frameWidth):u.frameWidth:_.frameWidth=S.longs===String?a.Long.prototype.toString.call(u.frameWidth):S.longs===Number?new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0):u.frameWidth),u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&(_.framesPerSecond=S.json&&!isFinite(u.framesPerSecond)?String(u.framesPerSecond):u.framesPerSecond),u.framesCorrupted!=null&&u.hasOwnProperty("framesCorrupted")&&(typeof u.framesCorrupted=="number"?_.framesCorrupted=S.longs===String?String(u.framesCorrupted):u.framesCorrupted:_.framesCorrupted=S.longs===String?a.Long.prototype.toString.call(u.framesCorrupted):S.longs===Number?new a.LongBits(u.framesCorrupted.low>>>0,u.framesCorrupted.high>>>0).toNumber(!0):u.framesCorrupted),u.framesDecoded!=null&&u.hasOwnProperty("framesDecoded")&&(typeof u.framesDecoded=="number"?_.framesDecoded=S.longs===String?String(u.framesDecoded):u.framesDecoded:_.framesDecoded=S.longs===String?a.Long.prototype.toString.call(u.framesDecoded):S.longs===Number?new a.LongBits(u.framesDecoded.low>>>0,u.framesDecoded.high>>>0).toNumber(!0):u.framesDecoded),u.framesDropped!=null&&u.hasOwnProperty("framesDropped")&&(typeof u.framesDropped=="number"?_.framesDropped=S.longs===String?String(u.framesDropped):u.framesDropped:_.framesDropped=S.longs===String?a.Long.prototype.toString.call(u.framesDropped):S.longs===Number?new a.LongBits(u.framesDropped.low>>>0,u.framesDropped.high>>>0).toNumber(!0):u.framesDropped),u.framesReceived!=null&&u.hasOwnProperty("framesReceived")&&(typeof u.framesReceived=="number"?_.framesReceived=S.longs===String?String(u.framesReceived):u.framesReceived:_.framesReceived=S.longs===String?a.Long.prototype.toString.call(u.framesReceived):S.longs===Number?new a.LongBits(u.framesReceived.low>>>0,u.framesReceived.high>>>0).toNumber(!0):u.framesReceived),_},"toObject"),g.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),g.getTypeUrl=n(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.RecvMedia.Video"},"getTypeUrl"),g}(),o}(),r.SendMedia=function(){function o(g){if(g)for(let v=Object.keys(g),u=0;u<v.length;++u)g[v[u]]!=null&&(this[v[u]]=g[v[u]])}n(o,"SendMedia"),o.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.bytesSent=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.packetsSent=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.codec=0,o.prototype.peerIdString="",o.prototype.audioStats=null,o.prototype.videoStats=null;let f;return Object.defineProperty(o.prototype,"mediaType",{get:a.oneOfGetter(f=["audioStats","videoStats"]),set:a.oneOfSetter(f)}),o.create=n(function(v){return new o(v)},"create"),o.encode=n(function(v,u){return u||(u=p.create()),v.peerId!=null&&Object.hasOwnProperty.call(v,"peerId")&&u.uint32(8).uint64(v.peerId),v.bytesSent!=null&&Object.hasOwnProperty.call(v,"bytesSent")&&u.uint32(16).uint64(v.bytesSent),v.packetsSent!=null&&Object.hasOwnProperty.call(v,"packetsSent")&&u.uint32(24).uint64(v.packetsSent),v.codec!=null&&Object.hasOwnProperty.call(v,"codec")&&u.uint32(32).int32(v.codec),v.audioStats!=null&&Object.hasOwnProperty.call(v,"audioStats")&&s.slack.calls.analytics.SendMedia.Audio.encode(v.audioStats,u.uint32(42).fork()).ldelim(),v.videoStats!=null&&Object.hasOwnProperty.call(v,"videoStats")&&s.slack.calls.analytics.SendMedia.Video.encode(v.videoStats,u.uint32(50).fork()).ldelim(),v.peerIdString!=null&&Object.hasOwnProperty.call(v,"peerIdString")&&u.uint32(58).string(v.peerIdString),u},"encode"),o.encodeDelimited=n(function(v,u){return this.encode(v,u).ldelim()},"encodeDelimited"),o.decode=n(function(v,u){v instanceof m||(v=m.create(v));let S=u===void 0?v.len:v.pos+u,_=new s.slack.calls.analytics.SendMedia;for(;v.pos<S;){let b=v.uint32();switch(b>>>3){case 1:{_.peerId=v.uint64();break}case 2:{_.bytesSent=v.uint64();break}case 3:{_.packetsSent=v.uint64();break}case 4:{_.codec=v.int32();break}case 7:{_.peerIdString=v.string();break}case 5:{_.audioStats=s.slack.calls.analytics.SendMedia.Audio.decode(v,v.uint32());break}case 6:{_.videoStats=s.slack.calls.analytics.SendMedia.Video.decode(v,v.uint32());break}default:v.skipType(b&7);break}}return _},"decode"),o.decodeDelimited=n(function(v){return v instanceof m||(v=new m(v)),this.decode(v,v.uint32())},"decodeDelimited"),o.verify=n(function(v){if(typeof v!="object"||v===null)return"object expected";let u={};if(v.peerId!=null&&v.hasOwnProperty("peerId")&&!a.isInteger(v.peerId)&&!(v.peerId&&a.isInteger(v.peerId.low)&&a.isInteger(v.peerId.high)))return"peerId: integer|Long expected";if(v.bytesSent!=null&&v.hasOwnProperty("bytesSent")&&!a.isInteger(v.bytesSent)&&!(v.bytesSent&&a.isInteger(v.bytesSent.low)&&a.isInteger(v.bytesSent.high)))return"bytesSent: integer|Long expected";if(v.packetsSent!=null&&v.hasOwnProperty("packetsSent")&&!a.isInteger(v.packetsSent)&&!(v.packetsSent&&a.isInteger(v.packetsSent.low)&&a.isInteger(v.packetsSent.high)))return"packetsSent: integer|Long expected";if(v.codec!=null&&v.hasOwnProperty("codec"))switch(v.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(v.peerIdString!=null&&v.hasOwnProperty("peerIdString")&&!a.isString(v.peerIdString))return"peerIdString: string expected";if(v.audioStats!=null&&v.hasOwnProperty("audioStats")){u.mediaType=1;{let S=s.slack.calls.analytics.SendMedia.Audio.verify(v.audioStats);if(S)return"audioStats."+S}}if(v.videoStats!=null&&v.hasOwnProperty("videoStats")){if(u.mediaType===1)return"mediaType: multiple values";u.mediaType=1;{let S=s.slack.calls.analytics.SendMedia.Video.verify(v.videoStats);if(S)return"videoStats."+S}}return null},"verify"),o.fromObject=n(function(v){if(v instanceof s.slack.calls.analytics.SendMedia)return v;let u=new s.slack.calls.analytics.SendMedia;switch(v.peerId!=null&&(a.Long?(u.peerId=a.Long.fromValue(v.peerId)).unsigned=!0:typeof v.peerId=="string"?u.peerId=parseInt(v.peerId,10):typeof v.peerId=="number"?u.peerId=v.peerId:typeof v.peerId=="object"&&(u.peerId=new a.LongBits(v.peerId.low>>>0,v.peerId.high>>>0).toNumber(!0))),v.bytesSent!=null&&(a.Long?(u.bytesSent=a.Long.fromValue(v.bytesSent)).unsigned=!0:typeof v.bytesSent=="string"?u.bytesSent=parseInt(v.bytesSent,10):typeof v.bytesSent=="number"?u.bytesSent=v.bytesSent:typeof v.bytesSent=="object"&&(u.bytesSent=new a.LongBits(v.bytesSent.low>>>0,v.bytesSent.high>>>0).toNumber(!0))),v.packetsSent!=null&&(a.Long?(u.packetsSent=a.Long.fromValue(v.packetsSent)).unsigned=!0:typeof v.packetsSent=="string"?u.packetsSent=parseInt(v.packetsSent,10):typeof v.packetsSent=="number"?u.packetsSent=v.packetsSent:typeof v.packetsSent=="object"&&(u.packetsSent=new a.LongBits(v.packetsSent.low>>>0,v.packetsSent.high>>>0).toNumber(!0))),v.codec){default:if(typeof v.codec=="number"){u.codec=v.codec;break}break;case"UNKNOWN":case 0:u.codec=0;break;case"OPUS":case 1:u.codec=1;break;case"VP8":case 2:u.codec=2;break;case"VP9":case 3:u.codec=3;break;case"H264":case 4:u.codec=4;break}if(v.peerIdString!=null&&(u.peerIdString=String(v.peerIdString)),v.audioStats!=null){if(typeof v.audioStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.audioStats: object expected");u.audioStats=s.slack.calls.analytics.SendMedia.Audio.fromObject(v.audioStats)}if(v.videoStats!=null){if(typeof v.videoStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.videoStats: object expected");u.videoStats=s.slack.calls.analytics.SendMedia.Video.fromObject(v.videoStats)}return u},"fromObject"),o.toObject=n(function(v,u){u||(u={});let S={};if(u.defaults){if(a.Long){let _=new a.Long(0,0,!0);S.peerId=u.longs===String?_.toString():u.longs===Number?_.toNumber():_}else S.peerId=u.longs===String?"0":0;if(a.Long){let _=new a.Long(0,0,!0);S.bytesSent=u.longs===String?_.toString():u.longs===Number?_.toNumber():_}else S.bytesSent=u.longs===String?"0":0;if(a.Long){let _=new a.Long(0,0,!0);S.packetsSent=u.longs===String?_.toString():u.longs===Number?_.toNumber():_}else S.packetsSent=u.longs===String?"0":0;S.codec=u.enums===String?"UNKNOWN":0,S.peerIdString=""}return v.peerId!=null&&v.hasOwnProperty("peerId")&&(typeof v.peerId=="number"?S.peerId=u.longs===String?String(v.peerId):v.peerId:S.peerId=u.longs===String?a.Long.prototype.toString.call(v.peerId):u.longs===Number?new a.LongBits(v.peerId.low>>>0,v.peerId.high>>>0).toNumber(!0):v.peerId),v.bytesSent!=null&&v.hasOwnProperty("bytesSent")&&(typeof v.bytesSent=="number"?S.bytesSent=u.longs===String?String(v.bytesSent):v.bytesSent:S.bytesSent=u.longs===String?a.Long.prototype.toString.call(v.bytesSent):u.longs===Number?new a.LongBits(v.bytesSent.low>>>0,v.bytesSent.high>>>0).toNumber(!0):v.bytesSent),v.packetsSent!=null&&v.hasOwnProperty("packetsSent")&&(typeof v.packetsSent=="number"?S.packetsSent=u.longs===String?String(v.packetsSent):v.packetsSent:S.packetsSent=u.longs===String?a.Long.prototype.toString.call(v.packetsSent):u.longs===Number?new a.LongBits(v.packetsSent.low>>>0,v.packetsSent.high>>>0).toNumber(!0):v.packetsSent),v.codec!=null&&v.hasOwnProperty("codec")&&(S.codec=u.enums===String?s.slack.calls.analytics.Codec[v.codec]===void 0?v.codec:s.slack.calls.analytics.Codec[v.codec]:v.codec),v.audioStats!=null&&v.hasOwnProperty("audioStats")&&(S.audioStats=s.slack.calls.analytics.SendMedia.Audio.toObject(v.audioStats,u),u.oneofs&&(S.mediaType="audioStats")),v.videoStats!=null&&v.hasOwnProperty("videoStats")&&(S.videoStats=s.slack.calls.analytics.SendMedia.Video.toObject(v.videoStats,u),u.oneofs&&(S.mediaType="videoStats")),v.peerIdString!=null&&v.hasOwnProperty("peerIdString")&&(S.peerIdString=v.peerIdString),S},"toObject"),o.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),o.getTypeUrl=n(function(v){return v===void 0&&(v="type.googleapis.com"),v+"/slack.calls.analytics.SendMedia"},"getTypeUrl"),o.Audio=function(){function g(v){if(v)for(let u=Object.keys(v),S=0;S<u.length;++S)v[u[S]]!=null&&(this[u[S]]=v[u[S]])}return n(g,"Audio"),g.prototype.audioLevel=0,g.prototype.echoReturnLoss=0,g.prototype.echoReturnLossEnhancement=0,g.prototype.totalAudioEnergy=0,g.prototype.totalSamplesDuration=0,g.create=n(function(u){return new g(u)},"create"),g.encode=n(function(u,S){return S||(S=p.create()),u.audioLevel!=null&&Object.hasOwnProperty.call(u,"audioLevel")&&S.uint32(9).double(u.audioLevel),u.echoReturnLoss!=null&&Object.hasOwnProperty.call(u,"echoReturnLoss")&&S.uint32(17).double(u.echoReturnLoss),u.echoReturnLossEnhancement!=null&&Object.hasOwnProperty.call(u,"echoReturnLossEnhancement")&&S.uint32(25).double(u.echoReturnLossEnhancement),u.totalAudioEnergy!=null&&Object.hasOwnProperty.call(u,"totalAudioEnergy")&&S.uint32(33).double(u.totalAudioEnergy),u.totalSamplesDuration!=null&&Object.hasOwnProperty.call(u,"totalSamplesDuration")&&S.uint32(41).double(u.totalSamplesDuration),S},"encode"),g.encodeDelimited=n(function(u,S){return this.encode(u,S).ldelim()},"encodeDelimited"),g.decode=n(function(u,S){u instanceof m||(u=m.create(u));let _=S===void 0?u.len:u.pos+S,b=new s.slack.calls.analytics.SendMedia.Audio;for(;u.pos<_;){let E=u.uint32();switch(E>>>3){case 1:{b.audioLevel=u.double();break}case 2:{b.echoReturnLoss=u.double();break}case 3:{b.echoReturnLossEnhancement=u.double();break}case 4:{b.totalAudioEnergy=u.double();break}case 5:{b.totalSamplesDuration=u.double();break}default:u.skipType(E&7);break}}return b},"decode"),g.decodeDelimited=n(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=n(function(u){return typeof u!="object"||u===null?"object expected":u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&typeof u.audioLevel!="number"?"audioLevel: number expected":u.echoReturnLoss!=null&&u.hasOwnProperty("echoReturnLoss")&&typeof u.echoReturnLoss!="number"?"echoReturnLoss: number expected":u.echoReturnLossEnhancement!=null&&u.hasOwnProperty("echoReturnLossEnhancement")&&typeof u.echoReturnLossEnhancement!="number"?"echoReturnLossEnhancement: number expected":u.totalAudioEnergy!=null&&u.hasOwnProperty("totalAudioEnergy")&&typeof u.totalAudioEnergy!="number"?"totalAudioEnergy: number expected":u.totalSamplesDuration!=null&&u.hasOwnProperty("totalSamplesDuration")&&typeof u.totalSamplesDuration!="number"?"totalSamplesDuration: number expected":null},"verify"),g.fromObject=n(function(u){if(u instanceof s.slack.calls.analytics.SendMedia.Audio)return u;let S=new s.slack.calls.analytics.SendMedia.Audio;return u.audioLevel!=null&&(S.audioLevel=Number(u.audioLevel)),u.echoReturnLoss!=null&&(S.echoReturnLoss=Number(u.echoReturnLoss)),u.echoReturnLossEnhancement!=null&&(S.echoReturnLossEnhancement=Number(u.echoReturnLossEnhancement)),u.totalAudioEnergy!=null&&(S.totalAudioEnergy=Number(u.totalAudioEnergy)),u.totalSamplesDuration!=null&&(S.totalSamplesDuration=Number(u.totalSamplesDuration)),S},"fromObject"),g.toObject=n(function(u,S){S||(S={});let _={};return S.defaults&&(_.audioLevel=0,_.echoReturnLoss=0,_.echoReturnLossEnhancement=0,_.totalAudioEnergy=0,_.totalSamplesDuration=0),u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&(_.audioLevel=S.json&&!isFinite(u.audioLevel)?String(u.audioLevel):u.audioLevel),u.echoReturnLoss!=null&&u.hasOwnProperty("echoReturnLoss")&&(_.echoReturnLoss=S.json&&!isFinite(u.echoReturnLoss)?String(u.echoReturnLoss):u.echoReturnLoss),u.echoReturnLossEnhancement!=null&&u.hasOwnProperty("echoReturnLossEnhancement")&&(_.echoReturnLossEnhancement=S.json&&!isFinite(u.echoReturnLossEnhancement)?String(u.echoReturnLossEnhancement):u.echoReturnLossEnhancement),u.totalAudioEnergy!=null&&u.hasOwnProperty("totalAudioEnergy")&&(_.totalAudioEnergy=S.json&&!isFinite(u.totalAudioEnergy)?String(u.totalAudioEnergy):u.totalAudioEnergy),u.totalSamplesDuration!=null&&u.hasOwnProperty("totalSamplesDuration")&&(_.totalSamplesDuration=S.json&&!isFinite(u.totalSamplesDuration)?String(u.totalSamplesDuration):u.totalSamplesDuration),_},"toObject"),g.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),g.getTypeUrl=n(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.SendMedia.Audio"},"getTypeUrl"),g}(),o.Video=function(){function g(v){if(v)for(let u=Object.keys(v),S=0;S<u.length;++S)v[u[S]]!=null&&(this[u[S]]=v[u[S]])}return n(g,"Video"),g.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesPerSecond=0,g.prototype.framesSent=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesEncoded=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.hugeFramesSent=a.Long?a.Long.fromBits(0,0,!0):0,g.create=n(function(u){return new g(u)},"create"),g.encode=n(function(u,S){return S||(S=p.create()),u.frameHeight!=null&&Object.hasOwnProperty.call(u,"frameHeight")&&S.uint32(8).uint64(u.frameHeight),u.frameWidth!=null&&Object.hasOwnProperty.call(u,"frameWidth")&&S.uint32(16).uint64(u.frameWidth),u.framesPerSecond!=null&&Object.hasOwnProperty.call(u,"framesPerSecond")&&S.uint32(25).double(u.framesPerSecond),u.framesSent!=null&&Object.hasOwnProperty.call(u,"framesSent")&&S.uint32(32).uint64(u.framesSent),u.framesEncoded!=null&&Object.hasOwnProperty.call(u,"framesEncoded")&&S.uint32(40).uint64(u.framesEncoded),u.hugeFramesSent!=null&&Object.hasOwnProperty.call(u,"hugeFramesSent")&&S.uint32(48).uint64(u.hugeFramesSent),S},"encode"),g.encodeDelimited=n(function(u,S){return this.encode(u,S).ldelim()},"encodeDelimited"),g.decode=n(function(u,S){u instanceof m||(u=m.create(u));let _=S===void 0?u.len:u.pos+S,b=new s.slack.calls.analytics.SendMedia.Video;for(;u.pos<_;){let E=u.uint32();switch(E>>>3){case 1:{b.frameHeight=u.uint64();break}case 2:{b.frameWidth=u.uint64();break}case 3:{b.framesPerSecond=u.double();break}case 4:{b.framesSent=u.uint64();break}case 5:{b.framesEncoded=u.uint64();break}case 6:{b.hugeFramesSent=u.uint64();break}default:u.skipType(E&7);break}}return b},"decode"),g.decodeDelimited=n(function(u){return u instanceof m||(u=new m(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=n(function(u){return typeof u!="object"||u===null?"object expected":u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&!a.isInteger(u.frameHeight)&&!(u.frameHeight&&a.isInteger(u.frameHeight.low)&&a.isInteger(u.frameHeight.high))?"frameHeight: integer|Long expected":u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&!a.isInteger(u.frameWidth)&&!(u.frameWidth&&a.isInteger(u.frameWidth.low)&&a.isInteger(u.frameWidth.high))?"frameWidth: integer|Long expected":u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&typeof u.framesPerSecond!="number"?"framesPerSecond: number expected":u.framesSent!=null&&u.hasOwnProperty("framesSent")&&!a.isInteger(u.framesSent)&&!(u.framesSent&&a.isInteger(u.framesSent.low)&&a.isInteger(u.framesSent.high))?"framesSent: integer|Long expected":u.framesEncoded!=null&&u.hasOwnProperty("framesEncoded")&&!a.isInteger(u.framesEncoded)&&!(u.framesEncoded&&a.isInteger(u.framesEncoded.low)&&a.isInteger(u.framesEncoded.high))?"framesEncoded: integer|Long expected":u.hugeFramesSent!=null&&u.hasOwnProperty("hugeFramesSent")&&!a.isInteger(u.hugeFramesSent)&&!(u.hugeFramesSent&&a.isInteger(u.hugeFramesSent.low)&&a.isInteger(u.hugeFramesSent.high))?"hugeFramesSent: integer|Long expected":null},"verify"),g.fromObject=n(function(u){if(u instanceof s.slack.calls.analytics.SendMedia.Video)return u;let S=new s.slack.calls.analytics.SendMedia.Video;return u.frameHeight!=null&&(a.Long?(S.frameHeight=a.Long.fromValue(u.frameHeight)).unsigned=!0:typeof u.frameHeight=="string"?S.frameHeight=parseInt(u.frameHeight,10):typeof u.frameHeight=="number"?S.frameHeight=u.frameHeight:typeof u.frameHeight=="object"&&(S.frameHeight=new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0))),u.frameWidth!=null&&(a.Long?(S.frameWidth=a.Long.fromValue(u.frameWidth)).unsigned=!0:typeof u.frameWidth=="string"?S.frameWidth=parseInt(u.frameWidth,10):typeof u.frameWidth=="number"?S.frameWidth=u.frameWidth:typeof u.frameWidth=="object"&&(S.frameWidth=new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0))),u.framesPerSecond!=null&&(S.framesPerSecond=Number(u.framesPerSecond)),u.framesSent!=null&&(a.Long?(S.framesSent=a.Long.fromValue(u.framesSent)).unsigned=!0:typeof u.framesSent=="string"?S.framesSent=parseInt(u.framesSent,10):typeof u.framesSent=="number"?S.framesSent=u.framesSent:typeof u.framesSent=="object"&&(S.framesSent=new a.LongBits(u.framesSent.low>>>0,u.framesSent.high>>>0).toNumber(!0))),u.framesEncoded!=null&&(a.Long?(S.framesEncoded=a.Long.fromValue(u.framesEncoded)).unsigned=!0:typeof u.framesEncoded=="string"?S.framesEncoded=parseInt(u.framesEncoded,10):typeof u.framesEncoded=="number"?S.framesEncoded=u.framesEncoded:typeof u.framesEncoded=="object"&&(S.framesEncoded=new a.LongBits(u.framesEncoded.low>>>0,u.framesEncoded.high>>>0).toNumber(!0))),u.hugeFramesSent!=null&&(a.Long?(S.hugeFramesSent=a.Long.fromValue(u.hugeFramesSent)).unsigned=!0:typeof u.hugeFramesSent=="string"?S.hugeFramesSent=parseInt(u.hugeFramesSent,10):typeof u.hugeFramesSent=="number"?S.hugeFramesSent=u.hugeFramesSent:typeof u.hugeFramesSent=="object"&&(S.hugeFramesSent=new a.LongBits(u.hugeFramesSent.low>>>0,u.hugeFramesSent.high>>>0).toNumber(!0))),S},"fromObject"),g.toObject=n(function(u,S){S||(S={});let _={};if(S.defaults){if(a.Long){let b=new a.Long(0,0,!0);_.frameHeight=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.frameHeight=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.frameWidth=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.frameWidth=S.longs===String?"0":0;if(_.framesPerSecond=0,a.Long){let b=new a.Long(0,0,!0);_.framesSent=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.framesSent=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.framesEncoded=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.framesEncoded=S.longs===String?"0":0;if(a.Long){let b=new a.Long(0,0,!0);_.hugeFramesSent=S.longs===String?b.toString():S.longs===Number?b.toNumber():b}else _.hugeFramesSent=S.longs===String?"0":0}return u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&(typeof u.frameHeight=="number"?_.frameHeight=S.longs===String?String(u.frameHeight):u.frameHeight:_.frameHeight=S.longs===String?a.Long.prototype.toString.call(u.frameHeight):S.longs===Number?new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0):u.frameHeight),u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&(typeof u.frameWidth=="number"?_.frameWidth=S.longs===String?String(u.frameWidth):u.frameWidth:_.frameWidth=S.longs===String?a.Long.prototype.toString.call(u.frameWidth):S.longs===Number?new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0):u.frameWidth),u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&(_.framesPerSecond=S.json&&!isFinite(u.framesPerSecond)?String(u.framesPerSecond):u.framesPerSecond),u.framesSent!=null&&u.hasOwnProperty("framesSent")&&(typeof u.framesSent=="number"?_.framesSent=S.longs===String?String(u.framesSent):u.framesSent:_.framesSent=S.longs===String?a.Long.prototype.toString.call(u.framesSent):S.longs===Number?new a.LongBits(u.framesSent.low>>>0,u.framesSent.high>>>0).toNumber(!0):u.framesSent),u.framesEncoded!=null&&u.hasOwnProperty("framesEncoded")&&(typeof u.framesEncoded=="number"?_.framesEncoded=S.longs===String?String(u.framesEncoded):u.framesEncoded:_.framesEncoded=S.longs===String?a.Long.prototype.toString.call(u.framesEncoded):S.longs===Number?new a.LongBits(u.framesEncoded.low>>>0,u.framesEncoded.high>>>0).toNumber(!0):u.framesEncoded),u.hugeFramesSent!=null&&u.hasOwnProperty("hugeFramesSent")&&(typeof u.hugeFramesSent=="number"?_.hugeFramesSent=S.longs===String?String(u.hugeFramesSent):u.hugeFramesSent:_.hugeFramesSent=S.longs===String?a.Long.prototype.toString.call(u.hugeFramesSent):S.longs===Number?new a.LongBits(u.hugeFramesSent.low>>>0,u.hugeFramesSent.high>>>0).toNumber(!0):u.hugeFramesSent),_},"toObject"),g.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),g.getTypeUrl=n(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.SendMedia.Video"},"getTypeUrl"),g}(),o}(),r.MemoryInfo=function(){function o(f){if(f)for(let g=Object.keys(f),v=0;v<g.length;++v)f[g[v]]!=null&&(this[g[v]]=f[g[v]])}return n(o,"MemoryInfo"),o.prototype.workingSetSize=0,o.prototype.peakWorkingSetSize=0,o.create=n(function(g){return new o(g)},"create"),o.encode=n(function(g,v){return v||(v=p.create()),g.workingSetSize!=null&&Object.hasOwnProperty.call(g,"workingSetSize")&&v.uint32(9).double(g.workingSetSize),g.peakWorkingSetSize!=null&&Object.hasOwnProperty.call(g,"peakWorkingSetSize")&&v.uint32(17).double(g.peakWorkingSetSize),v},"encode"),o.encodeDelimited=n(function(g,v){return this.encode(g,v).ldelim()},"encodeDelimited"),o.decode=n(function(g,v){g instanceof m||(g=m.create(g));let u=v===void 0?g.len:g.pos+v,S=new s.slack.calls.analytics.MemoryInfo;for(;g.pos<u;){let _=g.uint32();switch(_>>>3){case 1:{S.workingSetSize=g.double();break}case 2:{S.peakWorkingSetSize=g.double();break}default:g.skipType(_&7);break}}return S},"decode"),o.decodeDelimited=n(function(g){return g instanceof m||(g=new m(g)),this.decode(g,g.uint32())},"decodeDelimited"),o.verify=n(function(g){return typeof g!="object"||g===null?"object expected":g.workingSetSize!=null&&g.hasOwnProperty("workingSetSize")&&typeof g.workingSetSize!="number"?"workingSetSize: number expected":g.peakWorkingSetSize!=null&&g.hasOwnProperty("peakWorkingSetSize")&&typeof g.peakWorkingSetSize!="number"?"peakWorkingSetSize: number expected":null},"verify"),o.fromObject=n(function(g){if(g instanceof s.slack.calls.analytics.MemoryInfo)return g;let v=new s.slack.calls.analytics.MemoryInfo;return g.workingSetSize!=null&&(v.workingSetSize=Number(g.workingSetSize)),g.peakWorkingSetSize!=null&&(v.peakWorkingSetSize=Number(g.peakWorkingSetSize)),v},"fromObject"),o.toObject=n(function(g,v){v||(v={});let u={};return v.defaults&&(u.workingSetSize=0,u.peakWorkingSetSize=0),g.workingSetSize!=null&&g.hasOwnProperty("workingSetSize")&&(u.workingSetSize=v.json&&!isFinite(g.workingSetSize)?String(g.workingSetSize):g.workingSetSize),g.peakWorkingSetSize!=null&&g.hasOwnProperty("peakWorkingSetSize")&&(u.peakWorkingSetSize=v.json&&!isFinite(g.peakWorkingSetSize)?String(g.peakWorkingSetSize):g.peakWorkingSetSize),u},"toObject"),o.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),o.getTypeUrl=n(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.MemoryInfo"},"getTypeUrl"),o}(),r.AppMetrics=function(){function o(f){if(f)for(let g=Object.keys(f),v=0;v<g.length;++v)f[g[v]]!=null&&(this[g[v]]=f[g[v]])}return n(o,"AppMetrics"),o.prototype.cpu=0,o.prototype.memory=null,o.create=n(function(g){return new o(g)},"create"),o.encode=n(function(g,v){return v||(v=p.create()),g.cpu!=null&&Object.hasOwnProperty.call(g,"cpu")&&v.uint32(9).double(g.cpu),g.memory!=null&&Object.hasOwnProperty.call(g,"memory")&&s.slack.calls.analytics.MemoryInfo.encode(g.memory,v.uint32(18).fork()).ldelim(),v},"encode"),o.encodeDelimited=n(function(g,v){return this.encode(g,v).ldelim()},"encodeDelimited"),o.decode=n(function(g,v){g instanceof m||(g=m.create(g));let u=v===void 0?g.len:g.pos+v,S=new s.slack.calls.analytics.AppMetrics;for(;g.pos<u;){let _=g.uint32();switch(_>>>3){case 1:{S.cpu=g.double();break}case 2:{S.memory=s.slack.calls.analytics.MemoryInfo.decode(g,g.uint32());break}default:g.skipType(_&7);break}}return S},"decode"),o.decodeDelimited=n(function(g){return g instanceof m||(g=new m(g)),this.decode(g,g.uint32())},"decodeDelimited"),o.verify=n(function(g){if(typeof g!="object"||g===null)return"object expected";if(g.cpu!=null&&g.hasOwnProperty("cpu")&&typeof g.cpu!="number")return"cpu: number expected";if(g.memory!=null&&g.hasOwnProperty("memory")){let v=s.slack.calls.analytics.MemoryInfo.verify(g.memory);if(v)return"memory."+v}return null},"verify"),o.fromObject=n(function(g){if(g instanceof s.slack.calls.analytics.AppMetrics)return g;let v=new s.slack.calls.analytics.AppMetrics;if(g.cpu!=null&&(v.cpu=Number(g.cpu)),g.memory!=null){if(typeof g.memory!="object")throw TypeError(".slack.calls.analytics.AppMetrics.memory: object expected");v.memory=s.slack.calls.analytics.MemoryInfo.fromObject(g.memory)}return v},"fromObject"),o.toObject=n(function(g,v){v||(v={});let u={};return v.defaults&&(u.cpu=0,u.memory=null),g.cpu!=null&&g.hasOwnProperty("cpu")&&(u.cpu=v.json&&!isFinite(g.cpu)?String(g.cpu):g.cpu),g.memory!=null&&g.hasOwnProperty("memory")&&(u.memory=s.slack.calls.analytics.MemoryInfo.toObject(g.memory,v)),u},"toObject"),o.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),o.getTypeUrl=n(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.AppMetrics"},"getTypeUrl"),o}(),r.Codec=function(){const o={},f=Object.create(o);return f[o[0]="UNKNOWN"]=0,f[o[1]="OPUS"]=1,f[o[2]="VP8"]=2,f[o[3]="VP9"]=3,f[o[4]="H264"]=4,f}(),r.Protocol=function(){const o={},f=Object.create(o);return f[o[0]="UDP"]=0,f[o[1]="TCP"]=1,f}(),r.PathType=function(){const o={},f=Object.create(o);return f[o[0]="DIRECT"]=0,f[o[1]="RELAY"]=1,f}(),r.Report=function(){function o(f){if(this.recv=[],this.send=[],f)for(let g=Object.keys(f),v=0;v<g.length;++v)f[g[v]]!=null&&(this[g[v]]=f[g[v]])}return n(o,"Report"),o.prototype.totalBytesSent=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.totalBytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.totalRoundTripTime=0,o.prototype.currentRoundTripTime=0,o.prototype.availableOutgoingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.protocol=0,o.prototype.pathType=0,o.prototype.recv=a.emptyArray,o.prototype.send=a.emptyArray,o.prototype.clientTime=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.availableIncomingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,o.prototype.appMetrics=null,o.create=n(function(g){return new o(g)},"create"),o.encode=n(function(g,v){if(v||(v=p.create()),g.totalBytesSent!=null&&Object.hasOwnProperty.call(g,"totalBytesSent")&&v.uint32(8).uint64(g.totalBytesSent),g.totalBytesReceived!=null&&Object.hasOwnProperty.call(g,"totalBytesReceived")&&v.uint32(16).uint64(g.totalBytesReceived),g.totalRoundTripTime!=null&&Object.hasOwnProperty.call(g,"totalRoundTripTime")&&v.uint32(25).double(g.totalRoundTripTime),g.currentRoundTripTime!=null&&Object.hasOwnProperty.call(g,"currentRoundTripTime")&&v.uint32(33).double(g.currentRoundTripTime),g.availableOutgoingBitrate!=null&&Object.hasOwnProperty.call(g,"availableOutgoingBitrate")&&v.uint32(40).uint64(g.availableOutgoingBitrate),g.protocol!=null&&Object.hasOwnProperty.call(g,"protocol")&&v.uint32(48).int32(g.protocol),g.pathType!=null&&Object.hasOwnProperty.call(g,"pathType")&&v.uint32(56).int32(g.pathType),g.recv!=null&&g.recv.length)for(let u=0;u<g.recv.length;++u)s.slack.calls.analytics.RecvMedia.encode(g.recv[u],v.uint32(66).fork()).ldelim();if(g.send!=null&&g.send.length)for(let u=0;u<g.send.length;++u)s.slack.calls.analytics.SendMedia.encode(g.send[u],v.uint32(74).fork()).ldelim();return g.clientTime!=null&&Object.hasOwnProperty.call(g,"clientTime")&&v.uint32(80).uint64(g.clientTime),g.availableIncomingBitrate!=null&&Object.hasOwnProperty.call(g,"availableIncomingBitrate")&&v.uint32(88).uint64(g.availableIncomingBitrate),g.appMetrics!=null&&Object.hasOwnProperty.call(g,"appMetrics")&&s.slack.calls.analytics.AppMetrics.encode(g.appMetrics,v.uint32(98).fork()).ldelim(),v},"encode"),o.encodeDelimited=n(function(g,v){return this.encode(g,v).ldelim()},"encodeDelimited"),o.decode=n(function(g,v){g instanceof m||(g=m.create(g));let u=v===void 0?g.len:g.pos+v,S=new s.slack.calls.analytics.Report;for(;g.pos<u;){let _=g.uint32();switch(_>>>3){case 1:{S.totalBytesSent=g.uint64();break}case 2:{S.totalBytesReceived=g.uint64();break}case 3:{S.totalRoundTripTime=g.double();break}case 4:{S.currentRoundTripTime=g.double();break}case 5:{S.availableOutgoingBitrate=g.uint64();break}case 6:{S.protocol=g.int32();break}case 7:{S.pathType=g.int32();break}case 8:{S.recv&&S.recv.length||(S.recv=[]),S.recv.push(s.slack.calls.analytics.RecvMedia.decode(g,g.uint32()));break}case 9:{S.send&&S.send.length||(S.send=[]),S.send.push(s.slack.calls.analytics.SendMedia.decode(g,g.uint32()));break}case 10:{S.clientTime=g.uint64();break}case 11:{S.availableIncomingBitrate=g.uint64();break}case 12:{S.appMetrics=s.slack.calls.analytics.AppMetrics.decode(g,g.uint32());break}default:g.skipType(_&7);break}}return S},"decode"),o.decodeDelimited=n(function(g){return g instanceof m||(g=new m(g)),this.decode(g,g.uint32())},"decodeDelimited"),o.verify=n(function(g){if(typeof g!="object"||g===null)return"object expected";if(g.totalBytesSent!=null&&g.hasOwnProperty("totalBytesSent")&&!a.isInteger(g.totalBytesSent)&&!(g.totalBytesSent&&a.isInteger(g.totalBytesSent.low)&&a.isInteger(g.totalBytesSent.high)))return"totalBytesSent: integer|Long expected";if(g.totalBytesReceived!=null&&g.hasOwnProperty("totalBytesReceived")&&!a.isInteger(g.totalBytesReceived)&&!(g.totalBytesReceived&&a.isInteger(g.totalBytesReceived.low)&&a.isInteger(g.totalBytesReceived.high)))return"totalBytesReceived: integer|Long expected";if(g.totalRoundTripTime!=null&&g.hasOwnProperty("totalRoundTripTime")&&typeof g.totalRoundTripTime!="number")return"totalRoundTripTime: number expected";if(g.currentRoundTripTime!=null&&g.hasOwnProperty("currentRoundTripTime")&&typeof g.currentRoundTripTime!="number")return"currentRoundTripTime: number expected";if(g.availableOutgoingBitrate!=null&&g.hasOwnProperty("availableOutgoingBitrate")&&!a.isInteger(g.availableOutgoingBitrate)&&!(g.availableOutgoingBitrate&&a.isInteger(g.availableOutgoingBitrate.low)&&a.isInteger(g.availableOutgoingBitrate.high)))return"availableOutgoingBitrate: integer|Long expected";if(g.protocol!=null&&g.hasOwnProperty("protocol"))switch(g.protocol){default:return"protocol: enum value expected";case 0:case 1:break}if(g.pathType!=null&&g.hasOwnProperty("pathType"))switch(g.pathType){default:return"pathType: enum value expected";case 0:case 1:break}if(g.recv!=null&&g.hasOwnProperty("recv")){if(!Array.isArray(g.recv))return"recv: array expected";for(let v=0;v<g.recv.length;++v){let u=s.slack.calls.analytics.RecvMedia.verify(g.recv[v]);if(u)return"recv."+u}}if(g.send!=null&&g.hasOwnProperty("send")){if(!Array.isArray(g.send))return"send: array expected";for(let v=0;v<g.send.length;++v){let u=s.slack.calls.analytics.SendMedia.verify(g.send[v]);if(u)return"send."+u}}if(g.clientTime!=null&&g.hasOwnProperty("clientTime")&&!a.isInteger(g.clientTime)&&!(g.clientTime&&a.isInteger(g.clientTime.low)&&a.isInteger(g.clientTime.high)))return"clientTime: integer|Long expected";if(g.availableIncomingBitrate!=null&&g.hasOwnProperty("availableIncomingBitrate")&&!a.isInteger(g.availableIncomingBitrate)&&!(g.availableIncomingBitrate&&a.isInteger(g.availableIncomingBitrate.low)&&a.isInteger(g.availableIncomingBitrate.high)))return"availableIncomingBitrate: integer|Long expected";if(g.appMetrics!=null&&g.hasOwnProperty("appMetrics")){let v=s.slack.calls.analytics.AppMetrics.verify(g.appMetrics);if(v)return"appMetrics."+v}return null},"verify"),o.fromObject=n(function(g){if(g instanceof s.slack.calls.analytics.Report)return g;let v=new s.slack.calls.analytics.Report;switch(g.totalBytesSent!=null&&(a.Long?(v.totalBytesSent=a.Long.fromValue(g.totalBytesSent)).unsigned=!0:typeof g.totalBytesSent=="string"?v.totalBytesSent=parseInt(g.totalBytesSent,10):typeof g.totalBytesSent=="number"?v.totalBytesSent=g.totalBytesSent:typeof g.totalBytesSent=="object"&&(v.totalBytesSent=new a.LongBits(g.totalBytesSent.low>>>0,g.totalBytesSent.high>>>0).toNumber(!0))),g.totalBytesReceived!=null&&(a.Long?(v.totalBytesReceived=a.Long.fromValue(g.totalBytesReceived)).unsigned=!0:typeof g.totalBytesReceived=="string"?v.totalBytesReceived=parseInt(g.totalBytesReceived,10):typeof g.totalBytesReceived=="number"?v.totalBytesReceived=g.totalBytesReceived:typeof g.totalBytesReceived=="object"&&(v.totalBytesReceived=new a.LongBits(g.totalBytesReceived.low>>>0,g.totalBytesReceived.high>>>0).toNumber(!0))),g.totalRoundTripTime!=null&&(v.totalRoundTripTime=Number(g.totalRoundTripTime)),g.currentRoundTripTime!=null&&(v.currentRoundTripTime=Number(g.currentRoundTripTime)),g.availableOutgoingBitrate!=null&&(a.Long?(v.availableOutgoingBitrate=a.Long.fromValue(g.availableOutgoingBitrate)).unsigned=!0:typeof g.availableOutgoingBitrate=="string"?v.availableOutgoingBitrate=parseInt(g.availableOutgoingBitrate,10):typeof g.availableOutgoingBitrate=="number"?v.availableOutgoingBitrate=g.availableOutgoingBitrate:typeof g.availableOutgoingBitrate=="object"&&(v.availableOutgoingBitrate=new a.LongBits(g.availableOutgoingBitrate.low>>>0,g.availableOutgoingBitrate.high>>>0).toNumber(!0))),g.protocol){default:if(typeof g.protocol=="number"){v.protocol=g.protocol;break}break;case"UDP":case 0:v.protocol=0;break;case"TCP":case 1:v.protocol=1;break}switch(g.pathType){default:if(typeof g.pathType=="number"){v.pathType=g.pathType;break}break;case"DIRECT":case 0:v.pathType=0;break;case"RELAY":case 1:v.pathType=1;break}if(g.recv){if(!Array.isArray(g.recv))throw TypeError(".slack.calls.analytics.Report.recv: array expected");v.recv=[];for(let u=0;u<g.recv.length;++u){if(typeof g.recv[u]!="object")throw TypeError(".slack.calls.analytics.Report.recv: object expected");v.recv[u]=s.slack.calls.analytics.RecvMedia.fromObject(g.recv[u])}}if(g.send){if(!Array.isArray(g.send))throw TypeError(".slack.calls.analytics.Report.send: array expected");v.send=[];for(let u=0;u<g.send.length;++u){if(typeof g.send[u]!="object")throw TypeError(".slack.calls.analytics.Report.send: object expected");v.send[u]=s.slack.calls.analytics.SendMedia.fromObject(g.send[u])}}if(g.clientTime!=null&&(a.Long?(v.clientTime=a.Long.fromValue(g.clientTime)).unsigned=!0:typeof g.clientTime=="string"?v.clientTime=parseInt(g.clientTime,10):typeof g.clientTime=="number"?v.clientTime=g.clientTime:typeof g.clientTime=="object"&&(v.clientTime=new a.LongBits(g.clientTime.low>>>0,g.clientTime.high>>>0).toNumber(!0))),g.availableIncomingBitrate!=null&&(a.Long?(v.availableIncomingBitrate=a.Long.fromValue(g.availableIncomingBitrate)).unsigned=!0:typeof g.availableIncomingBitrate=="string"?v.availableIncomingBitrate=parseInt(g.availableIncomingBitrate,10):typeof g.availableIncomingBitrate=="number"?v.availableIncomingBitrate=g.availableIncomingBitrate:typeof g.availableIncomingBitrate=="object"&&(v.availableIncomingBitrate=new a.LongBits(g.availableIncomingBitrate.low>>>0,g.availableIncomingBitrate.high>>>0).toNumber(!0))),g.appMetrics!=null){if(typeof g.appMetrics!="object")throw TypeError(".slack.calls.analytics.Report.appMetrics: object expected");v.appMetrics=s.slack.calls.analytics.AppMetrics.fromObject(g.appMetrics)}return v},"fromObject"),o.toObject=n(function(g,v){v||(v={});let u={};if((v.arrays||v.defaults)&&(u.recv=[],u.send=[]),v.defaults){if(a.Long){let S=new a.Long(0,0,!0);u.totalBytesSent=v.longs===String?S.toString():v.longs===Number?S.toNumber():S}else u.totalBytesSent=v.longs===String?"0":0;if(a.Long){let S=new a.Long(0,0,!0);u.totalBytesReceived=v.longs===String?S.toString():v.longs===Number?S.toNumber():S}else u.totalBytesReceived=v.longs===String?"0":0;if(u.totalRoundTripTime=0,u.currentRoundTripTime=0,a.Long){let S=new a.Long(0,0,!0);u.availableOutgoingBitrate=v.longs===String?S.toString():v.longs===Number?S.toNumber():S}else u.availableOutgoingBitrate=v.longs===String?"0":0;if(u.protocol=v.enums===String?"UDP":0,u.pathType=v.enums===String?"DIRECT":0,a.Long){let S=new a.Long(0,0,!0);u.clientTime=v.longs===String?S.toString():v.longs===Number?S.toNumber():S}else u.clientTime=v.longs===String?"0":0;if(a.Long){let S=new a.Long(0,0,!0);u.availableIncomingBitrate=v.longs===String?S.toString():v.longs===Number?S.toNumber():S}else u.availableIncomingBitrate=v.longs===String?"0":0;u.appMetrics=null}if(g.totalBytesSent!=null&&g.hasOwnProperty("totalBytesSent")&&(typeof g.totalBytesSent=="number"?u.totalBytesSent=v.longs===String?String(g.totalBytesSent):g.totalBytesSent:u.totalBytesSent=v.longs===String?a.Long.prototype.toString.call(g.totalBytesSent):v.longs===Number?new a.LongBits(g.totalBytesSent.low>>>0,g.totalBytesSent.high>>>0).toNumber(!0):g.totalBytesSent),g.totalBytesReceived!=null&&g.hasOwnProperty("totalBytesReceived")&&(typeof g.totalBytesReceived=="number"?u.totalBytesReceived=v.longs===String?String(g.totalBytesReceived):g.totalBytesReceived:u.totalBytesReceived=v.longs===String?a.Long.prototype.toString.call(g.totalBytesReceived):v.longs===Number?new a.LongBits(g.totalBytesReceived.low>>>0,g.totalBytesReceived.high>>>0).toNumber(!0):g.totalBytesReceived),g.totalRoundTripTime!=null&&g.hasOwnProperty("totalRoundTripTime")&&(u.totalRoundTripTime=v.json&&!isFinite(g.totalRoundTripTime)?String(g.totalRoundTripTime):g.totalRoundTripTime),g.currentRoundTripTime!=null&&g.hasOwnProperty("currentRoundTripTime")&&(u.currentRoundTripTime=v.json&&!isFinite(g.currentRoundTripTime)?String(g.currentRoundTripTime):g.currentRoundTripTime),g.availableOutgoingBitrate!=null&&g.hasOwnProperty("availableOutgoingBitrate")&&(typeof g.availableOutgoingBitrate=="number"?u.availableOutgoingBitrate=v.longs===String?String(g.availableOutgoingBitrate):g.availableOutgoingBitrate:u.availableOutgoingBitrate=v.longs===String?a.Long.prototype.toString.call(g.availableOutgoingBitrate):v.longs===Number?new a.LongBits(g.availableOutgoingBitrate.low>>>0,g.availableOutgoingBitrate.high>>>0).toNumber(!0):g.availableOutgoingBitrate),g.protocol!=null&&g.hasOwnProperty("protocol")&&(u.protocol=v.enums===String?s.slack.calls.analytics.Protocol[g.protocol]===void 0?g.protocol:s.slack.calls.analytics.Protocol[g.protocol]:g.protocol),g.pathType!=null&&g.hasOwnProperty("pathType")&&(u.pathType=v.enums===String?s.slack.calls.analytics.PathType[g.pathType]===void 0?g.pathType:s.slack.calls.analytics.PathType[g.pathType]:g.pathType),g.recv&&g.recv.length){u.recv=[];for(let S=0;S<g.recv.length;++S)u.recv[S]=s.slack.calls.analytics.RecvMedia.toObject(g.recv[S],v)}if(g.send&&g.send.length){u.send=[];for(let S=0;S<g.send.length;++S)u.send[S]=s.slack.calls.analytics.SendMedia.toObject(g.send[S],v)}return g.clientTime!=null&&g.hasOwnProperty("clientTime")&&(typeof g.clientTime=="number"?u.clientTime=v.longs===String?String(g.clientTime):g.clientTime:u.clientTime=v.longs===String?a.Long.prototype.toString.call(g.clientTime):v.longs===Number?new a.LongBits(g.clientTime.low>>>0,g.clientTime.high>>>0).toNumber(!0):g.clientTime),g.availableIncomingBitrate!=null&&g.hasOwnProperty("availableIncomingBitrate")&&(typeof g.availableIncomingBitrate=="number"?u.availableIncomingBitrate=v.longs===String?String(g.availableIncomingBitrate):g.availableIncomingBitrate:u.availableIncomingBitrate=v.longs===String?a.Long.prototype.toString.call(g.availableIncomingBitrate):v.longs===Number?new a.LongBits(g.availableIncomingBitrate.low>>>0,g.availableIncomingBitrate.high>>>0).toNumber(!0):g.availableIncomingBitrate),g.appMetrics!=null&&g.hasOwnProperty("appMetrics")&&(u.appMetrics=s.slack.calls.analytics.AppMetrics.toObject(g.appMetrics,v)),u},"toObject"),o.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),o.getTypeUrl=n(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.Report"},"getTypeUrl"),o}(),r}(),t}(),e})()},9662350539:(V,l,c)=>{"use strict";c.d(l,{Y:()=>i});var d=c(4224187311),h=c.n(d);const m=d.Reader,p=d.Writer,a=d.util,s=d.roots.default||(d.roots.default={}),i=s.PeerMessage=(()=>{function e(t){if(t)for(let r=Object.keys(t),o=0;o<r.length;++o)t[r[o]]!=null&&(this[r[o]]=t[r[o]])}return n(e,"PeerMessage1"),e.prototype.reacji=null,e.prototype.draw=null,e.prototype.fromPeerId=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.fromPeerIdString="",e.prototype.capabilities=null,e.prototype.background=null,e.prototype.muteRequest=null,e.prototype.awarenessBroadcast=null,e.prototype.awarenessQuery=null,e.prototype.awarenessClose=null,e.prototype.jukeboxRequest=null,e.prototype.contentShareDetails=null,e.prototype.recordingStartNotification=null,e.create=n(function(r){return new e(r)},"create"),e.encode=n(function(r,o){return o||(o=p.create()),r.reacji!=null&&Object.hasOwnProperty.call(r,"reacji")&&s.PeerMessage.Reacji.encode(r.reacji,o.uint32(10).fork()).ldelim(),r.draw!=null&&Object.hasOwnProperty.call(r,"draw")&&s.PeerMessage.Draw.encode(r.draw,o.uint32(18).fork()).ldelim(),r.fromPeerId!=null&&Object.hasOwnProperty.call(r,"fromPeerId")&&o.uint32(24).uint64(r.fromPeerId),r.fromPeerIdString!=null&&Object.hasOwnProperty.call(r,"fromPeerIdString")&&o.uint32(34).string(r.fromPeerIdString),r.capabilities!=null&&Object.hasOwnProperty.call(r,"capabilities")&&s.PeerMessage.Capabilities.encode(r.capabilities,o.uint32(42).fork()).ldelim(),r.background!=null&&Object.hasOwnProperty.call(r,"background")&&s.PeerMessage.Background.encode(r.background,o.uint32(50).fork()).ldelim(),r.muteRequest!=null&&Object.hasOwnProperty.call(r,"muteRequest")&&s.PeerMessage.MuteRequest.encode(r.muteRequest,o.uint32(82).fork()).ldelim(),r.awarenessBroadcast!=null&&Object.hasOwnProperty.call(r,"awarenessBroadcast")&&s.PeerMessage.AwarenessBroadcast.encode(r.awarenessBroadcast,o.uint32(90).fork()).ldelim(),r.awarenessQuery!=null&&Object.hasOwnProperty.call(r,"awarenessQuery")&&s.PeerMessage.AwarenessQuery.encode(r.awarenessQuery,o.uint32(98).fork()).ldelim(),r.awarenessClose!=null&&Object.hasOwnProperty.call(r,"awarenessClose")&&s.PeerMessage.AwarenessClose.encode(r.awarenessClose,o.uint32(106).fork()).ldelim(),r.jukeboxRequest!=null&&Object.hasOwnProperty.call(r,"jukeboxRequest")&&s.PeerMessage.JukeboxRequest.encode(r.jukeboxRequest,o.uint32(114).fork()).ldelim(),r.contentShareDetails!=null&&Object.hasOwnProperty.call(r,"contentShareDetails")&&s.PeerMessage.ContentShareDetails.encode(r.contentShareDetails,o.uint32(122).fork()).ldelim(),r.recordingStartNotification!=null&&Object.hasOwnProperty.call(r,"recordingStartNotification")&&s.PeerMessage.RecordingStartNotification.encode(r.recordingStartNotification,o.uint32(130).fork()).ldelim(),o},"encode"),e.encodeDelimited=n(function(r,o){return this.encode(r,o).ldelim()},"encodeDelimited"),e.decode=n(function(r,o){r instanceof m||(r=m.create(r));let f=o===void 0?r.len:r.pos+o,g=new s.PeerMessage;for(;r.pos<f;){let v=r.uint32();switch(v>>>3){case 1:{g.reacji=s.PeerMessage.Reacji.decode(r,r.uint32());break}case 2:{g.draw=s.PeerMessage.Draw.decode(r,r.uint32());break}case 3:{g.fromPeerId=r.uint64();break}case 4:{g.fromPeerIdString=r.string();break}case 5:{g.capabilities=s.PeerMessage.Capabilities.decode(r,r.uint32());break}case 6:{g.background=s.PeerMessage.Background.decode(r,r.uint32());break}case 10:{g.muteRequest=s.PeerMessage.MuteRequest.decode(r,r.uint32());break}case 11:{g.awarenessBroadcast=s.PeerMessage.AwarenessBroadcast.decode(r,r.uint32());break}case 12:{g.awarenessQuery=s.PeerMessage.AwarenessQuery.decode(r,r.uint32());break}case 13:{g.awarenessClose=s.PeerMessage.AwarenessClose.decode(r,r.uint32());break}case 14:{g.jukeboxRequest=s.PeerMessage.JukeboxRequest.decode(r,r.uint32());break}case 15:{g.contentShareDetails=s.PeerMessage.ContentShareDetails.decode(r,r.uint32());break}case 16:{g.recordingStartNotification=s.PeerMessage.RecordingStartNotification.decode(r,r.uint32());break}default:r.skipType(v&7);break}}return g},"decode"),e.decodeDelimited=n(function(r){return r instanceof m||(r=new m(r)),this.decode(r,r.uint32())},"decodeDelimited"),e.verify=n(function(r){if(typeof r!="object"||r===null)return"object expected";if(r.reacji!=null&&r.hasOwnProperty("reacji")){let o=s.PeerMessage.Reacji.verify(r.reacji);if(o)return"reacji."+o}if(r.draw!=null&&r.hasOwnProperty("draw")){let o=s.PeerMessage.Draw.verify(r.draw);if(o)return"draw."+o}if(r.fromPeerId!=null&&r.hasOwnProperty("fromPeerId")&&!a.isInteger(r.fromPeerId)&&!(r.fromPeerId&&a.isInteger(r.fromPeerId.low)&&a.isInteger(r.fromPeerId.high)))return"fromPeerId: integer|Long expected";if(r.fromPeerIdString!=null&&r.hasOwnProperty("fromPeerIdString")&&!a.isString(r.fromPeerIdString))return"fromPeerIdString: string expected";if(r.capabilities!=null&&r.hasOwnProperty("capabilities")){let o=s.PeerMessage.Capabilities.verify(r.capabilities);if(o)return"capabilities."+o}if(r.background!=null&&r.hasOwnProperty("background")){let o=s.PeerMessage.Background.verify(r.background);if(o)return"background."+o}if(r.muteRequest!=null&&r.hasOwnProperty("muteRequest")){let o=s.PeerMessage.MuteRequest.verify(r.muteRequest);if(o)return"muteRequest."+o}if(r.awarenessBroadcast!=null&&r.hasOwnProperty("awarenessBroadcast")){let o=s.PeerMessage.AwarenessBroadcast.verify(r.awarenessBroadcast);if(o)return"awarenessBroadcast."+o}if(r.awarenessQuery!=null&&r.hasOwnProperty("awarenessQuery")){let o=s.PeerMessage.AwarenessQuery.verify(r.awarenessQuery);if(o)return"awarenessQuery."+o}if(r.awarenessClose!=null&&r.hasOwnProperty("awarenessClose")){let o=s.PeerMessage.AwarenessClose.verify(r.awarenessClose);if(o)return"awarenessClose."+o}if(r.jukeboxRequest!=null&&r.hasOwnProperty("jukeboxRequest")){let o=s.PeerMessage.JukeboxRequest.verify(r.jukeboxRequest);if(o)return"jukeboxRequest."+o}if(r.contentShareDetails!=null&&r.hasOwnProperty("contentShareDetails")){let o=s.PeerMessage.ContentShareDetails.verify(r.contentShareDetails);if(o)return"contentShareDetails."+o}if(r.recordingStartNotification!=null&&r.hasOwnProperty("recordingStartNotification")){let o=s.PeerMessage.RecordingStartNotification.verify(r.recordingStartNotification);if(o)return"recordingStartNotification."+o}return null},"verify"),e.fromObject=n(function(r){if(r instanceof s.PeerMessage)return r;let o=new s.PeerMessage;if(r.reacji!=null){if(typeof r.reacji!="object")throw TypeError(".PeerMessage.reacji: object expected");o.reacji=s.PeerMessage.Reacji.fromObject(r.reacji)}if(r.draw!=null){if(typeof r.draw!="object")throw TypeError(".PeerMessage.draw: object expected");o.draw=s.PeerMessage.Draw.fromObject(r.draw)}if(r.fromPeerId!=null&&(a.Long?(o.fromPeerId=a.Long.fromValue(r.fromPeerId)).unsigned=!0:typeof r.fromPeerId=="string"?o.fromPeerId=parseInt(r.fromPeerId,10):typeof r.fromPeerId=="number"?o.fromPeerId=r.fromPeerId:typeof r.fromPeerId=="object"&&(o.fromPeerId=new a.LongBits(r.fromPeerId.low>>>0,r.fromPeerId.high>>>0).toNumber(!0))),r.fromPeerIdString!=null&&(o.fromPeerIdString=String(r.fromPeerIdString)),r.capabilities!=null){if(typeof r.capabilities!="object")throw TypeError(".PeerMessage.capabilities: object expected");o.capabilities=s.PeerMessage.Capabilities.fromObject(r.capabilities)}if(r.background!=null){if(typeof r.background!="object")throw TypeError(".PeerMessage.background: object expected");o.background=s.PeerMessage.Background.fromObject(r.background)}if(r.muteRequest!=null){if(typeof r.muteRequest!="object")throw TypeError(".PeerMessage.muteRequest: object expected");o.muteRequest=s.PeerMessage.MuteRequest.fromObject(r.muteRequest)}if(r.awarenessBroadcast!=null){if(typeof r.awarenessBroadcast!="object")throw TypeError(".PeerMessage.awarenessBroadcast: object expected");o.awarenessBroadcast=s.PeerMessage.AwarenessBroadcast.fromObject(r.awarenessBroadcast)}if(r.awarenessQuery!=null){if(typeof r.awarenessQuery!="object")throw TypeError(".PeerMessage.awarenessQuery: object expected");o.awarenessQuery=s.PeerMessage.AwarenessQuery.fromObject(r.awarenessQuery)}if(r.awarenessClose!=null){if(typeof r.awarenessClose!="object")throw TypeError(".PeerMessage.awarenessClose: object expected");o.awarenessClose=s.PeerMessage.AwarenessClose.fromObject(r.awarenessClose)}if(r.jukeboxRequest!=null){if(typeof r.jukeboxRequest!="object")throw TypeError(".PeerMessage.jukeboxRequest: object expected");o.jukeboxRequest=s.PeerMessage.JukeboxRequest.fromObject(r.jukeboxRequest)}if(r.contentShareDetails!=null){if(typeof r.contentShareDetails!="object")throw TypeError(".PeerMessage.contentShareDetails: object expected");o.contentShareDetails=s.PeerMessage.ContentShareDetails.fromObject(r.contentShareDetails)}if(r.recordingStartNotification!=null){if(typeof r.recordingStartNotification!="object")throw TypeError(".PeerMessage.recordingStartNotification: object expected");o.recordingStartNotification=s.PeerMessage.RecordingStartNotification.fromObject(r.recordingStartNotification)}return o},"fromObject"),e.toObject=n(function(r,o){o||(o={});let f={};if(o.defaults){if(f.reacji=null,f.draw=null,a.Long){let g=new a.Long(0,0,!0);f.fromPeerId=o.longs===String?g.toString():o.longs===Number?g.toNumber():g}else f.fromPeerId=o.longs===String?"0":0;f.fromPeerIdString="",f.capabilities=null,f.background=null,f.muteRequest=null,f.awarenessBroadcast=null,f.awarenessQuery=null,f.awarenessClose=null,f.jukeboxRequest=null,f.contentShareDetails=null,f.recordingStartNotification=null}return r.reacji!=null&&r.hasOwnProperty("reacji")&&(f.reacji=s.PeerMessage.Reacji.toObject(r.reacji,o)),r.draw!=null&&r.hasOwnProperty("draw")&&(f.draw=s.PeerMessage.Draw.toObject(r.draw,o)),r.fromPeerId!=null&&r.hasOwnProperty("fromPeerId")&&(typeof r.fromPeerId=="number"?f.fromPeerId=o.longs===String?String(r.fromPeerId):r.fromPeerId:f.fromPeerId=o.longs===String?a.Long.prototype.toString.call(r.fromPeerId):o.longs===Number?new a.LongBits(r.fromPeerId.low>>>0,r.fromPeerId.high>>>0).toNumber(!0):r.fromPeerId),r.fromPeerIdString!=null&&r.hasOwnProperty("fromPeerIdString")&&(f.fromPeerIdString=r.fromPeerIdString),r.capabilities!=null&&r.hasOwnProperty("capabilities")&&(f.capabilities=s.PeerMessage.Capabilities.toObject(r.capabilities,o)),r.background!=null&&r.hasOwnProperty("background")&&(f.background=s.PeerMessage.Background.toObject(r.background,o)),r.muteRequest!=null&&r.hasOwnProperty("muteRequest")&&(f.muteRequest=s.PeerMessage.MuteRequest.toObject(r.muteRequest,o)),r.awarenessBroadcast!=null&&r.hasOwnProperty("awarenessBroadcast")&&(f.awarenessBroadcast=s.PeerMessage.AwarenessBroadcast.toObject(r.awarenessBroadcast,o)),r.awarenessQuery!=null&&r.hasOwnProperty("awarenessQuery")&&(f.awarenessQuery=s.PeerMessage.AwarenessQuery.toObject(r.awarenessQuery,o)),r.awarenessClose!=null&&r.hasOwnProperty("awarenessClose")&&(f.awarenessClose=s.PeerMessage.AwarenessClose.toObject(r.awarenessClose,o)),r.jukeboxRequest!=null&&r.hasOwnProperty("jukeboxRequest")&&(f.jukeboxRequest=s.PeerMessage.JukeboxRequest.toObject(r.jukeboxRequest,o)),r.contentShareDetails!=null&&r.hasOwnProperty("contentShareDetails")&&(f.contentShareDetails=s.PeerMessage.ContentShareDetails.toObject(r.contentShareDetails,o)),r.recordingStartNotification!=null&&r.hasOwnProperty("recordingStartNotification")&&(f.recordingStartNotification=s.PeerMessage.RecordingStartNotification.toObject(r.recordingStartNotification,o)),f},"toObject"),e.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),e.getTypeUrl=n(function(r){return r===void 0&&(r="type.googleapis.com"),r+"/PeerMessage"},"getTypeUrl"),e.Reacji=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"Reacji"),t.prototype.emoji="",t.prototype.type=0,t.prototype.emojiUrl="",t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.emoji!=null&&Object.hasOwnProperty.call(o,"emoji")&&f.uint32(10).string(o.emoji),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&f.uint32(16).int32(o.type),o.emojiUrl!=null&&Object.hasOwnProperty.call(o,"emojiUrl")&&f.uint32(26).string(o.emojiUrl),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.Reacji;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.emoji=o.string();break}case 2:{v.type=o.int32();break}case 3:{v.emojiUrl=o.string();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){if(typeof o!="object"||o===null)return"object expected";if(o.emoji!=null&&o.hasOwnProperty("emoji")&&!a.isString(o.emoji))return"emoji: string expected";if(o.type!=null&&o.hasOwnProperty("type"))switch(o.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:break}return o.emojiUrl!=null&&o.hasOwnProperty("emojiUrl")&&!a.isString(o.emojiUrl)?"emojiUrl: string expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.Reacji)return o;let f=new s.PeerMessage.Reacji;switch(o.emoji!=null&&(f.emoji=String(o.emoji)),o.type){default:if(typeof o.type=="number"){f.type=o.type;break}break;case"Unknown_reaction_type":case 0:f.type=0;break;case"Effect":case 1:f.type=1;break;case"Standard":case 2:f.type=2;break;case"Gif":case 3:f.type=3;break}return o.emojiUrl!=null&&(f.emojiUrl=String(o.emojiUrl)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.emoji="",g.type=f.enums===String?"Unknown_reaction_type":0,g.emojiUrl=""),o.emoji!=null&&o.hasOwnProperty("emoji")&&(g.emoji=o.emoji),o.type!=null&&o.hasOwnProperty("type")&&(g.type=f.enums===String?s.PeerMessage.Reacji.Type[o.type]===void 0?o.type:s.PeerMessage.Reacji.Type[o.type]:o.type),o.emojiUrl!=null&&o.hasOwnProperty("emojiUrl")&&(g.emojiUrl=o.emojiUrl),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.Reacji"},"getTypeUrl"),t.Type=function(){const r={},o=Object.create(r);return o[r[0]="Unknown_reaction_type"]=0,o[r[1]="Effect"]=1,o[r[2]="Standard"]=2,o[r[3]="Gif"]=3,o}(),t}(),e.Point=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"Point"),t.prototype.x=0,t.prototype.y=0,t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.x!=null&&Object.hasOwnProperty.call(o,"x")&&f.uint32(9).double(o.x),o.y!=null&&Object.hasOwnProperty.call(o,"y")&&f.uint32(17).double(o.y),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.Point;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.x=o.double();break}case 2:{v.y=o.double();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.x!=null&&o.hasOwnProperty("x")&&typeof o.x!="number"?"x: number expected":o.y!=null&&o.hasOwnProperty("y")&&typeof o.y!="number"?"y: number expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.Point)return o;let f=new s.PeerMessage.Point;return o.x!=null&&(f.x=Number(o.x)),o.y!=null&&(f.y=Number(o.y)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.x=0,g.y=0),o.x!=null&&o.hasOwnProperty("x")&&(g.x=f.json&&!isFinite(o.x)?String(o.x):o.x),o.y!=null&&o.hasOwnProperty("y")&&(g.y=f.json&&!isFinite(o.y)?String(o.y):o.y),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.Point"},"getTypeUrl"),t}(),e.Segment=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"Segment"),t.prototype.a=null,t.prototype.b=null,t.prototype.c=null,t.prototype.d=null,t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.a!=null&&Object.hasOwnProperty.call(o,"a")&&s.PeerMessage.Point.encode(o.a,f.uint32(10).fork()).ldelim(),o.b!=null&&Object.hasOwnProperty.call(o,"b")&&s.PeerMessage.Point.encode(o.b,f.uint32(18).fork()).ldelim(),o.c!=null&&Object.hasOwnProperty.call(o,"c")&&s.PeerMessage.Point.encode(o.c,f.uint32(26).fork()).ldelim(),o.d!=null&&Object.hasOwnProperty.call(o,"d")&&s.PeerMessage.Point.encode(o.d,f.uint32(34).fork()).ldelim(),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.Segment;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.a=s.PeerMessage.Point.decode(o,o.uint32());break}case 2:{v.b=s.PeerMessage.Point.decode(o,o.uint32());break}case 3:{v.c=s.PeerMessage.Point.decode(o,o.uint32());break}case 4:{v.d=s.PeerMessage.Point.decode(o,o.uint32());break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){if(typeof o!="object"||o===null)return"object expected";if(o.a!=null&&o.hasOwnProperty("a")){let f=s.PeerMessage.Point.verify(o.a);if(f)return"a."+f}if(o.b!=null&&o.hasOwnProperty("b")){let f=s.PeerMessage.Point.verify(o.b);if(f)return"b."+f}if(o.c!=null&&o.hasOwnProperty("c")){let f=s.PeerMessage.Point.verify(o.c);if(f)return"c."+f}if(o.d!=null&&o.hasOwnProperty("d")){let f=s.PeerMessage.Point.verify(o.d);if(f)return"d."+f}return null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.Segment)return o;let f=new s.PeerMessage.Segment;if(o.a!=null){if(typeof o.a!="object")throw TypeError(".PeerMessage.Segment.a: object expected");f.a=s.PeerMessage.Point.fromObject(o.a)}if(o.b!=null){if(typeof o.b!="object")throw TypeError(".PeerMessage.Segment.b: object expected");f.b=s.PeerMessage.Point.fromObject(o.b)}if(o.c!=null){if(typeof o.c!="object")throw TypeError(".PeerMessage.Segment.c: object expected");f.c=s.PeerMessage.Point.fromObject(o.c)}if(o.d!=null){if(typeof o.d!="object")throw TypeError(".PeerMessage.Segment.d: object expected");f.d=s.PeerMessage.Point.fromObject(o.d)}return f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.a=null,g.b=null,g.c=null,g.d=null),o.a!=null&&o.hasOwnProperty("a")&&(g.a=s.PeerMessage.Point.toObject(o.a,f)),o.b!=null&&o.hasOwnProperty("b")&&(g.b=s.PeerMessage.Point.toObject(o.b,f)),o.c!=null&&o.hasOwnProperty("c")&&(g.c=s.PeerMessage.Point.toObject(o.c,f)),o.d!=null&&o.hasOwnProperty("d")&&(g.d=s.PeerMessage.Point.toObject(o.d,f)),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.Segment"},"getTypeUrl"),t}(),e.Draw=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"Draw"),t.prototype.type=0,t.prototype.segment=null,t.prototype.hue=0,t.prototype.itemId="",t.prototype.x=0,t.prototype.y=0,t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&f.uint32(8).int32(o.type),o.segment!=null&&Object.hasOwnProperty.call(o,"segment")&&s.PeerMessage.Segment.encode(o.segment,f.uint32(18).fork()).ldelim(),o.hue!=null&&Object.hasOwnProperty.call(o,"hue")&&f.uint32(24).int32(o.hue),o.itemId!=null&&Object.hasOwnProperty.call(o,"itemId")&&f.uint32(34).string(o.itemId),o.x!=null&&Object.hasOwnProperty.call(o,"x")&&f.uint32(41).double(o.x),o.y!=null&&Object.hasOwnProperty.call(o,"y")&&f.uint32(49).double(o.y),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.Draw;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.type=o.int32();break}case 2:{v.segment=s.PeerMessage.Segment.decode(o,o.uint32());break}case 3:{v.hue=o.int32();break}case 4:{v.itemId=o.string();break}case 5:{v.x=o.double();break}case 6:{v.y=o.double();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){if(typeof o!="object"||o===null)return"object expected";if(o.type!=null&&o.hasOwnProperty("type"))switch(o.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(o.segment!=null&&o.hasOwnProperty("segment")){let f=s.PeerMessage.Segment.verify(o.segment);if(f)return"segment."+f}return o.hue!=null&&o.hasOwnProperty("hue")&&!a.isInteger(o.hue)?"hue: integer expected":o.itemId!=null&&o.hasOwnProperty("itemId")&&!a.isString(o.itemId)?"itemId: string expected":o.x!=null&&o.hasOwnProperty("x")&&typeof o.x!="number"?"x: number expected":o.y!=null&&o.hasOwnProperty("y")&&typeof o.y!="number"?"y: number expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.Draw)return o;let f=new s.PeerMessage.Draw;switch(o.type){default:if(typeof o.type=="number"){f.type=o.type;break}break;case"UNKNOWN_DRAW_TYPE":case 0:f.type=0;break;case"NEW":case 1:f.type=1;break;case"EDIT":case 2:f.type=2;break;case"END":case 3:f.type=3;break;case"CHANGE_HUE":case 4:f.type=4;break;case"POSITION":case 5:f.type=5;break}if(o.segment!=null){if(typeof o.segment!="object")throw TypeError(".PeerMessage.Draw.segment: object expected");f.segment=s.PeerMessage.Segment.fromObject(o.segment)}return o.hue!=null&&(f.hue=o.hue|0),o.itemId!=null&&(f.itemId=String(o.itemId)),o.x!=null&&(f.x=Number(o.x)),o.y!=null&&(f.y=Number(o.y)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.type=f.enums===String?"UNKNOWN_DRAW_TYPE":0,g.segment=null,g.hue=0,g.itemId="",g.x=0,g.y=0),o.type!=null&&o.hasOwnProperty("type")&&(g.type=f.enums===String?s.PeerMessage.Draw.Type[o.type]===void 0?o.type:s.PeerMessage.Draw.Type[o.type]:o.type),o.segment!=null&&o.hasOwnProperty("segment")&&(g.segment=s.PeerMessage.Segment.toObject(o.segment,f)),o.hue!=null&&o.hasOwnProperty("hue")&&(g.hue=o.hue),o.itemId!=null&&o.hasOwnProperty("itemId")&&(g.itemId=o.itemId),o.x!=null&&o.hasOwnProperty("x")&&(g.x=f.json&&!isFinite(o.x)?String(o.x):o.x),o.y!=null&&o.hasOwnProperty("y")&&(g.y=f.json&&!isFinite(o.y)?String(o.y):o.y),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.Draw"},"getTypeUrl"),t.Type=function(){const r={},o=Object.create(r);return o[r[0]="UNKNOWN_DRAW_TYPE"]=0,o[r[1]="NEW"]=1,o[r[2]="EDIT"]=2,o[r[3]="END"]=3,o[r[4]="CHANGE_HUE"]=4,o[r[5]="POSITION"]=5,o}(),t}(),e.Capabilities=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"Capabilities"),t.prototype.isDrawEnabled=!1,t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.isDrawEnabled!=null&&Object.hasOwnProperty.call(o,"isDrawEnabled")&&f.uint32(8).bool(o.isDrawEnabled),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.Capabilities;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.isDrawEnabled=o.bool();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.isDrawEnabled!=null&&o.hasOwnProperty("isDrawEnabled")&&typeof o.isDrawEnabled!="boolean"?"isDrawEnabled: boolean expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.Capabilities)return o;let f=new s.PeerMessage.Capabilities;return o.isDrawEnabled!=null&&(f.isDrawEnabled=Boolean(o.isDrawEnabled)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.isDrawEnabled=!1),o.isDrawEnabled!=null&&o.hasOwnProperty("isDrawEnabled")&&(g.isDrawEnabled=o.isDrawEnabled),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.Capabilities"},"getTypeUrl"),t}(),e.ContentShareDetails=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"ContentShareDetails"),t.prototype.sourceType="",t.prototype.itemId="",t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.sourceType!=null&&Object.hasOwnProperty.call(o,"sourceType")&&f.uint32(10).string(o.sourceType),o.itemId!=null&&Object.hasOwnProperty.call(o,"itemId")&&f.uint32(18).string(o.itemId),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.ContentShareDetails;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.sourceType=o.string();break}case 2:{v.itemId=o.string();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.sourceType!=null&&o.hasOwnProperty("sourceType")&&!a.isString(o.sourceType)?"sourceType: string expected":o.itemId!=null&&o.hasOwnProperty("itemId")&&!a.isString(o.itemId)?"itemId: string expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.ContentShareDetails)return o;let f=new s.PeerMessage.ContentShareDetails;return o.sourceType!=null&&(f.sourceType=String(o.sourceType)),o.itemId!=null&&(f.itemId=String(o.itemId)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.sourceType="",g.itemId=""),o.sourceType!=null&&o.hasOwnProperty("sourceType")&&(g.sourceType=o.sourceType),o.itemId!=null&&o.hasOwnProperty("itemId")&&(g.itemId=o.itemId),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.ContentShareDetails"},"getTypeUrl"),t}(),e.Background=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"Background"),t.prototype.url="",t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.url!=null&&Object.hasOwnProperty.call(o,"url")&&f.uint32(10).string(o.url),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.Background;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.url=o.string();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.url!=null&&o.hasOwnProperty("url")&&!a.isString(o.url)?"url: string expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.Background)return o;let f=new s.PeerMessage.Background;return o.url!=null&&(f.url=String(o.url)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.url=""),o.url!=null&&o.hasOwnProperty("url")&&(g.url=o.url),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.Background"},"getTypeUrl"),t}(),e.MuteRequest=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"MuteRequest"),t.prototype.peerId="",t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.peerId!=null&&Object.hasOwnProperty.call(o,"peerId")&&f.uint32(10).string(o.peerId),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.MuteRequest;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.peerId=o.string();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.peerId!=null&&o.hasOwnProperty("peerId")&&!a.isString(o.peerId)?"peerId: string expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.MuteRequest)return o;let f=new s.PeerMessage.MuteRequest;return o.peerId!=null&&(f.peerId=String(o.peerId)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.peerId=""),o.peerId!=null&&o.hasOwnProperty("peerId")&&(g.peerId=o.peerId),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.MuteRequest"},"getTypeUrl"),t}(),e.JukeboxRequest=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"JukeboxRequest"),t.prototype.songKey="",t.prototype.stop=!1,t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.songKey!=null&&Object.hasOwnProperty.call(o,"songKey")&&f.uint32(10).string(o.songKey),o.stop!=null&&Object.hasOwnProperty.call(o,"stop")&&f.uint32(16).bool(o.stop),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.JukeboxRequest;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.songKey=o.string();break}case 2:{v.stop=o.bool();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.songKey!=null&&o.hasOwnProperty("songKey")&&!a.isString(o.songKey)?"songKey: string expected":o.stop!=null&&o.hasOwnProperty("stop")&&typeof o.stop!="boolean"?"stop: boolean expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.JukeboxRequest)return o;let f=new s.PeerMessage.JukeboxRequest;return o.songKey!=null&&(f.songKey=String(o.songKey)),o.stop!=null&&(f.stop=Boolean(o.stop)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.songKey="",g.stop=!1),o.songKey!=null&&o.hasOwnProperty("songKey")&&(g.songKey=o.songKey),o.stop!=null&&o.hasOwnProperty("stop")&&(g.stop=o.stop),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.JukeboxRequest"},"getTypeUrl"),t}(),e.RecordingStartNotification=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"RecordingStartNotification"),t.prototype.type=0,t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&f.uint32(8).int32(o.type),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.RecordingStartNotification;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.type=o.int32();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){if(typeof o!="object"||o===null)return"object expected";if(o.type!=null&&o.hasOwnProperty("type"))switch(o.type){default:return"type: enum value expected";case 0:case 1:break}return null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.RecordingStartNotification)return o;let f=new s.PeerMessage.RecordingStartNotification;switch(o.type){default:if(typeof o.type=="number"){f.type=o.type;break}break;case"UNKNOWN_TYPE":case 0:f.type=0;break;case"SUMMARY":case 1:f.type=1;break}return f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.type=f.enums===String?"UNKNOWN_TYPE":0),o.type!=null&&o.hasOwnProperty("type")&&(g.type=f.enums===String?s.PeerMessage.RecordingStartNotification.Type[o.type]===void 0?o.type:s.PeerMessage.RecordingStartNotification.Type[o.type]:o.type),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.RecordingStartNotification"},"getTypeUrl"),t.Type=function(){const r={},o=Object.create(r);return o[r[0]="UNKNOWN_TYPE"]=0,o[r[1]="SUMMARY"]=1,o}(),t}(),e.AwarenessPayload=function(){function t(o){if(o)for(let f=Object.keys(o),g=0;g<f.length;++g)o[f[g]]!=null&&(this[f[g]]=o[f[g]])}n(t,"AwarenessPayload"),t.prototype.fieldName="",t.prototype.fieldValue="",t.prototype.fieldTimestampMs=null;let r;return Object.defineProperty(t.prototype,"_fieldTimestampMs",{get:a.oneOfGetter(r=["fieldTimestampMs"]),set:a.oneOfSetter(r)}),t.create=n(function(f){return new t(f)},"create"),t.encode=n(function(f,g){return g||(g=p.create()),f.fieldName!=null&&Object.hasOwnProperty.call(f,"fieldName")&&g.uint32(10).string(f.fieldName),f.fieldValue!=null&&Object.hasOwnProperty.call(f,"fieldValue")&&g.uint32(18).string(f.fieldValue),f.fieldTimestampMs!=null&&Object.hasOwnProperty.call(f,"fieldTimestampMs")&&g.uint32(24).int64(f.fieldTimestampMs),g},"encode"),t.encodeDelimited=n(function(f,g){return this.encode(f,g).ldelim()},"encodeDelimited"),t.decode=n(function(f,g){f instanceof m||(f=m.create(f));let v=g===void 0?f.len:f.pos+g,u=new s.PeerMessage.AwarenessPayload;for(;f.pos<v;){let S=f.uint32();switch(S>>>3){case 1:{u.fieldName=f.string();break}case 2:{u.fieldValue=f.string();break}case 3:{u.fieldTimestampMs=f.int64();break}default:f.skipType(S&7);break}}return u},"decode"),t.decodeDelimited=n(function(f){return f instanceof m||(f=new m(f)),this.decode(f,f.uint32())},"decodeDelimited"),t.verify=n(function(f){if(typeof f!="object"||f===null)return"object expected";let g={};return f.fieldName!=null&&f.hasOwnProperty("fieldName")&&!a.isString(f.fieldName)?"fieldName: string expected":f.fieldValue!=null&&f.hasOwnProperty("fieldValue")&&!a.isString(f.fieldValue)?"fieldValue: string expected":f.fieldTimestampMs!=null&&f.hasOwnProperty("fieldTimestampMs")&&(g._fieldTimestampMs=1,!a.isInteger(f.fieldTimestampMs)&&!(f.fieldTimestampMs&&a.isInteger(f.fieldTimestampMs.low)&&a.isInteger(f.fieldTimestampMs.high)))?"fieldTimestampMs: integer|Long expected":null},"verify"),t.fromObject=n(function(f){if(f instanceof s.PeerMessage.AwarenessPayload)return f;let g=new s.PeerMessage.AwarenessPayload;return f.fieldName!=null&&(g.fieldName=String(f.fieldName)),f.fieldValue!=null&&(g.fieldValue=String(f.fieldValue)),f.fieldTimestampMs!=null&&(a.Long?(g.fieldTimestampMs=a.Long.fromValue(f.fieldTimestampMs)).unsigned=!1:typeof f.fieldTimestampMs=="string"?g.fieldTimestampMs=parseInt(f.fieldTimestampMs,10):typeof f.fieldTimestampMs=="number"?g.fieldTimestampMs=f.fieldTimestampMs:typeof f.fieldTimestampMs=="object"&&(g.fieldTimestampMs=new a.LongBits(f.fieldTimestampMs.low>>>0,f.fieldTimestampMs.high>>>0).toNumber())),g},"fromObject"),t.toObject=n(function(f,g){g||(g={});let v={};return g.defaults&&(v.fieldName="",v.fieldValue=""),f.fieldName!=null&&f.hasOwnProperty("fieldName")&&(v.fieldName=f.fieldName),f.fieldValue!=null&&f.hasOwnProperty("fieldValue")&&(v.fieldValue=f.fieldValue),f.fieldTimestampMs!=null&&f.hasOwnProperty("fieldTimestampMs")&&(typeof f.fieldTimestampMs=="number"?v.fieldTimestampMs=g.longs===String?String(f.fieldTimestampMs):f.fieldTimestampMs:v.fieldTimestampMs=g.longs===String?a.Long.prototype.toString.call(f.fieldTimestampMs):g.longs===Number?new a.LongBits(f.fieldTimestampMs.low>>>0,f.fieldTimestampMs.high>>>0).toNumber():f.fieldTimestampMs,g.oneofs&&(v._fieldTimestampMs="fieldTimestampMs")),v},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(f){return f===void 0&&(f="type.googleapis.com"),f+"/PeerMessage.AwarenessPayload"},"getTypeUrl"),t}(),e.AwarenessBroadcast=function(){function t(r){if(this.awarenessState=[],r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"AwarenessBroadcast"),t.prototype.channel="",t.prototype.user="",t.prototype.awarenessState=a.emptyArray,t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){if(f||(f=p.create()),o.channel!=null&&Object.hasOwnProperty.call(o,"channel")&&f.uint32(10).string(o.channel),o.user!=null&&Object.hasOwnProperty.call(o,"user")&&f.uint32(18).string(o.user),o.awarenessState!=null&&o.awarenessState.length)for(let g=0;g<o.awarenessState.length;++g)s.PeerMessage.AwarenessPayload.encode(o.awarenessState[g],f.uint32(26).fork()).ldelim();return f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.AwarenessBroadcast;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.channel=o.string();break}case 2:{v.user=o.string();break}case 3:{v.awarenessState&&v.awarenessState.length||(v.awarenessState=[]),v.awarenessState.push(s.PeerMessage.AwarenessPayload.decode(o,o.uint32()));break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){if(typeof o!="object"||o===null)return"object expected";if(o.channel!=null&&o.hasOwnProperty("channel")&&!a.isString(o.channel))return"channel: string expected";if(o.user!=null&&o.hasOwnProperty("user")&&!a.isString(o.user))return"user: string expected";if(o.awarenessState!=null&&o.hasOwnProperty("awarenessState")){if(!Array.isArray(o.awarenessState))return"awarenessState: array expected";for(let f=0;f<o.awarenessState.length;++f){let g=s.PeerMessage.AwarenessPayload.verify(o.awarenessState[f]);if(g)return"awarenessState."+g}}return null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.AwarenessBroadcast)return o;let f=new s.PeerMessage.AwarenessBroadcast;if(o.channel!=null&&(f.channel=String(o.channel)),o.user!=null&&(f.user=String(o.user)),o.awarenessState){if(!Array.isArray(o.awarenessState))throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: array expected");f.awarenessState=[];for(let g=0;g<o.awarenessState.length;++g){if(typeof o.awarenessState[g]!="object")throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: object expected");f.awarenessState[g]=s.PeerMessage.AwarenessPayload.fromObject(o.awarenessState[g])}}return f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};if((f.arrays||f.defaults)&&(g.awarenessState=[]),f.defaults&&(g.channel="",g.user=""),o.channel!=null&&o.hasOwnProperty("channel")&&(g.channel=o.channel),o.user!=null&&o.hasOwnProperty("user")&&(g.user=o.user),o.awarenessState&&o.awarenessState.length){g.awarenessState=[];for(let v=0;v<o.awarenessState.length;++v)g.awarenessState[v]=s.PeerMessage.AwarenessPayload.toObject(o.awarenessState[v],f)}return g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.AwarenessBroadcast"},"getTypeUrl"),t}(),e.AwarenessQuery=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"AwarenessQuery"),t.prototype.channel="",t.prototype.user="",t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.channel!=null&&Object.hasOwnProperty.call(o,"channel")&&f.uint32(10).string(o.channel),o.user!=null&&Object.hasOwnProperty.call(o,"user")&&f.uint32(18).string(o.user),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.AwarenessQuery;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.channel=o.string();break}case 2:{v.user=o.string();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.channel!=null&&o.hasOwnProperty("channel")&&!a.isString(o.channel)?"channel: string expected":o.user!=null&&o.hasOwnProperty("user")&&!a.isString(o.user)?"user: string expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.AwarenessQuery)return o;let f=new s.PeerMessage.AwarenessQuery;return o.channel!=null&&(f.channel=String(o.channel)),o.user!=null&&(f.user=String(o.user)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.channel="",g.user=""),o.channel!=null&&o.hasOwnProperty("channel")&&(g.channel=o.channel),o.user!=null&&o.hasOwnProperty("user")&&(g.user=o.user),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.AwarenessQuery"},"getTypeUrl"),t}(),e.AwarenessClose=function(){function t(r){if(r)for(let o=Object.keys(r),f=0;f<o.length;++f)r[o[f]]!=null&&(this[o[f]]=r[o[f]])}return n(t,"AwarenessClose"),t.prototype.channel="",t.prototype.user="",t.create=n(function(o){return new t(o)},"create"),t.encode=n(function(o,f){return f||(f=p.create()),o.channel!=null&&Object.hasOwnProperty.call(o,"channel")&&f.uint32(10).string(o.channel),o.user!=null&&Object.hasOwnProperty.call(o,"user")&&f.uint32(18).string(o.user),f},"encode"),t.encodeDelimited=n(function(o,f){return this.encode(o,f).ldelim()},"encodeDelimited"),t.decode=n(function(o,f){o instanceof m||(o=m.create(o));let g=f===void 0?o.len:o.pos+f,v=new s.PeerMessage.AwarenessClose;for(;o.pos<g;){let u=o.uint32();switch(u>>>3){case 1:{v.channel=o.string();break}case 2:{v.user=o.string();break}default:o.skipType(u&7);break}}return v},"decode"),t.decodeDelimited=n(function(o){return o instanceof m||(o=new m(o)),this.decode(o,o.uint32())},"decodeDelimited"),t.verify=n(function(o){return typeof o!="object"||o===null?"object expected":o.channel!=null&&o.hasOwnProperty("channel")&&!a.isString(o.channel)?"channel: string expected":o.user!=null&&o.hasOwnProperty("user")&&!a.isString(o.user)?"user: string expected":null},"verify"),t.fromObject=n(function(o){if(o instanceof s.PeerMessage.AwarenessClose)return o;let f=new s.PeerMessage.AwarenessClose;return o.channel!=null&&(f.channel=String(o.channel)),o.user!=null&&(f.user=String(o.user)),f},"fromObject"),t.toObject=n(function(o,f){f||(f={});let g={};return f.defaults&&(g.channel="",g.user=""),o.channel!=null&&o.hasOwnProperty("channel")&&(g.channel=o.channel),o.user!=null&&o.hasOwnProperty("user")&&(g.user=o.user),g},"toObject"),t.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),t.getTypeUrl=n(function(o){return o===void 0&&(o="type.googleapis.com"),o+"/PeerMessage.AwarenessClose"},"getTypeUrl"),t}(),e})()},8853366040:(V,l,c)=>{"use strict";c.d(l,{X:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidCursor:"invalid_cursor",InvalidArguments:"invalid_arguments"},i=(0,m.A)("activity.feed generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"activity.feed",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to activity.feed
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcheractivityFeedFetcher",description:"activity.feed generated fetcher"}},384589306:(V,l,c)=>{"use strict";c.d(l,{K:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={TopicAlreadyExists:"topic_already_exists",UnknownMethod:"unknown_method",InternalError:"internal_error"},i=(0,m.A)("ai.activity.addTopics generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"ai.activity.addTopics",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to ai.activity.addTopics
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcheraiActivityAddTopicsFetcher",description:"ai.activity.addTopics generated fetcher"}},2640535850:(V,l,c)=>{"use strict";c.d(l,{C:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnknownMethod:"unknown_method",InternalError:"internal_error"},i=(0,m.A)("ai.activity.deleteTopics generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"ai.activity.deleteTopics",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to ai.activity.deleteTopics
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcheraiActivityDeleteTopicsFetcher",description:"ai.activity.deleteTopics generated fetcher"}},8708902039:(V,l,c)=>{"use strict";c.d(l,{J:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnknownMethod:"unknown_method",InternalError:"internal_error"},i=(0,m.A)("ai.activity.getTopics generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"ai.activity.getTopics",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to ai.activity.getTopics
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcheraiActivityGetTopicsFetcher",description:"ai.activity.getTopics generated fetcher"}},9110699025:(V,l,c)=>{"use strict";c.d(l,{n:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnknownMethod:"unknown_method",InternalError:"internal_error"},i=(0,m.A)("ai.activity.suggestTopics generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"ai.activity.suggestTopics",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to ai.activity.suggestTopics
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcheraiActivitySuggestTopicsFetcher",description:"ai.activity.suggestTopics generated fetcher"}},7669492504:(V,l,c)=>{"use strict";c.d(l,{$:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ProviderNotFound:"provider_not_found",FunctionNotFound:"function_not_found",InvalidArguments:"invalid_arguments"},i=(0,m.A)("apps.auth.external.userAuths.get generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"apps.auth.external.userAuths.get",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to apps.auth.external.userAuths.get
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherappsAuthExternalUserAuthsGetFetcher",description:"apps.auth.external.userAuths.get generated fetcher"}},2948263603:(V,l,c)=>{"use strict";c.d(l,{q:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnableToDelete:"unable_to_delete",ProvidersNotFound:"providers_not_found",NoTokensFound:"no_tokens_found",MethodNotSupported:"method_not_supported",AppNotFound:"app_not_found",TokenNotFound:"token_not_found",InvalidAuth:"invalid_auth",InvalidArgs:"invalid_args"},i=(0,m.A)("apps.auth.external.delete generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"apps.auth.external.delete",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to apps.auth.external.delete
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherappsAuthExternalDeleteFetcher",description:"apps.auth.external.delete generated fetcher"}},5091058320:(V,l,c)=>{"use strict";c.d(l,{$:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={MethodNotSupported:"method_not_supported",AppNotFound:"app_not_found",AppNotInstalled:"app_not_installed",ProviderNotFound:"provider_not_found",UnknownWorkflowId:"unknown_workflow_id",UnknownFunctionId:"unknown_function_id",FunctionBelongsToAnotherApp:"function_belongs_to_another_app",ScopeGroupNotFound:"scope_group_not_found"},i=(0,m.A)("apps.auth.external.start generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"apps.auth.external.start",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to apps.auth.external.start
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherappsAuthExternalStartFetcher",description:"apps.auth.external.start generated fetcher"}},2126879620:(V,l,c)=>{"use strict";c.d(l,{p:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InternalError:"internal_error"},i=(0,m.A)("apps.profile.lookup generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"apps.profile.lookup",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to apps.profile.lookup
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherappsProfileLookupFetcher",description:"apps.profile.lookup generated fetcher"}},9499280343:(V,l,c)=>{"use strict";c.d(l,{c:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={RestrictedError:"restricted_error",RemoteServiceCallFailed:"remote_service_call_failed"},i=(0,m.A)("calendar.disconnect generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"calendar.disconnect",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to calendar.disconnect
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchercalendarDisconnectFetcher",description:"calendar.disconnect generated fetcher"}},4943742358:(V,l,c)=>{"use strict";c.d(l,{R:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NoCalendarNotificationPrefsFound:"no_calendar_notification_prefs_found",RestrictedAction:"restricted_action",RemoteServiceCallFailed:"remote_service_call_failed"},i=(0,m.A)("calendar.getNotificationPrefs generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"calendar.getNotificationPrefs",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to calendar.getNotificationPrefs
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchercalendarGetNotificationPrefsFetcher",description:"calendar.getNotificationPrefs generated fetcher"}},4838741394:(V,l,c)=>{"use strict";c.d(l,{X:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={RestrictedAction:"restricted_action",RemoteServiceCallFailed:"remote_service_call_failed"},i=(0,m.A)("calendar.setNotificationPrefs generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"calendar.setNotificationPrefs",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to calendar.setNotificationPrefs
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchercalendarSetNotificationPrefsFetcher",description:"calendar.setNotificationPrefs generated fetcher"}},9954566755:(V,l,c)=>{"use strict";c.d(l,{O:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidInviteType:"invalid_invite_type",Ratelimited:"ratelimited"},i=(0,m.A)("connectInvites.list generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"connectInvites.list",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to connectInvites.list
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherconnectInvitesListFetcher",description:"connectInvites.list generated fetcher"}},3107518051:(V,l,c)=>{"use strict";c.d(l,{T:()=>s,W:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ChannelConversionInProgress:"channel_conversion_in_progress",ConnectionLimitExceeded:"connection_limit_exceeded",EmailDoesNotMatch:"email_does_not_match",FailedToStartTrial:"failed_to_start_trial",HasAlreadyConnectedToOrg:"has_already_connected_to_org",InvalidArguments:"invalid_arguments",InvalidEmojiNotAllowed:"invalid_emoji_not_allowed",InvalidHostTeam:"invalid_host_team",InvalidLink:"invalid_link",InvalidName:"invalid_name",InvalidNameMaxlength:"invalid_name_maxlength",InvalidNamePunctuation:"invalid_name_punctuation",InvalidNameRequired:"invalid_name_required",InvalidNameSpecials:"invalid_name_specials",InviteFromSameOrg:"invite_from_same_org",InviteNotFound:"invite_not_found",InvalidPrivacy:"invalid_privacy",InvalidRecipientTeam:"invalid_recipient_team",InvalidTargetTeam:"invalid_target_team",InviteUsed:"invite_used",IsPendingConnectedToOrg:"is_pending_connected_to_org",LegacyConnectionInvalidOrg:"legacy_connection_invalid_org",LegacyConnectionLimitExceeded:"legacy_connection_limit_exceeded",NameTaken:"name_taken",NotAllowedForGridWorkspace:"not_allowed_for_grid_workspace",NotPaid:"not_paid",RestrictedAction:"restricted_action",TeamNotFound:"team_not_found",UserCannotCreateChannel:"user_cannot_create_channel",UserIsRestricted:"user_is_restricted",UserNotFound:"user_not_found",UserRequiredToAcceptAsPrivateButCannot:"user_required_to_accept_as_private_but_cannot"},i=(0,m.A)("conversations.acceptSharedInvite generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"conversations.acceptSharedInvite",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to conversations.acceptSharedInvite
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherconversationsAcceptSharedInviteFetcher",description:"conversations.acceptSharedInvite generated fetcher"}},1170178160:(V,l,c)=>{"use strict";c.d(l,{t:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnknownMethod:"unknown_method",InvalidChannelIds:"invalid_channel_ids"},i=(0,m.A)("conversations.bulkReacjiTriggers generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"conversations.bulkReacjiTriggers",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to conversations.bulkReacjiTriggers
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherconversationsBulkReacjiTriggersFetcher",description:"conversations.bulkReacjiTriggers generated fetcher"}},3234482903:(V,l,c)=>{"use strict";c.d(l,{_:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ChannelNotFound:"channel_not_found",MissingScope:"missing_scope",TeamAccessNotGranted:"team_access_not_granted",UserNotFound:"user_not_found",UserRemovedFromTeam:"user_removed_from_team"},i=(0,m.A)("conversations.info generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"conversations.info",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to conversations.info
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherconversationsInfoFetcher",description:"conversations.info generated fetcher"}},5019885664:(V,l,c)=>{"use strict";c.d(l,{U:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={FeatureNotEnabled:"feature_not_enabled",ChannelNotFound:"channel_not_found",ErrorFetchingChannelPrefs:"error_fetching_channel_prefs"},i=(0,m.A)("conversations.listPrefs generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"conversations.listPrefs",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to conversations.listPrefs
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherconversationsListPrefsFetcher",description:"conversations.listPrefs generated fetcher"}},9667109180:(V,l,c)=>{"use strict";c.d(l,{Sv:()=>s,a0:()=>e,jB:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={Unknown:"unknown",UserCannotCreateChannel:"user_cannot_create_channel",IsPendingConnectedToOrg:"is_pending_connected_to_org",HasAlreadyConnectedToOrg:"has_already_connected_to_org",EmailDoesNotMatch:"email_does_not_match",InviteFromSameOrg:"invite_from_same_org",UserIsRestricted:"user_is_restricted",NotAllowedForGridWorkspace:"not_allowed_for_grid_workspace",GridWorkspaceRequired:"grid_workspace_required",RestrictedAction:"restricted_action",ConnectionLimitExceeded:"connection_limit_exceeded",LegacyConnectionLimitExceeded:"legacy_connection_limit_exceeded",LegacyConnectionInvalidOrg:"legacy_connection_invalid_org",UserRequiredToAcceptAsPrivateButCannot:"user_required_to_accept_as_private_but_cannot",NotPaid:"not_paid",UpgradeRequiredButUserCannot:"upgrade_required_but_user_cannot",InvalidRecipientTeam:"invalid_recipient_team"},i={InvalidArguments:"invalid_arguments",InviteNotFound:"invite_not_found",TeamNotFound:"team_not_found",UserNotFound:"user_not_found",DomainClaimed:"domain_claimed"},e=(0,m.A)("conversations.sharedInviteAcceptanceEligibility generated fetcher",(t,r,o)=>new d.S((f,g)=>{const{reason:v,...u}=o,S=(0,a.VA)(u);t((0,h.apiCall)({method:"conversations.sharedInviteAcceptanceEligibility",args:S,reason:v})).then(_=>{f(_)}).catch(_=>{(0,p.Ay)({getState:r}).error(`API call to conversations.sharedInviteAcceptanceEligibility
						with reason ${v} failed, initiated by generated fetcher`),g(_)})}));e.meta={name:"createFetcher",key:"createFetcherconversationsSharedInviteAcceptanceEligibilityFetcher",description:"conversations.sharedInviteAcceptanceEligibility generated fetcher"}},794667355:(V,l,c)=>{"use strict";c.d(l,{R:()=>s,a:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidChannel:"invalid_channel",InvalidDraft:"invalid_draft",InvalidThreadTs:"invalid_thread_ts",InvalidClientMsgId:"invalid_client_msg_id",MustProvideThreadTsAndBroadcast:"must_provide_thread_ts_and_broadcast",InvalidUnattachedThreadDraft:"invalid_unattached_thread_draft",BothBlocksAndTextProvided:"both_blocks_and_text_provided",MustProvideBlocksOrText:"must_provide_blocks_or_text",BothUserIdsAndChannelIdProvidedInDestination:"both_user_ids_and_channel_id_provided_in_destination",InvalidDestinationsCount:"invalid_destinations_count",AttachedDraftExists:"attached_draft_exists",InvalidMessage:"invalid_message",MsgBlocksTooLong:"msg_blocks_too_long",FileNotFound:"file_not_found",InvalidUserIds:"invalid_user_ids",InvalidTime:"invalid_time",TimeInPast:"time_in_past",TimeTooFar:"time_too_far",ErrorSettingTimer:"error_setting_timer",UnableToCreateDraft:"unable_to_create_draft",ScheduledDraftCannotBeAttached:"scheduled_draft_cannot_be_attached",InvalidUnfurlFormat:"invalid_unfurl_format",InvalidUnfurlArgument:"invalid_unfurl_argument",InvalidUnfurlUrlTooLong:"invalid_unfurl_url_too_long",InvalidUnfurlUrlExpression:"invalid_unfurl_url_expression",InvalidFilePermissionsFormat:"invalid_file_permissions_format",InvalidFilePermissionsGrant:"invalid_file_permissions_grant",InvalidFilePermissionsFileId:"invalid_file_permissions_file_id",MessageLimitExceeded:"message_limit_exceeded"},i=(0,m.A)("drafts.create generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"drafts.create",args:u,reason:g})).then(S=>{o((0,a.XK)(S))}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to drafts.create
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherdraftsCreateFetcher",description:"drafts.create generated fetcher"}},8978332228:(V,l,c)=>{"use strict";c.d(l,{$:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={DraftNotFound:"draft_not_found",UnableToDeleteDraft:"unable_to_delete_draft",DraftHasConflict:"draft_has_conflict",DraftDeleteInvalid:"draft_delete_invalid"},i=(0,m.A)("drafts.delete generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"drafts.delete",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to drafts.delete
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherdraftsDeleteFetcher",description:"drafts.delete generated fetcher"}},4361310107:(V,l,c)=>{"use strict";c.d(l,{U:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnableToFetchDrafts:"unable_to_fetch_drafts"},i=(0,m.A)("drafts.list generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"drafts.list",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to drafts.list
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherdraftsListFetcher",description:"drafts.list generated fetcher"}},2725698152:(V,l,c)=>{"use strict";c.d(l,{b:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NotAuthed:"not_authed",FeatureNotEnabled:"feature_not_enabled"},i=(0,m.A)("emails.info generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"emails.info",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to emails.info
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcheremailsInfoFetcher",description:"emails.info generated fetcher"}},8545309420:(V,l,c)=>{"use strict";c.d(l,{W:()=>s,l:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NoAliasSelected:"no_alias_selected",RateLimited:"rate_limited",NoImageUploaded:"no_image_uploaded",InvalidMode:"invalid_mode",ErrorBadNameI18N:"error_bad_name_i18n",ErrorNameTaken:"error_name_taken",ErrorNameTakenI18N:"error_name_taken_i18n",ErrorLowerCaseNamesOnly:"error_lower_case_names_only",ErrorInvalidAlias:"error_invalid_alias",ErrorBadUpload:"error_bad_upload",ErrorTooBig:"error_too_big",ErrorBadWide:"error_bad_wide",ErrorMissingName:"error_missing_name",ErrorNoImage:"error_no_image",ErrorBadFormat:"error_bad_format",FailedToAddEmoji:"failed_to_add_emoji",ResizedButStillTooLarge:"resized_but_still_too_large",UnableToEnqueue:"unable_to_enqueue",TooManyFrames:"too_many_frames",UnknownMethod:"unknown_method",NoPermission:"no_permission",UnableToFetchEmoji:"unable_to_fetch_emoji",EmojiLimitReached:"emoji_limit_reached",NoUrlProvided:"no_url_provided",NoUrlImage:"no_url_image"},i=(0,m.A)("emoji.add generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"emoji.add",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to emoji.add
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcheremojiAddFetcher",description:"emoji.add generated fetcher"}},6236803846:(V,l,c)=>{"use strict";c.d(l,{$:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={PrefNotExist:"pref_not_exist",MissingPrefs:"missing_prefs",NoPermission:"no_permission",NoPerms:"no_perms",ProtectedOrgRetentionPolicy:"protected_org_retention_policy",TeamsPrefsSetInvalidPermissions:"teams_prefs_set_invalid_permissions",OwnerRequiredToManageSharedChannels:"owner_required_to_manage_shared_channels",BadRestrictionValue:"bad_restriction_value",InvalidUserIds:"invalid_user_ids",InvalidPrefValue:"invalid_pref_value",InvalidPrefValueMsgEditWindowMins:"invalid_pref_value_msg_edit_window_mins"},i=(0,m.A)("enterprise.prefs.setAndLock generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"enterprise.prefs.setAndLock",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to enterprise.prefs.setAndLock
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherenterprisePrefsSetAndLockFetcher",description:"enterprise.prefs.setAndLock generated fetcher"}},5852147853:(V,l,c)=>{"use strict";c.d(l,{f:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={},i=(0,m.A)("enterpriseSearch.getConnectors generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"enterpriseSearch.getConnectors",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to enterpriseSearch.getConnectors
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherenterpriseSearchGetConnectorsFetcher",description:"enterpriseSearch.getConnectors generated fetcher"}},6996845722:(V,l,c)=>{"use strict";c.d(l,{$:()=>s,i:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ConnectorNotFound:"connector_not_found",FunctionDisabled:"function_disabled",NotConnected:"not_connected",FunctionNotFound:"function_not_found",InvalidRecordId:"invalid_record_id"},i=(0,m.A)("enterpriseSearch.getEntity generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"enterpriseSearch.getEntity",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to enterpriseSearch.getEntity
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherenterpriseSearchGetEntityFetcher",description:"enterpriseSearch.getEntity generated fetcher"}},1540991094:(V,l,c)=>{"use strict";c.d(l,{W:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={FetchExperimentConfigError:"fetch_experiment_config_error",UnknownMethod:"unknown_method"},i=(0,m.A)("experiments.getConfigById generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"experiments.getConfigById",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to experiments.getConfigById
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherexperimentsGetConfigByIdFetcher",description:"experiments.getConfigById generated fetcher"}},6109527008:(V,l,c)=>{"use strict";c.d(l,{D:()=>i,G:()=>s});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={FeatureNotEnabled:"feature_not_enabled",InviteNotFound:"invite_not_found",WorkspaceNotFound:"workspace_not_found",OperationNotAllowed:"operation_not_allowed",ExternalWorkspaceLimitReached:"external_workspace_limit_reached",FailedToFetchTermsOfService:"failed_to_fetch_terms_of_service",TermsOfServiceNotAccepted:"terms_of_service_not_accepted",GuestUserNotAllowed:"guest_user_not_allowed",EmailDoesNotMatch:"email_does_not_match",InvalidRecipientTeam:"invalid_recipient_team",DomainClaimed:"domain_claimed",NotPaid:"not_paid"},i=(0,m.A)("externalWorkspaces.invites.accept generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"externalWorkspaces.invites.accept",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to externalWorkspaces.invites.accept
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesAcceptFetcher",description:"externalWorkspaces.invites.accept generated fetcher"}},9283169796:(V,l,c)=>{"use strict";c.d(l,{I:()=>s,l:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InviteNotFound:"invite_not_found",InviteInvalid:"invite_invalid",RateLimited:"rate_limited",InviteUsed:"invite_used",FailedGeneratingInviteOutput:"failed_generating_invite_output"},i=(0,m.A)("externalWorkspaces.invites.info generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"externalWorkspaces.invites.info",args:u,reason:g,computeToken:!1})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to externalWorkspaces.invites.info
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesInfoFetcher",description:"externalWorkspaces.invites.info generated fetcher"}},2167825758:(V,l,c)=>{"use strict";c.d(l,{N:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={FileNotFound:"file_not_found",UnsupportedFileType:"unsupported_file_type"},i=(0,m.A)("files.open generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"files.open",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to files.open
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherfilesOpenFetcher",description:"files.open generated fetcher"}},3744975169:(V,l,c)=>{"use strict";c.d(l,{x:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={FileNotFound:"file_not_found",UnknownMethod:"unknown_method",FiletypeNotSupported:"filetype_not_supported",CannotUpgradeAccess:"cannot_upgrade_access",UpgradeNotSupported:"upgrade_not_supported"},i=(0,m.A)("files.requestPermission generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"files.requestPermission",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to files.requestPermission
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherfilesRequestPermissionFetcher",description:"files.requestPermission generated fetcher"}},7396705559:(V,l,c)=>{"use strict";c.d(l,{g:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={Unauthorized:"unauthorized"},i=(0,m.A)("gif.featured generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"gif.featured",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to gif.featured
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchergifFeaturedFetcher",description:"gif.featured generated fetcher"}},182632673:(V,l,c)=>{"use strict";c.d(l,{_:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={Unauthorized:"unauthorized",InvalidTenorApiResponse:"invalid_tenor_api_response"},i=(0,m.A)("gif.search generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"gif.search",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to gif.search
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchergifSearchFetcher",description:"gif.search generated fetcher"}},4019387120:(V,l,c)=>{"use strict";c.d(l,{I:()=>s});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s=(0,m.A)("help.issues.ticketStats generated fetcher",(i,e,t)=>new d.S((r,o)=>{const{reason:f,...g}=t,v=(0,a.VA)(g);i((0,h.apiCall)({method:"help.issues.ticketStats",args:v,reason:f})).then(u=>{r(u)}).catch(u=>{(0,p.Ay)({getState:e}).error(`API call to help.issues.ticketStats
						with reason ${f} failed, initiated by generated fetcher`),o(u)})}));s.meta={name:"createFetcher",key:"createFetcherhelpIssuesTicketStatsFetcher",description:"help.issues.ticketStats generated fetcher"}},9573689842:(V,l,c)=>{"use strict";c.d(l,{l:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={},i=(0,m.A)("help.productHelpCard.list generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"help.productHelpCard.list",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to help.productHelpCard.list
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherhelpProductHelpCardListFetcher",description:"help.productHelpCard.list generated fetcher"}},1884870561:(V,l,c)=>{"use strict";c.d(l,{G:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidAuth:"invalid_auth",MissingArgument:"missing_argument",Shrug:"shrug"},i=(0,m.A)("helpdesk.categories generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"helpdesk.categories",args:u,reason:g,computeToken:!1})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to helpdesk.categories
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherhelpdeskCategoriesFetcher",description:"helpdesk.categories generated fetcher"}},2738283699:(V,l,c)=>{"use strict";c.d(l,{h:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={CouldNotFetchSections:"could_not_fetch_sections"},i=(0,m.A)("helpdesk.getSectionsAndArticlesByCategory generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"helpdesk.getSectionsAndArticlesByCategory",args:u,reason:g,computeToken:!1})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to helpdesk.getSectionsAndArticlesByCategory
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherhelpdeskGetSectionsAndArticlesByCategoryFetcher",description:"helpdesk.getSectionsAndArticlesByCategory generated fetcher"}},3530559799:(V,l,c)=>{"use strict";c.d(l,{a:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={MissingArgument:"missing_argument",InvalidAuth:"invalid_auth",UnknownError:"unknown_error"},i=(0,m.A)("helpdesk.get generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"helpdesk.get",args:u,reason:g,computeToken:!1})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to helpdesk.get
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherhelpdeskGetFetcher",description:"helpdesk.get generated fetcher"}},3224262276:(V,l,c)=>{"use strict";c.d(l,{z:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidChannelId:"invalid_channel_id",ChannelNotFound:"channel_not_found",PermissionDenied:"permission_denied",RoomsNoServersAvailable:"rooms_no_servers_available",RoomsUnauthorizedChannel:"rooms_unauthorized_channel",RoomsInvalidParameters:"rooms_invalid_parameters",InvalidRegions:"invalid_regions"},i=(0,m.A)("huddles.readiness generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"huddles.readiness",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to huddles.readiness
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherhuddlesReadinessFetcher",description:"huddles.readiness generated fetcher"}},8002277581:(V,l,c)=>{"use strict";c.d(l,{v:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={FailedFetchingIdentityLinksPrefs:"failed_fetching_identity_links_prefs",FailedFetchingApiTokens:"failed_fetching_api_tokens",FailedToRevokeToken:"failed_to_revoke_token",InvalidApp:"invalid_app",UnknownMethod:"unknown_method"},i=(0,m.A)("links.disconnectApps generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"links.disconnectApps",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to links.disconnectApps
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherlinksDisconnectAppsFetcher",description:"links.disconnectApps generated fetcher"}},9095778707:(V,l,c)=>{"use strict";c.d(l,{V:()=>s,o:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ChannelNotFound:"channel_not_found",MissingScope:"missing_scope",InvalidApp:"invalid_app",InternalError:"internal_error",UriNotHandledByApp:"uri_not_handled_by_app",UriNotFoundInMessage:"uri_not_found_in_message",EmailNotVerified:"email_not_verified",UnsupportedEmailAddress:"unsupported_email_address",InvalidClientCache:"invalid_client_cache",SsoNotAllowed:"sso_not_allowed"},i=(0,m.A)("links.getTransferPayload generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"links.getTransferPayload",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to links.getTransferPayload
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherlinksGetTransferPayloadFetcher",description:"links.getTransferPayload generated fetcher"}},2183297536:(V,l,c)=>{"use strict";c.d(l,{z:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ListNotFound:"list_not_found",TeamNotFound:"team_not_found",UserNotFound:"user_not_found",InvalidCursor:"invalid_cursor",SortsNotSupported:"sorts_not_supported",FiltersNotSupported:"filters_not_supported",ArchiveNotSupported:"archive_not_supported",IncludeSuggestedNotSupported:"include_suggested_not_supported"},i=(0,m.A)("lists.records.list generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"lists.records.list",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to lists.records.list
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherlistsRecordsListFetcher",description:"lists.records.list generated fetcher"}},3096678592:(V,l,c)=>{"use strict";c.d(l,{L:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ListNotFound:"list_not_found",RecordNotFound:"record_not_found",RecordDeleted:"record_deleted",TeamNotFound:"team_not_found",UserNotFound:"user_not_found"},i=(0,m.A)("lists.records.open generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"lists.records.open",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to lists.records.open
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherlistsRecordsOpenFetcher",description:"lists.records.open generated fetcher"}},8087802044:(V,l,c)=>{"use strict";c.d(l,{a:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NotificationNotFound:"notification_not_found",InvalidAction:"invalid_action",ErrorPersistingImpression:"error_persisting_impression",ChannelNotFound:"channel_not_found",InvalidNotificationParams:"invalid_notification_params",CannotProvideChannelAndEntityId:"cannot_provide_channel_and_entity_id",MissingEntityType:"missing_entity_type",InvalidEntityType:"invalid_entity_type"},i=(0,m.A)("megaphone.setNotificationAsSeen generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"megaphone.setNotificationAsSeen",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to megaphone.setNotificationAsSeen
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchermegaphoneSetNotificationAsSeenFetcher",description:"megaphone.setNotificationAsSeen generated fetcher"}},2755563660:(V,l,c)=>{"use strict";c.d(l,{l:()=>s});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942);const a={InternalError:"internal_error"},s=(0,m.A)("onboarding.fetch generated fetcher",(i,e,t)=>new d.S((r,o)=>{const{reason:f,...g}=t,v=g;i((0,h.apiCall)({method:"onboarding.fetch",args:v,reason:f})).then(u=>{r(u)}).catch(u=>{(0,p.Ay)({getState:e}).error(`API call to onboarding.fetch
						with reason ${f} failed, initiated by generated fetcher`),o(u)})}));s.meta={name:"createFetcher",key:"createFetcheronboardingFetchFetcher",description:"onboarding.fetch generated fetcher"}},6619653240:(V,l,c)=>{"use strict";c.d(l,{n:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NotImplemented:"not_implemented",NoProductSelected:"no_product_selected",InvalidRequest:"invalid_request",UnableToSetProductId:"unable_to_set_product_id",UnableToSetAddonIds:"unable_to_set_addon_ids",InvalidProductId:"invalid_product_id",AddonListTooLong:"addon_list_too_long",InvalidAddonIdInList:"invalid_addon_id_in_list",MultipleAddonsWithSameType:"multiple_addons_with_same_type"},i=(0,m.A)("payments.checkout.config generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"payments.checkout.config",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to payments.checkout.config
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherpaymentsCheckoutConfigFetcher",description:"payments.checkout.config generated fetcher"}},9343261696:(V,l,c)=>{"use strict";c.d(l,{b:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={CurrentProductNotFound:"current_product_not_found",CurrentProductTermNotFound:"current_product_term_not_found",InsufficientPermissions:"insufficient_permissions"},i=(0,m.A)("payments.status.get generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"payments.status.get",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to payments.status.get
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherpaymentsStatusGetFetcher",description:"payments.status.get generated fetcher"}},4623317806:(V,l,c)=>{"use strict";c.d(l,{T:()=>i,W:()=>s});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={AlreadyPinned:"already_pinned",BadTimestamp:"bad_timestamp",ChannelNotFound:"channel_not_found",ExternalChannelMigrating:"external_channel_migrating",FileNotFound:"file_not_found",FileNotShared:"file_not_shared",MessageNotFound:"message_not_found",NoItemSpecified:"no_item_specified",NotInChannel:"not_in_channel",NotPinnable:"not_pinnable",RestrictedAction:"restricted_action",TooManyPins:"too_many_pins"},i=(0,m.A)("pins.add generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"pins.add",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to pins.add
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherpinsAddFetcher",description:"pins.add generated fetcher"}},6798336995:(V,l,c)=>{"use strict";c.d(l,{u:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ChannelNotFound:"channel_not_found",NotInChannel:"not_in_channel",ReconnectFailed:"reconnect_failed",UserRemovedFromTeam:"user_removed_from_team",RestrictedAction:"restricted_action"},i=(0,m.A)("pins.list generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"pins.list",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to pins.list
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherpinsListFetcher",description:"pins.list generated fetcher"}},9470148207:(V,l,c)=>{"use strict";c.d(l,{w:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={BadTimestamp:"bad_timestamp",ChannelNotFound:"channel_not_found",ExternalChannelMigrating:"external_channel_migrating",FileCommentNotFound:"file_comment_not_found",FileNotFound:"file_not_found",MessageNotFound:"message_not_found",NoItemSpecified:"no_item_specified",NoPin:"no_pin",NotPinned:"not_pinned",RestrictedAction:"restricted_action"},i=(0,m.A)("pins.remove generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"pins.remove",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to pins.remove
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherpinsRemoveFetcher",description:"pins.remove generated fetcher"}},6112135410:(V,l,c)=>{"use strict";c.d(l,{Q:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UserNotFound:"user_not_found",AlreadyInCall:"already_in_call",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",InvalidResponse:"invalid_response",InviteNotFound:"invite_not_found",PermissionDenied:"permission_denied",TeamNotFound:"team_not_found"},i=(0,m.A)("rooms.inviteResponse generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"rooms.inviteResponse",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to rooms.inviteResponse
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherroomsInviteResponseFetcher",description:"rooms.inviteResponse generated fetcher"}},961883039:(V,l,c)=>{"use strict";c.d(l,{g:()=>s});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidUser:"invalid_user",ChannelNotFound:"channel_not_found",InvalidChannelId:"invalid_channel_id",PermissionDenied:"permission_denied",CannotInviteExternal:"cannot_invite_external",InviteFailed:"invite_failed",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",MaxPotentialParticipants:"max_potential_participants",RecipientHuddlesDisabled:"recipient_huddles_disabled",FreemiumMaxParticipants:"freemium_max_participants"},i=(0,m.A)("rooms.notifyMember generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"rooms.notifyMember",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to rooms.notifyMember
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherroomsNotifyMemberFetcher",description:"rooms.notifyMember generated fetcher"}},1752680116:(V,l,c)=>{"use strict";c.d(l,{i:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied",InvalidLocale:"invalid_locale"},i=(0,m.A)("rooms.startTranscription generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"rooms.startTranscription",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to rooms.startTranscription
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherroomsStartTranscriptionFetcher",description:"rooms.startTranscription generated fetcher"}},3311224630:(V,l,c)=>{"use strict";c.d(l,{W:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",InvalidTranscriptionCache:"invalid_transcription_cache",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied"},i=(0,m.A)("rooms.stopTranscription generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"rooms.stopTranscription",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to rooms.stopTranscription
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherroomsStopTranscriptionFetcher",description:"rooms.stopTranscription generated fetcher"}},5605178122:(V,l,c)=>{"use strict";c.d(l,{z:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={},i=(0,m.A)("search.autocomplete.topEngagedFiles generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"search.autocomplete.topEngagedFiles",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to search.autocomplete.topEngagedFiles
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersearchAutocompleteTopEngagedFilesFetcher",description:"search.autocomplete.topEngagedFiles generated fetcher"}},70306884:(V,l,c)=>{"use strict";c.d(l,{v:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={AuthError:"auth_error"},i=(0,m.A)("search.autocomplete.triggers generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"search.autocomplete.triggers",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to search.autocomplete.triggers
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersearchAutocompleteTriggersFetcher",description:"search.autocomplete.triggers generated fetcher"}},8752461567:(V,l,c)=>{"use strict";c.d(l,{d:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UserNotFound:"user_not_found",MultipleUsersFound:"multiple_users_found",ProviderNotFound:"provider_not_found",UnknownMethod:"unknown_method",RestrictedAction:"restricted_action",InvalidSalesforceOrg:"invalid_salesforce_org",InvalidRequestParams:"invalid_request_params"},i=(0,m.A)("sfdc.integration.authUser generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"sfdc.integration.authUser",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to sfdc.integration.authUser
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersfdcIntegrationAuthUserFetcher",description:"sfdc.integration.authUser generated fetcher"}},8546821675:(V,l,c)=>{"use strict";c.d(l,{D:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UserNotConnected:"user_not_connected",RestrictedAction:"restricted_action",ErrorInteractingWithSalesforceEntity:"error_interacting_with_salesforce_entity",InvalidConnectionRequestStatus:"invalid_connection_request_status",FoyerDispatchFailed:"foyer_dispatch_failed",TokenNotFound:"token_not_found",AccessTokenExchangeFailed:"access_token_exchange_failed",SalesforceOrgNotFound:"salesforce_org_not_found",ApiDisabled:"api_disabled",InvalidAccess:"invalid_access",ResourceNotFound:"resource_not_found",SalesforceTimeout:"salesforce_timeout",SalesforceRateLimited:"salesforce_rate_limited"},i=(0,m.A)("sfdc.integration.disconnectUser generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"sfdc.integration.disconnectUser",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to sfdc.integration.disconnectUser
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersfdcIntegrationDisconnectUserFetcher",description:"sfdc.integration.disconnectUser generated fetcher"}},9906715974:(V,l,c)=>{"use strict";c.d(l,{k:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={},i=(0,m.A)("sfdc.orgInfo generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"sfdc.orgInfo",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to sfdc.orgInfo
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersfdcOrgInfoFetcher",description:"sfdc.orgInfo generated fetcher"}},5465753304:(V,l,c)=>{"use strict";c.d(l,{Z:()=>i,q:()=>s});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={MissingArgument:"missing_argument",NotPaid:"not_paid",InvalidLink:"invalid_link",InviteInactive:"invite_inactive",InviteAlreadyUsed:"invite_already_used",InviteNotAllowed:"invite_not_allowed",AcceptNotAllowed:"accept_not_allowed",FeatureDisabled:"feature_disabled",OrgsSevered:"orgs_severed",InternalError:"internal_error",CustomInvitesNotSupported:"custom_invites_not_supported",InvalidRecipientTeam:"invalid_recipient_team",EmailDoesNotMatch:"email_does_not_match",SlackConnectDmNotAllowedOnTeam:"slack_connect_dm_not_allowed_on_team",InviteNotFound:"invite_not_found"},i=(0,m.A)("sharedInvites.accept generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"sharedInvites.accept",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to sharedInvites.accept
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersharedInvitesAcceptFetcher",description:"sharedInvites.accept generated fetcher"}},8256037714:(V,l,c)=>{"use strict";c.d(l,{d:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InternalError:"internal_error"},i=(0,m.A)("sharedInvites.canGetLink generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"sharedInvites.canGetLink",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to sharedInvites.canGetLink
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersharedInvitesCanGetLinkFetcher",description:"sharedInvites.canGetLink generated fetcher"}},477544047:(V,l,c)=>{"use strict";c.d(l,{M:()=>s,b:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NoEmail:"no_email",NoCode:"no_code",Failed:"failed",Expired:"expired",Ratelimited:"ratelimited",MagicLoginFailed:"magic_login_failed",CaptchaFailed:"captcha_failed"},i=(0,m.A)("signin.confirmCode generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"signin.confirmCode",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to signin.confirmCode
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersigninConfirmCodeFetcher",description:"signin.confirmCode generated fetcher"}},2692201683:(V,l,c)=>{"use strict";c.d(l,{x:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={Ratelimited:"ratelimited",InvalidEmail:"invalid_email",ErrorInTeamResults:"error_in_team_results",CookieError:"cookie_error",NoValidCodes:"no_valid_codes",InvalidSandboxTeamId:"invalid_sandbox_team_id",SandboxNotFound:"sandbox_not_found",SandboxTeamNotFound:"sandbox_team_not_found",SandboxUserNotFound:"sandbox_user_not_found"},i=(0,m.A)("signin.findWorkspaces generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"signin.findWorkspaces",args:u,reason:g,computeToken:!1})).then(S=>{o((0,a.XK)(S))}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to signin.findWorkspaces
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersigninFindWorkspacesFetcher",description:"signin.findWorkspaces generated fetcher"}},3066574952:(V,l,c)=>{"use strict";c.d(l,{i:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NoEmail:"no_email",InvalidEmail:"invalid_email",ConfirmEmailFailed:"confirm_email_failed",Ratelimited:"ratelimited",InvalidDeviceId:"invalid_device_id",MissingArgument:"missing_argument",WorkspaceLimitExceeded:"workspace_limit_exceeded",UnsupportedArguments:"unsupported_arguments",BadEmailDomain:"bad_email_domain",CodeRequestLimitReached:"code_request_limit_reached",CaptchaFailed:"captcha_failed",DomainNotFound:"domain_not_found",CaptchaEmpty:"captcha_empty"},i=(0,m.A)("signup.confirmEmail generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"signup.confirmEmail",args:u,reason:g,computeToken:!1})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to signup.confirmEmail
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetchersignupConfirmEmailFetcher",description:"signup.confirmEmail generated fetcher"}},2379172929:(V,l,c)=>{"use strict";c.d(l,{K:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidRequest:"invalid_request",InternalError:"internal_error"},i=(0,m.A)("team.feature.request generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"team.feature.request",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to team.feature.request
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherteamFeatureRequestFetcher",description:"team.feature.request generated fetcher"}},7823000016:(V,l,c)=>{"use strict";c.d(l,{p:()=>s});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s=(0,m.A)("teams.trials.info generated fetcher",(i,e,t)=>new d.S((r,o)=>{const{reason:f,...g}=t,v=(0,a.VA)(g);i((0,h.apiCall)({method:"teams.trials.info",args:v,reason:f})).then(u=>{r((0,a.XK)(u))}).catch(u=>{(0,p.Ay)({getState:e}).error(`API call to teams.trials.info
						with reason ${f} failed, initiated by generated fetcher`),o(u)})}));s.meta={name:"createFetcher",key:"createFetcherteamsTrialsInfoFetcher",description:"teams.trials.info generated fetcher"}},7618501758:(V,l,c)=>{"use strict";c.d(l,{V:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NotAuthed:"not_authed",NoPerms:"no_perms"},i=(0,m.A)("users.emailVerificationStatus.get generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.emailVerificationStatus.get",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.emailVerificationStatus.get
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersEmailVerificationStatusGetFetcher",description:"users.emailVerificationStatus.get generated fetcher"}},5001619862:(V,l,c)=>{"use strict";c.d(l,{p:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ErrorCreatingToken:"error_creating_token"},i=(0,m.A)("users.emailtoken.create generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.emailtoken.create",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.emailtoken.create
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersEmailtokenCreateFetcher",description:"users.emailtoken.create generated fetcher"}},1801117129:(V,l,c)=>{"use strict";c.d(l,{W:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NoEmailtoken:"no_emailtoken"},i=(0,m.A)("users.emailtoken.delete generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.emailtoken.delete",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.emailtoken.delete
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersEmailtokenDeleteFetcher",description:"users.emailtoken.delete generated fetcher"}},4837979302:(V,l,c)=>{"use strict";c.d(l,{T:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NoEmailtoken:"no_emailtoken"},i=(0,m.A)("users.emailtoken.get generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.emailtoken.get",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.emailtoken.get
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersEmailtokenGetFetcher",description:"users.emailtoken.get generated fetcher"}},1298266756:(V,l,c)=>{"use strict";c.d(l,{a:()=>s,p:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={NoSelfVip:"no_self_vip",NoBotVip:"no_bot_vip",UserNotFound:"user_not_found",TooManyVips:"too_many_vips"},i=(0,m.A)("users.priority.add generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.priority.add",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.priority.add
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersPriorityAddFetcher",description:"users.priority.add generated fetcher"}},6249053034:(V,l,c)=>{"use strict";c.d(l,{K:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UserNotFound:"user_not_found",RecommendError:"recommend_error",InvalidQuery:"invalid_query",InvalidLimit:"invalid_limit"},i=(0,m.A)("users.priority.getRecommendations generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.priority.getRecommendations",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.priority.getRecommendations
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersPriorityGetRecommendationsFetcher",description:"users.priority.getRecommendations generated fetcher"}},7497467541:(V,l,c)=>{"use strict";c.d(l,{O:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UserNotFound:"user_not_found"},i=(0,m.A)("users.priority.remove generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.priority.remove",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.priority.remove
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersPriorityRemoveFetcher",description:"users.priority.remove generated fetcher"}},9353111694:(V,l,c)=>{"use strict";c.d(l,{V:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UserNotFound:"user_not_found",TokenRevoked:"token_revoked",Ratelimited:"ratelimited"},i=(0,m.A)("users.profile.get generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.profile.get",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.profile.get
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersProfileGetFetcher",description:"users.profile.get generated fetcher"}},5060479402:(V,l,c)=>{"use strict";c.d(l,{k:()=>s,n:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={BadUsername:"bad_username",CannotUpdateAdminUser:"cannot_update_admin_user",EmailBad:"email_bad",EmailTaken:"email_taken",DisplayNameNotAllowed:"display_name_not_allowed",InvalidNamePunctuation:"invalid_name_punctuation",InvalidNameRequired:"invalid_name_required",InvalidNameSpecials:"invalid_name_specials",InvalidProfile:"invalid_profile",InvalidReservedWord:"invalid_reserved_word",InvalidUser:"invalid_user",LongUsername:"long_username",MustClearBothStatusTextAndStatusEmoji:"must_clear_both_status_text_and_status_emoji",NameNotAllowed:"name_not_allowed",NotAdmin:"not_admin",NotAppAdmin:"not_app_admin",PartialProfileSetFailed:"partial_profile_set_failed",ProfileSetFailed:"profile_set_failed",ProfileStatusSetFailedNotEmojiSyntax:"profile_status_set_failed_not_emoji_syntax",ProfileStatusSetFailedNotValidEmoji:"profile_status_set_failed_not_valid_emoji",ProfileStatusSetFailedWritingExpiration:"profile_status_set_failed_writing_expiration",ReadOnlyProfileField:"read_only_profile_field",ReservedName:"reserved_name",SudoRequired:"sudo_required",TooLong:"too_long",UserNotFound:"user_not_found",UserNotSpecified:"user_not_specified",UserRemovedFromTeam:"user_removed_from_team",UsernameEmpty:"username_empty",UsernameTaken:"username_taken",CannotUpdateStatus:"cannot_update_status",PermissionDenied:"permission_denied",UsernameSame:"username_same",InvalidEmojiNotAllowed:"invalid_emoji_not_allowed",InvalidOooMessage:"invalid_ooo_message",InvalidStartsWithAt:"invalid_starts_with_at"},i=(0,m.A)("users.profile.set generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.profile.set",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.profile.set
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersProfileSetFetcher",description:"users.profile.set generated fetcher"}},3006721165:(V,l,c)=>{"use strict";c.d(l,{I:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ActingUserEmailNotVerified:"acting_user_email_not_verified"},i=(0,m.A)("users.listIgnoredUsers generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.listIgnoredUsers",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.listIgnoredUsers
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersListIgnoredUsersFetcher",description:"users.listIgnoredUsers generated fetcher"}},2232592125:(V,l,c)=>{"use strict";c.d(l,{I:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={ActingUserEmailNotVerified:"acting_user_email_not_verified",EmailNotIgnored:"email_not_ignored",InvalidEmail:"invalid_email"},i=(0,m.A)("users.removeUserBlock generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"users.removeUserBlock",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to users.removeUserBlock
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherusersRemoveUserBlockFetcher",description:"users.removeUserBlock generated fetcher"}},5780280082:(V,l,c)=>{"use strict";c.d(l,{o:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={InvalidEntityId:"invalid_entity_id",InvalidApp:"invalid_app",InvalidAppId:"invalid_app_id",MessageNotFound:"message_not_found",ChannelNotFound:"channel_not_found",InvalidEntityDetails:"invalid_entity_details",EntityNotFound:"entity_not_found",NotImplemented:"not_implemented",InternalError:"internal_error",ConnectorNotFound:"connector_not_found",FunctionDisabled:"function_disabled",NotConnected:"not_connected",FunctionNotFound:"function_not_found",InvalidRecordId:"invalid_record_id",FailedToRequestForEntityDetails:"failed_to_request_for_entity_details"},i=(0,m.A)("workObjects.getEntity generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"workObjects.getEntity",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to workObjects.getEntity
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherworkObjectsGetEntityFetcher",description:"workObjects.getEntity generated fetcher"}},1208477694:(V,l,c)=>{"use strict";c.d(l,{B:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnknownMethod:"unknown_method",AccessDenied:"access_denied",CannotTripNonWorkflowFunction:"cannot_trip_non_workflow_function",InvalidAuth:"invalid_auth",InvalidUrl:"invalid_url",InvalidContext:"invalid_context",TriggerNotFound:"trigger_not_found",BuilderTokenNotFound:"builder_token_not_found",FunctionNotFound:"function_not_found",WorkflowNotFound:"workflow_not_found",WorkflowNotPublished:"workflow_not_published",InvalidSpeedbumpCustomizableInputParameters:"invalid_speedbump_customizable_input_parameters",InvalidChannel:"invalid_channel",InvalidMessage:"invalid_message",InvalidBlockId:"invalid_block_id",InvalidActionId:"invalid_action_id",InvalidCanvas:"invalid_canvas",InvalidTriggerType:"invalid_trigger_type"},i=(0,m.A)("workflows.triggers.tripPreCheck generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"workflows.triggers.tripPreCheck",args:u,reason:g})).then(S=>{o((0,a.XK)(S))}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to workflows.triggers.tripPreCheck
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherworkflowsTriggersTripPreCheckFetcher",description:"workflows.triggers.tripPreCheck generated fetcher"}},3001827887:(V,l,c)=>{"use strict";c.d(l,{d:()=>s,e:()=>i});var d=c(1985486637),h=c(9204569428),m=c(3320534337),p=c(2691514942),a=c(2580172240);const s={UnknownMethod:"unknown_method",AccessDenied:"access_denied",CannotTripNonWorkflowFunction:"cannot_trip_non_workflow_function",InvalidUrl:"invalid_url",InvalidContext:"invalid_context",TriggerNotFound:"trigger_not_found",FunctionNotFound:"function_not_found",ParameterValidationFailed:"parameter_validation_failed",InvalidInteractiveTriggerInputs:"invalid_interactive_trigger_inputs",InvalidTriggerInput:"invalid_trigger_input",WorkflowNotPublished:"workflow_not_published",UnableToFindUserInChannelForTrigger:"unable_to_find_user_in_channel_for_trigger",ProviderNotFound:"provider_not_found",MissingOauthToken:"missing_oauth_token",InvalidChannel:"invalid_channel",InvalidMessage:"invalid_message",InvalidBlockId:"invalid_block_id",InvalidActionId:"invalid_action_id",InputTriggerUrlDoesntMatchButtonTriggerUrl:"input_trigger_url_doesnt_match_button_trigger_url",InvalidSpeedbumpCustomizableInputParameters:"invalid_speedbump_customizable_input_parameters",CommunicationDisabled:"communication_disabled",InvalidTriggerType:"invalid_trigger_type",NotOptedIntoOverages:"not_opted_into_overages",ReachedUpperSpendLimit:"reached_upper_spend_limit",FreeTeamNotAllowed:"free_team_not_allowed",PretripAckRequired:"pretrip_ack_required"},i=(0,m.A)("workflows.triggers.trip generated fetcher",(e,t,r)=>new d.S((o,f)=>{const{reason:g,...v}=r,u=(0,a.VA)(v);e((0,h.apiCall)({method:"workflows.triggers.trip",args:u,reason:g})).then(S=>{o(S)}).catch(S=>{(0,p.Ay)({getState:t}).error(`API call to workflows.triggers.trip
						with reason ${g} failed, initiated by generated fetcher`),f(S)})}));i.meta={name:"createFetcher",key:"createFetcherworkflowsTriggersTripFetcher",description:"workflows.triggers.trip generated fetcher"}},133003162:(V,l,c)=>{"use strict";c.d(l,{q:()=>h});const d={Table:"table",Board:"board",Timeline:"timeline",List:"list",Gallery:"gallery",Calendar:"calendar",Map:"map",Record:"record",CanvasInline:"canvas_inline"},h={Table:"table",Board:"board",Timeline:"timeline",List:"list",Gallery:"gallery",Calendar:"calendar",Map:"map",Record:"record",CanvasInline:"canvas_inline"}},881599141:(V,l,c)=>{"use strict";c.d(l,{k:()=>d});const d={NotPaid:"not_paid",InvalidLink:"invalid_link",InviteInactive:"invite_inactive",InviteAlreadyUsed:"invite_already_used",InviteNotAllowed:"invite_not_allowed",AcceptNotAllowed:"accept_not_allowed",OrgsSevered:"orgs_severed",OrgNotVerified:"org_not_verified",UserIsRestricted:"user_is_restricted",InvalidRecipientTeam:"invalid_recipient_team",EmailDoesNotMatch:"email_does_not_match",Generic:"generic",SlackConnectDmNotAllowedOnTeam:"slack_connect_dm_not_allowed_on_team"}},4245328195:(V,l,c)=>{"use strict";c.d(l,{C:()=>d});const d={SlackEntitiesTask:"slack#/entities/task",SlackEntitiesFile:"slack#/entities/file",SlackEntitiesItem:"slack#/entities/item",SlackEntitiesIncident:"slack#/entities/incident",SlackEntitiesContentItem:"slack#/entities/content_item"},h={SlackEntitiesTask:"slack#/entities/task",SlackEntitiesFile:"slack#/entities/file",SlackEntitiesItem:"slack#/entities/item",SlackEntitiesIncident:"slack#/entities/incident",SlackEntitiesContentItem:"slack#/entities/content_item"}},9541240844:(V,l,c)=>{"use strict";c.r(l),c.d(l,{$Command:()=>Li,AllowNotifications:()=>Hh,AssociateChannelFlowCommand:()=>Df,BadRequestException:()=>hc,BatchChannelMembershipsFilterSensitiveLog:()=>ii,BatchCreateChannelMembershipCommand:()=>hu,BatchCreateChannelMembershipResponseFilterSensitiveLog:()=>Pi,ChannelAssociatedWithFlowSummaryFilterSensitiveLog:()=>Pr,ChannelBanFilterSensitiveLog:()=>Or,ChannelBanSummaryFilterSensitiveLog:()=>Yr,ChannelFilterSensitiveLog:()=>zi,ChannelFlowCallbackCommand:()=>Ha,ChannelFlowCallbackRequestFilterSensitiveLog:()=>Da,ChannelFlowFilterSensitiveLog:()=>qr,ChannelFlowSummaryFilterSensitiveLog:()=>ma,ChannelMembershipFilterSensitiveLog:()=>Zs,ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog:()=>Ds,ChannelMembershipPreferencesFilterSensitiveLog:()=>ca,ChannelMembershipSummaryFilterSensitiveLog:()=>Ul,ChannelMembershipType:()=>su,ChannelMessageCallbackFilterSensitiveLog:()=>ks,ChannelMessageFilterSensitiveLog:()=>ol,ChannelMessagePersistenceType:()=>at,ChannelMessageStatus:()=>qe,ChannelMessageSummaryFilterSensitiveLog:()=>Ka,ChannelMessageType:()=>Ze,ChannelMode:()=>ue,ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog:()=>ga,ChannelModeratorFilterSensitiveLog:()=>sl,ChannelModeratorSummaryFilterSensitiveLog:()=>vc,ChannelPrivacy:()=>Se,ChannelSummaryFilterSensitiveLog:()=>qs,ChimeSDKMessaging:()=>U,ChimeSDKMessagingClient:()=>Qs,ChimeSDKMessagingServiceException:()=>Ks,ConflictException:()=>pc,CreateChannelBanCommand:()=>cd,CreateChannelBanResponseFilterSensitiveLog:()=>Sc,CreateChannelCommand:()=>dd,CreateChannelFlowCommand:()=>pu,CreateChannelFlowRequestFilterSensitiveLog:()=>El,CreateChannelMembershipCommand:()=>Ac,CreateChannelMembershipResponseFilterSensitiveLog:()=>yc,CreateChannelModeratorCommand:()=>ud,CreateChannelModeratorResponseFilterSensitiveLog:()=>_c,CreateChannelRequestFilterSensitiveLog:()=>Vl,DeleteChannelBanCommand:()=>Wl,DeleteChannelCommand:()=>fd,DeleteChannelFlowCommand:()=>mu,DeleteChannelMembershipCommand:()=>gu,DeleteChannelMessageCommand:()=>vu,DeleteChannelModeratorCommand:()=>Su,DeleteMessagingStreamingConfigurationsCommand:()=>yu,DescribeChannelBanCommand:()=>_u,DescribeChannelBanResponseFilterSensitiveLog:()=>vf,DescribeChannelCommand:()=>Af,DescribeChannelFlowCommand:()=>hd,DescribeChannelFlowResponseFilterSensitiveLog:()=>bc,DescribeChannelMembershipCommand:()=>pd,DescribeChannelMembershipForAppInstanceUserCommand:()=>Il,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog:()=>lu,DescribeChannelMembershipResponseFilterSensitiveLog:()=>Sf,DescribeChannelModeratedByAppInstanceUserCommand:()=>md,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>td,DescribeChannelModeratorCommand:()=>wl,DescribeChannelModeratorResponseFilterSensitiveLog:()=>Ec,DescribeChannelResponseFilterSensitiveLog:()=>au,DisassociateChannelFlowCommand:()=>gd,ErrorCode:()=>gf,ExpirationCriterion:()=>le,FallbackAction:()=>je,ForbiddenException:()=>mc,GetChannelMembershipPreferencesCommand:()=>vd,GetChannelMembershipPreferencesResponseFilterSensitiveLog:()=>cu,GetChannelMessageCommand:()=>bu,GetChannelMessageResponseFilterSensitiveLog:()=>nd,GetChannelMessageStatusCommand:()=>Sd,GetMessagingSessionEndpointCommand:()=>Oc,GetMessagingStreamingConfigurationsCommand:()=>Eu,IdentityFilterSensitiveLog:()=>Pn,InvocationType:()=>Ee,ListChannelBansCommand:()=>yd,ListChannelBansRequestFilterSensitiveLog:()=>id,ListChannelBansResponseFilterSensitiveLog:()=>yf,ListChannelFlowsCommand:()=>_d,ListChannelFlowsRequestFilterSensitiveLog:()=>Hl,ListChannelFlowsResponseFilterSensitiveLog:()=>rd,ListChannelMembershipsCommand:()=>bd,ListChannelMembershipsForAppInstanceUserCommand:()=>xs,ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog:()=>Bp,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog:()=>Up,ListChannelMembershipsRequestFilterSensitiveLog:()=>Fp,ListChannelMembershipsResponseFilterSensitiveLog:()=>xp,ListChannelMessagesCommand:()=>Rc,ListChannelMessagesRequestFilterSensitiveLog:()=>Vp,ListChannelMessagesResponseFilterSensitiveLog:()=>Hp,ListChannelModeratorsCommand:()=>Ed,ListChannelModeratorsRequestFilterSensitiveLog:()=>Wp,ListChannelModeratorsResponseFilterSensitiveLog:()=>Gp,ListChannelsAssociatedWithChannelFlowCommand:()=>Cd,ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog:()=>$p,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog:()=>Kp,ListChannelsCommand:()=>Dl,ListChannelsModeratedByAppInstanceUserCommand:()=>Mc,ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog:()=>Jp,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>Yp,ListChannelsRequestFilterSensitiveLog:()=>zp,ListChannelsResponseFilterSensitiveLog:()=>jp,ListSubChannelsCommand:()=>Ja,ListSubChannelsRequestFilterSensitiveLog:()=>Xp,ListSubChannelsResponseFilterSensitiveLog:()=>Qp,ListTagsForResourceCommand:()=>Gl,ListTagsForResourceResponseFilterSensitiveLog:()=>Zp,MessageAttributeValueFilterSensitiveLog:()=>$o,MessagingDataType:()=>Tt,NotFoundException:()=>gc,ProcessorFilterSensitiveLog:()=>jo,PushNotificationConfigurationFilterSensitiveLog:()=>_s,PushNotificationPreferencesFilterSensitiveLog:()=>$a,PushNotificationType:()=>ut,PutChannelExpirationSettingsCommand:()=>ll,PutChannelMembershipPreferencesCommand:()=>Cu,PutChannelMembershipPreferencesRequestFilterSensitiveLog:()=>qp,PutChannelMembershipPreferencesResponseFilterSensitiveLog:()=>em,PutMessagingStreamingConfigurationsCommand:()=>Of,RedactChannelMessageCommand:()=>Tu,ResourceLimitExceededException:()=>Y,SearchChannelsCommand:()=>Td,SearchChannelsRequestFilterSensitiveLog:()=>tm,SearchChannelsResponseFilterSensitiveLog:()=>nm,SearchFieldKey:()=>Mn,SearchFieldOperator:()=>Gn,SendChannelMessageCommand:()=>Iu,SendChannelMessageRequestFilterSensitiveLog:()=>im,ServiceFailureException:()=>Bl,ServiceUnavailableException:()=>O,SortOrder:()=>Qt,TagFilterSensitiveLog:()=>ea,TagResourceCommand:()=>Id,TagResourceRequestFilterSensitiveLog:()=>rm,ThrottledClientException:()=>M,UnauthorizedClientException:()=>W,UntagResourceCommand:()=>zl,UntagResourceRequestFilterSensitiveLog:()=>om,UpdateChannelCommand:()=>wu,UpdateChannelFlowCommand:()=>Du,UpdateChannelFlowRequestFilterSensitiveLog:()=>am,UpdateChannelMessageCommand:()=>Au,UpdateChannelMessageRequestFilterSensitiveLog:()=>lm,UpdateChannelReadMarkerCommand:()=>Ou,UpdateChannelRequestFilterSensitiveLog:()=>sm,__Client:()=>$n,paginateListChannelBans:()=>G,paginateListChannelFlows:()=>te,paginateListChannelMemberships:()=>Re,paginateListChannelMembershipsForAppInstanceUser:()=>Te,paginateListChannelMessages:()=>Ie,paginateListChannelModerators:()=>ze,paginateListChannels:()=>Dt,paginateListChannelsAssociatedWithChannelFlow:()=>dt,paginateListChannelsModeratedByAppInstanceUser:()=>ot,paginateListSubChannels:()=>Jt,paginateSearchChannels:()=>rn});const d=n(y=>{let C=y.httpHandler;return{setHttpHandler(D){C=D},httpHandler(){return C},updateHttpClientConfig(D,k){C.updateHttpClientConfig(D,k)},httpHandlerConfigs(){return C.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),h=n(y=>({httpHandler:y.httpHandler()}),"resolveHttpHandlerRuntimeConfig");var m;(function(y){y.HEADER="header",y.QUERY="query"})(m||(m={}));var p;(function(y){y.HEADER="header",y.QUERY="query"})(p||(p={}));var a;(function(y){y.HTTP="http",y.HTTPS="https"})(a||(a={}));var s;(function(y){y.MD5="md5",y.CRC32="crc32",y.CRC32C="crc32c",y.SHA1="sha1",y.SHA256="sha256"})(s||(s={}));const i=n(y=>{const C=[];return y.sha256!==void 0&&C.push({algorithmId:()=>s.SHA256,checksumConstructor:()=>y.sha256}),y.md5!=null&&C.push({algorithmId:()=>s.MD5,checksumConstructor:()=>y.md5}),{_checksumAlgorithms:C,addChecksumAlgorithm(D){this._checksumAlgorithms.push(D)},checksumAlgorithms(){return this._checksumAlgorithms}}},"checksum_getChecksumConfiguration"),e=n(y=>{const C={};return y.checksumAlgorithms().forEach(D=>{C[D.algorithmId()]=D.checksumConstructor()}),C},"checksum_resolveChecksumRuntimeConfig"),t=n(y=>({...getChecksumConfiguration(y)}),"getDefaultClientConfiguration"),r=n(y=>({...resolveChecksumRuntimeConfig(y)}),"resolveDefaultRuntimeConfig");var o;(function(y){y[y.HEADER=0]="HEADER",y[y.TRAILER=1]="TRAILER"})(o||(o={}));const f="__smithy_context";var g;(function(y){y.PROFILE="profile",y.SSO_SESSION="sso-session",y.SERVICES="services"})(g||(g={}));var v;(function(y){y.HTTP_0_9="http/0.9",y.HTTP_1_0="http/1.0",y.TDS_8_0="tds/8.0"})(v||(v={}));class u{constructor({name:C,kind:D=FieldPosition.HEADER,values:k=[]}){this.name=C,this.kind=D,this.values=k}add(C){this.values.push(C)}set(C){this.values=C}remove(C){this.values=this.values.filter(D=>D!==C)}toString(){return this.values.map(C=>C.includes(",")||C.includes(" ")?`"${C}"`:C).join(", ")}get(){return this.values}}n(u,"Field");class S{constructor(C){this.method=C.method||"GET",this.hostname=C.hostname||"localhost",this.port=C.port,this.query=C.query||{},this.headers=C.headers||{},this.body=C.body,this.protocol=C.protocol?C.protocol.slice(-1)!==":"?`${C.protocol}:`:C.protocol:"https:",this.path=C.path?C.path.charAt(0)!=="/"?`/${C.path}`:C.path:"/",this.username=C.username,this.password=C.password,this.fragment=C.fragment}static clone(C){const D=new S({...C,headers:{...C.headers}});return D.query&&(D.query=_(D.query)),D}static isInstance(C){if(!C)return!1;const D=C;return"method"in D&&"protocol"in D&&"hostname"in D&&"path"in D&&typeof D.query=="object"&&typeof D.headers=="object"}clone(){return S.clone(this)}}n(S,"httpRequest_HttpRequest");function _(y){return Object.keys(y).reduce((C,D)=>{const k=y[D];return{...C,[D]:Array.isArray(k)?[...k]:k}},{})}n(_,"cloneQuery");class b{constructor(C){this.statusCode=C.statusCode,this.reason=C.reason,this.headers=C.headers||{},this.body=C.body}static isInstance(C){if(!C)return!1;const D=C;return typeof D.statusCode=="number"&&typeof D.headers=="object"}}n(b,"HttpResponse");function E(y){return y}n(E,"resolveHostHeaderConfig");const T=n(y=>C=>async D=>{if(!S.isInstance(D.request))return C(D);const{request:k}=D,{handlerProtocol:j=""}=y.requestHandler.metadata||{};if(j.indexOf("h2")>=0&&!k.headers[":authority"])delete k.headers.host,k.headers[":authority"]=k.hostname+(k.port?":"+k.port:"");else if(!k.headers.host){let ie=k.hostname;k.port!=null&&(ie+=`:${k.port}`),k.headers.host=ie}return C(D)},"hostHeaderMiddleware"),I={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},A=n(y=>({applyToStack:C=>{C.add(T(y),I)}}),"getHostHeaderPlugin"),w=n(()=>(y,C)=>async D=>{try{var k;const ie=await y(D),{clientName:De,commandName:Le,logger:Qe,dynamoDbDocumentClientOptions:We={}}=C,{overrideInputFilterSensitiveLog:Pt,overrideOutputFilterSensitiveLog:Nt}=We,tn=Pt??C.inputFilterSensitiveLog,ln=Nt??C.outputFilterSensitiveLog,{$metadata:qn,...Fi}=ie.output;return Qe==null||(k=Qe.info)===null||k===void 0||k.call(Qe,{clientName:De,commandName:Le,input:tn(D.input),output:ln(Fi),metadata:qn}),ie}catch(ie){var j;const{clientName:De,commandName:Le,logger:Qe,dynamoDbDocumentClientOptions:We={}}=C,{overrideInputFilterSensitiveLog:Pt}=We,Nt=Pt??C.inputFilterSensitiveLog;throw Qe==null||(j=Qe.error)===null||j===void 0||j.call(Qe,{clientName:De,commandName:Le,input:Nt(D.input),error:ie,metadata:ie.$metadata}),ie}},"loggerMiddleware"),R={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},P=n(y=>({applyToStack:C=>{C.add(w(),R)}}),"getLoggerPlugin"),x="X-Amzn-Trace-Id",z="AWS_LAMBDA_FUNCTION_NAME",Z="_X_AMZN_TRACE_ID",re=n(y=>C=>async D=>{const{request:k}=D;if(!S.isInstance(k)||y.runtime!=="node"||k.headers.hasOwnProperty(x))return C(D);const j={NODE_ENV:"production"}[z],ie={NODE_ENV:"production"}[Z],De=n(Le=>typeof Le=="string"&&Le.length>0,"nonEmptyString");return De(j)&&De(ie)&&(k.headers[x]=ie),C({...D,request:k})},"recursionDetectionMiddleware"),ne={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},he=n(y=>({applyToStack:C=>{C.add(re(y),ne)}}),"getRecursionDetectionPlugin");function ge(y){return{...y,customUserAgent:typeof y.customUserAgent=="string"?[[y.customUserAgent]]:y.customUserAgent}}n(ge,"resolveUserAgentConfig");class Pe{constructor({size:C,params:D}){this.data=new Map,this.parameters=[],this.capacity=C??50,D&&(this.parameters=D)}get(C,D){const k=this.hash(C);if(k===!1)return D();if(!this.data.has(k)){if(this.data.size>this.capacity+10){const j=this.data.keys();let ie=0;for(;;){const{value:De,done:Le}=j.next();if(this.data.delete(De),Le||++ie>10)break}}this.data.set(k,D())}return this.data.get(k)}size(){return this.data.size}hash(C){let D="";const{parameters:k}=this;if(k.length===0)return!1;for(const j of k){const ie=String(C[j]??"");if(ie.includes("|;"))return!1;D+=ie+"|;"}return D}}n(Pe,"EndpointCache");const He=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),pt=n(y=>He.test(y)||y.startsWith("[")&&y.endsWith("]"),"isIpAddress"),Ht=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ke=n((y,C=!1)=>{if(!C)return Ht.test(y);const D=y.split(".");for(const k of D)if(!Ke(k))return!1;return!0},"isValidHostLabel"),it={},ct="endpoints";function rt(y){return typeof y!="object"||y==null?y:"ref"in y?`$${rt(y.ref)}`:"fn"in y?`${y.fn}(${(y.argv||[]).map(rt).join(", ")})`:JSON.stringify(y,null,2)}n(rt,"toDebugString");class _t extends Error{constructor(C){super(C),this.name="EndpointError"}}n(_t,"EndpointError");const Gt=n((y,C)=>y===C,"booleanEquals"),Kt=n(y=>{const C=y.split("."),D=[];for(const k of C){const j=k.indexOf("[");if(j!==-1){if(k.indexOf("]")!==k.length-1)throw new _t(`Path: '${y}' does not end with ']'`);const ie=k.slice(j+1,-1);if(Number.isNaN(parseInt(ie)))throw new _t(`Invalid array index: '${ie}' in path: '${y}'`);j!==0&&D.push(k.slice(0,j)),D.push(ie)}else D.push(k)}return D},"getAttrPathList"),Ye=n((y,C)=>Kt(C).reduce((D,k)=>{if(typeof D!="object")throw new _t(`Index '${k}' in '${C}' not found in '${JSON.stringify(y)}'`);return Array.isArray(D)?D[parseInt(k)]:D[k]},y),"getAttr"),Xe=n(y=>y!=null,"isSet"),It=n(y=>!y,"not"),kt={[a.HTTP]:80,[a.HTTPS]:443},zn={booleanEquals:Gt,getAttr:Ye,isSet:Xe,isValidHostLabel:Ke,not:It,parseURL:n(y=>{const C=(()=>{try{if(y instanceof URL)return y;if(typeof y=="object"&&"hostname"in y){const{hostname:tn,port:ln,protocol:qn="",path:Fi="",query:ci={}}=y,dr=new URL(`${qn}//${tn}${ln?`:${ln}`:""}${Fi}`);return dr.search=Object.entries(ci).map(([kr,Es])=>`${kr}=${Es}`).join("&"),dr}return new URL(y)}catch{return null}})();if(!C)return console.error(`Unable to parse ${JSON.stringify(y)} as a whatwg URL.`),null;const D=C.href,{host:k,hostname:j,pathname:ie,protocol:De,search:Le}=C;if(Le)return null;const Qe=De.slice(0,-1);if(!Object.values(a).includes(Qe))return null;const We=pt(j),Pt=D.includes(`${k}:${kt[Qe]}`)||typeof y=="string"&&y.includes(`${k}:${kt[Qe]}`),Nt=`${k}${Pt?`:${kt[Qe]}`:""}`;return{scheme:Qe,authority:Nt,path:ie,normalizedPath:ie.endsWith("/")?ie:`${ie}/`,isIp:We}},"parseURL"),stringEquals:n((y,C)=>y===C,"stringEquals"),substring:n((y,C,D,k)=>C>=D||y.length<D?null:k?y.substring(y.length-D,y.length-C):y.substring(C,D),"substring"),uriEncode:n(y=>encodeURIComponent(y).replace(/[!*'()]/g,C=>`%${C.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode")},Qn=n((y,C)=>{const D=[],k={...C.endpointParams,...C.referenceRecord};let j=0;for(;j<y.length;){const ie=y.indexOf("{",j);if(ie===-1){D.push(y.slice(j));break}D.push(y.slice(j,ie));const De=y.indexOf("}",ie);if(De===-1){D.push(y.slice(ie));break}y[ie+1]==="{"&&y[De+1]==="}"&&(D.push(y.slice(ie+1,De)),j=De+2);const Le=y.substring(ie+1,De);if(Le.includes("#")){const[Qe,We]=Le.split("#");D.push(Ye(k[Qe],We))}else D.push(k[Le]);j=De+1}return D.join("")},"evaluateTemplate"),Sn=n(({ref:y},C)=>({...C.endpointParams,...C.referenceRecord})[y],"getReferenceValue"),Zn=n((y,C,D)=>{if(typeof y=="string")return Qn(y,D);if(y.fn)return lr(y,D);if(y.ref)return Sn(y,D);throw new _t(`'${C}': ${String(y)} is not a string, function or reference.`)},"evaluateExpression"),lr=n(({fn:y,argv:C},D)=>{const k=C.map(ie=>["boolean","number"].includes(typeof ie)?ie:Zn(ie,"arg",D)),j=y.split(".");return j[0]in it&&j[1]!=null?it[j[0]][j[1]](...k):zn[y](...k)},"callFunction"),ui=n(({assign:y,...C},D)=>{var j,ie;if(y&&y in D.referenceRecord)throw new _t(`'${y}' is already defined in Reference Record.`);const k=lr(C,D);return(ie=(j=D.logger)==null?void 0:j.debug)==null||ie.call(j,`${ct} evaluateCondition: ${rt(C)} = ${rt(k)}`),{result:k===""?!0:!!k,...y!=null&&{toAssign:{name:y,value:k}}}},"evaluateCondition"),fi=n((y=[],C)=>{var k,j;const D={};for(const ie of y){const{result:De,toAssign:Le}=ui(ie,{...C,referenceRecord:{...C.referenceRecord,...D}});if(!De)return{result:De};Le&&(D[Le.name]=Le.value,(j=(k=C.logger)==null?void 0:k.debug)==null||j.call(k,`${ct} assign: ${Le.name} := ${rt(Le.value)}`))}return{result:!0,referenceRecord:D}},"evaluateConditions"),Vn=n((y,C)=>Object.entries(y).reduce((D,[k,j])=>({...D,[k]:j.map(ie=>{const De=Zn(ie,"Header value entry",C);if(typeof De!="string")throw new _t(`Header '${k}' value '${De}' is not a string`);return De})}),{}),"getEndpointHeaders"),In=n((y,C)=>{if(Array.isArray(y))return y.map(D=>In(D,C));switch(typeof y){case"string":return Qn(y,C);case"object":if(y===null)throw new _t(`Unexpected endpoint property: ${y}`);return wi(y,C);case"boolean":return y;default:throw new _t(`Unexpected endpoint property type: ${typeof y}`)}},"getEndpointProperty"),wi=n((y,C)=>Object.entries(y).reduce((D,[k,j])=>({...D,[k]:In(j,C)}),{}),"getEndpointProperties"),_n=n((y,C)=>{const D=Zn(y,"Endpoint URL",C);if(typeof D=="string")try{return new URL(D)}catch(k){throw console.error(`Failed to construct URL with ${D}`,k),k}throw new _t(`Endpoint URL must be a string, got ${typeof D}`)},"getEndpointUrl"),An=n((y,C)=>{var Pt,Nt;const{conditions:D,endpoint:k}=y,{result:j,referenceRecord:ie}=fi(D,C);if(!j)return;const De={...C,referenceRecord:{...C.referenceRecord,...ie}},{url:Le,properties:Qe,headers:We}=k;return(Nt=(Pt=C.logger)==null?void 0:Pt.debug)==null||Nt.call(Pt,`${ct} Resolving endpoint from template: ${rt(k)}`),{...We!=null&&{headers:Vn(We,De)},...Qe!=null&&{properties:wi(Qe,De)},url:_n(Le,De)}},"evaluateEndpointRule"),sn=n((y,C)=>{const{conditions:D,error:k}=y,{result:j,referenceRecord:ie}=fi(D,C);if(j)throw new _t(Zn(k,"Error",{...C,referenceRecord:{...C.referenceRecord,...ie}}))},"evaluateErrorRule"),Q=n((y,C)=>{const{conditions:D,rules:k}=y,{result:j,referenceRecord:ie}=fi(D,C);if(j)return lt(k,{...C,referenceRecord:{...C.referenceRecord,...ie}})},"evaluateTreeRule"),lt=n((y,C)=>{for(const D of y)if(D.type==="endpoint"){const k=An(D,C);if(k)return k}else if(D.type==="error")sn(D,C);else if(D.type==="tree"){const k=Q(D,C);if(k)return k}else throw new _t(`Unknown endpoint rule: ${D}`);throw new _t("Rules evaluation failed")},"evaluateRules"),mt=n((y,C)=>{var We,Pt,Nt,tn;const{endpointParams:D,logger:k}=C,{parameters:j,rules:ie}=y;(Pt=(We=C.logger)==null?void 0:We.debug)==null||Pt.call(We,`${ct} Initial EndpointParams: ${rt(D)}`);const De=Object.entries(j).filter(([,ln])=>ln.default!=null).map(([ln,qn])=>[ln,qn.default]);if(De.length>0)for(const[ln,qn]of De)D[ln]=D[ln]??qn;const Le=Object.entries(j).filter(([,ln])=>ln.required).map(([ln])=>ln);for(const ln of Le)if(D[ln]==null)throw new _t(`Missing required parameter: '${ln}'`);const Qe=lt(ie,{endpointParams:D,logger:k,referenceRecord:{}});return(tn=(Nt=C.logger)==null?void 0:Nt.debug)==null||tn.call(Nt,`${ct} Resolved endpoint: ${rt(Qe)}`),Qe},"resolveEndpoint"),bt=n(function(y){if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){for(const D of y.split("."))if(!bt(D))return!1;return!0}return!(!Ke(y)||y.length<3||y.length>63||y!==y.toLowerCase()||pt(y))},"isVirtualHostableS3Bucket"),At=":",Wt="/",we=n(y=>{const C=y.split(At);if(C.length<6)return null;const[D,k,j,ie,De,...Le]=C;if(D!=="arn"||k===""||j===""||Le.join(At)==="")return null;const Qe=Le.map(We=>We.split(Wt)).flat();return{partition:k,service:j,region:ie,accountId:De,resourceId:Qe}},"parseArn");var ht=c(1209174152),K=c.n(ht);let se=K(),Ve="";const Be=n(y=>{const{partitions:C}=se;for(const k of C){const{regions:j,outputs:ie}=k;for(const[De,Le]of Object.entries(j))if(De===y)return{...ie,...Le}}for(const k of C){const{regionRegex:j,outputs:ie}=k;if(new RegExp(j).test(y))return{...ie}}const D=C.find(k=>k.id==="aws");if(!D)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...D.outputs}},"partition"),Yt=n(function(y){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";se=y,Ve=C},"setPartitionInfo"),yt=n(()=>{Yt(partitionsInfo,"")},"useDefaultPartitionInfo"),Bt=n(()=>Ve,"getUserAgentPrefix"),ke={isVirtualHostableS3Bucket:bt,parseArn:we,partition:Be};it.aws=ke;const Je="user-agent",B="x-amz-user-agent",Fe=" ",fe="/",ve=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ee=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Et="-",Ne=n(y=>(C,D)=>async k=>{var j,ie;const{request:De}=k;if(!S.isInstance(De))return C(k);const{headers:Le}=De,Qe=(D==null||(j=D.userAgent)===null||j===void 0?void 0:j.map(st))||[],We=(await y.defaultUserAgentProvider()).map(st),Pt=(y==null||(ie=y.customUserAgent)===null||ie===void 0?void 0:ie.map(st))||[],Nt=Bt(),tn=(Nt?[Nt]:[]).concat([...We,...Qe,...Pt]).join(Fe),ln=[...We.filter(qn=>qn.startsWith("aws-sdk-")),...Pt].join(Fe);return y.runtime!=="browser"?(ln&&(Le[B]=Le[B]?`${Le[Je]} ${ln}`:ln),Le[Je]=tn):Le[B]=tn,C({...k,request:De})},"userAgentMiddleware"),st=n(y=>{var C;const D=y[0].split(fe).map(Le=>Le.replace(ve,Et)).join(fe),k=(C=y[1])===null||C===void 0?void 0:C.replace(ee,Et),j=D.indexOf(fe),ie=D.substring(0,j);let De=D.substring(j+1);return ie==="api"&&(De=De.toLowerCase()),[ie,De,k].filter(Le=>Le&&Le.length>0).reduce((Le,Qe,We)=>{switch(We){case 0:return Qe;case 1:return`${Le}/${Qe}`;default:return`${Le}#${Qe}`}},"")},"escapeUserAgent"),on={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},$t=n(y=>({applyToStack:C=>{C.add(Ne(y),on)}}),"getUserAgentPlugin"),yi=n((y,C,D)=>{if(C in y){if(y[C]==="true")return!0;if(y[C]==="false")return!1;throw new Error(`Cannot load ${D} "${C}". Expected "true" or "false", got ${y[C]}.`)}},"booleanSelector");var mi;(function(y){y.ENV="env",y.CONFIG="shared config entry"})(mi||(mi={}));const ri="AWS_USE_DUALSTACK_ENDPOINT",ti="use_dualstack_endpoint",Zt=!1,mn={environmentVariableSelector:y=>yi(y,ri,mi.ENV),configFileSelector:y=>yi(y,ti,mi.CONFIG),default:!1},Ui="AWS_USE_FIPS_ENDPOINT",Er="use_fips_endpoint",Dn=!1,nn={environmentVariableSelector:y=>yi(y,Ui,mi.ENV),configFileSelector:y=>yi(y,Er,mi.CONFIG),default:!1},ni=n(y=>y[f]||(y[f]={}),"getSmithyContext"),oi=n(y=>{if(typeof y=="function")return y;const C=Promise.resolve(y);return()=>C},"normalizeProvider_normalizeProvider"),Ji=n(y=>{const{endpoint:C,urlParser:D}=y;return{...y,tls:y.tls??!0,endpoint:normalizeProvider(typeof C=="string"?D(C):C),isCustomEndpoint:!0,useDualstackEndpoint:normalizeProvider(y.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),Qi=n(y=>{const C=normalizeProvider(y.useDualstackEndpoint??!1),{endpoint:D,useFipsEndpoint:k,urlParser:j}=y;return{...y,tls:y.tls??!0,endpoint:D?normalizeProvider(typeof D=="string"?j(D):D):()=>getEndpointFromRegion({...y,useDualstackEndpoint:C,useFipsEndpoint:k}),isCustomEndpoint:!!D,useDualstackEndpoint:C}},"resolveEndpointsConfig"),Ei="AWS_REGION",Jn="region",Sr={environmentVariableSelector:y=>y[Ei],configFileSelector:y=>y[Jn],default:()=>{throw new Error("Region is missing")}},cr={preferredFile:"credentials"},Dr=n(y=>typeof y=="string"&&(y.startsWith("fips-")||y.endsWith("-fips")),"isFipsRegion"),Yi=n(y=>Dr(y)?["fips-aws-global","aws-fips"].includes(y)?"us-east-1":y.replace(/fips-(dkr-|prod-)?|-fips/,""):y,"getRealRegion"),io=n(y=>{const{region:C,useFipsEndpoint:D}=y;if(!C)throw new Error("Region is missing");return{...y,region:async()=>{if(typeof C=="string")return Yi(C);const k=await C();return Yi(k)},useFipsEndpoint:async()=>{const k=typeof C=="string"?C:await C();return Dr(k)?!0:typeof D!="function"?Promise.resolve(!!D):D()}}},"resolveRegionConfig");function sr(y){const C=new Map;for(const D of y)C.set(D.schemeId,D);return C}n(sr,"convertHttpAuthSchemesToMap");const lo=n((y,C)=>(D,k)=>async j=>{var We;const ie=y.httpAuthSchemeProvider(await C.httpAuthSchemeParametersProvider(y,k,j.input)),De=sr(y.httpAuthSchemes),Le=ni(k),Qe=[];for(const Pt of ie){const Nt=De.get(Pt.schemeId);if(!Nt){Qe.push(`HttpAuthScheme \`${Pt.schemeId}\` was not enabled for this service.`);continue}const tn=Nt.identityProvider(await C.identityProviderConfigProvider(y));if(!tn){Qe.push(`HttpAuthScheme \`${Pt.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:ln={},signingProperties:qn={}}=((We=Pt.propertiesExtractor)==null?void 0:We.call(Pt,y,k))||{};Pt.identityProperties=Object.assign(Pt.identityProperties||{},ln),Pt.signingProperties=Object.assign(Pt.signingProperties||{},qn),Le.selectedHttpAuthScheme={httpAuthOption:Pt,identity:await tn(Pt.identityProperties),signer:Nt.signer};break}if(!Le.selectedHttpAuthScheme)throw new Error(Qe.join(`
`));return D(j)},"httpAuthSchemeMiddleware_httpAuthSchemeMiddleware"),Gi=n(async y=>{const C=(y==null?void 0:y.Bucket)||"";if(typeof y.Bucket=="string"&&(y.Bucket=C.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Yn(C)){if(y.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gn(C)||C.indexOf(".")!==-1&&!String(y.Endpoint).startsWith("http:")||C.toLowerCase()!==C||C.length<3)&&(y.ForcePathStyle=!0);return y.DisableMultiRegionAccessPoints&&(y.disableMultiRegionAccessPoints=!0,y.DisableMRAP=!0),y},"resolveParamsForS3"),ji=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,F=/(\d+\.){3}\d+/,_e=/\.\./,tt=/\./,zt=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,gn=n(y=>ji.test(y)&&!F.test(y)&&!_e.test(y),"isDnsCompatibleBucketName"),Yn=n(y=>{const[C,D,k,,,j]=y.split(":"),ie=C==="arn"&&y.split(":").length>=6,De=Boolean(ie&&D&&k&&j);if(ie&&!De)throw new Error(`Invalid ARN: ${y} was an invalid ARN.`);return De},"isArnBucketName"),bi=n((y,C,D)=>{const k=n(async()=>{const j=D[y]??D[C];return typeof j=="function"?j():j},"configProvider");return y==="credentialScope"||C==="CredentialScope"?async()=>{const j=typeof D.credentials=="function"?await D.credentials():D.credentials;return(j==null?void 0:j.credentialScope)??(j==null?void 0:j.CredentialScope)}:y==="accountId"||C==="AccountId"?async()=>{const j=typeof D.credentials=="function"?await D.credentials():D.credentials;return(j==null?void 0:j.accountId)??(j==null?void 0:j.AccountId)}:y==="endpoint"||C==="endpoint"?async()=>{const j=await k();if(j&&typeof j=="object"){if("url"in j)return j.url.href;if("hostname"in j){const{protocol:ie,hostname:De,port:Le,path:Qe}=j;return`${ie}//${De}${Le?":"+Le:""}${Qe}`}}return j}:k},"createConfigValueProvider"),ei=n(async y=>{},"getEndpointFromConfig");function si(y){const C={};if(y=y.replace(/^\?/,""),y)for(const D of y.split("&")){let[k,j=null]=D.split("=");k=decodeURIComponent(k),j&&(j=decodeURIComponent(j)),k in C?Array.isArray(C[k])?C[k].push(j):C[k]=[C[k],j]:C[k]=j}return C}n(si,"parseQueryString");const Si=n(y=>{if(typeof y=="string")return Si(new URL(y));const{hostname:C,pathname:D,port:k,protocol:j,search:ie}=y;let De;return ie&&(De=si(ie)),{hostname:C,port:k?parseInt(k):void 0,protocol:j,path:D,query:De}},"parseUrl"),Ai=n(y=>typeof y=="object"?"url"in y?Si(y.url):y:Si(y),"toEndpointV1"),tr=n(async(y,C,D,k)=>{if(!D.endpoint){let De;D.serviceConfiguredEndpoint?De=await D.serviceConfiguredEndpoint():De=await ei(D.serviceId),De&&(D.endpoint=()=>Promise.resolve(Ai(De)))}const j=await hr(y,C,D);if(typeof D.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return D.endpointProvider(j,k)},"getEndpointFromInstructions"),hr=n(async(y,C,D)=>{var ie;const k={},j=((ie=C==null?void 0:C.getEndpointParameterInstructions)==null?void 0:ie.call(C))||{};for(const[De,Le]of Object.entries(j))switch(Le.type){case"staticContextParams":k[De]=Le.value;break;case"contextParams":k[De]=y[Le.name];break;case"clientContextParams":case"builtInParams":k[De]=await bi(Le.name,De,D)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(Le))}return Object.keys(j).length===0&&Object.assign(k,D),String(D.serviceId).toLowerCase()==="s3"&&await Gi(k),k},"resolveParams"),Ar=n(({config:y,instructions:C})=>(D,k)=>async j=>{var Le,Qe,We;const ie=await tr(j.input,{getEndpointParameterInstructions(){return C}},{...y},k);k.endpointV2=ie,k.authSchemes=(Le=ie.properties)==null?void 0:Le.authSchemes;const De=(Qe=k.authSchemes)==null?void 0:Qe[0];if(De){k.signing_region=De.signingRegion,k.signing_service=De.signingName;const Pt=ni(k),Nt=(We=Pt==null?void 0:Pt.selectedHttpAuthScheme)==null?void 0:We.httpAuthOption;Nt&&(Nt.signingProperties=Object.assign(Nt.signingProperties||{},{signing_region:De.signingRegion,signingRegion:De.signingRegion,signing_service:De.signingName,signingName:De.signingName,signingRegionSet:De.signingRegionSet},De.properties))}return D({...j})},"endpointMiddleware"),co=n((y,C)=>D=>async k=>{const{response:j}=await D(k);try{const ie=await C(j,y);return{response:j,output:ie}}catch(ie){if(Object.defineProperty(ie,"$response",{value:j}),!("$metadata"in ie)){const De="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";ie.message+=`
  `+De,typeof ie.$responseBodyText<"u"&&ie.$response&&(ie.$response.body=ie.$responseBodyText)}throw ie}},"deserializerMiddleware"),hi=n((y,C)=>(D,k)=>async j=>{var Le;const ie=(Le=k.endpointV2)!=null&&Le.url&&y.urlParser?async()=>y.urlParser(k.endpointV2.url):y.endpoint;if(!ie)throw new Error("No valid endpoint provider available.");const De=await C(j.input,{...y,endpoint:ie});return D({...j,request:De})},"serializerMiddleware"),$r={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},to={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function vi(y,C,D){return{applyToStack:k=>{k.add(co(y,D),$r),k.add(hi(y,C),to)}}}n(vi,"getSerdePlugin");const vn={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:to.name},Oi=n((y,C)=>({applyToStack:D=>{D.addRelativeTo(Ar({config:y,instructions:C}),vn)}}),"getEndpointPlugin"),Zo=n(y=>{const C=y.tls??!0,{endpoint:D}=y,k=D!=null?async()=>Ai(await oi(D)()):void 0,ie={...y,endpoint:k,tls:C,isCustomEndpoint:!!D,useDualstackEndpoint:oi(y.useDualstackEndpoint??!1),useFipsEndpoint:oi(y.useFipsEndpoint??!1)};let De;return ie.serviceConfiguredEndpoint=async()=>(y.serviceId&&!De&&(De=ei(y.serviceId)),De),ie},"resolveEndpointConfig"),uo={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:vn.name},Ko=n((y,{httpAuthSchemeParametersProvider:C,identityProviderConfigProvider:D})=>({applyToStack:k=>{k.addRelativeTo(lo(y,{httpAuthSchemeParametersProvider:C,identityProviderConfigProvider:D}),uo)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),Ho={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:to.name},pe=n((y,{httpAuthSchemeParametersProvider:C,identityProviderConfigProvider:D})=>({applyToStack:k=>{k.addRelativeTo(httpAuthSchemeMiddleware(y,{httpAuthSchemeParametersProvider:C,identityProviderConfigProvider:D}),Ho)}}),"getHttpAuthSchemePlugin"),Ae=n(y=>C=>{throw C},"defaultErrorHandler"),Ue=n((y,C)=>{},"defaultSuccessHandler"),vt=n(y=>(C,D)=>async k=>{if(!S.isInstance(k.request))return C(k);const ie=ni(D).selectedHttpAuthScheme;if(!ie)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:De={}},identity:Le,signer:Qe}=ie,We=await C({...k,request:await Qe.sign(k.request,Le,De)}).catch((Qe.errorHandler||Ae)(De));return(Qe.successHandler||Ue)(We.response,De),We},"httpSigningMiddleware");var Lt;(function(y){y.STANDARD="standard",y.ADAPTIVE="adaptive"})(Lt||(Lt={}));const xt=3,Cn=Lt.STANDARD,Nn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Xn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Un=["TimeoutError","RequestTimeout","RequestTimeoutException"],Ti=[500,502,503,504],Tn=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],qi=n(y=>y.$retryable!==void 0,"isRetryableByTrait"),_i=n(y=>Nn.includes(y.name),"isClockSkewError"),Nr=n(y=>{var C;return(C=y.$metadata)==null?void 0:C.clockSkewCorrected},"isClockSkewCorrectedError"),Ur=n(y=>{var C,D;return((C=y.$metadata)==null?void 0:C.httpStatusCode)===429||Xn.includes(y.name)||((D=y.$retryable)==null?void 0:D.throttling)==!0},"isThrottlingError"),Gr=n(y=>{var C;return Nr(y)||Un.includes(y.name)||Tn.includes((y==null?void 0:y.code)||"")||Ti.includes(((C=y.$metadata)==null?void 0:C.httpStatusCode)||0)},"isTransientError"),ki=n(y=>{var C;if(((C=y.$metadata)==null?void 0:C.httpStatusCode)!==void 0){const D=y.$metadata.httpStatusCode;return 500<=D&&D<=599&&!Gr(y)}return!1},"isServerError");class Vi{constructor(C){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(C==null?void 0:C.beta)??.7,this.minCapacity=(C==null?void 0:C.minCapacity)??1,this.minFillRate=(C==null?void 0:C.minFillRate)??.5,this.scaleConstant=(C==null?void 0:C.scaleConstant)??.4,this.smooth=(C==null?void 0:C.smooth)??.8;const D=this.getCurrentTimeInSeconds();this.lastThrottleTime=D,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(C){if(this.enabled){if(this.refillTokenBucket(),C>this.currentCapacity){const D=(C-this.currentCapacity)/this.fillRate*1e3;await new Promise(k=>setTimeout(k,D))}this.currentCapacity=this.currentCapacity-C}}refillTokenBucket(){const C=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=C;return}const D=(C-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+D),this.lastTimestamp=C}updateClientSendingRate(C){let D;if(this.updateMeasuredRate(),Ur(C)){const j=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=j,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),D=this.cubicThrottle(j),this.enableTokenBucket()}else this.calculateTimeWindow(),D=this.cubicSuccess(this.getCurrentTimeInSeconds());const k=Math.min(D,2*this.measuredTxRate);this.updateTokenBucketRate(k)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(C){return this.getPrecise(C*this.beta)}cubicSuccess(C){return this.getPrecise(this.scaleConstant*Math.pow(C-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(C){this.refillTokenBucket(),this.fillRate=Math.max(C,this.minFillRate),this.maxCapacity=Math.max(C,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const C=this.getCurrentTimeInSeconds(),D=Math.floor(C*2)/2;if(this.requestCount++,D>this.lastTxRateBucket){const k=this.requestCount/(D-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(k*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=D}}getPrecise(C){return parseFloat(C.toFixed(8))}}n(Vi,"DefaultRateLimiter");const Zi=100,_r=20*1e3,Hr=500,Eo=500,er=5,Co=10,Fr=1,no="amz-sdk-invocation-id",Is="amz-sdk-request",As=n(()=>{let y=Zi;return{computeNextBackoffDelay:n(k=>Math.floor(Math.min(_r,Math.random()*2**k*y)),"computeNextBackoffDelay"),setDelayBase:n(k=>{y=k},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),ms=n(({retryDelay:y,retryCount:C,retryCost:D})=>({getRetryCount:n(()=>C,"getRetryCount"),getRetryDelay:n(()=>Math.min(_r,y),"getRetryDelay"),getRetryCost:n(()=>D,"getRetryCost")}),"createDefaultRetryToken");class cs{constructor(C){this.maxAttempts=C,this.mode=Lt.STANDARD,this.capacity=Eo,this.retryBackoffStrategy=As(),this.maxAttemptsProvider=typeof C=="function"?C:async()=>C}async acquireInitialRetryToken(C){return ms({retryDelay:Zi,retryCount:0})}async refreshRetryTokenForRetry(C,D){const k=await this.getMaxAttempts();if(this.shouldRetry(C,D,k)){const j=D.errorType;this.retryBackoffStrategy.setDelayBase(j==="THROTTLING"?Hr:Zi);const ie=this.retryBackoffStrategy.computeNextBackoffDelay(C.getRetryCount()),De=D.retryAfterHint?Math.max(D.retryAfterHint.getTime()-Date.now()||0,ie):ie,Le=this.getCapacityCost(j);return this.capacity-=Le,ms({retryDelay:De,retryCount:C.getRetryCount()+1,retryCost:Le})}throw new Error("No retry token available")}recordSuccess(C){this.capacity=Math.max(Eo,this.capacity+(C.getRetryCost()??Fr))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${xt}`),xt}}shouldRetry(C,D,k){return C.getRetryCount()+1<k&&this.capacity>=this.getCapacityCost(D.errorType)&&this.isRetryableError(D.errorType)}getCapacityCost(C){return C==="TRANSIENT"?Co:er}isRetryableError(C){return C==="THROTTLING"||C==="TRANSIENT"}}n(cs,"StandardRetryStrategy");class Os{constructor(C,D){this.maxAttemptsProvider=C,this.mode=Lt.ADAPTIVE;const{rateLimiter:k}=D??{};this.rateLimiter=k??new Vi,this.standardRetryStrategy=new cs(C)}async acquireInitialRetryToken(C){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(C)}async refreshRetryTokenForRetry(C,D){return this.rateLimiter.updateClientSendingRate(D),this.standardRetryStrategy.refreshRetryTokenForRetry(C,D)}recordSuccess(C){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(C)}}n(Os,"AdaptiveRetryStrategy");class qo extends cs{constructor(C,D=Zi){super(typeof C=="function"?C:async()=>C),typeof D=="number"?this.computeNextBackoffDelay=()=>D:this.computeNextBackoffDelay=D}async refreshRetryTokenForRetry(C,D){const k=await super.refreshRetryTokenForRetry(C,D);return k.getRetryDelay=()=>this.computeNextBackoffDelay(k.getRetryCount()),k}}n(qo,"ConfiguredRetryStrategy");const No={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Wo;const Fo=new Uint8Array(16);function yo(){if(!Wo&&(Wo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wo(Fo)}n(yo,"rng");const fo=[];for(let y=0;y<256;++y)fo.push((y+256).toString(16).slice(1));function Po(y,C=0){return fo[y[C+0]]+fo[y[C+1]]+fo[y[C+2]]+fo[y[C+3]]+"-"+fo[y[C+4]]+fo[y[C+5]]+"-"+fo[y[C+6]]+fo[y[C+7]]+"-"+fo[y[C+8]]+fo[y[C+9]]+"-"+fo[y[C+10]]+fo[y[C+11]]+fo[y[C+12]]+fo[y[C+13]]+fo[y[C+14]]+fo[y[C+15]]}n(Po,"unsafeStringify");function ia(y,C=0){const D=Po(y,C);if(!validate(D))throw TypeError("Stringified UUID is invalid");return D}n(ia,"stringify");const is=null;function Go(y,C,D){if(No.randomUUID&&!C&&!y)return No.randomUUID();y=y||{};const k=y.random||(y.rng||yo)();if(k[6]=k[6]&15|64,k[8]=k[8]&63|128,C){D=D||0;for(let j=0;j<16;++j)C[D+j]=k[j];return C}return Po(k)}n(Go,"v4");const gs=Go,ro=n((y,C)=>{const D=y,k=(C==null?void 0:C.noRetryIncrement)??Fr,j=(C==null?void 0:C.retryCost)??er,ie=(C==null?void 0:C.timeoutRetryCost)??Co;let De=y;const Le=n(Nt=>Nt.name==="TimeoutError"?ie:j,"getCapacityAmount"),Qe=n(Nt=>Le(Nt)<=De,"hasRetryTokens");return Object.freeze({hasRetryTokens:Qe,retrieveRetryTokens:n(Nt=>{if(!Qe(Nt))throw new Error("No retry token available");const tn=Le(Nt);return De-=tn,tn},"retrieveRetryTokens"),releaseRetryTokens:n(Nt=>{De+=Nt??k,De=Math.min(De,D)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Oo=n((y,C)=>Math.floor(Math.min(_r,Math.random()*2**C*y)),"defaultDelayDecider"),Ao=n(y=>y?qi(y)||_i(y)||Ur(y)||Gr(y):!1,"defaultRetryDecider"),Jo=n(y=>y instanceof Error?y:y instanceof Object?Object.assign(new Error,y):typeof y=="string"?new Error(y):new Error(`AWS SDK error wrapper for ${y}`),"asSdkError");class xo{constructor(C,D){this.maxAttemptsProvider=C,this.mode=Lt.STANDARD,this.retryDecider=(D==null?void 0:D.retryDecider)??Ao,this.delayDecider=(D==null?void 0:D.delayDecider)??Oo,this.retryQuota=(D==null?void 0:D.retryQuota)??ro(Eo)}shouldRetry(C,D,k){return D<k&&this.retryDecider(C)&&this.retryQuota.hasRetryTokens(C)}async getMaxAttempts(){let C;try{C=await this.maxAttemptsProvider()}catch{C=xt}return C}async retry(C,D,k){let j,ie=0,De=0;const Le=await this.getMaxAttempts(),{request:Qe}=D;for(S.isInstance(Qe)&&(Qe.headers[no]=gs());;)try{S.isInstance(Qe)&&(Qe.headers[Is]=`attempt=${ie+1}; max=${Le}`),k!=null&&k.beforeRequest&&await k.beforeRequest();const{response:We,output:Pt}=await C(D);return k!=null&&k.afterRequest&&k.afterRequest(We),this.retryQuota.releaseRetryTokens(j),Pt.$metadata.attempts=ie+1,Pt.$metadata.totalRetryDelay=De,{response:We,output:Pt}}catch(We){const Pt=Jo(We);if(ie++,this.shouldRetry(Pt,ie,Le)){j=this.retryQuota.retrieveRetryTokens(Pt);const Nt=this.delayDecider(Ur(Pt)?Hr:Zi,ie),tn=ra(Pt.$response),ln=Math.max(tn||0,Nt);De+=ln,await new Promise(qn=>setTimeout(qn,ln));continue}throw Pt.$metadata||(Pt.$metadata={}),Pt.$metadata.attempts=ie,Pt.$metadata.totalRetryDelay=De,Pt}}}n(xo,"StandardRetryStrategy_StandardRetryStrategy");const ra=n(y=>{if(!b.isInstance(y))return;const C=Object.keys(y.headers).find(ie=>ie.toLowerCase()==="retry-after");if(!C)return;const D=y.headers[C],k=Number(D);return Number.isNaN(k)?new Date(D).getTime()-Date.now():k*1e3},"getDelayFromRetryAfterHeader");class de extends xo{constructor(C,D){const{rateLimiter:k,...j}=D??{};super(C,j),this.rateLimiter=k??new Vi,this.mode=Lt.ADAPTIVE}async retry(C,D){return super.retry(C,D,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:k=>{this.rateLimiter.updateClientSendingRate(k)}})}}n(de,"AdaptiveRetryStrategy_AdaptiveRetryStrategy");const ye="AWS_MAX_ATTEMPTS",Me="max_attempts",Ge={environmentVariableSelector:y=>{const C=y[ye];if(!C)return;const D=parseInt(C);if(Number.isNaN(D))throw new Error(`Environment variable ${ye} mast be a number, got "${C}"`);return D},configFileSelector:y=>{const C=y[Me];if(!C)return;const D=parseInt(C);if(Number.isNaN(D))throw new Error(`Shared config file entry ${Me} mast be a number, got "${C}"`);return D},default:xt},nt=n(y=>{const{retryStrategy:C}=y,D=oi(y.maxAttempts??xt);return{...y,maxAttempts:D,retryStrategy:async()=>C||(await oi(y.retryMode)()===Lt.ADAPTIVE?new Os(D):new cs(D))}},"resolveRetryConfig"),Ut="AWS_RETRY_MODE",wt="retry_mode",dn={environmentVariableSelector:y=>y[Ut],configFileSelector:y=>y[wt],default:Cn},cn=n(()=>y=>async C=>{const{request:D}=C;return HttpRequest.isInstance(D)&&(delete D.headers[INVOCATION_ID_HEADER],delete D.headers[REQUEST_HEADER]),y(C)},"omitRetryHeadersMiddleware"),bn={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},hn=n(y=>({applyToStack:C=>{C.addRelativeTo(cn(),bn)}}),"getOmitRetryHeadersPlugin"),Fn=n((y,C)=>{const D=[];if(y&&D.push(y),C)for(const k of C)D.push(k);return D},"getAllAliases"),xn=n((y,C)=>`${y||"anonymous"}${C&&C.length>0?` (a.k.a. ${C.join(",")})`:""}`,"getMiddlewareNameWithAliases"),jn=n(()=>{let y=[],C=[],D=!1;const k=new Set,j=n(Nt=>Nt.sort((tn,ln)=>pi[ln.step]-pi[tn.step]||ai[ln.priority||"normal"]-ai[tn.priority||"normal"]),"sort"),ie=n(Nt=>{let tn=!1;const ln=n(qn=>{const Fi=Fn(qn.name,qn.aliases);if(Fi.includes(Nt)){tn=!0;for(const ci of Fi)k.delete(ci);return!1}return!0},"filterCb");return y=y.filter(ln),C=C.filter(ln),tn},"removeByName"),De=n(Nt=>{let tn=!1;const ln=n(qn=>{if(qn.middleware===Nt){tn=!0;for(const Fi of Fn(qn.name,qn.aliases))k.delete(Fi);return!1}return!0},"filterCb");return y=y.filter(ln),C=C.filter(ln),tn},"removeByReference"),Le=n(Nt=>{var tn;return y.forEach(ln=>{Nt.add(ln.middleware,{...ln})}),C.forEach(ln=>{Nt.addRelativeTo(ln.middleware,{...ln})}),(tn=Nt.identifyOnResolve)==null||tn.call(Nt,Pt.identifyOnResolve()),Nt},"cloneTo"),Qe=n(Nt=>{const tn=[];return Nt.before.forEach(ln=>{ln.before.length===0&&ln.after.length===0?tn.push(ln):tn.push(...Qe(ln))}),tn.push(Nt),Nt.after.reverse().forEach(ln=>{ln.before.length===0&&ln.after.length===0?tn.push(ln):tn.push(...Qe(ln))}),tn},"expandRelativeMiddlewareList"),We=n((Nt=!1)=>{const tn=[],ln=[],qn={};return y.forEach(ci=>{const dr={...ci,before:[],after:[]};for(const kr of Fn(dr.name,dr.aliases))qn[kr]=dr;tn.push(dr)}),C.forEach(ci=>{const dr={...ci,before:[],after:[]};for(const kr of Fn(dr.name,dr.aliases))qn[kr]=dr;ln.push(dr)}),ln.forEach(ci=>{if(ci.toMiddleware){const dr=qn[ci.toMiddleware];if(dr===void 0){if(Nt)return;throw new Error(`${ci.toMiddleware} is not found when adding ${xn(ci.name,ci.aliases)} middleware ${ci.relation} ${ci.toMiddleware}`)}ci.relation==="after"&&dr.after.push(ci),ci.relation==="before"&&dr.before.push(ci)}}),j(tn).map(Qe).reduce((ci,dr)=>(ci.push(...dr),ci),[])},"getMiddlewareList"),Pt={add:(Nt,tn={})=>{const{name:ln,override:qn,aliases:Fi}=tn,ci={step:"initialize",priority:"normal",middleware:Nt,...tn},dr=Fn(ln,Fi);if(dr.length>0){if(dr.some(kr=>k.has(kr))){if(!qn)throw new Error(`Duplicate middleware name '${xn(ln,Fi)}'`);for(const kr of dr){const Es=y.findIndex(Ma=>{var Wa;return Ma.name===kr||((Wa=Ma.aliases)==null?void 0:Wa.some(Ru=>Ru===kr))});if(Es===-1)continue;const rs=y[Es];if(rs.step!==ci.step||ci.priority!==rs.priority)throw new Error(`"${xn(rs.name,rs.aliases)}" middleware with ${rs.priority} priority in ${rs.step} step cannot be overridden by "${xn(ln,Fi)}" middleware with ${ci.priority} priority in ${ci.step} step.`);y.splice(Es,1)}}for(const kr of dr)k.add(kr)}y.push(ci)},addRelativeTo:(Nt,tn)=>{const{name:ln,override:qn,aliases:Fi}=tn,ci={middleware:Nt,...tn},dr=Fn(ln,Fi);if(dr.length>0){if(dr.some(kr=>k.has(kr))){if(!qn)throw new Error(`Duplicate middleware name '${xn(ln,Fi)}'`);for(const kr of dr){const Es=C.findIndex(Ma=>{var Wa;return Ma.name===kr||((Wa=Ma.aliases)==null?void 0:Wa.some(Ru=>Ru===kr))});if(Es===-1)continue;const rs=C[Es];if(rs.toMiddleware!==ci.toMiddleware||rs.relation!==ci.relation)throw new Error(`"${xn(rs.name,rs.aliases)}" middleware ${rs.relation} "${rs.toMiddleware}" middleware cannot be overridden by "${xn(ln,Fi)}" middleware ${ci.relation} "${ci.toMiddleware}" middleware.`);C.splice(Es,1)}}for(const kr of dr)k.add(kr)}C.push(ci)},clone:()=>Le(jn()),use:Nt=>{Nt.applyToStack(Pt)},remove:Nt=>typeof Nt=="string"?ie(Nt):De(Nt),removeByTag:Nt=>{let tn=!1;const ln=n(qn=>{const{tags:Fi,name:ci,aliases:dr}=qn;if(Fi&&Fi.includes(Nt)){const kr=Fn(ci,dr);for(const Es of kr)k.delete(Es);return tn=!0,!1}return!0},"filterCb");return y=y.filter(ln),C=C.filter(ln),tn},concat:Nt=>{var ln;const tn=Le(jn());return tn.use(Nt),tn.identifyOnResolve(D||tn.identifyOnResolve()||(((ln=Nt.identifyOnResolve)==null?void 0:ln.call(Nt))??!1)),tn},applyToStack:Le,identify:()=>We(!0).map(Nt=>{const tn=Nt.step??Nt.relation+" "+Nt.toMiddleware;return xn(Nt.name,Nt.aliases)+" - "+tn}),identifyOnResolve(Nt){return typeof Nt=="boolean"&&(D=Nt),D},resolve:(Nt,tn)=>{for(const ln of We().map(qn=>qn.middleware).reverse())Nt=ln(Nt,tn);return D&&console.log(Pt.identify()),Nt}};return Pt},"constructStack"),pi={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ai={high:3,normal:2,low:1};class $n{constructor(C){this.config=C,this.middlewareStack=jn()}send(C,D,k){const j=typeof D!="function"?D:void 0,ie=typeof D=="function"?D:k,De=j===void 0&&this.config.cacheMiddleware===!0;let Le;if(De){this.handlers||(this.handlers=new WeakMap);const Qe=this.handlers;Qe.has(C.constructor)?Le=Qe.get(C.constructor):(Le=C.resolveMiddleware(this.middlewareStack,this.config,j),Qe.set(C.constructor,Le))}else delete this.handlers,Le=C.resolveMiddleware(this.middlewareStack,this.config,j);if(ie)Le(C).then(Qe=>ie(null,Qe.output),Qe=>ie(Qe)).catch(()=>{});else return Le(C).then(Qe=>Qe.output)}destroy(){var C,D,k;(k=(D=(C=this.config)==null?void 0:C.requestHandler)==null?void 0:D.destroy)==null||k.call(D),delete this.handlers}}n($n,"Client");const kn={},Ri=new Array(64);for(let y=0,C="A".charCodeAt(0),D="Z".charCodeAt(0);y+C<=D;y++){const k=String.fromCharCode(y+C);kn[k]=y,Ri[y]=k}for(let y=0,C="a".charCodeAt(0),D="z".charCodeAt(0);y+C<=D;y++){const k=String.fromCharCode(y+C),j=y+26;kn[k]=j,Ri[j]=k}for(let y=0;y<10;y++){kn[y.toString(10)]=y+52;const C=y.toString(10),D=y+52;kn[C]=D,Ri[D]=C}kn["+"]=62,Ri[62]="+",kn["/"]=63,Ri[63]="/";const pr=6,Rr=8,Kr=63,qt=n(y=>{let C=y.length/4*3;y.slice(-2)==="=="?C-=2:y.slice(-1)==="="&&C--;const D=new ArrayBuffer(C),k=new DataView(D);for(let j=0;j<y.length;j+=4){let ie=0,De=0;for(let We=j,Pt=j+3;We<=Pt;We++)if(y[We]!=="="){if(!(y[We]in kn))throw new TypeError(`Invalid character ${y[We]} in base64 string.`);ie|=kn[y[We]]<<(Pt-We)*pr,De+=pr}else ie>>=pr;const Le=j/4*3;ie>>=De%Rr;const Qe=Math.floor(De/Rr);for(let We=0;We<Qe;We++){const Pt=(Qe-We-1)*Rr;k.setUint8(Le+We,(ie&255<<Pt)>>Pt)}}return new Uint8Array(D)},"fromBase64"),Mr=n(y=>new TextEncoder().encode(y),"fromUtf8");function xr(y){let C;typeof y=="string"?C=Mr(y):C=y;const D=typeof C=="object"&&typeof C.length=="number",k=typeof C=="object"&&typeof C.byteOffset=="number"&&typeof C.byteLength=="number";if(!D&&!k)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let j="";for(let ie=0;ie<C.length;ie+=3){let De=0,Le=0;for(let We=ie,Pt=Math.min(ie+3,C.length);We<Pt;We++)De|=C[We]<<(Pt-We-1)*Rr,Le+=Rr;const Qe=Math.ceil(Le/pr);De<<=Qe*pr-Le;for(let We=1;We<=Qe;We++){const Pt=(Qe-We)*pr;j+=Ri[(De&Kr<<Pt)>>Pt]}j+="==".slice(0,4-Qe)}return j}n(xr,"toBase64_browser_toBase64");const ur=n(y=>{if(typeof y=="string")return y;if(typeof y!="object"||typeof y.byteOffset!="number"||typeof y.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(y)},"toUtf8_browser_toUtf8");function To(y,C="utf-8"){return C==="base64"?xr(y):ur(y)}n(To,"transformToString");function es(y,C){return C==="base64"?oo.mutate(qt(y)):oo.mutate(Mr(y))}n(es,"transformFromString");class oo extends Uint8Array{static fromString(C,D="utf-8"){switch(typeof C){case"string":return es(C,D);default:throw new Error(`Unsupported conversion from ${typeof C} to Uint8ArrayBlobAdapter.`)}}static mutate(C){return Object.setPrototypeOf(C,oo.prototype),C}transformToString(C="utf-8"){return To(this,C)}}n(oo,"Uint8ArrayBlobAdapter");const Yo=n(y=>encodeURIComponent(y).replace(/[!'()*]/g,os),"escapeUri"),os=n(y=>`%${y.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode");function vs(y){const C=[];for(let D of Object.keys(y).sort()){const k=y[D];if(D=Yo(D),Array.isArray(k))for(let j=0,ie=k.length;j<ie;j++)C.push(`${D}=${Yo(k[j])}`);else{let j=D;(k||typeof k=="string")&&(j+=`=${Yo(k)}`),C.push(j)}}return C.join("&")}n(vs,"buildQueryString");function Vs(y=0){return new Promise((C,D)=>{y&&setTimeout(()=>{const k=new Error(`Request did not complete within ${y} ms`);k.name="TimeoutError",D(k)},y)})}n(Vs,"requestTimeout");const ho={supported:void 0};class Bo{static create(C){return typeof(C==null?void 0:C.handle)=="function"?C:new Bo(C)}constructor(C){typeof C=="function"?this.configProvider=C().then(D=>D||{}):(this.config=C??{},this.configProvider=Promise.resolve(this.config)),ho.supported===void 0&&(ho.supported=Boolean(typeof Request<"u"&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(C,{abortSignal:D}={}){var dr;this.config||(this.config=await this.configProvider);const k=this.config.requestTimeout,j=this.config.keepAlive===!0,ie=this.config.credentials;if(D!=null&&D.aborted){const kr=new Error("Request aborted");return kr.name="AbortError",Promise.reject(kr)}let De=C.path;const Le=vs(C.query||{});Le&&(De+=`?${Le}`),C.fragment&&(De+=`#${C.fragment}`);let Qe="";if(C.username!=null||C.password!=null){const kr=C.username??"",Es=C.password??"";Qe=`${kr}:${Es}@`}const{port:We,method:Pt}=C,Nt=`${C.protocol}//${Qe}${C.hostname}${We?`:${We}`:""}${De}`,tn=Pt==="GET"||Pt==="HEAD"?void 0:C.body,ln={body:tn,headers:new Headers(C.headers),method:Pt,credentials:ie};(dr=this.config)!=null&&dr.cache&&(ln.cache=this.config.cache),tn&&(ln.duplex="half"),typeof AbortController<"u"&&(ln.signal=D),ho.supported&&(ln.keepalive=j),typeof this.config.requestInit=="function"&&Object.assign(ln,this.config.requestInit(C));let qn=n(()=>{},"removeSignalEventListener");const Fi=new Request(Nt,ln),ci=[fetch(Fi).then(kr=>{const Es=kr.headers,rs={};for(const Wa of Es.entries())rs[Wa[0]]=Wa[1];return kr.body!=null?{response:new b({headers:rs,reason:kr.statusText,statusCode:kr.status,body:kr.body})}:kr.blob().then(Wa=>({response:new b({headers:rs,reason:kr.statusText,statusCode:kr.status,body:Wa})}))}),Vs(k)];return D&&ci.push(new Promise((kr,Es)=>{const rs=n(()=>{const Ma=new Error("Request aborted");Ma.name="AbortError",Es(Ma)},"onAbort");if(typeof D.addEventListener=="function"){const Ma=D;Ma.addEventListener("abort",rs,{once:!0}),qn=n(()=>Ma.removeEventListener("abort",rs),"removeSignalEventListener")}else D.onabort=rs})),Promise.race(ci).finally(qn)}updateHttpClientConfig(C,D){this.config=void 0,this.configProvider=this.configProvider.then(k=>(k[C]=D,k))}httpHandlerConfigs(){return this.config??{}}}n(Bo,"FetchHttpHandler");const ya=n(y=>typeof Blob=="function"&&y instanceof Blob?$s(y):Hs(y),"stream_collector_streamCollector");async function $s(y){const C=await oa(y),D=qt(C);return new Uint8Array(D)}n($s,"collectBlob");async function Hs(y){const C=[],D=y.getReader();let k=!1,j=0;for(;!k;){const{done:Le,value:Qe}=await D.read();Qe&&(C.push(Qe),j+=Qe.length),k=Le}const ie=new Uint8Array(j);let De=0;for(const Le of C)ie.set(Le,De),De+=Le.length;return ie}n(Hs,"collectStream");function oa(y){return new Promise((C,D)=>{const k=new FileReader;k.onloadend=()=>{if(k.readyState!==2)return D(new Error("Reader aborted too early"));const j=k.result??"",ie=j.indexOf(","),De=ie>-1?ie+1:j.length;C(j.substring(De))},k.onabort=()=>D(new Error("Read aborted")),k.onerror=()=>D(k.error),k.readAsDataURL(y)})}n(oa,"readToBase64");const Rs={},Ss={};for(let y=0;y<256;y++){let C=y.toString(16).toLowerCase();C.length===1&&(C=`0${C}`),Rs[y]=C,Ss[C]=y}function ys(y){if(y.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const C=new Uint8Array(y.length/2);for(let D=0;D<y.length;D+=2){const k=y.slice(D,D+2).toLowerCase();if(k in Ss)C[D/2]=Ss[k];else throw new Error(`Cannot decode unrecognized sequence ${k} as hexadecimal`)}return C}n(ys,"fromHex");function fs(y){let C="";for(let D=0;D<y.byteLength;D++)C+=Rs[y[D]];return C}n(fs,"dist_es_toHex");const _a="The stream has already been transformed.",ul=n(y=>{var j,ie;if(!ba(y)&&!isReadableStream(y)){const De=((ie=(j=y==null?void 0:y.__proto__)==null?void 0:j.constructor)==null?void 0:ie.name)||y;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${De}`)}let C=!1;const D=n(async()=>{if(C)throw new Error(_a);return C=!0,await streamCollector(y)},"transformToByteArray"),k=n(De=>{if(typeof De.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return De.stream()},"blobToWebStream");return Object.assign(y,{transformToByteArray:D,transformToString:async De=>{const Le=await D();if(De==="base64")return toBase64(Le);if(De==="hex")return toHex(Le);if(De===void 0||De==="utf8"||De==="utf-8")return toUtf8(Le);if(typeof TextDecoder=="function")return new TextDecoder(De).decode(Le);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(C)throw new Error(_a);if(C=!0,ba(y))return k(y);if(isReadableStream(y))return y;throw new Error(`Cannot transform payload to web stream, got ${y}`)}})},"sdkStreamMixin"),ba=n(y=>typeof Blob=="function"&&y instanceof Blob,"isBlobInstance"),Io=n(async(y=new Uint8Array,C)=>{if(y instanceof Uint8Array)return oo.mutate(y);if(!y)return oo.mutate(new Uint8Array);const D=C.streamCollector(y);return oo.mutate(await D)},"collect_stream_body_collectBody");class Li{constructor(){this.middlewareStack=jn()}static classBuilder(){return new Ys}resolveMiddlewareWithContext(C,D,k,{middlewareFn:j,clientName:ie,commandName:De,inputFilterSensitiveLog:Le,outputFilterSensitiveLog:Qe,smithyContext:We,additionalContext:Pt,CommandCtor:Nt}){for(const ci of j.bind(this)(Nt,C,D,k))this.middlewareStack.use(ci);const tn=C.concat(this.middlewareStack),{logger:ln}=D,qn={logger:ln,clientName:ie,commandName:De,inputFilterSensitiveLog:Le,outputFilterSensitiveLog:Qe,[f]:{commandInstance:this,...We},...Pt},{requestHandler:Fi}=D;return tn.resolve(ci=>Fi.handle(ci.request,k||{}),qn)}}n(Li,"Command");class Ys{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=C=>C,this._outputFilterSensitiveLog=C=>C,this._serializer=null,this._deserializer=null}init(C){this._init=C}ep(C){return this._ep=C,this}m(C){return this._middlewareFn=C,this}s(C,D,k={}){return this._smithyContext={service:C,operation:D,...k},this}c(C={}){return this._additionalContext=C,this}n(C,D){return this._clientName=C,this._commandName=D,this}f(C=k=>k,D=k=>k){return this._inputFilterSensitiveLog=C,this._outputFilterSensitiveLog=D,this}ser(C){return this._serializer=C,this}de(C){return this._deserializer=C,this}build(){const C=this;let D;return D=n(class extends Li{static getEndpointParameterInstructions(){return C._ep}constructor(...[k]){super(),this.serialize=C._serializer,this.deserialize=C._deserializer,this.input=k??{},C._init(this)}resolveMiddleware(k,j,ie){return this.resolveMiddlewareWithContext(k,j,ie,{CommandCtor:D,middlewareFn:C._middlewareFn,clientName:C._clientName,commandName:C._commandName,inputFilterSensitiveLog:C._inputFilterSensitiveLog,outputFilterSensitiveLog:C._outputFilterSensitiveLog,smithyContext:C._smithyContext,additionalContext:C._additionalContext})}},"CommandRef")}}n(Ys,"ClassBuilder");const Mi="***SensitiveInformation***",Ea=n((y,C)=>{for(const D of Object.keys(y)){const k=y[D],j=n(async function(De,Le,Qe){const We=new k(De);if(typeof Le=="function")this.send(We,Le);else if(typeof Qe=="function"){if(typeof Le!="object")throw new Error(`Expected http options but got ${typeof Le}`);this.send(We,Le||{},Qe)}else return this.send(We,Le)},"methodImpl"),ie=(D[0].toLowerCase()+D.slice(1)).replace(/Command$/,"");C.prototype[ie]=j}},"createAggregatedClient"),sa=n(y=>{switch(y){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${y}"`)}},"parseBoolean"),qa=n(y=>{if(y!=null){if(typeof y=="number"){if((y===0||y===1)&&gi.warn(Hn(`Expected boolean, got ${typeof y}: ${y}`)),y===0)return!1;if(y===1)return!0}if(typeof y=="string"){const C=y.toLowerCase();if((C==="false"||C==="true")&&gi.warn(Hn(`Expected boolean, got ${typeof y}: ${y}`)),C==="false")return!1;if(C==="true")return!0}if(typeof y=="boolean")return y;throw new TypeError(`Expected boolean, got ${typeof y}: ${y}`)}},"expectBoolean"),oe=n(y=>{if(y!=null){if(typeof y=="string"){const C=parseFloat(y);if(!Number.isNaN(C))return String(C)!==String(y)&&gi.warn(Hn(`Expected number but observed string: ${y}`)),C}if(typeof y=="number")return y;throw new TypeError(`Expected number, got ${typeof y}: ${y}`)}},"expectNumber"),ae=Math.ceil(2**127*(2-2**-23)),X=n(y=>{const C=oe(y);if(C!==void 0&&!Number.isNaN(C)&&C!==1/0&&C!==-1/0&&Math.abs(C)>ae)throw new TypeError(`Expected 32-bit float, got ${y}`);return C},"expectFloat32"),L=n(y=>{if(y!=null){if(Number.isInteger(y)&&!Number.isNaN(y))return y;throw new TypeError(`Expected integer, got ${typeof y}: ${y}`)}},"expectLong"),q=null,be=n(y=>et(y,32),"expectInt32"),Ce=n(y=>et(y,16),"expectShort"),xe=n(y=>et(y,8),"expectByte"),et=n((y,C)=>{const D=L(y);if(D!==void 0&&Rt(D,C)!==D)throw new TypeError(`Expected ${C}-bit integer, got ${y}`);return D},"expectSizedInt"),Rt=n((y,C)=>{switch(C){case 32:return Int32Array.of(y)[0];case 16:return Int16Array.of(y)[0];case 8:return Int8Array.of(y)[0]}},"castInt"),ft=n((y,C)=>{if(y==null)throw C?new TypeError(`Expected a non-null value for ${C}`):new TypeError("Expected a non-null value");return y},"expectNonNull"),Ot=n(y=>{if(y==null)return;if(typeof y=="object"&&!Array.isArray(y))return y;const C=Array.isArray(y)?"array":typeof y;throw new TypeError(`Expected object, got ${C}: ${y}`)},"expectObject"),St=n(y=>{if(y!=null){if(typeof y=="string")return y;if(["boolean","number","bigint"].includes(typeof y))return gi.warn(Hn(`Expected string, got ${typeof y}: ${y}`)),String(y);throw new TypeError(`Expected string, got ${typeof y}: ${y}`)}},"expectString"),yn=n(y=>{if(y==null)return;const C=Ot(y),D=Object.entries(C).filter(([,k])=>k!=null).map(([k])=>k);if(D.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(D.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${D} were not null.`);return C},"expectUnion"),Ln=n(y=>oe(typeof y=="string"?Hi(y):y),"strictParseDouble"),Kn=null,Di=n(y=>X(typeof y=="string"?Hi(y):y),"parse_utils_strictParseFloat32"),Ni=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Hi=n(y=>{const C=y.match(Ni);if(C===null||C[0].length!==y.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(y)},"parseNumber"),mr=n(y=>typeof y=="string"?yr(y):oe(y),"limitedParseDouble"),fr=null,br=null,Jr=n(y=>typeof y=="string"?yr(y):X(y),"limitedParseFloat32"),yr=n(y=>{switch(y){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${y}`)}},"parseFloatString"),di=n(y=>L(typeof y=="string"?Hi(y):y),"strictParseLong"),Cr=null,Mt=n(y=>be(typeof y=="string"?Hi(y):y),"strictParseInt32"),Vt=n(y=>Ce(typeof y=="string"?Hi(y):y),"parse_utils_strictParseShort"),un=n(y=>xe(typeof y=="string"?Hi(y):y),"parse_utils_strictParseByte"),Hn=n(y=>String(new TypeError(y).stack||y).split(`
`).slice(0,5).filter(C=>!C.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),gi={warn:console.warn},ar=null,Xi=null;function $i(y){const C=y.getUTCFullYear(),D=y.getUTCMonth(),k=y.getUTCDay(),j=y.getUTCDate(),ie=y.getUTCHours(),De=y.getUTCMinutes(),Le=y.getUTCSeconds(),Qe=j<10?`0${j}`:`${j}`,We=ie<10?`0${ie}`:`${ie}`,Pt=De<10?`0${De}`:`${De}`,Nt=Le<10?`0${Le}`:`${Le}`;return`${ar[k]}, ${Qe} ${Xi[D]} ${C} ${We}:${Pt}:${Nt} GMT`}n($i,"dateToUtcString");const rr=null,Br=n(y=>{if(y==null)return;if(typeof y!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const C=rr.exec(y);if(!C)throw new TypeError("Invalid RFC-3339 date-time value");const[D,k,j,ie,De,Le,Qe,We]=C,Pt=strictParseShort(ss(k)),Nt=Ms(j,"month",1,12),tn=Ms(ie,"day",1,31);return Ca(Pt,Nt,tn,{hours:De,minutes:Le,seconds:Qe,fractionalMilliseconds:We})},"parseRfc3339DateTime"),ts=null,Vr=n(y=>{if(y==null)return;if(typeof y!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const C=ts.exec(y);if(!C)throw new TypeError("Invalid RFC-3339 date-time value");const[D,k,j,ie,De,Le,Qe,We,Pt]=C,Nt=strictParseShort(ss(k)),tn=Ms(j,"month",1,12),ln=Ms(ie,"day",1,31),qn=Ca(Nt,tn,ln,{hours:De,minutes:Le,seconds:Qe,fractionalMilliseconds:We});return Pt.toUpperCase()!="Z"&&qn.setTime(qn.getTime()-wo(Pt)),qn},"parseRfc3339DateTimeWithOffset"),Ro=null,ds=null,Fs=null,hs=n(y=>{if(y==null)return;if(typeof y!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let C=Ro.exec(y);if(C){const[D,k,j,ie,De,Le,Qe,We]=C;return Ca(strictParseShort(ss(ie)),Ga(j),Ms(k,"day",1,31),{hours:De,minutes:Le,seconds:Qe,fractionalMilliseconds:We})}if(C=ds.exec(y),C){const[D,k,j,ie,De,Le,Qe,We]=C;return Xs(Ca(Pa(ie),Ga(j),Ms(k,"day",1,31),{hours:De,minutes:Le,seconds:Qe,fractionalMilliseconds:We}))}if(C=Fs.exec(y),C){const[D,k,j,ie,De,Le,Qe,We]=C;return Ca(strictParseShort(ss(We)),Ga(k),Ms(j.trimLeft(),"day",1,31),{hours:ie,minutes:De,seconds:Le,fractionalMilliseconds:Qe})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),Xo=n(y=>{if(y==null)return;let C;if(typeof y=="number")C=y;else if(typeof y=="string")C=Ln(y);else if(typeof y=="object"&&y.tag===1)C=y.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(C)||C===1/0||C===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(C*1e3))},"parseEpochTimestamp"),Ca=n((y,C,D,k)=>{const j=C-1;return el(y,j,D),new Date(Date.UTC(y,j,D,Ms(k.hours,"hour",0,23),Ms(k.minutes,"minute",0,59),Ms(k.seconds,"seconds",0,60),po(k.fractionalMilliseconds)))},"buildDate"),Pa=n(y=>{const C=new Date().getUTCFullYear(),D=Math.floor(C/100)*100+strictParseShort(ss(y));return D<C?D+100:D},"parseTwoDigitYear"),aa=null,Xs=n(y=>y.getTime()-new Date().getTime()>aa?new Date(Date.UTC(y.getUTCFullYear()-100,y.getUTCMonth(),y.getUTCDate(),y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds())):y,"adjustRfc850Year"),Ga=n(y=>{const C=Xi.indexOf(y);if(C<0)throw new TypeError(`Invalid month: ${y}`);return C+1},"parseMonthByShortName"),ua=null,el=n((y,C,D)=>{let k=ua[C];if(C===1&&ka(y)&&(k=29),D>k)throw new TypeError(`Invalid day for ${Xi[C]} in ${y}: ${D}`)},"validateDayOfMonth"),ka=n(y=>y%4===0&&(y%100!==0||y%400===0),"isLeapYear"),Ms=n((y,C,D,k)=>{const j=strictParseByte(ss(y));if(j<D||j>k)throw new TypeError(`${C} must be between ${D} and ${k}, inclusive`);return j},"parseDateValue"),po=n(y=>y==null?0:strictParseFloat32("0."+y)*1e3,"parseMilliseconds"),wo=n(y=>{const C=y[0];let D=1;if(C=="+")D=1;else if(C=="-")D=-1;else throw new TypeError(`Offset direction, ${C}, must be "+" or "-"`);const k=Number(y.substring(1,3)),j=Number(y.substring(4,6));return D*(k*60+j)*60*1e3},"parseOffsetToMilliseconds"),ss=n(y=>{let C=0;for(;C<y.length-1&&y.charAt(C)==="0";)C++;return C===0?y:y.slice(C)},"stripLeadingZeroes");class Ta extends Error{constructor(C){super(C.message),Object.setPrototypeOf(this,Ta.prototype),this.name=C.name,this.$fault=C.$fault,this.$metadata=C.$metadata}}n(Ta,"ServiceException");const Ws=n((y,C={})=>{Object.entries(C).filter(([,k])=>k!==void 0).forEach(([k,j])=>{(y[k]==null||y[k]==="")&&(y[k]=j)});const D=y.message||y.Message||"UnknownError";return y.message=D,delete y.Message,y},"decorateServiceException"),fl=n(({output:y,parsedBody:C,exceptionCtor:D,errorCode:k})=>{const j=za(y),ie=j.httpStatusCode?j.httpStatusCode+"":void 0,De=new D({name:(C==null?void 0:C.code)||(C==null?void 0:C.Code)||k||ie||"UnknownError",$fault:"client",$metadata:j});throw Ws(De,C)},"throwDefaultError"),Kl=n(y=>({output:C,parsedBody:D,errorCode:k})=>{fl({output:C,parsedBody:D,exceptionCtor:y,errorCode:k})},"withBaseException"),za=n(y=>({httpStatusCode:y.statusCode,requestId:y.headers["x-amzn-requestid"]??y.headers["x-amzn-request-id"]??y.headers["x-amz-request-id"],extendedRequestId:y.headers["x-amz-id-2"],cfId:y.headers["x-amz-cf-id"]}),"deserializeMetadata"),hl=n(y=>{switch(y){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),xc=n(y=>{const C=[];for(const D in s){const k=s[D];y[k]!==void 0&&C.push({algorithmId:()=>k,checksumConstructor:()=>y[k]})}return{_checksumAlgorithms:C,addChecksumAlgorithm(D){this._checksumAlgorithms.push(D)},checksumAlgorithms(){return this._checksumAlgorithms}}},"extensions_checksum_getChecksumConfiguration"),Jl=n(y=>{const C={};return y.checksumAlgorithms().forEach(D=>{C[D.algorithmId()]=D.checksumConstructor()}),C},"extensions_checksum_resolveChecksumRuntimeConfig"),Yl=n(y=>{let C=y.retryStrategy;return{setRetryStrategy(D){C=D},retryStrategy(){return C}}},"getRetryConfiguration"),Bc=n(y=>{const C={};return C.retryStrategy=y.retryStrategy(),C},"resolveRetryRuntimeConfig"),Ld=n(y=>({...xc(y),...Yl(y)}),"getDefaultExtensionConfiguration"),Nd=null,Fd=n(y=>({...Jl(y),...Bc(y)}),"defaultExtensionConfiguration_resolveDefaultRuntimeConfig"),Xr=n(y=>y!=null,"isSerializableHeaderValue"),Xl=n(function(){const y=Object.getPrototypeOf(this).constructor,C=Function.bind.apply(String,[null,...arguments]),D=new C;return Object.setPrototypeOf(D,y.prototype),D},"StringWrapper");Xl.prototype=Object.create(String.prototype,{constructor:{value:Xl,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Xl,String);class pl extends null{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(C){return C instanceof pl?C:C instanceof String||typeof C=="string"?new pl(C):new pl(JSON.stringify(C))}}n(pl,"LazyJsonString");class Ql{trace(){}debug(){}info(){}warn(){}error(){}}n(Ql,"NoOpLogger");function On(y,C,D){let k,j,ie;if(typeof C>"u"&&typeof D>"u")k={},ie=y;else{if(k=y,typeof C=="function")return j=C,ie=D,xd(k,j,ie);ie=C}for(const De of Object.keys(ie)){if(!Array.isArray(ie[De])){k[De]=ie[De];continue}Pl(k,null,ie,De)}return k}n(On,"map");const Wu=n(y=>{const C={};for(const[D,k]of Object.entries(y||{}))C[D]=[,k];return C},"convertMap"),Ii=n((y,C)=>{const D={};for(const k in C)Pl(D,y,C,k);return D},"take"),xd=n((y,C,D)=>On(y,Object.entries(D).reduce((k,[j,ie])=>(Array.isArray(ie)?k[j]=ie:typeof ie=="function"?k[j]=[C,ie()]:k[j]=[C,ie],k),{})),"mapWithFilter"),Pl=n((y,C,D,k)=>{if(C!==null){let De=D[k];typeof De=="function"&&(De=[,De]);const[Le=Zl,Qe=Uc,We=k]=De;(typeof Le=="function"&&Le(C[We])||typeof Le!="function"&&Le)&&(y[k]=Qe(C[We]));return}let[j,ie]=D[k];if(typeof ie=="function"){let De;const Le=j===void 0&&(De=ie())!=null,Qe=typeof j=="function"&&!!j(void 0)||typeof j!="function"&&!!j;Le?y[k]=De:Qe&&(y[k]=ie())}else{const De=j===void 0&&ie!=null,Le=typeof j=="function"&&!!j(ie)||typeof j!="function"&&!!j;(De||Le)&&(y[k]=ie)}},"applyInstruction"),Zl=n(y=>y!=null,"nonNullish"),Uc=n(y=>y,"pass");function ql(y){return encodeURIComponent(y).replace(/[!'()*]/g,function(C){return"%"+C.charCodeAt(0).toString(16).toUpperCase()})}n(ql,"extendedEncodeURIComponent");const Bd=n((y,C,D,k,j,ie)=>{if(C!=null&&C[D]!==void 0){const De=k();if(De.length<=0)throw new Error("Empty value provided for input HTTP label: "+D+".");y=y.replace(j,ie?De.split("/").map(Le=>ql(Le)).join("/"):ql(De))}else throw new Error("No value provided for input HTTP label: "+D+".");return y},"resolvedPath"),Gu=n(y=>{if(y!==y)return"NaN";switch(y){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return y}},"serializeFloat"),Gs=n(y=>y.toISOString().replace(".000Z","Z"),"serializeDateTime"),Wi=n(y=>{if(y==null)return{};if(Array.isArray(y))return y.filter(C=>C!=null).map(Wi);if(typeof y=="object"){const C={};for(const D of Object.keys(y))y[D]!=null&&(C[D]=Wi(y[D]));return C}return y},"_json"),ec=n(y=>(y==null?void 0:y.body)instanceof ReadableStream,"isStreamingPayload"),Ud=n(y=>(C,D)=>async k=>{var De;let j=await y.retryStrategy();const ie=await y.maxAttempts();if(Vc(j)){j=j;let Le=await j.acquireInitialRetryToken(D.partition_id),Qe=new Error,We=0,Pt=0;const{request:Nt}=k,tn=S.isInstance(Nt);for(tn&&(Nt.headers[no]=gs());;)try{tn&&(Nt.headers[Is]=`attempt=${We+1}; max=${ie}`);const{response:ln,output:qn}=await C(k);return j.recordSuccess(Le),qn.$metadata.attempts=We+1,qn.$metadata.totalRetryDelay=Pt,{response:ln,output:qn}}catch(ln){const qn=Vd(ln);if(Qe=Jo(ln),tn&&ec(Nt))throw(De=D.logger instanceof Ql?console:D.logger)==null||De.warn("An error was encountered in a non-retryable streaming request."),Qe;try{Le=await j.refreshRetryTokenForRetry(Le,qn)}catch{throw Qe.$metadata||(Qe.$metadata={}),Qe.$metadata.attempts=We+1,Qe.$metadata.totalRetryDelay=Pt,Qe}We=Le.getRetryCount();const Fi=Le.getRetryDelay();Pt+=Fi,await new Promise(ci=>setTimeout(ci,Fi))}}else return j=j,j!=null&&j.mode&&(D.userAgent=[...D.userAgent||[],["cfg/retry-mode",j.mode]]),j.retry(C,k)},"retryMiddleware"),Vc=n(y=>typeof y.acquireInitialRetryToken<"u"&&typeof y.refreshRetryTokenForRetry<"u"&&typeof y.recordSuccess<"u","isRetryStrategyV2"),Vd=n(y=>{const C={error:y,errorType:Hc(y)},D=Hd(y.$response);return D&&(C.retryAfterHint=D),C},"getRetryErrorInfo"),Hc=n(y=>Ur(y)?"THROTTLING":Gr(y)?"TRANSIENT":ki(y)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Wc={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ml=n(y=>({applyToStack:C=>{C.add(Ud(y),Wc)}}),"getRetryPlugin"),Hd=n(y=>{if(!b.isInstance(y))return;const C=Object.keys(y.headers).find(ie=>ie.toLowerCase()==="retry-after");if(!C)return;const D=y.headers[C],k=Number(D);return Number.isNaN(k)?new Date(D):new Date(k*1e3)},"getRetryAfterHint"),Gc={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Wc.name},Wd=n(y=>({applyToStack:C=>{C.addRelativeTo(vt(y),Gc)}}),"getHttpSigningPlugin");class N{constructor(C){this.authSchemes=new Map;for(const[D,k]of Object.entries(C))k!==void 0&&this.authSchemes.set(D,k)}getIdentityProvider(C){return this.authSchemes.get(C)}}n(N,"DefaultIdentityProviderConfig");class H{async sign(C,D,k){if(!k)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!k.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!k.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!D.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");const j=HttpRequest.clone(C);if(k.in===HttpApiKeyAuthLocation.QUERY)j.query[k.name]=D.apiKey;else if(k.in===HttpApiKeyAuthLocation.HEADER)j.headers[k.name]=k.scheme?`${k.scheme} ${D.apiKey}`:D.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+k.in+"`");return j}}n(H,"HttpApiKeyAuthSigner");class ${async sign(C,D,k){const j=HttpRequest.clone(C);if(!D.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return j.headers.Authorization=`Bearer ${D.token}`,j}}n($,"HttpBearerAuthSigner");const $e=n(y=>C=>Ct(C)&&C.expiration.getTime()-Date.now()<y,"createIsIdentityExpiredFunction")(3e5),Ct=n(y=>y.expiration!==void 0,"doesIdentityRequireRefresh"),jt=n((y,C,D)=>{if(y===void 0)return;const k=typeof y!="function"?async()=>Promise.resolve(y):y;let j,ie,De,Le=!1;const Qe=n(async We=>{ie||(ie=k(We));try{j=await ie,De=!0,Le=!1}finally{ie=void 0}return j},"coalesceProvider");return C===void 0?async We=>((!De||We!=null&&We.forceRefresh)&&(j=await Qe(We)),j):async We=>((!De||We!=null&&We.forceRefresh)&&(j=await Qe(We)),Le?j:D(j)?(C(j)&&await Qe(We),j):(Le=!0,j))},"memoizeIdentityProvider"),Ft=n(y=>y[SMITHY_CONTEXT_KEY]||(y[SMITHY_CONTEXT_KEY]={}),"getSmithyContext_getSmithyContext"),fn=n(y=>{if(typeof y=="function")return y;const C=Promise.resolve(y);return()=>C},"dist_es_normalizeProvider_normalizeProvider");function en(y,C){return new Rn(y,C)}n(en,"requestBuilder");class Rn{constructor(C,D){this.input=C,this.context=D,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:C,protocol:D="https",port:k,path:j}=await this.context.endpoint();this.path=j;for(const ie of this.resolvePathStack)ie(this.path);return new S({protocol:D,hostname:this.hostname||C,port:k,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(C){return this.hostname=C,this}bp(C){return this.resolvePathStack.push(D=>{this.path=`${D!=null&&D.endsWith("/")?D.slice(0,-1):D||""}`+C}),this}p(C,D,k,j){return this.resolvePathStack.push(ie=>{this.path=Bd(ie,this.input,C,D,k,j)}),this}h(C){return this.headers=C,this}q(C){return this.query=C,this}b(C){return this.body=C,this}m(C){return this.method=C,this}}n(Rn,"RequestBuilder");const Wn=n(async(y,C,D,...k)=>await C.send(new y(D),...k),"makePagedClientRequest");function li(y,C,D,k,j){return n(async function*(De,Le,...Qe){let We=De.startingToken||void 0,Pt=!0,Nt;for(;Pt;){if(Le[D]=We,j&&(Le[j]=Le[j]??De.pageSize),De.client instanceof y)Nt=await Wn(C,De.client,Le,...Qe);else throw new Error(`Invalid client, expected instance of ${y.name}`);yield Nt;const tn=We;We=Ci(Nt,k),Pt=!!(We&&(!De.stopOnSameToken||We!==tn))}return void 0},"paginateOperation")}n(li,"createPaginator");const Ci=n((y,C)=>{let D=y;const k=C.split(".");for(const j of k){if(!D||typeof D!="object")return;D=D[j]}return D},"get"),Ki="content-length";function gr(y){return C=>async D=>{const k=D.request;if(S.isInstance(k)){const{body:j,headers:ie}=k;if(j&&Object.keys(ie).map(De=>De.toLowerCase()).indexOf(Ki)===-1)try{const De=y(j);k.headers={...k.headers,[Ki]:String(De)}}catch{}}return C({...D,request:k})}}n(gr,"contentLengthMiddleware");const or={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Wr=n(y=>({applyToStack:C=>{C.add(gr(y.bodyLengthChecker),or)}}),"getContentLengthPlugin"),so=n(y=>typeof y=="string"?Mr(y):ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(y),"toUint8Array"),mo="X-Amz-Algorithm",zo="X-Amz-Credential",Lr="X-Amz-Date",nr="X-Amz-SignedHeaders",Zr="X-Amz-Expires",ns="X-Amz-Signature",ir="X-Amz-Security-Token",zr="X-Amz-Region-Set",ko="authorization",us=Lr.toLowerCase(),Ps=[ko,us,"date"],Do=ns.toLowerCase(),zs="x-amz-content-sha256",ls=ir.toLowerCase(),la="host",Ia={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Gd=/^proxy-/,kl=/^sec-/,tc=null,gl="AWS4-HMAC-SHA256",zc="AWS4-ECDSA-P256-SHA256",La="AWS4-HMAC-SHA256-PAYLOAD",Na="UNSIGNED-PAYLOAD",Ll=50,vl="aws4_request",nc=60*60*24*7,tl={},Fa=[],wa=n((y,C,D)=>`${y}/${C}/${D}/${vl}`,"createScope"),ja=n(async(y,C,D,k,j)=>{const ie=await Sl(y,C.secretAccessKey,C.accessKeyId),De=`${D}:${k}:${j}:${fs(ie)}:${C.sessionToken}`;if(De in tl)return tl[De];for(Fa.push(De);Fa.length>Ll;)delete tl[Fa.shift()];let Le=`AWS4${C.secretAccessKey}`;for(const Qe of[D,k,j,vl])Le=await Sl(y,Le,Qe);return tl[De]=Le},"getSigningKey"),js=n(()=>{Fa.length=0,Object.keys(tl).forEach(y=>{delete tl[y]})},"clearCredentialCache"),Sl=n((y,C,D)=>{const k=new y(C);return k.update(so(D)),k.digest()},"hmac"),nl=n(({headers:y},C,D)=>{const k={};for(const j of Object.keys(y).sort()){if(y[j]==null)continue;const ie=j.toLowerCase();(ie in Ia||C!=null&&C.has(ie)||Gd.test(ie)||kl.test(ie))&&(!D||D&&!D.has(ie))||(k[ie]=y[j].trim().replace(/\s+/g," "))}return k},"getCanonicalHeaders"),ic=n(({query:y={}})=>{const C=[],D={};for(const k of Object.keys(y)){if(k.toLowerCase()===Do)continue;const j=Yo(k);C.push(j);const ie=y[k];typeof ie=="string"?D[j]=`${j}=${Yo(ie)}`:Array.isArray(ie)&&(D[j]=ie.slice(0).reduce((De,Le)=>De.concat([`${j}=${Yo(Le)}`]),[]).sort().join("&"))}return C.sort().map(k=>D[k]).filter(k=>k).join("&")},"getCanonicalQuery"),go=n(y=>typeof ArrayBuffer=="function"&&y instanceof ArrayBuffer||Object.prototype.toString.call(y)==="[object ArrayBuffer]","isArrayBuffer"),ws=n(async({headers:y,body:C},D)=>{for(const k of Object.keys(y))if(k.toLowerCase()===zs)return y[k];if(C==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof C=="string"||ArrayBuffer.isView(C)||go(C)){const k=new D;return k.update(so(C)),fs(await k.digest())}return Na},"getPayloadHash");class ao{format(C){const D=[];for(const ie of Object.keys(C)){const De=Mr(ie);D.push(Uint8Array.from([De.byteLength]),De,this.formatHeaderValue(C[ie]))}const k=new Uint8Array(D.reduce((ie,De)=>ie+De.byteLength,0));let j=0;for(const ie of D)k.set(ie,j),j+=ie.byteLength;return k}formatHeaderValue(C){switch(C.type){case"boolean":return Uint8Array.from([C.value?0:1]);case"byte":return Uint8Array.from([2,C.value]);case"short":const D=new DataView(new ArrayBuffer(3));return D.setUint8(0,3),D.setInt16(1,C.value,!1),new Uint8Array(D.buffer);case"integer":const k=new DataView(new ArrayBuffer(5));return k.setUint8(0,4),k.setInt32(1,C.value,!1),new Uint8Array(k.buffer);case"long":const j=new Uint8Array(9);return j[0]=5,j.set(C.value.bytes,1),j;case"binary":const ie=new DataView(new ArrayBuffer(3+C.value.byteLength));ie.setUint8(0,6),ie.setUint16(1,C.value.byteLength,!1);const De=new Uint8Array(ie.buffer);return De.set(C.value,3),De;case"string":const Le=Mr(C.value),Qe=new DataView(new ArrayBuffer(3+Le.byteLength));Qe.setUint8(0,7),Qe.setUint16(1,Le.byteLength,!1);const We=new Uint8Array(Qe.buffer);return We.set(Le,3),We;case"timestamp":const Pt=new Uint8Array(9);return Pt[0]=8,Pt.set(fa.fromNumber(C.value.valueOf()).bytes,1),Pt;case"uuid":if(!_o.test(C.value))throw new Error(`Invalid UUID received: ${C.value}`);const Nt=new Uint8Array(17);return Nt[0]=9,Nt.set(ys(C.value.replace(/\-/g,"")),1),Nt}}}n(ao,"HeaderFormatter");var Qo;(function(y){y[y.boolTrue=0]="boolTrue",y[y.boolFalse=1]="boolFalse",y[y.byte=2]="byte",y[y.short=3]="short",y[y.integer=4]="integer",y[y.long=5]="long",y[y.byteArray=6]="byteArray",y[y.string=7]="string",y[y.timestamp=8]="timestamp",y[y.uuid=9]="uuid"})(Qo||(Qo={}));const _o=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class fa{constructor(C){if(this.bytes=C,C.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(C){if(C>9223372036854776e3||C<-9223372036854776e3)throw new Error(`${C} is too large (or, if negative, too small) to represent as an Int64`);const D=new Uint8Array(8);for(let k=7,j=Math.abs(Math.round(C));k>-1&&j>0;k--,j/=256)D[k]=j;return C<0&&Nl(D),new fa(D)}valueOf(){const C=this.bytes.slice(0),D=C[0]&128;return D&&Nl(C),parseInt(fs(C),16)*(D?-1:1)}toString(){return String(this.valueOf())}}n(fa,"Int64");function Nl(y){for(let C=0;C<8;C++)y[C]^=255;for(let C=7;C>-1&&(y[C]++,y[C]===0);C--);}n(Nl,"negate");const rc=n((y,C)=>{y=y.toLowerCase();for(const D of Object.keys(C))if(y===D.toLowerCase())return!0;return!1},"hasHeader"),Tp=n((y,C)=>{y=y.toLowerCase();for(const D of Object.keys(C))if(y===D.toLowerCase())return C[D]},"getHeaderValue"),Ip=n((y,C)=>{y=y.toLowerCase();for(const D of Object.keys(C))y===D.toLowerCase()&&delete C[D]},"deleteHeader"),xf=n((y,C={})=>{var j,ie;const{headers:D,query:k={}}=S.clone(y);for(const De of Object.keys(D)){const Le=De.toLowerCase();(Le.slice(0,6)==="x-amz-"&&!((j=C.unhoistableHeaders)!=null&&j.has(Le))||(ie=C.hoistableHeaders)!=null&&ie.has(Le))&&(k[De]=D[De],delete D[De])}return{...y,headers:D,query:k}},"moveHeadersToQuery"),zd=n(y=>{y=S.clone(y);for(const C of Object.keys(y.headers))Ps.indexOf(C.toLowerCase())>-1&&delete y.headers[C];return y},"prepareRequest"),Bf=n(y=>Uf(y).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Uf=n(y=>typeof y=="number"?new Date(y*1e3):typeof y=="string"?Number(y)?new Date(Number(y)*1e3):new Date(y):y,"toDate");class oc{constructor({applyChecksum:C,credentials:D,region:k,service:j,sha256:ie,uriEscapePath:De=!0}){this.headerFormatter=new ao,this.service=j,this.sha256=ie,this.uriEscapePath=De,this.applyChecksum=typeof C=="boolean"?C:!0,this.regionProvider=oi(k),this.credentialProvider=oi(D)}async presign(C,D={}){const{signingDate:k=new Date,expiresIn:j=3600,unsignableHeaders:ie,unhoistableHeaders:De,signableHeaders:Le,hoistableHeaders:Qe,signingRegion:We,signingService:Pt}=D,Nt=await this.credentialProvider();this.validateResolvedCredentials(Nt);const tn=We??await this.regionProvider(),{longDate:ln,shortDate:qn}=jc(k);if(j>nc)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Fi=wa(qn,tn,Pt??this.service),ci=xf(zd(C),{unhoistableHeaders:De,hoistableHeaders:Qe});Nt.sessionToken&&(ci.query[ir]=Nt.sessionToken),ci.query[mo]=gl,ci.query[zo]=`${Nt.accessKeyId}/${Fi}`,ci.query[Lr]=ln,ci.query[Zr]=j.toString(10);const dr=nl(ci,ie,Le);return ci.query[nr]=zu(dr),ci.query[ns]=await this.getSignature(ln,Fi,this.getSigningKey(Nt,tn,qn,Pt),this.createCanonicalRequest(ci,dr,await ws(C,this.sha256))),ci}async sign(C,D){return typeof C=="string"?this.signString(C,D):C.headers&&C.payload?this.signEvent(C,D):C.message?this.signMessage(C,D):this.signRequest(C,D)}async signEvent({headers:C,payload:D},{signingDate:k=new Date,priorSignature:j,signingRegion:ie,signingService:De}){const Le=ie??await this.regionProvider(),{shortDate:Qe,longDate:We}=jc(k),Pt=wa(Qe,Le,De??this.service),Nt=await ws({headers:{},body:D},this.sha256),tn=new this.sha256;tn.update(C);const ln=fs(await tn.digest()),qn=[La,We,Pt,j,ln,Nt].join(`
`);return this.signString(qn,{signingDate:k,signingRegion:Le,signingService:De})}async signMessage(C,{signingDate:D=new Date,signingRegion:k,signingService:j}){return this.signEvent({headers:this.headerFormatter.format(C.message.headers),payload:C.message.body},{signingDate:D,signingRegion:k,signingService:j,priorSignature:C.priorSignature}).then(De=>({message:C.message,signature:De}))}async signString(C,{signingDate:D=new Date,signingRegion:k,signingService:j}={}){const ie=await this.credentialProvider();this.validateResolvedCredentials(ie);const De=k??await this.regionProvider(),{shortDate:Le}=jc(D),Qe=new this.sha256(await this.getSigningKey(ie,De,Le,j));return Qe.update(so(C)),fs(await Qe.digest())}async signRequest(C,{signingDate:D=new Date,signableHeaders:k,unsignableHeaders:j,signingRegion:ie,signingService:De}={}){const Le=await this.credentialProvider();this.validateResolvedCredentials(Le);const Qe=ie??await this.regionProvider(),We=zd(C),{longDate:Pt,shortDate:Nt}=jc(D),tn=wa(Nt,Qe,De??this.service);We.headers[us]=Pt,Le.sessionToken&&(We.headers[ls]=Le.sessionToken);const ln=await ws(We,this.sha256);!rc(zs,We.headers)&&this.applyChecksum&&(We.headers[zs]=ln);const qn=nl(We,j,k),Fi=await this.getSignature(Pt,tn,this.getSigningKey(Le,Qe,Nt,De),this.createCanonicalRequest(We,qn,ln));return We.headers[ko]=`${gl} Credential=${Le.accessKeyId}/${tn}, SignedHeaders=${zu(qn)}, Signature=${Fi}`,We}createCanonicalRequest(C,D,k){const j=Object.keys(D).sort();return`${C.method}
${this.getCanonicalPath(C)}
${ic(C)}
${j.map(ie=>`${ie}:${D[ie]}`).join(`
`)}

${j.join(";")}
${k}`}async createStringToSign(C,D,k){const j=new this.sha256;j.update(so(k));const ie=await j.digest();return`${gl}
${C}
${D}
${fs(ie)}`}getCanonicalPath({path:C}){if(this.uriEscapePath){const D=[];for(const ie of C.split("/"))(ie==null?void 0:ie.length)!==0&&ie!=="."&&(ie===".."?D.pop():D.push(ie));const k=`${C!=null&&C.startsWith("/")?"/":""}${D.join("/")}${D.length>0&&(C!=null&&C.endsWith("/"))?"/":""}`;return Yo(k).replace(/%2F/g,"/")}return C}async getSignature(C,D,k,j){const ie=await this.createStringToSign(C,D,j),De=new this.sha256(await k);return De.update(so(ie)),fs(await De.digest())}getSigningKey(C,D,k,j){return ja(this.sha256,C,k,D,j||this.service)}validateResolvedCredentials(C){if(typeof C!="object"||typeof C.accessKeyId!="string"||typeof C.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}n(oc,"SignatureV4");const jc=n(y=>{const C=Bf(y).replace(/[\-:]/g,"");return{longDate:C,shortDate:C.slice(0,8)}},"formatDate"),zu=n(y=>Object.keys(y).sort().join(";"),"getCanonicalHeaderList"),$c=n(y=>{let C;y.credentials&&(C=jt(y.credentials,$e,Ct)),C||(y.credentialDefaultProvider?C=fn(y.credentialDefaultProvider(Object.assign({},y,{parentClientConfig:y}))):C=n(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));const{signingEscapePath:D=!0,systemClockOffset:k=y.systemClockOffset||0,sha256:j}=y;let ie;return y.signer?ie=fn(y.signer):y.regionInfoProvider?ie=n(()=>fn(y.region)().then(async De=>[await y.regionInfoProvider(De,{useFipsEndpoint:await y.useFipsEndpoint(),useDualstackEndpoint:await y.useDualstackEndpoint()})||{},De]).then(De=>{let[Le,Qe]=De;const{signingRegion:We,signingService:Pt}=Le;y.signingRegion=y.signingRegion||We||Qe,y.signingName=y.signingName||Pt||y.serviceId;const Nt={...y,credentials:C,region:y.signingRegion,service:y.signingName,sha256:j,uriEscapePath:D},tn=y.signerConstructor||oc;return new tn(Nt)}),"signer"):ie=n(async De=>{De=Object.assign({},{name:"sigv4",signingName:y.signingName||y.defaultSigningName,signingRegion:await fn(y.region)(),properties:{}},De);const Le=De.signingRegion,Qe=De.signingName;y.signingRegion=y.signingRegion||Le,y.signingName=y.signingName||Qe||y.serviceId;const We={...y,credentials:C,region:y.signingRegion,service:y.signingName,sha256:j,uriEscapePath:D},Pt=y.signerConstructor||oc;return new Pt(We)},"signer"),{...y,systemClockOffset:k,signingEscapePath:D,credentials:C,signer:ie}},"resolveAwsSdkSigV4Config"),wp=null,Vf=n(async(y,C,D)=>({operation:ni(C).operation,region:await oi(y.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),"defaultChimeSDKMessagingHttpAuthSchemeParametersProvider");function ju(y){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"chime",region:y.region},propertiesExtractor:(C,D)=>({signingProperties:{config:C,context:D}})}}n(ju,"createAwsAuthSigv4HttpAuthOption");const Hf=n(y=>{const C=[];switch(y.operation){default:C.push(ju(y))}return C},"defaultChimeSDKMessagingHttpAuthSchemeProvider"),Wf=n(y=>({...$c(y)}),"resolveHttpAuthSchemeConfig"),Dp=n(y=>{var C,D;return{...y,useDualstackEndpoint:(C=y.useDualstackEndpoint)!==null&&C!==void 0?C:!1,useFipsEndpoint:(D=y.useFipsEndpoint)!==null&&D!==void 0?D:!1,defaultSigningName:"chime"}},"resolveClientEndpointParameters"),Tr={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Ap=c(7229287800),sc=c.n(Ap);const Gf=n(y=>new TextEncoder().encode(y),"fromUtf8_browser_fromUtf8");var jd=typeof Buffer<"u"&&Buffer.from?function(y){return Buffer.from(y,"utf8")}:Gf;function ac(y){return y instanceof Uint8Array?y:typeof y=="string"?jd(y):ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(y)}n(ac,"convertToBuffer");function $d(y){return typeof y=="string"?y.length===0:y.byteLength===0}n($d,"isEmptyData");var $u={name:"SHA-256"},Kc={name:"HMAC",hash:$u},Ku=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const zf={};function Jc(){return typeof window<"u"?window:typeof self<"u"?self:zf}n(Jc,"locateWindow");var jf=function(){function y(C){this.toHash=new Uint8Array(0),this.secret=C,this.reset()}return n(y,"Sha256"),y.prototype.update=function(C){if(!$d(C)){var D=ac(C),k=new Uint8Array(this.toHash.byteLength+D.byteLength);k.set(this.toHash,0),k.set(D,this.toHash.byteLength),this.toHash=k}},y.prototype.digest=function(){var C=this;return this.key?this.key.then(function(D){return Jc().crypto.subtle.sign(Kc,D,C.toHash).then(function(k){return new Uint8Array(k)})}):$d(this.toHash)?Promise.resolve(Ku):Promise.resolve().then(function(){return Jc().crypto.subtle.digest($u,C.toHash)}).then(function(D){return Promise.resolve(new Uint8Array(D))})},y.prototype.reset=function(){var C=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(D,k){Jc().crypto.subtle.importKey("raw",ac(C.secret),Kc,!1,["sign"]).then(D,k)}),this.key.catch(function(){}))},y}(),Kd=n(function(y,C){return Kd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,k){D.__proto__=k}||function(D,k){for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&(D[j]=k[j])},Kd(y,C)},"extendStatics");function $f(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");Kd(y,C);function D(){this.constructor=y}n(D,"__"),y.prototype=C===null?Object.create(C):(D.prototype=C.prototype,new D)}n($f,"__extends");var Jd=n(function(){return Jd=Object.assign||n(function(C){for(var D,k=1,j=arguments.length;k<j;k++){D=arguments[k];for(var ie in D)Object.prototype.hasOwnProperty.call(D,ie)&&(C[ie]=D[ie])}return C},"__assign"),Jd.apply(this,arguments)},"__assign");function Kf(y,C){var D={};for(var k in y)Object.prototype.hasOwnProperty.call(y,k)&&C.indexOf(k)<0&&(D[k]=y[k]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,k=Object.getOwnPropertySymbols(y);j<k.length;j++)C.indexOf(k[j])<0&&Object.prototype.propertyIsEnumerable.call(y,k[j])&&(D[k[j]]=y[k[j]]);return D}n(Kf,"__rest");function Jf(y,C,D,k){var j=arguments.length,ie=j<3?C:k===null?k=Object.getOwnPropertyDescriptor(C,D):k,De;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(y,C,D,k);else for(var Le=y.length-1;Le>=0;Le--)(De=y[Le])&&(ie=(j<3?De(ie):j>3?De(C,D,ie):De(C,D))||ie);return j>3&&ie&&Object.defineProperty(C,D,ie),ie}n(Jf,"__decorate");function Yc(y,C){return function(D,k){C(D,k,y)}}n(Yc,"__param");function Op(y,C,D,k,j,ie){function De(dr){if(dr!==void 0&&typeof dr!="function")throw new TypeError("Function expected");return dr}n(De,"accept");for(var Le=k.kind,Qe=Le==="getter"?"get":Le==="setter"?"set":"value",We=!C&&y?k.static?y:y.prototype:null,Pt=C||(We?Object.getOwnPropertyDescriptor(We,k.name):{}),Nt,tn=!1,ln=D.length-1;ln>=0;ln--){var qn={};for(var Fi in k)qn[Fi]=Fi==="access"?{}:k[Fi];for(var Fi in k.access)qn.access[Fi]=k.access[Fi];qn.addInitializer=function(dr){if(tn)throw new TypeError("Cannot add initializers after decoration has completed");ie.push(De(dr||null))};var ci=(0,D[ln])(Le==="accessor"?{get:Pt.get,set:Pt.set}:Pt[Qe],qn);if(Le==="accessor"){if(ci===void 0)continue;if(ci===null||typeof ci!="object")throw new TypeError("Object expected");(Nt=De(ci.get))&&(Pt.get=Nt),(Nt=De(ci.set))&&(Pt.set=Nt),(Nt=De(ci.init))&&j.unshift(Nt)}else(Nt=De(ci))&&(Le==="field"?j.unshift(Nt):Pt[Qe]=Nt)}We&&Object.defineProperty(We,k.name,Pt),tn=!0}n(Op,"__esDecorate");function Yf(y,C,D){for(var k=arguments.length>2,j=0;j<C.length;j++)D=k?C[j].call(y,D):C[j].call(y);return k?D:void 0}n(Yf,"__runInitializers");function Yd(y){return typeof y=="symbol"?y:"".concat(y)}n(Yd,"__propKey");function Xf(y,C,D){return typeof C=="symbol"&&(C=C.description?"[".concat(C.description,"]"):""),Object.defineProperty(y,"name",{configurable:!0,value:D?"".concat(D," ",C):C})}n(Xf,"__setFunctionName");function Ju(y,C){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,C)}n(Ju,"__metadata");function Yu(y,C,D,k){function j(ie){return ie instanceof D?ie:new D(function(De){De(ie)})}return n(j,"adopt"),new(D||(D=Promise))(function(ie,De){function Le(Pt){try{We(k.next(Pt))}catch(Nt){De(Nt)}}n(Le,"fulfilled");function Qe(Pt){try{We(k.throw(Pt))}catch(Nt){De(Nt)}}n(Qe,"rejected");function We(Pt){Pt.done?ie(Pt.value):j(Pt.value).then(Le,Qe)}n(We,"step"),We((k=k.apply(y,C||[])).next())})}n(Yu,"tslib_es6_awaiter");function Xd(y,C){var D={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},k,j,ie,De;return De={next:Le(0),throw:Le(1),return:Le(2)},typeof Symbol=="function"&&(De[Symbol.iterator]=function(){return this}),De;function Le(We){return function(Pt){return Qe([We,Pt])}}function Qe(We){if(k)throw new TypeError("Generator is already executing.");for(;De&&(De=0,We[0]&&(D=0)),D;)try{if(k=1,j&&(ie=We[0]&2?j.return:We[0]?j.throw||((ie=j.return)&&ie.call(j),0):j.next)&&!(ie=ie.call(j,We[1])).done)return ie;switch(j=0,ie&&(We=[We[0]&2,ie.value]),We[0]){case 0:case 1:ie=We;break;case 4:return D.label++,{value:We[1],done:!1};case 5:D.label++,j=We[1],We=[0];continue;case 7:We=D.ops.pop(),D.trys.pop();continue;default:if(ie=D.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(We[0]===6||We[0]===2)){D=0;continue}if(We[0]===3&&(!ie||We[1]>ie[0]&&We[1]<ie[3])){D.label=We[1];break}if(We[0]===6&&D.label<ie[1]){D.label=ie[1],ie=We;break}if(ie&&D.label<ie[2]){D.label=ie[2],D.ops.push(We);break}ie[2]&&D.ops.pop(),D.trys.pop();continue}We=C.call(y,D)}catch(Pt){We=[6,Pt],j=0}finally{k=ie=0}if(We[0]&5)throw We[1];return{value:We[0]?We[1]:void 0,done:!0}}}n(Xd,"tslib_es6_generator");var Qd=Object.create?function(y,C,D,k){k===void 0&&(k=D);var j=Object.getOwnPropertyDescriptor(C,D);(!j||("get"in j?!C.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return C[D]}}),Object.defineProperty(y,k,j)}:function(y,C,D,k){k===void 0&&(k=D),y[k]=C[D]};function Qf(y,C){for(var D in y)D!=="default"&&!Object.prototype.hasOwnProperty.call(C,D)&&Qd(C,y,D)}n(Qf,"__exportStar");function il(y){var C=typeof Symbol=="function"&&Symbol.iterator,D=C&&y[C],k=0;if(D)return D.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&k>=y.length&&(y=void 0),{value:y&&y[k++],done:!y}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}n(il,"__values");function Xu(y,C){var D=typeof Symbol=="function"&&y[Symbol.iterator];if(!D)return y;var k=D.call(y),j,ie=[],De;try{for(;(C===void 0||C-- >0)&&!(j=k.next()).done;)ie.push(j.value)}catch(Le){De={error:Le}}finally{try{j&&!j.done&&(D=k.return)&&D.call(k)}finally{if(De)throw De.error}}return ie}n(Xu,"__read");function Zf(){for(var y=[],C=0;C<arguments.length;C++)y=y.concat(Xu(arguments[C]));return y}n(Zf,"__spread");function qf(){for(var y=0,C=0,D=arguments.length;C<D;C++)y+=arguments[C].length;for(var k=Array(y),j=0,C=0;C<D;C++)for(var ie=arguments[C],De=0,Le=ie.length;De<Le;De++,j++)k[j]=ie[De];return k}n(qf,"__spreadArrays");function eh(y,C,D){if(D||arguments.length===2)for(var k=0,j=C.length,ie;k<j;k++)(ie||!(k in C))&&(ie||(ie=Array.prototype.slice.call(C,0,k)),ie[k]=C[k]);return y.concat(ie||Array.prototype.slice.call(C))}n(eh,"__spreadArray");function yl(y){return this instanceof yl?(this.v=y,this):new yl(y)}n(yl,"__await");function th(y,C,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=D.apply(y,C||[]),j,ie=[];return j={},De("next"),De("throw"),De("return"),j[Symbol.asyncIterator]=function(){return this},j;function De(tn){k[tn]&&(j[tn]=function(ln){return new Promise(function(qn,Fi){ie.push([tn,ln,qn,Fi])>1||Le(tn,ln)})})}function Le(tn,ln){try{Qe(k[tn](ln))}catch(qn){Nt(ie[0][3],qn)}}function Qe(tn){tn.value instanceof yl?Promise.resolve(tn.value.v).then(We,Pt):Nt(ie[0][2],tn)}function We(tn){Le("next",tn)}function Pt(tn){Le("throw",tn)}function Nt(tn,ln){tn(ln),ie.shift(),ie.length&&Le(ie[0][0],ie[0][1])}}n(th,"__asyncGenerator");function nh(y){var C,D;return C={},k("next"),k("throw",function(j){throw j}),k("return"),C[Symbol.iterator]=function(){return this},C;function k(j,ie){C[j]=y[j]?function(De){return(D=!D)?{value:yl(y[j](De)),done:!1}:ie?ie(De):De}:ie}}n(nh,"__asyncDelegator");function ih(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C=y[Symbol.asyncIterator],D;return C?C.call(y):(y=typeof il=="function"?il(y):y[Symbol.iterator](),D={},k("next"),k("throw"),k("return"),D[Symbol.asyncIterator]=function(){return this},D);function k(ie){D[ie]=y[ie]&&function(De){return new Promise(function(Le,Qe){De=y[ie](De),j(Le,Qe,De.done,De.value)})}}function j(ie,De,Le,Qe){Promise.resolve(Qe).then(function(We){ie({value:We,done:Le})},De)}}n(ih,"__asyncValues");function rh(y,C){return Object.defineProperty?Object.defineProperty(y,"raw",{value:C}):y.raw=C,y}n(rh,"__makeTemplateObject");var oh=Object.create?function(y,C){Object.defineProperty(y,"default",{enumerable:!0,value:C})}:function(y,C){y.default=C};function sh(y){if(y&&y.__esModule)return y;var C={};if(y!=null)for(var D in y)D!=="default"&&Object.prototype.hasOwnProperty.call(y,D)&&Qd(C,y,D);return oh(C,y),C}n(sh,"__importStar");function ah(y){return y&&y.__esModule?y:{default:y}}n(ah,"__importDefault");function Qu(y,C,D,k){if(D==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?y!==C||!k:!C.has(y))throw new TypeError("Cannot read private member from an object whose class did not declare it");return D==="m"?k:D==="a"?k.call(y):k?k.value:C.get(y)}n(Qu,"__classPrivateFieldGet");function lh(y,C,D,k,j){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!j)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?y!==C||!j:!C.has(y))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?j.call(y,D):j?j.value=D:C.set(y,D),D}n(lh,"__classPrivateFieldSet");function ch(y,C){if(C===null||typeof C!="object"&&typeof C!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof y=="function"?C===y:y.has(C)}n(ch,"__classPrivateFieldIn");function dh(y,C,D){if(C!=null){if(typeof C!="object"&&typeof C!="function")throw new TypeError("Object expected.");var k;if(D){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");k=C[Symbol.asyncDispose]}if(k===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");k=C[Symbol.dispose]}if(typeof k!="function")throw new TypeError("Object not disposable.");y.stack.push({value:C,dispose:k,async:D})}else D&&y.stack.push({async:!0});return C}n(dh,"__addDisposableResource");var uh=typeof SuppressedError=="function"?SuppressedError:function(y,C,D){var k=new Error(D);return k.name="SuppressedError",k.error=y,k.suppressed=C,k};function Zu(y){function C(k){y.error=y.hasError?new uh(k,y.error,"An error was suppressed during disposal."):k,y.hasError=!0}n(C,"fail");function D(){for(;y.stack.length;){var k=y.stack.pop();try{var j=k.dispose&&k.dispose.call(k.value);if(k.async)return Promise.resolve(j).then(D,function(ie){return C(ie),D()})}catch(ie){C(ie)}}if(y.hasError)throw y.error}return n(D,"next"),D()}n(Zu,"__disposeResources");const Rp={__extends:$f,__assign:Jd,__rest:Kf,__decorate:Jf,__param:Yc,__metadata:Ju,__awaiter:Yu,__generator:Xd,__createBinding:Qd,__exportStar:Qf,__values:il,__read:Xu,__spread:Zf,__spreadArrays:qf,__spreadArray:eh,__await:yl,__asyncGenerator:th,__asyncDelegator:nh,__asyncValues:ih,__makeTemplateObject:rh,__importStar:sh,__importDefault:ah,__classPrivateFieldGet:Qu,__classPrivateFieldSet:lh,__classPrivateFieldIn:ch,__addDisposableResource:dh,__disposeResources:Zu};var ha=64,fh=32,hh=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ph=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],mh=Math.pow(2,53)-1,_l=function(){function y(){this.state=Int32Array.from(ph),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return n(y,"RawSha256"),y.prototype.update=function(C){if(this.finished)throw new Error("Attempted to update an already finished hash.");var D=0,k=C.byteLength;if(this.bytesHashed+=k,this.bytesHashed*8>mh)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;k>0;)this.buffer[this.bufferLength++]=C[D++],k--,this.bufferLength===ha&&(this.hashBuffer(),this.bufferLength=0)},y.prototype.digest=function(){if(!this.finished){var C=this.bytesHashed*8,D=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),k=this.bufferLength;if(D.setUint8(this.bufferLength++,128),k%ha>=ha-8){for(var j=this.bufferLength;j<ha;j++)D.setUint8(j,0);this.hashBuffer(),this.bufferLength=0}for(var j=this.bufferLength;j<ha-8;j++)D.setUint8(j,0);D.setUint32(ha-8,Math.floor(C/4294967296),!0),D.setUint32(ha-4,C),this.hashBuffer(),this.finished=!0}for(var ie=new Uint8Array(fh),j=0;j<8;j++)ie[j*4]=this.state[j]>>>24&255,ie[j*4+1]=this.state[j]>>>16&255,ie[j*4+2]=this.state[j]>>>8&255,ie[j*4+3]=this.state[j]>>>0&255;return ie},y.prototype.hashBuffer=function(){for(var C=this,D=C.buffer,k=C.state,j=k[0],ie=k[1],De=k[2],Le=k[3],Qe=k[4],We=k[5],Pt=k[6],Nt=k[7],tn=0;tn<ha;tn++){if(tn<16)this.temp[tn]=(D[tn*4]&255)<<24|(D[tn*4+1]&255)<<16|(D[tn*4+2]&255)<<8|D[tn*4+3]&255;else{var ln=this.temp[tn-2],qn=(ln>>>17|ln<<15)^(ln>>>19|ln<<13)^ln>>>10;ln=this.temp[tn-15];var Fi=(ln>>>7|ln<<25)^(ln>>>18|ln<<14)^ln>>>3;this.temp[tn]=(qn+this.temp[tn-7]|0)+(Fi+this.temp[tn-16]|0)}var ci=(((Qe>>>6|Qe<<26)^(Qe>>>11|Qe<<21)^(Qe>>>25|Qe<<7))+(Qe&We^~Qe&Pt)|0)+(Nt+(hh[tn]+this.temp[tn]|0)|0)|0,dr=((j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10))+(j&ie^j&De^ie&De)|0;Nt=Pt,Pt=We,We=Qe,Qe=Le+ci|0,Le=De,De=ie,ie=j,j=ci+dr|0}k[0]+=j,k[1]+=ie,k[2]+=De,k[3]+=Le,k[4]+=Qe,k[5]+=We,k[6]+=Pt,k[7]+=Nt},y}(),qu=function(){function y(C){this.secret=C,this.hash=new _l,this.reset()}return n(y,"Sha256"),y.prototype.update=function(C){if(!($d(C)||this.error))try{this.hash.update(ac(C))}catch(D){this.error=D}},y.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},y.prototype.digest=function(){return Yu(this,void 0,void 0,function(){return Xd(this,function(C){return[2,this.digestSync()]})})},y.prototype.reset=function(){if(this.hash=new _l,this.secret){this.outer=new _l;var C=gh(this.secret),D=new Uint8Array(ha);D.set(C);for(var k=0;k<ha;k++)C[k]^=54,D[k]^=92;this.hash.update(C),this.outer.update(D);for(var k=0;k<C.byteLength;k++)C[k]=0}},y}();function gh(y){var C=ac(y);if(C.byteLength>ha){var D=new _l;D.update(C),C=D.digest()}var k=new Uint8Array(ha);return k.set(C),k}n(gh,"bufferFromSecret");var vh=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Sh(y){if(yh(y)&&typeof y.crypto.subtle=="object"){var C=y.crypto.subtle;return Fl(C)}return!1}n(Sh,"supportsWebCrypto");function yh(y){if(typeof y=="object"&&typeof y.crypto=="object"){var C=y.crypto.getRandomValues;return typeof C=="function"}return!1}n(yh,"supportsSecureRandom");function Fl(y){return y&&vh.every(function(C){return typeof y[C]=="function"})}n(Fl,"supportsSubtleCrypto");function Mp(y){return __awaiter(this,void 0,void 0,function(){var C,D,k;return __generator(this,function(j){switch(j.label){case 0:if(!Fl(y))return[2,!1];j.label=1;case 1:return j.trys.push([1,4,,5]),[4,y.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return C=j.sent(),[4,y.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},C,new Uint8Array(0))];case 3:return D=j.sent(),[2,D.byteLength===16];case 4:return k=j.sent(),[2,!1];case 5:return[2]}})})}n(Mp,"supportsZeroByteGCM");var ef=function(){function y(C){Sh(Jc())?this.hash=new jf(C):this.hash=new qu(C)}return n(y,"Sha256"),y.prototype.update=function(C,D){this.hash.update(ac(C))},y.prototype.digest=function(){return this.hash.digest()},y.prototype.reset=function(){this.hash.reset()},y}(),_h=c(1874409785),tf=c.n(_h);const Pp=n(y=>{let{serviceId:C,clientVersion:D}=y;return async()=>{var k,j,ie,De,Le;const Qe=typeof window<"u"&&(!(window==null||(k=window.navigator)===null||k===void 0)&&k.userAgent)?tf().parse(window.navigator.userAgent):void 0;var We,Pt;const Nt=[["aws-sdk-js",D],["ua","2.0"],[`os/${(Qe==null||(j=Qe.os)===null||j===void 0?void 0:j.name)||"other"}`,Qe==null||(ie=Qe.os)===null||ie===void 0?void 0:ie.version],["lang/js"],["md/browser",`${(We=Qe==null||(De=Qe.browser)===null||De===void 0?void 0:De.name)!==null&&We!==void 0?We:"unknown"}_${(Pt=Qe==null||(Le=Qe.browser)===null||Le===void 0?void 0:Le.version)!==null&&Pt!==void 0?Pt:"unknown"}`]];return C&&Nt.push([`api/${C}`,D]),Nt}},"defaultUserAgent"),bh=n(y=>()=>Promise.reject(y),"invalidProvider"),Xc=typeof TextEncoder=="function"?new TextEncoder:null,Eh=n(y=>{if(typeof y=="string"){if(Xc)return Xc.encode(y).byteLength;let C=y.length;for(let D=C-1;D>=0;D--){const k=y.charCodeAt(D);k>127&&k<=2047?C++:k>2047&&k<=65535&&(C+=2),k>=56320&&k<=57343&&D--}return C}else{if(typeof y.byteLength=="number")return y.byteLength;if(typeof y.size=="number")return y.size}throw new Error(`Body Length computation failed for ${y}`)},"calculateBodyLength"),nf=n(y=>new Date(Date.now()+y),"getSkewCorrectedDate");var Zd;const qd=n(y=>{var C,D;return b.isInstance(y)?(Zd=(C=y.headers)===null||C===void 0?void 0:C.date)!==null&&Zd!==void 0?Zd:(D=y.headers)===null||D===void 0?void 0:D.Date:void 0},"getDateHeader"),Ch=n((y,C)=>Math.abs(nf(C).getTime()-y)>=3e5,"isClockSkewed"),eu=n((y,C)=>{const D=Date.parse(y);return Ch(D,C)?D-Date.now():C},"getUpdatedSystemClockOffset"),lc=n((y,C)=>{if(!C)throw new Error(`Property \`${y}\` is not resolved for AWS SDK SigV4Auth`);return C},"throwSigningPropertyError"),rf=n(async y=>{var C,D,k;const j=lc("context",y.context),ie=lc("config",y.config),De=(C=j.endpointV2)===null||C===void 0||(D=C.properties)===null||D===void 0||(k=D.authSchemes)===null||k===void 0?void 0:k[0],Qe=await lc("signer",ie.signer)(De),We=y==null?void 0:y.signingRegion,Pt=y==null?void 0:y.signingRegionSet,Nt=y==null?void 0:y.signingName;return{config:ie,signer:Qe,signingRegion:We,signingRegionSet:Pt,signingName:Nt}},"validateSigningProperties");class Th{async sign(C,D,k){var j;if(!S.isInstance(C))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const ie=await rf(k),{config:De,signer:Le}=ie;let{signingRegion:Qe,signingName:We}=ie;const Pt=k.context;var Nt;if((Nt=Pt==null||(j=Pt.authSchemes)===null||j===void 0?void 0:j.length)!==null&&Nt!==void 0?Nt:0>1){const[Fi,ci]=Pt.authSchemes;if((Fi==null?void 0:Fi.name)==="sigv4a"&&(ci==null?void 0:ci.name)==="sigv4"){var tn;Qe=(tn=ci==null?void 0:ci.signingRegion)!==null&&tn!==void 0?tn:Qe;var ln;We=(ln=ci==null?void 0:ci.signingName)!==null&&ln!==void 0?ln:We}}return await Le.sign(C,{signingDate:nf(De.systemClockOffset),signingRegion:Qe,signingService:We})}errorHandler(C){return D=>{var k;const j=(k=D.ServerTime)!==null&&k!==void 0?k:qd(D.$response);if(j){const ie=lc("config",C.config),De=ie.systemClockOffset;ie.systemClockOffset=eu(j,ie.systemClockOffset),ie.systemClockOffset!==De&&D.$metadata&&(D.$metadata.clockSkewCorrected=!0)}throw D}}successHandler(C,D){const k=qd(C);if(k){const j=lc("config",D.config);j.systemClockOffset=eu(k,j.systemClockOffset)}}}n(Th,"AwsSdkSigV4Signer");const of=null,sf="required",xa="fn",Ba="argv",xl="ref",af=!0,lf="isSet",cc="booleanEquals",bl="error",rl="endpoint",pa="tree",tu="PartitionResult",Qc={[sf]:!1,type:"String"},nu={[sf]:!0,default:!1,type:"Boolean"},cf={[xl]:"Endpoint"},df={[xa]:cc,[Ba]:[{[xl]:"UseFIPS"},!0]},uf={[xa]:cc,[Ba]:[{[xl]:"UseDualStack"},!0]},Ua={},Zc={[xa]:"getAttr",[Ba]:[{[xl]:tu},"supportsFIPS"]},iu={[xa]:cc,[Ba]:[!0,{[xa]:"getAttr",[Ba]:[{[xl]:tu},"supportsDualStack"]}]},qc=[df],ed=[uf],ff=[{[xl]:"Region"}],Ih={version:"1.0",parameters:{Region:Qc,UseDualStack:nu,UseFIPS:nu,Endpoint:Qc},rules:[{conditions:[{[xa]:lf,[Ba]:[cf]}],rules:[{conditions:qc,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bl},{conditions:ed,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bl},{endpoint:{url:cf,properties:Ua,headers:Ua},type:rl}],type:pa},{conditions:[{[xa]:lf,[Ba]:ff}],rules:[{conditions:[{[xa]:"aws.partition",[Ba]:ff,assign:tu}],rules:[{conditions:[df,uf],rules:[{conditions:[{[xa]:cc,[Ba]:[af,Zc]},iu],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ua,headers:Ua},type:rl}],type:pa},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bl}],type:pa},{conditions:qc,rules:[{conditions:[{[xa]:cc,[Ba]:[Zc,af]}],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ua,headers:Ua},type:rl}],type:pa},{error:"FIPS is enabled but this partition does not support FIPS",type:bl}],type:pa},{conditions:ed,rules:[{conditions:[iu],rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ua,headers:Ua},type:rl}],type:pa},{error:"DualStack is enabled but this partition does not support DualStack",type:bl}],type:pa},{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:Ua,headers:Ua},type:rl}],type:pa}],type:pa},{error:"Invalid Configuration: Missing Region",type:bl}]},wh=new Pe({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Dh=n(function(y){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return wh.get(y,()=>mt(Ih,{endpointParams:y,logger:C.logger}))},"defaultEndpointResolver");it.aws=ke;const hf=n(y=>{var C,D,k,j,ie,De,Le,Qe,We,Pt,Nt,tn;return{apiVersion:"2021-05-15",base64Decoder:(C=y==null?void 0:y.base64Decoder)!==null&&C!==void 0?C:qt,base64Encoder:(D=y==null?void 0:y.base64Encoder)!==null&&D!==void 0?D:xr,disableHostPrefix:(k=y==null?void 0:y.disableHostPrefix)!==null&&k!==void 0?k:!1,endpointProvider:(j=y==null?void 0:y.endpointProvider)!==null&&j!==void 0?j:Dh,extensions:(ie=y==null?void 0:y.extensions)!==null&&ie!==void 0?ie:[],httpAuthSchemeProvider:(De=y==null?void 0:y.httpAuthSchemeProvider)!==null&&De!==void 0?De:Hf,httpAuthSchemes:(Le=y==null?void 0:y.httpAuthSchemes)!==null&&Le!==void 0?Le:[{schemeId:"aws.auth#sigv4",identityProvider:ln=>ln.getIdentityProvider("aws.auth#sigv4"),signer:new Th}],logger:(Qe=y==null?void 0:y.logger)!==null&&Qe!==void 0?Qe:new Ql,serviceId:(We=y==null?void 0:y.serviceId)!==null&&We!==void 0?We:"Chime SDK Messaging",urlParser:(Pt=y==null?void 0:y.urlParser)!==null&&Pt!==void 0?Pt:Si,utf8Decoder:(Nt=y==null?void 0:y.utf8Decoder)!==null&&Nt!==void 0?Nt:Mr,utf8Encoder:(tn=y==null?void 0:y.utf8Encoder)!==null&&tn!==void 0?tn:ur}},"getRuntimeConfig");class dc extends Error{constructor(C,D=!0){var ie;let k,j=!0;typeof D=="boolean"?(k=void 0,j=D):D!=null&&typeof D=="object"&&(k=D.logger,j=D.tryNextLink??!0),super(C),this.name="ProviderError",this.tryNextLink=j,Object.setPrototypeOf(this,dc.prototype),(ie=k==null?void 0:k.debug)==null||ie.call(k,`@smithy/property-provider ${j?"->":"(!)"} ${C}`)}static from(C,D=!0){return Object.assign(new this(C.message,D),C)}}n(dc,"ProviderError_ProviderError");class ru extends dc{constructor(C,D=!0){super(C,D),this.name="CredentialsProviderError",Object.setPrototypeOf(this,ru.prototype)}}n(ru,"CredentialsProviderError");class ou extends dc{constructor(C,D=!0){super(C,D),this.name="TokenProviderError",Object.setPrototypeOf(this,ou.prototype)}}n(ou,"TokenProviderError");const Lp=n((...y)=>async()=>{if(y.length===0)throw new ProviderError("No providers in chain");let C;for(const D of y)try{return await D()}catch(k){if(C=k,k!=null&&k.tryNextLink)continue;throw k}throw C},"chain"),Ah=n((y,C,D)=>{let k,j,ie,De=!1;const Le=n(async()=>{j||(j=y());try{k=await j,ie=!0,De=!1}finally{j=void 0}return k},"coalesceProvider");return C===void 0?async Qe=>((!ie||Qe!=null&&Qe.forceRefresh)&&(k=await Le()),k):async Qe=>((!ie||Qe!=null&&Qe.forceRefresh)&&(k=await Le()),De?k:D&&!D(k)?(De=!0,k):(C(k)&&await Le(),k))},"memoize"),Oh=["in-region","cross-region","mobile","standard","legacy"],Rh=n(({defaultsMode:y}={})=>Ah(async()=>{const C=typeof y=="function"?await y():y;switch(C==null?void 0:C.toLowerCase()){case"auto":return Promise.resolve(Mh()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(C==null?void 0:C.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Oh.join(", ")}, got ${C}`)}}),"resolveDefaultsModeConfig"),Mh=n(()=>{var D,k;const y=typeof window<"u"&&((D=window==null?void 0:window.navigator)!=null&&D.userAgent)?tf().parse(window.navigator.userAgent):void 0,C=(k=y==null?void 0:y.platform)==null?void 0:k.type;return C==="tablet"||C==="mobile"},"isMobileBrowser"),Ph=n(y=>{const C=Rh(y),D=n(()=>C().then(hl),"defaultConfigProvider"),k=hf(y);var j,ie,De,Le,Qe,We,Pt,Nt,tn,ln,qn;return{...k,...y,runtime:"browser",defaultsMode:C,bodyLengthChecker:(j=y==null?void 0:y.bodyLengthChecker)!==null&&j!==void 0?j:Eh,credentialDefaultProvider:(ie=y==null?void 0:y.credentialDefaultProvider)!==null&&ie!==void 0?ie:Fi=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:(De=y==null?void 0:y.defaultUserAgentProvider)!==null&&De!==void 0?De:Pp({serviceId:k.serviceId,clientVersion:sc().version}),maxAttempts:(Le=y==null?void 0:y.maxAttempts)!==null&&Le!==void 0?Le:xt,region:(Qe=y==null?void 0:y.region)!==null&&Qe!==void 0?Qe:bh("Region is missing"),requestHandler:Bo.create((We=y==null?void 0:y.requestHandler)!==null&&We!==void 0?We:D),retryMode:(Pt=y==null?void 0:y.retryMode)!==null&&Pt!==void 0?Pt:async()=>(await D()).retryMode||Cn,sha256:(Nt=y==null?void 0:y.sha256)!==null&&Nt!==void 0?Nt:ef,streamCollector:(tn=y==null?void 0:y.streamCollector)!==null&&tn!==void 0?tn:ya,useDualstackEndpoint:(ln=y==null?void 0:y.useDualstackEndpoint)!==null&&ln!==void 0?ln:()=>Promise.resolve(Zt),useFipsEndpoint:(qn=y==null?void 0:y.useFipsEndpoint)!==null&&qn!==void 0?qn:()=>Promise.resolve(Dn)}},"runtimeConfig_browser_getRuntimeConfig"),kh=n(y=>{let C=n(async()=>{if(y.region===void 0)throw new Error("Region is missing from runtimeConfig");const D=y.region;return typeof D=="string"?D:D()},"runtimeConfigRegion");return{setRegion(D){C=D},region(){return C}}},"getAwsRegionExtensionConfiguration"),Lh=n(y=>({region:y.region()}),"resolveAwsRegionExtensionConfiguration"),Nh="AWS_REGION",pf="region",Fh={environmentVariableSelector:y=>y[Nh],configFileSelector:y=>y[pf],default:()=>{throw new Error("Region is missing")}},Np={preferredFile:"credentials"},xh=n(y=>{const C=y.httpAuthSchemes;let D=y.httpAuthSchemeProvider,k=y.credentials;return{setHttpAuthScheme(j){const ie=C.findIndex(De=>De.schemeId===j.schemeId);ie===-1?C.push(j):C.splice(ie,1,j)},httpAuthSchemes(){return C},setHttpAuthSchemeProvider(j){D=j},httpAuthSchemeProvider(){return D},setCredentials(j){k=j},credentials(){return k}}},"getHttpAuthExtensionConfiguration"),Bh=n(y=>({httpAuthSchemes:y.httpAuthSchemes(),httpAuthSchemeProvider:y.httpAuthSchemeProvider(),credentials:y.credentials()}),"resolveHttpAuthRuntimeConfig"),uc=n(y=>y,"asPartial"),fc=n((y,C)=>{const D={...uc(kh(y)),...uc(Ld(y)),...uc(d(y)),...uc(xh(y))};return C.forEach(k=>k.configure(D)),{...y,...Lh(D),...Fd(D),...h(D),...Bh(D)}},"resolveRuntimeExtensions");class Qs extends $n{destroy(){super.destroy()}constructor(...[C]){const D=Ph(C||{}),k=Dp(D),j=ge(k),ie=nt(j),De=io(ie),Le=De,Qe=Zo(Le),We=Wf(Qe),Pt=fc(We,(C==null?void 0:C.extensions)||[]);super(Pt),this.config=Pt,this.middlewareStack.use($t(this.config)),this.middlewareStack.use(ml(this.config)),this.middlewareStack.use(Wr(this.config)),this.middlewareStack.use(A(this.config)),this.middlewareStack.use(P(this.config)),this.middlewareStack.use(he(this.config)),this.middlewareStack.use(Ko(this.config,{httpAuthSchemeParametersProvider:Vf,identityProviderConfigProvider:async Nt=>new N({"aws.auth#sigv4":Nt.credentials})})),this.middlewareStack.use(Wd(this.config))}}n(Qs,"ChimeSDKMessagingClient");const Uh=n((y,C)=>Io(y,C).then(D=>C.utf8Encoder(D)),"collectBodyString"),jr=n((y,C)=>Uh(y,C).then(D=>{if(D.length)try{return JSON.parse(D)}catch(k){throw(k==null?void 0:k.name)==="SyntaxError"&&Object.defineProperty(k,"$responseBodyText",{value:D}),k}return{}}),"parseJsonBody"),Vh=n(async(y,C)=>{const D=await jr(y,C);var k;return D.message=(k=D.message)!==null&&k!==void 0?k:D.Message,D},"parseJsonErrorBody"),mf=n((y,C)=>{const D=n((ie,De)=>Object.keys(ie).find(Le=>Le.toLowerCase()===De.toLowerCase()),"findKey"),k=n(ie=>{let De=ie;return typeof De=="number"&&(De=De.toString()),De.indexOf(",")>=0&&(De=De.split(",")[0]),De.indexOf(":")>=0&&(De=De.split(":")[0]),De.indexOf("#")>=0&&(De=De.split("#")[1]),De},"sanitizeErrorCode"),j=D(y.headers,"x-amzn-errortype");if(j!==void 0)return k(y.headers[j]);if(C.code!==void 0)return k(C.code);if(C.__type!==void 0)return k(C.__type)},"loadRestJsonErrorCode");class Ks extends Ta{constructor(C){super(C),Object.setPrototypeOf(this,Ks.prototype)}}n(Ks,"ChimeSDKMessagingServiceException");const Hh={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},su={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},gf={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class hc extends Ks{constructor(C){super({name:"BadRequestException",$fault:"client",...C}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,hc.prototype),this.Code=C.Code,this.Message=C.Message}}n(hc,"BadRequestException");class pc extends Ks{constructor(C){super({name:"ConflictException",$fault:"client",...C}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,pc.prototype),this.Code=C.Code,this.Message=C.Message}}n(pc,"ConflictException");class mc extends Ks{constructor(C){super({name:"ForbiddenException",$fault:"client",...C}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,mc.prototype),this.Code=C.Code,this.Message=C.Message}}n(mc,"ForbiddenException");class gc extends Ks{constructor(C){super({name:"NotFoundException",$fault:"client",...C}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,gc.prototype),this.Code=C.Code,this.Message=C.Message}}n(gc,"NotFoundException");class Bl extends Ks{constructor(C){super({name:"ServiceFailureException",$fault:"server",...C}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,Bl.prototype),this.Code=C.Code,this.Message=C.Message}}n(Bl,"ServiceFailureException");class O extends Ks{constructor(C){super({name:"ServiceUnavailableException",$fault:"server",...C}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,O.prototype),this.Code=C.Code,this.Message=C.Message}}n(O,"ServiceUnavailableException");class M extends Ks{constructor(C){super({name:"ThrottledClientException",$fault:"client",...C}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,M.prototype),this.Code=C.Code,this.Message=C.Message}}n(M,"ThrottledClientException");class W extends Ks{constructor(C){super({name:"UnauthorizedClientException",$fault:"client",...C}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,W.prototype),this.Code=C.Code,this.Message=C.Message}}n(W,"UnauthorizedClientException");class Y extends Ks{constructor(C){super({name:"ResourceLimitExceededException",$fault:"client",...C}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,Y.prototype),this.Code=C.Code,this.Message=C.Message}}n(Y,"ResourceLimitExceededException");const le={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},ue={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},Se={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},Ee={ASYNC:"ASYNC"},je={ABORT:"ABORT",CONTINUE:"CONTINUE"},ut={DEFAULT:"DEFAULT",VOIP:"VOIP"},at={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},qe={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},Ze={CONTROL:"CONTROL",STANDARD:"STANDARD"},Tt={Channel:"Channel",ChannelMessage:"ChannelMessage"},Qt={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},Mn={MEMBERS:"MEMBERS"},Gn={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},Pn=n(y=>({...y,...y.Name&&{Name:Mi}}),"IdentityFilterSensitiveLog"),ii=n(y=>({...y,...y.InvitedBy&&{InvitedBy:Pn(y.InvitedBy)},...y.Members&&{Members:y.Members.map(C=>Pn(C))}}),"BatchChannelMembershipsFilterSensitiveLog"),Pi=n(y=>({...y,...y.BatchChannelMemberships&&{BatchChannelMemberships:ii(y.BatchChannelMemberships)}}),"BatchCreateChannelMembershipResponseFilterSensitiveLog"),zi=n(y=>({...y,...y.Name&&{Name:Mi},...y.Metadata&&{Metadata:Mi},...y.CreatedBy&&{CreatedBy:Pn(y.CreatedBy)}}),"ChannelFilterSensitiveLog"),Pr=n(y=>({...y,...y.Name&&{Name:Mi},...y.Metadata&&{Metadata:Mi}}),"ChannelAssociatedWithFlowSummaryFilterSensitiveLog"),Or=n(y=>({...y,...y.Member&&{Member:Pn(y.Member)},...y.CreatedBy&&{CreatedBy:Pn(y.CreatedBy)}}),"ChannelBanFilterSensitiveLog"),Yr=n(y=>({...y,...y.Member&&{Member:Pn(y.Member)}}),"ChannelBanSummaryFilterSensitiveLog"),jo=n(y=>({...y,...y.Name&&{Name:Mi}}),"ProcessorFilterSensitiveLog"),qr=n(y=>({...y,...y.Processors&&{Processors:y.Processors.map(C=>jo(C))},...y.Name&&{Name:Mi}}),"ChannelFlowFilterSensitiveLog"),$o=n(y=>({...y,...y.StringValues&&{StringValues:Mi}}),"MessageAttributeValueFilterSensitiveLog"),_s=n(y=>({...y,...y.Title&&{Title:Mi},...y.Body&&{Body:Mi}}),"PushNotificationConfigurationFilterSensitiveLog"),ks=n(y=>({...y,...y.Content&&{Content:Mi},...y.Metadata&&{Metadata:Mi},...y.PushNotification&&{PushNotification:_s(y.PushNotification)},...y.MessageAttributes&&{MessageAttributes:Object.entries(y.MessageAttributes).reduce((C,D)=>{let[k,j]=D;return C[k]=$o(j),C},{})},...y.ContentType&&{ContentType:Mi}}),"ChannelMessageCallbackFilterSensitiveLog"),Da=n(y=>({...y,...y.ChannelMessage&&{ChannelMessage:ks(y.ChannelMessage)}}),"ChannelFlowCallbackRequestFilterSensitiveLog"),ma=n(y=>({...y,...y.Name&&{Name:Mi},...y.Processors&&{Processors:y.Processors.map(C=>jo(C))}}),"ChannelFlowSummaryFilterSensitiveLog"),Zs=n(y=>({...y,...y.InvitedBy&&{InvitedBy:Pn(y.InvitedBy)},...y.Member&&{Member:Pn(y.Member)}}),"ChannelMembershipFilterSensitiveLog"),qs=n(y=>({...y,...y.Name&&{Name:Mi},...y.Metadata&&{Metadata:Mi}}),"ChannelSummaryFilterSensitiveLog"),Ds=n(y=>({...y,...y.ChannelSummary&&{ChannelSummary:qs(y.ChannelSummary)}}),"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog"),$a=n(y=>({...y,...y.FilterRule&&{FilterRule:Mi}}),"PushNotificationPreferencesFilterSensitiveLog"),ca=n(y=>({...y,...y.PushNotifications&&{PushNotifications:$a(y.PushNotifications)}}),"ChannelMembershipPreferencesFilterSensitiveLog"),Ul=n(y=>({...y,...y.Member&&{Member:Pn(y.Member)}}),"ChannelMembershipSummaryFilterSensitiveLog"),ol=n(y=>({...y,...y.Content&&{Content:Mi},...y.Metadata&&{Metadata:Mi},...y.Sender&&{Sender:Pn(y.Sender)},...y.MessageAttributes&&{MessageAttributes:Object.entries(y.MessageAttributes).reduce((C,D)=>{let[k,j]=D;return C[k]=$o(j),C},{})},...y.ContentType&&{ContentType:Mi}}),"ChannelMessageFilterSensitiveLog"),Ka=n(y=>({...y,...y.Content&&{Content:Mi},...y.Metadata&&{Metadata:Mi},...y.Sender&&{Sender:Pn(y.Sender)},...y.MessageAttributes&&{MessageAttributes:Object.entries(y.MessageAttributes).reduce((C,D)=>{let[k,j]=D;return C[k]=$o(j),C},{})},...y.ContentType&&{ContentType:Mi}}),"ChannelMessageSummaryFilterSensitiveLog"),ga=n(y=>({...y,...y.ChannelSummary&&{ChannelSummary:qs(y.ChannelSummary)}}),"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog"),sl=n(y=>({...y,...y.Moderator&&{Moderator:Pn(y.Moderator)},...y.CreatedBy&&{CreatedBy:Pn(y.CreatedBy)}}),"ChannelModeratorFilterSensitiveLog"),vc=n(y=>({...y,...y.Moderator&&{Moderator:Pn(y.Moderator)}}),"ChannelModeratorSummaryFilterSensitiveLog"),ea=n(y=>({...y,...y.Key&&{Key:Mi},...y.Value&&{Value:Mi}}),"TagFilterSensitiveLog"),Vl=n(y=>({...y,...y.Name&&{Name:Mi},...y.Metadata&&{Metadata:Mi},...y.ClientRequestToken&&{ClientRequestToken:Mi},...y.Tags&&{Tags:y.Tags.map(C=>ea(C))},...y.ChannelId&&{ChannelId:Mi}}),"CreateChannelRequestFilterSensitiveLog"),Sc=n(y=>({...y,...y.Member&&{Member:Pn(y.Member)}}),"CreateChannelBanResponseFilterSensitiveLog"),El=n(y=>({...y,...y.Processors&&{Processors:y.Processors.map(C=>jo(C))},...y.Name&&{Name:Mi},...y.Tags&&{Tags:y.Tags.map(C=>ea(C))},...y.ClientRequestToken&&{ClientRequestToken:Mi}}),"CreateChannelFlowRequestFilterSensitiveLog"),yc=n(y=>({...y,...y.Member&&{Member:Pn(y.Member)}}),"CreateChannelMembershipResponseFilterSensitiveLog"),_c=n(y=>({...y,...y.ChannelModerator&&{ChannelModerator:Pn(y.ChannelModerator)}}),"CreateChannelModeratorResponseFilterSensitiveLog"),au=n(y=>({...y,...y.Channel&&{Channel:zi(y.Channel)}}),"DescribeChannelResponseFilterSensitiveLog"),vf=n(y=>({...y,...y.ChannelBan&&{ChannelBan:Or(y.ChannelBan)}}),"DescribeChannelBanResponseFilterSensitiveLog"),bc=n(y=>({...y,...y.ChannelFlow&&{ChannelFlow:qr(y.ChannelFlow)}}),"DescribeChannelFlowResponseFilterSensitiveLog"),Sf=n(y=>({...y,...y.ChannelMembership&&{ChannelMembership:Zs(y.ChannelMembership)}}),"DescribeChannelMembershipResponseFilterSensitiveLog"),lu=n(y=>({...y,...y.ChannelMembership&&{ChannelMembership:Ds(y.ChannelMembership)}}),"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog"),td=n(y=>({...y,...y.Channel&&{Channel:ga(y.Channel)}}),"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog"),Ec=n(y=>({...y,...y.ChannelModerator&&{ChannelModerator:sl(y.ChannelModerator)}}),"DescribeChannelModeratorResponseFilterSensitiveLog"),cu=n(y=>({...y,...y.Member&&{Member:Pn(y.Member)},...y.Preferences&&{Preferences:ca(y.Preferences)}}),"GetChannelMembershipPreferencesResponseFilterSensitiveLog"),nd=n(y=>({...y,...y.ChannelMessage&&{ChannelMessage:ol(y.ChannelMessage)}}),"GetChannelMessageResponseFilterSensitiveLog"),id=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelBansRequestFilterSensitiveLog"),yf=n(y=>({...y,...y.NextToken&&{NextToken:Mi},...y.ChannelBans&&{ChannelBans:y.ChannelBans.map(C=>Yr(C))}}),"ListChannelBansResponseFilterSensitiveLog"),Hl=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelFlowsRequestFilterSensitiveLog"),rd=n(y=>({...y,...y.ChannelFlows&&{ChannelFlows:y.ChannelFlows.map(C=>ma(C))},...y.NextToken&&{NextToken:Mi}}),"ListChannelFlowsResponseFilterSensitiveLog"),Fp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelMembershipsRequestFilterSensitiveLog"),xp=n(y=>({...y,...y.ChannelMemberships&&{ChannelMemberships:y.ChannelMemberships.map(C=>Ul(C))},...y.NextToken&&{NextToken:Mi}}),"ListChannelMembershipsResponseFilterSensitiveLog"),Bp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog"),Up=n(y=>({...y,...y.ChannelMemberships&&{ChannelMemberships:y.ChannelMemberships.map(C=>Ds(C))},...y.NextToken&&{NextToken:Mi}}),"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog"),Vp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelMessagesRequestFilterSensitiveLog"),Hp=n(y=>({...y,...y.NextToken&&{NextToken:Mi},...y.ChannelMessages&&{ChannelMessages:y.ChannelMessages.map(C=>Ka(C))}}),"ListChannelMessagesResponseFilterSensitiveLog"),Wp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelModeratorsRequestFilterSensitiveLog"),Gp=n(y=>({...y,...y.NextToken&&{NextToken:Mi},...y.ChannelModerators&&{ChannelModerators:y.ChannelModerators.map(C=>vc(C))}}),"ListChannelModeratorsResponseFilterSensitiveLog"),zp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelsRequestFilterSensitiveLog"),jp=n(y=>({...y,...y.Channels&&{Channels:y.Channels.map(C=>qs(C))},...y.NextToken&&{NextToken:Mi}}),"ListChannelsResponseFilterSensitiveLog"),$p=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog"),Kp=n(y=>({...y,...y.Channels&&{Channels:y.Channels.map(C=>Pr(C))},...y.NextToken&&{NextToken:Mi}}),"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog"),Jp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog"),Yp=n(y=>({...y,...y.Channels&&{Channels:y.Channels.map(C=>ga(C))},...y.NextToken&&{NextToken:Mi}}),"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog"),Xp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListSubChannelsRequestFilterSensitiveLog"),Qp=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"ListSubChannelsResponseFilterSensitiveLog"),Zp=n(y=>({...y,...y.Tags&&{Tags:y.Tags.map(C=>ea(C))}}),"ListTagsForResourceResponseFilterSensitiveLog"),qp=n(y=>({...y,...y.Preferences&&{Preferences:ca(y.Preferences)}}),"PutChannelMembershipPreferencesRequestFilterSensitiveLog"),em=n(y=>({...y,...y.Member&&{Member:Pn(y.Member)},...y.Preferences&&{Preferences:ca(y.Preferences)}}),"PutChannelMembershipPreferencesResponseFilterSensitiveLog"),tm=n(y=>({...y,...y.NextToken&&{NextToken:Mi}}),"SearchChannelsRequestFilterSensitiveLog"),nm=n(y=>({...y,...y.Channels&&{Channels:y.Channels.map(C=>qs(C))},...y.NextToken&&{NextToken:Mi}}),"SearchChannelsResponseFilterSensitiveLog"),im=n(y=>({...y,...y.Content&&{Content:Mi},...y.Metadata&&{Metadata:Mi},...y.ClientRequestToken&&{ClientRequestToken:Mi},...y.PushNotification&&{PushNotification:_s(y.PushNotification)},...y.MessageAttributes&&{MessageAttributes:Object.entries(y.MessageAttributes).reduce((C,D)=>{let[k,j]=D;return C[k]=$o(j),C},{})},...y.ContentType&&{ContentType:Mi}}),"SendChannelMessageRequestFilterSensitiveLog"),rm=n(y=>({...y,...y.Tags&&{Tags:y.Tags.map(C=>ea(C))}}),"TagResourceRequestFilterSensitiveLog"),om=n(y=>({...y,...y.TagKeys&&{TagKeys:Mi}}),"UntagResourceRequestFilterSensitiveLog"),sm=n(y=>({...y,...y.Name&&{Name:Mi},...y.Metadata&&{Metadata:Mi}}),"UpdateChannelRequestFilterSensitiveLog"),am=n(y=>({...y,...y.Processors&&{Processors:y.Processors.map(C=>jo(C))},...y.Name&&{Name:Mi}}),"UpdateChannelFlowRequestFilterSensitiveLog"),lm=n(y=>({...y,...y.Content&&{Content:Mi},...y.Metadata&&{Metadata:Mi},...y.ContentType&&{ContentType:Mi}}),"UpdateChannelMessageRequestFilterSensitiveLog"),Wm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/channel-flow"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return j=JSON.stringify(Ii(y,{ChannelFlowArn:[]})),D.m("PUT").h(k).b(j),D.build()},"se_AssociateChannelFlowCommand"),Gm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/memberships"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[Ic]:[,"batch-create"]});let ie;return ie=JSON.stringify(Ii(y,{MemberArns:De=>Wi(De),SubChannelId:[],Type:[]})),D.m("POST").h(k).q(j).b(ie),D.build()},"se_BatchCreateChannelMembershipCommand"),zm=n(async(y,C)=>{const D=en(y,C),k={"content-type":"application/json"};D.bp("/channels/{ChannelArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[Ic]:[,"channel-flow-callback"]});let ie;return ie=JSON.stringify(Ii(y,{CallbackId:[!0,De=>De??gs()],ChannelMessage:De=>Wi(De),DeleteResource:[]})),D.m("POST").h(k).q(j).b(ie),D.build()},"se_ChannelFlowCallbackCommand"),jm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels");let j;return j=JSON.stringify(Ii(y,{AppInstanceArn:[],ChannelId:[],ClientRequestToken:[!0,ie=>ie??gs()],ElasticChannelConfiguration:ie=>Wi(ie),ExpirationSettings:ie=>Wi(ie),MemberArns:ie=>Wi(ie),Metadata:[],Mode:[],ModeratorArns:ie=>Wi(ie),Name:[],Privacy:[],Tags:ie=>Wi(ie)})),D.m("POST").h(k).b(j),D.build()},"se_CreateChannelCommand"),$m=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/bans"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return j=JSON.stringify(Ii(y,{MemberArn:[]})),D.m("POST").h(k).b(j),D.build()},"se_CreateChannelBanCommand"),Km=n(async(y,C)=>{const D=en(y,C),k={"content-type":"application/json"};D.bp("/channel-flows");let j;return j=JSON.stringify(Ii(y,{AppInstanceArn:[],ClientRequestToken:[!0,ie=>ie??gs()],Name:[],Processors:ie=>Wi(ie),Tags:ie=>Wi(ie)})),D.m("POST").h(k).b(j),D.build()},"se_CreateChannelFlowCommand"),Jm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/memberships"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return j=JSON.stringify(Ii(y,{MemberArn:[],SubChannelId:[],Type:[]})),D.m("POST").h(k).b(j),D.build()},"se_CreateChannelMembershipCommand"),Ym=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/moderators"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return j=JSON.stringify(Ii(y,{ChannelModeratorArn:[]})),D.m("POST").h(k).b(j),D.build()},"se_CreateChannelModeratorCommand"),Xm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return D.m("DELETE").h(k).b(j),D.build()},"se_DeleteChannelCommand"),Qm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/bans/{MemberArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let j;return D.m("DELETE").h(k).b(j),D.build()},"se_DeleteChannelBanCommand"),Zm=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/channel-flows/{ChannelFlowArn}"),D.p("ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let j;return D.m("DELETE").h(k).b(j),D.build()},"se_DeleteChannelFlowCommand"),qm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/memberships/{MemberArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MemberArn",()=>y.MemberArn,"{MemberArn}",!1);const j=On({[Tl]:[,y[Cl]]});let ie;return D.m("DELETE").h(k).q(j).b(ie),D.build()},"se_DeleteChannelMembershipCommand"),eg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/messages/{MessageId}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MessageId",()=>y.MessageId,"{MessageId}",!1);const j=On({[Tl]:[,y[Cl]]});let ie;return D.m("DELETE").h(k).q(j).b(ie),D.build()},"se_DeleteChannelMessageCommand"),tg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/moderators/{ChannelModeratorArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("ChannelModeratorArn",()=>y.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let j;return D.m("DELETE").h(k).b(j),D.build()},"se_DeleteChannelModeratorCommand"),ng=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),D.p("AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let j;return D.m("DELETE").h(k).b(j),D.build()},"se_DeleteMessagingStreamingConfigurationsCommand"),ig=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return D.m("GET").h(k).b(j),D.build()},"se_DescribeChannelCommand"),rg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/bans/{MemberArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let j;return D.m("GET").h(k).b(j),D.build()},"se_DescribeChannelBanCommand"),og=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/channel-flows/{ChannelFlowArn}"),D.p("ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let j;return D.m("GET").h(k).b(j),D.build()},"se_DescribeChannelFlowCommand"),sg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/memberships/{MemberArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MemberArn",()=>y.MemberArn,"{MemberArn}",!1);const j=On({[Tl]:[,y[Cl]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_DescribeChannelMembershipCommand"),ag=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[wc]:[,"app-instance-user-membership"],[fu]:[,ft(y[al],"AppInstanceUserArn")]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_DescribeChannelMembershipForAppInstanceUserCommand"),lg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[wc]:[,"app-instance-user-moderated-channel"],[fu]:[,ft(y[al],"AppInstanceUserArn")]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_DescribeChannelModeratedByAppInstanceUserCommand"),cg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/moderators/{ChannelModeratorArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("ChannelModeratorArn",()=>y.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let j;return D.m("GET").h(k).b(j),D.build()},"se_DescribeChannelModeratorCommand"),dg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let j;return D.m("DELETE").h(k).b(j),D.build()},"se_DisassociateChannelFlowCommand"),ug=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/memberships/{MemberArn}/preferences"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let j;return D.m("GET").h(k).b(j),D.build()},"se_GetChannelMembershipPreferencesCommand"),fg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/messages/{MessageId}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MessageId",()=>y.MessageId,"{MessageId}",!1);const j=On({[Tl]:[,y[Cl]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_GetChannelMessageCommand"),hg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/messages/{MessageId}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MessageId",()=>y.MessageId,"{MessageId}",!1);const j=On({[wc]:[,"message-status"],[Tl]:[,y[Cl]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_GetChannelMessageStatusCommand"),pg=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/endpoints/messaging-session");let j;return D.m("GET").h(k).b(j),D.build()},"se_GetMessagingSessionEndpointCommand"),mg=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),D.p("AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let j;return D.m("GET").h(k).b(j),D.build()},"se_GetMessagingStreamingConfigurationsCommand"),gg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/bans"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelBansCommand"),vg=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/channel-flows");const j=On({[Sa]:[,ft(y[Aa],"AppInstanceArn")],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelFlowsCommand"),Sg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/memberships"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[Dc]:[,y[rp]],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]],[Tl]:[,y[Cl]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelMembershipsCommand"),yg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels");const j=On({[wc]:[,"app-instance-user-memberships"],[fu]:[,y[al]],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelMembershipsForAppInstanceUserCommand"),_g=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/messages"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[Em]:[,y[wf]],[ap]:[()=>y.NotBefore!==void 0,()=>Gs(y[ld]).toString()],[sp]:[()=>y.NotAfter!==void 0,()=>Gs(y[vm]).toString()],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]],[Tl]:[,y[Cl]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelMessagesCommand"),bg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/moderators"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelModeratorsCommand"),Eg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels");const j=On({[Sa]:[,ft(y[Aa],"AppInstanceArn")],[bm]:[,y[Sm]],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelsCommand"),Cg=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/channels");const j=On({[wc]:[,"channel-flow-associations"],[_m]:[,ft(y[gm],"ChannelFlowArn")],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelsAssociatedWithChannelFlowCommand"),Tg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels");const j=On({[wc]:[,"app-instance-user-moderated-channels"],[fu]:[,y[al]],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListChannelsModeratedByAppInstanceUserCommand"),Ig=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/subchannels"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const j=On({[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListSubChannelsCommand"),wg=n(async(y,C)=>{const D=en(y,C),k={};D.bp("/tags");const j=On({[op]:[,ft(y[ym],"ResourceARN")]});let ie;return D.m("GET").h(k).q(j).b(ie),D.build()},"se_ListTagsForResourceCommand"),Dg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/expiration-settings"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return j=JSON.stringify(Ii(y,{ExpirationSettings:ie=>Wi(ie)})),D.m("PUT").h(k).b(j),D.build()},"se_PutChannelExpirationSettingsCommand"),cm=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/memberships/{MemberArn}/preferences"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let j;return j=JSON.stringify(Ii(y,{Preferences:ie=>Wi(ie)})),D.m("PUT").h(k).b(j),D.build()},"se_PutChannelMembershipPreferencesCommand"),Ag=n(async(y,C)=>{const D=en(y,C),k={"content-type":"application/json"};D.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),D.p("AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let j;return j=JSON.stringify(Ii(y,{StreamingConfigurations:ie=>Wi(ie)})),D.m("PUT").h(k).b(j),D.build()},"se_PutMessagingStreamingConfigurationsCommand"),Og=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/messages/{MessageId}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MessageId",()=>y.MessageId,"{MessageId}",!1);const j=On({[Ic]:[,"redact"]});let ie;return ie=JSON.stringify(Ii(y,{SubChannelId:[]})),D.m("POST").h(k).q(j).b(ie),D.build()},"se_RedactChannelMessageCommand"),Rg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels");const j=On({[Ic]:[,"search"],[Oa]:[()=>y.MaxResults!==void 0,()=>y[va].toString()],[Ra]:[,y[da]]});let ie;return ie=JSON.stringify(Ii(y,{Fields:De=>Wi(De)})),D.m("POST").h(k).q(j).b(ie),D.build()},"se_SearchChannelsCommand"),Mg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/messages"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return j=JSON.stringify(Ii(y,{ClientRequestToken:[!0,ie=>ie??gs()],Content:[],ContentType:[],MessageAttributes:ie=>Wi(ie),Metadata:[],Persistence:[],PushNotification:ie=>Wi(ie),SubChannelId:[],Target:ie=>Wi(ie),Type:[]})),D.m("POST").h(k).b(j),D.build()},"se_SendChannelMessageCommand"),Pg=n(async(y,C)=>{const D=en(y,C),k={"content-type":"application/json"};D.bp("/tags");const j=On({[Ic]:[,"tag-resource"]});let ie;return ie=JSON.stringify(Ii(y,{ResourceARN:[],Tags:De=>Wi(De)})),D.m("POST").h(k).q(j).b(ie),D.build()},"se_TagResourceCommand"),kg=n(async(y,C)=>{const D=en(y,C),k={"content-type":"application/json"};D.bp("/tags");const j=On({[Ic]:[,"untag-resource"]});let ie;return ie=JSON.stringify(Ii(y,{ResourceARN:[],TagKeys:De=>Wi(De)})),D.m("POST").h(k).q(j).b(ie),D.build()},"se_UntagResourceCommand"),Lg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return j=JSON.stringify(Ii(y,{Metadata:[],Mode:[],Name:[]})),D.m("PUT").h(k).b(j),D.build()},"se_UpdateChannelCommand"),Ng=n(async(y,C)=>{const D=en(y,C),k={"content-type":"application/json"};D.bp("/channel-flows/{ChannelFlowArn}"),D.p("ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let j;return j=JSON.stringify(Ii(y,{Name:[],Processors:ie=>Wi(ie)})),D.m("PUT").h(k).b(j),D.build()},"se_UpdateChannelFlowCommand"),Fg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{"content-type":"application/json",[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/messages/{MessageId}"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),D.p("MessageId",()=>y.MessageId,"{MessageId}",!1);let j;return j=JSON.stringify(Ii(y,{Content:[],ContentType:[],Metadata:[],SubChannelId:[]})),D.m("PUT").h(k).b(j),D.build()},"se_UpdateChannelMessageCommand"),xg=n(async(y,C)=>{const D=en(y,C),k=On({},Xr,{[eo]:y[Qr]});D.bp("/channels/{ChannelArn}/readMarker"),D.p("ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let j;return D.m("PUT").h(k).b(j),D.build()},"se_UpdateChannelReadMarkerCommand"),Bg=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_AssociateChannelFlowCommand"),Ug=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{BatchChannelMemberships:Wi,Errors:Wi});return Object.assign(D,j),D},"de_BatchCreateChannelMembershipCommand"),Vg=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{CallbackId:St,ChannelArn:St});return Object.assign(D,j),D},"de_ChannelFlowCallbackCommand"),Hg=n(async(y,C)=>{if(y.statusCode!==201&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St});return Object.assign(D,j),D},"de_CreateChannelCommand"),Wg=n(async(y,C)=>{if(y.statusCode!==201&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,Member:Wi});return Object.assign(D,j),D},"de_CreateChannelBanCommand"),Gg=n(async(y,C)=>{if(y.statusCode!==201&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelFlowArn:St});return Object.assign(D,j),D},"de_CreateChannelFlowCommand"),zg=n(async(y,C)=>{if(y.statusCode!==201&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,Member:Wi,SubChannelId:St});return Object.assign(D,j),D},"de_CreateChannelMembershipCommand"),jg=n(async(y,C)=>{if(y.statusCode!==201&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,ChannelModerator:Wi});return Object.assign(D,j),D},"de_CreateChannelModeratorCommand"),$g=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DeleteChannelCommand"),Kg=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DeleteChannelBanCommand"),Jg=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DeleteChannelFlowCommand"),Yg=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DeleteChannelMembershipCommand"),Xg=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DeleteChannelMessageCommand"),Qg=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DeleteChannelModeratorCommand"),Zg=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DeleteMessagingStreamingConfigurationsCommand"),qg=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Channel:ie=>Lo(ie,C)});return Object.assign(D,j),D},"de_DescribeChannelCommand"),ev=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelBan:ie=>Qh(ie,C)});return Object.assign(D,j),D},"de_DescribeChannelBanCommand"),tv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelFlow:ie=>Zh(ie,C)});return Object.assign(D,j),D},"de_DescribeChannelFlowCommand"),J=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelMembership:ie=>pm(ie,C)});return Object.assign(D,j),D},"de_DescribeChannelMembershipCommand"),nv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelMembership:ie=>qh(ie,C)});return Object.assign(D,j),D},"de_DescribeChannelMembershipForAppInstanceUserCommand"),iv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Channel:ie=>ep(ie,C)});return Object.assign(D,j),D},"de_DescribeChannelModeratedByAppInstanceUserCommand"),rv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelModerator:ie=>ad(ie,C)});return Object.assign(D,j),D},"de_DescribeChannelModeratorCommand"),ov=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_DisassociateChannelFlowCommand"),sv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,Member:Wi,Preferences:Wi});return Object.assign(D,j),D},"de_GetChannelMembershipPreferencesCommand"),av=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelMessage:ie=>mm(ie,C)});return Object.assign(D,j),D},"de_GetChannelMessageCommand"),lv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Status:Wi});return Object.assign(D,j),D},"de_GetChannelMessageStatusCommand"),cv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Endpoint:Wi});return Object.assign(D,j),D},"de_GetMessagingSessionEndpointCommand"),dv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{StreamingConfigurations:Wi});return Object.assign(D,j),D},"de_GetMessagingStreamingConfigurationsCommand"),uv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,ChannelBans:Wi,NextToken:St});return Object.assign(D,j),D},"de_ListChannelBansCommand"),fv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelFlows:Wi,NextToken:St});return Object.assign(D,j),D},"de_ListChannelFlowsCommand"),hv=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,ChannelMemberships:Wi,NextToken:St});return Object.assign(D,j),D},"de_ListChannelMembershipsCommand"),Uo=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelMemberships:ie=>Cf(ie,C),NextToken:St});return Object.assign(D,j),D},"de_ListChannelMembershipsForAppInstanceUserCommand"),vr=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,ChannelMessages:ie=>Tf(ie,C),NextToken:St,SubChannelId:St});return Object.assign(D,j),D},"de_ListChannelMessagesCommand"),_f=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,ChannelModerators:Wi,NextToken:St});return Object.assign(D,j),D},"de_ListChannelModeratorsCommand"),Wh=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Channels:ie=>np(ie,C),NextToken:St});return Object.assign(D,j),D},"de_ListChannelsCommand"),ps=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Channels:Wi,NextToken:St});return Object.assign(D,j),D},"de_ListChannelsAssociatedWithChannelFlowCommand"),Gh=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Channels:ie=>tp(ie,C),NextToken:St});return Object.assign(D,j),D},"de_ListChannelsModeratedByAppInstanceUserCommand"),bs=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,NextToken:St,SubChannels:Wi});return Object.assign(D,j),D},"de_ListSubChannelsCommand"),an=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Tags:Wi});return Object.assign(D,j),D},"de_ListTagsForResourceCommand"),Va=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,ExpirationSettings:Wi});return Object.assign(D,j),D},"de_PutChannelExpirationSettingsCommand"),zh=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,Member:Wi,Preferences:Wi});return Object.assign(D,j),D},"de_PutChannelMembershipPreferencesCommand"),bo=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{StreamingConfigurations:Wi});return Object.assign(D,j),D},"de_PutMessagingStreamingConfigurationsCommand"),ta=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,MessageId:St,SubChannelId:St});return Object.assign(D,j),D},"de_RedactChannelMessageCommand"),Js=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{Channels:ie=>np(ie,C),NextToken:St});return Object.assign(D,j),D},"de_SearchChannelsCommand"),jh=n(async(y,C)=>{if(y.statusCode!==201&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,MessageId:St,Status:Wi,SubChannelId:St});return Object.assign(D,j),D},"de_SendChannelMessageCommand"),od=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_TagResourceCommand"),Bn=n(async(y,C)=>{if(y.statusCode!==204&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)});return await Io(y.body,C),D},"de_UntagResourceCommand"),na=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St});return Object.assign(D,j),D},"de_UpdateChannelCommand"),dm=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelFlowArn:St});return Object.assign(D,j),D},"de_UpdateChannelFlowCommand"),um=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St,MessageId:St,Status:Wi,SubChannelId:St});return Object.assign(D,j),D},"de_UpdateChannelMessageCommand"),$h=n(async(y,C)=>{if(y.statusCode!==200&&y.statusCode>=300)return Ir(y,C);const D=On({$metadata:Xt(y)}),k=ft(Ot(await jr(y.body,C)),"body"),j=Ii(k,{ChannelArn:St});return Object.assign(D,j),D},"de_UpdateChannelReadMarkerCommand"),Ir=n(async(y,C)=>{const D={...y,body:await Vh(y.body,C)},k=mf(y,D.body);switch(k){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await sd(D,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await bf(D,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await Jh(D,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Yh(D,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await fm(D,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await hm(D,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Xh(D,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await du(D,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await Ef(D,C);default:const j=D.body;return Kh({output:y,parsedBody:j,errorCode:k})}},"de_CommandError"),Kh=Kl(Ks),sd=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new hc({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_BadRequestExceptionRes"),bf=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new pc({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_ConflictExceptionRes"),Jh=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new mc({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_ForbiddenExceptionRes"),Yh=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new gc({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_NotFoundExceptionRes"),Ef=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new Y({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_ResourceLimitExceededExceptionRes"),fm=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new Bl({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_ServiceFailureExceptionRes"),hm=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new O({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_ServiceUnavailableExceptionRes"),Xh=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new M({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_ThrottledClientExceptionRes"),du=n(async(y,C)=>{const D=On({}),k=y.body,j=Ii(k,{Code:St,Message:St});Object.assign(D,j);const ie=new W({$metadata:Xt(y),...D});return Ws(ie,y.body)},"de_UnauthorizedClientExceptionRes"),Vo=n((y,C)=>Ii(y,{ReadMarkerTimestamp:D=>ft(Xo(oe(D))),SubChannelId:St,Type:St}),"de_AppInstanceUserMembershipSummary"),Lo=n((y,C)=>Ii(y,{ChannelArn:St,ChannelFlowArn:St,CreatedBy:Wi,CreatedTimestamp:D=>ft(Xo(oe(D))),ElasticChannelConfiguration:Wi,ExpirationSettings:Wi,LastMessageTimestamp:D=>ft(Xo(oe(D))),LastUpdatedTimestamp:D=>ft(Xo(oe(D))),Metadata:St,Mode:St,Name:St,Privacy:St}),"de_Channel"),Qh=n((y,C)=>Ii(y,{ChannelArn:St,CreatedBy:Wi,CreatedTimestamp:D=>ft(Xo(oe(D))),Member:Wi}),"de_ChannelBan"),Zh=n((y,C)=>Ii(y,{ChannelFlowArn:St,CreatedTimestamp:D=>ft(Xo(oe(D))),LastUpdatedTimestamp:D=>ft(Xo(oe(D))),Name:St,Processors:Wi}),"de_ChannelFlow"),pm=n((y,C)=>Ii(y,{ChannelArn:St,CreatedTimestamp:D=>ft(Xo(oe(D))),InvitedBy:Wi,LastUpdatedTimestamp:D=>ft(Xo(oe(D))),Member:Wi,SubChannelId:St,Type:St}),"de_ChannelMembership"),qh=n((y,C)=>Ii(y,{AppInstanceUserMembershipSummary:D=>Vo(D,C),ChannelSummary:D=>uu(D,C)}),"de_ChannelMembershipForAppInstanceUserSummary"),Cf=n((y,C)=>(y||[]).filter(k=>k!=null).map(k=>qh(k,C)),"de_ChannelMembershipForAppInstanceUserSummaryList"),mm=n((y,C)=>Ii(y,{ChannelArn:St,Content:St,ContentType:St,CreatedTimestamp:D=>ft(Xo(oe(D))),LastEditedTimestamp:D=>ft(Xo(oe(D))),LastUpdatedTimestamp:D=>ft(Xo(oe(D))),MessageAttributes:Wi,MessageId:St,Metadata:St,Persistence:St,Redacted:qa,Sender:Wi,Status:Wi,SubChannelId:St,Target:Wi,Type:St}),"de_ChannelMessage"),Cc=n((y,C)=>Ii(y,{Content:St,ContentType:St,CreatedTimestamp:D=>ft(Xo(oe(D))),LastEditedTimestamp:D=>ft(Xo(oe(D))),LastUpdatedTimestamp:D=>ft(Xo(oe(D))),MessageAttributes:Wi,MessageId:St,Metadata:St,Redacted:qa,Sender:Wi,Status:Wi,Target:Wi,Type:St}),"de_ChannelMessageSummary"),Tf=n((y,C)=>(y||[]).filter(k=>k!=null).map(k=>Cc(k,C)),"de_ChannelMessageSummaryList"),ep=n((y,C)=>Ii(y,{ChannelSummary:D=>uu(D,C)}),"de_ChannelModeratedByAppInstanceUserSummary"),tp=n((y,C)=>(y||[]).filter(k=>k!=null).map(k=>ep(k,C)),"de_ChannelModeratedByAppInstanceUserSummaryList"),ad=n((y,C)=>Ii(y,{ChannelArn:St,CreatedBy:Wi,CreatedTimestamp:D=>ft(Xo(oe(D))),Moderator:Wi}),"de_ChannelModerator"),uu=n((y,C)=>Ii(y,{ChannelArn:St,LastMessageTimestamp:D=>ft(Xo(oe(D))),Metadata:St,Mode:St,Name:St,Privacy:St}),"de_ChannelSummary"),np=n((y,C)=>(y||[]).filter(k=>k!=null).map(k=>uu(k,C)),"de_ChannelSummaryList");var Tc,If;const Xt=n(y=>({httpStatusCode:y.statusCode,requestId:(If=(Tc=y.headers["x-amzn-requestid"])!==null&&Tc!==void 0?Tc:y.headers["x-amzn-request-id"])!==null&&If!==void 0?If:y.headers["x-amz-request-id"],extendedRequestId:y.headers["x-amz-id-2"],cfId:y.headers["x-amz-cf-id"]}),"Aws_restJson1_deserializeMetadata"),ip=n((y,C)=>collectBody(y,C).then(D=>C.utf8Encoder(D)),"Aws_restJson1_collectBodyString"),Aa="AppInstanceArn",al="AppInstanceUserArn",Qr="ChimeBearer",gm="ChannelFlowArn",va="MaxResults",vm="NotAfter",ld="NotBefore",da="NextToken",Sm="Privacy",ym="ResourceARN",Cl="SubChannelId",wf="SortOrder",rp="Type",op="arn",Sa="app-instance-arn",fu="app-instance-user-arn",_m="channel-flow-arn",Oa="max-results",sp="not-after",ap="not-before",Ra="next-token",Ic="operation",bm="privacy",wc="scope",Tl="sub-channel-id",Em="sort-order",Dc="type",eo="x-amz-chime-bearer";class Df extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","AssociateChannelFlow",{}).n("ChimeSDKMessagingClient","AssociateChannelFlowCommand").f(void 0,void 0).ser(Wm).de(Bg).build(){}n(Df,"AssociateChannelFlowCommand");class hu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","BatchCreateChannelMembership",{}).n("ChimeSDKMessagingClient","BatchCreateChannelMembershipCommand").f(void 0,Pi).ser(Gm).de(Ug).build(){}n(hu,"BatchCreateChannelMembershipCommand");class Ha extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ChannelFlowCallback",{}).n("ChimeSDKMessagingClient","ChannelFlowCallbackCommand").f(Da,void 0).ser(zm).de(Vg).build(){}n(Ha,"ChannelFlowCallbackCommand");class cd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelBan",{}).n("ChimeSDKMessagingClient","CreateChannelBanCommand").f(void 0,Sc).ser($m).de(Wg).build(){}n(cd,"CreateChannelBanCommand");class dd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannel",{}).n("ChimeSDKMessagingClient","CreateChannelCommand").f(Vl,void 0).ser(jm).de(Hg).build(){}n(dd,"CreateChannelCommand");class pu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelFlow",{}).n("ChimeSDKMessagingClient","CreateChannelFlowCommand").f(El,void 0).ser(Km).de(Gg).build(){}n(pu,"CreateChannelFlowCommand");class Ac extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelMembership",{}).n("ChimeSDKMessagingClient","CreateChannelMembershipCommand").f(void 0,yc).ser(Jm).de(zg).build(){}n(Ac,"CreateChannelMembershipCommand");class ud extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelModerator",{}).n("ChimeSDKMessagingClient","CreateChannelModeratorCommand").f(void 0,_c).ser(Ym).de(jg).build(){}n(ud,"CreateChannelModeratorCommand");class Wl extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelBan",{}).n("ChimeSDKMessagingClient","DeleteChannelBanCommand").f(void 0,void 0).ser(Qm).de(Kg).build(){}n(Wl,"DeleteChannelBanCommand");class fd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannel",{}).n("ChimeSDKMessagingClient","DeleteChannelCommand").f(void 0,void 0).ser(Xm).de($g).build(){}n(fd,"DeleteChannelCommand");class mu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelFlow",{}).n("ChimeSDKMessagingClient","DeleteChannelFlowCommand").f(void 0,void 0).ser(Zm).de(Jg).build(){}n(mu,"DeleteChannelFlowCommand");class gu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelMembership",{}).n("ChimeSDKMessagingClient","DeleteChannelMembershipCommand").f(void 0,void 0).ser(qm).de(Yg).build(){}n(gu,"DeleteChannelMembershipCommand");class vu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelMessage",{}).n("ChimeSDKMessagingClient","DeleteChannelMessageCommand").f(void 0,void 0).ser(eg).de(Xg).build(){}n(vu,"DeleteChannelMessageCommand");class Su extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelModerator",{}).n("ChimeSDKMessagingClient","DeleteChannelModeratorCommand").f(void 0,void 0).ser(tg).de(Qg).build(){}n(Su,"DeleteChannelModeratorCommand");class yu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","DeleteMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(ng).de(Zg).build(){}n(yu,"DeleteMessagingStreamingConfigurationsCommand");class _u extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelBan",{}).n("ChimeSDKMessagingClient","DescribeChannelBanCommand").f(void 0,vf).ser(rg).de(ev).build(){}n(_u,"DescribeChannelBanCommand");class Af extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannel",{}).n("ChimeSDKMessagingClient","DescribeChannelCommand").f(void 0,au).ser(ig).de(qg).build(){}n(Af,"DescribeChannelCommand");class hd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelFlow",{}).n("ChimeSDKMessagingClient","DescribeChannelFlowCommand").f(void 0,bc).ser(og).de(tv).build(){}n(hd,"DescribeChannelFlowCommand");class pd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelMembership",{}).n("ChimeSDKMessagingClient","DescribeChannelMembershipCommand").f(void 0,Sf).ser(sg).de(J).build(){}n(pd,"DescribeChannelMembershipCommand");class Il extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelMembershipForAppInstanceUser",{}).n("ChimeSDKMessagingClient","DescribeChannelMembershipForAppInstanceUserCommand").f(void 0,lu).ser(ag).de(nv).build(){}n(Il,"DescribeChannelMembershipForAppInstanceUserCommand");class md extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelModeratedByAppInstanceUser",{}).n("ChimeSDKMessagingClient","DescribeChannelModeratedByAppInstanceUserCommand").f(void 0,td).ser(lg).de(iv).build(){}n(md,"DescribeChannelModeratedByAppInstanceUserCommand");class wl extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelModerator",{}).n("ChimeSDKMessagingClient","DescribeChannelModeratorCommand").f(void 0,Ec).ser(cg).de(rv).build(){}n(wl,"DescribeChannelModeratorCommand");class gd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DisassociateChannelFlow",{}).n("ChimeSDKMessagingClient","DisassociateChannelFlowCommand").f(void 0,void 0).ser(dg).de(ov).build(){}n(gd,"DisassociateChannelFlowCommand");class vd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMembershipPreferences",{}).n("ChimeSDKMessagingClient","GetChannelMembershipPreferencesCommand").f(void 0,cu).ser(ug).de(sv).build(){}n(vd,"GetChannelMembershipPreferencesCommand");class bu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMessage",{}).n("ChimeSDKMessagingClient","GetChannelMessageCommand").f(void 0,nd).ser(fg).de(av).build(){}n(bu,"GetChannelMessageCommand");class Sd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMessageStatus",{}).n("ChimeSDKMessagingClient","GetChannelMessageStatusCommand").f(void 0,void 0).ser(hg).de(lv).build(){}n(Sd,"GetChannelMessageStatusCommand");class Oc extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetMessagingSessionEndpoint",{}).n("ChimeSDKMessagingClient","GetMessagingSessionEndpointCommand").f(void 0,void 0).ser(pg).de(cv).build(){}n(Oc,"GetMessagingSessionEndpointCommand");class Eu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","GetMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(mg).de(dv).build(){}n(Eu,"GetMessagingStreamingConfigurationsCommand");class yd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelBans",{}).n("ChimeSDKMessagingClient","ListChannelBansCommand").f(id,yf).ser(gg).de(uv).build(){}n(yd,"ListChannelBansCommand");class _d extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelFlows",{}).n("ChimeSDKMessagingClient","ListChannelFlowsCommand").f(Hl,rd).ser(vg).de(fv).build(){}n(_d,"ListChannelFlowsCommand");class bd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMemberships",{}).n("ChimeSDKMessagingClient","ListChannelMembershipsCommand").f(Fp,xp).ser(Sg).de(hv).build(){}n(bd,"ListChannelMembershipsCommand");class xs extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMembershipsForAppInstanceUser",{}).n("ChimeSDKMessagingClient","ListChannelMembershipsForAppInstanceUserCommand").f(Bp,Up).ser(yg).de(Uo).build(){}n(xs,"ListChannelMembershipsForAppInstanceUserCommand");class Rc extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMessages",{}).n("ChimeSDKMessagingClient","ListChannelMessagesCommand").f(Vp,Hp).ser(_g).de(vr).build(){}n(Rc,"ListChannelMessagesCommand");class Ed extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelModerators",{}).n("ChimeSDKMessagingClient","ListChannelModeratorsCommand").f(Wp,Gp).ser(bg).de(_f).build(){}n(Ed,"ListChannelModeratorsCommand");class Cd extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelsAssociatedWithChannelFlow",{}).n("ChimeSDKMessagingClient","ListChannelsAssociatedWithChannelFlowCommand").f($p,Kp).ser(Cg).de(ps).build(){}n(Cd,"ListChannelsAssociatedWithChannelFlowCommand");class Dl extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannels",{}).n("ChimeSDKMessagingClient","ListChannelsCommand").f(zp,jp).ser(Eg).de(Wh).build(){}n(Dl,"ListChannelsCommand");class Mc extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelsModeratedByAppInstanceUser",{}).n("ChimeSDKMessagingClient","ListChannelsModeratedByAppInstanceUserCommand").f(Jp,Yp).ser(Tg).de(Gh).build(){}n(Mc,"ListChannelsModeratedByAppInstanceUserCommand");class Ja extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListSubChannels",{}).n("ChimeSDKMessagingClient","ListSubChannelsCommand").f(Xp,Qp).ser(Ig).de(bs).build(){}n(Ja,"ListSubChannelsCommand");class Gl extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListTagsForResource",{}).n("ChimeSDKMessagingClient","ListTagsForResourceCommand").f(void 0,Zp).ser(wg).de(an).build(){}n(Gl,"ListTagsForResourceCommand");class ll extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutChannelExpirationSettings",{}).n("ChimeSDKMessagingClient","PutChannelExpirationSettingsCommand").f(void 0,void 0).ser(Dg).de(Va).build(){}n(ll,"PutChannelExpirationSettingsCommand");class Cu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutChannelMembershipPreferences",{}).n("ChimeSDKMessagingClient","PutChannelMembershipPreferencesCommand").f(qp,em).ser(cm).de(zh).build(){}n(Cu,"PutChannelMembershipPreferencesCommand");class Of extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","PutMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(Ag).de(bo).build(){}n(Of,"PutMessagingStreamingConfigurationsCommand");class Tu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","RedactChannelMessage",{}).n("ChimeSDKMessagingClient","RedactChannelMessageCommand").f(void 0,void 0).ser(Og).de(ta).build(){}n(Tu,"RedactChannelMessageCommand");class Td extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","SearchChannels",{}).n("ChimeSDKMessagingClient","SearchChannelsCommand").f(tm,nm).ser(Rg).de(Js).build(){}n(Td,"SearchChannelsCommand");class Iu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","SendChannelMessage",{}).n("ChimeSDKMessagingClient","SendChannelMessageCommand").f(im,void 0).ser(Mg).de(jh).build(){}n(Iu,"SendChannelMessageCommand");class Id extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","TagResource",{}).n("ChimeSDKMessagingClient","TagResourceCommand").f(rm,void 0).ser(Pg).de(od).build(){}n(Id,"TagResourceCommand");class zl extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UntagResource",{}).n("ChimeSDKMessagingClient","UntagResourceCommand").f(om,void 0).ser(kg).de(Bn).build(){}n(zl,"UntagResourceCommand");class wu extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannel",{}).n("ChimeSDKMessagingClient","UpdateChannelCommand").f(sm,void 0).ser(Lg).de(na).build(){}n(wu,"UpdateChannelCommand");class Du extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelFlow",{}).n("ChimeSDKMessagingClient","UpdateChannelFlowCommand").f(am,void 0).ser(Ng).de(dm).build(){}n(Du,"UpdateChannelFlowCommand");class Au extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelMessage",{}).n("ChimeSDKMessagingClient","UpdateChannelMessageCommand").f(lm,void 0).ser(Fg).de(um).build(){}n(Au,"UpdateChannelMessageCommand");class Ou extends Li.classBuilder().ep(Tr).m(function(C,D,k,j){return[vi(k,this.serialize,this.deserialize),Oi(k,C.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelReadMarker",{}).n("ChimeSDKMessagingClient","UpdateChannelReadMarkerCommand").f(void 0,void 0).ser(xg).de($h).build(){}n(Ou,"UpdateChannelReadMarkerCommand");const me={AssociateChannelFlowCommand:Df,BatchCreateChannelMembershipCommand:hu,ChannelFlowCallbackCommand:Ha,CreateChannelCommand:dd,CreateChannelBanCommand:cd,CreateChannelFlowCommand:pu,CreateChannelMembershipCommand:Ac,CreateChannelModeratorCommand:ud,DeleteChannelCommand:fd,DeleteChannelBanCommand:Wl,DeleteChannelFlowCommand:mu,DeleteChannelMembershipCommand:gu,DeleteChannelMessageCommand:vu,DeleteChannelModeratorCommand:Su,DeleteMessagingStreamingConfigurationsCommand:yu,DescribeChannelCommand:Af,DescribeChannelBanCommand:_u,DescribeChannelFlowCommand:hd,DescribeChannelMembershipCommand:pd,DescribeChannelMembershipForAppInstanceUserCommand:Il,DescribeChannelModeratedByAppInstanceUserCommand:md,DescribeChannelModeratorCommand:wl,DisassociateChannelFlowCommand:gd,GetChannelMembershipPreferencesCommand:vd,GetChannelMessageCommand:bu,GetChannelMessageStatusCommand:Sd,GetMessagingSessionEndpointCommand:Oc,GetMessagingStreamingConfigurationsCommand:Eu,ListChannelBansCommand:yd,ListChannelFlowsCommand:_d,ListChannelMembershipsCommand:bd,ListChannelMembershipsForAppInstanceUserCommand:xs,ListChannelMessagesCommand:Rc,ListChannelModeratorsCommand:Ed,ListChannelsCommand:Dl,ListChannelsAssociatedWithChannelFlowCommand:Cd,ListChannelsModeratedByAppInstanceUserCommand:Mc,ListSubChannelsCommand:Ja,ListTagsForResourceCommand:Gl,PutChannelExpirationSettingsCommand:ll,PutChannelMembershipPreferencesCommand:Cu,PutMessagingStreamingConfigurationsCommand:Of,RedactChannelMessageCommand:Tu,SearchChannelsCommand:Td,SendChannelMessageCommand:Iu,TagResourceCommand:Id,UntagResourceCommand:zl,UpdateChannelCommand:wu,UpdateChannelFlowCommand:Du,UpdateChannelMessageCommand:Au,UpdateChannelReadMarkerCommand:Ou};class U extends Qs{}n(U,"ChimeSDKMessaging"),Ea(me,U);const G=li(Qs,yd,"NextToken","NextToken","MaxResults"),te=li(Qs,_d,"NextToken","NextToken","MaxResults"),Te=li(Qs,xs,"NextToken","NextToken","MaxResults"),Re=li(Qs,bd,"NextToken","NextToken","MaxResults"),Ie=li(Qs,Rc,"NextToken","NextToken","MaxResults"),ze=li(Qs,Ed,"NextToken","NextToken","MaxResults"),dt=li(Qs,Cd,"NextToken","NextToken","MaxResults"),ot=li(Qs,Mc,"NextToken","NextToken","MaxResults"),Dt=li(Qs,Dl,"NextToken","NextToken","MaxResults"),Jt=li(Qs,Ja,"NextToken","NextToken","MaxResults"),rn=li(Qs,Td,"NextToken","NextToken","MaxResults")},5527154335:(V,l,c)=>{"use strict";c.r(l),c.d(l,{fromHex:()=>m,toHex:()=>p});const d={},h={};for(let a=0;a<256;a++){let s=a.toString(16).toLowerCase();s.length===1&&(s=`0${s}`),d[a]=s,h[s]=a}function m(a){if(a.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const s=new Uint8Array(a.length/2);for(let i=0;i<a.length;i+=2){const e=a.slice(i,i+2).toLowerCase();if(e in h)s[i/2]=h[e];else throw new Error(`Cannot decode unrecognized sequence ${e} as hexadecimal`)}return s}n(m,"fromHex");function p(a){let s="";for(let i=0;i<a.byteLength;i++)s+=d[a[i]];return s}n(p,"toHex")},5771355735:(V,l,c)=>{"use strict";c.r(l),c.d(l,{fromUtf8:()=>a,toUtf8:()=>s});const d=n(i=>{const e=[];for(let t=0,r=i.length;t<r;t++){const o=i.charCodeAt(t);if(o<128)e.push(o);else if(o<2048)e.push(o>>6|192,o&63|128);else if(t+1<i.length&&(o&64512)===55296&&(i.charCodeAt(t+1)&64512)===56320){const f=65536+((o&1023)<<10)+(i.charCodeAt(++t)&1023);e.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else e.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(e)},"fromUtf8"),h=n(i=>{let e="";for(let t=0,r=i.length;t<r;t++){const o=i[t];if(o<128)e+=String.fromCharCode(o);else if(192<=o&&o<224){const f=i[++t];e+=String.fromCharCode((o&31)<<6|f&63)}else if(240<=o&&o<365){const g="%"+[o,i[++t],i[++t],i[++t]].map(v=>v.toString(16)).join("%");e+=decodeURIComponent(g)}else e+=String.fromCharCode((o&15)<<12|(i[++t]&63)<<6|i[++t]&63)}return e},"toUtf8");function m(i){return new TextEncoder().encode(i)}n(m,"whatwgEncodingApi_fromUtf8");function p(i){return new TextDecoder("utf-8").decode(i)}n(p,"whatwgEncodingApi_toUtf8");const a=n(i=>typeof TextEncoder=="function"?m(i):d(i),"dist_es_fromUtf8"),s=n(i=>typeof TextDecoder=="function"?p(i):h(i),"dist_es_toUtf8")},9618816399:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(7080398225));let p=n(class{needUpdate(s){return this.activeSpeakers?this.speakerScores[s]===0&&this.activeSpeakers.includes(s)||this.speakerScores[s]>0&&!this.activeSpeakers.includes(s):!0}updateActiveSpeakers(s,i,e){if(!this.needUpdate(e))return;const t=[],r=Object.keys(this.speakerScores);for(let u=0;u<r.length;u++){const S=r[u];t.push({attendeeId:S,activeScore:this.speakerScores[S]})}const o=t.sort((u,S)=>S.activeScore-u.activeScore).filter(function(u){return u.activeScore>0}).map(function(u){return u.attendeeId});this.activeSpeakers=o,i(o);const g=o.length>0&&o[0]===this.selfAttendeeId&&s.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==g&&(this.hasBandwidthPriority=g,this.hasBandwidthPriorityCallback(g))}updateScore(s,i,e,t,r){const o=s.calculateScore(e,t,r);this.speakerScores[e]!==o&&(this.speakerScores[e]=o,this.mostRecentUpdateTimestamp[e]=Date.now(),this.updateActiveSpeakers(s,i,e))}subscribe(s,i,e,t){const r=n((f,g)=>{if(!g){this.speakerScores[f]=0,this.mostRecentUpdateTimestamp[f]=Date.now(),this.updateActiveSpeakers(s,i,f);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(f,(v,u,S,_)=>{this.mostRecentUpdateTimestamp[v]=Date.now(),S!==null&&(this.speakerMuteState[v]=S),this.updateScore(s,i,v,u,S)})},"handler");this.detectorCallbackToHandler.set(i,r);const o=new m.default(this.updateIntervalMs);if(o.start(()=>{for(const f in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[f]>this.waitIntervalMs&&this.updateScore(s,i,f,0,this.speakerMuteState[f])}),this.detectorCallbackToActivityTimer.set(i,o),e&&t){const f=new m.default(t);f.start(()=>{e(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(i,f)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(r)}unsubscribe(s){const i=this.detectorCallbackToHandler.get(s);this.detectorCallbackToHandler.delete(s),i&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i);const e=this.detectorCallbackToActivityTimer.get(s);e&&(e.stop(),this.detectorCallbackToActivityTimer.delete(s));const t=this.detectorCallbackToScoresTimer.get(s);t&&(t.stop(),this.detectorCallbackToHandler.delete(s))}destroy(){return d(this,void 0,void 0,function*(){for(const s of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(s);for(const s of this.detectorCallbackToActivityTimer.values())s.stop();for(const s of this.detectorCallbackToScoresTimer.values())s.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(s,i,e,t=1e3,r=200){this.realtimeController=s,this.selfAttendeeId=i,this.hasBandwidthPriorityCallback=e,this.waitIntervalMs=t,this.updateIntervalMs=r,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");l.default=p},8734152567:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{calculateScore(h,m,p){(p||m===null)&&(m=0),this.volumes.hasOwnProperty(h)||(this.volumes[h]=0),m>this.silenceThreshold?m=1:m=0;const a=this.volumes[h]*this.speakerWeight+m*(1-this.speakerWeight);this.volumes[h]=a;for(const s in this.volumes)s!==h&&(this.volumes[s]=Math.max(this.volumes[s]-this.takeoverRate*m,0));return a<this.cutoffThreshold?0:a}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(h=.9,m=.01,p=.2,a=.2){this.speakerWeight=h,this.cutoffThreshold=m,this.silenceThreshold=p,this.takeoverRate=a,this.volumes={}}},"DefaultActiveSpeakerPolicy");l.default=c},2782081498:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class gv{static create(h,m){const p=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!h||h.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!p.test(h))throw new Error(`appName must satisfy ${p} regular expression`);const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!m||m.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!a.test(m))throw new Error("appVersion must satisfy Semantic Versioning format");return new gv(h,m)}constructor(h,m){this.appName=h,this.appVersion=m}},"ApplicationMetadata");l.default=c},2911000564:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"Attendee");l.default=c},5974247229:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(570155317)),p=h(c(7416186200));let a=n(class{bindAudioElement(i){return d(this,void 0,void 0,function*(){if(!i)throw new Error(`Cannot bind audio element: ${i}`);return this.audioElement=i,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(i=>{this.audioStream&&i.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(i){return d(this,void 0,void 0,function*(){if(i){this.audioStream=i;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}})}bindAudioDevice(i){return d(this,void 0,void 0,function*(){if(i&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=i,this.bindAudioMix()})}forEachObserver(i){for(const e of this.observers)p.default.nextTick(()=>{i(e)})}bindAudioMix(){var i,e;return d(this,void 0,void 0,function*(){if(!this.audioElement)return;const t=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),t!==this.audioStream&&this.forEachObserver(u=>{t&&u.meetingAudioStreamBecameInactive(t),this.audioStream&&u.meetingAudioStreamBecameActive(this.audioStream)});const r=((i=this.audioDevice)===null||i===void 0?void 0:i.deviceId)!==this.audioElement.sinkId;if(r&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const o=this.audioDevice?this.audioDevice.deviceId:"",f=this.audioElement.sinkId;if(o===f)return;const g=this.audioElement,v=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=null),r)try{yield g.setSinkId(o)}catch(u){throw(e=this.logger)===null||e===void 0||e.error(`Failed to set sinkId for audio element: ${u}`),u}this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=v)})}getCurrentMeetingAudioStream(){return d(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(i){return d(this,void 0,void 0,function*(){this.observers.add(i)})}removeAudioMixObserver(i){return d(this,void 0,void 0,function*(){this.observers.delete(i)})}audioOutputDidChange(i){return d(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(i)})}constructor(i){this.logger=i,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new m.default,this.observers=new Set}},"DefaultAudioMixController");l.default=a},3416082494:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(570155317));let m=n(class dp{static fullbandSpeechMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new dp(4e4,a)}static fullbandMusicMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new dp(64e3,a)}static fullbandMusicStereo(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new dp(128e3,a)}isStereo(){return this.audioBitrateBps===128e3}hasRedundancyEnabled(){return this.enableAudioRedundancy}constructor(a=null,s=!0){this.audioBitrateBps=a,this.enableAudioRedundancy=new h.default().supportsAudioRedundancy()&&s}},"AudioProfile");l.default=m},742803803:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let c=n(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null,this.isSessionConnected=!1}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.prioritizedSendVideoCodecCapabilities=[],this.degradedVideoSendCodecs=[],this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.enableSVC=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null,this.isSessionConnected=!1}},"AudioVideoControllerState");l.default=c},1043709165:function(V,l,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(K,se,Ve,Be){Be===void 0&&(Be=Ve),Object.defineProperty(K,Be,{enumerable:!0,get:function(){return se[Ve]}})}:function(K,se,Ve,Be){Be===void 0&&(Be=Ve),K[Be]=se[Ve]}),h=this&&this.__setModuleDefault||(Object.create?function(K,se){Object.defineProperty(K,"default",{enumerable:!0,value:se})}:function(K,se){K.default=se}),m=this&&this.__importStar||function(K){if(K&&K.__esModule)return K;var se={};if(K!=null)for(var Ve in K)Ve!=="default"&&Object.prototype.hasOwnProperty.call(K,Ve)&&d(se,K,Ve);return h(se,K),se},p=this&&this.__awaiter||function(K,se,Ve,Be){function Yt(yt){return yt instanceof Ve?yt:new Ve(function(Bt){Bt(yt)})}return n(Yt,"adopt"),new(Ve||(Ve=Promise))(function(yt,Bt){function ke(Fe){try{B(Be.next(Fe))}catch(fe){Bt(fe)}}n(ke,"fulfilled");function Je(Fe){try{B(Be.throw(Fe))}catch(fe){Bt(fe)}}n(Je,"rejected");function B(Fe){Fe.done?yt(Fe.value):Yt(Fe.value).then(ke,Je)}n(B,"step"),B((Be=Be.apply(K,se||[])).next())})},a=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(c(9618816399)),i=a(c(5974247229)),e=a(c(3416082494)),t=a(c(570155317)),r=a(c(4203297362)),o=a(c(3308537260)),f=a(c(78129611)),g=a(c(8363971156)),v=a(c(4474236581)),u=a(c(1240186630)),S=a(c(5519271617)),_=a(c(4680116077)),b=a(c(2461656181)),E=a(c(7416186200)),T=a(c(6160394281)),I=a(c(2981760980)),A=a(c(728914651)),w=a(c(5798697844)),R=a(c(8384002519)),P=m(c(498975381)),x=a(c(201131498)),z=a(c(3566593278)),Z=c(7344258710),re=a(c(6017023892)),ne=a(c(44274307)),he=a(c(7344467851)),ge=a(c(5438824562)),Pe=a(c(38878034)),He=a(c(320218677)),pt=a(c(2568010183)),Ht=a(c(887979666)),Ke=a(c(8813893041)),it=a(c(4016680554)),ct=a(c(4246373854)),rt=a(c(9816353112)),_t=a(c(5061413178)),Gt=a(c(3517731918)),Kt=a(c(5932071943)),Ye=a(c(9360452255)),Xe=a(c(4608327356)),It=a(c(4327951460)),kt=a(c(9769959402)),gt=a(c(1690462647)),En=a(c(4784106923)),pn=a(c(3516966482)),wn=a(c(7537455207)),zn=a(c(8265718271)),Qn=a(c(4133266271)),Sn=a(c(1636523053)),Zn=a(c(618497857)),lr=a(c(8588089957)),ui=a(c(8838701689)),fi=c(8479756130),Vn=a(c(1203283221)),In=a(c(7176913269)),wi=a(c(7676538085)),_n=c(4165080297),An=a(c(5814977413)),sn=a(c(3420631425)),Q=a(c(1509578473)),lt=a(c(3338407955)),mt=a(c(6875957405)),bt=a(c(659149118)),At=a(c(8001836114)),Wt=a(c(3805322525)),we=a(c(742803803));let ht=n(class up{destroy(){return p(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new s.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(se){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(se):null}setAudioProfile(se){this._audioProfile=se}addObserver(se){this.logger.info("adding meeting observer"),this.observerQueue.add(se)}removeObserver(se){this.logger.info("removing meeting observer"),this.observerQueue.delete(se)}forEachObserver(se){for(const Ve of this.observerQueue)E.default.nextTick(()=>{this.observerQueue.has(Ve)&&se(Ve)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new we.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new t.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new R.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const se=n(()=>p(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(Ve){Ve.type===x.default.WebSocketClosed&&se()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(se=>{this.logger.error(`Signaling task pre-start failed: ${se}`),this.signalingTask=void 0})}start(se){this.startReturningPromise(se).then(()=>{this.logger.info("start completed")}).catch(Ve=>{this.logger.error(`start failed: ${Ve}`)})}startReturningPromise(se){return(se==null?void 0:se.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Ve,Be)=>{this.sessionStateController.perform(I.default.Connect,()=>{this.actionConnect(!1).then(Ve).catch(Be)})}))}connectWithPromises(se){const Ve=this.meetingSessionContext,Be=n((ee,Et)=>new zn.default(this.logger,Et,ee),"timeout");this.monitorTask=new ct.default(Ve,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const Yt=this.monitorTask.once(),yt=new Kt.default(Ve).once();this.receiveIndexTask=new It.default(Ve),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const Bt=new gt.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new it.default(Ve),new kt.default(Ve),new Ht.default(Ve),this.receiveIndexTask]).once(),ke=new Pe.default(Ve).once(Bt),Je=new ne.default(Ve).once(ke,yt),B=new He.default(Ve).once(Je),Fe=new En.default(Ve).once(B),fe=new pt.default(Ve).once(Fe),ve=new wn.default(Ve).once(fe);return this.receiveRemotePauseResumeTask=new Ye.default(Ve),this.receiveRemotePauseResumeTask.once(ve),new gt.default(this.logger,this.wrapTaskName("AudioVideoStart"),[Yt,Be(this.configuration.connectionTimeoutMs,new gt.default(this.logger,"Peer",[ve,this.receiveRemotePauseResumeTask,se?new zn.default(this.logger,new _t.default(this.logger,"FinalizeConnection",[new Qn.default(Ve),new pn.default(Ve)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new pn.default(Ve)]))])}actionConnect(se){var Ve;return p(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new t.default().hasChromiumWebRTC(),this.enableSimulcast&&this.configuration.enableSVC&&this.logger.warn("SVC cannot be enabled at the same time as simulcast. Disabling SVC, using simulcast."),this.enableSVC=!this.enableSimulcast&&this.configuration.enableSVC&&new t.default().supportsScalableVideoCoding();const Be=!!this.configuration.urls.audioHostURL;if(Be?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new S.default(this.configuration.credentials.attendeeId).hasModality(S.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Zn.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new lr.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new Sn.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new ui.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new Wt.default(this.logger,this._realtimeController,up.MIN_VOLUME_DECIBELS,up.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.meetingSessionContext.enableSVC=this.enableSVC,this.enableSimulcast){let Bt=this.meetingSessionContext.videoUplinkBandwidthPolicy;Bt||(Bt=new bt.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=Bt),Bt.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new wi.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new Q.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new sn.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new At.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.videoUplinkBandwidthPolicy.setSVCEnabled(this.enableSVC)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new In.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;if(new S.default(this.configuration.credentials.attendeeId).hasModality(S.default.MODALITY_CONTENT)){const Bt=this.configuration.meetingFeatures.contentMaxResolution===f.default.VideoResolutionUHD;Bt&&this.setVideoMaxBandwidthKbps(2500),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Bt)}else{const Bt=this.configuration.meetingFeatures.videoMaxResolution===f.default.VideoResolutionFHD;this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Bt)}this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new u.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new Vn.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new An.default,this.meetingSessionContext.videosPaused=new An.default,this.meetingSessionContext.statsCollector=new re.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new o.default(this,this._realtimeController,this.connectionHealthData,new _.default(this.meetingSessionContext.signalingClient,up.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},this._videoTileController.registerVideoTileResolutionObserver(this.meetingSessionContext.statsCollector),se||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(Bt=>{fi.Maybe.of(Bt.audioVideoDidStartConnecting).map(ke=>ke.bind(Bt)(!1))}),(Ve=this.eventController)===null||Ve===void 0||Ve.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const Yt=Be&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+Yt);const yt=this.connectWithPromises(Yt);try{yield yt.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(I.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(Bt){this.signalingTask=void 0;const ke=new g.default(this.getMeetingStatusCode(Bt)||v.default.TaskFailed);if(this.logger.info(`Start failed: ${ke} due to error ${Bt}.`),this.sessionStateController.state()===A.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(I.default.Fail,()=>p(this,void 0,void 0,function*(){yield this.actionDisconnect(ke,!0,Bt),this.handleMeetingSessionStatus(ke,Bt)||this.notifyStop(ke,Bt)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new zn.default(this.logger,new rt.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=Z.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.meetingSessionContext.isSessionConnected=!0,this.forEachObserver(se=>{fi.Maybe.of(se.audioVideoDidStart).map(Ve=>Ve.bind(se)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var se;return this._reconnectController.disableReconnect(),this.sessionStateController.state()===A.default.NotConnected?((se=this.meetingSessionContext.signalingClient)===null||se===void 0||se.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Ve,Be)=>{this.sessionStateController.perform(I.default.Disconnect,()=>{this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new g.default(v.default.Left),!1,null).then(Ve).catch(Be)})})}stop(){this.stopReturningPromise()}actionDisconnect(se,Ve,Be){return p(this,void 0,void 0,function*(){try{yield new gt.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new zn.default(this.logger,new Ke.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const Yt=[new zn.default(this.logger,new ge.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new gt.default(this.logger,this.wrapTaskName("AudioVideoClean"),Yt).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(I.default.FinishDisconnecting,()=>{Ve||this.notifyStop(se,Be)}),this._videoTileController.removeVideoTileResolutionObserver(this.meetingSessionContext.statsCollector)})}update(){let Ve=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(Ve||(Ve=this.meetingSessionContext.peer===void 0),Ve||(Ve=!this.updateRemoteVideosFromPolicy()),Ve||(Ve=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Ve)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Be=this.sessionStateController.perform(I.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Be===w.default.Transitioned||Be===w.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!P.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===P.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const se=this.detectChangesInVideosToReceive();if(se===void 0)return!1;const Ve=se.added,Be=se.simulcastStreamUpdates,Yt=se.removed,yt=this.meetingSessionContext,Bt=[];for(const[ke,Je]of Be.entries()){const B=new z.default;if(B.streamId=Je,B.attendeeId=yt.videoStreamIndex.attendeeIdForStreamId(Je),B.mid=yt.transceiverController.getMidForStreamId(ke),B.mid===void 0)return this.logger.info(`No MID found for stream ID ${ke}, cannot update stream without renegotiation`),!1;if(Bt.push(B),yt.transceiverController.setStreamIdForMid(B.mid,Je),yt.videoStreamIndex.overrideStreamIdMappings(ke,Je),yt.videoTileController.haveVideoTileForAttendeeId(B.attendeeId)){const Fe=yt.videoTileController.getVideoTileForAttendeeId(B.attendeeId);if(!Fe.setStreamId)return!1;Fe.setStreamId(Je)}}return Bt.length!==0&&yt.signalingClient.remoteVideoUpdate(Bt,[]),Ve.length!==0||Yt.length!==0?!1:(yt.videoStreamIndex.remoteVideoUpdateSent(),!0)}detectChangesInVideosToReceive(){const se=this.meetingSessionContext;if(se.videosToReceive===null||!se.transceiverController||!se.transceiverController.getMidForStreamId||!se.transceiverController.setStreamIdForMid||!se.videosToReceive.forEach||!se.signalingClient.remoteVideoUpdate||!se.videoStreamIndex.overrideStreamIdMappings)return;let Ve=[];const Be=new Map;let Yt=[];if(se.lastVideosToReceive===null)Ve=se.videosToReceive.array();else{const yt=se.videoStreamIndex;se.videosToReceive.forEach(Bt=>{if(se.lastVideosToReceive.contain(Bt))return;let ke=!1;se.lastVideosToReceive.forEach(Je=>{ke||yt.StreamIdsInSameGroup(Je,Bt)&&(Be.set(Je,Bt),ke=!0)}),ke||Ve.push(Bt)}),Yt=se.lastVideosToReceive.array().filter(Bt=>{const ke=se.videosToReceive.contain(Bt),Je=Be.has(Bt);return!ke&&!Je})}return this.logger.info(`Request to update remote videos with added: [${Ve}], updated: [${Array.from(Be.entries()).map(yt=>{let[Bt,ke]=yt;return`${Bt}->${ke}`}).join(",")}], removed: [${Yt}]`),{added:Ve,removed:Yt,simulcastStreamUpdates:Be}}isNotAddingOrRemovingStreams(){const se=this.detectChangesInVideosToReceive();if(se===void 0)return!1;const Ve=se.added,Be=se.removed;return Ve.length!==0||Be.length!==0?!1:(this.meetingSessionContext.videoStreamIndex.remoteVideoUpdateSent(),!0)}sendRemoteVideoUpdate(){const se=this.meetingSessionContext;if(se.videosToReceive===null)return!1;const Ve=se.videosToReceive.array().map(ke=>se.videoStreamIndex.groupIdForStreamId(ke));this.receiveRemotePauseResumeTask.updateSubscribedGroupdIds(new Set(Ve));const Be=_n.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(se,Ve,se.videoDownlinkBandwidthPolicy.getVideoPreferences()),Yt=new Map,yt=[];for(const ke of Be){let Je=!1;if(!se.lastVideoSubscriptionConfiguration.has(ke.groupId))Je=!0;else{const B=se.lastVideoSubscriptionConfiguration.get(ke.groupId);ke.equals(B)||(this.logger.debug(`${JSON.stringify(ke)} does not equal ${JSON.stringify(B)}, sending update`),Je=!0)}Yt.set(ke.groupId,ke),Je&&yt.push(ke)}se.lastVideoSubscriptionConfiguration=Yt;const Bt=[];if(se.lastVideosToReceive!==null){const ke=new Set(Ve);for(const Je of se.lastVideosToReceive.array()){const B=se.videoStreamIndex.groupIdForStreamId(Je);if(!ke.has(B)){const Fe=se.transceiverController.getMidForGroupId(B);if(Fe===void 0){se.logger.warn(`Could not find MID for group ID to remove: ${B}`);continue}Bt.push(Fe)}}}return(yt.length!==0||Bt.length!==0)&&se.signalingClient.remoteVideoUpdate(yt,Bt),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const se=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&this.meetingSessionContext.transceiverController.hasVideoInput()&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(se)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const se=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!se||!se.headerExtensions?!1:se.headerExtensions.some(Ve=>Ve.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(se){const Ve=n(()=>p(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),se()}),"restartVideo"),Be=this.sessionStateController.perform(I.default.Update,()=>{Ve()});return Be===w.default.Transitioned||Be===w.default.DeferredTransition}replaceLocalVideo(se){return p(this,void 0,void 0,function*(){if(!se||se.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Ve=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Ve){const Be=Ve.state(),Yt=se.getVideoTracks()[0].getSettings();Ve.bindVideoStream(Be.boundAttendeeId,!0,se,Yt.width,Yt.height,Be.streamId,Be.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(se.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=se,this.logger.info("Local video input is updated")})}replaceLocalAudio(se){return p(this,void 0,void 0,function*(){if(!se||se.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(se.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=se,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(se){return p(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new gt.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new Xe.default(this.meetingSessionContext),new zn.default(this.logger,new gt.default(this.logger,"UpdateSession",[new ne.default(this.meetingSessionContext),new He.default(this.meetingSessionContext),new En.default(this.meetingSessionContext),new pt.default(this.meetingSessionContext),new wn.default(this.meetingSessionContext),new pn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),se&&this.sessionStateController.perform(I.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Ve){this.sessionStateController.perform(I.default.FinishUpdating,()=>{const Be=new g.default(this.getMeetingStatusCode(Ve)||v.default.TaskFailed);Be.statusCode()!==v.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Be,Ve)})}})}notifyStop(se,Ve){var Be;if(this.forEachObserver(Yt=>{fi.Maybe.of(Yt.audioVideoDidStop).map(yt=>yt.bind(Yt)(se))}),this.eventController){const{signalingOpenDurationMs:Yt,poorConnectionCount:yt,startTimeMs:Bt,iceGatheringDurationMs:ke,attendeePresenceDurationMs:Je,meetingStartDurationMs:B}=this.meetingSessionContext,Fe={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Bt===null?0:Math.round(Date.now()-Bt),meetingStatus:v.default[se.statusCode()],signalingOpenDurationMs:Yt,iceGatheringDurationMs:ke,attendeePresenceDurationMs:Je,poorConnectionCount:yt,meetingStartDurationMs:B,retryCount:this.totalRetryCount},fe=Ve&&Ve.message||((Be=se.toString)===null||Be===void 0?void 0:Be.call(se))||"";Fe.meetingDurationMs===0?(Fe.meetingErrorMessage=fe,delete Fe.meetingDurationMs,delete Fe.attendeePresenceDurationMs,delete Fe.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",Fe)):se.isFailure()||se.isAudioConnectionFailure()?(Fe.meetingErrorMessage=fe,this.eventController.publishEvent("meetingFailed",Fe)):this.eventController.publishEvent("meetingEnded",Fe)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const se=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(se)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(se,Ve){this.promotedToPrimaryMeeting&&(this.promotedToPrimaryMeeting=!1,this.forEachObserver(Yt=>{fi.Maybe.of(Yt.audioVideoWasDemotedFromPrimaryMeeting).map(yt=>yt.bind(Yt)(new g.default(v.default.AudioVideoDisconnectedWhilePromoted)))}));const Be=this._reconnectController.retryWithBackoff(()=>p(this,void 0,void 0,function*(){this.sessionStateController.state()===A.default.NotConnected?this.sessionStateController.perform(I.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(I.default.Reconnect,()=>{this.actionReconnect(se)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Be||this.sessionStateController.perform(I.default.Fail,()=>{this.actionDisconnect(se,!1,Ve)}),Be}actionReconnect(se){return p(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Ve=>{fi.Maybe.of(Ve.audioVideoDidStartConnecting).map(Be=>Be.bind(Ve)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset(),this.receiveRemotePauseResumeTask=new Ye.default(this.meetingSessionContext);try{yield new gt.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new zn.default(this.logger,new gt.default(this.logger,"Media",[new he.default(this.meetingSessionContext),new gt.default(this.logger,"Signaling",[new rt.default(this.meetingSessionContext),new Ht.default(this.meetingSessionContext)]),new Pe.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new Xe.default(this.meetingSessionContext),new zn.default(this.logger,new gt.default(this.logger,"UpdateSession",[new ne.default(this.meetingSessionContext),new He.default(this.meetingSessionContext),new En.default(this.meetingSessionContext),new pt.default(this.meetingSessionContext),new wn.default(this.meetingSessionContext),new pn.default(this.meetingSessionContext),this.receiveRemotePauseResumeTask]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(I.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Ve,poorConnectionCount:Be,startTimeMs:Yt,iceGatheringDurationMs:yt,attendeePresenceDurationMs:Bt,meetingStartDurationMs:ke}=this.meetingSessionContext,Je={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-Yt),meetingStatus:v.default[se.statusCode()],signalingOpenDurationMs:Ve,iceGatheringDurationMs:yt,attendeePresenceDurationMs:Bt,poorConnectionCount:Be,meetingStartDurationMs:ke,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",Je)}this.actionFinishConnecting()})}catch(Ve){this.sessionStateController.perform(I.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Be=new g.default(this.getMeetingStatusCode(Ve)||v.default.TaskFailed);this.handleMeetingSessionStatus(Be,Ve)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(se){return`${se}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(se){const Ve=/the meeting status code: (\d+)/.exec(se&&se.message);return Ve&&Ve.length>1?Number.parseInt(Ve[1],10):null}enforceBandwidthLimitationForSender(se){return p(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(se)})}handleMeetingSessionStatus(se,Ve){if(this.logger.info(`handling status: ${v.default[se.statusCode()]}`),se.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(se),se.statusCode()===v.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(se.statusCode()===v.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Be=>{fi.Maybe.of(Be.videoSendDidBecomeUnavailable).map(Yt=>Yt.bind(Be)())}),!1;if(se.statusCode()===v.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Be=>{fi.Maybe.of(Be.audioVideoWasDemotedFromPrimaryMeeting).map(Yt=>Yt.bind(Be)(se))}),!1;if(se.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(se.isFailure()||se.isTerminal())&&this.meetingSessionContext.reconnectController){const Be=this.reconnect(se,Ve);return Be?this.logger.warn(`The audio video controller will reconnect due to status code ${v.default[se.statusCode()]}${Ve?` and error: ${Ve.message}`:""}`):this.logger.error(`The audio video controller failed with status code ${v.default[se.statusCode()]}${Ve?` and error: ${Ve.message}`:""}`),Be}return!1}setVideoMaxBandwidthKbps(se){if(se<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${se} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(se)),this.maxUplinkBandwidthKbps=se}handleHasBandwidthPriority(se){return p(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(se),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Ve=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(se);const Be=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Ve!==Be&&(this.logger.info(`video send bandwidth priority ${se} max has changed from ${Ve} kbps to ${Be} kbps`),yield this.enforceBandwidthLimitationForSender(Be))}})}pauseReceivingStream(se){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([se])}resumeReceivingStream(se){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([se])}setVideoCodecSendPreferences(se){this.videoSendCodecPreferences=se,this.meetingSessionContext.videoSendCodecPreferences=se,this.sessionStateController.state()!==A.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:se}=this.meetingSessionContext;if(!se)return this.logger.info("meeting has not started"),[];const Ve=this.configuration.credentials.attendeeId;return se.allVideoSendingSourcesExcludingSelf(Ve)}encodingSimulcastLayersDidChange(se){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Ve=>{fi.Maybe.of(Ve.encodingSimulcastLayersDidChange).map(Be=>Be.bind(Ve)(se))})}promoteToPrimaryMeeting(se){return this.actionPromoteToPrimaryMeeting(se)}actionPromoteToPrimaryMeeting(se){return p(this,void 0,void 0,function*(){let Ve=new g.default(v.default.SignalingRequestFailed);return yield new gt.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new zn.default(this.logger,new Gt.default(this.meetingSessionContext,se,Be=>{Ve=Be}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Ve.statusCode()===v.default.OK,Ve})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(se=>{fi.Maybe.of(se.audioVideoWasDemotedFromPrimaryMeeting).map(Ve=>Ve.bind(se)(new g.default(v.default.OK)))})}videoInputDidChange(se){return p(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(se?yield this.replaceLocalVideo(se):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(se){return p(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!se)try{se=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(se)})}constructor(se,Ve,Be,Yt,yt,Bt){this._audioProfile=new e.default,this.connectionHealthData=new r.default,this.observerQueue=new Set,this.meetingSessionContext=new we.default,this.enableSimulcast=!1,this.enableSVC=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.receiveRemotePauseResumeTask=void 0,this.destroyed=!1,this._logger=Ve,this.sessionStateController=new T.default(this._logger),this._configuration=se,this._webSocketAdapter=Be,this._realtimeController=new b.default(Yt),this._realtimeController.realtimeSetLocalAttendeeId(se.credentials.attendeeId,se.credentials.externalUserId),this._mediaStreamBroker=Yt,this._reconnectController=yt,this._videoTileController=new lt.default(new mt.default,this,this._logger),this._audioMixController=new i.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=Bt}},"DefaultAudioVideoController");l.default=ht,ht.MIN_VOLUME_DECIBELS=-42,ht.MAX_VOLUME_DECIBELS=-14,ht.PING_PONG_INTERVAL_MS=1e4},7444592474:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4953773007)),m=d(c(3682464637)),p=d(c(3975743347)),a=d(c(1632645482)),s=d(c(4283440356)),i=d(c(3981501552)),e=d(c(8363971156)),t=d(c(4474236581)),r=d(c(5992906328)),o=d(c(8543192315)),f=d(c(7482759477)),g=d(c(1043709165));let v=n(class extends g.default{setAudioProfile(S){}start(){}stop(){}promoteToPrimaryMeeting(S){return Promise.resolve(new e.default(t.default.OK))}demoteFromPrimaryMeeting(){}constructor(S){const _=new s.default;_.meetingId="",_.externalMeetingId="",_.credentials=new i.default,_.credentials.attendeeId="",_.credentials.joinToken="",_.urls=new r.default,_.urls.turnControlURL="",_.urls.audioHostURL="",_.urls.signalingURL="wss://localhost/";const b=new p.default;super(S||_,b,new f.default(new p.default),new a.default,new o.default(0,new h.default(0,0,0)),new m.default(S||_,b))}},"NoOpAudioVideoController");l.default=v},2033348765:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(p,a,s,i){function e(t){return t instanceof s?t:new s(function(r){r(t)})}return n(e,"adopt"),new(s||(s=Promise))(function(t,r){function o(v){try{g(i.next(v))}catch(u){r(u)}}n(o,"fulfilled");function f(v){try{g(i.throw(v))}catch(u){r(u)}}n(f,"rejected");function g(v){v.done?t(v.value):e(v.value).then(o,f)}n(g,"step"),g((i=i.apply(p,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(9009314017);let m=n(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const s=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,s),s}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,s){this.videoTileController.bindVideoElement(a,s),this.trace("bindVideoElement",{tileId:a,videoElementId:s.id})}unbindVideoElement(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,s),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:s})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const s=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),s}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const s=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,s),s}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const s=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),s}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,s){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,s),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,s){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,s),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,s)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,s,i){this.realtimeController.realtimeSendDataMessage(a,s,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,s){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,s),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,s,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,s,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,s),s})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const s=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,s),s})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,s),s})}startAudioInput(a){return d(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return d(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return d(this,void 0,void 0,function*(){return h.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return d(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const s=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),s}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const s=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),s}chooseVideoInputQuality(a,s,i){this.deviceController.chooseVideoInputQuality(a,s,i),this.trace("chooseVideoInputQuality",{width:a,height:s,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,s){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,s)}enableSVCForContentShare(a){this.trace("enableSVCForContentShare"),this.contentShareController.enableSVCForContentShare(a)}startContentShare(a){const s=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),s}startContentShareFromScreenCapture(a,s){const i=this.contentShareController.startContentShareFromScreenCapture(a,s);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,s,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let r=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof s<"u"&&(r+=` ${JSON.stringify(s)}`),typeof i<"u"&&(r+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(r)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const s=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,s),s}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,s,i,e,t,r){this.audioVideoController=a,this.videoTileController=s,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=r}},"DefaultAudioVideoFacade");l.default=m},1653706789:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(4337256121)),p=c(4384549035);let a=n(class extends m.default{drawImageWithMask(i,e){const t=this.blurredImage,{canvasCtx:r,targetCanvas:o}=this,{width:f,height:g}=o;if(!e||!t){r.clearRect(0,0,f,g);return}this.scaledCanvas.getContext("2d").putImageData(e,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),r.save(),r.clearRect(0,0,f,g),r.drawImage(this.scaledCanvas,0,0,f,g),r.globalCompositeOperation="source-in",r.drawImage(i,0,0,f,g),r.globalCompositeOperation="destination-over",r.drawImage(this.blurCanvas,0,0,f,g),r.restore()}setBlurStrength(i){if(super.setBlurStrength(i),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=p.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(i){if(this.logger.info(`received initialize message: ${this.stringify(i)}`),!i.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(i){this.blurredImage=i.payload.blurOutput,super.handlePredict(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});var e;return d(this,void 0,void 0,function*(){i.destroy.call(this),(e=this.blurCanvas)===null||e===void 0||e.remove(),this.blurCanvas=void 0})}constructor(i,e){super(i,e),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");l.default=a},4337256121:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(3095125652)),p=c(4384549035),a=h(c(7181071237));let s=n(class extends m.default{validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:o,targetCanvas:f}=this,{width:g,height:v}=f;o.save(),o.clearRect(0,0,g,v),o.drawImage(this.scaledCanvas,0,0,g,v),o.globalCompositeOperation="source-in",o.drawImage(e,0,0,g,v),o.globalCompositeOperation="destination-over",o.filter=`blur(${this.blurAmount}px)`,o.drawImage(e,0,0,f.width,f.height),o.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=p.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return d(this,void 0,void 0,function*(){const e=document.createElement("canvas"),t=e.getContext("2d").filter!==void 0;return e.remove(),t})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}constructor(e,t){super("background blur",e,t,new a.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: { blurStrength: ${t.blurStrength}, filterCPUUtilization: ${t.filterCPUUtilization}, reportingPeriodMillis: ${t.reportingPeriodMillis}}`)}},"BackgroundBlurProcessorProvided");l.default=s},4384549035:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.BlurStrengthMapper=void 0;const c={LOW:7,MEDIUM:15,HIGH:30};let d=n(class{static getBlurAmount(m,p){if(m<=0)throw new Error(`invalid value for blur strength: ${m}`);return Math.round(m*p.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");l.BlurStrengthMapper=d,d.BLUR_STRENGTH_DIVISOR=540,l.default=c},8163389666:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(f,g,v,u){function S(_){return _ instanceof v?_:new v(function(b){b(_)})}return n(S,"adopt"),new(v||(v=Promise))(function(_,b){function E(A){try{I(u.next(A))}catch(w){b(w)}}n(E,"fulfilled");function T(A){try{I(u.throw(A))}catch(w){b(w)}}n(T,"rejected");function I(A){A.done?_(A.value):S(A.value).then(E,T)}n(I,"step"),I((u=u.apply(f,g||[])).next())})},h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8119752156)),p=h(c(3667484237)),a=h(c(4918602332)),s=h(c(4008876858)),i=h(c(1653706789)),e=h(c(4337256121)),t=h(c(4384549035));let r=n(class extends s.default{setBlurStrength(){}loadAssets(){return d(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),o=n(class Pu extends m.default{static create(g,v){return d(this,void 0,void 0,function*(){g=Pu.resolveSpec(g),v=Pu.resolveOptions(v);const{logger:u}=v,S=yield Pu.isSupported(g,v);if(u.info(`processor is ${S?"":"not"} supported`),!S)return u.warn("Using no-op processor because background blur is not supported"),new r;let _;return(yield e.default.isSupported())?(u.info("Using browser-provided background blur"),_=new e.default(g,v)):(u.info("Using built-in background blur"),_=new i.default(g,v)),yield _.loadAssets(),_})}static resolveOptions(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=Object.assign({},g);return v.blurStrength||(v.blurStrength=t.default.MEDIUM),v.logger||(v.logger=new p.default("BackgroundBlurProcessor",a.default.INFO)),v=super.resolveOptions(v),v}static isSupported(g,v){return g=Pu.resolveSpec(g),v=Pu.resolveOptions(v),super.isSupported(g,v)}},"BackgroundBlurVideoFrameProcessor");l.default=o},7181071237:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(5679209067));let m=n(class extends h.default{},"BackgroundBlurVideoFrameProcessorDelegate");l.default=m},2214063486:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class vv{static builder(){return new vv}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const h={height:144,width:256,range:[0,1],channels:3},m={height:144,width:256,range:[0,1],channels:1},p="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=p,this.input=h,this.output=m,this}withPath(h){return this.path=h,this}withInput(h){return this.input=h,this}withOutput(h){return this.output=h,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");l.default=c},5063230687:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=.8;let d=n(class{reportEvent(m){const p=m-this.lastReportedEventTimestamp;if(p>=this.reportingPeriodMillis){const a=this.filterCount,s=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=m,this.framerate===0||a===0)return;const i=Math.round(s/a),e=Math.round(this.framerate*(p/1e3))-a,t=Math.round(100*s/p);i>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:e,avgFilterDurationMillis:i,framerate:this.framerate,periodMillis:p}),t>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:t,filterMillis:s,periodMillis:p})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*c)}frameReceived(m){m!==this.framerate&&(this.framerate=m,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const p=Date.now();this.reportEvent(p)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(m,p,a,s){this.delegate=m,this.reportingPeriodMillis=p,this.filterCPUUtilization=a,this.logger=s,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");l.default=d},3095125652:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(t,r,o,f){function g(v){return v instanceof o?v:new o(function(u){u(v)})}return n(g,"adopt"),new(o||(o=Promise))(function(v,u){function S(E){try{b(f.next(E))}catch(T){u(T)}}n(S,"fulfilled");function _(E){try{b(f.throw(E))}catch(T){u(T)}}n(_,"rejected");function b(E){E.done?v(E.value):g(E.value).then(S,_)}n(b,"step"),b((f=f.apply(t,r||[])).next())})},h=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.BackgroundFilterMonitor=void 0;const m=c(8408264373),p=h(c(6011658084)),a=h(c(5063230687));let s=n(class{whenNext(){return this.promise||(this.promise=new Promise(r=>this.resolve=r)),this.promise}next(r){this.value=r,this.resolve(r),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),i=n(class Tm{static createWorkerPromise(){const r={resolve:null,reject:null,promise:null};return r.promise=new Promise((o,f)=>{r.resolve=o,r.reject=f}),r}validateSpec(r){if(!r)throw new Error("processor has null spec");if(!r.model)throw new Error("processor spec has null model");if(!r.paths)throw new Error("processor spec has null paths")}validateOptions(r){if(!r)throw new Error("processor has null options");if(!r.logger)throw new Error("processor has null options - logger");if(!r.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!r.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(r){this.videoFramesPerFilterUpdate=1,this.frameCounter=new a.default(this.delegate,r.reportingPeriodMillis,r.filterCPUUtilization,this.logger),this.cpuMonitor=new e(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(r){return JSON.stringify(r,null,2)}handleInitialize(r){if(this.logger.info(`received initialize message: ${this.stringify(r)}`),!r.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const o=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:o.path,inputHeight:o.input.height,inputWidth:o.input.width,inputChannels:4,modelRangeMin:o.input.range[0],modelRangeMax:o.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(r){if(this.logger.info(`received load model message: ${this.stringify(r)}`),r.payload!==2){this.logger.error("failed to load model! status: "+r.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+r.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(r){this.mask$.next(r.payload.output)}handleWorkerEvent(r){const o=r.data;switch(o.msg){case"initialize":this.handleInitialize(o);break;case"loadModel":this.handleLoadModel(o);break;case"predict":this.handlePredict(o);break;default:this.logger.info(`unexpected event msg: ${this.stringify(o)}`);break}}loadAssets(){return d(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield m.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",r=>this.handleWorkerEvent(r)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(r){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${r.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(r){return d(this,void 0,void 0,function*(){if(this.destroyed)return r;this.frameCounter.frameReceived(r[0].framerate),this.cpuMonitor.frameReceived();const o=r[0].asCanvasElement();if(!o)return r;if(!this.modelInitialized)return r[0]=this.canvasVideoFrameBuffer,r;const f=o.width,g=o.height;if(f===0||g===0)return r;this.sourceWidth===0&&(this.sourceWidth=f,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==f||this.sourceHeight!==g)&&(this.sourceWidth=f,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let v=this.mask$.value;const u=this.spec.model.input.width/o.width,S=this.spec.model.input.height/o.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const _=this.scaledCanvas.getContext("2d");_.save(),_.scale(u,S),_.drawImage(o,0,0),_.restore();const b=_.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const E=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:b},[b.data.buffer]),v=yield E}this.destroyed||this.drawImageWithMask(o,v)}catch(v){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${v}`),r}finally{this.frameCounter.filterComplete(),this.frameNumber++}return r[0]=this.canvasVideoFrameBuffer,r})}updateVideoFramesPerFilterUpdate(r){r!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=r,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var r,o,f,g;return d(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(r=this.worker)===null||r===void 0||r.postMessage({msg:"destroy"}),(o=this.worker)===null||o===void 0||o.postMessage({msg:"stop"}),(f=this.targetCanvas)===null||f===void 0||f.remove(),this.targetCanvas=void 0,(g=this.scaledCanvas)===null||g===void 0||g.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(r,o,f,g,v){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new p.default(this.targetCanvas),this.mask$=new s,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=Tm.createWorkerPromise(),this.loadModelPromise=Tm.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=r,this.validateSpec(o),this.validateOptions(f),this.spec=o,this.logger=f.logger,this.delegate=g,this.initCPUMonitor(f),this.eventController=v}},"BackgroundFilterProcessor");l.default=i;let e=n(class{filterCPUUtilizationHigh(){const r=Date.now();r-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=r,this.observer.reduceCPUUtilization())}frameReceived(){const r=Date.now();r-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=r,this.observer.increaseCPUUtilization())}constructor(r,o){this.monitoringPeriodMillis=r,this.observer=o,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");l.BackgroundFilterMonitor=e},8119752156:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(f,g,v,u){function S(_){return _ instanceof v?_:new v(function(b){b(_)})}return n(S,"adopt"),new(v||(v=Promise))(function(_,b){function E(A){try{I(u.next(A))}catch(w){b(w)}}n(E,"fulfilled");function T(A){try{I(u.throw(A))}catch(w){b(w)}}n(T,"rejected");function I(A){A.done?_(A.value):S(A.value).then(E,T)}n(I,"step"),I((u=u.apply(f,g||[])).next())})},h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(8408264373),p=c(7737065561),a=h(c(2214063486)),s=h(c(570155317)),i=h(c(1877666836)),e=n(()=>a.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),t="https://static.sdkassets.chime.aws",r={worker:`${t}/bgblur/workers/worker.js`,wasm:`${t}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${t}/bgblur/wasm/_cwt-wasm-simd.wasm`};let o=n(class{static defaultAssetSpec(){const g=i.default.sdkVersionSemVer;return{assetGroup:`sdk-${g.major}.${g.minor}`}}static createUrlWithParams(g,v){const u=new URL(g),S=Object.keys(v);for(const _ of S)v[_]!==void 0&&u.searchParams.set(_,v[_]);return u.toString()}static resolveSpec(g){const{paths:v=r,model:u=e(),assetGroup:S=this.defaultAssetSpec().assetGroup,revisionID:_=this.defaultAssetSpec().revisionID}=g||{},b={assetGroup:S,revisionID:_,sdk:encodeURIComponent(i.default.sdkVersion),ua:encodeURIComponent(i.default.sdkUserAgentLowResolution)};return v.worker=this.createUrlWithParams(v.worker,b),v.wasm=this.createUrlWithParams(v.wasm,b),v.simd=this.createUrlWithParams(v.simd,b),u.path=this.createUrlWithParams(u.path,b),{paths:v,model:u,assetGroup:S,revisionID:_}}static resolveOptions(g){g.reportingPeriodMillis||(g.reportingPeriodMillis=1e3);const v=30;return g.filterCPUUtilization?(g.filterCPUUtilization<0||g.filterCPUUtilization>100)&&(g.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${v} percent`),g.filterCPUUtilization=v):g.filterCPUUtilization=v,g}static isSupported(g,v){const{logger:u}=v;return typeof globalThis>"u"?(u.info("Browser does not have globalThis."),Promise.resolve(!1)):new s.default().supportsBackgroundFilter()?p.supportsWASM(globalThis,u)?this.supportsBackgroundFilter(globalThis,g,u):(u.info("Browser does not support WASM."),Promise.resolve(!1)):(u.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,v=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0;return d(this,void 0,void 0,function*(){if(!p.supportsWorker(g,u))return u.info("Browser does not support web workers."),!1;const S=v.paths.worker;try{const _=yield m.loadWorker(S,"BackgroundFilterWorker",{},null);try{_.terminate()}catch(b){u.info(`Failed to terminate worker. ${b.message}`)}return!0}catch(_){return u.info(`Failed to fetch and instantiate test worker ${_.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");l.default=o},5679209067:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}filterFrameDurationHigh(h){var m;for(const p of this.observers)(m=p.filterFrameDurationHigh)===null||m===void 0||m.call(p,h)}filterCPUUtilizationHigh(h){var m;for(const p of this.observers)(m=p.filterCPUUtilizationHigh)===null||m===void 0||m.call(p,h)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");l.default=c},4603175154:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(3095125652)),p=h(c(9396352123));let a=n(class Im extends m.default{setImageBlob(i){return d(this,void 0,void 0,function*(){this.replacementBlob=i,this.replacementImage=yield Im.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:r,targetCanvas:o}=this,{width:f,height:g}=o;r.save(),r.clearRect(0,0,f,g),r.drawImage(this.scaledCanvas,0,0,f,g),r.globalCompositeOperation="source-in",r.drawImage(i,0,0,f,g),r.globalCompositeOperation="destination-over",r.drawImage(this.replacementImage,0,0,o.width,o.height),r.restore()}static loadImageExecutor(i,e,t){const r=new Image;r.crossOrigin="Anonymous",r.addEventListener("load",()=>{i(r)},!1),r.addEventListener("error",o=>{e(new Error(`Could not load replacement image ${r.src}: ${o.message}`))},!1),r.src=t}static loadImage(i){return d(this,void 0,void 0,function*(){return new Promise((e,t)=>this.loadImageExecutor(e,t,i))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const i=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return d(this,void 0,void 0,function*(){this.replacementImage=yield Im.loadImage(this.createReplacementObjectUrl()),i.loadAssets.call(this)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});return d(this,void 0,void 0,function*(){i.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background replacement",i,e,new p.default),this.replacementBlob=e.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: { filterCPUUtilization: ${e.filterCPUUtilization}, reportingPeriodMillis: ${e.reportingPeriodMillis}}`)}},"BackgroundReplacementFilter");l.default=a},9876192012:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(r,o,f,g){function v(u){return u instanceof f?u:new f(function(S){S(u)})}return n(v,"adopt"),new(f||(f=Promise))(function(u,S){function _(T){try{E(g.next(T))}catch(I){S(I)}}n(_,"fulfilled");function b(T){try{E(g.throw(T))}catch(I){S(I)}}n(b,"rejected");function E(T){T.done?u(T.value):v(T.value).then(_,b)}n(E,"step"),E((g=g.apply(r,o||[])).next())})},h=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8119752156)),p=h(c(3667484237)),a=h(c(4918602332)),s=h(c(4008876858)),i=h(c(4603175154));let e=n(class extends s.default{loadAssets(){return d(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return d(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),t=n(class Sv extends m.default{static create(o,f){return d(this,void 0,void 0,function*(){o=this.resolveSpec(o),f=this.resolveOptions(f),yield this.resolveOptionsAsync(f);const{logger:g}=f;if(!(yield Sv.isSupported(o,f)))return g.warn("Using no-op processor because background replacement is not supported"),new e;g.info("Using background replacement filter");const u=new i.default(o,f);return yield u.loadAssets(),u})}static resolveOptions(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const f=Object.assign({},o);return f.logger||(f.logger=new p.default("BackgroundReplacementProcessor",a.default.INFO)),super.resolveOptions(f)}static resolveOptionsAsync(o){return d(this,void 0,void 0,function*(){if(!o.imageBlob){const f=document.createElement("canvas");f.width=100,f.height=100;const g=f.getContext("2d");g.fillStyle="blue",g.fillRect(0,0,100,100);const v=yield new Promise(u=>{f.toBlob(u)});o.imageBlob=v}})}static isSupported(o,f){const g=Object.create(null,{isSupported:{get:()=>super.isSupported}});return d(this,void 0,void 0,function*(){o=this.resolveSpec(o),f=this.resolveOptions(f),yield this.resolveOptionsAsync(f);const v=f.imageBlob,u=URL.createObjectURL(v);try{yield i.default.loadImage(u)}catch(S){return f.logger.info(`Failed to fetch load replacement image ${S.message}`),!1}finally{URL.revokeObjectURL(u)}return g.isSupported.call(this,o,f)})}},"BackgroundReplacementVideoFrameProcessor");l.default=t},9396352123:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(5679209067));let m=n(class extends h.default{},"BackgroundReplacementVideoFrameProcessorDelegate");l.default=m},4953773007:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const h=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,h}constructor(h,m,p){this.fixedWaitMs=h,this.shortBackoffMs=m,this.longBackoffMs=p,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");l.default=c},4991842071:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4953773007)),m=d(c(1690170483));let p=n(class{create(){return new h.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(s){return new m.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,s)}constructor(s,i,e){this.fixedWaitMs=s,this.shortBackoffMs=i,this.longBackoffMs=e}},"FullJitterBackoffFactory");l.default=p},1690170483:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4953773007));let m=n(class extends h.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(a,s,i,e){super(a,s,i),this.limit=e,this.attempts=0}},"FullJitterLimitedBackoff");l.default=m},570155317:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(585669709),m=c(5037727051);let p=n(class wm{version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}engine(){return this.uaParserResult.engine.name}engineMajorVersion(){return parseInt(this.uaParserResult.engine.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const s of this.chromeLike)if(s===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const s of this.webkitBrowsers)if(s===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=wm.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=wm.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsDependencyDescriptorRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsScalableVideoCoding(){return this.hasChromiumWebRTC()&&this.engine()==="Blink"&&this.engineMajorVersion()>=111}supportsAudioRedundancy(){return this.hasChromiumWebRTC()?this.engineMajorVersion()>=107:!this.hasFirefoxWebRTC()}requiresResolutionAlignment(s,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(s/64)*64,Math.ceil(i/64)*64]:[s,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const s=[];for(const i in this.browserSupport)s.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return s.join(", ")}supportedVideoCodecs(){return d(this,void 0,void 0,function*(){const s=new RTCPeerConnection;return s.addTransceiver("video",{direction:"inactive",streams:[]}),(yield s.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return this.isIOS()&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}requiresAudioContextResetOnDeviceFailureForWebAudio(){return this.isIOS()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}isIOS(){return this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox()}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=h.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new m.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");l.default=p,p.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,p.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},6504123882:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7344258710),m=d(c(9228821375)),p=d(c(8620705262)),a=d(c(7241560938));let s=n(class yv{getMetricMap(e,t){switch(e){case p.default.AUDIO:switch(t){case m.default.UPSTREAM:return this.audioUpstreamMetricMap;case m.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case p.default.VIDEO:switch(t){case m.default.UPSTREAM:return this.videoUpstreamMetricMap;case m.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){if(this.overriddenObservableMetrics.has(e))return this.overriddenObservableMetrics.get(e);const t=this.observableMetricSpec[e],o=this.getMetricMap(t.media,t.dir)[t.source],{transform:f,source:g}=o;if(t.hasOwnProperty("media"))for(const v in this.streamMetricReports){const u=this.streamMetricReports[v];if(u.direction===t.dir&&u.mediaType===t.media)return f(g||t.source,Number(v))}else return f(g||t.source);return 0}getObservableVideoMetricValue(e,t){const r=this.observableVideoMetricSpec[e],f=this.getMetricMap(r.media,r.dir)[r.source],{transform:g,source:v}=f;return g(v||r.source,t)}getVideoUpstreamSsrcs(){const e=[];for(const t in this.streamMetricReports)this.streamMetricReports[t].mediaType===p.default.VIDEO&&this.streamMetricReports[t].direction===m.default.UPSTREAM&&e.push(Number(t));return e}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===p.default.VIDEO){const r={};for(const v in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[v].dir===this.streamMetricReports[t].direction){const u=this.getObservableVideoMetricValue(v,Number(t));isNaN(u)||(r[v]=u)}const o=this.streamMetricReports[t].groupId,f=this.streamMetricReports[t].streamId;let g="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?g=o?this.videoStreamIndex.attendeeIdForGroupId(o):this.selfAttendeeId:g=f?this.videoStreamIndex.attendeeIdForStreamId(f):this.selfAttendeeId,e[g]=e[g]?e[g]:{},e[g][t]=r}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new yv(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.customStatsReports=this.customStatsReports,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e.overriddenObservableMetrics=this.overriddenObservableMetrics,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(e)}`)}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}overrideObservableMetric(e,t){this.overriddenObservableMetrics.set(e,t)}constructor(e,t,r){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=r,this.globalMetricReport=new a.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;return Number(g.currentMetrics[o])},this.decoderLossPercent=(o,f)=>{const g=this.streamMetricReports[f],v=g.currentMetrics.concealedSamples-(g.previousMetrics.concealedSamples||0),u=g.currentMetrics.totalSamplesReceived-(g.previousMetrics.totalSamplesReceived||0);return u<=0||u-v<=0?0:v/u*100},this.packetLossPercent=(o,f)=>{const g=this.streamMetricReports[f],v=g.currentMetrics[o]-(g.previousMetrics[o]||0),u=g.currentMetrics.packetsLost-(g.previousMetrics.packetsLost||0),S=v+u;return S<=0||u<=0?0:u*100/S},this.jitterBufferMs=(o,f)=>{const g=this.streamMetricReports[f],v=g.currentMetrics.jitterBufferDelay-(g.previousMetrics.jitterBufferDelay||0),u=g.currentMetrics.jitterBufferEmittedCount-(g.previousMetrics.jitterBufferEmittedCount||0);return v<=0||u<=0?0:v/u*1e3},this.countPerSecond=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const u=g.currentMetrics[o]-(g.previousMetrics[o]||0);return u<=0?0:Math.trunc(u/v)},this.bitsPerSecond=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const u=(g.currentMetrics[o]-(g.previousMetrics[o]||0))*8;return u<=0?0:Math.trunc(u/v)},this.secondsToMilliseconds=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;return Number(g.currentMetrics[o]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const u=g.currentMetrics[o]-(g.previousMetrics[o]||0);return u<=0?0:u*1e3/v},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(o,f)=>{const g=this.streamMetricReports[f];if(g.previousObjectMetrics[o]===void 0||g.currentObjectMetrics[o]===void 0)return NaN;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);let u=0,S=0;for(const[b,E]of Object.entries(g.previousObjectMetrics[o]))b==="cpu"&&(u=E);for(const[b,E]of Object.entries(g.currentObjectMetrics[o]))b==="cpu"&&(S=E);const _=S-u;return _<=0?0:_*1e3/v},this.isHardwareImplementation=(o,f)=>{const g=this.streamMetricReports[f];if(g.currentStringMetrics[o]===void 0)return NaN;const v=String(g.currentStringMetrics[o]),u=v.includes("ExternalDecoder")||v.includes("ExternalEncoder")||v.includes("EncodeAccelerator")||v.includes("DecodeAccelerator"),S=v.includes("fallback from");return u&&!S?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:h.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:h.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:h.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:h.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:h.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.VIDEO_SENT_JITTER_MS},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:h.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU},videoCodecDegradationHighEncodeCpu:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU},videoCodecDegradationEncodeFailure:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE},videoInputWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_INPUT_WIDTH},videoInputHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_INPUT_HEIGHT}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:h.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:h.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPausesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_DROPPED_FPS},videoRenderWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RENDER_WIDTH},videoRenderHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RENDER_HEIGHT}},this.streamDimensionMap={encoderImplementation:h.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:h.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFramesInputPerSecond:{source:"framesPerSecond",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamEncoderImplementation:{source:"encoderImplementation",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamTotalEncodeTimePerSecond:{source:"totalEncodeTime",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamCpuQualityLimitationDurationPerSecond:{source:"qualityLimitationDurations",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:p.default.VIDEO,dir:m.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:p.default.AUDIO,dir:m.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:p.default.AUDIO,dir:m.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:p.default.AUDIO,dir:m.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:p.default.AUDIO,dir:m.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:p.default.VIDEO,dir:m.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}},"ClientMetricReport");l.default=s},9228821375:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportDirection=void 0;var c;(function(d){d[d.UPSTREAM=0]="UPSTREAM",d[d.DOWNSTREAM=1]="DOWNSTREAM"})(c=l.ClientMetricReportDirection||(l.ClientMetricReportDirection={})),l.default=c},8620705262:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportMediaType=void 0;var c;(function(d){d[d.AUDIO=0]="AUDIO",d[d.VIDEO=1]="VIDEO"})(c=l.ClientMetricReportMediaType||(l.ClientMetricReportMediaType={})),l.default=c},8445379153:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"ClientVideoStreamReceivingReport");l.default=c},7241560938:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"GlobalMetricReport");l.default=c},9193449927:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}},"RedundantAudioRecoveryMetricReport");l.default=c},2245405125:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"StreamMetricReport");l.default=c},9125397317:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(h){this.currentData=h}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const h=this.health();return h!==this.currentHealth?(this.currentHealth=h,h):null}constructor(h,m,p){this.minHealth=h.minHealth,this.maxHealth=h.maxHealth,this.currentHealth=h.initialHealth,this.currentData=m.clone(),this.name=p}},"BaseConnectionHealthPolicy");l.default=c},4203297362:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class wd{static isTimestampRecent(h,m){return Date.now()<h+m}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now(),this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.videoEncodingTimePerFrameInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0}isConnectionStartRecent(h){return wd.isTimestampRecent(this.connectionStartTimestampMs,h)}isLastPacketLossRecent(h){return wd.isTimestampRecent(this.lastPacketLossInboundTimestampMs,h)}isGoodSignalRecent(h){return wd.isTimestampRecent(this.lastGoodSignalTimestampMs,h)}isWeakSignalRecent(h){return wd.isTimestampRecent(this.lastWeakSignalTimestampMs,h)}isNoSignalRecent(h){return wd.isTimestampRecent(this.lastNoSignalTimestampMs,h)}clone(){const h=new wd;return h.connectionStartTimestampMs=this.connectionStartTimestampMs,h.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,h.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,h.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,h.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,h.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,h.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,h.consecutiveMissedPongs=this.consecutiveMissedPongs,h.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),h.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),h.audioSpeakerDelayMs=this.audioSpeakerDelayMs,h.isVideoEncoderHardware=this.isVideoEncoderHardware,h.videoEncodingTimeInMs=this.videoEncodingTimeInMs,h.videoEncodingTimePerFrameInMs=this.videoEncodingTimePerFrameInMs,h.cpuLimitationDuration=this.cpuLimitationDuration,h.videoInputFps=this.videoInputFps,h.videoEncodeFps=this.videoEncodeFps,h}setConsecutiveMissedPongs(h){this.consecutiveMissedPongs=h}setConsecutiveStatsWithNoPackets(h){this.consecutiveStatsWithNoPackets=h}setConsecutiveStatsWithNoAudioPacketsSent(h){this.consecutiveStatsWithNoAudioPacketsSent=h}setLastPacketLossInboundTimestampMs(h){this.lastPacketLossInboundTimestampMs=h}setLastNoSignalTimestampMs(h){this.lastNoSignalTimestampMs=h}setLastWeakSignalTimestampMs(h){this.lastWeakSignalTimestampMs=h}setLastGoodSignalTimestampMs(h){this.lastGoodSignalTimestampMs=h}setAudioSpeakerDelayMs(h){this.audioSpeakerDelayMs=h}setIsVideoEncoderHardware(h){this.isVideoEncoderHardware=h}setVideoEncodingTimeInMs(h){this.videoEncodingTimeInMs=h}setVideoEncodingTimePerFrameInMs(h){this.videoEncodingTimePerFrameInMs=h}setCpuLimitationDuration(h){this.cpuLimitationDuration=h}setVideoInputFps(h){this.videoInputFps=h}setVideoEncodeFps(h){this.videoEncodeFps=h}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.videoEncodingTimePerFrameInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");l.default=c},7393946074:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(5224309264)),m=d(c(8519113441));let p=n(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3,this.videoEncodingHealthPolicies=[h.default,m.default],this.consecutiveHighEncodeCpuThreshold=10,this.highEncodeCpuMsThreshold=500,this.highEncodeCpuMsPerFrameThreshold=15,this.consecutiveVideoEncodingFailureThreshold=5}},"ConnectionHealthPolicyConfiguration");l.default=p},4705746645:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9125397317));let m=n(class cl extends h.default{health(){if(this.currentData.isConnectionStartRecent(cl.CONNECTION_WAIT_TIME_MS))return 1;const s=this.currentData.consecutiveStatsWithNoPackets>=cl.CONNECTION_UNHEALTHY_THRESHOLD,i=this.currentData.consecutiveMissedPongs>=cl.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>cl.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const e=this.audioDelayPointsOverMaximum>cl.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return e&&(this.audioDelayPointsOverMaximum=0),s||i||e?(this.logger.warn(`reconnection recommended due to: no packets received: ${s}, missed pongs: ${i}, bad audio delay: ${e}`),0):1}constructor(a,s,i){super(s,i,"Reconnection Health"),this.logger=a,this.audioDelayPointsOverMaximum=0,cl.CONNECTION_UNHEALTHY_THRESHOLD=s.connectionUnhealthyThreshold,cl.CONNECTION_WAIT_TIME_MS=s.connectionWaitTimeMs,cl.MISSED_PONGS_THRESHOLD=s.missedPongsUpperThreshold,cl.MAXIMUM_AUDIO_DELAY_MS=s.maximumAudioDelayMs,cl.MAXIMUM_AUDIO_DELAY_DATA_POINTS=s.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");l.default=m},7549473166:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9125397317));let m=n(class extends h.default{isSendingAudioUnhealthy(){const a=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),s=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return a&&s}health(){if(this.isSendingAudioUnhealthy()){const a=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!a?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(a,s,i){super(s,i,"Sending Audio Health"),this.logger=a,this.sendingAudioFailureSamplesToConsider=s.sendingAudioFailureSamplesToConsider>0?s.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=s.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=s.maximumTimesToWarn,this.coolDownTimeMs=s.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");l.default=m},1168113665:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9125397317));let m=n(class extends h.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const a=this.pastSamplesToConsider,s=a*this.packetsExpected;let i=0;for(let e=0;e<a;e++)i+=this.currentData.packetsReceivedInLastMinute[e];return Math.min(Math.max(1-i/s,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(a,s){super(a,s,"Unusable Audio Warning"),this.coolDownTimeMs=a.cooldownTimeMs,this.pastSamplesToConsider=a.pastSamplesToConsider,this.fractionalLoss=a.fractionalLoss,this.packetsExpected=a.packetsExpected,this.maximumTimesToWarn=a.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");l.default=m},9225479537:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoEncodingConnectionHealthPolicyName=void 0;var c;(function(d){d.VideoEncodingCpuHealth="Video Encoding CPU Health",d.VideoEncodingFramerateHealth="Video Encoding framerate Health"})(c=l.VideoEncodingConnectionHealthPolicyName||(l.VideoEncodingConnectionHealthPolicyName={})),l.default=c},5224309264:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9125397317)),m=d(c(9225479537));let p=n(class extends h.default{health(){const s=this.currentData.videoEncodingTimeInMs>=this.highEncodeCpuMsThreshold&&this.currentData.videoEncodingTimePerFrameInMs>=this.highEncodeCpuMsPerFrameThreshold;if(!this.currentData.isVideoEncoderHardware&&(s||this.currentData.cpuLimitationDuration>0)){if(this.consecutiveHighEncodeCpuCnt++,this.consecutiveHighEncodeCpuCnt>this.consecutiveHighEncodeCpuThreshold)return this.consecutiveHighEncodeCpuCnt=0,this.minimumHealth()}else this.consecutiveHighEncodeCpuCnt=0;return this.maximumHealth()}constructor(s,i){super(s,i,m.default.VideoEncodingCpuHealth),this.consecutiveHighEncodeCpuCnt=0,this.consecutiveHighEncodeCpuThreshold=s.consecutiveHighEncodeCpuThreshold,this.highEncodeCpuMsThreshold=s.highEncodeCpuMsThreshold,this.highEncodeCpuMsPerFrameThreshold=s.highEncodeCpuMsPerFrameThreshold}},"VideoEncodingCpuConnectionHealthPolicy");l.default=p},8519113441:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9125397317)),m=d(c(9225479537));let p=n(class extends h.default{health(){if(this.currentData.videoEncodeFps===0&&this.currentData.videoInputFps>0){if(this.consecutiveEncodeFailureCnt++,this.consecutiveEncodeFailureCnt>this.consecutiveVideoEncodingFailureThreshold)return this.consecutiveEncodeFailureCnt=0,this.minimumHealth()}else this.consecutiveEncodeFailureCnt=0;return this.maximumHealth()}constructor(s,i){super(s,i,m.default.VideoEncodingFramerateHealth),this.consecutiveEncodeFailureCnt=0,this.consecutiveVideoEncodingFailureThreshold=s.consecutiveVideoEncodingFailureThreshold}},"VideoEncodingFramerateConnectionHealthPolicy");l.default=p},3308537260:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(8479756130);let h=n(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(p){p===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):p<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(p,a,s){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",s),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(p){let a=0,s=0;const i=p.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,r=i.audioSpeakerDelayMs;typeof r=="number"&&!isNaN(r)&&this.connectionHealthData.setAudioSpeakerDelayMs(r);const o=p.getRTCStatsReport();let f=0,g=0;o.forEach(S=>{S.type==="candidate-pair"&&(S.bytesReceived&&(f+=S.bytesReceived),S.requestsReceived&&(g+=S.requestsReceived),S.responsesReceived&&(g+=S.responsesReceived))});const v=f-this.lastTotalBytesReceived;this.lastTotalBytesReceived=f;const u=g-this.lastTotalStunMessagesReceived;if(this.lastTotalStunMessagesReceived=g,typeof e=="number"&&typeof t=="number"){if(a=e,s=t,a<0||s<0||v<0||u<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,s),v>0||u>0?(this.hasSeenValidCandidatePairMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidCandidatePairMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||s>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateVideoEncodingHealth(p),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(p){p>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}updateVideoEncodingHealth(p){const a=this.audioVideoController.videoTileController.hasStartedLocalVideoTile(),s=p.getVideoUpstreamSsrcs();if(!a||s.length===0){this.connectionHealthData.setIsVideoEncoderHardware(!1),this.connectionHealthData.setVideoEncodingTimePerFrameInMs(0),this.connectionHealthData.setCpuLimitationDuration(0),this.connectionHealthData.setVideoInputFps(0),this.connectionHealthData.setVideoEncodeFps(0);return}let i=!1,e=0,t=0,r=0,o=0;for(const g of s)i||(i=Boolean(p.getObservableVideoMetricValue("videoUpstreamEncoderImplementation",g))),e+=p.getObservableVideoMetricValue("videoUpstreamTotalEncodeTimePerSecond",g),t+=p.getObservableVideoMetricValue("videoUpstreamCpuQualityLimitationDurationPerSecond",g),r+=p.getObservableVideoMetricValue("videoUpstreamFramesInputPerSecond",g),o+=p.getObservableVideoMetricValue("videoUpstreamFramesEncodedPerSecond",g);const f=o>0?e/o:0;this.connectionHealthData.setIsVideoEncoderHardware(Boolean(i)),this.connectionHealthData.setVideoEncodingTimeInMs(e),this.connectionHealthData.setVideoEncodingTimePerFrameInMs(f),this.connectionHealthData.setCpuLimitationDuration(t),this.connectionHealthData.setVideoInputFps(r),this.connectionHealthData.setVideoEncodeFps(o)}addToMinuteWindow(p,a){p.unshift(a),p.length>60&&p.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(p=>{d.Maybe.of(p.connectionHealthDidChange).map(a=>a.bind(p)(this.connectionHealthData.clone()))})}constructor(p,a,s,i,e){this.audioVideoController=p,this.realtimeController=a,this.connectionHealthData=s,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidCandidatePairMetricsBefore=!1,this.lastTotalBytesReceived=0,this.lastTotalStunMessagesReceived=0,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");l.default=h},9946496941:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.Modality="#content"})(c||(c={})),l.default=c},813510865:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(570155317)),p=h(c(5903145429));let a=n(class Dm{get mediaStream(){return this._mediaStream}set mediaStream(i){this._mediaStream=i}acquireAudioInputStream(){return d(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),p.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return d(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(i){return d(this,void 0,void 0,function*(){return i&&i.video&&i.video.mandatory&&i.video.mandatory.chromeMediaSource&&i.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(i):navigator.mediaDevices.getDisplayMedia(i)})}acquireScreenCaptureDisplayInputStream(i,e){return d(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(i,e))})}screenCaptureDisplayMediaConstraints(i,e){return{audio:!!(!i&&new m.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!i&&{frameRate:{max:e||Dm.defaultFrameRate}}),i&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:e||Dm.defaultFrameRate}})}}toggleMediaStream(i){let e=!1;if(this.mediaStream)for(let t=0;t<this.mediaStream.getTracks().length;t++)this.mediaStream.getTracks()[t].enabled!==i&&(this.mediaStream.getTracks()[t].enabled=i,e=!0);return e}cleanup(){if(this.mediaStream)for(let i=0;i<this.mediaStream.getTracks().length;i++)this.mediaStream.getTracks()[i].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(i){}removeMediaStreamBrokerObserver(i){}constructor(i){this.logger=i}},"ContentShareMediaStreamBroker");l.default=a,a.defaultFrameRate=15},3061658033:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(g,v,u,S){function _(b){return b instanceof u?b:new u(function(E){E(b)})}return n(_,"adopt"),new(u||(u=Promise))(function(b,E){function T(w){try{A(S.next(w))}catch(R){E(R)}}n(T,"fulfilled");function I(w){try{A(S.throw(w))}catch(R){E(R)}}n(I,"rejected");function A(w){w.done?b(w.value):_(w.value).then(T,I)}n(A,"step"),A((S=S.apply(g,v||[])).next())})},h=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(78129611)),p=h(c(4283440356)),a=h(c(3981501552)),s=h(c(5519271617)),i=h(c(7416186200)),e=c(8479756130),t=h(c(256606391)),r=h(c(9623039021)),o=h(c(9946496941));let f=n(class{static createContentShareMeetingSessionConfigure(v){const u=new p.default;return u.meetingId=v.meetingId,u.externalMeetingId=v.externalMeetingId,u.urls=v.urls,u.disablePeriodicKeyframeRequestOnContentSender=v.disablePeriodicKeyframeRequestOnContentSender,u.credentials=new a.default,u.credentials.attendeeId=v.credentials.attendeeId+o.default.Modality,u.credentials.externalUserId=v.credentials.externalUserId,u.credentials.joinToken=v.credentials.joinToken+o.default.Modality,u.meetingFeatures=v.meetingFeatures.clone(),u.videoDownlinkBandwidthPolicy=new t.default,u}setContentAudioProfile(v){this.contentAudioVideo.setAudioProfile(v)}enableSimulcastForContentShare(v,u){v?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new r.default(this.contentAudioVideo.logger,u)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}enableSVCForContentShare(v){v?this.contentAudioVideo.configuration.enableSVC=!0:this.contentAudioVideo.configuration.enableSVC=!1}startContentShare(v){return d(this,void 0,void 0,function*(){if(v){if(this.contentAudioVideo.configuration.meetingFeatures.contentMaxResolution===m.default.VideoDisabled){this.contentAudioVideo.logger.info("Could not start content because max content resolution was set to None");return}this.mediaStreamBroker.mediaStream=v;for(let u=0;u<this.mediaStreamBroker.mediaStream.getTracks().length;u++)this.mediaStreamBroker.mediaStream.getTracks()[u].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(v,u){return d(this,void 0,void 0,function*(){const S=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(v,u);return yield this.startContentShare(S),S})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(v=>{e.Maybe.of(v.contentShareDidPause).map(u=>u.call(v))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(v=>{e.Maybe.of(v.contentShareDidUnpause).map(u=>u.call(v))})}setContentShareVideoCodecPreferences(v){this.contentAudioVideo.setVideoCodecSendPreferences(v)}destroy(){return d(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(v){this.observerQueue.add(v)}removeContentShareObserver(v){this.observerQueue.delete(v)}forEachContentShareObserver(v){for(const u of this.observerQueue)i.default.nextTick(()=>{this.observerQueue.has(u)&&v(u)})}audioVideoDidStart(){var v;((v=this.mediaStreamBroker.mediaStream)===null||v===void 0?void 0:v.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(v){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(u=>{e.Maybe.of(u.contentShareDidStop).map(S=>S.call(u))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((v,u,S,_)=>{const b=new s.default(v).hasModality(s.default.MODALITY_CONTENT),E=new s.default(v).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!b||!E||!u||this.contentShareTile)return;const T=this.mediaStreamBroker.mediaStream;if(T!=null&&T.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const I=T.getVideoTracks()[0];let A,w;if(I.getSettings){const R=I.getSettings();A=R.width,w=R.height}else{const R=I.getCapabilities();A=R.width,w=R.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,T,A,w,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(I=>{e.Maybe.of(I.contentShareDidStart).map(A=>A.call(I))})})}constructor(v,u,S){this.mediaStreamBroker=v,this.contentAudioVideo=u,this.attendeeAudioVideo=S,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");l.default=f},8532769532:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let d=n(class Ya{static register(){!("document"in c.g)||!document.addEventListener||Ya.shouldRegisterCSPMonitor&&(Ya.added||(document.addEventListener("securitypolicyviolation",Ya.listener),Ya.added=!0))}static unregister(){!("document"in c.g)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",Ya.listener),Ya.loggers=new Set,Ya.added=!1)}static disable(){Ya.shouldRegisterCSPMonitor=!1,Ya.unregister()}static addLogger(m){m&&Ya.loggers.add(m)}static removeLogger(m){m&&Ya.loggers.delete(m)}},"CSPMonitor");l.default=d,d.loggers=new Set,d.shouldRegisterCSPMonitor=!0,d.added=!1,d.listener=h=>{const m=`Security Policy Violation
Blocked URI: ${h.blockedURI}
Violated Directive: ${h.violatedDirective}
Original Policy: ${h.originalPolicy}
Document URI: ${h.documentURI}
Source File: ${h.sourceFile}
Line No.: ${h.lineNumber}
`;for(const p of d.loggers)p.error(m);d.loggers.size===0&&console.error(m)}},2771660234:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(h,m,p,a,s,i){this.timestampMs=h,this.topic=m,this.data=p,this.senderAttendeeId=a,this.senderExternalUserId=s,this.throttled=!!i}},"DataMessage");l.default=c},4037901050:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isDestroyable=void 0;function c(d){return d&&"destroy"in d}n(c,"isDestroyable"),l.isDestroyable=c},7527964870:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isAudioTransformDevice=void 0;function c(d){return!!d&&typeof d=="object"&&"mute"in d&&"stop"in d&&"intrinsicDevice"in d}n(c,"isAudioTransformDevice"),l.isAudioTransformDevice=c},5903145429:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(A,w,R,P){function x(z){return z instanceof R?z:new R(function(Z){Z(z)})}return n(x,"adopt"),new(R||(R=Promise))(function(z,Z){function re(ge){try{he(P.next(ge))}catch(Pe){Z(Pe)}}n(re,"fulfilled");function ne(ge){try{he(P.throw(ge))}catch(Pe){Z(Pe)}}n(ne,"rejected");function he(ge){ge.done?z(ge.value):x(ge.value).then(re,ne)}n(he,"step"),he((P=P.apply(A,w||[])).next())})},h=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(570155317)),p=h(c(7597464201)),a=h(c(7416186200)),s=h(c(7763852557)),i=c(8479756130),e=h(c(1552134416)),t=h(c(8228544095)),r=c(7527964870),o=h(c(265897750)),f=h(c(6761005763)),g=h(c(1633866641)),v=h(c(6586096691)),u=h(c(7387765922)),S=h(c(4976434844)),_=h(c(6582440864)),b=h(c(78129611)),E=c(9009314017);let T=n(class vo{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var w;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(w=this.mediaDeviceWrapper)===null||w===void 0||w.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var w;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(w=this.mediaDeviceWrapper)===null||w===void 0||w.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return d(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const R=yield this.listDevicesOfKind("audioinput",w);return this.trace("listAudioInputDevices",w,R),R})}listVideoInputDevices(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const R=yield this.listDevicesOfKind("videoinput",w);return this.trace("listVideoInputDevices",w,R),R})}listAudioOutputDevices(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const R=yield this.listDevicesOfKind("audiooutput",w);return this.trace("listAudioOutputDevices",w,R),R})}pushAudioMeetingStateForPermissions(w){var R;(R=this.eventController)===null||R===void 0||R.publishEvent(w===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(w){var R;(R=this.eventController)===null||R===void 0||R.publishEvent(w===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(w){return d(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(w))})}startAudioInputTask(w){var R;return d(this,void 0,void 0,function*(){if(w===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return r.isAudioTransformDevice(w)?(this.logger.info(`Choosing transform input device ${w}`),yield this.chooseAudioTransformInputDevice(w)):(this.logger.info(`Choosing intrinsic audio input device ${w}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",w)),this.trace("startAudioInputDevice",w,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(R=this.transform)===null||R===void 0?void 0:R.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(P){throw P}})}stopAudioInput(){return d(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return d(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(w){var R;return d(this,void 0,void 0,function*(){if(((R=this.transform)===null||R===void 0?void 0:R.device)===w)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const P=vo.getAudioContext();if(!(P instanceof OfflineAudioContext))switch(P.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield P.resume()}let x;try{x=yield w.createAudioNode(P)}catch(Z){throw this.logger.error(`Unable to create transform device node: ${Z}.`),Z}const z=yield w.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",z),this.logger.debug(`Got inner stream: ${z}.`),this.setTransform(w,x)})}chooseVideoTransformInputDevice(w){var R;return d(this,void 0,void 0,function*(){if(this.eventController&&w instanceof e.default&&w.passEventControllerToProcessors(this.eventController),w===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const P=this.chosenVideoTransformDevice;P&&this.logger.info("Switched from previous VideoTransformDevice");const x=!!P,z=yield w.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((R=this.activeDevices.video)===null||R===void 0?void 0:R.stream,z)){this.logger.info("video transform device needs new intrinsic device"),x&&P.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=w,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",z),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=w,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield w.transformStream(this.activeDevices.video.stream)})}startVideoInput(w){return d(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(w))})}startVideoInputTask(w){return d(this,void 0,void 0,function*(){if(!w){this.logger.error("Invalid video input device");return}try{return E.isVideoTransformDevice(w)?(this.logger.info(`Choosing video transform device ${w}`),yield this.chooseVideoTransformInputDevice(w),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",w),this.trace("startVideoInputDevice",w),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(R){throw R}})}stopVideoInput(){return d(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return d(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(w){return d(this,void 0,void 0,function*(){this.audioOutputDeviceId=w,this.watchForDeviceChangesIfNecessary();const R=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(R),this.trace("chooseAudioOutput",w,null)})}addDeviceChangeObserver(w){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(w),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(w){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(w),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var w,R;if(!this.activeDevices.audio)return null;const P=(R=(w=this.transform)===null||w===void 0?void 0:w.nodes)===null||R===void 0?void 0:R.end;if(P){const x=P.context.createAnalyser();return x.removeOriginalInputs=()=>{try{P.disconnect(x)}catch{}},P.connect(x),x}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(w){const R=vo.getAudioContext(),P=R.createAnalyser(),x=R.createMediaStreamSource(w);return x.connect(P),this.trace("createAnalyserNodeForAudioInput"),P.removeOriginalInputs=()=>{try{x.disconnect(P)}catch{}},P}startVideoPreviewForVideoInput(w){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",w.id);return}t.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,w,!0),this.trace("startVideoPreviewForVideoInput",w.id)}stopVideoPreviewForVideoInput(w){t.default.disconnectVideoStreamFromVideoElement(w,!1),this.trace("stopVideoPreviewForVideoInput",w.id)}setDeviceLabelTrigger(w){if(this.deviceInfoCache){for(const R of this.deviceInfoCache)if(!R.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=w,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(w){let R=null;return this.useWebAudio?(R=vo.getAudioContext().createMediaStreamSource(w),R.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",w.id),R}chooseVideoInputQuality(w,R,P){const x=this.browserBehavior.requiresResolutionAlignment(w,R);this.videoInputQualitySettings=new b.default(x[0],x[1],P)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return d(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return d(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(w){return d(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(w){const R=this.activeDevices[w];if(!R)return;const P=R.endedCallback,x=R.trackMuteCallback,z=R.trackUnmuteCallback;for(const Z of R.stream.getTracks())Z.stop(),P&&Z.removeEventListener("ended",P),x&&Z.removeEventListener("mute",x),z&&Z.removeEventListener("unmute",z),delete R.endedCallback,delete R.trackMuteCallback,delete R.trackUnmuteCallback,delete this.activeDevices[w]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(w){var R;let P=this.activeDevices.audio;if(this.useWebAudio&&(P=this.getMediaStreamDestinationNode()),!!P){for(const x of P.stream.getTracks())x.enabled!==w&&(x.enabled=w);this.muted!==!w&&(this.muted=!w,(R=this.transform)===null||R===void 0||R.device.mute(this.muted))}}static getIntrinsicDeviceId(w){if(!w)return;if(typeof w=="string")return w;if(w.id)return w.id;const P=w.deviceId;if(!P)return;if(typeof P=="string"||Array.isArray(P))return P;const x=P;if(typeof x.exact=="string"||Array.isArray(x.exact))return x.exact}static createEmptyAudioDevice(){return vo.synthesizeAudioDevice(0)}static synthesizeAudioDevice(w){const R=vo.getAudioContext(),P=R.createMediaStreamDestination();if(w){const x=R.createGain();x.gain.value=.1,x.connect(P);const z=R.createOscillator();z.frequency.value=w,z.connect(x),z.start()}else{const x=R.createBufferSource();try{x.buffer=R.createBuffer(1,R.sampleRate*5,R.sampleRate)}catch(z){if(z&&z.name==="NotSupportedError")x.buffer=R.createBuffer(1,vo.defaultSampleRate*5,vo.defaultSampleRate);else throw z}x.buffer.getChannelData(0)[0]=3e-4,x.loop=!0,x.connect(P),x.start()}return P.stream}listDevicesOfKind(w,R){return d(this,void 0,void 0,function*(){return(R||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(w)})}updateDeviceInfoCacheFromBrowser(){var w;return d(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let P=yield navigator.mediaDevices.enumerateDevices(),x=!0;for(const z of P)if(!z.label){x=!1;break}if(!x)try{this.logger.info("attempting to trigger media device labels since they are hidden");const z=yield this.deviceLabelTrigger();P=yield navigator.mediaDevices.enumerateDevices();for(const Z of z.getTracks())Z.stop()}catch(z){this.logger.info("unable to get media device labels"),(w=this.eventController)===null||w===void 0||w.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(z)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(P)}`),this.deviceInfoCache=P})}listCachedDevicesOfKind(w){const R=[];if(this.deviceInfoCache)for(const P of this.deviceInfoCache)P.kind===w&&R.push(P);return R}handleDeviceChange(){return d(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){a.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const w=this.listCachedDevicesOfKind("audioinput"),R=this.listCachedDevicesOfKind("videoinput"),P=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const x=this.listCachedDevicesOfKind("audioinput"),z=this.listCachedDevicesOfKind("videoinput"),Z=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(re=>{this.areDeviceListsEqual(w,x)||i.Maybe.of(re.audioInputsChanged).map(ne=>ne.bind(re)(x)),this.areDeviceListsEqual(R,z)||i.Maybe.of(re.videoInputsChanged).map(ne=>ne.bind(re)(z)),this.areDeviceListsEqual(P,Z)||i.Maybe.of(re.audioOutputsChanged).map(ne=>ne.bind(re)(Z))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(w,R){return d(this,void 0,void 0,function*(){try{w==="audio"?(this.useWebAudio&&this.browserBehavior.requiresAudioContextResetOnDeviceFailureForWebAudio()?(this.logger.warn("Audio input device which was active is no longer available, suspending and resuming audio context before resetting to empty device to ensure packets are sent"),yield this.stopAudioInput(),vo.suspendAudioContext(),vo.resumeAudioContext()):this.logger.warn("Audio input device which was active is no longer available, resetting to empty device to ensure packets are sent"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}w==="audio"?this.forEachObserver(P=>{i.Maybe.of(P.audioInputStreamEnded).map(x=>x.bind(P)(R))}):this.forEachObserver(P=>{i.Maybe.of(P.videoInputStreamEnded).map(x=>x.bind(P)(R))})})}forEachObserver(w){for(const R of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(R)&&w(R)})}forEachMediaStreamBrokerObserver(w){for(const R of this.mediaStreamBrokerObservers)a.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(R)&&w(R)})}areDeviceListsEqual(w,R){return JSON.stringify(w.map(P=>JSON.stringify(P)).sort())===JSON.stringify(R.map(P=>JSON.stringify(P)).sort())}intrinsicDeviceAsMediaStream(w){return w&&w.id?w:null}hasSameMediaStreamId(w,R,P){var x,z,Z,re;let ne;return w==="audio"?(ne=P==null?void 0:P.audio.streamId,!!ne&&ne===((z=(x=R.constraints)===null||x===void 0?void 0:x.audio)===null||z===void 0?void 0:z.streamId)):(ne=P==null?void 0:P.video.streamId,!!ne&&ne===((re=(Z=R==null?void 0:R.constraints)===null||Z===void 0?void 0:Z.video)===null||re===void 0?void 0:re.streamId))}hasSameGroupId(w,R,P){if(w==="")return!0;const x=vo.getIntrinsicDeviceId(P);return this.logger.debug(`Checking deviceIds ${x} of type ${typeof x} with groupId ${w}`),typeof x=="string"&&w===this.getGroupIdFromDeviceId(R,x)}getGroupIdFromDeviceId(w,R){if(this.deviceInfoCache!==null){const P=this.listCachedDevicesOfKind(`${w}input`).find(x=>x.deviceId===R);if(P&&P.groupId)return this.logger.debug(`GroupId of deviceId ${R} found in cache is ${P.groupId}`),P.groupId}return this.logger.debug(`GroupId of deviceId ${R} found in cache is empty`),""}handleGetUserMediaError(w,R){if(!w)throw new f.default(w);switch(w.name){case"NotReadableError":case"TrackStartError":throw new v.default(w);case"NotFoundError":case"DevicesNotFoundError":throw new g.default(w);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw R&&R<vo.permissionDeniedOriginDetectionThresholdMs?new S.default(w,"Permission denied by browser"):new S.default(w,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new u.default(w);case"TypeError":throw new _.default(w);case"AbortError":default:throw new f.default(w)}}matchesDeviceSelection(w,R,P,x){return P&&P.stream.active&&(this.hasSameMediaStreamId(w,P,x)||P.groupId!==null&&this.hasSameGroupId(P.groupId,w,R))?(this.logger.debug(`Compare current device constraint ${JSON.stringify(P.constraints)} to proposed constraints ${JSON.stringify(x)}`),P.matchesConstraints(x)):!1}chooseInputIntrinsicDevice(w,R){var P,x;return d(this,void 0,void 0,function*(){const z=this.getMediaStreamConstraints(w,R);if(this.matchesDeviceSelection(w,R,this.activeDevices[w],z)){this.logger.info(`reusing existing ${w} input device`);return}this.activeDevices[w]&&this.activeDevices[w].stream&&this.stopTracksAndRemoveCallbacks(w);const Z=Date.now(),re=new o.default;try{this.logger.info(`requesting new ${w} device with constraint ${JSON.stringify(z)}`);const ne=this.intrinsicDeviceAsMediaStream(R);w==="audio"&&R===null?(re.stream=vo.createEmptyAudioDevice(),re.constraints=null):ne?(this.logger.info(`using media stream ${ne.id} for ${w} device`),re.stream=ne,re.constraints=z):(re.stream=yield navigator.mediaDevices.getUserMedia(z),re.constraints=z),yield this.handleNewInputDevice(w,re)}catch(ne){const he=this.getErrorMessage(ne);w==="audio"?(P=this.eventController)===null||P===void 0||P.publishEvent("audioInputFailed",{audioInputErrorMessage:he}):(x=this.eventController)===null||x===void 0||x.publishEvent("videoInputFailed",{videoInputErrorMessage:he}),this.logger.error(`failed to get ${w} device for constraints ${JSON.stringify(z)}: ${he}`);let ge=!0;if(ne&&"constraint"in ne&&(this.logger.error(`Over-constrained by constraint: ${ne.constraint}`),this.useMediaConstraintsFallback)){const Pe=this.getMediaStreamConstraints(w,R,!0),He=JSON.stringify(Pe);if(He!==JSON.stringify(z)){this.logger.info(`retry requesting new ${w} device with minimal constraint ${He}`);try{re.stream=yield navigator.mediaDevices.getUserMedia(Pe),re.constraints=Pe,yield this.handleNewInputDevice(w,re),ge=!1}catch(pt){this.logger.error(`failed to get ${w} device for constraints ${He}: ${this.getErrorMessage(pt)}`)}}}if(ge){if(w==="audio"){this.logger.info(`choosing null ${w} device instead`);try{re.stream=vo.createEmptyAudioDevice(),re.constraints=null,yield this.handleNewInputDevice(w,re)}catch(Pe){this.logger.error(`failed to choose null ${w} device. ${Pe.name}: ${Pe.message}`)}}this.handleGetUserMediaError(ne,Date.now()-Z)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(w){return w?w.name&&w.message?`${w.name}: ${w.message}`:w.name?w.name:w.message?w.message:"UnknownError":"UnknownError"}handleNewInputDevice(w,R){var P;return d(this,void 0,void 0,function*(){this.logger.info(`got ${w} device for constraints ${JSON.stringify(R.constraints)}`);const x=(P=this.getMediaTrackSettings(R.stream))===null||P===void 0?void 0:P.deviceId;R.groupId=x?this.getGroupIdFromDeviceId(w,x):"",this.activeDevices[w]=R,this.logger.debug(`Set activeDevice to ${JSON.stringify(R)}`),this.watchForDeviceChangesIfNecessary();const z=R.stream.getTracks()[0];if(z&&(R.endedCallback=()=>{this.activeDevices[w]&&this.activeDevices[w].stream===R.stream&&(this.handleDeviceStreamEnded(w,x),delete R.endedCallback)},z.addEventListener("ended",R.endedCallback,{once:!0})),w==="audio"){const Z=R.stream.getAudioTracks()[0];if(Z){const re=Z.getSettings().deviceId||R.stream;R.trackMuteCallback=()=>{this.mediaStreamMuteObserver(re,!0)},R.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(re,!1)},Z.addEventListener("mute",R.trackMuteCallback,{once:!1}),Z.addEventListener("unmute",R.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),Z.muted?R.trackMuteCallback():R.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(w,R,P,x){if(x&&this.listCachedDevicesOfKind(`${w}input`).length===1)return!0;const z={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?z.deviceId=R:z.deviceId={exact:R},P&&(z.groupId=P),x?z:w==="video"?(z.width={ideal:this.videoInputQualitySettings.videoWidth},z.height={ideal:this.videoInputQualitySettings.videoHeight},z.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},z):(this.supportSampleRateConstraint()&&(z.sampleRate={ideal:vo.defaultSampleRate}),this.supportSampleSizeConstraint()&&(z.sampleSize={ideal:vo.defaultSampleSize}),this.supportChannelCountConstraint()&&(z.channelCount={ideal:vo.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},z))}getMediaStreamConstraintsFromTrackConstraints(w,R){return w==="audio"?{audio:R}:{video:R}}getMediaStreamConstraints(w,R){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x={};if(!R)return null;const z=this.intrinsicDeviceAsMediaStream(R);if(z)return x.streamId=z.id,this.getMediaStreamConstraintsFromTrackConstraints(w,x);if(typeof R=="string"){let Z="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?Z=this.getGroupIdFromDeviceId(w,R):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),x=this.calculateMediaStreamConstraints(w,R,Z,P),this.getMediaStreamConstraintsFromTrackConstraints(w,x)}return I(R)?(x=this.calculateMediaStreamConstraints(w,R.deviceId,R.groupId,P),this.getMediaStreamConstraintsFromTrackConstraints(w,x)):(x=R,this.getMediaStreamConstraintsFromTrackConstraints(w,x))}deviceInfoFromDeviceId(w,R){if(this.deviceInfoCache===null)return null;for(const P of this.deviceInfoCache)if(P.kind===w&&P.deviceId===R)return P;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(w,R){if(!w||!w.active||!R)return!1;if(R.id)return w.id===R.id;const P=this.getMediaTrackSettings(w);if(!P.deviceId)return!1;const x=vo.getIntrinsicDeviceId(R);return typeof x=="string"?P.deviceId===x:!1}getMediaTrackSettings(w){var R;return(R=w.getTracks()[0])===null||R===void 0?void 0:R.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const w=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(w)}setTransform(w,R){var P,x;(x=(P=this.transform)===null||P===void 0?void 0:P.nodes)===null||x===void 0||x.end.disconnect(),this.transform={nodes:R,device:w};const z=R==null?void 0:R.end,Z=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${z} to destination ${Z}.`),z==null||z.connect(Z),this.reconnectAudioInputs()}removeTransform(){var w;const R=this.transform;if(R)return(w=this.transform.nodes)===null||w===void 0||w.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),R}attachAudioInputStreamToAudioContext(w){var R;(R=this.audioInputSourceNode)===null||R===void 0||R.disconnect(),this.audioInputSourceNode=vo.getAudioContext().createMediaStreamSource(w);const P=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(P)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=vo.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var w,R;return((R=(w=this.transform)===null||w===void 0?void 0:w.nodes)===null||R===void 0?void 0:R.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(w){vo.defaultLatencyHint=w}static getAudioContext(){if(!vo.audioContext){const w={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(w.sampleRate=vo.defaultSampleRate),new m.default().requiresPlaybackLatencyHintForAudioContext()&&(w.latencyHint="playback"),vo.defaultLatencyHint&&(w.latencyHint=vo.defaultLatencyHint),vo.audioContext=new(window.AudioContext||window.webkitAudioContext)(w)}return vo.audioContext}static suspendAudioContext(){return d(this,void 0,void 0,function*(){return vo.audioContext?vo.audioContext.suspend():Promise.resolve()})}static resumeAudioContext(){return d(this,void 0,void 0,function*(){return vo.audioContext?vo.audioContext.resume():Promise.resolve()})}static closeAudioContext(){if(vo.audioContext)try{vo.audioContext.close()}catch{}vo.audioContext=null}addMediaStreamBrokerObserver(w){this.mediaStreamBrokerObservers.add(w)}removeMediaStreamBrokerObserver(w){this.mediaStreamBrokerObservers.delete(w)}publishVideoInputDidChangeEvent(w){this.forEachMediaStreamBrokerObserver(R=>{R.videoInputDidChange&&R.videoInputDidChange(w)}),this.pushVideoMeetingStateForPermissions(w)}publishAudioInputDidChangeEvent(w){this.forEachMediaStreamBrokerObserver(R=>{R.audioInputDidChange&&R.audioInputDidChange(w)}),this.pushAudioMeetingStateForPermissions(w)}publishAudioOutputDidChangeEvent(w){this.forEachMediaStreamBrokerObserver(R=>{R.audioOutputDidChange&&R.audioOutputDidChange(w)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(w,R,P){let x=`API/DefaultDeviceController/${w}`;typeof R<"u"&&(x+=` ${JSON.stringify(R)}`),typeof P<"u"&&(x+=` -> ${JSON.stringify(P)}`),this.logger.info(x)}constructor(w,R,P=new m.default,x){this.logger=w,this.browserBehavior=P,this.eventController=x,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new s.default,this.videoInputTaskQueue=new s.default,this.muted=!1,this.mediaStreamMuteObserver=(ne,he)=>{for(const ge of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(ge)&&ge.audioInputMuteStateChanged&&ge.audioInputMuteStateChanged(ne,he)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:z=!1,useMediaConstraintsFallback:Z=!0}=R||{};this.useWebAudio=z,this.useMediaConstraintsFallback=Z,this.videoInputQualitySettings=new b.default(vo.defaultVideoWidth,vo.defaultVideoHeight,vo.defaultVideoFrameRate);const re=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=re[0],this.videoInputQualitySettings.videoHeight=re[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new p.default().create();const ne=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(ne)}`)}catch(ne){w.error(ne.message)}}},"DefaultDeviceController");l.default=T,T.permissionDeniedOriginDetectionThresholdMs=500,T.defaultVideoWidth=960,T.defaultVideoHeight=540,T.defaultVideoFrameRate=15,T.defaultSampleRate=48e3,T.defaultSampleSize=16,T.defaultChannelCount=1,T.audioContext=null;function I(A){return typeof A=="object"&&"deviceId"in A&&"groupId"in A&&"kind"in A&&"label"in A}n(I,"isMediaDeviceInfo")},265897750:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{matchesConstraints(h){return JSON.stringify(this.constraints)===JSON.stringify(h)}constructor(){this.groupId=""}},"DeviceSelection");l.default=c},6761005763:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class extends Error{constructor(h,m){super(m||"Error fetching device."),this.cause=h,this.name="GetUserMediaError"}},"GetUserMediaError");l.default=c},5373022036:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.NoOpDeviceControllerWithEventController=void 0;const m=h(c(1632645482)),p=h(c(78129611));let a=n(class extends m.default{destroy(){return d(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(e){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(e){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(e){return Promise.reject()}addDeviceChangeObserver(e){}removeDeviceChangeObserver(e){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(e){}stopVideoPreviewForVideoInput(e){}setDeviceLabelTrigger(e){}mixIntoAudioInput(e){return null}chooseVideoInputQuality(e,t,r){}getVideoInputQualitySettings(){return p.default.VideoDisabled}constructor(e){super(),this.destroyed=!1}},"NoOpDeviceController");l.default=a;let s=n(class extends a{constructor(e){super(),this.eventController=e}},"NoOpDeviceControllerWithEventController");l.NoOpDeviceControllerWithEventController=s},1633866641:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6761005763));let m=n(class extends h.default{constructor(a){super(a),this.name="NotFoundError"}},"NotFoundError");l.default=m},6586096691:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6761005763));let m=n(class extends h.default{constructor(a){super(a),this.name="NotReadableError"}},"NotReadableError");l.default=m},7387765922:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6761005763));let m=n(class extends h.default{constructor(a,s){super(a),this.constraint=s,this.name="OverconstrainedError"}},"OverconstrainedError");l.default=m},4976434844:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6761005763));let m=n(class extends h.default{constructor(a,s){super(a,s),this.name="PermissionDeniedError"}},"PermissionDeniedError");l.default=m},371229070:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{mute(m){return c(this,void 0,void 0,function*(){})}stop(){var m;return c(this,void 0,void 0,function*(){(m=this.node)===null||m===void 0||m.disconnect()})}intrinsicDevice(){return c(this,void 0,void 0,function*(){return this.inner})}createAudioNode(m){var p;return c(this,void 0,void 0,function*(){return(p=this.node)===null||p===void 0||p.disconnect(),this.node=yield this.createSingleAudioNode(m),{start:this.node,end:this.node}})}constructor(m){this.inner=m}},"SingleNodeAudioTransformDevice");l.default=d},6582440864:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6761005763));let m=n(class extends h.default{constructor(a){super(a),this.name="TypeError"}},"TypeError");l.default=m},78129611:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{equals(h){return this.videoWidth===h.videoWidth&&this.videoHeight===h.videoHeight&&this.videoFrameRate===h.videoFrameRate}constructor(h,m,p){this.videoWidth=h,this.videoHeight=m,this.videoFrameRate=p}},"VideoQualitySettings");l.default=c,c.VideoDisabled=new c(0,0,0),c.VideoResolutionHD=new c(1280,720,30),c.VideoResolutionFHD=new c(1920,1080,30),c.VideoResolutionUHD=new c(3840,2160,30)},9009314017:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isVideoTransformDevice=void 0;function c(d){return!!d&&typeof d=="object"&&"transformStream"in d&&"stop"in d&&"intrinsicDevice"in d}n(c,"isVideoTransformDevice"),l.isVideoTransformDevice=c},626864851:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{destroy(){return c(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(m){this.observerQueue.add(m),m.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(m){this.observerQueue.delete(m)}constructor(m,p){if(this.devicePixelRatioSource=m,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(s=>{s.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const a=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof a.addEventListener=="function"?(a.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=a):typeof a.addListener=="function"?(a.addListener(this.mediaQueryListener),this.mediaQueryList=a):p.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");l.default=d},249203560:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");l.default=c},259435216:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(t,r,o,f){function g(v){return v instanceof o?v:new o(function(u){u(v)})}return n(g,"adopt"),new(o||(o=Promise))(function(v,u){function S(E){try{b(f.next(E))}catch(T){u(T)}}n(S,"fulfilled");function _(E){try{b(f.throw(E))}catch(T){u(T)}}n(_,"rejected");function b(E){E.done?v(E.value):g(E.value).then(S,_)}n(b,"step"),b((f=f.apply(t,r||[])).next())})},h=this&&this.__rest||function(t,r){var o={};for(var f in t)Object.prototype.hasOwnProperty.call(t,f)&&r.indexOf(f)<0&&(o[f]=t[f]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(t);g<f.length;g++)r.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(t,f[g])&&(o[f[g]]=t[f[g]]);return o},m=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const p=m(c(4953773007)),a=m(c(7080398225)),s=m(c(5318074243)),i=c(759573094);let e=n(class kc{addEventListeners(){!this.beaconEventListener||!("window"in c.g)||!window.addEventListener||!("document"in c.g)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(r){(r.type==="visibilitychange"&&document.visibilityState==="hidden"||r.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in c.g)||!window.removeEventListener||!("document"in c.g)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var r;this.removeEventListeners(),this.addEventListeners(),(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=new a.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var r;(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(r){return d(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(r)}`);const{name:o,ts:f,attributes:g}=r,v=g&&this.filterAttributes(g,this.attributesToFilter),u=Object.assign({name:o,ts:f},v);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(u)}`);const S=this.getSize(u);if(S>kc.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${S} bytes. Item cannot exceed max item size allowed of ${kc.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(o)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(u)}`),this.sendEventImmediately({name:o,ts:f,attributes:v});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(u),this.ingestionEventSize+=S,this.bufferItemThresholdReached(S)){const _=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(_),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(r,o){const f=new Set(o);return Object.keys(r).filter(v=>f.has(v)).forEach(v=>delete r[v]),r}initializeAndGetCurrentIngestionEvent(){const r={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(r),r}bufferItemThresholdReached(r){return r+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===kc.MAX_PAYLOAD_ITEMS}getSize(r){let o=0;if(typeof r=="object")for(const[f,g]of Object.entries(r))o+=this.getPrimitiveSize(f),o+=this.getSize(g);else o+=this.getPrimitiveSize(r);return o}getPrimitiveSize(r){let o=0;return typeof r=="string"?o+=r.length*2:typeof r=="number"&&(o+=8),o}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(r=Math.min(this.buffer.length,r+1),this.buffer.splice(o,r))}makeBeaconRequestBody(r){const o={metadata:this.metadata,events:r,authorization:this.authenticationToken};return JSON.stringify(o)}makeRequestBody(r){const o={metadata:this.metadata,events:r};return JSON.stringify(o)}sendEventImmediately(r){return d(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(r)}`);const{name:o,ts:f,attributes:g}=r,v={type:this.type,v:this.v,payloads:[Object.assign({name:o,ts:f},g)]};let u=!1,S=null;const _=this.makeRequestBody([v]);try{if(S=yield this.send(_),S.ok){try{const b=yield S.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${_}, message: ${JSON.stringify(b)}`)}catch(b){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${b} for event ${_}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${_} with response status ${S.status}`),u=!0}catch(b){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${_} to the ingestion endpoint ${b}.`),u=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const E=this.makeBeaconRequestBody([v]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${E}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,E)?u=!1:u=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${_}`),u=!0}}u&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${_}`),this.failedIngestionEvents.push(v))})}send(r){return d(this,void 0,void 0,function*(){const o=new p.default(kc.RETRY_FIXED_BACKOFF_WAIT_MS,kc.RETRY_SHORT_BACKOFF_MS,kc.RETRY_LONG_BACKOFF_MS);try{let f=0;for(;f<this.retryCountLimit;){const g=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:r});if(g.ok||!kc.SENDING_FAILURE_CODES.has(g.status))return g;if(this.logger.warn(`Will retry sending failure for ${r} due to status code ${g.status}.`),f++,f<this.retryCountLimit){const v=o.nextBackoffAmountMs();yield i.wait(v)}}if(f===this.retryCountLimit)throw new Error(`Retry count limit reached for ${r}`)}catch(f){throw f}})}sendBeacon(){return d(this,void 0,void 0,function*(){const r=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(r)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const f=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);r.push(f),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(f)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const f=this.failedIngestionEvents.map(g=>this.deepCopyCurrentIngestionEvent(g));r.push(...f),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(f)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(f=>{r.push(...f),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(f)}`)}),this.cancellableEvents.clear()),r.length===0)return;const o=this.makeBeaconRequestBody(r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${o}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,o)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${o}`)}catch(f){this.logger.warn(`Event Reporting - Sending beacon data ${o} failed with error ${f}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return d(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(r,o,f,g,v){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=z=>({type:z.type,v:z.v,payloads:[...z.payloads]}),this.sendEvents=()=>d(this,void 0,void 0,function*(){if(this.lock)return;const z=this.getItems(this.flushSize);if(z.length===0)return;this.lock=!0;const Z=this.makeRequestBody(z);let re=!1;const ne=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(ne,z);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${Z}`);const he=yield this.send(Z);if(this.cancellableEvents.delete(ne),!he.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${Z} with response status ${he.status}`),re=!0;else try{const ge=yield he.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${Z} message: ${JSON.stringify(ge)}`)}catch(ge){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${ge} for events ${Z}`)}}catch(he){re=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${Z} to the ingestion endpoint ${he}`)}finally{this.lock=!1}re&&(this.cancellableEvents.delete(ne),this.failedIngestionEvents.push(...z))});const u=new s.default(v).getParserResult(),{browserMajorVersion:S}=u,_=h(u,["browserMajorVersion"]),b=o.toJSON(),{type:E,v:T}=b,I=h(b,["type","v"]);this.authenticationToken=o.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},_),I),Object.keys(this.metadata).forEach(z=>this.attributesToFilter.push(z)),this.type=E,this.v=T,this.ingestionURL=f,this.logger=v,this.importantEvents=new Set(g);const{maxBufferCapacityKb:A,totalBufferItems:w,flushSize:R,flushIntervalMs:P,retryCountLimit:x}=r;this.maxBufferCapacityBytes=A*1024,this.totalBufferItems=w,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/w),this.flushIntervalMs=P,this.flushSize=R,this.retryCountLimit=x,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=z=>this.beaconEventHandler(z),this.addEventListeners()}},"InMemoryJSONEventBuffer");l.default=e,e.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),e.RETRY_FIXED_BACKOFF_WAIT_MS=0,e.RETRY_SHORT_BACKOFF_MS=1e3,e.RETRY_LONG_BACKOFF_MS=15e3,e.MAX_PAYLOAD_ITEMS=2,e.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3},9897074932:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h=5e3,m=2,p=64,a=100,s=15){this.flushIntervalMs=h,this.flushSize=m,this.maxBufferCapacityKb=p,this.totalBufferItems=a,this.retryCountLimit=s}},"EventBufferConfiguration");l.default=c},3682464637:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(f,g,v,u){function S(_){return _ instanceof v?_:new v(function(b){b(_)})}return n(S,"adopt"),new(v||(v=Promise))(function(_,b){function E(A){try{I(u.next(A))}catch(w){b(w)}}n(E,"fulfilled");function T(A){try{I(u.throw(A))}catch(w){b(w)}}n(T,"rejected");function I(A){A.done?_(A.value):S(A.value).then(E,T)}n(I,"step"),I((u=u.apply(f,g||[])).next())})},h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(5037727051),p=c(4037901050),a=h(c(7434755214)),s=h(c(9496487200)),i=h(c(9137110465)),e=h(c(7416186200)),t=h(c(1877666836)),r=h(c(4385454145));let o=n(class Dd{addObserver(g){this.observerSet.add(g)}removeObserver(g){this.observerSet.delete(g)}forEachObserver(g){for(const v of this.observerSet)e.default.nextTick(()=>{this.observerSet.has(v)&&g(v)})}publishEvent(g,v){return d(this,void 0,void 0,function*(){const u=Date.now();this.meetingHistoryStates.push({name:g,timestampMs:u});const S=Object.freeze(Object.assign(this.getAttributes(u),v));this.forEachObserver(_=>{_.eventDidReceive(g,S)}),this.reportEvent(g,u,v)})}reportEvent(g,v,u){var S;return d(this,void 0,void 0,function*(){let _;try{u&&(_=r.default(u)),yield(S=this.eventReporter)===null||S===void 0?void 0:S.reportEvent(v,g,_)}catch(b){this.logger.error(`Error reporting event ${b}`)}})}setupEventReporter(g,v,u){if(u)this._eventReporter=u;else if(g.urls){const S=g.urls.eventIngestionURL;if(S){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:_,credentials:{attendeeId:b,joinToken:E}}=g,T=new i.default(_,b,E),I=new a.default(T,S);this._eventReporter=new s.default(I,v)}}}getAttributes(g){var v,u;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((v=this.parserResult)===null||v===void 0?void 0:v.os.name)||Dd.UNAVAILABLE,osVersion:((u=this.parserResult)===null||u===void 0?void 0:u.os.version)||Dd.UNAVAILABLE,sdkVersion:t.default.sdkVersion,sdkName:t.default.sdkName,timestampMs:g}}get eventReporter(){return this._eventReporter}destroy(){return d(this,void 0,void 0,function*(){p.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(g,v,u){var S,_,b,E,T,I,A;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=v,this.configuration=g,this.setupEventReporter(g,v,u);try{this.parserResult=navigator&&navigator.userAgent?new m.UAParser(navigator.userAgent).getResult():null}catch(w){this.logger.error(w.message)}this.browserMajorVersion=((b=(_=(S=this.parserResult)===null||S===void 0?void 0:S.browser)===null||_===void 0?void 0:_.version)===null||b===void 0?void 0:b.split(".")[0])||Dd.UNAVAILABLE,this.browserName=((E=this.parserResult)===null||E===void 0?void 0:E.browser.name)||Dd.UNAVAILABLE,this.browserVersion=((T=this.parserResult)===null||T===void 0?void 0:T.browser.version)||Dd.UNAVAILABLE,this.deviceName=[((I=this.parserResult)===null||I===void 0?void 0:I.device.vendor)||"",((A=this.parserResult)===null||A===void 0?void 0:A.device.model)||""].join(" ").trim()||Dd.UNAVAILABLE}},"DefaultEventController");l.default=o,o.UNAVAILABLE="Unavailable"},4385454145:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=n(d=>{const h={};for(const[m,p]of Object.entries(d))if(!(p==null||p===""))if(typeof p=="number"||typeof p=="string")h[m]=p;else throw new TypeError("Unhandled type received while flattening attributes.");return h},"flattenEventAttributes");l.default=c},7434755214:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9897074932));let m=n(class{constructor(a,s,i=new h.default){this.eventsClientConfiguration=a,this.ingestionURL=s,this.eventBufferConfiguration=i}},"EventIngestionConfiguration");l.default=m},9496487200:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(4037901050),p=h(c(259435216));let a=n(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(i){this.logger.error(`Event Reporting - Error starting the event buffer ${i}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(i){this.logger.error(`Event Reporting - Error stopping the event buffer ${i}`)}}reportEvent(i,e,t){return d(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${i}, ${e}, ${JSON.stringify(t)}`),this.eventsToIgnore.includes(e)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${e} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:i,name:e,attributes:t})}catch(r){this.logger.error(`Event Reporting - Error adding event to buffer ${r}`)}})}destroy(){return d(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),m.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(i,e){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;const{eventsClientConfiguration:t,ingestionURL:r,eventBufferConfiguration:o}=i,{eventsToIgnore:f}=t;this.eventBuffer=new p.default(o,t,r,this.importantEvents,e),this.logger=e,this.eventsToIgnore=f,this.start()}},"DefaultMeetingEventReporter");l.default=a},1778130182:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{reportEvent(h,m,p){}start(){}stop(){}constructor(){}},"NoOpEventReporter");l.default=c},9137110465:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const h={};return h.type=this.type,h.v=this.v,h.meetingId=this.meetingId,h.attendeeId=this.attendeeId,h}constructor(h,m,p,a=[]){this.type="Meet",this.v=1,this.meetingId=h,this.attendeeId=m,this.eventsToIgnore=a,this.authenticationToken=p}},"MeetingEventsClientConfiguration");l.default=c},4378636601:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(os){return os&&os.__esModule?os:{default:os}};Object.defineProperty(l,"__esModule",{value:!0}),l.DefaultEventController=l.DefaultDevicePixelRatioMonitor=l.DefaultDeviceController=l.DefaultContentShareController=l.DefaultBrowserBehavior=l.DefaultAudioVideoFacade=l.DefaultAudioVideoController=l.DefaultAudioMixController=l.DefaultActiveSpeakerPolicy=l.DefaultActiveSpeakerDetector=l.DataMessage=l.CreateSDPTask=l.CreatePeerConnectionTask=l.ContentShareMediaStreamBroker=l.ContentShareConstants=l.ConsoleLogger=l.ConnectionHealthPolicyConfiguration=l.ConnectionHealthData=l.ClientVideoStreamReceivingReport=l.ClientMetricReportMediaType=l.ClientMetricReportDirection=l.ClientMetricReport=l.CleanStoppedSessionTask=l.CleanRestartedSessionTask=l.CheckVideoInputFeedback=l.CheckVideoConnectivityFeedback=l.CheckNetworkUDPConnectivityFeedback=l.CheckNetworkTCPConnectivityFeedback=l.CheckContentShareConnectivityFeedback=l.CheckCameraResolutionFeedback=l.CheckAudioOutputFeedback=l.CheckAudioInputFeedback=l.CheckAudioConnectivityFeedback=l.CanvasVideoFrameBuffer=l.CSPMonitor=l.BitrateParameters=l.BaseTask=l.BaseConnectionHealthPolicy=l.BackgroundReplacementVideoFrameProcessor=l.BackgroundFilterVideoFrameProcessor=l.BackgroundBlurVideoFrameProcessor=l.BackgroundBlurStrength=l.AudioVideoControllerState=l.AudioProfile=l.AudioLogEvent=l.Attendee=l.AttachMediaInputTask=l.AsyncScheduler=l.ApplicationMetadata=l.AllHighestVideoBandwidthPolicy=void 0,l.MeetingFeatures=l.MeetingEventsClientConfiguration=l.MediaDeviceProxyHandler=l.Maybe=l.LogLevel=l.Log=l.ListenForVolumeIndicatorsTask=l.LeaveAndReceiveLeaveAckTask=l.JoinAndReceiveIndexTask=l.IntervalScheduler=l.InMemoryJSONEventBuffer=l.GlobalMetricReport=l.GetUserMediaError=l.FullJitterLimitedBackoff=l.FullJitterBackoffFactory=l.FullJitterBackoff=l.FinishGatheringICECandidatesTask=l.EventIngestionConfiguration=l.EventBufferConfiguration=l.DeviceSelection=l.DevicePixelRatioWindowSource=l.DefaultWebSocketAdapter=l.DefaultVolumeIndicatorAdapter=l.DefaultVideoTransformDevice=l.DefaultVideoTileFactory=l.DefaultVideoTileController=l.DefaultVideoTile=l.DefaultVideoStreamIndex=l.DefaultVideoStreamIdSet=l.DefaultVideoFrameProcessorTimer=l.DefaultVideoFrameProcessorPipeline=l.DefaultVideoElementResolutionMonitor=l.DefaultVideoCaptureAndEncodeParameter=l.DefaultUserAgentParser=l.DefaultTranscriptionController=l.DefaultTransceiverController=l.DefaultSimulcastUplinkPolicyForContentShare=l.DefaultSimulcastUplinkPolicy=l.DefaultSignalingClient=l.DefaultSigV4=l.DefaultSessionStateController=l.DefaultReconnectController=l.DefaultRealtimeController=l.DefaultPingPong=l.DefaultModality=l.DefaultMessagingSession=l.DefaultMeetingSession=l.DefaultMeetingReadinessChecker=l.DefaultMeetingEventReporter=l.DefaultMediaDeviceFactory=void 0,l.RedundantAudioEncoder=l.ReconnectionHealthPolicy=l.ReceiveVideoStreamIndexTask=l.ReceiveVideoInputTask=l.ReceiveRemoteVideoPauseResumeTask=l.ReceiveAudioInputTask=l.RealtimeVolumeIndicator=l.RealtimeState=l.RealtimeAttendeePositionInFrame=l.PromoteToPrimaryMeetingTask=l.PromiseQueue=l.PrefetchSortBy=l.PrefetchOn=l.PermissionDeniedError=l.ParallelGroupTask=l.POSTLogger=l.OverconstrainedError=l.OpenSignalingConnectionTask=l.OnceTask=l.NotReadableError=l.NotFoundError=l.None=l.NoVideoUplinkBandwidthPolicy=l.NoVideoDownlinkBandwidthPolicy=l.NoOpVideoFrameProcessor=l.NoOpVideoElementFactory=l.NoOpTask=l.NoOpMediaStreamBroker=l.NoOpLogger=l.NoOpEventReporter=l.NoOpDeviceController=l.NoOpDebugLogger=l.NoOpAudioVideoController=l.NScaleVideoUplinkBandwidthPolicy=l.MutableVideoPreferences=l.MultiLogger=l.MonitorTask=l.ModelSpecBuilder=l.MessagingSessionConfiguration=l.Message=l.MeetingSessionVideoAvailability=l.MeetingSessionURLs=l.MeetingSessionTURNCredentials=l.MeetingSessionStatusCode=l.MeetingSessionStatus=l.MeetingSessionLifecycleEventCondition=l.MeetingSessionLifecycleEvent=l.MeetingSessionCredentials=l.MeetingSessionConfiguration=l.MeetingReadinessCheckerConfiguration=void 0,l.VideoEncodingConnectionHealthPolicyName=l.VideoCodecCapability=l.VideoAdaptiveProbePolicy=l.Versioning=l.UnusableAudioWarningConnectionHealthPolicy=l.TypeError=l.TranscriptionStatusType=l.TranscriptionStatus=l.TranscriptResult=l.TranscriptLanguageWithScore=l.TranscriptItemType=l.TranscriptItem=l.TranscriptEntity=l.TranscriptAlternative=l.Transcript=l.TimeoutTask=l.TimeoutScheduler=l.TaskStatus=l.TargetDisplaySize=l.SubscribeAndReceiveSubscribeAckTask=l.StreamMetricReport=l.Some=l.SingleNodeAudioTransformDevice=l.SimulcastVideoStreamIndex=l.SimulcastTransceiverController=l.SimulcastLayers=l.SimulcastContentShareTransceiverController=l.SignalingClientVideoSubscriptionConfiguration=l.SignalingClientSubscribe=l.SignalingClientJoin=l.SignalingClientEventType=l.SignalingClientEvent=l.SignalingClientConnectionRequest=l.SignalingAndMetricsConnectionMonitor=l.SetRemoteDescriptionTask=l.SetLocalDescriptionTask=l.SessionStateControllerTransitionResult=l.SessionStateControllerState=l.SessionStateControllerDeferPriority=l.SessionStateControllerAction=l.ServerSideNetworkAdaption=l.SerialGroupTask=l.SendingAudioFailureConnectionHealthPolicy=l.SendAndReceiveDataMessagesTask=l.SDPMediaSection=l.SDPCandidateType=l.SDP=l.RunnableTask=l.RedundantAudioRecoveryMetricReport=l.RedundantAudioEncoderWorkerCode=void 0,l.isVideoTransformDevice=l.isDestroyable=l.isAudioTransformDevice=l.ZLIBTextCompressor=l.WebSocketReadyState=l.WaitForAttendeePresenceTask=l.VoiceFocusTransformDevice=l.VoiceFocusDeviceTransformer=l.VideoTileState=l.VideoStreamDescription=l.VideoSource=l.VideoQualitySettings=l.VideoQualityAdaptationPreference=l.VideoPriorityBasedPolicyConfig=l.VideoPriorityBasedPolicy=l.VideoPreferences=l.VideoPreference=l.VideoOnlyTransceiverController=l.VideoLogEvent=l.VideoFxProcessor=l.VideoEncodingFramerateConnectionHealthPolicy=l.VideoEncodingCpuConnectionHealthPolicy=void 0;const h=d(c(7176913269));l.AllHighestVideoBandwidthPolicy=h.default;const m=d(c(2782081498));l.ApplicationMetadata=m.default;const p=d(c(7416186200));l.AsyncScheduler=p.default;const a=d(c(44274307));l.AttachMediaInputTask=a.default;const s=d(c(2911000564));l.Attendee=s.default;const i=d(c(5018804390));l.AudioLogEvent=i.default;const e=d(c(3416082494));l.AudioProfile=e.default;const t=d(c(742803803));l.AudioVideoControllerState=t.default;const r=d(c(4384549035));l.BackgroundBlurStrength=r.default;const o=d(c(8163389666));l.BackgroundBlurVideoFrameProcessor=o.default;const f=d(c(8119752156));l.BackgroundFilterVideoFrameProcessor=f.default;const g=d(c(9876192012));l.BackgroundReplacementVideoFrameProcessor=g.default;const v=d(c(9125397317));l.BaseConnectionHealthPolicy=v.default;const u=d(c(9651796943));l.BaseTask=u.default;const S=d(c(4492438224));l.BitrateParameters=S.default;const _=d(c(8532769532));l.CSPMonitor=_.default;const b=d(c(6011658084));l.CanvasVideoFrameBuffer=b.default;const E=d(c(2582524442));l.CheckAudioConnectivityFeedback=E.default;const T=d(c(669515725));l.CheckAudioInputFeedback=T.default;const I=d(c(3543665272));l.CheckAudioOutputFeedback=I.default;const A=d(c(7210624450));l.CheckCameraResolutionFeedback=A.default;const w=d(c(7107479208));l.CheckContentShareConnectivityFeedback=w.default;const R=d(c(2314522361));l.CheckNetworkTCPConnectivityFeedback=R.default;const P=d(c(1696503949));l.CheckNetworkUDPConnectivityFeedback=P.default;const x=d(c(635336275));l.CheckVideoConnectivityFeedback=x.default;const z=d(c(503480918));l.CheckVideoInputFeedback=z.default;const Z=d(c(7344467851));l.CleanRestartedSessionTask=Z.default;const re=d(c(5438824562));l.CleanStoppedSessionTask=re.default;const ne=d(c(6504123882));l.ClientMetricReport=ne.default;const he=d(c(9228821375));l.ClientMetricReportDirection=he.default;const ge=d(c(8620705262));l.ClientMetricReportMediaType=ge.default;const Pe=d(c(8445379153));l.ClientVideoStreamReceivingReport=Pe.default;const He=d(c(4203297362));l.ConnectionHealthData=He.default;const pt=d(c(7393946074));l.ConnectionHealthPolicyConfiguration=pt.default;const Ht=d(c(3667484237));l.ConsoleLogger=Ht.default;const Ke=d(c(9946496941));l.ContentShareConstants=Ke.default;const it=d(c(813510865));l.ContentShareMediaStreamBroker=it.default;const ct=d(c(38878034));l.CreatePeerConnectionTask=ct.default;const rt=d(c(320218677));l.CreateSDPTask=rt.default;const _t=d(c(2771660234));l.DataMessage=_t.default;const Gt=d(c(9618816399));l.DefaultActiveSpeakerDetector=Gt.default;const Kt=d(c(8734152567));l.DefaultActiveSpeakerPolicy=Kt.default;const Ye=d(c(5974247229));l.DefaultAudioMixController=Ye.default;const Xe=d(c(1043709165));l.DefaultAudioVideoController=Xe.default;const It=d(c(2033348765));l.DefaultAudioVideoFacade=It.default;const kt=d(c(570155317));l.DefaultBrowserBehavior=kt.default;const gt=d(c(3061658033));l.DefaultContentShareController=gt.default;const En=d(c(5903145429));l.DefaultDeviceController=En.default;const pn=d(c(626864851));l.DefaultDevicePixelRatioMonitor=pn.default;const wn=d(c(3682464637));l.DefaultEventController=wn.default;const zn=d(c(7597464201));l.DefaultMediaDeviceFactory=zn.default;const Qn=d(c(9496487200));l.DefaultMeetingEventReporter=Qn.default;const Sn=d(c(2130074373));l.DefaultMeetingReadinessChecker=Sn.default;const Zn=d(c(606430973));l.DefaultMeetingSession=Zn.default;const lr=d(c(5753440409));l.DefaultMessagingSession=lr.default;const ui=d(c(5519271617));l.DefaultModality=ui.default;const fi=d(c(4680116077));l.DefaultPingPong=fi.default;const Vn=d(c(2461656181));l.DefaultRealtimeController=Vn.default;const In=d(c(8543192315));l.DefaultReconnectController=In.default;const wi=d(c(6160394281));l.DefaultSessionStateController=wi.default;const _n=d(c(4859482891));l.DefaultSigV4=_n.default;const An=d(c(8384002519));l.DefaultSignalingClient=An.default;const sn=d(c(659149118));l.DefaultSimulcastUplinkPolicy=sn.default;const Q=d(c(9623039021));l.DefaultSimulcastUplinkPolicyForContentShare=Q.default;const lt=d(c(1636523053));l.DefaultTransceiverController=lt.default;const mt=d(c(9292265093));l.DefaultTranscriptionController=mt.default;const bt=d(c(5318074243));l.DefaultUserAgentParser=bt.default;const At=d(c(1203283221));l.DefaultVideoCaptureAndEncodeParameter=At.default;const Wt=d(c(7141843743));l.DefaultVideoElementResolutionMonitor=Wt.default;const we=d(c(5153707095));l.DefaultVideoFrameProcessorPipeline=we.default;const ht=d(c(4586125494));l.DefaultVideoFrameProcessorTimer=ht.default;const K=d(c(5814977413));l.DefaultVideoStreamIdSet=K.default;const se=d(c(3420631425));l.DefaultVideoStreamIndex=se.default;const Ve=d(c(8228544095));l.DefaultVideoTile=Ve.default;const Be=d(c(3338407955));l.DefaultVideoTileController=Be.default;const Yt=d(c(6875957405));l.DefaultVideoTileFactory=Yt.default;const yt=d(c(1552134416));l.DefaultVideoTransformDevice=yt.default;const Bt=d(c(3805322525));l.DefaultVolumeIndicatorAdapter=Bt.default;const ke=d(c(7482759477));l.DefaultWebSocketAdapter=ke.default;const Je=d(c(249203560));l.DevicePixelRatioWindowSource=Je.default;const B=d(c(265897750));l.DeviceSelection=B.default;const Fe=d(c(9897074932));l.EventBufferConfiguration=Fe.default;const fe=d(c(7434755214));l.EventIngestionConfiguration=fe.default;const ve=d(c(2568010183));l.FinishGatheringICECandidatesTask=ve.default;const ee=d(c(4953773007));l.FullJitterBackoff=ee.default;const Et=d(c(4991842071));l.FullJitterBackoffFactory=Et.default;const Ne=d(c(1690170483));l.FullJitterLimitedBackoff=Ne.default;const st=d(c(6761005763));l.GetUserMediaError=st.default;const on=d(c(7241560938));l.GlobalMetricReport=on.default;const $t=d(c(259435216));l.InMemoryJSONEventBuffer=$t.default;const yi=d(c(7080398225));l.IntervalScheduler=yi.default;const mi=d(c(887979666));l.JoinAndReceiveIndexTask=mi.default;const ri=d(c(8813893041));l.LeaveAndReceiveLeaveAckTask=ri.default;const ti=d(c(4016680554));l.ListenForVolumeIndicatorsTask=ti.default;const Zt=d(c(622992054));l.Log=Zt.default;const mn=d(c(4918602332));l.LogLevel=mn.default;const Ui=d(c(3648270746));l.MediaDeviceProxyHandler=Ui.default;const Er=d(c(9137110465));l.MeetingEventsClientConfiguration=Er.default;const Dn=d(c(7101830889));l.MeetingFeatures=Dn.default;const nn=d(c(9073497328));l.MeetingReadinessCheckerConfiguration=nn.default;const ni=d(c(4283440356));l.MeetingSessionConfiguration=ni.default;const oi=d(c(3981501552));l.MeetingSessionCredentials=oi.default;const Ji=d(c(7111900270));l.MeetingSessionLifecycleEvent=Ji.default;const Qi=d(c(8191739119));l.MeetingSessionLifecycleEventCondition=Qi.default;const Ei=d(c(8363971156));l.MeetingSessionStatus=Ei.default;const Jn=d(c(4474236581));l.MeetingSessionStatusCode=Jn.default;const Sr=d(c(4418554613));l.MeetingSessionTURNCredentials=Sr.default;const cr=d(c(5992906328));l.MeetingSessionURLs=cr.default;const Dr=d(c(1240186630));l.MeetingSessionVideoAvailability=Dr.default;const Yi=d(c(2732224314));l.Message=Yi.default;const io=d(c(1119407758));l.MessagingSessionConfiguration=io.default;const sr=d(c(2214063486));l.ModelSpecBuilder=sr.default;const lo=d(c(4246373854));l.MonitorTask=lo.default;const Gi=d(c(3592211861));l.MultiLogger=Gi.default;const ji=d(c(8001836114));l.NScaleVideoUplinkBandwidthPolicy=ji.default;const F=d(c(7444592474));l.NoOpAudioVideoController=F.default;const _e=d(c(3975743347));l.NoOpDebugLogger=_e.default;const tt=d(c(5373022036));l.NoOpDeviceController=tt.default;const zt=d(c(1778130182));l.NoOpEventReporter=zt.default;const gn=d(c(5350537240));l.NoOpLogger=gn.default;const Yn=d(c(1632645482));l.NoOpMediaStreamBroker=Yn.default;const bi=d(c(9228434098));l.NoOpTask=bi.default;const ei=d(c(3455625450));l.NoOpVideoElementFactory=ei.default;const si=d(c(4008876858));l.NoOpVideoFrameProcessor=si.default;const Si=d(c(256606391));l.NoVideoDownlinkBandwidthPolicy=Si.default;const Ai=d(c(8577743225));l.NoVideoUplinkBandwidthPolicy=Ai.default;const tr=d(c(1633866641));l.NotFoundError=tr.default;const hr=d(c(6586096691));l.NotReadableError=hr.default;const Ar=d(c(7977267467));l.OnceTask=Ar.default;const co=d(c(9816353112));l.OpenSignalingConnectionTask=co.default;const hi=d(c(7387765922));l.OverconstrainedError=hi.default;const $r=d(c(1656097358));l.POSTLogger=$r.default;const to=d(c(5061413178));l.ParallelGroupTask=to.default;const vi=d(c(4976434844));l.PermissionDeniedError=vi.default;const vn=d(c(5639131082));l.PrefetchOn=vn.default;const Oi=d(c(4936200234));l.PrefetchSortBy=Oi.default;const Zo=d(c(7763852557));l.PromiseQueue=Zo.default;const uo=d(c(3517731918));l.PromoteToPrimaryMeetingTask=uo.default;const Ko=d(c(8504263577));l.RealtimeAttendeePositionInFrame=Ko.default;const Ho=d(c(6424577011));l.RealtimeState=Ho.default;const pe=d(c(8830437557));l.RealtimeVolumeIndicator=pe.default;const Ae=d(c(5932071943));l.ReceiveAudioInputTask=Ae.default;const Ue=d(c(9360452255));l.ReceiveRemoteVideoPauseResumeTask=Ue.default;const vt=d(c(4608327356));l.ReceiveVideoInputTask=vt.default;const Lt=d(c(4327951460));l.ReceiveVideoStreamIndexTask=Lt.default;const xt=d(c(4705746645));l.ReconnectionHealthPolicy=xt.default;const Cn=d(c(2944630562));l.RedundantAudioEncoder=Cn.default;const Nn=d(c(5110921698));l.RedundantAudioEncoderWorkerCode=Nn.default;const Xn=d(c(9193449927));l.RedundantAudioRecoveryMetricReport=Xn.default;const Un=d(c(3087881035));l.RunnableTask=Un.default;const Ti=d(c(5603242550));l.SDP=Ti.default;const Tn=d(c(4526495239));l.SDPCandidateType=Tn.default;const qi=d(c(4041719349));l.SDPMediaSection=qi.default;const _i=d(c(9769959402));l.SendAndReceiveDataMessagesTask=_i.default;const Nr=d(c(7549473166));l.SendingAudioFailureConnectionHealthPolicy=Nr.default;const Ur=d(c(1690462647));l.SerialGroupTask=Ur.default;const Gr=d(c(498975381));l.ServerSideNetworkAdaption=Gr.default;const ki=d(c(2981760980));l.SessionStateControllerAction=ki.default;const Vi=d(c(1929156046));l.SessionStateControllerDeferPriority=Vi.default;const Zi=d(c(728914651));l.SessionStateControllerState=Zi.default;const _r=d(c(5798697844));l.SessionStateControllerTransitionResult=_r.default;const Hr=d(c(4784106923));l.SetLocalDescriptionTask=Hr.default;const Eo=d(c(3516966482));l.SetRemoteDescriptionTask=Eo.default;const er=d(c(3308537260));l.SignalingAndMetricsConnectionMonitor=er.default;const Co=d(c(6963141047));l.SignalingClientConnectionRequest=Co.default;const Fr=d(c(5787590482));l.SignalingClientEvent=Fr.default;const no=d(c(201131498));l.SignalingClientEventType=no.default;const Is=d(c(7090195098));l.SignalingClientJoin=Is.default;const As=d(c(718687226));l.SignalingClientSubscribe=As.default;const ms=d(c(3566593278));l.SignalingClientVideoSubscriptionConfiguration=ms.default;const cs=d(c(618497857));l.SimulcastContentShareTransceiverController=cs.default;const Os=d(c(7833098058));l.SimulcastLayers=Os.default;const qo=d(c(8588089957));l.SimulcastTransceiverController=qo.default;const Mo=d(c(1509578473));l.SimulcastVideoStreamIndex=Mo.default;const No=d(c(371229070));l.SingleNodeAudioTransformDevice=No.default;const Wo=d(c(2245405125));l.StreamMetricReport=Wo.default;const Fo=d(c(7537455207));l.SubscribeAndReceiveSubscribeAckTask=Fo.default;const yo=d(c(7477937414));l.TargetDisplaySize=yo.default;const fo=d(c(3274536108));l.TaskStatus=fo.default;const Po=d(c(6376806429));l.TimeoutScheduler=Po.default;const ia=d(c(8265718271));l.TimeoutTask=ia.default;const is=d(c(4943490552));l.Transcript=is.default;const Go=d(c(3089406687));l.TranscriptAlternative=Go.default;const gs=d(c(6199310771));l.TranscriptEntity=gs.default;const ro=d(c(7682636203));l.TranscriptItem=ro.default;const Oo=d(c(5487209475));l.TranscriptItemType=Oo.default;const Ao=d(c(3554880400));l.TranscriptLanguageWithScore=Ao.default;const Jo=d(c(5311871957));l.TranscriptResult=Jo.default;const xo=d(c(9072755684));l.TranscriptionStatus=xo.default;const ra=d(c(8890069556));l.TranscriptionStatusType=ra.default;const de=d(c(6582440864));l.TypeError=de.default;const ye=d(c(1168113665));l.UnusableAudioWarningConnectionHealthPolicy=ye.default;const Me=d(c(1877666836));l.Versioning=Me.default;const Ge=d(c(7676538085));l.VideoAdaptiveProbePolicy=Ge.default;const nt=d(c(6375844864));l.VideoCodecCapability=nt.default;const Ut=d(c(9225479537));l.VideoEncodingConnectionHealthPolicyName=Ut.default;const wt=d(c(5224309264));l.VideoEncodingCpuConnectionHealthPolicy=wt.default;const dn=d(c(8519113441));l.VideoEncodingFramerateConnectionHealthPolicy=dn.default;const cn=d(c(8042793250));l.VideoFxProcessor=cn.default;const bn=d(c(4954547171));l.VideoLogEvent=bn.default;const hn=d(c(8838701689));l.VideoOnlyTransceiverController=hn.default;const Fn=d(c(4924969612));l.VideoPreference=Fn.default;const xn=d(c(4165080297));l.VideoPreferences=xn.default;const jn=d(c(6836981326));l.VideoPriorityBasedPolicy=jn.default;const pi=d(c(7255041548));l.VideoPriorityBasedPolicyConfig=pi.default;const ai=d(c(9648677690));l.VideoQualityAdaptationPreference=ai.default;const $n=d(c(78129611));l.VideoQualitySettings=$n.default;const kn=d(c(1771494510));l.VideoSource=kn.default;const Ri=d(c(8784832088));l.VideoStreamDescription=Ri.default;const pr=d(c(2733652283));l.VideoTileState=pr.default;const Rr=d(c(2830670825));l.VoiceFocusDeviceTransformer=Rr.default;const Kr=d(c(8455559234));l.VoiceFocusTransformDevice=Kr.default;const qt=d(c(4133266271));l.WaitForAttendeePresenceTask=qt.default;const Mr=d(c(6363507833));l.WebSocketReadyState=Mr.default;const xr=d(c(9530736010));l.ZLIBTextCompressor=xr.default;const ur=c(4165080297);Object.defineProperty(l,"MutableVideoPreferences",{enumerable:!0,get:function(){return ur.MutableVideoPreferences}});const To=c(8479756130);Object.defineProperty(l,"Some",{enumerable:!0,get:function(){return To.Some}}),Object.defineProperty(l,"None",{enumerable:!0,get:function(){return To.None}}),Object.defineProperty(l,"Maybe",{enumerable:!0,get:function(){return To.Maybe}});const es=c(7527964870);Object.defineProperty(l,"isAudioTransformDevice",{enumerable:!0,get:function(){return es.isAudioTransformDevice}});const oo=c(4037901050);Object.defineProperty(l,"isDestroyable",{enumerable:!0,get:function(){return oo.isDestroyable}});const Yo=c(9009314017);Object.defineProperty(l,"isVideoTransformDevice",{enumerable:!0,get:function(){return Yo.isVideoTransformDevice}})},3667484237:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4918602332));let m=n(class{info(a){this.log(h.default.INFO,a)}warn(a){this.log(h.default.WARN,a)}error(a){this.log(h.default.ERROR,a)}debug(a){h.default.DEBUG<this.level||(typeof a=="string"?this.log(h.default.DEBUG,a):a?this.log(h.default.DEBUG,a()):this.log(h.default.DEBUG,""+a))}setLogLevel(a){this.level=a}getLogLevel(){return this.level}log(a,s){if(a<this.level)return;const e=`${new Date().toISOString()} [${h.default[a]}] ${this.name} - ${s}`;switch(a){case h.default.ERROR:console.error(e);break;case h.default.WARN:console.warn(e);break;case h.default.DEBUG:console.debug(e.replace(/\\r\\n/g,`
`));break;case h.default.INFO:console.info(e);break}}constructor(a,s=h.default.WARN){this.name=a,this.level=s}},"ConsoleLogger");l.default=m},622992054:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h,m,p,a){this.sequenceNumber=h,this.message=m,this.timestampMs=p,this.logLevel=a}},"Log");l.default=c},4918602332:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LogLevel=void 0;var c;(function(d){d[d.DEBUG=0]="DEBUG",d[d.INFO=1]="INFO",d[d.WARN=2]="WARN",d[d.ERROR=3]="ERROR",d[d.OFF=4]="OFF"})(c=l.LogLevel||(l.LogLevel={})),l.default=c},3592211861:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4918602332));let m=n(class{info(a){for(const s of this._loggers)s.info(a)}warn(a){for(const s of this._loggers)s.warn(a)}error(a){for(const s of this._loggers)s.error(a)}debug(a){let s,i;typeof a=="string"?i=a:a?i=n(()=>(s||(s=a()),s),"memoized"):i=""+a;for(const e of this._loggers)e.debug(i)}setLogLevel(a){for(const s of this._loggers)s.setLogLevel(a)}getLogLevel(){for(const a of this._loggers)return a.getLogLevel();return h.default.OFF}constructor(...a){this._loggers=a}},"MultiLogger");l.default=m},3975743347:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4918602332)),m=d(c(5350537240));let p=n(class extends m.default{constructor(){super(h.default.DEBUG)}},"NoOpDebugLogger");l.default=p},5350537240:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4918602332));let m=n(class{info(a){}warn(a){}error(a){}debug(a){h.default.DEBUG<this.level||typeof a!="string"&&a()}setLogLevel(a){this.level=a}getLogLevel(){return this.level}constructor(a=h.default.OFF){this.level=a}},"NoOpLogger");l.default=m},1656097358:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(7080398225)),p=h(c(622992054)),a=h(c(4918602332));let s=n(class Am{addEventListener(){!this.eventListener||!("window"in c.g)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in c.g)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(e){a.default.DEBUG<this.logLevel||(typeof e=="string"?this.log(a.default.DEBUG,e):e?this.log(a.default.DEBUG,e()):this.log(a.default.DEBUG,""+e))}info(e){this.log(a.default.INFO,e)}warn(e){this.log(a.default.WARN,e)}error(e){this.log(a.default.ERROR,e)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new m.default(this.intervalMs),this.intervalScheduler.start(()=>d(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const e=this.logCapture.slice(0,this.batchSize),t=this.makeRequestBody(e);try{(yield fetch(this.url,Object.assign({method:"POST",body:t},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(e.length))}catch(r){console.warn("[POSTLogger] "+r.message)}finally{this.lock=!1}}))}stop(){var e;(e=this.intervalScheduler)===null||e===void 0||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();const t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}destroy(){return d(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}log(e,t){if(e<this.logLevel)return;const r=Date.now();this.logCapture.push(new p.default(this.sequenceNumber,t,r,a.default[e])),this.sequenceNumber+=1}constructor(e){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:t,batchSize:r=Am.BATCH_SIZE,intervalMs:o=Am.INTERVAL_MS,logLevel:f=a.default.WARN,metadata:g,headers:v}=e;this.url=t,this.batchSize=r,this.intervalMs=o,this.logLevel=f,this.metadata=g,this.headers=v,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");l.default=s,s.BATCH_SIZE=85,s.INTERVAL_MS=2e3},7597464201:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(3648270746));let m=n(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new h.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");l.default=m},3648270746:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(7416186200)),p=h(c(7080398225));let a=n(class _v{sortedDeviceList(){return d(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const i of this.deviceChangeListeners)m.default.nextTick(()=>{if(this.deviceChangeListeners.has(i)){const e=new Event("devicechange");typeof i=="function"?i(e):i.handleEvent(e)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(i,e,t)=>{if(!Reflect.has(i,e))return;if(!("ondevicechange"in navigator.mediaDevices)){if(e==="addEventListener")return this.patchAddEventListener(i,e,t);if(e==="removeEventListener")return this.patchRemoveEventListener(i,e,t)}const r=Reflect.get(i,e,t);return typeof r=="function"?r.bind(i):r},this.patchAddEventListener=(i,e,t)=>{const r=Reflect.get(i,e,t);return(o,f,g)=>{if(o==="devicechange")this.deviceChangeListeners.add(f),this.scheduler||(this.scheduler=new p.default(_v.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(r,i,[o,f,g])}},this.patchRemoveEventListener=(i,e,t)=>{const r=Reflect.get(i,e,t);return(o,f,g)=>{if(o==="devicechange")this.deviceChangeListeners.delete(f),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(r,i,[o,f,g])}},this.pollDeviceLists=()=>d(this,void 0,void 0,function*(){const i=yield this.sortedDeviceList();this.devices&&(i.length!==this.devices.length||i.some((t,r)=>t.deviceId!==this.devices[r].deviceId))&&this.handleDeviceChangeEvent(),this.devices=i})}},"MediaDeviceProxyHandler");l.default=a,a.INTERVAL_MS=1e3},1632645482:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(h){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(h){}removeMediaStreamBrokerObserver(h){}},"NoOpMediaStreamBroker");l.default=c},2582524442:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.AudioInputRequestFailed=1]="AudioInputRequestFailed",d[d.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",d[d.ConnectionFailed=3]="ConnectionFailed",d[d.AudioNotReceived=4]="AudioNotReceived"})(c=l.CheckAudioConnectivityFeedback||(l.CheckAudioConnectivityFeedback={})),l.default=c},669515725:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioInputFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.PermissionDenied=2]="PermissionDenied"})(c=l.CheckAudioInputFeedback||(l.CheckAudioInputFeedback={})),l.default=c},3543665272:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioOutputFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed"})(c=l.CheckAudioOutputFeedback||(l.CheckAudioOutputFeedback={})),l.default=c},7210624450:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckCameraResolutionFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.ResolutionNotSupported=2]="ResolutionNotSupported",d[d.PermissionDenied=3]="PermissionDenied"})(c=l.CheckCameraResolutionFeedback||(l.CheckCameraResolutionFeedback={})),l.default=c},7107479208:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckContentShareConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.PermissionDenied=2]="PermissionDenied",d[d.TimedOut=3]="TimedOut",d[d.ConnectionFailed=4]="ConnectionFailed"})(c=l.CheckContentShareConnectivityFeedback||(l.CheckContentShareConnectivityFeedback={})),l.default=c},2314522361:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkTCPConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",d[d.ConnectionFailed=2]="ConnectionFailed",d[d.ICENegotiationFailed=3]="ICENegotiationFailed"})(c=l.CheckNetworkTCPConnectivityFeedback||(l.CheckNetworkTCPConnectivityFeedback={})),l.default=c},1696503949:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkUDPConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",d[d.ConnectionFailed=2]="ConnectionFailed",d[d.ICENegotiationFailed=3]="ICENegotiationFailed"})(c=l.CheckNetworkUDPConnectivityFeedback||(l.CheckNetworkUDPConnectivityFeedback={})),l.default=c},635336275:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.VideoInputRequestFailed=1]="VideoInputRequestFailed",d[d.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",d[d.ConnectionFailed=3]="ConnectionFailed",d[d.VideoNotSent=4]="VideoNotSent"})(c=l.CheckVideoConnectivityFeedback||(l.CheckVideoConnectivityFeedback={})),l.default=c},503480918:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoInputFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.PermissionDenied=2]="PermissionDenied"})(c=l.CheckVideoInputFeedback||(l.CheckVideoInputFeedback={})),l.default=c},2130074373:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(T,I,A,w){function R(P){return P instanceof A?P:new A(function(x){x(P)})}return n(R,"adopt"),new(A||(A=Promise))(function(P,x){function z(ne){try{re(w.next(ne))}catch(he){x(he)}}n(z,"fulfilled");function Z(ne){try{re(w.throw(ne))}catch(he){x(he)}}n(Z,"rejected");function re(ne){ne.done?P(ne.value):R(ne.value).then(z,Z)}n(re,"step"),re((w=w.apply(T,I||[])).next())})},h=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(5974247229)),p=h(c(570155317)),a=h(c(5903145429)),s=h(c(4976434844)),i=h(c(9651796943)),e=h(c(8265718271)),t=h(c(2582524442)),r=h(c(669515725)),o=h(c(3543665272)),f=h(c(7210624450)),g=h(c(7107479208)),v=h(c(2314522361)),u=h(c(1696503949)),S=h(c(635336275)),_=h(c(503480918)),b=h(c(9073497328));let E=n(class bv{static delay(I){return d(this,void 0,void 0,function*(){return new Promise(A=>setTimeout(A,I))})}checkAudioInput(I){return d(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(I),yield this.meetingSession.audioVideo.stopAudioInput(),r.default.Succeeded}catch(A){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${A}`),A instanceof s.default?r.default.PermissionDenied:r.default.Failed}})}checkAudioOutput(I,A){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return d(this,void 0,void 0,function*(){try{const R=I?a.default.getIntrinsicDeviceId(I):"";return yield this.playTone(R,this.configuration.audioOutputFrequency,w),(yield A())?o.default.Succeeded:o.default.Failed}catch(R){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${R}`),o.default.Failed}finally{this.stopTone()}})}playTone(I,A,w){return d(this,void 0,void 0,function*(){const P=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=a.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=A,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const z=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,z),this.gainNode.gain.linearRampToValueAtTime(P,z+.1),this.oscillatorNode.start();const Z=new m.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield Z.bindAudioDevice({deviceId:I}))}catch(re){this.logger.error(`Failed to bind audio device: ${re}`)}try{yield Z.bindAudioElement(w||new Audio)}catch(re){this.logger.error(`Failed to bind audio element: ${re}`)}yield Z.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const I=1,A=.1,w=this.configuration.audioOutputGain,R=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(w,R+A+I),this.gainNode.gain.linearRampToValueAtTime(0,R+A*2+I),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(I){return d(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(I),yield this.meetingSession.audioVideo.stopVideoInput(),_.default.Succeeded}catch(A){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${A}`),A instanceof s.default?_.default.PermissionDenied:_.default.Failed}})}checkCameraResolution(I,A,w){return d(this,void 0,void 0,function*(){let R;try{const P=a.default.getIntrinsicDeviceId(I),x={video:this.calculateVideoConstraint(P,A,w)};R=yield navigator.mediaDevices.getUserMedia(x)}catch(P){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${A} height ${w} failed with error ${P}`),P&&P.name==="OverconstrainedError"?f.default.ResolutionNotSupported:P&&P.name==="NotAllowedError"?f.default.PermissionDenied:f.default.Failed}finally{R&&R.getTracks().forEach(function(P){P.stop()})}return f.default.Succeeded})}calculateVideoConstraint(I,A,w){const R=this.browserBehavior.requiresResolutionAlignment(A,w),P={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(P.deviceId=I,P.width=A,P.height=w):(P.deviceId={exact:I},P.width={exact:R[0]},P.height={exact:R[1]}),P}checkContentShareConnectivity(I){return d(this,void 0,void 0,function*(){let A=!1,w=!1;const R={contentShareDidStart:()=>{A=!0}},P={audioVideoDidStart:()=>{w=!0}};try{return this.meetingSession.audioVideo.addObserver(P),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(R),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(I),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return w&&A})),w?(yield this.stopMeeting(),A?g.default.Succeeded:g.default.TimedOut):g.default.ConnectionFailed}catch(x){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${x}`),x.name==="NotAllowedError"?g.default.PermissionDenied:g.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(P),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(R)}})}checkAudioConnectivity(I){return d(this,void 0,void 0,function*(){let A=!1;const w={packetsReceived:0},R=this.meetingSession.audioVideo,P={metricsDidReceive(z){z.getRTCStatsReport().forEach(Z=>{Z.type==="inbound-rtp"&&(Z.mediaType==="audio"||Z.kind==="audio")&&(w.packetsReceived=Z.packetsReceived)})}},x=n((z,Z,re,ne)=>{z===this.meetingSession.configuration.credentials.attendeeId&&Z&&(A=!0)},"attendeePresenceHandler");try{yield R.startAudioInput(I)}catch(z){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${z}`),z instanceof s.default?t.default.AudioInputPermissionDenied:t.default.AudioInputRequestFailed}return R.realtimeSubscribeToAttendeeIdPresence(x),R.addObserver(P),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(A,w)})),R.removeObserver(P),R.realtimeUnsubscribeToAttendeeIdPresence(x),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(A,w)?t.default.Succeeded:t.default.AudioNotReceived):(R.removeObserver(P),R.realtimeUnsubscribeToAttendeeIdPresence(x),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.ConnectionFailed)})}checkVideoConnectivity(I){return d(this,void 0,void 0,function*(){const A=this.meetingSession.audioVideo;let w=0;const R={metricsDidReceive(P){P.getRTCStatsReport().forEach(z=>{z.type==="outbound-rtp"&&(z.mediaType==="video"||z.kind==="video")&&(w=z.packetsSent)})}};try{yield A.startVideoInput(I)}catch(P){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${P}`),P instanceof s.default?S.default.VideoInputPermissionDenied:S.default.VideoInputRequestFailed}return A.addObserver(R),(yield this.startMeeting())?(A.startLocalVideoTile(),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return w>0})),yield A.stopVideoInput(),yield this.stopMeeting(),A.removeObserver(R),w<=0?S.default.VideoNotSent:S.default.Succeeded):S.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return d(this,void 0,void 0,function*(){let I=!1;const A={metricsDidReceive(R){R.getRTCStatsReport().forEach(x=>{x.type==="candidate-pair"&&x.state==="succeeded"&&(I=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(R){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${R}`),u.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=R=>{const P=this.originalURLRewriter(R);return P.includes("transport=tcp")?"":P};const w=this.meetingSession.audioVideo;return w.addObserver(A),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),w.removeObserver(A),I?u.default.Succeeded:u.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,u.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return d(this,void 0,void 0,function*(){let I=!1;const A={metricsDidReceive(R){R.getRTCStatsReport().forEach(x=>{x.type==="candidate-pair"&&x.state==="succeeded"&&(I=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(R){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${R}`),v.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=R=>{const P=this.originalURLRewriter(R);return P.includes("transport=udp")?"":P};const w=this.meetingSession.audioVideo;return w.addObserver(A),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),w.removeObserver(A),I?v.default.Succeeded:v.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,v.default.ConnectionFailed)})}startMeeting(){return d(this,void 0,void 0,function*(){let I=!1;const A={audioVideoDidStart:()=>{I=!0}};return this.meetingSession.audioVideo.addObserver(A),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.audioVideo.removeObserver(A),I})}stopMeeting(){return d(this,void 0,void 0,function*(){let I=!1;const A={audioVideoDidStop:w=>{I=!0}};return this.meetingSession.audioVideo.addObserver(A),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.audioVideo.removeObserver(A),I})}executeTimeoutTask(I){return d(this,void 0,void 0,function*(){let A=!1,w=n(class extends i.default{cancel(){this.isCancelled=!0}run(){return d(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield I()){A=!0;break}yield bv.delay(this.waitDurationMs)}})}constructor(x,z){super(x),this.waitDurationMs=z,this.isCancelled=!1}},"CheckForConditionTask");return yield new e.default(this.logger,new w(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),A})}isAudioConnectionSuccessful(I,A){return I&&A.packetsReceived>0}constructor(I,A,w=new b.default){this.logger=I,this.meetingSession=A,this.configuration=w,this.browserBehavior=new p.default}},"DefaultMeetingReadinessChecker");l.default=E},9073497328:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");l.default=c},606430973:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(u,S,_,b){function E(T){return T instanceof _?T:new _(function(I){I(T)})}return n(E,"adopt"),new(_||(_=Promise))(function(T,I){function A(P){try{R(b.next(P))}catch(x){I(x)}}n(A,"fulfilled");function w(P){try{R(b.throw(P))}catch(x){I(x)}}n(w,"rejected");function R(P){P.done?T(P.value):E(P.value).then(A,w)}n(R,"step"),R((b=b.apply(u,S||[])).next())})},h=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1043709165)),p=h(c(2033348765)),a=h(c(4953773007)),s=h(c(570155317)),i=h(c(813510865)),e=h(c(3061658033)),t=h(c(8532769532)),r=c(4037901050),o=h(c(3682464637)),f=h(c(8543192315)),g=h(c(7482759477));let v=n(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return d(this,void 0,void 0,function*(){r.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),r.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),r.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),t.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const S=new s.default,_=`${S.name()} ${S.majorVersion()} (${S.version()})`;if(this.logger.info(`browser is ${_}`),S.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${S.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!S.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(S.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${S.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")),this._configuration.enableSVC&&(this._configuration.enableSVC=!1,this.logger.info("SVC is not successfully enabled since simulcast is enabled"))),this._configuration.enableSVC&&!S.supportsScalableVideoCoding()&&(this._configuration.enableSVC=!1,this.logger.info("SVC is only supported on Chromium-based browsers with version 111 or above"))}isSimulcastUplinkPolicy(S){return!!(S&&S.addObserver)}constructor(S,_,b,E){this._eventController=E,this._configuration=S,this._logger=_,this.checkBrowserSupportAndFeatureConfiguration(),t.default.addLogger(this._logger),t.default.register(),this._eventController||(this._eventController=new o.default(S,_)),b.eventController||(b.eventController=this.eventController),this.audioVideoController=new m.default(this._configuration,this._logger,new g.default(this._logger),b,new f.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=b,this.logger.info(`MeetingFeatures: ${JSON.stringify(S.meetingFeatures)}`);const T=new i.default(this._logger);this.contentShareController=new e.default(T,new m.default(e.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new g.default(this._logger),T,new f.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new p.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");l.default=v},7101830889:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(78129611));let m=n(class Ev{clone(){return new Ev(this.videoMaxResolution,this.contentMaxResolution)}constructor(a=h.default.VideoResolutionHD,s=h.default.VideoResolutionFHD){this.videoMaxResolution=a,this.contentMaxResolution=s}},"MeetingFeatures");l.default=m},4283440356:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(7393946074)),m=d(c(78129611)),p=c(759573094),a=d(c(7101830889)),s=d(c(3981501552)),i=d(c(5992906328));let e=n(class{constructor(r,o){var f,g;if(this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new h.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.enableSVC=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,this.meetingFeatures=new a.default,r){r=p.toLowerCasePropertyNames(r),r.meeting&&(r=r.meeting),this.meetingId=r.meetingid,this.externalMeetingId=r.externalmeetingid,this.urls=new i.default,this.urls.audioHostURL=r.mediaplacement.audiohosturl,this.urls.signalingURL=r.mediaplacement.signalingurl,this.urls.turnControlURL=r.mediaplacement.turncontrolurl,r.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=r.mediaplacement.eventingestionurl);const v=n((u,S)=>{switch(u){case"None":return m.default.VideoDisabled;case"HD":return m.default.VideoResolutionHD;case"FHD":return m.default.VideoResolutionFHD;case"UHD":return m.default.VideoResolutionUHD;default:return S}},"parseVideoResolution");if(((f=r.meetingfeatures)===null||f===void 0?void 0:f.video)!==void 0||((g=r.meetingfeatures)===null||g===void 0?void 0:g.content)!==void 0){const u=r.meetingfeatures.video===void 0?"HD":r.meetingfeatures.video.maxresolution,S=r.meetingfeatures.content===void 0?"FHD":r.meetingfeatures.content.maxresolution;this.meetingFeatures=new a.default(v(u,m.default.VideoResolutionHD),v(S,m.default.VideoResolutionFHD))}}o&&(o=p.toLowerCasePropertyNames(o),o.attendee&&(o=o.attendee),this.credentials=new s.default,this.credentials.attendeeId=o.attendeeid,this.credentials.externalUserId=o.externaluserid,this.credentials.joinToken=o.jointoken)}},"MeetingSessionConfiguration");l.default=e},3981501552:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");l.default=c},7111900270:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEvent=void 0;var c;(function(d){d[d.Connecting=0]="Connecting",d[d.Started=1]="Started",d[d.Stopped=2]="Stopped"})(c=l.MeetingSessionLifecycleEvent||(l.MeetingSessionLifecycleEvent={})),l.default=c},8191739119:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEventCondition=void 0;var c;(function(d){d[d.ConnectingNew=0]="ConnectingNew",d[d.ReconnectingExisting=1]="ReconnectingExisting",d[d.StartedNew=2]="StartedNew",d[d.StartedExisting=3]="StartedExisting",d[d.StartedAfterReconnect=4]="StartedAfterReconnect",d[d.StoppedCleanly=5]="StoppedCleanly",d[d.StoppedWithFailure=6]="StoppedWithFailure"})(c=l.MeetingSessionLifecycleEventCondition||(l.MeetingSessionLifecycleEventCondition={})),l.default=c},8363971156:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7344258710),m=d(c(4474236581));let p=n(class Cs{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case m.default.AudioAuthenticationRejected:case m.default.AudioCallAtCapacity:case m.default.AudioInternalServerError:case m.default.AudioServiceUnavailable:case m.default.AudioDisconnected:case m.default.VideoCallAtSourceCapacity:case m.default.SignalingBadRequest:case m.default.SignalingInternalServerError:case m.default.SignalingRequestFailed:case m.default.ICEGatheringTimeoutWorkaround:case m.default.ConnectionHealthReconnect:case m.default.RealtimeApiFailed:case m.default.TaskFailed:case m.default.NoAttendeePresent:case m.default.SignalingChannelClosedUnexpectedly:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case m.default.Left:case m.default.AudioJoinedFromAnotherDevice:case m.default.AudioAuthenticationRejected:case m.default.AudioCallAtCapacity:case m.default.MeetingEnded:case m.default.AudioDisconnected:case m.default.TURNCredentialsForbidden:case m.default.SignalingBadRequest:case m.default.SignalingRequestFailed:case m.default.VideoCallAtSourceCapacity:case m.default.RealtimeApiFailed:case m.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case m.default.AudioAuthenticationRejected:case m.default.AudioInternalServerError:case m.default.AudioServiceUnavailable:case m.default.ICEGatheringTimeoutWorkaround:case m.default.SignalingBadRequest:case m.default.SignalingInternalServerError:case m.default.SignalingRequestFailed:case m.default.RealtimeApiFailed:case m.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case m.default.OK:return"Everything is OK so far.";case m.default.Left:return"The attendee left the meeting.";case m.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case m.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case m.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case m.default.MeetingEnded:return"The meeting ended.";case m.default.AudioInternalServerError:case m.default.AudioServiceUnavailable:case m.default.AudioDisconnected:return"The audio connection failed.";case m.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case m.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case m.default.SignalingBadRequest:case m.default.SignalingInternalServerError:case m.default.SignalingRequestFailed:return"The signaling connection failed.";case m.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case m.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case m.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case m.default.TaskFailed:return"The connection failed. See the error message for more details.";case m.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case m.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case m.default.NoAttendeePresent:return"The attendee was not present.";case m.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case m.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case m.default.AudioVideoDisconnectedWhilePromoted:return"The client disconnected while promoted, which will automatically demote. The attendee must promote again to participate.";case m.default.AudioDisconnectAudio:return"The audio connection failed.";case m.default.SignalingChannelClosedUnexpectedly:return"The signaling channel was closed unexpectedly. This may be due to a network change or backend detected failure.";default:{const s=this._statusCode;throw new Error(`Unhandled case: ${s}`)}}}static fromSignalFrame(s){return s.error&&s.error.status?this.fromSignalingStatus(s.error.status):s.type===h.SdkSignalFrame.Type.AUDIO_STATUS?s.audioStatus?this.fromAudioStatus(s.audioStatus.audioStatus):new Cs(m.default.SignalingRequestFailed):s.type===h.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new Cs(m.default.AudioVideoWasRemovedFromPrimaryMeeting):new Cs(m.default.OK)}static fromAudioStatus(s){switch(s){case 200:return new Cs(m.default.OK);case 301:return new Cs(m.default.AudioJoinedFromAnotherDevice);case 302:return new Cs(m.default.AudioDisconnectAudio);case 403:return new Cs(m.default.AudioAuthenticationRejected);case 409:return new Cs(m.default.AudioCallAtCapacity);case 410:return new Cs(m.default.MeetingEnded);case 411:return new Cs(m.default.AudioAttendeeRemoved);case 500:return new Cs(m.default.AudioInternalServerError);case 503:return new Cs(m.default.AudioServiceUnavailable);default:switch(Math.floor(s/100)){case 2:return new Cs(m.default.OK);default:return new Cs(m.default.AudioDisconnected)}}}static fromSignalingStatus(s){switch(s){case 206:return new Cs(m.default.VideoCallSwitchToViewOnly);case 509:return new Cs(m.default.VideoCallAtSourceCapacity);case 403:return new Cs(m.default.AudioAuthenticationRejected);case 409:return new Cs(m.default.AudioCallAtCapacity);default:switch(Math.floor(s/100)){case 2:return new Cs(m.default.OK);case 4:return new Cs(m.default.SignalingBadRequest);case 5:return new Cs(m.default.SignalingInternalServerError);default:return new Cs(m.default.SignalingRequestFailed)}}}constructor(s){this._statusCode=s}},"MeetingSessionStatus");l.default=p},4474236581:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionStatusCode=void 0;var c;(function(d){d[d.OK=0]="OK",d[d.Left=1]="Left",d[d.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",d[d.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",d[d.AudioCallAtCapacity=4]="AudioCallAtCapacity",d[d.MeetingEnded=5]="MeetingEnded",d[d.AudioInternalServerError=6]="AudioInternalServerError",d[d.AudioServiceUnavailable=7]="AudioServiceUnavailable",d[d.AudioDisconnected=8]="AudioDisconnected",d[d.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",d[d.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",d[d.SignalingBadRequest=11]="SignalingBadRequest",d[d.SignalingInternalServerError=12]="SignalingInternalServerError",d[d.SignalingRequestFailed=13]="SignalingRequestFailed",d[d.SignalingChannelClosedUnexpectedly=14]="SignalingChannelClosedUnexpectedly",d[d.ICEGatheringTimeoutWorkaround=15]="ICEGatheringTimeoutWorkaround",d[d.ConnectionHealthReconnect=16]="ConnectionHealthReconnect",d[d.RealtimeApiFailed=17]="RealtimeApiFailed",d[d.TaskFailed=18]="TaskFailed",d[d.IncompatibleSDP=19]="IncompatibleSDP",d[d.TURNCredentialsForbidden=20]="TURNCredentialsForbidden",d[d.NoAttendeePresent=21]="NoAttendeePresent",d[d.AudioAttendeeRemoved=22]="AudioAttendeeRemoved",d[d.AudioVideoWasRemovedFromPrimaryMeeting=23]="AudioVideoWasRemovedFromPrimaryMeeting",d[d.AudioVideoDisconnectedWhilePromoted=24]="AudioVideoDisconnectedWhilePromoted",d[d.AudioDisconnectAudio=25]="AudioDisconnectAudio"})(c=l.MeetingSessionStatusCode||(l.MeetingSessionStatusCode={})),l.default=c},4418554613:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");l.default=c},5992906328:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(h){this._audioHostURL=h}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(h){this._signalingURL=h}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(h){this._turnControlURL=h}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(h){this._eventIngestionURL=h}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=h=>h}},"MeetingSessionURLs");l.default=c},1240186630:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Cv{equal(h){return this.remoteVideoAvailable===h.remoteVideoAvailable&&this.canStartLocalVideo===h.canStartLocalVideo}clone(){const h=new Cv;return h.remoteVideoAvailable=this.remoteVideoAvailable,h.canStartLocalVideo=this.canStartLocalVideo,h}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");l.default=c},2732224314:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h,m,p){this.type=h,this.headers=m,this.payload=p}},"Message");l.default=c},5753440409:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(v,u,S,_){function b(E){return E instanceof S?E:new S(function(T){T(E)})}return n(b,"adopt"),new(S||(S=Promise))(function(E,T){function I(R){try{w(_.next(R))}catch(P){T(P)}}n(I,"fulfilled");function A(R){try{w(_.throw(R))}catch(P){T(P)}}n(A,"rejected");function w(R){R.done?E(R.value):b(R.value).then(I,A)}n(w,"step"),w((_=_.apply(v,u||[])).next())})},h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(9541240844),p=h(c(4953773007)),a=h(c(8532769532)),s=h(c(2732224314)),i=h(c(8543192315)),e=h(c(7416186200)),t=h(c(4859482891)),r=h(c(7482759477)),o=h(c(6363507833)),f=h(c(5639131082));let g=n(class{addObserver(u){this.logger.info("adding messaging observer"),this.observerQueue.add(u)}removeObserver(u){this.logger.info("removing messaging observer"),this.observerQueue.delete(u)}start(){return d(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),a.default.removeLogger(this.logger))}forEachObserver(u){for(const S of this.observerQueue)e.default.nextTick(()=>{this.observerQueue.has(S)&&u(S)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",u=>{this.receiveMessageHandler(u.data)}),this.webSocket.addEventListener("close",u=>{this.closeEventHandler(u)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(u){return d(this,void 0,void 0,function*(){return yield this.startConnectingInternal(u),yield new Promise((S,_)=>{this.bootstrapResolved=S,this.bootstrapRejected=_})})}startConnectingInternal(u){var S;return d(this,void 0,void 0,function*(){let _=this.configuration.endpointUrl;if(u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),u||_===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const E=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((S=E.Endpoint)===null||S===void 0)&&S.Url?_=E.Endpoint.Url:_=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else _=(yield this.configuration.chimeClient.send(new m.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${_}`)}catch(E){this.logger.error(`Messaging Session failed to resolve endpoint: ${E}`);const T=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(T);return}const b=yield this.prepareWebSocketUrl(_);this.logger.info(`opening connection to ${b}`),u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(b,[],!0),this.forEachObserver(E=>{E.messagingSessionDidStartConnecting&&E.messagingSessionDidStartConnecting(u)}),this.setUpEventListeners()})}prepareWebSocketUrl(u){return d(this,void 0,void 0,function*(){const S=new Map;return S.set("userArn",[this.configuration.userArn]),S.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===f.default.Connect&&S.set("prefetch-on",[f.default.Connect]),this.configuration.prefetchSortBy&&S.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",u,"/connect","",S)})}isClosed(){return this.webSocket.readyState()===o.default.None||this.webSocket.readyState()===o.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(u){try{const S=JSON.parse(u),_=S.Headers["x-amz-chime-event-type"],b=new s.default(_,S.Headers,S.Payload||null);if(!this.isSessionEstablished&&_==="SESSION_ESTABLISHED"){this.forEachObserver(T=>{T.messagingSessionDidStart&&T.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const E=this.preBootstrapMessages.length;for(let T=0;T<E;T++){const I=this.preBootstrapMessages.shift();this.forEachObserver(A=>{this.sendMessageToObserver(A,I)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(b);return}this.forEachObserver(E=>{this.sendMessageToObserver(E,b)})}catch(S){this.logger.error(`Messaging parsing failed: ${S}`)}}sendMessageToObserver(u,S){u.messagingSessionDidReceiveMessage&&u.messagingSessionDidReceiveMessage(S)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>d(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(u){this.logger.info(`WebSocket close: ${u.code} ${u.reason}`),u.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(u.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(S=>{S.messagingSessionDidStop&&S.messagingSessionDidStop(u)}):this.bootstrapRejected(u))}canReconnect(u){return u===1001||u===1006||u>=1011&&u<=1014||u>4e3&&u!==4002&&u!==4003&&u!==4401}constructor(u,S,_,b,E){this.configuration=u,this.logger=S,this.webSocket=_,this.reconnectController=b,this.sigV4=E,this.observerQueue=new Set,this.webSocket||(this.webSocket=new r.default(this.logger)),this.reconnectController||(this.reconnectController=new i.default(u.reconnectTimeoutMs,new p.default(u.reconnectFixedWaitMs,u.reconnectShortBackoffMs,u.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new t.default(this.configuration.chimeClient)),a.default.addLogger(this.logger),a.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");l.default=g},1119407758:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(759573094);let h=n(class{generateSessionId(){const p=new Uint32Array(1);return d.getRandomValues(p),p[0].toString()}constructor(p,a,s,i){this.userArn=p,this.messagingSessionId=a,this.endpointUrl=s,this.chimeClient=i,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");l.default=h},5639131082:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.Connect="connect"})(c||(c={})),l.default=c},4936200234:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.Unread="unread",d.LastMessageTimestamp="last-message-timestamp"})(c||(c={})),l.default=c},5519271617:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9946496941));let m=n(class Ad{id(){return this._id}base(){return this._id?this._id.split(Ad.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const a=this._id.split(Ad.MODALITY_SEPARATOR);return a.length===2?a[1]:""}hasModality(a){return a!==""&&this.modality()===a}withModality(a){const s=new Ad(this.base()+Ad.MODALITY_SEPARATOR+a);return a===""||this.base()===""||new Ad(s._id).modality()!==a?new Ad(this.base()):s}constructor(a){this._id=a}},"DefaultModality");l.default=m,m.MODALITY_SEPARATOR=h.default.Modality[0],m.MODALITY_CONTENT=h.default.Modality.substring(1)},4680116077:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(7416186200)),m=d(c(7080398225)),p=d(c(201131498)),a=c(7344258710),s=c(8479756130);let i=n(class{addObserver(t){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const r of this.observerQueue)h.default.nextTick(()=>{this.observerQueue.has(r)&&t(r)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(r=>{s.Maybe.of(r.didMissPongs).map(o=>o.bind(r)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const t=a.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=a.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(t){const r=a.SdkPingPongFrame.create();r.pingId=t,r.type=a.SdkPingPongType.PONG,this.signalingClient.pingPong(r)}handleSignalingClientEvent(t){switch(t.type){case p.default.WebSocketOpen:this.startPingInterval();break;case p.default.WebSocketFailed:case p.default.WebSocketError:this.logger.warn(`stopped pinging (${p.default[t.type]})`),this.stopPingInterval();break;case p.default.WebSocketClosing:case p.default.WebSocketClosed:this.logger.info(`stopped pinging (${p.default[t.type]})`),this.stopPingInterval();break;case p.default.ReceivedSignalFrame:if(t.message.type!==a.SdkSignalFrame.Type.PING_PONG)break;if(t.message.pingPong.type===a.SdkPingPongType.PONG){const r=t.message.pingPong.pingId;if(r!==this.pingId){this.logger.warn(`unexpected ping id ${r} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let o;if(typeof t.message.timestampMs=="number")o=t.message.timestampMs;else break;this.logger.debug(()=>`received pong ${r} with timestamp ${o}`);const g=t.timestampMs-this.pingTimestampLocalMs,v=Math.round(o-g/2),u=this.pingTimestampLocalMs-v;this.logger.info(`local clock skew estimate=${u}ms from ping-pong time=${g}ms`),this.forEachObserver(S=>{s.Maybe.of(S.didReceivePong).map(_=>_.bind(S)(r,u,g))})}else this.pong(t.message.pingPong.pingId);break}}constructor(t,r,o){this.signalingClient=t,this.intervalMs=r,this.logger=o,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new m.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");l.default=i},2461656181:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9292265093)),m=c(759573094),p=d(c(6424577011)),a=d(c(8830437557));let s=n(class{realtimeSetLocalAttendeeId(e,t){this.state.localAttendeeId=e,this.state.localExternalUserId=t}realtimeSetAttendeeIdPresence(e,t,r,o,f){try{t&&(this.state.attendeeIdToExternalUserId[e]=r);for(const g of this.state.attendeeIdChangesCallbacks)g(e,t,r,o,f)}catch(g){this.onError(g)}}realtimeSubscribeToAttendeeIdPresence(e){try{this.state.attendeeIdChangesCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToAttendeeIdPresence(e){try{const t=this.state.attendeeIdChangesCallbacks.indexOf(e);t!==-1&&this.state.attendeeIdChangesCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeSetCanUnmuteLocalAudio(e){try{if(this.state.canUnmute===e)return;this.state.canUnmute=e;for(const t of this.state.setCanUnmuteLocalAudioCallbacks)t(e)}catch(t){this.onError(t)}}realtimeSubscribeToSetCanUnmuteLocalAudio(e){try{this.state.setCanUnmuteLocalAudioCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){try{const t=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(e);t!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!0)}catch(e){this.onError(e)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!1);return!0}catch(e){return this.onError(e),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){try{const t=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(e);t!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(e,t){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(e)||(this.state.volumeIndicatorCallbacks[e]=[]),this.state.volumeIndicatorCallbacks[e].push(t),this.sendVolumeIndicatorChange(e,!0,!0,!0,this.state.attendeeIdToExternalUserId[e])}catch(r){this.onError(r)}}realtimeUnsubscribeFromVolumeIndicator(e,t){if(this.state.volumeIndicatorCallbacks[e])if(t){const o=this.state.volumeIndicatorCallbacks[e].indexOf(t);o>=0&&this.state.volumeIndicatorCallbacks[e].splice(o,1)}else delete this.state.volumeIndicatorCallbacks[e]}realtimeUpdateVolumeIndicator(e,t,r,o,f){try{r=this.applyLocalMuteOverride(e,r);const g=this.getVolumeIndicatorState(e);let v=!1,u=!1,S=!1;r!==null&&g.muted!==r&&(g.muted=r,u=!0,g.muted&&g.volume!==0&&(g.volume=0,v=!0)),!g.muted&&t!==null&&(g.volume!==t&&(g.volume=t,v=!0),g.muted===null&&(g.muted=!1,u=!0)),o!==null&&g.signalStrength!==o&&(g.signalStrength=o,S=!0),this.sendVolumeIndicatorChange(e,v,u,S,f)}catch(g){this.onError(g)}}realtimeSubscribeToLocalSignalStrengthChange(e){try{if(this.state.localSignalStrengthChangeCallbacks.push(e),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(t){this.onError(t)}}realtimeUnsubscribeToLocalSignalStrengthChange(e){try{const t=this.state.localSignalStrengthChangeCallbacks.indexOf(e);t!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeSubscribeToSendDataMessage(e){try{this.state.sendDataMessageCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeFromSendDataMessage(e){try{const t=this.state.sendDataMessageCallbacks.indexOf(e);t!==-1&&this.state.sendDataMessageCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeSendDataMessage(e,t,r){try{for(const o of this.state.sendDataMessageCallbacks)o(e,t,r)}catch(o){this.onError(o)}}realtimeSubscribeToReceiveDataMessage(e,t){try{this.state.receiveDataMessageCallbacks.has(e)?this.state.receiveDataMessageCallbacks.get(e).push(t):this.state.receiveDataMessageCallbacks.set(e,[t])}catch(r){this.onError(r)}}realtimeUnsubscribeFromReceiveDataMessage(e){try{this.state.receiveDataMessageCallbacks.delete(e)}catch(t){this.onError(t)}}realtimeReceiveDataMessage(e){try{m.iterateEvery(this.state.receiveDataMessageCallbacks.get(e.topic),t=>{t(e)})}catch(t){Promise.reject(t)}}realtimeSubscribeToFatalError(e){try{this.state.fatalErrorCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToFatalError(e){try{const t=this.state.fatalErrorCallbacks.indexOf(e);t!==-1&&this.state.fatalErrorCallbacks.splice(t,1)}catch(t){this.onError(t)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(e){e?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(e,t){const r=this.state.localAttendeeId,o=this.state.muted;return e!==r||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?t:o}sendVolumeIndicatorChange(e,t,r,o,f){if(this.sendLocalSignalStrengthChange(e,o),!this.state.volumeIndicatorCallbacks.hasOwnProperty(e))return;const g=this.getVolumeIndicatorState(e),v=new a.default;if(t&&(v.volume=g.volume),r&&(v.muted=g.muted),o&&(v.signalStrength=g.signalStrength),!this.stateIsEmpty(v))for(const u of this.state.volumeIndicatorCallbacks[e])u(e,v.volume,v.muted,v.signalStrength,f)}sendLocalSignalStrengthChange(e,t){if(!t||e!==this.state.localAttendeeId)return;const o=this.getVolumeIndicatorState(e).signalStrength;if(o!==null)for(const f of this.state.localSignalStrengthChangeCallbacks)f(o)}getVolumeIndicatorState(e){return this.state.volumeIndicatorState.hasOwnProperty(e)||(this.state.volumeIndicatorState[e]=new a.default),this.state.volumeIndicatorState[e]}stateIsEmpty(e){return e.volume===null&&e.muted===null&&e.signalStrength===null}onError(e){try{for(const t of this.state.fatalErrorCallbacks)t(e)}catch(t){try{console.error(e),console.error(t)}catch{}}}constructor(e,t){this.mediaStreamBroker=e,this.state=new p.default,this._transcriptionController=t||new h.default(this)}},"DefaultRealtimeController");l.default=s},8504263577:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");l.default=c},6424577011:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");l.default=c},8830437557:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");l.default=c},8543192315:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6376806429));let m=n(class Tv{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(a){this._isFirstConnection=a,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(a,s){const i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=s,this.backoffTimer=new h.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,a()})),i}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new Tv(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(a){this.lastActiveTimestampMs=a}constructor(a,s){this.reconnectTimeoutMs=a,this.backoffPolicy=s,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");l.default=m},2944630562:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Xa{static initializeWorker(){Xa.log("Initializing RedundantAudioEncoder");const h=new Xa;self.RTCRtpScriptTransformer&&(self.onrtctransform=m=>{m.transformer.options.type==="SenderTransform"?h.setupSenderTransform(m.transformer.readable,m.transformer.writable):m.transformer.options.type==="ReceiverTransform"?h.setupReceiverTransform(m.transformer.readable,m.transformer.writable):m.transformer.options.type==="PassthroughTransform"&&h.setupPassthroughTransform(m.transformer.readable,m.transformer.writable)}),self.onmessage=m=>{m.data.msgType==="StartRedWorker"?(h.setupSenderTransform(m.data.send.readable,m.data.send.writable),h.setupReceiverTransform(m.data.receive.readable,m.data.receive.writable)):m.data.msgType==="PassthroughTransform"?(h.setupPassthroughTransform(m.data.send.readable,m.data.send.writable),h.setupPassthroughTransform(m.data.receive.readable,m.data.receive.writable)):m.data.msgType==="RedPayloadType"?h.setRedPayloadType(m.data.payloadType):m.data.msgType==="OpusPayloadType"?h.setOpusPayloadType(m.data.payloadType):m.data.msgType==="UpdateNumRedundantEncodings"?h.setNumRedundantEncodings(m.data.numRedundantEncodings):m.data.msgType==="Enable"?h.setRedundancyEnabled(!0):m.data.msgType==="Disable"&&h.setRedundancyEnabled(!1)}}static log(h){Xa.shouldLog&&self.postMessage({type:"REDWorkerLog",log:`[AudioRed] ${h}`})}static getNumRedundantEncodingsForPacketLoss(h){let m=0,p=!1;return h<=8?m=0:h<=18?m=1:h<=75?m=2:(m=0,p=!0),[m,p]}setupPassthroughTransform(h,m){Xa.log("Setting up passthrough transform"),h.pipeTo(m)}setupSenderTransform(h,m){Xa.log("Setting up sender RED transform");const p=new TransformStream({transform:this.senderTransform.bind(this)});h.pipeThrough(p).pipeTo(m)}setupReceiverTransform(h,m){Xa.log("Setting up receiver RED transform");const p=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});h.pipeThrough(p).pipeTo(m)}setRedPayloadType(h){this.redPayloadType=h,Xa.log(`red payload type set to ${this.redPayloadType}`)}setOpusPayloadType(h){this.opusPayloadType=h,Xa.log(`opus payload type set to ${this.opusPayloadType}`)}setNumRedundantEncodings(h){this.numRedundantEncodings=h,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),Xa.log(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`)}setRedundancyEnabled(h){this.redundancyEnabled=h,Xa.log(`redundancy ${this.redundancyEnabled?"enabled":"disabled"}`)}enqueueAudioFrameIfPayloadSizeIsValid(h,m){h.data.byteLength>this.maxAudioPayloadSizeBytes||m.enqueue(h)}senderTransform(h,m){if(h.getMetadata().payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}const a=this.getPrimaryPayload(h.timestamp,h.data);if(!a){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}const s=this.encode(h.timestamp,a);if(!s){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}h.data=s,this.enqueueAudioFrameIfPayloadSizeIsValid(h,m)}getPrimaryPayload(h,m){const p=this.splitEncodings(h,m);return!p||p.length<1?null:p[p.length-1].payload}splitEncodings(h,m){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;const s=new DataView(m);let i=s.byteLength,e=0,t=0,r=0,o=0,f=!1;const g=new Array,v=new Array,u=new Array;for(;i>0;)if(f=(s.getUint8(o)&128)===0,f){if((s.getUint8(o)&127)!==this.opusPayloadType||(e+=this.redLastHeaderSizeBytes,t+=this.redLastHeaderSizeBytes,e>=s.byteLength))return null;r=s.byteLength-e;break}else{if(i<this.redHeaderSizeBytes)return null;const I=((s.getUint8(o+2)&3)<<8)+s.getUint8(o+3);v.push(I);const A=s.getUint16(o+1)>>2,w=h-A;u.push(w),e+=I+this.redHeaderSizeBytes,t+=this.redHeaderSizeBytes,o+=this.redHeaderSizeBytes,i-=this.redHeaderSizeBytes}if(!f)return a!==void 0?(g.push({payload:m,isRedundant:!1,seq:a}),g):null;let S=t;for(let I=0;I<u.length;I++){const A=new ArrayBuffer(v[I]);new Uint8Array(A).set(new Uint8Array(s.buffer,S,v[I]),0);const R={timestamp:u[I],payload:A,isRedundant:!0};p&&(R.hasFec=this.opusPacketHasFec(new DataView(A),A.byteLength)),g.push(R),S+=v[I]}const _=s.byteLength-r,b=new ArrayBuffer(r);new Uint8Array(b).set(new Uint8Array(s.buffer,_,r),0);const T={timestamp:h,payload:b,isRedundant:!1,seq:a};return p&&(T.hasFec=this.opusPacketHasFec(new DataView(b),b.byteLength)),g.push(T),g}encode(h,m){const p=m.byteLength;if(p===0||p>=this.maxRedPacketSizeBytes||p>=this.maxAudioPayloadSizeBytes)return null;const a=this.numRedundantEncodings;let s=this.redLastHeaderSizeBytes,i=p,e=this.maxAudioPayloadSizeBytes-p-s;const t=new Array,r=new Array;if(this.redundancyEnabled){let u=this.uint32WrapAround(h-this.redPacketizationTime*this.redPacketDistance);for(let S=0;S<a&&!(this.uint32WrapAround(h-u)>=this.maxRedTimestampOffset);S++){let _=u,b=this.encodingHistory.find(E=>E.timestamp===_);if(b||(_=this.uint32WrapAround(u-this.redPacketizationTime),b=this.encodingHistory.find(E=>E.timestamp===_)),b){const E=b.payload.byteLength;if(e<this.redHeaderSizeBytes+E)break;e-=this.redHeaderSizeBytes+E,s+=this.redHeaderSizeBytes,i+=E,t.unshift(b.timestamp),r.unshift(b.payload)}u-=this.redPacketizationTime*this.redPacketDistance,u=this.uint32WrapAround(u)}}const o=new ArrayBuffer(s+i),f=new DataView(o);let g=0;for(let u=0;u<t.length;u++){const S=h-t[u];f.setUint8(g,this.opusPayloadType|128),f.setUint16(g+1,S<<2|r[u].byteLength>>8),f.setUint8(g+3,r[u].byteLength&255),g+=this.redHeaderSizeBytes}f.setUint8(g,this.opusPayloadType),g+=this.redLastHeaderSizeBytes;const v=new Uint8Array(o);for(let u=0;u<r.length;u++)v.set(new Uint8Array(r[u]),g),g+=r[u].byteLength;return v.set(new Uint8Array(m),g),g+=m.byteLength,g!==s+i?null:(this.updateEncodingHistory(h,m),o)}updateEncodingHistory(h,m){for(const a of this.encodingHistory){const s=this.redPacketizationTime*this.redMaxRecoveryDistance;if(h-a.timestamp>=s)this.encodingHistory.shift();else break}const p=new DataView(m);(this.opusPacketIsCeltOnly(p)||this.opusPacketHasVoiceActivity(p,p.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:h,payload:m}))}initializePacketLogs(){const h=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:new Array(h),index:0,windowSize:h},this.redRecoveryLog={window:new Array(h),index:0,windowSize:h},this.fecRecoveryLog={window:new Array(h),index:0,windowSize:h},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(h,m){const p=h.getMetadata();if(p.payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}const a=this.splitEncodings(h.timestamp,h.data,!0,p.sequenceNumber);if(!a){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}for(let s=a.length-1;s>=0;s--)this.updateLossStats(a[s])&&(this.updateRedStats(a[s]),this.updateFecStats(a[s]));this.maybeReportLossStats(p.synchronizationSource,a[a.length-1].timestamp),this.enqueueAudioFrameIfPayloadSizeIsValid(h,m)}updateLossStats(h){if(h.isRedundant)return!0;const m=h.timestamp,p=h.seq;if(this.totalAudioPacketsExpected===0)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=p,this.addTimestamp(this.primaryPacketLog,m),!0;const a=this.int16(p-this.newestSequenceNumber);return a<-this.maxOutOfOrderPacketDistance?!1:(a<0?this.hasTimestamp(this.primaryPacketLog,m)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,m),this.removeFromRecoveryWindows(m)):a>1&&(this.totalAudioPacketsLost+=a-1),a>0&&(this.totalAudioPacketsExpected+=a,this.newestSequenceNumber=h.seq,this.addTimestamp(this.primaryPacketLog,m)),!0)}updateRedStats(h){if(!h.isRedundant||this.totalAudioPacketsLost===0)return;const m=h.timestamp;this.hasTimestamp(this.primaryPacketLog,m)||(this.hasTimestamp(this.redRecoveryLog,m)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,m)),this.removeTimestamp(this.fecRecoveryLog,m)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(h){if(!h.hasFec||this.totalAudioPacketsLost===0)return;const m=h.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,m)||this.hasTimestamp(this.redRecoveryLog,m)||this.hasTimestamp(this.fecRecoveryLog,m)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,m))}maybeReportLossStats(h,m){m===void 0||m-this.lastLossReportTimestamp<this.lossReportInterval||(Xa.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:h,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=m)}addTimestamp(h,m){m!==void 0&&(h.window[h.index]=m,h.index=(h.index+1)%h.windowSize)}hasTimestamp(h,m){return!!h.window.find(a=>a===m)}removeTimestamp(h,m){const p=h.window.indexOf(m);return p>=0?(h.window[p]=void 0,!0):!1}removeFromRecoveryWindows(h){let m=this.removeTimestamp(this.redRecoveryLog,h);m&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,m=this.removeTimestamp(this.fecRecoveryLog,h),m&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(h){let p=h;return h>=4294967296?p=h-4294967296:h<0&&(p=4294967296+h),p}int16(h){return h<<16>>16}opusPacketIsCeltOnly(h){return!!(h.getUint8(0)&128)}opusPacketGetSamplesPerFrame(h,m){m=Math.round(m),m=Math.min(Math.max(m,-Math.pow(2,32)),Math.pow(2,32)-1);let p,a;return this.opusPacketIsCeltOnly(h)?(a=h.getUint8(0)>>3&3,p=(m<<a)/400):(h.getUint8(0)&96)===96?p=h.getUint8(0)&8?m/50:m/100:(a=h.getUint8(0)>>3&3,a===3?p=m*60/1e3:p=(m<<a)/100),p}opusNumSilkFrames(h){let m=this.opusPacketGetSamplesPerFrame(h,48e3)/48;switch(m<10&&(m=10),m){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(h){return h.getUint8(0)&4?2:1}opusParseSize(h,m,p,a){return p<1?(a[0]=-1,-1):h.getUint8(m)<252?(a[0]=h.getUint8(m),1):p<2?(a[0]=-1,-1):(a[0]=4*h.getUint8(m+1)+h.getUint8(m),2)}opusPacketParseImpl(h,m,p,a,s,i,e,t){if(!i||m<0)return this.OPUS_BAD_ARG;if(m===0)return this.OPUS_INVALID_PACKET;let r,o,f=0,g=!1;const v=h.getUint8(0);a&&(a[0]=v);let u=m-1,S=1,_=u;switch(v&3){case 0:r=1;break;case 1:if(r=2,g=!0,!p){if(u&1)return this.OPUS_INVALID_PACKET;_=u/2,i[0][0]=_}break;case 2:if(r=2,o=this.opusParseSize(h,S,u,i[0]),u-=o,i[0][0]<0||i[0][0]>u)return this.OPUS_INVALID_PACKET;S+=o,_=u-i[0][0];break;default:if(u<1)return this.OPUS_INVALID_PACKET;const b=h.getUint8(S++);if(--u,r=b&63,r<=0)return this.OPUS_INVALID_PACKET;if(this.opusPacketGetSamplesPerFrame(h,48e3)*r>5760)return this.OPUS_INVALID_PACKET;if(b&64){let T,I;do{if(u<=0)return this.OPUS_INVALID_PACKET;T=h.getUint8(S++),--u,I=T===255?254:T,u-=I,f+=I}while(T===255)}if(u<0)return this.OPUS_INVALID_PACKET;if(g=!(b&128),g){if(!p){if(_=Math.trunc(u/r),_*r!==u)return this.OPUS_INVALID_PACKET;for(let T=0;T<r-1;++T)i[T][0]=_}}else{_=u;for(let T=0;T<r-1;++T){if(o=this.opusParseSize(h,S,u,i[T]),u-=o,i[T][0]<0||i[T][0]>u)return this.OPUS_INVALID_PACKET;S+=o,_-=o+i[T][0]}if(_<0)return this.OPUS_INVALID_PACKET}}if(p){if(o=this.opusParseSize(h,S,u,i[r-1]),u-=o,i[r-1][0]<0||i[r-1][0]>u)return this.OPUS_INVALID_PACKET;if(S+=o,g){if(i[r-1][0]*r>u)return this.OPUS_INVALID_PACKET;for(let b=0;b<r-1;++b)i[b][0]=i[r-1][0]}else if(!(o+i[r-1][0]<=_))return this.OPUS_INVALID_PACKET}else{if(_>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;i[r-1][0]=_}e&&(e[0]=S);for(let b=0;b<r;++b)s&&(s[b][0]=S),S+=i[b][0];return t&&(t[0]=S+f),r}opusPacketParse(h,m,p,a,s,i){return this.opusPacketParseImpl(h,m,!1,p,a,s,i,null)}opusPacketHasVoiceActivity(h,m){if(!h||m<=0)return 0;if(this.opusPacketIsCeltOnly(h))return-1;const p=this.opusNumSilkFrames(h);if(p===0)return-1;const a=new Array(this.OPUS_MAX_OPUS_FRAMES),s=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let e=0;e<this.OPUS_MAX_OPUS_FRAMES;++e)a[e]=[void 0],s[e]=[void 0];const i=this.opusPacketParse(h,m,null,a,s,null);if(i<0)return-1;for(let e=0;e<i;++e){if(s[e][0]<1)continue;if(h.getUint8(a[e][0])>>8-p||this.opusPacketGetNumChannels(h)===2&&h.getUint8(a[e][0])<<p+1>>8-p)return 1}return 0}opusPacketHasFec(h,m){if(!h||m<=0||this.opusPacketIsCeltOnly(h))return!1;const p=new Array(this.OPUS_MAX_OPUS_FRAMES),a=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let t=0;t<this.OPUS_MAX_OPUS_FRAMES;++t)p[t]=[void 0],a[t]=[void 0];if(this.opusPacketParse(h,m,null,p,a,null)<0||a[0][0]<=1)return!1;const i=this.opusNumSilkFrames(h);if(i===0)return!1;const e=this.opusPacketGetNumChannels(h);if(e!==1&&e!==2)return!1;for(let t=0;t<e;t++)if(h.getUint8(p[0][0])&128>>(t+1)*(i+1)-1)return!0;return!1}constructor(){this.maxRedPacketSizeBytes=1<<10,this.maxAudioPayloadSizeBytes=1e3,this.maxRedTimestampOffset=1<<14,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=48e3*5,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=new Array,this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}},"RedundantAudioEncoder");l.default=c,c.shouldLog=!1,c.shouldReportStats=!1},5110921698:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=`class RedundantAudioEncoder {
    constructor() {
        // Each payload must be less than 1024 bytes to fit the 10 bit block length
        this.maxRedPacketSizeBytes = 1 << 10;
        // Limit payload to 1000 bytes to handle small MTU. 1000 is chosen because in Chromium-based browsers, writing audio
        // payloads larger than 1000 bytes using the WebRTC Insertable Streams API (which is used to enable dynamic audio
        // redundancy) will cause an error to be thrown and cause audio flow to permanently stop. See
        // https://crbug.com/1248479.
        this.maxAudioPayloadSizeBytes = 1000;
        // Each payload can encode a timestamp delta of 14 bits
        this.maxRedTimestampOffset = 1 << 14;
        // 4 byte RED header
        this.redHeaderSizeBytes = 4;
        // reduced size for last RED header
        this.redLastHeaderSizeBytes = 1;
        // P-Time for Opus 20 msec packets
        // We do not support other p-times or clock rates
        this.redPacketizationTime = 960;
        // distance between redundant payloads, Opus FEC handles a distance of 1
        // TODO(https://issues.amazon.com/issues/ChimeSDKAudio-55):
        // Consider making this dynamic
        this.redPacketDistance = 2;
        // maximum number of redundant payloads per RTP packet
        this.maxRedEncodings = 2;
        // Maximum number of encodings that can be recovered with a single RED packet, assuming the primary and redundant
        // payloads have FEC.
        this.redMaxRecoveryDistance = this.redPacketDistance * this.maxRedEncodings + 1;
        // maximum history of prior payloads to keep
        // generally we will expire old entries based on timestamp
        // this limit is in place just to make sure the history does not
        // grow too large in the case of erroneous timestamp inputs
        this.maxEncodingHistorySize = 10;
        // Current number of encodings we want to send
        // to the remote end. This will be dynamically
        // updated through the setNumEncodingsFromPacketloss API
        this.numRedundantEncodings = 0;
        // Used to enable or disable redundancy
        // in response to very high packet loss events
        this.redundancyEnabled = true;
        // Loss stats are reported to the main thread every 5 seconds.
        // Since timestamp differences between 2 consecutive packets
        // give us the number of samples in each channel, 1 second
        // is equivalent to 48000 samples:
        // P-time * (1000ms/1s)
        // = (960 samples/20ms) * (1000ms/1s)
        // = 48000 samples/s
        this.lossReportInterval = 48000 * 5;
        // Maximum distance of a packet from the most recent packet timestamp
        // that we will consider for recovery.
        this.maxOutOfOrderPacketDistance = 16;
        /**
         * Below are Opus helper methods and constants.
         */
        this.OPUS_BAD_ARG = -1;
        this.OPUS_INVALID_PACKET = -4;
        // Max number of Opus frames in an Opus packet is 48 (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5).
        this.OPUS_MAX_OPUS_FRAMES = 48;
        // Max number of bytes that any individual Opus frame can have.
        this.OPUS_MAX_FRAME_SIZE_BYTES = 1275;
        this.encodingHistory = new Array();
        this.opusPayloadType = 0;
        this.redPayloadType = 0;
        this.initializePacketLogs();
    }
    /**
     * Creates an instance of RedundantAudioEncoder and sets up callbacks.
     */
    static initializeWorker() {
        RedundantAudioEncoder.log('Initializing RedundantAudioEncoder');
        const encoder = new RedundantAudioEncoder();
        // RED encoding is done using WebRTC Encoded Transform
        // https://github.com/w3c/webrtc-encoded-transform/blob/main/explainer.md
        // Check the DedicatedWorkerGlobalScope for existence of
        // RTCRtpScriptTransformer interface. If exists, then
        // RTCRtpScriptTransform is supported by this browser.
        // @ts-ignore
        if (self.RTCRtpScriptTransformer) {
            // @ts-ignore
            self.onrtctransform = (event) => {
                if (event.transformer.options.type === 'SenderTransform') {
                    encoder.setupSenderTransform(event.transformer.readable, event.transformer.writable);
                }
                else if (event.transformer.options.type === 'ReceiverTransform') {
                    encoder.setupReceiverTransform(event.transformer.readable, event.transformer.writable);
                }
                else if (event.transformer.options.type === 'PassthroughTransform') {
                    encoder.setupPassthroughTransform(event.transformer.readable, event.transformer.writable);
                }
            };
        }
        self.onmessage = (event) => {
            if (event.data.msgType === 'StartRedWorker') {
                encoder.setupSenderTransform(event.data.send.readable, event.data.send.writable);
                encoder.setupReceiverTransform(event.data.receive.readable, event.data.receive.writable);
            }
            else if (event.data.msgType === 'PassthroughTransform') {
                encoder.setupPassthroughTransform(event.data.send.readable, event.data.send.writable);
                encoder.setupPassthroughTransform(event.data.receive.readable, event.data.receive.writable);
            }
            else if (event.data.msgType === 'RedPayloadType') {
                encoder.setRedPayloadType(event.data.payloadType);
            }
            else if (event.data.msgType === 'OpusPayloadType') {
                encoder.setOpusPayloadType(event.data.payloadType);
            }
            else if (event.data.msgType === 'UpdateNumRedundantEncodings') {
                encoder.setNumRedundantEncodings(event.data.numRedundantEncodings);
            }
            else if (event.data.msgType === 'Enable') {
                encoder.setRedundancyEnabled(true);
            }
            else if (event.data.msgType === 'Disable') {
                encoder.setRedundancyEnabled(false);
            }
        };
    }
    /**
     * Post logs to the main thread
     */
    static log(msg) {
        if (RedundantAudioEncoder.shouldLog) {
            // @ts-ignore
            self.postMessage({
                type: 'REDWorkerLog',
                log: \`[AudioRed] \${msg}\`,
            });
        }
    }
    /**
     * Returns the number of encodings based on packetLoss value. This is used by \`DefaultTransceiverController\` to
     * determine when to alert the encoder to update the number of encodings. It also determines if we need to
     * turn off red in cases of very high packet loss to avoid congestion collapse.
     */
    static getNumRedundantEncodingsForPacketLoss(packetLoss) {
        let recommendedRedundantEncodings = 0;
        let shouldTurnOffRed = false;
        if (packetLoss <= 8) {
            recommendedRedundantEncodings = 0;
        }
        else if (packetLoss <= 18) {
            recommendedRedundantEncodings = 1;
        }
        else if (packetLoss <= 75) {
            recommendedRedundantEncodings = 2;
        }
        else {
            recommendedRedundantEncodings = 0;
            shouldTurnOffRed = true;
        }
        return [recommendedRedundantEncodings, shouldTurnOffRed];
    }
    /**
     * Sets up a passthrough (no-op) transform for the given streams.
     */
    setupPassthroughTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up passthrough transform');
        readable.pipeTo(writable);
    }
    /**
     * Sets up the transform stream and pipes the outgoing encoded audio frames through the transform function.
     */
    setupSenderTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up sender RED transform');
        const transformStream = new TransformStream({
            transform: this.senderTransform.bind(this),
        });
        readable.pipeThrough(transformStream).pipeTo(writable);
        return;
    }
    /**
     * Sets up the transform stream and pipes the received encoded audio frames through the transform function.
     */
    setupReceiverTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up receiver RED transform');
        const transformStream = new TransformStream({
            transform: this.receivePacketLogTransform.bind(this),
        });
        readable.pipeThrough(transformStream).pipeTo(writable);
        return;
    }
    /**
     * Set the RED payload type ideally obtained from local offer.
     */
    setRedPayloadType(payloadType) {
        this.redPayloadType = payloadType;
        RedundantAudioEncoder.log(\`red payload type set to \${this.redPayloadType}\`);
    }
    /**
     * Set the opus payload type ideally obtained from local offer.
     */
    setOpusPayloadType(payloadType) {
        this.opusPayloadType = payloadType;
        RedundantAudioEncoder.log(\`opus payload type set to \${this.opusPayloadType}\`);
    }
    /**
     * Set the number of redundant encodings
     */
    setNumRedundantEncodings(numRedundantEncodings) {
        this.numRedundantEncodings = numRedundantEncodings;
        if (this.numRedundantEncodings > this.maxRedEncodings) {
            this.numRedundantEncodings = this.maxRedEncodings;
        }
        RedundantAudioEncoder.log(\`Updated numRedundantEncodings to \${this.numRedundantEncodings}\`);
    }
    /**
     * Enable or disable redundancy in response to
     * high packet loss event.
     */
    setRedundancyEnabled(enabled) {
        this.redundancyEnabled = enabled;
        RedundantAudioEncoder.log(\`redundancy \${this.redundancyEnabled ? 'enabled' : 'disabled'}\`);
    }
    /**
     * Helper function to only enqueue audio frames if they do not exceed the audio payload byte limit imposed by
     * Chromium-based browsers. Chromium will throw an error (https://crbug.com/1248479) if an audio payload larger than
     * 1000 bytes is enqueued. Any controller that attempts to enqueue an audio payload larger than 1000 bytes will
     * encounter this error and will permanently stop sending or receiving audio.
     */
    enqueueAudioFrameIfPayloadSizeIsValid(
    // @ts-ignore
    frame, controller) {
        if (frame.data.byteLength > this.maxAudioPayloadSizeBytes)
            return;
        controller.enqueue(frame);
    }
    /**
     * Receives encoded frames and modifies as needed before sending to transport.
     */
    senderTransform(
    // @ts-ignore
    frame, controller) {
        const frameMetadata = frame.getMetadata();
        // @ts-ignore
        if (frameMetadata.payloadType !== this.redPayloadType) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        const primaryPayloadBuffer = this.getPrimaryPayload(frame.timestamp, frame.data);
        if (!primaryPayloadBuffer) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        const encodedBuffer = this.encode(frame.timestamp, primaryPayloadBuffer);
        /* istanbul ignore next */
        if (!encodedBuffer) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        frame.data = encodedBuffer;
        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
        return;
    }
    /**
     * Get the primary payload from encoding
     */
    getPrimaryPayload(primaryTimestamp, frame) {
        const encodings = this.splitEncodings(primaryTimestamp, frame);
        if (!encodings || encodings.length < 1)
            return null;
        return encodings[encodings.length - 1].payload;
    }
    /**
     * Split up the encoding received into primary and redundant encodings
     * These will be ordered oldest to newest which is the same ordering
     * in the RTP red payload.
     */
    splitEncodings(primaryTimestamp, frame, getFecInfo = false, primarySequenceNumber = undefined) {
        // process RED headers (according to RFC 2198)
        //   0                   1                   2                   3
        //   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        //  |F|   block PT  |  timestamp offset         |   block length    |
        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        //
        // last header
        //   0 1 2 3 4 5 6 7
        //  +-+-+-+-+-+-+-+-+
        //  |0|   Block PT  |
        //  +-+-+-+-+-+-+-+-+
        const payload = new DataView(frame);
        let payloadSizeBytes = payload.byteLength;
        let totalPayloadSizeBytes = 0;
        let totalHeaderSizeBytes = 0;
        let primaryPayloadSizeBytes = 0;
        let payloadOffset = 0;
        let gotLastBlock = false;
        const encodings = new Array();
        const redundantEncodingBlockLengths = new Array();
        const redundantEncodingTimestamps = new Array();
        while (payloadSizeBytes > 0) {
            gotLastBlock = (payload.getUint8(payloadOffset) & 0x80) === 0;
            if (gotLastBlock) {
                // Bits 1 through 7 are payload type
                const payloadType = payload.getUint8(payloadOffset) & 0x7f;
                // Unexpected payload type. This is a bad packet.
                if (payloadType !== this.opusPayloadType) {
                    return null;
                }
                totalPayloadSizeBytes += this.redLastHeaderSizeBytes;
                totalHeaderSizeBytes += this.redLastHeaderSizeBytes;
                // Accumulated block lengths are equal to or larger than the buffer, which means there is no primary block. This
                // is a bad packet.
                if (totalPayloadSizeBytes >= payload.byteLength) {
                    return null;
                }
                primaryPayloadSizeBytes = payload.byteLength - totalPayloadSizeBytes;
                break;
            }
            else {
                if (payloadSizeBytes < this.redHeaderSizeBytes) {
                    return null;
                }
                // Bits 22 through 31 are payload length
                const blockLength = ((payload.getUint8(payloadOffset + 2) & 0x03) << 8) + payload.getUint8(payloadOffset + 3);
                redundantEncodingBlockLengths.push(blockLength);
                const timestampOffset = payload.getUint16(payloadOffset + 1) >> 2;
                const timestamp = primaryTimestamp - timestampOffset;
                redundantEncodingTimestamps.push(timestamp);
                totalPayloadSizeBytes += blockLength + this.redHeaderSizeBytes;
                totalHeaderSizeBytes += this.redHeaderSizeBytes;
                payloadOffset += this.redHeaderSizeBytes;
                payloadSizeBytes -= this.redHeaderSizeBytes;
            }
        }
        // The last block was never found. The packet we received
        // does not have a good RED payload.
        if (!gotLastBlock) {
            // Note that sequence numbers only exist for
            // incoming audio frames.
            if (primarySequenceNumber !== undefined) {
                // This could be a possible padding packet used
                // for BWE with a good sequence number.
                // Create a dummy encoding to make sure loss values
                // are calculated correctly by consuming sequence number.
                // Note that for the receive side, we process packets only
                // for loss/recovery calculations and forward the original
                // packet without changing it even in the error case.
                encodings.push({
                    payload: frame,
                    isRedundant: false,
                    seq: primarySequenceNumber,
                });
                return encodings;
            }
            // This is a bad packet.
            return null;
        }
        let redundantPayloadOffset = totalHeaderSizeBytes;
        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {
            const redundantPayloadBuffer = new ArrayBuffer(redundantEncodingBlockLengths[i]);
            const redundantPayloadArray = new Uint8Array(redundantPayloadBuffer);
            redundantPayloadArray.set(new Uint8Array(payload.buffer, redundantPayloadOffset, redundantEncodingBlockLengths[i]), 0);
            const encoding = {
                timestamp: redundantEncodingTimestamps[i],
                payload: redundantPayloadBuffer,
                isRedundant: true,
            };
            if (getFecInfo) {
                encoding.hasFec = this.opusPacketHasFec(new DataView(redundantPayloadBuffer), redundantPayloadBuffer.byteLength);
            }
            encodings.push(encoding);
            redundantPayloadOffset += redundantEncodingBlockLengths[i];
        }
        const primaryPayloadOffset = payload.byteLength - primaryPayloadSizeBytes;
        const primaryPayloadBuffer = new ArrayBuffer(primaryPayloadSizeBytes);
        const primaryArray = new Uint8Array(primaryPayloadBuffer);
        primaryArray.set(new Uint8Array(payload.buffer, primaryPayloadOffset, primaryPayloadSizeBytes), 0);
        const encoding = {
            timestamp: primaryTimestamp,
            payload: primaryPayloadBuffer,
            isRedundant: false,
            seq: primarySequenceNumber,
        };
        if (getFecInfo) {
            encoding.hasFec = this.opusPacketHasFec(new DataView(primaryPayloadBuffer), primaryPayloadBuffer.byteLength);
        }
        encodings.push(encoding);
        return encodings;
    }
    /**
     * Create a new encoding with current primary payload and the older payloads of choice.
     */
    encode(primaryTimestamp, primaryPayload) {
        const primaryPayloadSize = primaryPayload.byteLength;
        // Payload size needs to be valid.
        if (primaryPayloadSize === 0 ||
            primaryPayloadSize >= this.maxRedPacketSizeBytes ||
            primaryPayloadSize >= this.maxAudioPayloadSizeBytes) {
            return null;
        }
        const numRedundantEncodings = this.numRedundantEncodings;
        let headerSizeBytes = this.redLastHeaderSizeBytes;
        let payloadSizeBytes = primaryPayloadSize;
        let bytesAvailable = this.maxAudioPayloadSizeBytes - primaryPayloadSize - headerSizeBytes;
        const redundantEncodingTimestamps = new Array();
        const redundantEncodingPayloads = new Array();
        // If redundancy is disabled then only send the primary payload
        if (this.redundancyEnabled) {
            // Determine how much redundancy we can fit into our packet
            let redundantTimestamp = this.uint32WrapAround(primaryTimestamp - this.redPacketizationTime * this.redPacketDistance);
            for (let i = 0; i < numRedundantEncodings; i++) {
                // Do not add redundant encodings that are beyond the maximum timestamp offset.
                if (this.uint32WrapAround(primaryTimestamp - redundantTimestamp) >= this.maxRedTimestampOffset) {
                    break;
                }
                let findTimestamp = redundantTimestamp;
                let encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);
                if (!encoding) {
                    // If not found or not important then look for the previous packet.
                    // The current packet may have included FEC for the previous, so just
                    // use the previous packet instead provided that it has voice activity.
                    findTimestamp = this.uint32WrapAround(redundantTimestamp - this.redPacketizationTime);
                    encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);
                }
                if (encoding) {
                    const redundantEncodingSizeBytes = encoding.payload.byteLength;
                    // Only add redundancy if there are enough bytes available.
                    if (bytesAvailable < this.redHeaderSizeBytes + redundantEncodingSizeBytes)
                        break;
                    bytesAvailable -= this.redHeaderSizeBytes + redundantEncodingSizeBytes;
                    headerSizeBytes += this.redHeaderSizeBytes;
                    payloadSizeBytes += redundantEncodingSizeBytes;
                    redundantEncodingTimestamps.unshift(encoding.timestamp);
                    redundantEncodingPayloads.unshift(encoding.payload);
                }
                redundantTimestamp -= this.redPacketizationTime * this.redPacketDistance;
                redundantTimestamp = this.uint32WrapAround(redundantTimestamp);
            }
        }
        const redPayloadBuffer = new ArrayBuffer(headerSizeBytes + payloadSizeBytes);
        const redPayloadView = new DataView(redPayloadBuffer);
        // Add redundant encoding header(s) to new buffer
        let redPayloadOffset = 0;
        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {
            const timestampDelta = primaryTimestamp - redundantEncodingTimestamps[i];
            redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType | 0x80);
            redPayloadView.setUint16(redPayloadOffset + 1, (timestampDelta << 2) | (redundantEncodingPayloads[i].byteLength >> 8));
            redPayloadView.setUint8(redPayloadOffset + 3, redundantEncodingPayloads[i].byteLength & 0xff);
            redPayloadOffset += this.redHeaderSizeBytes;
        }
        // Add primary encoding header to new buffer
        redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType);
        redPayloadOffset += this.redLastHeaderSizeBytes;
        // Add redundant payload(s) to new buffer
        const redPayloadArray = new Uint8Array(redPayloadBuffer);
        for (let i = 0; i < redundantEncodingPayloads.length; i++) {
            redPayloadArray.set(new Uint8Array(redundantEncodingPayloads[i]), redPayloadOffset);
            redPayloadOffset += redundantEncodingPayloads[i].byteLength;
        }
        // Add primary payload to new buffer
        redPayloadArray.set(new Uint8Array(primaryPayload), redPayloadOffset);
        redPayloadOffset += primaryPayload.byteLength;
        /* istanbul ignore next */
        // Sanity check that we got the expected total payload size.
        if (redPayloadOffset !== headerSizeBytes + payloadSizeBytes)
            return null;
        this.updateEncodingHistory(primaryTimestamp, primaryPayload);
        return redPayloadBuffer;
    }
    /**
     * Update the encoding history with the latest primary encoding
     */
    updateEncodingHistory(primaryTimestamp, primaryPayload) {
        // Remove encodings from the history if they are too old.
        for (const encoding of this.encodingHistory) {
            const maxTimestampDelta = this.redPacketizationTime * this.redMaxRecoveryDistance;
            if (primaryTimestamp - encoding.timestamp >= maxTimestampDelta) {
                this.encodingHistory.shift();
            }
            else {
                break;
            }
        }
        // Only add an encoding to the history if the encoding is deemed to be important. An encoding is important if it is
        // a CELT-only packet or contains voice activity.
        const packet = new DataView(primaryPayload);
        if (this.opusPacketIsCeltOnly(packet) ||
            this.opusPacketHasVoiceActivity(packet, packet.byteLength) > 0) {
            // Check if adding an encoding will cause the length of the encoding history to exceed the maximum history size.
            // This is not expected to happen but could occur if we get incorrect timestamps. We want to make sure our memory
            // usage is bounded. In this case, just clear the history and start over from empty.
            if (this.encodingHistory.length + 1 > this.maxEncodingHistorySize)
                this.encodingHistory.length = 0;
            this.encodingHistory.push({ timestamp: primaryTimestamp, payload: primaryPayload });
        }
    }
    /**
     * Initialize packet logs and metric values.
     */
    initializePacketLogs() {
        // The extra space from the max RED recovery distance is to ensure that we do not incorrectly count recovery for
        // packets that have already been received but are outside of the max out-of-order distance.
        const packetLogSize = this.maxOutOfOrderPacketDistance + this.redMaxRecoveryDistance;
        this.primaryPacketLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.redRecoveryLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.fecRecoveryLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.totalAudioPacketsExpected = 0;
        this.totalAudioPacketsLost = 0;
        this.totalAudioPacketsRecoveredRed = 0;
        this.totalAudioPacketsRecoveredFec = 0;
    }
    /**
     * Receives encoded frames from the server
     * and adds the timestamps to a packet log
     * to calculate an approximate recovery metric.
     */
    receivePacketLogTransform(
    // @ts-ignore
    frame, controller) {
        const frameMetadata = frame.getMetadata();
        // @ts-ignore
        if (frameMetadata.payloadType !== this.redPayloadType) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        // @ts-ignore
        const encodings = this.splitEncodings(frame.timestamp, frame.data, 
        /*getFecInfo*/ true, frameMetadata.sequenceNumber);
        if (!encodings) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        for (let i = encodings.length - 1; i >= 0; i--) {
            if (this.updateLossStats(encodings[i])) {
                this.updateRedStats(encodings[i]);
                this.updateFecStats(encodings[i]);
            }
        }
        this.maybeReportLossStats(frameMetadata.synchronizationSource, encodings[encodings.length - 1].timestamp);
        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
    }
    /**
     * Adds a timestamp to the primary packet log.
     * This also updates totalAudioPacketsLost and totalAudioPacketsExpected by looking
     * at the difference between timestamps.
     *
     * @param encoding : The encoding to be analyzed
     * @returns false if sequence number was greater than max out of order distance
     *          true otherwise
     */
    updateLossStats(encoding) {
        if (encoding.isRedundant)
            return true;
        const timestamp = encoding.timestamp;
        const seq = encoding.seq;
        if (this.totalAudioPacketsExpected === 0) {
            this.totalAudioPacketsExpected = 1;
            this.newestSequenceNumber = seq;
            this.addTimestamp(this.primaryPacketLog, timestamp);
            return true;
        }
        const diff = this.int16(seq - this.newestSequenceNumber);
        if (diff < -this.maxOutOfOrderPacketDistance)
            return false;
        if (diff < 0) {
            if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {
                if (this.totalAudioPacketsLost > 0)
                    this.totalAudioPacketsLost--;
                this.addTimestamp(this.primaryPacketLog, timestamp);
                this.removeFromRecoveryWindows(timestamp);
            }
        }
        else if (diff > 1) {
            this.totalAudioPacketsLost += diff - 1;
        }
        if (diff > 0) {
            this.totalAudioPacketsExpected += diff;
            this.newestSequenceNumber = encoding.seq;
            this.addTimestamp(this.primaryPacketLog, timestamp);
        }
        return true;
    }
    /**
     * Adds a timestamp to the red recovery log if it is not present in
     * the primary packet log and if it's not too old.
     *
     * @param encoding : The encoding to be analyzed
     */
    updateRedStats(encoding) {
        if (!encoding.isRedundant || this.totalAudioPacketsLost === 0)
            return;
        const timestamp = encoding.timestamp;
        if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {
            if (!this.hasTimestamp(this.redRecoveryLog, timestamp)) {
                this.totalAudioPacketsRecoveredRed++;
                this.addTimestamp(this.redRecoveryLog, timestamp);
            }
            if (this.removeTimestamp(this.fecRecoveryLog, timestamp)) {
                /* istanbul ignore else */
                if (this.totalAudioPacketsRecoveredFec > 0)
                    this.totalAudioPacketsRecoveredFec--;
            }
        }
    }
    /**
     * Adds a timestamp to the fec recovery log if it is not present in
     * the primary packet log and red recovery log and if it is not too old.
     *
     * @param encoding : The encoding to be analyzed
     */
    updateFecStats(encoding) {
        if (!encoding.hasFec || this.totalAudioPacketsLost === 0)
            return;
        const fecTimestamp = encoding.timestamp - this.redPacketizationTime;
        if (this.hasTimestamp(this.primaryPacketLog, fecTimestamp) ||
            this.hasTimestamp(this.redRecoveryLog, fecTimestamp) ||
            this.hasTimestamp(this.fecRecoveryLog, fecTimestamp)) {
            return;
        }
        this.totalAudioPacketsRecoveredFec++;
        this.addTimestamp(this.fecRecoveryLog, fecTimestamp);
    }
    /**
     * Reports loss metrics to DefaultTransceiverController
     *
     * @param timestamp : Timestamp of most recent primary packet
     */
    maybeReportLossStats(ssrc, timestamp) {
        if (timestamp === undefined ||
            timestamp - this.lastLossReportTimestamp < this.lossReportInterval)
            return;
        /* istanbul ignore next */
        if (RedundantAudioEncoder.shouldReportStats) {
            // @ts-ignore
            self.postMessage({
                type: 'RedundantAudioEncoderStats',
                ssrc,
                totalAudioPacketsLost: this.totalAudioPacketsLost,
                totalAudioPacketsExpected: this.totalAudioPacketsExpected,
                totalAudioPacketsRecoveredRed: this.totalAudioPacketsRecoveredRed,
                totalAudioPacketsRecoveredFec: this.totalAudioPacketsRecoveredFec,
            });
        }
        this.lastLossReportTimestamp = timestamp;
    }
    /**
     * Adds a timestamp to a packet log
     *
     * @param packetLog : The packetlog to add the timestamp to
     * @param timestamp : The timestamp that should be added
     */
    addTimestamp(packetLog, timestamp) {
        if (timestamp === undefined) {
            return;
        }
        packetLog.window[packetLog.index] = timestamp;
        packetLog.index = (packetLog.index + 1) % packetLog.windowSize;
    }
    /**
     * Checks if a timestamp is in a packetlog
     *
     * @param packetLog : The packetlog to search
     * @param timestamp : The timestamp to search for
     * @returns true if timestamp is present, false otherwise
     */
    hasTimestamp(packetLog, timestamp) {
        const element = packetLog.window.find(t => t === timestamp);
        return !!element;
    }
    /**
     * Removes a timestamp from a packet log
     *
     * @param packetLog : The packetlog from which the timestamp should be removed
     * @param timestamp : The timestamp to be removed
     * @returns true if timestamp was present in the log and removed, false otherwise
     */
    removeTimestamp(packetLog, timestamp) {
        const index = packetLog.window.indexOf(timestamp);
        if (index >= 0) {
            packetLog.window[index] = undefined;
            return true;
        }
        return false;
    }
    /**
     * Removes a timestamp from red and fec recovery windows.
     *
     * @param timestamp : The timestamp to be removed
     */
    removeFromRecoveryWindows(timestamp) {
        let removed = this.removeTimestamp(this.redRecoveryLog, timestamp);
        if (removed) {
            if (this.totalAudioPacketsRecoveredRed > 0)
                this.totalAudioPacketsRecoveredRed--;
        }
        removed = this.removeTimestamp(this.fecRecoveryLog, timestamp);
        if (removed) {
            if (this.totalAudioPacketsRecoveredFec > 0)
                this.totalAudioPacketsRecoveredFec--;
        }
    }
    /**
     * Converts the supplied argument to 32-bit unsigned integer
     */
    uint32WrapAround(num) {
        const mod = 4294967296; // 2^32
        let res = num;
        if (num >= mod) {
            res = num - mod;
        }
        else if (num < 0) {
            res = mod + num;
        }
        return res;
    }
    /**
     * Converts the supplied argument to 16-bit signed integer
     */
    int16(num) {
        return (num << 16) >> 16;
    }
    /**
     * Determines if an Opus packet is in CELT-only mode.
     *
     * @param packet Opus packet.
     * @returns \`true\` if the packet is in CELT-only mode.
     */
    opusPacketIsCeltOnly(packet) {
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        // Since CELT-only packets are represented using configurations 16 to 31, the highest 'config' bit will always be 1
        // for CELT-only packets.
        return !!(packet.getUint8(0) & 0x80);
    }
    /**
     * Gets the number of samples per frame from an Opus packet.
     *
     * @param packet Opus packet. This must contain at least one byte of data.
     * @param sampleRateHz 32-bit integer sampling rate in Hz. This must be a multiple of 400 or inaccurate results will
     *                     be returned.
     * @returns Number of samples per frame.
     */
    opusPacketGetSamplesPerFrame(packet, sampleRateHz) {
        // Sample rate must be a 32-bit integer.
        sampleRateHz = Math.round(sampleRateHz);
        sampleRateHz = Math.min(Math.max(sampleRateHz, -(Math.pow(2, 32))), Math.pow(2, 32) - 1);
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        let numSamples;
        let frameSizeOption;
        // Case for CELT-only packet.
        if (this.opusPacketIsCeltOnly(packet)) {
            // The lower 3 'config' bits indicate the frame size option.
            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;
            // The frame size options 0, 1, 2, 3 correspond to frame sizes of 2.5, 5, 10, 20 ms. Notice that the frame sizes
            // can be represented as (2.5 * 2^0), (2.5 * 2^1), (2.5 * 2^2), (2.5 * 2^3) ms. So, the number of samples can be
            // calculated as follows:
            // (sample/s) * (1s/1000ms) * (2.5ms) * 2^(frameSizeOption)
            // = (sample/s) * (1s/400) * 2^(frameSizeOption)
            // = (sample/s) * 2^(frameSizeOption) * (1s/400)
            numSamples = (sampleRateHz << frameSizeOption) / 400;
        }
        // Case for Hybrid packet. Since Hybrid packets are represented using configurations 12 to 15, bits 1 and 2 in the
        // above TOC byte diagram will both be 1.
        else if ((packet.getUint8(0) & 0x60) === 0x60) {
            // In the case of configuration 13 or 15, bit 4 in the above TOC byte diagram will be 1. Configurations 13 and 15
            // correspond to a 20ms frame size, so the number of samples is calculated as follows:
            // (sample/s) * (1s/1000ms) * (20ms)
            // = (sample/s) * (1s/50)
            //
            // In the case of configuration 12 or 14, bit 4 in the above TOC byte diagram will be 0. Configurations 12 and 14
            // correspond to a 10ms frame size, so the number of samples is calculated as follows:
            // (sample/s) * (1s/1000ms) * (10ms)
            // = (sample/s) * (1s/100)
            numSamples = packet.getUint8(0) & 0x08 ? sampleRateHz / 50 : sampleRateHz / 100;
        }
        // Case for SILK-only packet.
        else {
            // The lower 3 'config' bits indicate the frame size option for SILK-only packets.
            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;
            if (frameSizeOption === 3) {
                // Frame size option 3 corresponds to a frame size of 60ms, so the number of samples is calculated as follows:
                // (sample/s) * (1s/1000ms) * (60ms)
                // = (sample/s) * (60ms) * (1s/1000ms)
                numSamples = (sampleRateHz * 60) / 1000;
            }
            else {
                // The frame size options 0, 1, 2 correspond to frame sizes of 10, 20, 40 ms. Notice that the frame sizes can be
                // represented as (10 * 2^0), (10 * 2^1), (10 * 2^2) ms. So, the number of samples can be calculated as follows:
                // (sample/s) * (1s/1000ms) * (10ms) * 2^(frameSizeOption)
                // = (sample/s) * (1s/100) * 2^(frameSizeOption)
                // = (sample/s) * 2^(frameSizeOption) * (1s/100)
                numSamples = (sampleRateHz << frameSizeOption) / 100;
            }
        }
        return numSamples;
    }
    /**
     * Gets the number of SILK frames per Opus frame.
     *
     * @param packet Opus packet.
     * @returns Number of SILK frames per Opus frame.
     */
    opusNumSilkFrames(packet) {
        // For computing the frame length in ms, the sample rate is not important since it cancels out. We use 48 kHz, but
        // any valid sample rate would work.
        //
        // To calculate the length of a frame (with a 48kHz sample rate) in ms:
        // (samples/frame) * (1s/48000 samples) * (1000ms/s)
        // = (samples/frame) * (1000ms/48000 samples)
        // = (samples/frame) * (1ms/48 samples)
        let frameLengthMs = this.opusPacketGetSamplesPerFrame(packet, 48000) / 48;
        if (frameLengthMs < 10)
            frameLengthMs = 10;
        // The number of SILK frames per Opus frame is described in https://www.rfc-editor.org/rfc/rfc6716#section-4.2.2.
        switch (frameLengthMs) {
            case 10:
            case 20:
                return 1;
            case 40:
                return 2;
            case 60:
                return 3;
            // It is not possible to reach the default case since an Opus packet can only encode sizes of 2.5, 5, 10, 20, 40,
            // or 60 ms, so we ignore the default case for test coverage.
            /* istanbul ignore next */
            default:
                return 0;
        }
    }
    /**
     * Gets the number of channels from an Opus packet.
     *
     * @param packet Opus packet.
     * @returns Number of channels.
     */
    opusPacketGetNumChannels(packet) {
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        // The 's' bit indicates mono or stereo audio, with 0 indicating mono and 1 indicating stereo.
        return packet.getUint8(0) & 0x4 ? 2 : 1;
    }
    /**
     * Determine the size (in bytes) of an Opus frame.
     *
     * @param packet Opus packet.
     * @param byteOffset Offset (from the start of the packet) to the byte containing the size information.
     * @param remainingBytes Remaining number of bytes to parse from the Opus packet.
     * @param sizeBytes Variable to store the parsed frame size (in bytes).
     * @returns Number of bytes that were parsed to determine the frame size.
     */
    opusParseSize(packet, byteOffset, remainingBytes, sizeBytes) {
        // See https://www.rfc-editor.org/rfc/rfc6716#section-3.2.1 for an explanation of how frame size is represented.
        // If there are no remaining bytes to parse the size from, then the size cannot be determined.
        if (remainingBytes < 1) {
            sizeBytes[0] = -1;
            return -1;
        }
        // If the first byte is in the range 0...251, then this value is the size of the frame.
        else if (packet.getUint8(byteOffset) < 252) {
            sizeBytes[0] = packet.getUint8(byteOffset);
            return 1;
        }
        // If the first byte is in the range 252...255, a second byte is needed. If there is no second byte, then the size
        // cannot be determined.
        else if (remainingBytes < 2) {
            sizeBytes[0] = -1;
            return -1;
        }
        // The total size of the frame given two size bytes is:
        // (4 * secondSizeByte) + firstSizeByte
        else {
            sizeBytes[0] = 4 * packet.getUint8(byteOffset + 1) + packet.getUint8(byteOffset);
            return 2;
        }
    }
    /**
     * Parse binary data containing an Opus packet into one or more Opus frames.
     *
     * @param data Binary data containing an Opus packet to be parsed. The data should begin with the first byte (i.e the
     *             TOC byte) of an Opus packet. Note that the size of the data does not have to equal the size of the
     *             contained Opus packet.
     * @param lenBytes Size of the data (in bytes).
     * @param selfDelimited Indicates if the Opus packet is self-delimiting
     *                      (https://www.rfc-editor.org/rfc/rfc6716#appendix-B).
     * @param tocByte Optional variable to store the TOC (table of contents) byte.
     * @param frameOffsets Optional variable to store the offsets (from the start of the data) to the first bytes of each
     *                     Opus frame.
     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.
     * @param payloadOffset Optional variable to store the offset (from the start of the data) to the first byte of the
     *                      payload.
     * @param packetLenBytes Optional variable to store the length of the Opus packet (in bytes).
     * @returns Number of Opus frames.
     */
    opusPacketParseImpl(data, lenBytes, selfDelimited, tocByte, frameOffsets, frameSizes, payloadOffset, packetLenBytes) {
        if (!frameSizes || lenBytes < 0)
            return this.OPUS_BAD_ARG;
        if (lenBytes === 0)
            return this.OPUS_INVALID_PACKET;
        // The number of Opus frames in the packet.
        let numFrames;
        // Intermediate storage for the number of bytes parsed to determine the size of a frame.
        let numBytesParsed;
        // The number of the padding bytes (excluding the padding count bytes) in the packet.
        let paddingBytes = 0;
        // Indicates whether CBR (constant bitrate) framing is used.
        let cbr = false;
        // The TOC (table of contents) byte (https://www.rfc-editor.org/rfc/rfc6716#section-3.1).
        const toc = data.getUint8(0);
        // Store the TOC byte.
        if (tocByte)
            tocByte[0] = toc;
        // The remaining number of bytes to parse from the packet. Note that the TOC byte has already been parsed, hence the
        // minus 1.
        let remainingBytes = lenBytes - 1;
        // This keeps track of where we are in the packet. This starts at 1 since the TOC byte has already been read.
        let byteOffset = 1;
        // The size of the last Opus frame in bytes.
        let lastSizeBytes = remainingBytes;
        // Read the \`c\` bits (i.e. code bits) from the TOC byte.
        switch (toc & 0x3) {
            // A code 0 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.2) has one frame.
            case 0:
                numFrames = 1;
                break;
            // A code 1 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.3) has two CBR (constant bitrate) frames.
            case 1:
                numFrames = 2;
                cbr = true;
                if (!selfDelimited) {
                    // Undelimited code 1 packets must be an even number of data bytes, otherwise the packet is invalid.
                    if (remainingBytes & 0x1)
                        return this.OPUS_INVALID_PACKET;
                    // The sizes of both frames are equal (i.e. half of the number of data bytes).
                    lastSizeBytes = remainingBytes / 2;
                    // If \`lastSizeBytes\` is too large, we will catch it later.
                    frameSizes[0][0] = lastSizeBytes;
                }
                break;
            // A code 2 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.4) has two VBR (variable bitrate) frames.
            case 2:
                numFrames = 2;
                numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[0]);
                remainingBytes -= numBytesParsed;
                // The parsed size of the first frame cannot be larger than the number of remaining bytes in the packet.
                if (frameSizes[0][0] < 0 || frameSizes[0][0] > remainingBytes) {
                    return this.OPUS_INVALID_PACKET;
                }
                byteOffset += numBytesParsed;
                // The size of the second frame is the remaining number of bytes after the first frame.
                lastSizeBytes = remainingBytes - frameSizes[0][0];
                break;
            // A code 3 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5) has multiple CBR/VBR frames (from 0 to
            // 120 ms).
            default:
                // Code 3 packets must have at least 2 bytes (i.e. at least 1 byte after the TOC byte).
                if (remainingBytes < 1)
                    return this.OPUS_INVALID_PACKET;
                // Frame count byte format:
                //  0
                //  0 1 2 3 4 5 6 7
                // +-+-+-+-+-+-+-+-+
                // |v|p|     M     |
                // +-+-+-+-+-+-+-+-+
                //
                // Read the frame count byte, which immediately follows the TOC byte.
                const frameCountByte = data.getUint8(byteOffset++);
                --remainingBytes;
                // Read the 'M' bits of the frame count byte, which encode the number of frames.
                numFrames = frameCountByte & 0x3f;
                // The number of frames in a code 3 packet must not be 0.
                if (numFrames <= 0)
                    return this.OPUS_INVALID_PACKET;
                const samplesPerFrame = this.opusPacketGetSamplesPerFrame(data, 48000);
                // A single frame can have at most 2880 samples, which happens in the case where 60ms of 48kHz audio is encoded
                // per frame. A code 3 packet cannot contain more than 120ms of audio, so the total number of samples cannot
                // exceed 2880 * 2 = 5760.
                if (samplesPerFrame * numFrames > 5760)
                    return this.OPUS_INVALID_PACKET;
                // Parse padding bytes if the 'p' bit is 1.
                if (frameCountByte & 0x40) {
                    let paddingCountByte;
                    let numPaddingBytes;
                    // Remove padding bytes (including padding count bytes) from the remaining byte count.
                    do {
                        // Sanity check that there are enough bytes to parse and remove the padding.
                        if (remainingBytes <= 0)
                            return this.OPUS_INVALID_PACKET;
                        // Get the next padding count byte.
                        paddingCountByte = data.getUint8(byteOffset++);
                        --remainingBytes;
                        // If the padding count byte has a value in the range 0...254, then the total size of the padding is the
                        // value in the padding count byte.
                        //
                        // If the padding count byte has value 255, then the total size of the padding is 254 plus the value in the
                        // next padding count byte. Therefore, keep reading padding count bytes while the value is 255.
                        numPaddingBytes = paddingCountByte === 255 ? 254 : paddingCountByte;
                        remainingBytes -= numPaddingBytes;
                        paddingBytes += numPaddingBytes;
                    } while (paddingCountByte === 255);
                }
                // Sanity check that the remaining number of bytes is not negative after removing the padding.
                if (remainingBytes < 0)
                    return this.OPUS_INVALID_PACKET;
                // Read the 'v' bit (i.e. VBR bit).
                cbr = !(frameCountByte & 0x80);
                // VBR case
                if (!cbr) {
                    lastSizeBytes = remainingBytes;
                    // Let M be the number of frames. There will be M - 1 frame length indicators (which can be 1 or 2 bytes)
                    // corresponding to the lengths of frames 0 to M - 2. The size of the last frame (i.e. frame M - 1) is the
                    // number of data bytes after the end of frame M - 2 and before the start of the padding bytes.
                    for (let i = 0; i < numFrames - 1; ++i) {
                        numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[i]);
                        remainingBytes -= numBytesParsed;
                        // The remaining number of data bytes must be enough to contain each frame.
                        if (frameSizes[i][0] < 0 || frameSizes[i][0] > remainingBytes) {
                            return this.OPUS_INVALID_PACKET;
                        }
                        byteOffset += numBytesParsed;
                        lastSizeBytes -= numBytesParsed + frameSizes[i][0];
                    }
                    // Sanity check that the size of the last frame is not negative.
                    if (lastSizeBytes < 0)
                        return this.OPUS_INVALID_PACKET;
                }
                // CBR case
                else if (!selfDelimited) {
                    // The size of each frame is the number of data bytes divided by the number of frames.
                    lastSizeBytes = Math.trunc(remainingBytes / numFrames);
                    // The number of data bytes must be a non-negative integer multiple of the number of frames.
                    if (lastSizeBytes * numFrames !== remainingBytes)
                        return this.OPUS_INVALID_PACKET;
                    // All frames have equal size in the undelimited CBR case.
                    for (let i = 0; i < numFrames - 1; ++i) {
                        frameSizes[i][0] = lastSizeBytes;
                    }
                }
        }
        // Self-delimited framing uses an extra 1 or 2 bytes, immediately preceding the data bytes, to indicate either the
        // size of the last frame (for code 0, code 2, and VBR code 3 packets) or the size of all the frames (for code 1 and
        // CBR code 3 packets). See https://www.rfc-editor.org/rfc/rfc6716#appendix-B.
        if (selfDelimited) {
            // The extra frame size byte(s) will always indicate the size of the last frame.
            numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[numFrames - 1]);
            remainingBytes -= numBytesParsed;
            // There must be enough data bytes for the last frame.
            if (frameSizes[numFrames - 1][0] < 0 || frameSizes[numFrames - 1][0] > remainingBytes) {
                return this.OPUS_INVALID_PACKET;
            }
            byteOffset += numBytesParsed;
            // For CBR packets, the sizes of all the frames are equal.
            if (cbr) {
                // There must be enough data bytes for all the frames.
                if (frameSizes[numFrames - 1][0] * numFrames > remainingBytes) {
                    return this.OPUS_INVALID_PACKET;
                }
                for (let i = 0; i < numFrames - 1; ++i) {
                    frameSizes[i][0] = frameSizes[numFrames - 1][0];
                }
            }
            // At this point, \`lastSizeBytes\` contains the size of the last frame plus the size of the extra frame size
            // byte(s), so sanity check that \`lastSizeBytes\` is the upper bound for the size of the last frame.
            else if (!(numBytesParsed + frameSizes[numFrames - 1][0] <= lastSizeBytes)) {
                return this.OPUS_INVALID_PACKET;
            }
        }
        // Undelimited case
        else {
            // Because the size of the last packet is not encoded explicitly, it is possible that the size of the last packet
            // (or of all the packets, for the CBR case) is larger than maximum frame size.
            if (lastSizeBytes > this.OPUS_MAX_FRAME_SIZE_BYTES)
                return this.OPUS_INVALID_PACKET;
            frameSizes[numFrames - 1][0] = lastSizeBytes;
        }
        // Store the offset to the start of the payload.
        if (payloadOffset)
            payloadOffset[0] = byteOffset;
        // Store the offsets to the start of each frame.
        for (let i = 0; i < numFrames; ++i) {
            if (frameOffsets)
                frameOffsets[i][0] = byteOffset;
            byteOffset += frameSizes[i][0];
        }
        // Store the length of the Opus packet.
        if (packetLenBytes)
            packetLenBytes[0] = byteOffset + paddingBytes;
        return numFrames;
    }
    /**
     * Parse a single undelimited Opus packet into one or more Opus frames.
     *
     * @param packet Opus packet to be parsed.
     * @param lenBytes Size of the packet (in bytes).
     * @param tocByte Optional variable to store the TOC (table of contents) byte.
     * @param frameOffsets Optional variable to store the offsets (from the start of the packet) to the first bytes of
     *                     each Opus frame.
     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.
     * @param payloadOffset Optional variable to store the offset (from the start of the packet) to the first byte of the
     *                      payload.
     * @returns Number of Opus frames.
     */
    opusPacketParse(packet, lenBytes, tocByte, frameOffsets, frameSizes, payloadOffset) {
        return this.opusPacketParseImpl(packet, lenBytes, 
        /* selfDelimited */ false, tocByte, frameOffsets, frameSizes, payloadOffset, null);
    }
    /**
     * This function returns the SILK VAD (voice activity detection) information encoded in the Opus packet. For CELT-only
     * packets that do not have VAD information, it returns -1.
     *
     * @param packet Opus packet.
     * @param lenBytes Size of the packet (in bytes).
     * @returns  0: no frame had the VAD flag set.
     *           1: at least one frame had the VAD flag set.
     *          -1: VAD status could not be determined.
     */
    opusPacketHasVoiceActivity(packet, lenBytes) {
        if (!packet || lenBytes <= 0)
            return 0;
        // In CELT-only mode, we can not determine whether there is VAD.
        if (this.opusPacketIsCeltOnly(packet))
            return -1;
        const numSilkFrames = this.opusNumSilkFrames(packet);
        // It is not possible for \`opusNumSilkFrames()\` to return 0, so we ignore the next sanity check for test coverage.
        /* istanbul ignore next */
        if (numSilkFrames === 0)
            return -1;
        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);
        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);
        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {
            opusFrameOffsets[i] = [undefined];
            opusFrameSizes[i] = [undefined];
        }
        // Parse packet to get the Opus frames.
        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);
        // VAD status cannot be determined for invalid packets.
        if (numOpusFrames < 0)
            return -1;
        // Iterate over all Opus frames, which may contain multiple SILK frames, to determine the VAD status.
        for (let i = 0; i < numOpusFrames; ++i) {
            if (opusFrameSizes[i][0] < 1)
                continue;
            // LP layer header bits format (https://www.rfc-editor.org/rfc/rfc6716#section-4.2.3):
            //
            // Mono case:
            // +-----------------+----------+
            // | 1 to 3 VAD bits | LBRR bit |
            // +-----------------+----------+
            //
            // Stereo case:
            // +---------------------+--------------+----------------------+---------------+
            // | 1 to 3 mid VAD bits | mid LBRR bit | 1 to 3 side VAD bits | side LBRR bit |
            // +---------------------+--------------+----------------------+---------------+
            // The upper 1 to 3 bits (dependent on the number of SILK frames) of the LP layer contain VAD bits. If any of
            // these VAD bits are 1, then voice activity is present.
            if (packet.getUint8(opusFrameOffsets[i][0]) >> (8 - numSilkFrames))
                return 1;
            // In the stereo case, there is a second set of 1 to 3 VAD bits, so also check these VAD bits.
            const channels = this.opusPacketGetNumChannels(packet);
            if (channels === 2 &&
                (packet.getUint8(opusFrameOffsets[i][0]) << (numSilkFrames + 1)) >> (8 - numSilkFrames)) {
                return 1;
            }
        }
        // No voice activity was detected.
        return 0;
    }
    /**
     * This method is based on Definition of the Opus Audio Codec
     * (https://tools.ietf.org/html/rfc6716). Basically, this method is based on
     * parsing the LP layer of an Opus packet, particularly the LBRR flag.
     *
     * @param packet Opus packet.
     * @param lenBytes Size of the packet (in bytes).
     * @returns  true: packet has fec encoding about previous packet.
     *           false: no fec encoding present.
     */
    opusPacketHasFec(packet, lenBytes) {
        if (!packet || lenBytes <= 0)
            return false;
        // In CELT-only mode, packets should not have FEC.
        if (this.opusPacketIsCeltOnly(packet))
            return false;
        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);
        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);
        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {
            opusFrameOffsets[i] = [undefined];
            opusFrameSizes[i] = [undefined];
        }
        // Parse packet to get the Opus frames.
        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);
        if (numOpusFrames < 0)
            return false;
        /* istanbul ignore next */
        if (opusFrameSizes[0][0] <= 1)
            return false;
        const numSilkFrames = this.opusNumSilkFrames(packet);
        /* istanbul ignore next */
        if (numSilkFrames === 0)
            return false;
        const channels = this.opusPacketGetNumChannels(packet);
        /* istanbul ignore next */
        if (channels !== 1 && channels !== 2)
            return false;
        // A frame starts with the LP layer. The LP layer begins with two to eight
        // header bits.These consist of one VAD bit per SILK frame (up to 3),
        // followed by a single flag indicating the presence of LBRR frames.
        // For a stereo packet, these first flags correspond to the mid channel, and
        // a second set of flags is included for the side channel. Because these are
        // the first symbols decoded by the range coder and because they are coded
        // as binary values with uniform probability, they can be extracted directly
        // from the most significant bits of the first byte of compressed data.
        for (let i = 0; i < channels; i++) {
            if (packet.getUint8(opusFrameOffsets[0][0]) & (0x80 >> ((i + 1) * (numSilkFrames + 1) - 1)))
                return true;
        }
        return false;
    }
}
RedundantAudioEncoder.shouldLog = true;
RedundantAudioEncoder.shouldReportStats = true;
RedundantAudioEncoder.initializeWorker();
`;l.default=c},7416186200:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6376806429));let m=n(class extends h.default{static nextTick(a){setTimeout(a,0)}constructor(){super(0)}},"AsyncScheduler");l.default=m},7080398225:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{start(h){this.stop(),this.timer=setInterval(h,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(h){this.intervalMs=h}},"IntervalScheduler");l.default=c},6376806429:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{start(h){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),h()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(h){this.timeoutMs=h,this.timer=null}},"TimeoutScheduler");l.default=c},5603242550:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4526495239)),m=d(c(4041719349)),p=d(c(6375844864));let a=n(class xi{clone(){return new xi(this.sdp)}static isRTPCandidate(i){const e=/candidate[:](\S+) (\d+)/g.exec(i);return!(e===null||e[2]!=="1")}static linesToSDP(i){return new xi(i.join(xi.CRLF))}static candidateTypeFromString(i){switch(i){case h.default.Host:return h.default.Host;case h.default.ServerReflexive:return h.default.ServerReflexive;case h.default.PeerReflexive:return h.default.PeerReflexive;case h.default.Relay:return h.default.Relay}return null}static candidateType(i){const e=/a[=]candidate[:].* typ ([a-z]+) /g.exec(i);return e===null?null:xi.candidateTypeFromString(e[1])}static mediaType(i){const e=/m=(audio|video)/g.exec(i);if(e!==null)return e[1]}static mid(i){if(i.includes("a=mid:"))return i.replace(/^(a=mid:)/,"")}static direction(i){const e=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(i);if(e!==null)return e[1]}static splitLines(i){return i.trim().split(`
`).map(e=>e.trim())}static splitSections(i){return i.split(`
m=`).map((t,r)=>(r>0?"m="+t:t).trim()+xi.CRLF)}static findActiveCameraSection(i){let e=0,t=!1;for(const r of i){if(/^m=video/.test(r)&&(r.indexOf("sendrecv")>-1||r.indexOf("sendonly")===-1&&r.indexOf("recvonly")===-1&&r.indexOf("inactive")===-1)){t=!0;break}e++}return t===!1&&(e=-1),e}static extractSSRCsFromFIDGroupLine(i){return/^a=ssrc-group:FID\s(.+)/.exec(i)[1]}static matchPrefix(i,e){return xi.splitLines(i).filter(t=>t.indexOf(e)===0)}lines(){return this.sdp.split(xi.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(i){return xi.linesToSDP(this.lines().filter(e=>xi.candidateType(e)!==i))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(h.default.ServerReflexive)}withAudioMaxAverageBitrate(i){if(!i)return this.clone();i=Math.trunc(Math.min(Math.max(i,xi.rfc7587LowestBitrate),xi.rfc7587HighestBitrate));const e=this.lines(),t=xi.findOpusFmtpAttributes(e),r=xi.updateOpusFmtpAttributes(e,t,[`maxaveragebitrate=${i}`]);return xi.linesToSDP(r)}withStereoAudio(){const i=this.lines(),e=xi.findOpusFmtpAttributes(i),t=xi.updateOpusFmtpAttributes(i,e,["stereo=1","sprop-stereo=1"]);return xi.linesToSDP(t)}static findOpusFmtpAttributes(i){const e=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let t=!1;const r=[];for(const o of i)if(o.startsWith("m=audio")&&(r.push(null),t=!0),o.startsWith("m=video")&&(t=!1),t){const f=e.exec(o);f!==null&&(r[r.length-1]=`a=fmtp:${f[1]} `)}return r}static updateOpusFmtpAttributes(i,e,t){const r=[];let o=0,f=null;for(const g of i)if(g.startsWith("m=audio")&&(f=e[o],o++),g.startsWith("m=video")&&(f=null),f&&g.startsWith(f)){const v=g.slice(f.length).split(";"),u=[];for(const S of v)t.findIndex(b=>b.startsWith(S.split("=")[0]))<0&&u.push(S);for(const S of t)u.push(S);r.push(f+u.join(";"))}else r.push(g);return r}withUnifiedPlanFormat(){let i=this.sdp;return i.includes("mozilla")?this.clone():(i=i.replace("o=-","o=mozilla-chrome"),new xi(i))}getUniqueRtpHeaderExtensionId(i){const e=[];for(const r of i)if(/^a=extmap:/.test(r.trim())){const f=+r.split("a=extmap:")[1].split(" ")[0];e.includes(f)||e.push(f)}e.sort((r,o)=>r-o);let t=0;for(const r of e){if(r-t>1)return t+1;t=r}return t===14?-1:t+1}withVideoLayersAllocationRtpHeaderExtension(i){return this.withRtpHeaderExtension(i,xi.videoLayersAllocationRtpHeaderExtensionUrl)}withDependencyDescriptorRtpHeaderExtension(i){return this.withRtpHeaderExtension(i,xi.dependencyDescriptorRtpHeaderExtensionUrl)}withoutDependencyDescriptorRtpHeaderExtension(){const i=xi.splitLines(this.sdp).filter(e=>!e.includes(xi.dependencyDescriptorRtpHeaderExtensionUrl));return new xi(i.join(xi.CRLF)+xi.CRLF)}withRtpHeaderExtension(i,e){const t=i?i.getRtpHeaderExtensionId(e):-1,r=t===-1?this.getUniqueRtpHeaderExtensionId(xi.splitLines(this.sdp)):t,o=xi.splitSections(this.sdp),f=[];for(let v of o){if(/^m=video/.test(v)&&xi.getRtpHeaderExtensionIdInSection(v,e)===-1){const u=xi.splitLines(v),S=[];if(r===-1||this.hasRtpHeaderExtensionId(r)){f.push(v);continue}for(const _ of u)if(S.push(_),/^a=sendrecv/.test(_.trim())){const b="a=extmap:"+r+" "+e;S.push(b)}v=S.join(xi.CRLF)+xi.CRLF}else if(t!==-1&&/^m=video/.test(v)&&xi.getRtpHeaderExtensionIdInSection(v,e)!==t){const u=xi.splitLines(v),S=[];for(const _ of u){if(/^a=extmap:/.test(_.trim())&&_.split("a=extmap:")[1].split(" ")[1]===e){if(!this.hasRtpHeaderExtensionId(t)){const E="a=extmap:"+t+" "+e;S.push(E)}continue}S.push(_)}v=S.join(xi.CRLF)+xi.CRLF}f.push(v)}const g=f.join("");return new xi(g)}ssrcForVideoSendingSection(){const i=this.sdp,e=xi.splitSections(i);if(e.length<2)return"";const t=xi.findActiveCameraSection(e);if(t===-1)return"";const r=xi.matchPrefix(e[t],"a=ssrc-group:FID ");if(r.length<1)return"";const o=xi.extractSSRCsFromFIDGroupLine(r[0]),[f]=o.split(" ").map(g=>parseInt(g,10));return f.toString()}videoSendSectionHasDifferentSSRC(i){const e=this.ssrcForVideoSendingSection(),t=i.ssrcForVideoSendingSection();if(e===""||t==="")return!1;const r=parseInt(e,10),o=parseInt(t,10);return r!==o}removeH264SupportFromSendSection(){const i=this.sdp,e=xi.splitSections(i),t=xi.findActiveCameraSection(e);if(t===-1)return new xi(this.sdp);const r=e[t],o=xi.splitLines(r),f=[],g=new Map;o.forEach(_=>{if(/^a=rtpmap:/.test(_)){const b=/^a=rtpmap:([0-9]+)\s/.exec(_);b&&_.toLowerCase().includes("h264")&&f.push(parseInt(b[1],10))}if(/^a=fmtp:/.test(_)){const b=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(_);if(b&&b.length===3){const E=parseInt(b[1],10),T=parseInt(b[2],10);g.has(T)?g.get(T).push(E):g.set(T,[E])}}});const v=new Set;for(const _ of f){v.add(_);const b=g.get(_);if(b)for(const E of b)v.add(E)}if(f.length>0){const _=o[0].split(" ");o[0]=_.filter(b=>!v.has(parseInt(b))).join(" ")}const u=o.filter(_=>{if(!_.includes("rtpmap")&&!_.includes("rtcp-fb")&&!_.includes("fmtp"))return!0;for(const b of v)if(_.includes(b.toString()))return!1;return!0});e[t]=u.join(xi.CRLF)+xi.CRLF;const S=e.join("");return new xi(S)}mediaSections(){const i=xi.splitSections(this.sdp);if(i.length<2)return[];const e=[];for(let t=1;t<i.length;t++){const r=new m.default,o=xi.splitLines(i[t]);for(const f of o){const g=xi.mediaType(f);if(g!==void 0){r.mediaType=g;continue}const v=xi.direction(f);if(v!==void 0){r.direction=v;continue}const u=xi.mid(f);if(u!==void 0){r.mid=u;continue}}e.push(r)}return e}static getRtpHeaderExtensionIdInSection(i,e){const t=xi.splitLines(i);for(const r of t)if(/^a=extmap:/.test(r.trim())){const o=r.split("a=extmap:")[1].split(" "),f=+o[0];if(o[1]===e)return f}return-1}getRtpHeaderExtensionId(i){const e=xi.splitSections(this.sdp);for(const t of e)if(/^m=video/.test(t)){const r=xi.getRtpHeaderExtensionIdInSection(t,i);if(r!==-1)return r}return-1}hasRtpHeaderExtensionId(i){const e=xi.splitLines(this.sdp);for(const t of e)if(/^a=extmap:/.test(t.trim())&&+t.split("a=extmap:")[1].split(" ")[0]===i)return!0;return!1}withVideoSendCodecPreferences(i){const e=this.sdp,t=xi.splitSections(e),r=xi.findActiveCameraSection(t);if(r===-1)return new xi(this.sdp);t[r]=this.sectionWithCodecPreferences(t[r],i);const o=t.join("");return new xi(o)}sectionWithCodecPreferences(i,e){const t=new Map,r=xi.splitLines(i);r.forEach(v=>{if(!v.startsWith("a=rtpmap:"))return;const u=/^a=rtpmap:(\d+)\s/.exec(v);if(!u)return;const S=u[1];for(const _ of e){if(!v.includes(`${_.codecName}/${_.codecCapability.clockRate}`))continue;let b=!1;if(_.codecCapability.sdpFmtpLine!==void 0){let E=!1;for(const T of r){if(_.fmtpLineMatches(T,parseInt(S))){b=!0;break}E||(E=T.startsWith(`a=fmtp:${S} profile-id=`))}_.equals(p.default.vp9Profile0())&&!E&&(b=!0)}else b=!0;if(b){t.set(S,_);break}}});const o=new Set(t.keys()),f=r[0].split(" ").filter(v=>!o.has(v)),g=Array.from(t.entries()).sort((v,u)=>{let[S,_]=v,[b,E]=u;const T=e.indexOf(_),I=e.indexOf(E);return T-I}).map(v=>{let[u,S]=v;return u});return f.splice(3,0,...g),r[0]=f.join(" "),r.join(xi.CRLF)+xi.CRLF}highestPriorityVideoSendCodec(){const i=this.prioritizedSendVideoCodecCapabilities();return i.length>0?i[0]:void 0}prioritizedSendVideoCodecCapabilities(){const i=this.sdp,e=xi.splitSections(i),t=xi.findActiveCameraSection(e);if(t===-1)return[];const r=xi.splitLines(e[t]),o=r[0].split(" ");return o.length<4?[]:o.slice(3).map(v=>this.videoCodecCapabilityForPayloadType(r,v)).filter(v=>v!==void 0&&["VP8","H264","VP9","AV1"].includes(v.codecName))}videoCodecCapabilityForPayloadType(i,e){let t,r,o;for(const f of i){const g=/^a=rtpmap:([0-9]+)\s/.exec(f);if(g&&g[1]===e){const u=f.split(" ")[1].split("/");u.length>=2&&(t=u[0],r=u[1])}f.startsWith(`a=fmtp:${e} `)&&(o=f.split(" ")[1])}if(t!==void 0)return new p.default(t,{clockRate:parseInt(r),mimeType:`video/${t}`,sdpFmtpLine:o})}getAudioPayloadTypes(){const i=new Map,e=this.sdp,t=xi.splitSections(e);return i.set("opus",xi.findAudioPayloadType("opus",t)),i.set("red",xi.findAudioPayloadType("red",t)),i}static findAudioPayloadType(i,e){const t=`a=rtpmap:\\s*(\\d+)\\s+${i}\\/48000`,r=new RegExp(t);for(const o of e)if(/^m=audio/.test(o)){const f=r.exec(o);if(f!==null)return Number(f[1])}return 0}withStartingVideoSendBitrate(i){const e=xi.splitSections(this.sdp),t=xi.findActiveCameraSection(e);if(t===-1)return this;const r=xi.splitLines(e[t]),o=[];for(const g of r)if(/^a=fmtp:\d*/.test(g)){const v=g+`;x-google-start-bitrate=${i}`;o.push(v)}else o.push(g);e[t]=o.join(xi.CRLF)+xi.CRLF;const f=e.join("");return new xi(f)}constructor(i){this.sdp=i}},"SDP");l.default=a,a.CRLF=`\r
`,a.rfc7587LowestBitrate=6e3,a.rfc7587HighestBitrate=51e4,a.dependencyDescriptorRtpHeaderExtensionUrl="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension",a.videoLayersAllocationRtpHeaderExtensionUrl="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"},4526495239:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SDPCandidateType=void 0;var c;(function(d){d.Host="host",d.ServerReflexive="srflx",d.PeerReflexive="prflx",d.Relay="relay"})(c=l.SDPCandidateType||(l.SDPCandidateType={})),l.default=c},4041719349:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"SDPMediaSection");l.default=c},6375844864:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(7344258710);let h=n(class Bs{equals(p){if(p===void 0||this.codecName!==p.codecName||this.codecCapability.mimeType!==p.codecCapability.mimeType||this.codecCapability.clockRate!==p.codecCapability.clockRate)return!1;const a=this.codecCapability.sdpFmtpLine?this.cleanupFmtpLine(this.codecCapability.sdpFmtpLine,this.codecName):"",s=p.codecCapability.sdpFmtpLine?this.cleanupFmtpLine(p.codecCapability.sdpFmtpLine,p.codecName):"";return a===s}fmtpLineMatches(p,a){const s=this.codecCapability.sdpFmtpLine;if(!s)return!1;const i=`a=fmtp:${a} `;if(!p.startsWith(i))return!1;const e=p.substring(i.length);return this.cleanupFmtpLine(e,this.codecName)===this.cleanupFmtpLine(s,this.codecName)}cleanupFmtpLine(p,a){const s=/;x-google-start-bitrate=\d+/g;let i=p.replace(s,"");if(a==="H264"){const e=/profile-level-id=([0-9a-f]{4})[0-9a-f]{2}/i;i=i.replace(e,"profile-level-id=$1")}return i}static vp8(){return new Bs("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264BaselineProfile(){return new Bs("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f"})}static h264ConstrainedBaselineProfile(){return new Bs("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264MainProfile(){return new Bs("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f"})}static h264HighProfile(){return new Bs("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f"})}static h264ConstrainedHighProfile(){return new Bs("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f"})}static h264(){return Bs.h264ConstrainedBaselineProfile()}static vp9Profile0(){return new Bs("VP9",{clockRate:9e4,mimeType:"video/VP9",sdpFmtpLine:"profile-id=0"})}static vp9(){return Bs.vp9Profile0()}static av1Main(){return new Bs("AV1",{clockRate:9e4,mimeType:"video/AV1"})}static av1(){return Bs.av1Main()}static fromSignaled(p){switch(p){case d.SdkVideoCodecCapability.VP8:return Bs.vp8();case d.SdkVideoCodecCapability.H264_BASELINE_PROFILE:return Bs.h264BaselineProfile();case d.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return Bs.h264ConstrainedBaselineProfile();case d.SdkVideoCodecCapability.H264_MAIN_PROFILE:return Bs.h264MainProfile();case d.SdkVideoCodecCapability.H264_HIGH_PROFILE:return Bs.h264HighProfile();case d.SdkVideoCodecCapability.H264_CONSTRAINED_HIGH_PROFILE:return Bs.h264ConstrainedHighProfile();case d.SdkVideoCodecCapability.VP9_PROFILE_0:return Bs.vp9Profile0();case d.SdkVideoCodecCapability.AV1_MAIN_PROFILE:return Bs.av1Main();default:return}}constructor(p,a){this.codecName=p,this.codecCapability=a}},"VideoCodecCapability");l.default=h},9530736010:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(8188990747);let h=n(class fp{compress(p,a){if(a.length>0){const e=Math.min(a.length,fp.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={memLevel:fp.Z_MEM_LEVEL,dictionary:a};return d.deflateRaw(p,s)}decompress(p,a){if(a.length>0){const e=Math.min(a.length,fp.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=d.inflateRaw(p,s)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(p){this.logger=p}},"ZLIBTextCompressor");l.default=h,h.Z_MEM_LEVEL=9,h.MAX_DICTIONARY_SIZE=31744},6160394281:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(2981760980),h=c(1929156046),m=c(728914651),p=c(5798697844);let a=n(class{perform(i,e){const t=this.currentState;if(t===m.SessionStateControllerState.NotConnected&&i===d.SessionStateControllerAction.Connect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===d.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===d.SessionStateControllerAction.FinishConnecting)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Disconnect)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Reconnect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Update)this.transition(m.SessionStateControllerState.Updating,i);else if(t===m.SessionStateControllerState.Updating&&i===d.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Updating&&i===d.SessionStateControllerAction.FinishUpdating)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Disconnecting&&i===d.SessionStateControllerAction.FinishDisconnecting)this.transition(m.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${m.SessionStateControllerState[this.currentState]} with ${d.SessionStateControllerAction[i]}`),this.deferAction(i,e),p.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${m.SessionStateControllerState[this.currentState]} with ${d.SessionStateControllerAction[i]}`),p.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(r){return this.logger.error(`error during state ${m.SessionStateControllerState[this.currentState]} with action ${d.SessionStateControllerAction[i]}: ${r}`),this.logger.info(`rolling back transition to ${m.SessionStateControllerState[t]}`),this.currentState=t,p.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),p.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${m.SessionStateControllerState[this.currentState]} to ${m.SessionStateControllerState[i]} with ${d.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case d.SessionStateControllerAction.Disconnect:return h.SessionStateControllerDeferPriority.VeryHigh;case d.SessionStateControllerAction.Fail:return h.SessionStateControllerDeferPriority.High;case d.SessionStateControllerAction.Reconnect:return h.SessionStateControllerDeferPriority.Medium;case d.SessionStateControllerAction.Update:return h.SessionStateControllerDeferPriority.Low;default:return h.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==h.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===m.SessionStateControllerState.Connecting||this.currentState===m.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${d.SessionStateControllerAction[i]}`),this.perform(i,e)!==p.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${d.SessionStateControllerAction[i]} in state ${m.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=m.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");l.default=a},2981760980:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerAction=void 0;var c;(function(d){d[d.Connect=0]="Connect",d[d.FinishConnecting=1]="FinishConnecting",d[d.Update=2]="Update",d[d.FinishUpdating=3]="FinishUpdating",d[d.Reconnect=4]="Reconnect",d[d.Disconnect=5]="Disconnect",d[d.Fail=6]="Fail",d[d.FinishDisconnecting=7]="FinishDisconnecting"})(c=l.SessionStateControllerAction||(l.SessionStateControllerAction={})),l.default=c},1929156046:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerDeferPriority=void 0;var c;(function(d){d[d.DoNotDefer=0]="DoNotDefer",d[d.Low=1]="Low",d[d.Medium=2]="Medium",d[d.High=3]="High",d[d.VeryHigh=4]="VeryHigh"})(c=l.SessionStateControllerDeferPriority||(l.SessionStateControllerDeferPriority={})),l.default=c},728914651:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerState=void 0;var c;(function(d){d[d.NotConnected=0]="NotConnected",d[d.Connecting=1]="Connecting",d[d.Connected=2]="Connected",d[d.Updating=3]="Updating",d[d.Disconnecting=4]="Disconnecting"})(c=l.SessionStateControllerState||(l.SessionStateControllerState={})),l.default=c},5798697844:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerTransitionResult=void 0;var c;(function(d){d[d.Transitioned=0]="Transitioned",d[d.NoTransitionAvailable=1]="NoTransitionAvailable",d[d.DeferredTransition=2]="DeferredTransition",d[d.TransitionFailed=3]="TransitionFailed"})(c=l.SessionStateControllerTransitionResult||(l.SessionStateControllerTransitionResult={})),l.default=c},8384002519:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(570155317)),m=d(c(6376806429)),p=c(7344258710),a=c(759573094),s=d(c(1877666836)),i=d(c(9648677690)),e=d(c(6363507833)),t=c(498975381),r=d(c(5787590482)),o=d(c(201131498));let f=n(class Mf{registerObserver(v){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(v)}removeObserver(v){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(v)}openConnection(v){this.logger.info("adding connection request to queue: "+v.url()),this.connectionRequestQueue.push(v),this.closeConnection()}pingPong(v){this.logger.debug(()=>"sending ping");const u=p.SdkSignalFrame.create();return u.type=p.SdkSignalFrame.Type.PING_PONG,u.pingPong=v,this.sendMessage(u),u.timestampMs}join(v){this.logger.info("sending join");const u=p.SdkJoinFrame.create();u.protocolVersion=2,u.flags=p.SdkJoinFlags.HAS_STREAM_UPDATE;const S=new h.default,_={platformName:S.name(),platformVersion:S.version(),clientSource:s.default.sdkName,chimeSdkVersion:s.default.sdkVersion,clientUtcOffset:a.getFormattedOffset(new Date().getTimezoneOffset())};if(v.applicationMetadata){const{appName:E,appVersion:T}=v.applicationMetadata;_.appName=E,_.appVersion=T}u.clientDetails=p.SdkClientDetails.create(_),u.audioSessionId=this.audioSessionId,u.wantsCompressedSdp=Mf.CLIENT_SUPPORTS_COMPRESSION,u.disablePeriodicKeyframeRequestOnContentSender=v.disablePeriodicKeyframeRequestOnContentSender,u.serverSideNetworkAdaption=t.convertServerSideNetworkAdaptionEnumToSignaled(v.serverSideNetworkAdaption),u.supportedServerSideNetworkAdaptions=v.supportedServerSideNetworkAdaptions.map(t.convertServerSideNetworkAdaptionEnumToSignaled),u.wantsAllTemporalLayersInIndex=v.wantsAllTemporalLayersInIndex;const b=p.SdkSignalFrame.create();b.type=p.SdkSignalFrame.Type.JOIN,b.join=u,this.sendMessage(b)}subscribe(v){const u=p.SdkSubscribeFrame.create();if(u.sendStreams=[],u.sdpOffer=v.sdpOffer,v.connectionTypeHasVideo&&(u.receiveStreamIds=v.receiveStreamIds),v.audioHost&&(u.audioCheckin=v.audioCheckin,u.audioHost=v.audioHost,u.audioMuted=v.audioMuted,!v.audioCheckin)){const _=p.SdkStreamDescriptor.create();_.mediaType=p.SdkStreamMediaType.AUDIO,_.trackLabel="AmazonChimeExpressAudio",_.attendeeId=v.attendeeId,_.streamId=1,_.groupId=1,_.framerate=15,_.maxBitrateKbps=600,_.avgBitrateBps=4e5,u.sendStreams.push(_)}if(u.compressedSdpOffer=v.compressedSdpOffer,u.duplex=p.SdkStreamServiceType.RX,v.localVideoEnabled){u.duplex=p.SdkStreamServiceType.DUPLEX;for(let _=0;_<v.videoStreamDescriptions.length;_++){const b=v.videoStreamDescriptions[_].clone();b.attendeeId=v.attendeeId,u.sendStreams.push(b.toStreamDescriptor())}}v.videoSubscriptionConfiguration.length>0&&(u.videoSubscriptionConfiguration=v.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const S=p.SdkSignalFrame.create();S.type=p.SdkSignalFrame.Type.SUBSCRIBE,S.sub=u,this.sendMessage(S)}remoteVideoUpdate(v,u){const S=p.SdkRemoteVideoUpdateFrame.create();S.addedOrUpdatedVideoSubscriptions=v.map(this.convertSignalingClientVideoSubscriptionConfiguration),S.removedVideoSubscriptionMids=u;const _=p.SdkSignalFrame.create();_.type=p.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,_.remoteVideoUpdate=S,this.sendMessage(_)}convertSignalingClientVideoSubscriptionConfiguration(v){const u=new p.SdkVideoSubscriptionConfiguration;switch(u.mid=v.mid,u.attendeeId=v.attendeeId,u.streamId=v.streamId,u.groupId=v.groupId,u.priority=v.priority,u.targetBitrateKbps=v.targetBitrateKbps,v.qualityAdaptationPreference){case i.default.Balanced:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.BALANCED;break;case i.default.MaintainFramerate:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.MAINTAIN_FRAMERATE;break;case i.default.MaintainResolution:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.MAINTAIN_RESOLUTION;break;default:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.BALANCED}return u}leave(){const v=p.SdkSignalFrame.create();v.type=p.SdkSignalFrame.Type.LEAVE,v.leave=p.SdkLeaveFrame.create(),this.sendMessage(v),this.logger.debug(()=>"sent leave")}sendClientMetrics(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.CLIENT_METRIC,u.clientMetric=v,this.sendMessage(u)}sendDataMessage(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.DATA_MESSAGE,u.dataMessage=v,this.sendMessage(u)}closeConnection(){var v,u;if(this.webSocket.readyState()!==e.default.None&&this.webSocket.readyState()!==e.default.Closed){this.isClosing=!0,this.sendEvent(new r.default(this,o.default.WebSocketClosing,null));const S=new m.default(Mf.CLOSE_EVENT_TIMEOUT_MS),_=n(b=>{var E,T;(T=(E=this.webSocket).removeEventListener)===null||T===void 0||T.call(E,"close",_),S.stop(),this.closeEventHandler(b)},"handler");(u=(v=this.webSocket).removeEventListener)===null||u===void 0||u.call(v,"close",this.closeEventHandler),this.webSocket.addEventListener("close",_),S.start(()=>{_(new CloseEvent("close",{wasClean:!1,code:1005,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===e.default.Open&&!this.isClosing&&this.wasOpened}mute(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.AUDIO_CONTROL;const S=p.SdkAudioControlFrame.create();S.muted=v,u.audioControl=S,this.sendMessage(u)}pause(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.PAUSE,u.pause=p.SdkPauseResumeFrame.create(),u.pause.streamIds=v,this.sendMessage(u)}resume(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.RESUME,u.pause=p.SdkPauseResumeFrame.create(),u.pause.streamIds=v,this.sendMessage(u)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(v){v.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(v)}`);const u=this.prependWithFrameTypeRTC(p.SdkSignalFrame.encode(v).finish());if(this.ready()){if(!this.webSocket.send(u)){this.sendEvent(new r.default(this,o.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new r.default(this,o.default.WebSocketSentMessage,null))}else this.sendEvent(new r.default(this,o.default.WebSocketSkippedMessage,null))}receiveMessage(v){let u;try{u=p.SdkSignalFrame.decode(v)}catch{this.logger.info(`failed to decode: ${v}`),this.sendEvent(new r.default(this,o.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(u)}`),this.webSocket.readyState()===e.default.Open?this.sendEvent(new r.default(this,o.default.ReceivedSignalFrame,u)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(u)}`)}stripFrameTypeRTC(v){const u=v[0];return u!==Mf.FRAME_TYPE_RTC&&u!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${u}`),v.slice(1)}prependWithFrameTypeRTC(v){const u=new Uint8Array(v.length+1);return u[0]=Mf.FRAME_TYPE_RTC,u.set(v,1),u}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const v=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${v.url()}`),this.isClosing=!1,this.webSocket.create(v.url(),v.protocols()),this.setUpEventListeners(),this.sendEvent(new r.default(this,o.default.WebSocketConnecting,null))}sendEvent(v){switch(v.type){case o.default.WebSocketMessage:case o.default.ReceivedSignalFrame:case o.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${o.default[v.type]}`);break;case o.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${o.default[v.type]}, websocket state=${e.default[this.webSocket.readyState()]}`);break;case o.default.WebSocketClosed:this.logger.info(`notifying event: ${o.default[v.type]}, 
              code: ${v.closeCode} reason: ${v.closeReason}`);break;default:this.logger.info(`notifying event: ${o.default[v.type]}`);break}for(const u of this.observerQueue)u.handleSignalingClientEvent(v)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new r.default(this,o.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",v=>{this.sendEvent(new r.default(this,o.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(v.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("Signaling WebSocket ignoring error closing while connecting");return}this.wasOpened?(this.logger.error("Signaling WebSocket received error while connected"),this.sendEvent(new r.default(this,o.default.WebSocketError,null))):(this.logger.error("Signaling WebSocket received error while connecting"),this.sendEvent(new r.default(this,o.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const v=c.g;v.window&&v.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const v=c.g;v.window&&v.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const v=new Uint32Array(1);return a.getRandomValues(v),v[0]}promoteToPrimaryMeeting(v){const u=p.SdkMeetingSessionCredentials.create();u.attendeeId=v.attendeeId,u.externalUserId=v.externalUserId,u.joinToken=v.joinToken;const S=p.SdkPrimaryMeetingJoinFrame.create();S.credentials=u;const _=p.SdkSignalFrame.create();_.type=p.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,_.primaryMeetingJoin=S,this.sendMessage(_)}demoteFromPrimaryMeeting(){const v=p.SdkPrimaryMeetingLeaveFrame.create(),u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,u.primaryMeetingLeave=v,this.sendMessage(u)}constructor(v,u){this.webSocket=v,this.logger=u,this.unloadHandler=null,this.closeEventHandler=S=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new r.default(this,o.default.WebSocketClosed,null,S.code,S.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");l.default=f,f.FRAME_TYPE_RTC=5,f.CLOSE_EVENT_TIMEOUT_MS=2e3,f.CLIENT_SUPPORTS_COMPRESSION=!0},498975381:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.convertServerSideNetworkAdaptionEnumToSignaled=l.convertServerSideNetworkAdaptionEnumFromSignaled=l.serverSideNetworkAdaptionIsNoneOrDefault=l.ServerSideNetworkAdaption=void 0;const d=c(7344258710);var h;(function(s){s[s.Default=0]="Default",s[s.None=1]="None",s[s.BandwidthProbing=2]="BandwidthProbing",s[s.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(h=l.ServerSideNetworkAdaption||(l.ServerSideNetworkAdaption={})),l.default=h;function m(s){return s===h.None||s===h.Default}n(m,"serverSideNetworkAdaptionIsNoneOrDefault"),l.serverSideNetworkAdaptionIsNoneOrDefault=m;function p(s){switch(s){case d.SdkServerSideNetworkAdaption.DEFAULT:return h.Default;case d.SdkServerSideNetworkAdaption.NONE:return h.None;case d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return h.BandwidthProbing;case d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return h.BandwidthProbingAndRemoteVideoQualityAdaption}}n(p,"convertServerSideNetworkAdaptionEnumFromSignaled"),l.convertServerSideNetworkAdaptionEnumFromSignaled=p;function a(s){switch(s){case h.Default:return d.SdkServerSideNetworkAdaption.DEFAULT;case h.None:return d.SdkServerSideNetworkAdaption.NONE;case h.BandwidthProbing:return d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case h.BandwidthProbingAndRemoteVideoQualityAdaption:return d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}n(a,"convertServerSideNetworkAdaptionEnumToSignaled"),l.convertServerSideNetworkAdaptionEnumToSignaled=a},6963141047:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(h,m){this.signalingURL=h,this.joinToken=m}},"SignalingClientConnectionRequest");l.default=c},5787590482:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(201131498));let m=n(class{isConnectionTerminated(){switch(this.type){case h.default.WebSocketFailed:case h.default.WebSocketError:case h.default.WebSocketClosing:case h.default.WebSocketClosed:return!0;default:return!1}}constructor(a,s,i,e,t){this.client=a,this.type=s,this.message=i,this.closeCode=e,this.closeReason=t,this.timestampMs=Date.now()}},"SignalingClientEvent");l.default=m},201131498:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignalingClientEventType=void 0;var c;(function(d){d[d.WebSocketConnecting=0]="WebSocketConnecting",d[d.WebSocketOpen=1]="WebSocketOpen",d[d.WebSocketError=2]="WebSocketError",d[d.WebSocketClosing=3]="WebSocketClosing",d[d.WebSocketClosed=4]="WebSocketClosed",d[d.WebSocketFailed=5]="WebSocketFailed",d[d.WebSocketMessage=6]="WebSocketMessage",d[d.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",d[d.WebSocketSentMessage=8]="WebSocketSentMessage",d[d.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",d[d.ReceivedSignalFrame=10]="ReceivedSignalFrame",d[d.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(c=l.SignalingClientEventType||(l.SignalingClientEventType={})),l.default=c},7090195098:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(498975381));let m=n(class{constructor(a){this.applicationMetadata=a,this.serverSideNetworkAdaption=h.default.Default,this.supportedServerSideNetworkAdaptions=[],this.wantsAllTemporalLayersInIndex=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");l.default=m},718687226:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h,m,p,a,s,i,e,t,r,o){this.attendeeId=h,this.sdpOffer=m,this.audioHost=p,this.audioMuted=a,this.audioCheckin=s,this.receiveStreamIds=i,this.localVideoEnabled=e,this.videoStreamDescriptions=t,this.connectionTypeHasVideo=r,this.compressedSdpOffer=o,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");l.default=c},3566593278:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{equals(h){return h!==void 0&&this.mid===h.mid&&this.attendeeId===h.attendeeId&&this.streamId===h.streamId&&this.groupId===h.groupId&&this.priority===h.priority&&this.targetBitrateKbps===h.targetBitrateKbps&&this.qualityAdaptationPreference===h.qualityAdaptationPreference}},"SignalingClientVideoSubscriptionConfiguration");l.default=c},7344258710:(V,l,c)=>{"use strict";var d=c(4572474409),h=d.Reader,m=d.Writer,p=d.util,a=d.roots.default||(d.roots.default={});a.SdkSignalFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkSignalFrame"),s.prototype.timestampMs=p.Long?p.Long.fromBits(0,0,!0):0,s.prototype.type=1,s.prototype.error=null,s.prototype.join=null,s.prototype.joinack=null,s.prototype.sub=null,s.prototype.suback=null,s.prototype.index=null,s.prototype.pause=null,s.prototype.leave=null,s.prototype.leaveAck=null,s.prototype.bitrates=null,s.prototype.audioControl=null,s.prototype.audioMetadata=null,s.prototype.audioStreamIdInfo=null,s.prototype.pingPong=null,s.prototype.audioStatus=null,s.prototype.clientMetric=null,s.prototype.dataMessage=null,s.prototype.remoteVideoUpdate=null,s.prototype.primaryMeetingJoin=null,s.prototype.primaryMeetingJoinAck=null,s.prototype.primaryMeetingLeave=null,s.prototype.notification=null,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),e.notification!=null&&Object.hasOwnProperty.call(e,"notification")&&a.SdkNotificationFrame.encode(e.notification,t.uint32(282).fork()).ldelim(),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkSignalFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.timestampMs=e.uint64();break}case 2:{o.type=e.int32();break}case 3:{o.error=a.SdkErrorFrame.decode(e,e.uint32());break}case 4:{o.join=a.SdkJoinFrame.decode(e,e.uint32());break}case 5:{o.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break}case 6:{o.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break}case 7:{o.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break}case 8:{o.index=a.SdkIndexFrame.decode(e,e.uint32());break}case 10:{o.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break}case 11:{o.leave=a.SdkLeaveFrame.decode(e,e.uint32());break}case 12:{o.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break}case 14:{o.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break}case 17:{o.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break}case 18:{o.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break}case 19:{o.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break}case 20:{o.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break}case 21:{o.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break}case 22:{o.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break}case 23:{o.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break}case 25:{o.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break}case 26:{o.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break}case 27:{o.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break}case 28:{o.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break}case 35:{o.notification=a.SdkNotificationFrame.decode(e,e.uint32());break}default:e.skipType(f&7);break}}if(!o.hasOwnProperty("timestampMs"))throw p.ProtocolError("missing required 'timestampMs'",{instance:o});if(!o.hasOwnProperty("type"))throw p.ProtocolError("missing required 'type'",{instance:o});return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(!p.isInteger(e.timestampMs)&&!(e.timestampMs&&p.isInteger(e.timestampMs.low)&&p.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 34:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}if(e.notification!=null&&e.hasOwnProperty("notification")){var t=a.SdkNotificationFrame.verify(e.notification);if(t)return"notification."+t}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(p.Long?(t.timestampMs=p.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new p.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break;case"NOTIFICATION":case 34:t.type=34;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}if(e.notification!=null){if(typeof e.notification!="object")throw TypeError(".SdkSignalFrame.notification: object expected");t.notification=a.SdkNotificationFrame.fromObject(e.notification)}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(p.Long){var o=new p.Long(0,0,!0);r.timestampMs=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.timestampMs=t.longs===String?"0":0;r.type=t.enums===String?"JOIN":1,r.error=null,r.join=null,r.joinack=null,r.sub=null,r.suback=null,r.index=null,r.pause=null,r.leave=null,r.leaveAck=null,r.bitrates=null,r.audioControl=null,r.audioMetadata=null,r.audioStreamIdInfo=null,r.pingPong=null,r.audioStatus=null,r.clientMetric=null,r.dataMessage=null,r.remoteVideoUpdate=null,r.primaryMeetingJoin=null,r.primaryMeetingJoinAck=null,r.primaryMeetingLeave=null,r.notification=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?r.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:r.timestampMs=t.longs===String?p.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new p.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkSignalFrame.Type[e.type]===void 0?e.type:a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(r.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(r.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(r.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(r.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(r.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(r.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(r.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(r.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(r.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(r.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(r.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(r.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(r.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(r.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(r.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(r.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(r.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(r.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(r.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(r.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),e.notification!=null&&e.hasOwnProperty("notification")&&(r.notification=a.SdkNotificationFrame.toObject(e.notification,t)),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkSignalFrame"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e[i[34]="NOTIFICATION"]=34,e}(),s}(),a.SdkErrorFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkErrorFrame"),s.prototype.status=0,s.prototype.description="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkErrorFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.status=e.uint32();break}case 2:{o.description=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!p.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!p.isString(e.description)?"description: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.status=0,r.description=""),e.status!=null&&e.hasOwnProperty("status")&&(r.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(r.description=e.description),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkErrorFrame"},"getTypeUrl"),s}(),a.SdkJoinFlags=function(){var s={},i=Object.create(s);return i[s[2]="HAS_STREAM_UPDATE"]=2,i[s[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[s[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkClientDetails"),s.prototype.appName="",s.prototype.appVersion="",s.prototype.deviceModel="",s.prototype.deviceMake="",s.prototype.platformName="",s.prototype.platformVersion="",s.prototype.clientSource="",s.prototype.chimeSdkVersion="",s.prototype.clientUtcOffset="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkClientDetails;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.appName=e.string();break}case 2:{o.appVersion=e.string();break}case 3:{o.deviceModel=e.string();break}case 4:{o.deviceMake=e.string();break}case 5:{o.platformName=e.string();break}case 6:{o.platformVersion=e.string();break}case 7:{o.clientSource=e.string();break}case 8:{o.chimeSdkVersion=e.string();break}case 9:{o.clientUtcOffset=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!p.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!p.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!p.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!p.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!p.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!p.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!p.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!p.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!p.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.appName="",r.appVersion="",r.deviceModel="",r.deviceMake="",r.platformName="",r.platformVersion="",r.clientSource="",r.chimeSdkVersion="",r.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(r.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(r.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(r.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(r.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(r.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(r.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(r.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(r.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(r.clientUtcOffset=e.clientUtcOffset),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkClientDetails"},"getTypeUrl"),s}(),a.SdkServerSideNetworkAdaption=function(){var s={},i=Object.create(s);return i[s[1]="DEFAULT"]=1,i[s[2]="NONE"]=2,i[s[3]="BANDWIDTH_PROBING"]=3,i[s[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,i}(),a.SdkJoinFrame=function(){function s(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkJoinFrame"),s.prototype.protocolVersion=2,s.prototype.maxNumOfVideos=0,s.prototype.flags=0,s.prototype.clientDetails=null,s.prototype.audioSessionId=p.Long?p.Long.fromBits(0,0,!0):0,s.prototype.wantsCompressedSdp=!1,s.prototype.serverSideNetworkAdaption=1,s.prototype.supportedServerSideNetworkAdaptions=p.emptyArray,s.prototype.wantsAllTemporalLayersInIndex=!1,s.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[r]);return e.wantsAllTemporalLayersInIndex!=null&&Object.hasOwnProperty.call(e,"wantsAllTemporalLayersInIndex")&&t.uint32(96).bool(e.wantsAllTemporalLayersInIndex),e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkJoinFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.protocolVersion=e.uint32();break}case 2:{o.maxNumOfVideos=e.uint32();break}case 3:{o.flags=e.uint32();break}case 4:{o.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break}case 6:{o.audioSessionId=e.uint64();break}case 7:{o.wantsCompressedSdp=e.bool();break}case 10:{o.serverSideNetworkAdaption=e.int32();break}case 11:{if(o.supportedServerSideNetworkAdaptions&&o.supportedServerSideNetworkAdaptions.length||(o.supportedServerSideNetworkAdaptions=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.supportedServerSideNetworkAdaptions.push(e.int32());else o.supportedServerSideNetworkAdaptions.push(e.int32());break}case 12:{o.wantsAllTemporalLayersInIndex=e.bool();break}case 13:{o.disablePeriodicKeyframeRequestOnContentSender=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!p.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!p.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!p.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!p.isInteger(e.audioSessionId)&&!(e.audioSessionId&&p.isInteger(e.audioSessionId.low)&&p.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return e.wantsAllTemporalLayersInIndex!=null&&e.hasOwnProperty("wantsAllTemporalLayersInIndex")&&typeof e.wantsAllTemporalLayersInIndex!="boolean"?"wantsAllTemporalLayersInIndex: boolean expected":e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(p.Long?(t.audioSessionId=p.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new p.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){default:if(typeof e.serverSideNetworkAdaption=="number"){t.serverSideNetworkAdaption=e.serverSideNetworkAdaption;break}break;case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.serverSideNetworkAdaption=4;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:if(typeof e.supportedServerSideNetworkAdaptions[r]=="number"){t.supportedServerSideNetworkAdaptions[r]=e.supportedServerSideNetworkAdaptions[r];break}case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[r]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[r]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[r]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.supportedServerSideNetworkAdaptions[r]=4;break}}return e.wantsAllTemporalLayersInIndex!=null&&(t.wantsAllTemporalLayersInIndex=Boolean(e.wantsAllTemporalLayersInIndex)),e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.supportedServerSideNetworkAdaptions=[]),t.defaults){if(r.protocolVersion=2,r.maxNumOfVideos=0,r.flags=0,r.clientDetails=null,p.Long){var o=new p.Long(0,0,!0);r.audioSessionId=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.audioSessionId=t.longs===String?"0":0;r.wantsCompressedSdp=!1,r.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,r.wantsAllTemporalLayersInIndex=!1,r.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(r.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(r.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(r.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?r.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:r.audioSessionId=t.longs===String?p.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new p.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(r.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]===void 0?e.serverSideNetworkAdaption:a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){r.supportedServerSideNetworkAdaptions=[];for(var f=0;f<e.supportedServerSideNetworkAdaptions.length;++f)r.supportedServerSideNetworkAdaptions[f]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[f]]===void 0?e.supportedServerSideNetworkAdaptions[f]:a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[f]]:e.supportedServerSideNetworkAdaptions[f]}return e.wantsAllTemporalLayersInIndex!=null&&e.hasOwnProperty("wantsAllTemporalLayersInIndex")&&(r.wantsAllTemporalLayersInIndex=e.wantsAllTemporalLayersInIndex),e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(r.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkJoinFrame"},"getTypeUrl"),s}(),a.SdkJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkJoinAckFrame"),s.prototype.turnCredentials=null,s.prototype.videoSubscriptionLimit=0,s.prototype.wantsCompressedSdp=!1,s.prototype.defaultServerSideNetworkAdaption=1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkJoinAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break}case 2:{o.videoSubscriptionLimit=e.uint32();break}case 3:{o.wantsCompressedSdp=e.bool();break}case 4:{o.defaultServerSideNetworkAdaption=e.int32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!p.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){default:if(typeof e.defaultServerSideNetworkAdaption=="number"){t.defaultServerSideNetworkAdaption=e.defaultServerSideNetworkAdaption;break}break;case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.defaultServerSideNetworkAdaption=4;break}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.turnCredentials=null,r.videoSubscriptionLimit=0,r.wantsCompressedSdp=!1,r.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(r.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(r.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(r.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]===void 0?e.defaultServerSideNetworkAdaption:a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkJoinAckFrame"},"getTypeUrl"),s}(),a.SdkLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkLeaveFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkLeaveFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkLeaveFrame"},"getTypeUrl"),s}(),a.SdkLeaveAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkLeaveAckFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkLeaveAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkLeaveAckFrame"},"getTypeUrl"),s}(),a.SdkStreamServiceType=function(){var s={},i=Object.create(s);return i[s[1]="RX"]=1,i[s[2]="TX"]=2,i[s[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var s={},i=Object.create(s);return i[s[1]="AUDIO"]=1,i[s[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function s(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkSubscribeFrame"),s.prototype.duplex=1,s.prototype.sendStreams=p.emptyArray,s.prototype.receiveStreamIds=p.emptyArray,s.prototype.sdpOffer="",s.prototype.audioHost="",s.prototype.audioCheckin=!1,s.prototype.audioMuted=!1,s.prototype.compressedSdpOffer=p.newBuffer([]),s.prototype.videoSubscriptionConfiguration=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var r=0;r<e.sendStreams.length;++r)a.SdkStreamDescriptor.encode(e.sendStreams[r],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var r=0;r<e.receiveStreamIds.length;++r)t.uint32(24).uint32(e.receiveStreamIds[r]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var r=0;r<e.videoSubscriptionConfiguration.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[r],t.uint32(74).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkSubscribeFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.duplex=e.int32();break}case 2:{o.sendStreams&&o.sendStreams.length||(o.sendStreams=[]),o.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break}case 3:{if(o.receiveStreamIds&&o.receiveStreamIds.length||(o.receiveStreamIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.receiveStreamIds.push(e.uint32());else o.receiveStreamIds.push(e.uint32());break}case 4:{o.sdpOffer=e.string();break}case 5:{o.audioHost=e.string();break}case 6:{o.audioCheckin=e.bool();break}case 7:{o.audioMuted=e.bool();break}case 8:{o.compressedSdpOffer=e.bytes();break}case 9:{o.videoSubscriptionConfiguration&&o.videoSubscriptionConfiguration.length||(o.videoSubscriptionConfiguration=[]),o.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var r=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(r)return"sendStreams."+r}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!p.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!p.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!p.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||p.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(r)return"videoSubscriptionConfiguration."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){default:if(typeof e.duplex=="number"){t.duplex=e.duplex;break}break;case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r){if(typeof e.sendStreams[r]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[r]=a.SdkStreamDescriptor.fromObject(e.sendStreams[r])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var r=0;r<e.receiveStreamIds.length;++r)t.receiveStreamIds[r]=e.receiveStreamIds[r]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?p.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=p.newBuffer(p.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length>=0&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var r=0;r<e.videoSubscriptionConfiguration.length;++r){if(typeof e.videoSubscriptionConfiguration[r]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sendStreams=[],r.receiveStreamIds=[],r.videoSubscriptionConfiguration=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpOffer="",r.audioHost="",r.audioCheckin=!1,r.audioMuted=!1,t.bytes===String?r.compressedSdpOffer="":(r.compressedSdpOffer=[],t.bytes!==Array&&(r.compressedSdpOffer=p.newBuffer(r.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]===void 0?e.duplex:a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){r.sendStreams=[];for(var o=0;o<e.sendStreams.length;++o)r.sendStreams[o]=a.SdkStreamDescriptor.toObject(e.sendStreams[o],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){r.receiveStreamIds=[];for(var o=0;o<e.receiveStreamIds.length;++o)r.receiveStreamIds[o]=e.receiveStreamIds[o]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(r.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(r.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(r.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(r.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(r.compressedSdpOffer=t.bytes===String?p.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){r.videoSubscriptionConfiguration=[];for(var o=0;o<e.videoSubscriptionConfiguration.length;++o)r.videoSubscriptionConfiguration[o]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkSubscribeFrame"},"getTypeUrl"),s}(),a.SdkSubscribeAckFrame=function(){function s(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkSubscribeAckFrame"),s.prototype.duplex=1,s.prototype.allocations=p.emptyArray,s.prototype.sdpAnswer="",s.prototype.tracks=p.emptyArray,s.prototype.compressedSdpAnswer=p.newBuffer([]),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var r=0;r<e.allocations.length;++r)a.SdkStreamAllocation.encode(e.allocations[r],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var r=0;r<e.tracks.length;++r)a.SdkTrackMapping.encode(e.tracks[r],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkSubscribeAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.duplex=e.int32();break}case 2:{o.allocations&&o.allocations.length||(o.allocations=[]),o.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break}case 3:{o.sdpAnswer=e.string();break}case 4:{o.tracks&&o.tracks.length||(o.tracks=[]),o.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break}case 5:{o.compressedSdpAnswer=e.bytes();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var r=a.SdkStreamAllocation.verify(e.allocations[t]);if(r)return"allocations."+r}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!p.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var r=a.SdkTrackMapping.verify(e.tracks[t]);if(r)return"tracks."+r}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||p.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){default:if(typeof e.duplex=="number"){t.duplex=e.duplex;break}break;case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var r=0;r<e.allocations.length;++r){if(typeof e.allocations[r]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[r]=a.SdkStreamAllocation.fromObject(e.allocations[r])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var r=0;r<e.tracks.length;++r){if(typeof e.tracks[r]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[r]=a.SdkTrackMapping.fromObject(e.tracks[r])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?p.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=p.newBuffer(p.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length>=0&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.allocations=[],r.tracks=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpAnswer="",t.bytes===String?r.compressedSdpAnswer="":(r.compressedSdpAnswer=[],t.bytes!==Array&&(r.compressedSdpAnswer=p.newBuffer(r.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]===void 0?e.duplex:a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){r.allocations=[];for(var o=0;o<e.allocations.length;++o)r.allocations[o]=a.SdkStreamAllocation.toObject(e.allocations[o],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(r.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){r.tracks=[];for(var o=0;o<e.tracks.length;++o)r.tracks[o]=a.SdkTrackMapping.toObject(e.tracks[o],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(r.compressedSdpAnswer=t.bytes===String?p.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkSubscribeAckFrame"},"getTypeUrl"),s}(),a.SdkIndexFrame=function(){function s(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkIndexFrame"),s.prototype.atCapacity=!1,s.prototype.sources=p.emptyArray,s.prototype.pausedAtSourceIds=p.emptyArray,s.prototype.numParticipants=0,s.prototype.supportedReceiveCodecIntersection=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var r=0;r<e.sources.length;++r)a.SdkStreamDescriptor.encode(e.sources[r],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var r=0;r<e.pausedAtSourceIds.length;++r)t.uint32(24).uint32(e.pausedAtSourceIds[r]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)t.uint32(40).int32(e.supportedReceiveCodecIntersection[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkIndexFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.atCapacity=e.bool();break}case 2:{o.sources&&o.sources.length||(o.sources=[]),o.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break}case 3:{if(o.pausedAtSourceIds&&o.pausedAtSourceIds.length||(o.pausedAtSourceIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.pausedAtSourceIds.push(e.uint32());else o.pausedAtSourceIds.push(e.uint32());break}case 4:{o.numParticipants=e.uint32();break}case 5:{if(o.supportedReceiveCodecIntersection&&o.supportedReceiveCodecIntersection.length||(o.supportedReceiveCodecIntersection=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.supportedReceiveCodecIntersection.push(e.int32());else o.supportedReceiveCodecIntersection.push(e.int32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var r=a.SdkStreamDescriptor.verify(e.sources[t]);if(r)return"sources."+r}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!p.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!p.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 11:break}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var r=0;r<e.sources.length;++r){if(typeof e.sources[r]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[r]=a.SdkStreamDescriptor.fromObject(e.sources[r])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var r=0;r<e.pausedAtSourceIds.length;++r)t.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)switch(e.supportedReceiveCodecIntersection[r]){default:if(typeof e.supportedReceiveCodecIntersection[r]=="number"){t.supportedReceiveCodecIntersection[r]=e.supportedReceiveCodecIntersection[r];break}case"VP8":case 1:t.supportedReceiveCodecIntersection[r]=1;break;case"H264_BASELINE_PROFILE":case 2:t.supportedReceiveCodecIntersection[r]=2;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[r]=3;break;case"H264_MAIN_PROFILE":case 4:t.supportedReceiveCodecIntersection[r]=4;break;case"H264_HIGH_PROFILE":case 5:t.supportedReceiveCodecIntersection[r]=5;break;case"H264_CONSTRAINED_HIGH_PROFILE":case 6:t.supportedReceiveCodecIntersection[r]=6;break;case"VP9_PROFILE_0":case 8:t.supportedReceiveCodecIntersection[r]=8;break;case"AV1_MAIN_PROFILE":case 11:t.supportedReceiveCodecIntersection[r]=11;break}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sources=[],r.pausedAtSourceIds=[],r.supportedReceiveCodecIntersection=[]),t.defaults&&(r.atCapacity=!1,r.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(r.atCapacity=e.atCapacity),e.sources&&e.sources.length){r.sources=[];for(var o=0;o<e.sources.length;++o)r.sources[o]=a.SdkStreamDescriptor.toObject(e.sources[o],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){r.pausedAtSourceIds=[];for(var o=0;o<e.pausedAtSourceIds.length;++o)r.pausedAtSourceIds[o]=e.pausedAtSourceIds[o]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(r.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){r.supportedReceiveCodecIntersection=[];for(var o=0;o<e.supportedReceiveCodecIntersection.length;++o)r.supportedReceiveCodecIntersection[o]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[o]]===void 0?e.supportedReceiveCodecIntersection[o]:a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[o]]:e.supportedReceiveCodecIntersection[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkIndexFrame"},"getTypeUrl"),s}(),a.SdkPauseResumeFrame=function(){function s(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPauseResumeFrame"),s.prototype.streamIds=p.emptyArray,s.prototype.groupIds=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.streamIds!=null&&e.streamIds.length)for(var r=0;r<e.streamIds.length;++r)t.uint32(8).uint32(e.streamIds[r]);if(e.groupIds!=null&&e.groupIds.length)for(var r=0;r<e.groupIds.length;++r)t.uint32(16).uint32(e.groupIds[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPauseResumeFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{if(o.streamIds&&o.streamIds.length||(o.streamIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.streamIds.push(e.uint32());else o.streamIds.push(e.uint32());break}case 2:{if(o.groupIds&&o.groupIds.length||(o.groupIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.groupIds.push(e.uint32());else o.groupIds.push(e.uint32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!p.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!p.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var r=0;r<e.streamIds.length;++r)t.streamIds[r]=e.streamIds[r]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var r=0;r<e.groupIds.length;++r)t.groupIds[r]=e.groupIds[r]>>>0}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streamIds=[],r.groupIds=[]),e.streamIds&&e.streamIds.length){r.streamIds=[];for(var o=0;o<e.streamIds.length;++o)r.streamIds[o]=e.streamIds[o]}if(e.groupIds&&e.groupIds.length){r.groupIds=[];for(var o=0;o<e.groupIds.length;++o)r.groupIds[o]=e.groupIds[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPauseResumeFrame"},"getTypeUrl"),s}(),a.SdkBitrateFrame=function(){function s(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkBitrateFrame"),s.prototype.bitrates=p.emptyArray,s.prototype.serverAvailableOutgoingBitrate=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.bitrates!=null&&e.bitrates.length)for(var r=0;r<e.bitrates.length;++r)a.SdkBitrate.encode(e.bitrates[r],t.uint32(10).fork()).ldelim();return e.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(e,"serverAvailableOutgoingBitrate")&&t.uint32(16).uint32(e.serverAvailableOutgoingBitrate),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkBitrateFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.bitrates&&o.bitrates.length||(o.bitrates=[]),o.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break}case 2:{o.serverAvailableOutgoingBitrate=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var r=a.SdkBitrate.verify(e.bitrates[t]);if(r)return"bitrates."+r}}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&!p.isInteger(e.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var r=0;r<e.bitrates.length;++r){if(typeof e.bitrates[r]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[r]=a.SdkBitrate.fromObject(e.bitrates[r])}}return e.serverAvailableOutgoingBitrate!=null&&(t.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bitrates=[]),t.defaults&&(r.serverAvailableOutgoingBitrate=0),e.bitrates&&e.bitrates.length){r.bitrates=[];for(var o=0;o<e.bitrates.length;++o)r.bitrates[o]=a.SdkBitrate.toObject(e.bitrates[o],t)}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&(r.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkBitrateFrame"},"getTypeUrl"),s}(),a.SdkStreamDescriptor=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamDescriptor"),s.prototype.streamId=0,s.prototype.framerate=0,s.prototype.maxBitrateKbps=0,s.prototype.trackLabel="",s.prototype.groupId=0,s.prototype.avgBitrateBps=0,s.prototype.attendeeId="",s.prototype.mediaType=1,s.prototype.externalUserId="",s.prototype.width=0,s.prototype.height=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),e.width!=null&&Object.hasOwnProperty.call(e,"width")&&t.uint32(88).uint32(e.width),e.height!=null&&Object.hasOwnProperty.call(e,"height")&&t.uint32(96).uint32(e.height),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamDescriptor;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.streamId=e.uint32();break}case 2:{o.framerate=e.uint32();break}case 3:{o.maxBitrateKbps=e.uint32();break}case 4:{o.trackLabel=e.string();break}case 6:{o.groupId=e.uint32();break}case 7:{o.avgBitrateBps=e.uint32();break}case 8:{o.attendeeId=e.string();break}case 9:{o.mediaType=e.int32();break}case 10:{o.externalUserId=e.string();break}case 11:{o.width=e.uint32();break}case 12:{o.height=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!p.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!p.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!p.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!p.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!p.isString(e.externalUserId)?"externalUserId: string expected":e.width!=null&&e.hasOwnProperty("width")&&!p.isInteger(e.width)?"width: integer expected":e.height!=null&&e.hasOwnProperty("height")&&!p.isInteger(e.height)?"height: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){default:if(typeof e.mediaType=="number"){t.mediaType=e.mediaType;break}break;case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.width!=null&&(t.width=e.width>>>0),e.height!=null&&(t.height=e.height>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.framerate=0,r.maxBitrateKbps=0,r.trackLabel="",r.groupId=0,r.avgBitrateBps=0,r.attendeeId="",r.mediaType=t.enums===String?"AUDIO":1,r.externalUserId="",r.width=0,r.height=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(r.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(r.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(r.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]===void 0?e.mediaType:a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.width!=null&&e.hasOwnProperty("width")&&(r.width=e.width),e.height!=null&&e.hasOwnProperty("height")&&(r.height=e.height),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamDescriptor"},"getTypeUrl"),s}(),a.SdkStreamAllocation=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamAllocation"),s.prototype.trackLabel="",s.prototype.streamId=0,s.prototype.groupId=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamAllocation;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.trackLabel=e.string();break}case 2:{o.streamId=e.uint32();break}case 3:{o.groupId=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!p.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.trackLabel="",r.streamId=0,r.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamAllocation"},"getTypeUrl"),s}(),a.SdkTrackMapping=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTrackMapping"),s.prototype.streamId=0,s.prototype.ssrc=0,s.prototype.trackLabel="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTrackMapping;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.streamId=e.uint32();break}case 2:{o.ssrc=e.uint32();break}case 3:{o.trackLabel=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!p.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!p.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.ssrc=0,r.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(r.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTrackMapping"},"getTypeUrl"),s}(),a.SdkBitrate=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkBitrate"),s.prototype.sourceStreamId=0,s.prototype.avgBitrateBps=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkBitrate;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.sourceStreamId=e.uint32();break}case 2:{o.avgBitrateBps=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!p.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!p.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.sourceStreamId=0,r.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(r.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkBitrate"},"getTypeUrl"),s}(),a.SdkAudioControlFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioControlFrame"),s.prototype.muted=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioControlFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.muted=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioControlFrame"},"getTypeUrl"),s}(),a.SdkAudioMetadataFrame=function(){function s(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioMetadataFrame"),s.prototype.attendeeStates=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var r=0;r<e.attendeeStates.length;++r)a.SdkAudioAttendeeState.encode(e.attendeeStates[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioMetadataFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.attendeeStates&&o.attendeeStates.length||(o.attendeeStates=[]),o.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var r=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(r)return"attendeeStates."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r){if(typeof e.attendeeStates[r]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[r]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){r.attendeeStates=[];for(var o=0;o<e.attendeeStates.length;++o)r.attendeeStates[o]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioMetadataFrame"},"getTypeUrl"),s}(),a.SdkAudioAttendeeState=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioAttendeeState"),s.prototype.audioStreamId=0,s.prototype.volume=0,s.prototype.muted=!1,s.prototype.signalStrength=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioAttendeeState;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.audioStreamId=e.uint32();break}case 2:{o.volume=e.uint32();break}case 3:{o.muted=e.bool();break}case 4:{o.signalStrength=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!p.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!p.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!p.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.volume=0,r.muted=!1,r.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(r.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(r.signalStrength=e.signalStrength),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioAttendeeState"},"getTypeUrl"),s}(),a.SdkAudioStreamIdInfoFrame=function(){function s(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioStreamIdInfoFrame"),s.prototype.streams=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.streams!=null&&e.streams.length)for(var r=0;r<e.streams.length;++r)a.SdkAudioStreamIdInfo.encode(e.streams[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioStreamIdInfoFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.streams&&o.streams.length||(o.streams=[]),o.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var r=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(r)return"streams."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var r=0;r<e.streams.length;++r){if(typeof e.streams[r]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[r]=a.SdkAudioStreamIdInfo.fromObject(e.streams[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streams=[]),e.streams&&e.streams.length){r.streams=[];for(var o=0;o<e.streams.length;++o)r.streams[o]=a.SdkAudioStreamIdInfo.toObject(e.streams[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioStreamIdInfoFrame"},"getTypeUrl"),s}(),a.SdkAudioStreamIdInfo=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioStreamIdInfo"),s.prototype.audioStreamId=0,s.prototype.attendeeId="",s.prototype.muted=!1,s.prototype.externalUserId="",s.prototype.dropped=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioStreamIdInfo;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.audioStreamId=e.uint32();break}case 2:{o.attendeeId=e.string();break}case 3:{o.muted=e.bool();break}case 4:{o.externalUserId=e.string();break}case 5:{o.dropped=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!p.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!p.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.attendeeId="",r.muted=!1,r.externalUserId="",r.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(r.dropped=e.dropped),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioStreamIdInfo"},"getTypeUrl"),s}(),a.SdkPingPongType=function(){var s={},i=Object.create(s);return i[s[1]="PING"]=1,i[s[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPingPongFrame"),s.prototype.type=1,s.prototype.pingId=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPingPongFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.pingId=e.uint32();break}default:e.skipType(f&7);break}}if(!o.hasOwnProperty("type"))throw p.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("pingId"))throw p.ProtocolError("missing required 'pingId'",{instance:o});return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return p.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"PING":1,r.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkPingPongType[e.type]===void 0?e.type:a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(r.pingId=e.pingId),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPingPongFrame"},"getTypeUrl"),s}(),a.SdkAudioStatusFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioStatusFrame"),s.prototype.audioStatus=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioStatusFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.audioStatus=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!p.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=e.audioStatus),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioStatusFrame"},"getTypeUrl"),s}(),a.SdkMetric=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkMetric"),s.prototype.type=1,s.prototype.value=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkMetric;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.value=e.double();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 60:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_INPUT_HEIGHT":case 60:t.type=60;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break;case"VIDEO_FREEZE_COUNT":case 90:t.type=90;break;case"VIDEO_FREEZE_DURATION":case 91:t.type=91;break;case"VIDEO_PAUSE_COUNT":case 92:t.type=92;break;case"VIDEO_PAUSE_DURATION":case 93:t.type=93;break;case"VIDEO_QUALITY_REASON":case 94:t.type=94;break;case"VIDEO_PROCESSING_TIME":case 95:t.type=95;break;case"RTC_SPK_AUDIO_LEVEL":case 96:t.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:t.type=97;break;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"VIDEO_QUALITY_LIMITATION_DURATION_CPU":case 102:t.type=102;break;case"VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU":case 103:t.type=103;break;case"VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE":case 104:t.type=104;break;case"VIDEO_RENDER_HEIGHT":case 105:t.type=105;break;case"VIDEO_RENDER_WIDTH":case 106:t.type=106;break;case"VIDEO_INPUT_WIDTH":case 107:t.type=107;break;case"VIDEO_SENT_JITTER_MS":case 108:t.type=108;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,r.value=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkMetric.Type[e.type]===void 0?e.type:a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkMetric"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[60]="VIDEO_INPUT_HEIGHT"]=60,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e[i[90]="VIDEO_FREEZE_COUNT"]=90,e[i[91]="VIDEO_FREEZE_DURATION"]=91,e[i[92]="VIDEO_PAUSE_COUNT"]=92,e[i[93]="VIDEO_PAUSE_DURATION"]=93,e[i[94]="VIDEO_QUALITY_REASON"]=94,e[i[95]="VIDEO_PROCESSING_TIME"]=95,e[i[96]="RTC_SPK_AUDIO_LEVEL"]=96,e[i[97]="RTC_MIC_AUDIO_LEVEL"]=97,e[i[98]="RTC_SPK_TOTAL_LOST"]=98,e[i[99]="RTC_SPK_TOTAL_EXPECTED"]=99,e[i[100]="RTC_SPK_TOTAL_RECOVERED_RED"]=100,e[i[101]="RTC_SPK_TOTAL_RECOVERED_FEC"]=101,e[i[102]="VIDEO_QUALITY_LIMITATION_DURATION_CPU"]=102,e[i[103]="VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU"]=103,e[i[104]="VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE"]=104,e[i[105]="VIDEO_RENDER_HEIGHT"]=105,e[i[106]="VIDEO_RENDER_WIDTH"]=106,e[i[107]="VIDEO_INPUT_WIDTH"]=107,e[i[108]="VIDEO_SENT_JITTER_MS"]=108,e}(),s}(),a.SdkStreamMetricFrame=function(){function s(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamMetricFrame"),s.prototype.streamId=0,s.prototype.groupId=0,s.prototype.metrics=p.emptyArray,s.prototype.dimensions=p.emptyArray,s.prototype.mediaType=1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)a.SdkMetric.encode(e.metrics[r],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var r=0;r<e.dimensions.length;++r)a.SdkStreamDimension.encode(e.dimensions[r],t.uint32(50).fork()).ldelim();return e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(56).int32(e.mediaType),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamMetricFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 3:{o.streamId=e.uint32();break}case 4:{o.groupId=e.uint32();break}case 5:{o.metrics&&o.metrics.length||(o.metrics=[]),o.metrics.push(a.SdkMetric.decode(e,e.uint32()));break}case 6:{o.dimensions&&o.dimensions.length||(o.dimensions=[]),o.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break}case 7:{o.mediaType=e.int32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var r=a.SdkMetric.verify(e.metrics[t]);if(r)return"metrics."+r}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var r=a.SdkStreamDimension.verify(e.dimensions[t]);if(r)return"dimensions."+r}}if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if(typeof e.metrics[r]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[r]=a.SdkMetric.fromObject(e.metrics[r])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var r=0;r<e.dimensions.length;++r){if(typeof e.dimensions[r]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[r]=a.SdkStreamDimension.fromObject(e.dimensions[r])}}switch(e.mediaType){default:if(typeof e.mediaType=="number"){t.mediaType=e.mediaType;break}break;case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[],r.dimensions=[]),t.defaults&&(r.streamId=0,r.groupId=0,r.mediaType=t.enums===String?"AUDIO":1),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.metrics&&e.metrics.length){r.metrics=[];for(var o=0;o<e.metrics.length;++o)r.metrics[o]=a.SdkMetric.toObject(e.metrics[o],t)}if(e.dimensions&&e.dimensions.length){r.dimensions=[];for(var o=0;o<e.dimensions.length;++o)r.dimensions[o]=a.SdkStreamDimension.toObject(e.dimensions[o],t)}return e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(r.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]===void 0?e.mediaType:a.SdkStreamMediaType[e.mediaType]:e.mediaType),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamMetricFrame"},"getTypeUrl"),s}(),a.SdkClientMetricFrame=function(){function s(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkClientMetricFrame"),s.prototype.globalMetrics=p.emptyArray,s.prototype.streamMetricFrames=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var r=0;r<e.globalMetrics.length;++r)a.SdkMetric.encode(e.globalMetrics[r],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var r=0;r<e.streamMetricFrames.length;++r)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[r],t.uint32(18).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkClientMetricFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.globalMetrics&&o.globalMetrics.length||(o.globalMetrics=[]),o.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break}case 2:{o.streamMetricFrames&&o.streamMetricFrames.length||(o.streamMetricFrames=[]),o.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var r=a.SdkMetric.verify(e.globalMetrics[t]);if(r)return"globalMetrics."+r}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var r=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(r)return"streamMetricFrames."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r){if(typeof e.globalMetrics[r]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[r]=a.SdkMetric.fromObject(e.globalMetrics[r])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var r=0;r<e.streamMetricFrames.length;++r){if(typeof e.streamMetricFrames[r]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[r]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.globalMetrics=[],r.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){r.globalMetrics=[];for(var o=0;o<e.globalMetrics.length;++o)r.globalMetrics[o]=a.SdkMetric.toObject(e.globalMetrics[o],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){r.streamMetricFrames=[];for(var o=0;o<e.streamMetricFrames.length;++o)r.streamMetricFrames[o]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkClientMetricFrame"},"getTypeUrl"),s}(),a.SdkStreamDimension=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamDimension"),s.prototype.type=1,s.prototype.value=null,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamDimension;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.value=a.SdkDimensionValue.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ENCODER_NAME":1,r.value=null),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkStreamDimension.Type[e.type]===void 0?e.type:a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=a.SdkDimensionValue.toObject(e.value,t)),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamDimension"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),s}(),a.SdkDimensionValue=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkDimensionValue"),s.prototype.stringValue="",s.prototype.boolValue=!1,s.prototype.uintValue=p.Long?p.Long.fromBits(0,0,!0):0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkDimensionValue;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.stringValue=e.string();break}case 2:{o.boolValue=e.bool();break}case 3:{o.uintValue=e.uint64();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!p.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!p.isInteger(e.uintValue)&&!(e.uintValue&&p.isInteger(e.uintValue.low)&&p.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(p.Long?(t.uintValue=p.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new p.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults)if(r.stringValue="",r.boolValue=!1,p.Long){var o=new p.Long(0,0,!0);r.uintValue=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?r.uintValue=t.longs===String?String(e.uintValue):e.uintValue:r.uintValue=t.longs===String?p.Long.prototype.toString.call(e.uintValue):t.longs===Number?new p.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkDimensionValue"},"getTypeUrl"),s}(),a.SdkDataMessageFrame=function(){function s(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkDataMessageFrame"),s.prototype.messages=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.messages!=null&&e.messages.length)for(var r=0;r<e.messages.length;++r)a.SdkDataMessagePayload.encode(e.messages[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkDataMessageFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.messages&&o.messages.length||(o.messages=[]),o.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var r=a.SdkDataMessagePayload.verify(e.messages[t]);if(r)return"messages."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var r=0;r<e.messages.length;++r){if(typeof e.messages[r]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[r]=a.SdkDataMessagePayload.fromObject(e.messages[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.messages=[]),e.messages&&e.messages.length){r.messages=[];for(var o=0;o<e.messages.length;++o)r.messages[o]=a.SdkDataMessagePayload.toObject(e.messages[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkDataMessageFrame"},"getTypeUrl"),s}(),a.SdkDataMessagePayload=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkDataMessagePayload"),s.prototype.topic="",s.prototype.data=p.newBuffer([]),s.prototype.lifetimeMs=0,s.prototype.senderAttendeeId="",s.prototype.ingestTimeNs=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.senderExternalUserId="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkDataMessagePayload;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.topic=e.string();break}case 2:{o.data=e.bytes();break}case 3:{o.lifetimeMs=e.uint32();break}case 4:{o.senderAttendeeId=e.string();break}case 5:{o.ingestTimeNs=e.int64();break}case 6:{o.senderExternalUserId=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!p.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||p.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!p.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!p.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!p.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&p.isInteger(e.ingestTimeNs.low)&&p.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!p.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?p.base64.decode(e.data,t.data=p.newBuffer(p.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(p.Long?(t.ingestTimeNs=p.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new p.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.topic="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=p.newBuffer(r.data))),r.lifetimeMs=0,r.senderAttendeeId="",p.Long){var o=new p.Long(0,0,!1);r.ingestTimeNs=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.ingestTimeNs=t.longs===String?"0":0;r.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(r.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?p.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(r.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(r.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?r.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:r.ingestTimeNs=t.longs===String?p.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new p.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(r.senderExternalUserId=e.senderExternalUserId),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkDataMessagePayload"},"getTypeUrl"),s}(),a.SdkTurnCredentials=function(){function s(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTurnCredentials"),s.prototype.username="",s.prototype.password="",s.prototype.ttl=0,s.prototype.uris=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var r=0;r<e.uris.length;++r)t.uint32(34).string(e.uris[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTurnCredentials;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.username=e.string();break}case 2:{o.password=e.string();break}case 3:{o.ttl=e.uint32();break}case 4:{o.uris&&o.uris.length||(o.uris=[]),o.uris.push(e.string());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!p.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!p.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!p.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!p.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var r=0;r<e.uris.length;++r)t.uris[r]=String(e.uris[r])}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uris=[]),t.defaults&&(r.username="",r.password="",r.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(r.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(r.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(r.ttl=e.ttl),e.uris&&e.uris.length){r.uris=[];for(var o=0;o<e.uris.length;++o)r.uris[o]=e.uris[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTurnCredentials"},"getTypeUrl"),s}(),a.SdkTranscriptItem=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptItem"),s.prototype.content="",s.prototype.endTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.speakerAttendeeId="",s.prototype.speakerExternalUserId="",s.prototype.startTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.type=1,s.prototype.vocabularyFilterMatch=!1,s.prototype.confidence=0,s.prototype.stable=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptItem;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.content=e.string();break}case 2:{o.endTime=e.int64();break}case 3:{o.speakerAttendeeId=e.string();break}case 4:{o.speakerExternalUserId=e.string();break}case 5:{o.startTime=e.int64();break}case 6:{o.type=e.int32();break}case 7:{o.vocabularyFilterMatch=e.bool();break}case 8:{o.confidence=e.double();break}case 9:{o.stable=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!p.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!p.isInteger(e.endTime)&&!(e.endTime&&p.isInteger(e.endTime.low)&&p.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!p.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!p.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!p.isInteger(e.startTime)&&!(e.startTime&&p.isInteger(e.startTime.low)&&p.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(p.Long?(t.endTime=p.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(p.Long?(t.startTime=p.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.content="",p.Long){var o=new p.Long(0,0,!1);r.endTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.endTime=t.longs===String?"0":0;if(r.speakerAttendeeId="",r.speakerExternalUserId="",p.Long){var o=new p.Long(0,0,!1);r.startTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.startTime=t.longs===String?"0":0;r.type=t.enums===String?"PRONUNCIATION":1,r.vocabularyFilterMatch=!1,r.confidence=0,r.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?p.Long.prototype.toString.call(e.endTime):t.longs===Number?new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(r.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(r.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?p.Long.prototype.toString.call(e.startTime):t.longs===Number?new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]===void 0?e.type:a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(r.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(r.stable=e.stable),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptItem"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),s}(),a.SdkTranscriptEntity=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptEntity"),s.prototype.category="",s.prototype.confidence=0,s.prototype.content="",s.prototype.endTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.startTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.type="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptEntity;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.category=e.string();break}case 2:{o.confidence=e.double();break}case 3:{o.content=e.string();break}case 4:{o.endTime=e.int64();break}case 5:{o.startTime=e.int64();break}case 6:{o.type=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!p.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!p.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!p.isInteger(e.endTime)&&!(e.endTime&&p.isInteger(e.endTime.low)&&p.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!p.isInteger(e.startTime)&&!(e.startTime&&p.isInteger(e.startTime.low)&&p.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!p.isString(e.type)?"type: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(p.Long?(t.endTime=p.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(p.Long?(t.startTime=p.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.category="",r.confidence=0,r.content="",p.Long){var o=new p.Long(0,0,!1);r.endTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.endTime=t.longs===String?"0":0;if(p.Long){var o=new p.Long(0,0,!1);r.startTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.startTime=t.longs===String?"0":0;r.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(r.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?p.Long.prototype.toString.call(e.endTime):t.longs===Number?new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?p.Long.prototype.toString.call(e.startTime):t.longs===Number?new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=e.type),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptEntity"},"getTypeUrl"),s}(),a.SdkTranscriptAlternative=function(){function s(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptAlternative"),s.prototype.items=p.emptyArray,s.prototype.transcript="",s.prototype.entities=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.items!=null&&e.items.length)for(var r=0;r<e.items.length;++r)a.SdkTranscriptItem.encode(e.items[r],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var r=0;r<e.entities.length;++r)a.SdkTranscriptEntity.encode(e.entities[r],t.uint32(26).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptAlternative;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.items&&o.items.length||(o.items=[]),o.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break}case 2:{o.transcript=e.string();break}case 3:{o.entities&&o.entities.length||(o.entities=[]),o.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var r=a.SdkTranscriptItem.verify(e.items[t]);if(r)return"items."+r}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!p.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var r=a.SdkTranscriptEntity.verify(e.entities[t]);if(r)return"entities."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var r=0;r<e.items.length;++r){if(typeof e.items[r]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[r]=a.SdkTranscriptItem.fromObject(e.items[r])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var r=0;r<e.entities.length;++r){if(typeof e.entities[r]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[r]=a.SdkTranscriptEntity.fromObject(e.entities[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.items=[],r.entities=[]),t.defaults&&(r.transcript=""),e.items&&e.items.length){r.items=[];for(var o=0;o<e.items.length;++o)r.items[o]=a.SdkTranscriptItem.toObject(e.items[o],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(r.transcript=e.transcript),e.entities&&e.entities.length){r.entities=[];for(var o=0;o<e.entities.length;++o)r.entities[o]=a.SdkTranscriptEntity.toObject(e.entities[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptAlternative"},"getTypeUrl"),s}(),a.SdkTranscriptLanguageWithScore=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptLanguageWithScore"),s.prototype.languageCode="",s.prototype.score=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptLanguageWithScore;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.languageCode=e.string();break}case 2:{o.score=e.double();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!p.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.languageCode="",r.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(r.score=t.json&&!isFinite(e.score)?String(e.score):e.score),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptLanguageWithScore"},"getTypeUrl"),s}(),a.SdkTranscriptResult=function(){function s(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptResult"),s.prototype.alternatives=p.emptyArray,s.prototype.channelId="",s.prototype.endTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.isPartial=!1,s.prototype.resultId="",s.prototype.startTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.languageCode="",s.prototype.languageIdentification=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.alternatives!=null&&e.alternatives.length)for(var r=0;r<e.alternatives.length;++r)a.SdkTranscriptAlternative.encode(e.alternatives[r],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var r=0;r<e.languageIdentification.length;++r)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[r],t.uint32(66).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptResult;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.alternatives&&o.alternatives.length||(o.alternatives=[]),o.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break}case 2:{o.channelId=e.string();break}case 3:{o.endTime=e.int64();break}case 4:{o.isPartial=e.bool();break}case 5:{o.resultId=e.string();break}case 6:{o.startTime=e.int64();break}case 7:{o.languageCode=e.string();break}case 8:{o.languageIdentification&&o.languageIdentification.length||(o.languageIdentification=[]),o.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var r=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(r)return"alternatives."+r}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!p.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!p.isInteger(e.endTime)&&!(e.endTime&&p.isInteger(e.endTime.low)&&p.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!p.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!p.isInteger(e.startTime)&&!(e.startTime&&p.isInteger(e.startTime.low)&&p.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!p.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var r=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(r)return"languageIdentification."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var r=0;r<e.alternatives.length;++r){if(typeof e.alternatives[r]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[r]=a.SdkTranscriptAlternative.fromObject(e.alternatives[r])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(p.Long?(t.endTime=p.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(p.Long?(t.startTime=p.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var r=0;r<e.languageIdentification.length;++r){if(typeof e.languageIdentification[r]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[r]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.alternatives=[],r.languageIdentification=[]),t.defaults){if(r.channelId="",p.Long){var o=new p.Long(0,0,!1);r.endTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.endTime=t.longs===String?"0":0;if(r.isPartial=!1,r.resultId="",p.Long){var o=new p.Long(0,0,!1);r.startTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.startTime=t.longs===String?"0":0;r.languageCode=""}if(e.alternatives&&e.alternatives.length){r.alternatives=[];for(var f=0;f<e.alternatives.length;++f)r.alternatives[f]=a.SdkTranscriptAlternative.toObject(e.alternatives[f],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(r.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?p.Long.prototype.toString.call(e.endTime):t.longs===Number?new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(r.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(r.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?p.Long.prototype.toString.call(e.startTime):t.longs===Number?new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){r.languageIdentification=[];for(var f=0;f<e.languageIdentification.length;++f)r.languageIdentification[f]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[f],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptResult"},"getTypeUrl"),s}(),a.SdkTranscript=function(){function s(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscript"),s.prototype.results=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.results!=null&&e.results.length)for(var r=0;r<e.results.length;++r)a.SdkTranscriptResult.encode(e.results[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscript;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.results&&o.results.length||(o.results=[]),o.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var r=a.SdkTranscriptResult.verify(e.results[t]);if(r)return"results."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var r=0;r<e.results.length;++r){if(typeof e.results[r]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[r]=a.SdkTranscriptResult.fromObject(e.results[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.results=[]),e.results&&e.results.length){r.results=[];for(var o=0;o<e.results.length;++o)r.results[o]=a.SdkTranscriptResult.toObject(e.results[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscript"},"getTypeUrl"),s}(),a.SdkTranscriptionStatus=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptionStatus"),s.prototype.type=1,s.prototype.eventTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.transcriptionRegion="",s.prototype.transcriptionConfiguration="",s.prototype.message="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptionStatus;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.eventTime=e.int64();break}case 3:{o.transcriptionRegion=e.string();break}case 4:{o.transcriptionConfiguration=e.string();break}case 5:{o.message=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!p.isInteger(e.eventTime)&&!(e.eventTime&&p.isInteger(e.eventTime.low)&&p.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!p.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!p.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!p.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(p.Long?(t.eventTime=p.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new p.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.type=t.enums===String?"STARTED":1,p.Long){var o=new p.Long(0,0,!1);r.eventTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.eventTime=t.longs===String?"0":0;r.transcriptionRegion="",r.transcriptionConfiguration="",r.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]===void 0?e.type:a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?r.eventTime=t.longs===String?String(e.eventTime):e.eventTime:r.eventTime=t.longs===String?p.Long.prototype.toString.call(e.eventTime):t.longs===Number?new p.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(r.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(r.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(r.message=e.message),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptionStatus"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),s}(),a.SdkTranscriptEvent=function(){function s(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}n(s,"SdkTranscriptEvent"),s.prototype.status=null,s.prototype.transcript=null;var i;return Object.defineProperty(s.prototype,"Event",{get:p.oneOfGetter(i=["status","transcript"]),set:p.oneOfSetter(i)}),s.create=n(function(t){return new s(t)},"create"),s.encode=n(function(t,r){return r||(r=m.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,r.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,r.uint32(18).fork()).ldelim(),r},"encode"),s.encodeDelimited=n(function(t,r){return this.encode(t,r).ldelim()},"encodeDelimited"),s.decode=n(function(t,r){t instanceof h||(t=h.create(t));for(var o=r===void 0?t.len:t.pos+r,f=new a.SdkTranscriptEvent;t.pos<o;){var g=t.uint32();switch(g>>>3){case 1:{f.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break}case 2:{f.transcript=a.SdkTranscript.decode(t,t.uint32());break}default:t.skipType(g&7);break}}return f},"decode"),s.decodeDelimited=n(function(t){return t instanceof h||(t=new h(t)),this.decode(t,t.uint32())},"decodeDelimited"),s.verify=n(function(t){if(typeof t!="object"||t===null)return"object expected";var r={};if(t.status!=null&&t.hasOwnProperty("status")){r.Event=1;{var o=a.SdkTranscriptionStatus.verify(t.status);if(o)return"status."+o}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(r.Event===1)return"Event: multiple values";r.Event=1;{var o=a.SdkTranscript.verify(t.transcript);if(o)return"transcript."+o}}return null},"verify"),s.fromObject=n(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var r=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");r.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");r.transcript=a.SdkTranscript.fromObject(t.transcript)}return r},"fromObject"),s.toObject=n(function(t,r){r||(r={});var o={};return t.status!=null&&t.hasOwnProperty("status")&&(o.status=a.SdkTranscriptionStatus.toObject(t.status,r),r.oneofs&&(o.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(o.transcript=a.SdkTranscript.toObject(t.transcript,r),r.oneofs&&(o.Event="transcript")),o},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SdkTranscriptEvent"},"getTypeUrl"),s}(),a.SdkTranscriptFrame=function(){function s(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptFrame"),s.prototype.events=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.events!=null&&e.events.length)for(var r=0;r<e.events.length;++r)a.SdkTranscriptEvent.encode(e.events[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.events&&o.events.length||(o.events=[]),o.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=a.SdkTranscriptEvent.verify(e.events[t]);if(r)return"events."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if(typeof e.events[r]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[r]=a.SdkTranscriptEvent.fromObject(e.events[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.events=[]),e.events&&e.events.length){r.events=[];for(var o=0;o<e.events.length;++o)r.events[o]=a.SdkTranscriptEvent.toObject(e.events[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptFrame"},"getTypeUrl"),s}(),a.SdkRemoteVideoUpdateFrame=function(){function s(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkRemoteVideoUpdateFrame"),s.prototype.addedOrUpdatedVideoSubscriptions=p.emptyArray,s.prototype.removedVideoSubscriptionMids=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[r],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.uint32(18).string(e.removedVideoSubscriptionMids[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkRemoteVideoUpdateFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.addedOrUpdatedVideoSubscriptions&&o.addedOrUpdatedVideoSubscriptions.length||(o.addedOrUpdatedVideoSubscriptions=[]),o.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break}case 2:{o.removedVideoSubscriptionMids&&o.removedVideoSubscriptionMids.length||(o.removedVideoSubscriptionMids=[]),o.removedVideoSubscriptionMids.push(e.string());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(r)return"addedOrUpdatedVideoSubscriptions."+r}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!p.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r){if(typeof e.addedOrUpdatedVideoSubscriptions[r]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[r])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.removedVideoSubscriptionMids[r]=String(e.removedVideoSubscriptionMids[r])}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.addedOrUpdatedVideoSubscriptions=[],r.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){r.addedOrUpdatedVideoSubscriptions=[];for(var o=0;o<e.addedOrUpdatedVideoSubscriptions.length;++o)r.addedOrUpdatedVideoSubscriptions[o]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[o],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){r.removedVideoSubscriptionMids=[];for(var o=0;o<e.removedVideoSubscriptionMids.length;++o)r.removedVideoSubscriptionMids[o]=e.removedVideoSubscriptionMids[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkRemoteVideoUpdateFrame"},"getTypeUrl"),s}(),a.SdkVideoQualityAdaptationPreference=function(){var s={},i=Object.create(s);return i[s[1]="BALANCED"]=1,i[s[2]="MAINTAIN_FRAMERATE"]=2,i[s[3]="MAINTAIN_RESOLUTION"]=3,i}(),a.SdkVideoSubscriptionConfiguration=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkVideoSubscriptionConfiguration"),s.prototype.mid="",s.prototype.attendeeId="",s.prototype.streamId=0,s.prototype.priority=0,s.prototype.targetBitrateKbps=0,s.prototype.groupId=0,s.prototype.qualityAdaptationPreference=1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.qualityAdaptationPreference!=null&&Object.hasOwnProperty.call(e,"qualityAdaptationPreference")&&t.uint32(56).int32(e.qualityAdaptationPreference),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkVideoSubscriptionConfiguration;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.mid=e.string();break}case 2:{o.attendeeId=e.string();break}case 3:{o.streamId=e.uint32();break}case 4:{o.priority=e.uint32();break}case 5:{o.targetBitrateKbps=e.uint32();break}case 6:{o.groupId=e.uint32();break}case 7:{o.qualityAdaptationPreference=e.int32();break}default:e.skipType(f&7);break}}if(!o.hasOwnProperty("mid"))throw p.ProtocolError("missing required 'mid'",{instance:o});return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(!p.isString(e.mid))return"mid: string expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId))return"attendeeId: string expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId))return"streamId: integer expected";if(e.priority!=null&&e.hasOwnProperty("priority")&&!p.isInteger(e.priority))return"priority: integer expected";if(e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!p.isInteger(e.targetBitrateKbps))return"targetBitrateKbps: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId))return"groupId: integer expected";if(e.qualityAdaptationPreference!=null&&e.hasOwnProperty("qualityAdaptationPreference"))switch(e.qualityAdaptationPreference){default:return"qualityAdaptationPreference: enum value expected";case 1:case 2:case 3:break}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;switch(e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.qualityAdaptationPreference){default:if(typeof e.qualityAdaptationPreference=="number"){t.qualityAdaptationPreference=e.qualityAdaptationPreference;break}break;case"BALANCED":case 1:t.qualityAdaptationPreference=1;break;case"MAINTAIN_FRAMERATE":case 2:t.qualityAdaptationPreference=2;break;case"MAINTAIN_RESOLUTION":case 3:t.qualityAdaptationPreference=3;break}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.mid="",r.attendeeId="",r.streamId=0,r.priority=0,r.targetBitrateKbps=0,r.groupId=0,r.qualityAdaptationPreference=t.enums===String?"BALANCED":1),e.mid!=null&&e.hasOwnProperty("mid")&&(r.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(r.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(r.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.qualityAdaptationPreference!=null&&e.hasOwnProperty("qualityAdaptationPreference")&&(r.qualityAdaptationPreference=t.enums===String?a.SdkVideoQualityAdaptationPreference[e.qualityAdaptationPreference]===void 0?e.qualityAdaptationPreference:a.SdkVideoQualityAdaptationPreference[e.qualityAdaptationPreference]:e.qualityAdaptationPreference),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkVideoSubscriptionConfiguration"},"getTypeUrl"),s}(),a.SdkNotificationFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkNotificationFrame"),s.prototype.level=3,s.prototype.message="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.level!=null&&Object.hasOwnProperty.call(e,"level")&&t.uint32(8).int32(e.level),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkNotificationFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.level=e.int32();break}case 2:{o.message=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.level!=null&&e.hasOwnProperty("level"))switch(e.level){default:return"level: enum value expected";case 1:case 2:case 3:break}return e.message!=null&&e.hasOwnProperty("message")&&!p.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkNotificationFrame)return e;var t=new a.SdkNotificationFrame;switch(e.level){case"INFO":case 1:t.level=1;break;case"WARNING":case 2:t.level=2;break;default:if(typeof e.level=="number"){t.level=e.level;break}break;case"ERROR":case 3:t.level=3;break}return e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.level=t.enums===String?"ERROR":3,r.message=""),e.level!=null&&e.hasOwnProperty("level")&&(r.level=t.enums===String?a.SdkNotificationFrame.NotificationLevel[e.level]===void 0?e.level:a.SdkNotificationFrame.NotificationLevel[e.level]:e.level),e.message!=null&&e.hasOwnProperty("message")&&(r.message=e.message),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkNotificationFrame"},"getTypeUrl"),s.NotificationLevel=function(){var i={},e=Object.create(i);return e[i[1]="INFO"]=1,e[i[2]="WARNING"]=2,e[i[3]="ERROR"]=3,e}(),s}(),a.SdkPrimaryMeetingJoinFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPrimaryMeetingJoinFrame"),s.prototype.credentials=null,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPrimaryMeetingJoinFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(r.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPrimaryMeetingJoinFrame"},"getTypeUrl"),s}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPrimaryMeetingJoinAckFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPrimaryMeetingJoinAckFrame"},"getTypeUrl"),s}(),a.SdkPrimaryMeetingLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPrimaryMeetingLeaveFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPrimaryMeetingLeaveFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPrimaryMeetingLeaveFrame"},"getTypeUrl"),s}(),a.SdkMeetingSessionCredentials=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkMeetingSessionCredentials"),s.prototype.attendeeId="",s.prototype.externalUserId="",s.prototype.joinToken="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkMeetingSessionCredentials;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.attendeeId=e.string();break}case 2:{o.externalUserId=e.string();break}case 3:{o.joinToken=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!p.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!p.isString(e.joinToken)?"joinToken: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.attendeeId="",r.externalUserId="",r.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(r.joinToken=e.joinToken),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkMeetingSessionCredentials"},"getTypeUrl"),s}(),a.SdkVideoCodecCapability=function(){var s={},i=Object.create(s);return i[s[1]="VP8"]=1,i[s[2]="H264_BASELINE_PROFILE"]=2,i[s[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i[s[4]="H264_MAIN_PROFILE"]=4,i[s[5]="H264_HIGH_PROFILE"]=5,i[s[6]="H264_CONSTRAINED_HIGH_PROFILE"]=6,i[s[8]="VP9_PROFILE_0"]=8,i[s[11]="AV1_MAIN_PROFILE"]=11,i}(),V.exports=a,p.Long=void 0,d.configure()},4859482891:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(8985570388),p=c(5527154335),a=h(c(1877666836));let s=n(class{makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const r=new m.Sha256(t);return r.update(e),r.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,r,o){return d(this,void 0,void 0,function*(){const f=yield this.hmac(t,"AWS4"+e),g=yield this.hmac(r,f),v=yield this.hmac(o,g);return yield this.hmac("aws4_request",v)})}signURL(e,t,r,o,f,g,v){return d(this,void 0,void 0,function*(){const u=this.getDateTimeString(),S=this.getDateString(u),_="AWS4-HMAC-SHA256";let b="";this.chimeClient.config.region instanceof Function?b=yield this.chimeClient.config.region():b=this.chimeClient.config.region;const E="host",T="host:"+o.toLowerCase()+`
`,I=S+"/"+b+"/"+r+"/aws4_request";let A;this.chimeClient.config.credentials instanceof Function?A=yield this.chimeClient.config.credentials():A=this.chimeClient.config.credentials;let w=new Map;w.set("X-Amz-Algorithm",[_]),w.set("X-Amz-Credential",[encodeURIComponent(A.accessKeyId+"/"+I)]),w.set("X-Amz-Date",[u]),w.set("X-Amz-Expires",["10"]),w.set("X-Amz-SignedHeaders",["host"]),A.sessionToken&&w.set("X-Amz-Security-Token",[encodeURIComponent(A.sessionToken)]),w.set(a.default.X_AMZN_VERSION,[encodeURIComponent(a.default.sdkVersion)]),w.set(a.default.X_AMZN_USER_AGENT,[encodeURIComponent(a.default.sdkUserAgentLowResolution)]),v==null||v.forEach((he,ge)=>{const Pe=encodeURIComponent(ge);he.sort().forEach(He=>{w.has(Pe)||w.set(Pe,[]),w.get(Pe).push(encodeURIComponent(He))})});let R="";w=new Map([...w.entries()].sort()),w.forEach((he,ge)=>{he.forEach(Pe=>{R.length&&(R+="&"),R+=ge+"="+Pe})});const P=e+`
`+f+`
`+R+`
`+T+`
`+E+`
`+p.toHex(yield this.hmac(g)),x=p.toHex(yield this.hmac(P)),z=`AWS4-HMAC-SHA256
`+u+`
`+S+"/"+b+"/"+r+`/aws4_request
`+x,Z=yield this.getSignatureKey(A.secretAccessKey,S,b,r),re=p.toHex(yield this.hmac(z,Z)),ne=R+"&X-Amz-Signature="+re;return t+"://"+o+f+"?"+ne})}constructor(e){this.chimeClient=e}},"DefaultSigV4");l.default=s},7833098058:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SimulcastLayers=void 0;var c;(function(d){d[d.Low=0]="Low",d[d.LowAndMedium=1]="LowAndMedium",d[d.LowAndHigh=2]="LowAndHigh",d[d.Medium=3]="Medium",d[d.MediumAndHigh=4]="MediumAndHigh",d[d.High=5]="High"})(c=l.SimulcastLayers||(l.SimulcastLayers={})),l.default=c},5018804390:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AudioLogEvent=void 0;var c;(function(d){d[d.DeviceChanged=0]="DeviceChanged",d[d.MutedLocal=1]="MutedLocal",d[d.UnmutedLocal=2]="UnmutedLocal",d[d.Connected=3]="Connected",d[d.ConnectFailed=4]="ConnectFailed",d[d.RedmicStartLoss=5]="RedmicStartLoss",d[d.RedmicEndLoss=6]="RedmicEndLoss"})(c=l.AudioLogEvent||(l.AudioLogEvent={})),l.default=c},6017023892:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(S,_,b,E){function T(I){return I instanceof b?I:new b(function(A){A(I)})}return n(T,"adopt"),new(b||(b=Promise))(function(I,A){function w(x){try{P(E.next(x))}catch(z){A(z)}}n(w,"fulfilled");function R(x){try{P(E.throw(x))}catch(z){A(z)}}n(R,"rejected");function P(x){x.done?I(x.value):T(x.value).then(w,R)}n(P,"step"),P((E=E.apply(S,_||[])).next())})},h=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6504123882)),p=h(c(9228821375)),a=h(c(8620705262)),s=h(c(9193449927)),i=h(c(2245405125)),e=h(c(7111900270)),t=h(c(8191739119)),r=h(c(7080398225)),o=c(7344258710),f=c(8479756130),g=h(c(5018804390)),v=h(c(4954547171));let u=n(class hp{toAttribute(_){return this.toSuffix(_).substring(1)}toSuffix(_){return _.toLowerCase()===_?`_${_}`:_.toUpperCase()===_?`_${_.toLowerCase()}`:_.replace(/([A-Z][a-z]+)/g,function(b){return`_${b}`}).replace(/([A-Z][A-Z]+)/g,function(b){return`_${b}`}).toLowerCase()}logLatency(_,b,E){const T=this.toSuffix(_);this.logEventTime("meeting"+T,b,E)}logStateTimeout(_,b){const E=this.toSuffix(_);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},b),{state:`state${E}`}))}logAudioEvent(_,b){const E="audio"+this.toSuffix(g.default[_]);this.logEvent(E,b)}logVideoEvent(_,b){const E="video"+this.toSuffix(v.default[_]);this.logEvent(E,b)}logEventTime(_,b){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=Object.assign(Object.assign({},E),{call_id:this.audioVideoController.configuration.meetingId,client_type:hp.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${_}: ${JSON.stringify(T)}`),this.metricsAddTime(_,b,T)}logMeetingSessionStatus(_){const b=`${_.statusCode()}`;this.logEvent(b);const E={status:b,status_code:`${_.statusCode()}`};this.logEvent("meeting_session_status",E),_.isTerminal()&&this.logEvent("meeting_session_stopped",E),_.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",E),_.isFailure()&&this.logEvent("meeting_session_failed",E)}logLifecycleEvent(_,b){const E={lifecycle_event:`lifecycle${this.toSuffix(e.default[_])}`,lifecycle_event_code:`${_}`,lifecycle_event_condition:`condition${this.toSuffix(t.default[b])}`,lifecycle_event_condition_code:`${b}`};this.logEvent("meeting_session_lifecycle",E)}logEvent(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=Object.assign(Object.assign({},b),{call_id:this.audioVideoController.configuration.meetingId,client_type:hp.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${_}: ${JSON.stringify(E)}`),this.metricsLogEvent(_,E)}start(_,b){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=_,this.videoStreamIndex=b,this.clientMetricReport=new m.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new r.default(this.interval),this.intervalScheduler.start(()=>d(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}videoTileResolutionDidChange(_,b,E){this.resolutionMap.set(_,{width:b,height:E})}videoTileUnbound(_){this.resolutionMap.delete(_)}updateMetricValues(_,b){const E=b?this.clientMetricReport.streamMetricReports[Number(_.ssrc)]:this.clientMetricReport.globalMetricReport;let T;if(b){const I=E.mediaType,A=E.direction;T=this.clientMetricReport.getMetricMap(I,A),I===a.default.VIDEO&&A===p.default.DOWNSTREAM&&this.addRenderResolutionToVideoDownstreamMetrics(E,_.ssrc)}else T=this.clientMetricReport.getMetricMap();for(const I in _)I in T&&(typeof _[I]=="number"?(E.previousMetrics[I]=E.currentMetrics[I],E.currentMetrics[I]=_[I]):typeof _[I]=="string"?E.currentStringMetrics[I]=_[I]:typeof _[I]=="object"?(E.previousObjectMetrics[I]=E.currentObjectMetrics[I]===void 0?_[I]:E.currentObjectMetrics[I],E.currentObjectMetrics[I]=_[I]):this.logger.error(`Unknown metric value type ${typeof _[I]} for metric ${I}`))}processRawMetricReports(_){this.clientMetricReport.currentSsrcs={};const b=Date.now();for(const E of _){if(this.isVideoSourceMetricReport(E))continue;const T=this.isStreamRawMetricReport(E);if(T){const I=this.clientMetricReport.streamMetricReports[Number(E.ssrc)];if(I)I.mediaType===a.default.VIDEO&&I.direction===p.default.UPSTREAM?I.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(E.rid):I.streamId=this.videoStreamIndex.streamIdForSSRC(Number(E.ssrc));else{const A=new i.default;A.mediaType=this.getMediaType(E),A.direction=this.getDirectionType(E),A.mediaType===a.default.VIDEO&&A.direction===p.default.UPSTREAM?A.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(E.rid):this.videoStreamIndex.allStreams().empty()||(A.streamId=this.videoStreamIndex.streamIdForSSRC(Number(E.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(A.groupId=this.videoStreamIndex.groupIdForSSRC(Number(E.ssrc)))),this.clientMetricReport.streamMetricReports[Number(E.ssrc)]=A}this.clientMetricReport.currentSsrcs[Number(E.ssrc)]=1}this.updateMetricValues(E,T)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=b,this.clientMetricReport.print()}addStreamMetricDimensionFrames(_,b){const E=this.clientMetricReport.getStreamDimensionMap();for(const T in b.currentStringMetrics)if(T in E){const I=o.SdkStreamDimension.create();I.type=E[T];const A=o.SdkDimensionValue.create();A.stringValue=b.currentStringMetrics[T],I.value=A,_.dimensions.push(I)}}addMetricFrame(_,b,E,T){const I=E.type,A=E.transform,w=E.source,R=b.streamMetricFrames.length,P=b.streamMetricFrames[R-1];if(I){const x=o.SdkMetric.create();x.type=I,x.value=A(w||_,T),T?P.metrics.push(x):b.globalMetrics.push(x)}}addGlobalMetricsToProtobuf(_){const b=this.clientMetricReport.getMetricMap();for(const E in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(E,_,b[E])}addStreamMetricsToProtobuf(_){for(const b in this.clientMetricReport.streamMetricReports){const E=this.clientMetricReport.streamMetricReports[b],T=o.SdkStreamMetricFrame.create();T.streamId=E.streamId,T.mediaType=E.mediaType===a.default.AUDIO?o.SdkStreamMediaType.AUDIO:o.SdkStreamMediaType.VIDEO,T.metrics=[],this.addStreamMetricDimensionFrames(T,E),_.streamMetricFrames.push(T);const I=this.clientMetricReport.getMetricMap(E.mediaType,E.direction);for(const A in I)this.hasMetricDependenciesInReport(A,E)&&this.addMetricFrame(A,_,I[A],Number(b))}}hasMetricDependenciesInReport(_,b){return _==="decoderLoss"&&b.currentMetrics.concealedSamples!==void 0&&b.currentMetrics.totalSamplesReceived!==void 0||_==="jitterBufferMs"&&b.currentMetrics.jitterBufferDelay!==void 0&&b.currentMetrics.jitterBufferEmittedCount!==void 0||_ in b.currentMetrics||_ in b.currentStringMetrics||_ in b.currentObjectMetrics}makeClientMetricProtobuf(){const _=o.SdkClientMetricFrame.create();return _.globalMetrics=[],_.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(_),this.addStreamMetricsToProtobuf(_),_}sendClientMetricProtobuf(_){this.signalingClient.sendClientMetrics(_)}isStreamRawMetricReport(_){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(_.type)||this.isVideoSourceMetricReport(_)}getMediaType(_){return _.kind==="audio"?a.default.AUDIO:a.default.VIDEO}getDirectionType(_){const{type:b}=_;return b==="inbound-rtp"||b==="remote-outbound-rtp"||b==="inbound-rtp-red"?p.default.DOWNSTREAM:p.default.UPSTREAM}isValidStandardRawMetric(_){return _.type==="inbound-rtp"||_.type==="inbound-rtp-red"||_.type==="outbound-rtp"||_.type==="remote-inbound-rtp"||_.type==="remote-outbound-rtp"||_.type==="candidate-pair"&&_.state==="succeeded"||_.type==="media-source"}isValidSsrc(_){let b=!0;return this.isStreamRawMetricReport(_)&&this.getDirectionType(_)===p.default.DOWNSTREAM&&this.getMediaType(_)===a.default.VIDEO&&(b=this.videoStreamIndex.streamIdForSSRC(Number(_.ssrc))>0),b}isValidRawMetricReport(_){return this.isValidStandardRawMetric(_)&&this.isValidSsrc(_)}filterRawMetricReports(_){const b=[];for(const E of _)this.isValidRawMetricReport(E)&&b.push(E);return b}handleRawMetricReports(_){const b=this.filterRawMetricReports(_);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(b)}`);const E=[];this.maybeAddRedRecoveryMetrics(E);const T=this.getVideoUpstreamSsrcFromRawMetricReports(b);T!==null&&this.addVideoCodecDegradationMetrics(E,T),this.clientMetricReport.customStatsReports=E,b.push(...E),this.processRawMetricReports(b),this.updateVideoSourceMetrics(b);const I=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(I),this.audioVideoController.forEachObserver(A=>{f.Maybe.of(A.metricsDidReceive).map(w=>w.bind(A)(this.clientMetricReport.clone()))})}getStatsWrapper(){return d(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const _=[];try{const b=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=b,b.forEach(E=>{_.push(E)}),this.handleRawMetricReports(_)}catch(b){this.logger.error(b.message)}})}overrideObservableMetric(_,b){this.clientMetricReport.overrideObservableMetric(_,b)}recoveryMetricsDidReceive(_){this.redRecoveryMetricReport=_}maybeAddRedRecoveryMetrics(_){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(_.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}videoCodecDegradationHighEncodeCpuDidReceive(){this.videoCodecDegradationHighEncodeCpuCount+=1}videoCodecDegradationEncodeFailureDidReceive(){this.videoCodecDegradationEncodeFailureCount+=1}addVideoCodecDegradationMetrics(_,b){_.push({kind:"video",type:"outbound-rtp",ssrc:b,timestamp:Date.now(),videoCodecDegradationHighEncodeCpu:this.videoCodecDegradationHighEncodeCpuCount,videoCodecDegradationEncodeFailure:this.videoCodecDegradationEncodeFailureCount}),this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0}getVideoUpstreamSsrcFromRawMetricReports(_){for(const b of _)if(this.isStreamRawMetricReport(b)&&this.getMediaType(b)===a.default.VIDEO&&this.getDirectionType(b)===p.default.UPSTREAM)return b.ssrc;return null}isVideoSourceMetricReport(_){return _.type==="media-source"&&_.kind==="video"}addRenderResolutionToVideoDownstreamMetrics(_,b){const E=this.videoStreamIndex.streamIdForSSRC(Number(b)),T=this.videoStreamIndex.attendeeIdForStreamId(E);if(E===void 0||T===""){this.logger.warn(`No attendee found for ssrc ${b}`);return}this.resolutionMap.has(T)&&(_.currentMetrics.videoRenderWidth=this.resolutionMap.get(T).width,_.currentMetrics.videoRenderHeight=this.resolutionMap.get(T).height)}updateVideoSourceMetrics(_){for(const b of _)if(this.isVideoSourceMetricReport(b)){const E=this.clientMetricReport.getVideoUpstreamSsrcs();if(E.length===0){this.logger.warn("No video upstream ssrcs found");return}for(const T of E)this.clientMetricReport.streamMetricReports[T].currentMetrics.videoInputWidth=b.width,this.clientMetricReport.streamMetricReports[T].currentMetrics.videoInputHeight=b.height}}constructor(_,b,E=hp.INTERVAL_MS){this.audioVideoController=_,this.logger=b,this.interval=E,this.intervalScheduler=null,this.redRecoveryMetricReport=new s.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0,this.resolutionMap=new Map,this.metricsAddTime=(T,I,A)=>{},this.metricsLogEvent=(T,I)=>{}}},"StatsCollector");l.default=u,u.INTERVAL_MS=1e3,u.CLIENT_TYPE="amazon-chime-sdk-js"},4954547171:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoLogEvent=void 0;var c;(function(d){d[d.InputAttached=0]="InputAttached",d[d.SendingFailed=1]="SendingFailed",d[d.SendingSuccess=2]="SendingSuccess"})(c=l.VideoLogEvent||(l.VideoLogEvent={})),l.default=c},44274307:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(4954547171)),p=h(c(9651796943));let a=n(class extends p.default{run(){return d(this,void 0,void 0,function*(){const i=this.context.transceiverController;i.setPeer(this.context.peer),i.setupLocalTransceivers();const e=this.context.activeAudioInput;if(e){const r=e.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield i.setAudioInput(r.length?r[0]:null)}else yield i.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();const t=this.context.activeVideoInput;if(t){const r=t.getVideoTracks(),o=r.length?r[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield i.setVideoInput(o),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const f=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();i.setEncodingParameters(f)}o&&this.context.statsCollector.logVideoEvent(m.default.InputAttached,this.context.videoDeviceInformation)}else yield i.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=i.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive),this.context.videoStreamIndex.subscribeFrameSent()})}setAudioCodecPreferences(){const i=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,e=this.context.audioProfile.hasRedundancyEnabled();if(!i){this.context.logger.warn("Setting codec preferences not supported");return}const t=this.context.transceiverController.localAudioTransceiver(),{codecs:r}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug(`Available audio codecs ${JSON.stringify(r,null,4)}`);const o=r.findIndex(f=>f.mimeType==="audio/red");if(!t){this.context.logger.error("audio transceiver is null");return}if(o>=0){const f=r[o];r.splice(o,1),e?(r.unshift(f),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),t.setCodecPreferences(r);return}this.context.logger.info("audio/red codec not supported")}constructor(i){super(i.logger),this.context=i,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");l.default=a},9651796943:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(7977267467)),p=h(c(3274536108));let a=n(class{once(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return new m.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(i){this.parentTask=i}getStatus(){return this.status}logAndThrow(i){throw this.logger.info(i),new Error(i)}baseRun(i){return d(this,void 0,void 0,function*(){try{const e=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case p.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case p.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case p.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=p.default.RUNNING,yield i.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-e)} ms`)}catch(e){throw e}finally{this.status!==p.default.CANCELED&&(this.status=p.default.FINISHED)}})}baseCancel(i){if(this.status===p.default.CANCELED||this.status===p.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=p.default.CANCELED,i.call(this)}constructor(i){this.logger=i,this.taskName="BaseTask",this.parentTask=null,this.status=p.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");l.default=a},7344467851:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9651796943));let p=n(class extends m.default{run(){return d(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(s){super(s.logger),this.context=s,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");l.default=p},5438824562:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(201131498)),p=h(c(9651796943));let a=n(class extends p.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(i){throw i}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const i=this.context.videoTileController.getLocalVideoTile();i&&i.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((i,e)=>{let t=n(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(f){f.type===m.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),i())}constructor(f){this.signalingClient=f}},"Interceptor");const r=new t(this.context.signalingClient);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)})}constructor(i){super(i.logger),this.context=i,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");l.default=a},38878034:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9651796943));let p=n(class extends m.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const s in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[s]()}addPeerConnectionEventLogger(){const s=this.context.peer;s.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${s.connectionState}`)}),s.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),s.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${s.iceGatheringState}`)}),s.addEventListener("icecandidate",i=>{this.context.logger.info(`peer connection ice candidate: ${i.candidate?i.candidate.candidate:"(null)"}`)}),s.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${s.iceConnectionState}`)})}run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const i=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};i.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),i.sdpSemantics="unified-plan",i.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(i),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(s){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(s)):!1}addRemoteVideoTrack(s,i){var e;const t=i.id,r=this.context.videoStreamIndex.attendeeIdForTrack(t);let o,f;if(this.context.videoTileController.getVideoTileForAttendeeId?(f=this.context.videoTileController.getVideoTileForAttendeeId(r),o=!!(!((e=f==null?void 0:f.state())===null||e===void 0)&&e.boundVideoStream)):o=this.context.videoTileController.haveVideoTileForAttendeeId(r),o){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${r}`);return}f||(f=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${f.id()}`));let g=this.context.videoStreamIndex.streamIdForTrack(t);typeof g>"u"&&(this.logger.warn(`stream not found for tile=${f.id()} track=${t}`),g=null);let v=this.context.videoStreamIndex.groupIdForStreamId(g);v===void 0&&(v=null);for(let I=0;I<this.trackEvents.length;I++){const A=this.trackEvents[I],w=i.getVideoTracks();if(w&&w.length){const R=w[0],P=n(()=>{this.context.logger.info(`received the ${A} event for tile=${f.id()} id=${s.id} streamId=${g}`),A==="ended"&&this.removeRemoteVideoTrack(s,f.state())},"callback");R.addEventListener(A,P),this.removeVideoTrackEventListeners[s.id]||(this.removeVideoTrackEventListeners[s.id]=[]),this.removeVideoTrackEventListeners[s.id].push(()=>{R.removeEventListener(A,P)})}}let u,S;if(s.getSettings){const I=s.getSettings();u=I.width,S=I.height}else{const I=s.getCapabilities();u=I.width,S=I.height}const _=this.context.videoStreamIndex.externalUserIdForTrack(t);f.bindVideoStream(r,!1,i,u,S,g,_,v),this.logger.info(`video track added, use tile=${f.id()} track=${t} streamId=${g} groupId=${v}`);const b="removetrack",E=i,T=n(()=>this.removeRemoteVideoTrack(s,f.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[s.id]=()=>{E.removeEventListener(b,T),delete this.removeTrackRemovedEventListeners[s.id]},E.addEventListener(b,T)}removeRemoteVideoTrack(s,i){if(this.removeTrackRemovedEventListeners.hasOwnProperty(s.id)){this.removeTrackRemovedEventListeners[s.id]();for(const e of this.removeVideoTrackEventListeners[s.id])e();delete this.removeVideoTrackEventListeners[s.id]}this.logger.info(`video track ended, removing tile=${i.tileId} id=${s.id} stream=${i.streamId}`),i.streamId?this.context.videosPaused.remove(i.streamId):this.logger.warn(`no stream found for tile=${i.tileId}`),this.context.videoTileController.removeVideoTile(i.tileId)}constructor(s){super(s.logger),this.context=s,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=i=>{const e=i.track;if(this.context.logger.info(`received track event: kind=${e.kind} id=${e.id} label=${e.label}`),i.transceiver&&i.transceiver.currentDirection==="inactive")return;if(i.streams.length===0){this.context.logger.warn("Track event but no stream");return}const t=i.streams[0];e.kind==="audio"?this.context.audioMixController.bindAudioStream(t):e.kind==="video"&&!this.trackIsVideoInput(e)&&this.addRemoteVideoTrack(e,t)}}},"CreatePeerConnectionTask");l.default=p,p.REMOVE_HANDLER_INTERVAL_MS=1e4},320218677:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(4474236581)),p=h(c(5603242550)),a=h(c(9651796943));let s=n(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(!((t=(e=this.context.meetingSessionConfiguration)===null||e===void 0?void 0:e.urls)===null||t===void 0)&&t.audioHostURL)}sessionUsesVideo(){let t;this.context.transceiverController.useTransceivers()?t=this.context.transceiverController.hasVideoInput():t=this.context.videoTileController.hasStartedLocalVideoTile();const r=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),o=t||r;return this.context.logger.info(`uses video: ${o} (enabled: ${!0}, sending: ${t}, receiving: ${r})`),o}run(){return d(this,void 0,void 0,function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise((t,r)=>d(this,void 0,void 0,function*(){this.cancelPromise=o=>{r(o)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new p.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const o=new Error(`canceling ${this.name()} due to the meeting status code: ${m.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,r(o);return}t()}catch(o){r(o)}finally{delete this.cancelPromise}}))})}constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}},"CreateSDPTask");l.default=s},2568010183:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(4474236581)),p=h(c(5603242550)),a=h(c(9651796943));let s=n(class Iv extends a.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${m.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return d(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new p.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new p.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((e,t)=>{this.cancelPromise=r=>{this.removeEventListener(),t(r)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),e(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=r=>{if(this.context.logger.info(`ice candidate: ${r.candidate?r.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),r.candidate&&(p.default.isRTPCandidate(r.candidate.candidate)&&this.context.iceCandidates.push(r.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new p.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(t(new Error("no ice candidates were gathered")),delete this.cancelPromise):(e(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(e,t=Iv.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");l.default=s,s.CHROME_VPN_TIMEOUT_MS=5e3},887979666:function(V,l,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(u,S,_,b){b===void 0&&(b=_),Object.defineProperty(u,b,{enumerable:!0,get:function(){return S[_]}})}:function(u,S,_,b){b===void 0&&(b=_),u[b]=S[_]}),h=this&&this.__setModuleDefault||(Object.create?function(u,S){Object.defineProperty(u,"default",{enumerable:!0,value:S})}:function(u,S){u.default=S}),m=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var S={};if(u!=null)for(var _ in u)_!=="default"&&Object.prototype.hasOwnProperty.call(u,_)&&d(S,u,_);return h(S,u),S},p=this&&this.__awaiter||function(u,S,_,b){function E(T){return T instanceof _?T:new _(function(I){I(T)})}return n(E,"adopt"),new(_||(_=Promise))(function(T,I){function A(P){try{R(b.next(P))}catch(x){I(x)}}n(A,"fulfilled");function w(P){try{R(b.throw(P))}catch(x){I(x)}}n(w,"rejected");function R(P){P.done?T(P.value):E(P.value).then(A,w)}n(R,"step"),R((b=b.apply(u,S||[])).next())})},a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(c(8363971156)),i=a(c(4474236581)),e=a(c(4418554613)),t=m(c(498975381)),r=a(c(201131498)),o=a(c(7090195098)),f=c(7344258710),g=a(c(9651796943));let v=n(class extends g.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return p(this,void 0,void 0,function*(){const S=yield new Promise((_,b)=>{const E=this.context;E.turnCredentials=null;let T=n(class{cancel(){this.signalingClient.removeObserver(this),b(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(R){if(R.type===r.default.WebSocketClosed){let x=`The signaling connection was closed with code ${R.closeCode} and reason: ${R.closeReason}`;E.logger.warn(x);let z=i.default.SignalingBadRequest;R.closeCode===4410?(x="The meeting already ended.",E.logger.warn(x),z=i.default.MeetingEnded):R.closeCode>=4500&&R.closeCode<4600&&(z=i.default.SignalingInternalServerError),E.audioVideoController.handleMeetingSessionStatus(new s.default(z),new Error(x));return}if(R.type!==r.default.ReceivedSignalFrame)return;if(R.message.type===f.SdkSignalFrame.Type.JOIN_ACK){const x=R.message.joinack;if(!x){E.audioVideoController.handleMeetingSessionStatus(new s.default(i.default.SignalingRequestFailed),new Error("Join ACK message did not include expected frame"));return}if(x.videoSubscriptionLimit&&(E.videoSubscriptionLimit=x.videoSubscriptionLimit),E.serverSupportsCompression=x.wantsCompressedSdp,x.defaultServerSideNetworkAdaption!==void 0&&x.defaultServerSideNetworkAdaption!==t.default.Default&&E.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const z=x.defaultServerSideNetworkAdaption;E.logger.info(`Overriding server side network adaption value to ${z}`),E.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(t.convertServerSideNetworkAdaptionEnumFromSignaled(z))}x&&x.turnCredentials?(E.turnCredentials=new e.default,E.turnCredentials.username=x.turnCredentials.username,E.turnCredentials.password=x.turnCredentials.password,E.turnCredentials.ttl=x.turnCredentials.ttl,E.turnCredentials.uris=x.turnCredentials.uris.map(z=>E.meetingSessionConfiguration.urls.urlRewriter(z)).filter(z=>!!z)):E.logger.error("missing TURN credentials in JoinAckFrame");return}if(R.message.type!==f.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const P=R.message.index;_(P)}constructor(R){this.signalingClient=R}},"IndexFrameInterceptor");const I=new T(this.context.signalingClient);this.context.signalingClient.registerObserver(I),this.taskCanceler=I,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const A=new o.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(A.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),A.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex!==void 0&&(A.wantsAllTemporalLayersInIndex=this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex()),A.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(A)});this.context.logger.info(`received first index ${JSON.stringify(S)}`),this.context.indexFrame=S})}constructor(S){super(S.logger),this.context=S,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");l.default=v},8813893041:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(201131498)),p=c(7344258710),a=h(c(9651796943));let s=n(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((e,t)=>{let r=n(class{cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(g){if(g.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),e();return}g.type===m.default.ReceivedSignalFrame&&g.message.type===p.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}constructor(g,v){this.signalingClient=g,this.logger=v}},"Interceptor");const o=new r(this.context.signalingClient,this.context.logger);this.taskCanceler=o,this.context.signalingClient.registerObserver(o)})}constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");l.default=s},4016680554:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(201131498)),p=c(7344258710),a=h(c(9651796943));let s=n(class extends a.default{run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===m.default.ReceivedSignalFrame){if(e.message.type===p.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===p.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=t=>{this.context.signalingClient.mute(t)}}},"ListenForVolumeIndicatorsTask");l.default=s},4246373854:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(b,E,T,I){function A(w){return w instanceof T?w:new T(function(R){R(w)})}return n(A,"adopt"),new(T||(T=Promise))(function(w,R){function P(Z){try{z(I.next(Z))}catch(re){R(re)}}n(P,"fulfilled");function x(Z){try{z(I.throw(Z))}catch(re){R(re)}}n(x,"rejected");function z(Z){Z.done?w(Z.value):A(Z.value).then(P,x)}n(z,"step"),z((I=I.apply(b,E||[])).next())})},h=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9228821375)),p=h(c(8620705262)),a=h(c(4705746645)),s=h(c(7549473166)),i=h(c(1168113665)),e=h(c(9225479537)),t=h(c(8363971156)),r=h(c(4474236581)),o=h(c(6375844864)),f=h(c(201131498)),g=c(7344258710),v=h(c(5018804390)),u=c(8479756130),S=h(c(9651796943));let _=n(class extends S.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(E){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(E){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=E;return}else this.pendingMetricsReport=void 0;const T=E.getObservableMetrics(),I=T.availableOutgoingBitrate,A=T.nackCountReceivedPerSecond;let w=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(E);const R=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(w=w||R,R){const P=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=P.truncate(this.context.videoSubscriptionLimit),P.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${R}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:I/1e3,nackCountPerSecond:A});const P=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();w=w||P,P&&(this.logger.info(`trigger resubscribe for up=${P}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters())}return w}metricsDidReceive(E){if(this.checkResubscribe(E)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const T=E.streamMetricReports,I=new Map;for(const A in T)T[A].mediaType===p.default.VIDEO&&T[A].direction===m.default.DOWNSTREAM&&I.set(T[A].streamId,T[A])}connectionHealthDidChange(E){E.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,E,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new t.default(r.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,E,()=>{var T;this.context.poorConnectionCount+=1;const I=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(T=this.context.eventController)===null||T===void 0||T.publishEvent("receivingAudioDropped",I),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(A=>{u.Maybe.of(A.connectionDidSuggestStopVideo).map(w=>w.bind(A)())}):this.context.audioVideoController.forEachObserver(A=>{u.Maybe.of(A.connectionDidBecomePoor).map(w=>w.bind(A)())})},()=>{this.context.audioVideoController.forEachObserver(T=>{u.Maybe.of(T.connectionDidBecomeGood).map(I=>I.bind(T)())})});for(const T of this.videoEncodingHealthPolicies)this.applyHealthPolicy(T,E,()=>{switch(this.degradeVideoCodec(T.name),T.name){case e.default.VideoEncodingCpuHealth:this.context.statsCollector.videoCodecDegradationHighEncodeCpuDidReceive();break;case e.default.VideoEncodingFramerateHealth:this.context.statsCollector.videoCodecDegradationEncodeFailureDidReceive();break}});this.context.isSessionConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,E,()=>{var T;const I=this.generateBaseAudioVideoEventAttributes();(T=this.context.eventController)===null||T===void 0||T.publishEvent("sendingAudioFailed",I)},()=>{var T;const I=this.generateBaseAudioVideoEventAttributes();(T=this.context.eventController)===null||T===void 0||T.publishEvent("sendingAudioRecovered",I)})}applyHealthPolicy(E,T,I,A){E.update(T);const w=E.healthIfChanged();w!==null&&(this.logger.info(`${E.name} value is now ${w}`),w<=E.minimumHealth()?u.Maybe.of(I).map(R=>R.bind(this)()):u.Maybe.of(A).map(R=>R.bind(this)()))}handleBitrateFrame(E){this.currentAvailableStreamAvgBitrates=E,E.serverAvailableOutgoingBitrate>0&&(this.logger.info(`Received server side estimation of available incoming bitrate ${E.serverAvailableOutgoingBitrate}kbps`),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",E.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(E){var T;if(E.type===f.default.WebSocketClosed&&this.isUnexpectedWebsocketCloseCode(E.closeCode)||E.type===f.default.WebSocketError||E.type===f.default.WebSocketFailed){if(E.type===f.default.WebSocketClosed&&this.context.logger.info(`The signaling connection was closed with code ${E.closeCode} and reason: ${E.closeReason}`),!this.hasSignalingError){const I=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(T=this.context.eventController)===null||T===void 0||T.publishEvent("signalingDropped",I),this.hasSignalingError=!0}this.context.isSessionConnected&&this.context.audioVideoController.handleMeetingSessionStatus(new t.default(this.isInternalServerFailureCloseCode(E.closeCode)?r.default.SignalingInternalServerError:r.default.SignalingChannelClosedUnexpectedly),null)}else E.type===f.default.WebSocketOpen&&(this.hasSignalingError=!1);if(E.type===f.default.ReceivedSignalFrame){if(E.message.type===g.SdkSignalFrame.Type.NOTIFICATION){switch(E.message.notification.level){case g.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info(`Received notification from server: ${E.message.notification.message}`);break;case g.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn(`Received warning from server: ${E.message.notification.message}`);break;case g.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error(`Received error from server: ${E.message.notification.message}`);break;default:this.logger.error(`Received notification from server with unknown level ${E.message.notification.level}: ${E.message.notification.message}`);break}return}if(E.message.bitrates){const A=E.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(A),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(E.message.bitrates)}const I=t.default.fromSignalFrame(E.message);E.message.type!==g.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&I.statusCode()!==r.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(I,null)}}isUnexpectedWebsocketCloseCode(E){return E===1006||this.isInternalServerFailureCloseCode(E)}isInternalServerFailureCloseCode(E){return E>=4500&&E<4600}degradeVideoCodec(E){if(this.context.meetingSupportedVideoSendCodecPreferences!==void 0&&this.context.meetingSupportedVideoSendCodecPreferences.length>1&&!(this.context.meetingSupportedVideoSendCodecPreferences[0].equals(o.default.h264ConstrainedBaselineProfile())||this.context.meetingSupportedVideoSendCodecPreferences[0].equals(o.default.vp8()))){const T=[];for(const I of this.context.videoSendCodecPreferences)I.equals(this.context.meetingSupportedVideoSendCodecPreferences[0])||T.push(I);T.length>0?(this.context.logger.info(`Downgrading codec from ${this.context.meetingSupportedVideoSendCodecPreferences[0].codecName} to ${T[0].codecName} due to ${E}`),this.context.degradedVideoSendCodecs.push(this.context.meetingSupportedVideoSendCodecPreferences[0]),this.context.meetingSupportedVideoSendCodecPreferences=T,this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),this.context.audioVideoController.update({needsRenegotiation:!0})):this.context.logger.warn(`Degrading video codec failed since there is no alternative codec to select. Currently degraded codecs: ${this.context.degradedVideoSendCodecs.map(I=>I.codecName).join(",")}`)}}constructor(E,T,I){super(E.logger),this.context=E,this.initialConnectionHealthData=I,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.videoEncodingHealthPolicies=[],this.checkAndSendWeakSignalEvent=A=>{const w=A<1,R=this.prevSignalStrength<1,P=w?R?null:v.default.RedmicStartLoss:R?v.default.RedmicEndLoss:null;P&&this.context.statsCollector.logAudioEvent(P),this.prevSignalStrength=A},this.realtimeFatalErrorCallback=A=>{this.logger.error(`realtime error: ${A}: ${A.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new t.default(r.default.RealtimeApiFailed),A)},this.realtimeAttendeeIdPresenceHandler=(A,w)=>{var R;const P=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${P}`),P===A&&w&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(R=this.context.eventController)===null||R===void 0||R.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:A,startTimeMs:w,iceGatheringDurationMs:R,attendeePresenceDurationMs:P,meetingStartDurationMs:x}=this.context;return{meetingDurationMs:w===null?0:Math.round(Date.now()-w),signalingOpenDurationMs:A,iceGatheringDurationMs:R,attendeePresenceDurationMs:P,meetingStartDurationMs:x}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const A=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},A),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(E.logger,Object.assign({},T),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},T),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new s.default(E.logger,Object.assign({},T),this.initialConnectionHealthData.clone());for(const A of T.videoEncodingHealthPolicies)this.videoEncodingHealthPolicies.push(new A(Object.assign({},T),this.initialConnectionHealthData.clone()))}},"MonitorTask");l.default=_},9228434098:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(h){}},"NoOpTask");l.default=c},7977267467:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4918602332)),m=d(c(7416186200));let p=n(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const s of this.dependencies)s.cancel();this.logger.info(`Canceling ${this.name()}`),m.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&m.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>h.default.INFO||!this.dependencies)return;const s=this.dependencies.filter(i=>i).map(i=>i.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${s}`)}run(){if(this.promise)return this.promise;const s=this.dependencies?Promise.all(this.dependencies.map(i=>i==null?void 0:i.run())):Promise.resolve();return this.logDependencies(),this.ongoing=s.then(()=>this.task.run()),this.promise=new Promise((i,e)=>{this.cancelPromise=e,this.ongoing.then(i).catch(e)})}setParent(s){this.task.setParent(s)}constructor(s,i,e){this.logger=s,this.task=i,this.dependencies=e,this.canceled=!1}},"OnceTask");l.default=p},9816353112:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6963141047)),p=h(c(201131498)),a=h(c(9651796943));let s=n(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new m.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise((r,o)=>{let f=n(class{cancel(){this.signalingClient.removeObserver(this),o(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(u){switch(u.type){case p.default.WebSocketOpen:this.signalingClient.removeObserver(this),r();break;case p.default.WebSocketFailed:this.signalingClient.removeObserver(this),o(new Error("WebSocket connection failed"));break}}constructor(u){this.signalingClient=u}},"WebSocketOpenInterceptor");const g=new f(this.context.signalingClient);this.context.signalingClient.registerObserver(g),this.taskCanceler=g})}catch(r){throw r}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");l.default=s},5061413178:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9651796943));let p=n(class extends m.default{cancel(){for(const s of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${s.name()}`),s.cancel()}run(){return d(this,void 0,void 0,function*(){const s=[];for(const e of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${e.name()}`),s.push(e.run());const i=[];for(let e=0;e<s.length;e++){try{yield s[e]}catch(t){i.push(`task ${this.tasksToRunParallel[e].name()} failed: ${t.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[e].name()}`)}if(i.length>0){const e=i.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(s,i,e){super(s),this.taskName=i,this.tasksToRunParallel=e;for(const t of e)t.setParent(this)}},"ParallelGroupTask");l.default=p},3517731918:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(e,t,r,o){function f(g){return g instanceof r?g:new r(function(v){v(g)})}return n(f,"adopt"),new(r||(r=Promise))(function(g,v){function u(b){try{_(o.next(b))}catch(E){v(E)}}n(u,"fulfilled");function S(b){try{_(o.throw(b))}catch(E){v(E)}}n(S,"rejected");function _(b){b.done?g(b.value):f(b.value).then(u,S)}n(_,"step"),_((o=o.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(4378636601),p=h(c(201131498)),a=c(7344258710),s=h(c(9651796943));let i=n(class extends s.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new m.MeetingSessionStatus(m.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((t,r)=>{let o=n(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new m.MeetingSessionStatus(m.MeetingSessionStatusCode.SignalingRequestFailed)),t()}handleSignalingClientEvent(v){v.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new m.MeetingSessionStatus(m.MeetingSessionStatusCode.SignalingRequestFailed)),t()),v.type===p.default.ReceivedSignalFrame&&v.message.type===a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(m.MeetingSessionStatus.fromSignalFrame(v.message)),t())}constructor(v,u,S){this.signalingClient=v,this.completionCallback=u,this.logger=S}},"Interceptor");const f=new o(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=f,this.context.signalingClient.registerObserver(f)})}constructor(t,r,o){super(t.logger),this.context=t,this.credentials=r,this.completionCallback=o,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");l.default=i},5932071943:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9651796943));let p=n(class extends m.default{run(){var s,i;return d(this,void 0,void 0,function*(){if(!(!((i=(s=this.context.meetingSessionConfiguration)===null||s===void 0?void 0:s.urls)===null||i===void 0)&&i.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let e;try{e=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}e?this.context.activeAudioInput=e:this.context.logger.warn("an audio input is not available")})}constructor(s){super(s.logger),this.context=s,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");l.default=p},9360452255:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(201131498)),p=c(7344258710),a=h(c(9651796943));let s=n(class extends a.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return d(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}updateSubscribedGroupdIds(e){const t=new Set;for(const r of e){const o=this.context.videoStreamIndex.attendeeIdForGroupId(r);if(o.length===0){this.logger.warn(`Could not find attendee ID for newly subscribed group ID ${r}`);continue}let f=this.context.videoTileController.getVideoTileForAttendeeId(o);f===void 0&&(this.logger.info(`No existing video tile for attendee ID ${o} with new group ID ${r}. Creating new one.`),f=this.context.videoTileController.addVideoTile(),f.bindVideoStream(o,!1,null,0,0,0,null)),t.add(f.id())}this.serverPausedVideoTileIds.forEach(r=>{t.has(r)||this.serverPausedVideoTileIds.delete(r)})}handleSignalingClientEvent(e){if(e.type!==m.default.ReceivedSignalFrame||e.message.type!==p.SdkSignalFrame.Type.PAUSE&&e.message.type!==p.SdkSignalFrame.Type.RESUME)return;const t=e.message.pause,r=e.message.type;if(this.logger.info(`Received new ${r===p.SdkSignalFrame.Type.PAUSE?"pause":"resume"} frame: ${JSON.stringify(t)}`),!t||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const o=t.groupIds.map(f=>{const g=this.context.videoStreamIndex.attendeeIdForGroupId(f);if(g.length===0){this.logger.warn(`Could not find attendee ID for paused group ID ${f}`);return}return this.context.videoTileController.getVideoTileForAttendeeId(g)});for(const f of o)f!==void 0&&(r===p.SdkSignalFrame.Type.PAUSE?f.state().paused||(this.serverPausedVideoTileIds.add(f.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBePausedByDownlinkPolicy(f.id())}),f.pause()):f.state().paused&&this.serverPausedVideoTileIds.has(f.id())&&(this.serverPausedVideoTileIds.delete(f.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBeUnpausedByDownlinkPolicy(f.id())}),f.unpause()))}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}},"ReceiveRemoteVideoPauseResume");l.default=s},4608327356:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(5519271617)),p=c(7344258710),a=h(c(9651796943));let s=n(class extends a.default{checkAndApplyVideoConstraint(e,t,r,o,f){return d(this,void 0,void 0,function*(){const g=e?this.context.meetingSessionConfiguration.meetingFeatures.contentMaxResolution:this.context.meetingSessionConfiguration.meetingFeatures.videoMaxResolution;if(!e&&r<=g.videoWidth&&o<=g.videoHeight&&f<=g.videoFrameRate)return;const v={resizeMode:{ideal:"none"},width:{max:g.videoWidth},height:{max:g.videoHeight},frameRate:{ideal:f,max:g.videoFrameRate}};try{yield t.applyConstraints(v)}catch{this.context.logger.info(`Could not apply constraint for video track (content = ${e})`)}})}run(){return d(this,void 0,void 0,function*(){const e=this.context.videoDuplexMode===p.SdkStreamServiceType.RX||this.context.videoDuplexMode===p.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?p.SdkStreamServiceType.DUPLEX:p.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?p.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const t=this.context.videoTileController.getLocalVideoTile();let r;try{r=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const o=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(o.values()))}if(this.context.activeVideoInput=r,r){const o=r.getVideoTracks();if(!o||o.length===0)return;const f=this.context.meetingSessionConfiguration.credentials.attendeeId,g=new m.default(f).hasModality(m.default.MODALITY_CONTENT),v=o[0].getSettings();this.checkAndApplyVideoConstraint(g,o[0],v.width,v.height,v.frameRate);const u=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(f,!0,r,v.width,v.height,null,u);for(const S of o)this.logger.info(`Using video device label=${S.label} id=${S.id}`),this.context.videoDeviceInformation.current_camera_name=S.label,this.context.videoDeviceInformation.current_camera_id=S.id}})}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");l.default=s},4327951460:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(o,f,g,v){function u(S){return S instanceof g?S:new g(function(_){_(S)})}return n(u,"adopt"),new(g||(g=Promise))(function(S,_){function b(I){try{T(v.next(I))}catch(A){_(A)}}n(b,"fulfilled");function E(I){try{T(v.throw(I))}catch(A){_(A)}}n(E,"rejected");function T(I){I.done?S(I.value):u(I.value).then(b,E)}n(T,"step"),T((v=v.apply(o,f||[])).next())})},h=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1240186630)),p=h(c(5519271617)),a=h(c(6375844864)),s=h(c(201131498)),i=c(7344258710),e=c(8479756130),t=h(c(9651796943));let r=n(class extends t.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return d(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(f){if(f.type!==s.default.ReceivedSignalFrame||f.message.type!==i.SdkSignalFrame.Type.INDEX)return;const g=f.message.index;this.context.logger.info(`received new index ${JSON.stringify(g)}`),this.handleIndexFrame(g)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(f){if(!f)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=f;return}else this.pendingIndex=null;const g=this.context.audioVideoController.configuration.credentials.attendeeId;f.sources=f.sources.filter(E=>{const T=new p.default(E.attendeeId);return!(T.base()===g&&T.hasModality(p.default.MODALITY_CONTENT))});const{videoStreamIndex:v,videoDownlinkBandwidthPolicy:u,videoUplinkBandwidthPolicy:S}=this.context,_=v.allVideoSendingSourcesExcludingSelf(g);v.integrateIndexFrame(f),u.updateIndex(v),S.updateIndex(v),this.resubscribe(u,S),this.updateVideoAvailability(f),this.handleIndexVideosPausedAtSource(),f.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(f);const b=v.allVideoSendingSourcesExcludingSelf(g);this.areVideoSourcesEqual(_,b)||this.context.audioVideoController.forEachObserver(E=>{e.Maybe.of(E.remoteVideoSourcesDidChange).map(T=>T.bind(E)(b))})}areVideoSourcesEqual(f,g){if(f.length!==g.length)return!1;const v=n((_,b)=>_.attendee.attendeeId.localeCompare(b.attendee.attendeeId),"compare"),u=[...f].sort(v),S=[...g].sort(v);for(let _=0;_<u.length;_++)if(u[_].attendee.attendeeId!==S[_].attendee.attendeeId)return!1;return!0}resubscribe(f,g){const v=f.wantsResubscribe(),u=(this.context.videoDuplexMode===i.SdkStreamServiceType.TX||this.context.videoDuplexMode===i.SdkStreamServiceType.DUPLEX)&&g.wantsResubscribe(),S=v||u;if(this.logger.info(`should resubscribe: ${S} (downlink: ${v} uplink: ${u})`),!S)return;const _=f.chooseSubscriptions();this.context.videosToReceive=_.truncate(this.context.videoSubscriptionLimit),_.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=g.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${u} down=${v}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(f){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const g=new m.default;g.remoteVideoAvailable=!this.context.videosToReceive.empty(),g.canStartLocalVideo=!f.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(g))&&(this.context.lastKnownVideoAvailability=g.clone(),this.context.audioVideoController.forEachObserver(v=>{e.Maybe.of(v.videoAvailabilityDidChange).map(u=>u.bind(v)(g.clone()))}))}handleSupportedVideoReceiveCodecIntersection(f){if(this.context.videoSendCodecPreferences===void 0)return;const g=[];let v=!1;for(const u of this.context.videoSendCodecPreferences){if(this.context.degradedVideoSendCodecs.some(S=>u.equals(S))){this.logger.info(`Skipping ${u.codecName} since the codec has been identfied as degraded`);continue}for(const S of f.supportedReceiveCodecIntersection)if(u.equals(a.default.fromSignaled(S))){g.push(u);break}}if(g.length>0){const u=g.find(S=>this.context.prioritizedSendVideoCodecCapabilities.some(_=>S.equals(_)));this.context.currentVideoSendCodec!==void 0&&(u===void 0||!this.context.currentVideoSendCodec.equals(u))&&(v=!0),this.context.meetingSupportedVideoSendCodecPreferences=g}else this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0;this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),v&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const f=this.context.videoStreamIndex.streamsPausedAtSource();for(const g of this.context.videoTileController.getAllVideoTiles()){const v=g.state();f.contain(v.streamId)?g.markPoorConnection()&&this.logger.info(`marks the tile ${v.tileId} as having a poor connection`):g.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${v.tileId} as having a poor connection`)}}constructor(f){super(f.logger),this.context=f,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");l.default=r},3087881035:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9651796943));let m=n(class extends h.default{run(){return this.fn().then(()=>{})}constructor(a,s,i="RunnableTask"){super(a),this.fn=s,this.taskName=i}},"RunnableTask");l.default=m},9769959402:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(e,t,r,o){function f(g){return g instanceof r?g:new r(function(v){v(g)})}return n(f,"adopt"),new(r||(r=Promise))(function(g,v){function u(b){try{_(o.next(b))}catch(E){v(E)}}n(u,"fulfilled");function S(b){try{_(o.throw(b))}catch(E){v(E)}}n(S,"rejected");function _(b){b.done?g(b.value):f(b.value).then(u,S)}n(_,"step"),_((o=o.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(2771660234)),p=h(c(201131498)),a=c(7344258710),s=h(c(9651796943));let i=n(class Om extends s.default{run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(t){if(t.type===p.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.DATA_MESSAGE)for(const r of t.message.dataMessage.messages){const o=new m.default(r.ingestTimeNs/1e6,r.topic,r.data,r.senderAttendeeId,r.senderExternalUserId,r.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(o)}}validateDataMessage(t,r,o){if(!Om.TOPIC_REGEX.test(t))throw new Error("Invalid topic");if(r.length>Om.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(o&&o<0)throw new Error("The life time of the message has to be non negative")}constructor(t){super(t.logger),this.context=t,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(r,o,f)=>{if(this.context.signalingClient.ready()){let g;o instanceof Uint8Array?g=o:typeof o=="string"?g=new TextEncoder().encode(o):g=new TextEncoder().encode(JSON.stringify(o)),this.validateDataMessage(r,g,f);const v=a.SdkDataMessagePayload.create();v.topic=r,v.lifetimeMs=f,v.data=g;const u=a.SdkDataMessageFrame.create();u.messages=[v],this.context.signalingClient.sendDataMessage(u)}else this.context.logger.error("Cannot send data message because signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");l.default=i,i.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),i.DATA_SIZE=2048},1690462647:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9651796943)),p=h(c(3274536108));let a=n(class extends m.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return d(this,void 0,void 0,function*(){for(const i of this.tasksToRunSerially){this.getStatus()===p.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${i.name()}`),this.currentTask=i,yield i.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${i.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskName=e,this.tasksToRunSerially=t,this.currentTask=null;for(const r of t)r.setParent(this)}},"SerialGroupTask");l.default=a},4784106923:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(570155317)),p=h(c(5603242550)),a=h(c(9651796943));let s=n(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return d(this,void 0,void 0,function*(){const e=this.context.peer;let r=this.context.sdpOfferInit.sdp;if(this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(r=new p.default(r).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),this.context.browserBehavior.supportsDependencyDescriptorRtpHeaderExtension()&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension!==void 0&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension()&&(r=new p.default(r).withDependencyDescriptorRtpHeaderExtension(this.context.previousSdpOffer).sdp),new m.default().requiresDisablingH264Encoding()&&(r=new p.default(r).removeH264SupportFromSendSection().sdp),r=new p.default(r).withStartingVideoSendBitrate(1e3).sdp,this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(r=new p.default(r).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(r=new p.default(r).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(r=new p.default(r).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){const f=new p.default(r).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(f)}this.logger.debug(()=>`local description is >>>${r}<<<`);const o={type:"offer",sdp:r,toJSON:null};yield new Promise((f,g)=>d(this,void 0,void 0,function*(){this.cancelPromise=v=>{g(v)};try{yield e.setLocalDescription(o),f()}catch(v){g(v)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");l.default=s},3516966482:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(e,t,r,o){function f(g){return g instanceof r?g:new r(function(v){v(g)})}return n(f,"adopt"),new(r||(r=Promise))(function(g,v){function u(b){try{_(o.next(b))}catch(E){v(E)}}n(u,"fulfilled");function S(b){try{_(o.throw(b))}catch(E){v(E)}}n(S,"rejected");function _(b){b.done?g(b.value):f(b.value).then(u,S)}n(_,"step"),_((o=o.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(5519271617)),p=h(c(5603242550)),a=h(c(6375844864)),s=h(c(9651796943));let i=n(class extends s.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){var t;return d(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let o=this.context.sdpAnswer;o=new p.default(o).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(o=new p.default(o).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(o=new p.default(o).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(o=new p.default(o).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.prioritizedSendVideoCodecCapabilities=new p.default(o).prioritizedSendVideoCodecCapabilities(),this.context.currentVideoSendCodec=this.context.prioritizedSendVideoCodecCapabilities.length>0?this.context.prioritizedSendVideoCodecCapabilities[0]:void 0;const f=this.context.activeVideoInput;if(f!==void 0){const v=this.context.audioVideoController.configuration.credentials.attendeeId,u=new m.default(v).hasModality(m.default.MODALITY_CONTENT),S=f.getVideoTracks()[0];u&&(((t=this.context.currentVideoSendCodec)===null||t===void 0?void 0:t.codecName)===a.default.av1Main().codecName?(S.contentHint="text",this.logger.info(`Setting content hint to text for AV1, attendee: ${v}`)):this.context.audioVideoController.configuration.enableSVC&&(S.contentHint="motion",this.logger.info(`Setting content hint to motion to enable SVC, attendee: ${v}`)))}this.logger.info(`processed remote description is >>>${o}<<<`);const g={type:"answer",sdp:o,toJSON:null};try{yield this.createICEConnectionCompletedPromise(g)}catch(v){throw v}})}createICEConnectionCompletedPromise(t){return new Promise((r,o)=>d(this,void 0,void 0,function*(){const f=n(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",f),r())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",f),o(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",f);try{yield this.context.peer.setRemoteDescription(t),this.logger.info("set remote description, waiting for ICE connection"),f()}catch(g){o(g)}}))}constructor(t){super(t.logger),this.context=t,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");l.default=i},7537455207:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(v,u,S,_){function b(E){return E instanceof S?E:new S(function(T){T(E)})}return n(b,"adopt"),new(S||(S=Promise))(function(E,T){function I(R){try{w(_.next(R))}catch(P){T(P)}}n(I,"fulfilled");function A(R){try{w(_.throw(R))}catch(P){T(P)}}n(A,"rejected");function w(R){R.done?E(R.value):b(R.value).then(I,A)}n(w,"step"),w((_=_.apply(v,u||[])).next())})},h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8363971156)),p=h(c(4474236581)),a=h(c(5603242550)),s=h(c(9530736010)),i=c(498975381),e=h(c(201131498)),t=h(c(718687226)),r=c(7344258710),o=c(4165080297),f=h(c(9651796943));let g=n(class extends f.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){let u="";if(this.context.peer&&this.context.peer.localDescription&&(u=new a.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let w=0,R=0;this.context.videoCaptureAndEncodeParameter&&(w=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),R=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const P={rid:"hi",maxBitrate:R*1e3,maxFramerate:w,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([P])}const S=this.fixUpSubscriptionOrder(u,this.context.videoSubscriptions),_=this.context.videoDuplexMode===r.SdkStreamServiceType.TX||this.context.videoDuplexMode===r.SdkStreamServiceType.DUPLEX;let b,E=u;if((this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension===void 0||!this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension())&&(E=new a.default(E).withoutDependencyDescriptorRtpHeaderExtension().sdp),this.context.serverSupportsCompression){const w=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";b=this.textCompressor.compress(E,w),this.context.logger.info(`Compressed the SDP message from ${E.length} to ${b.length} bytes.`),u=""}this.context.previousSdpOffer=new a.default(u);const T=new t.default(this.context.meetingSessionConfiguration.credentials.attendeeId,u,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,S,_,this.context.videoStreamIndex.localStreamDescriptions(),!0,b);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!i.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(T.videoSubscriptionConfiguration=o.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,S.map(w=>w===0?0:this.context.videoStreamIndex.groupIdForStreamId(w)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(T)}`),this.context.signalingClient.subscribe(T);const I=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(I)}`);let A="";I.compressedSdpAnswer&&I.compressedSdpAnswer.length?(A=this.textCompressor.decompress(I.compressedSdpAnswer,this.context.previousSdpAnswerAsString),A.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${I.compressedSdpAnswer.length} to ${A.length} bytes.`),this.context.sdpAnswer=A):this.context.sdpAnswer=I.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(I)})}fixUpSubscriptionOrder(u,S){if(this.context.transceiverController.getMidForStreamId===void 0)return S;const _=new Map;for(const T of S){const I=this.context.transceiverController.getMidForStreamId(T);if(I===void 0){T!==0&&this.logger.warn(`Could not find MID for stream ID: ${T}`);continue}_.set(I,T)}const b=new a.default(u).mediaSections(),E=[];for(const T of b)if(T.mediaType==="video")if(T.direction==="recvonly"){const I=_.get(T.mid);if(I===void 0){this.logger.warn(`Could not find stream ID for MID: ${T.mid}`);continue}E.push(I)}else E.push(0);return this.logger.info(`Fixed up ${JSON.stringify(S)} to ${JSON.stringify(E)} (may be same))}`),E}receiveSubscribeAck(){return new Promise((u,S)=>{const _=this.context;let b=n(class{cancel(){this.signalingClient.removeObserver(this),S(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(I){if(I.isConnectionTerminated()){const w=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${I.closeCode} and reason: ${I.closeReason}`;_.logger.warn(w);let R=p.default.TaskFailed;I.closeCode>=4500&&I.closeCode<4600&&(R=p.default.SignalingInternalServerError),_.audioVideoController.handleMeetingSessionStatus(new m.default(R),new Error(w));return}if(I.type!==e.default.ReceivedSignalFrame||I.message.type!==r.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const A=I.message.suback;u(A)}constructor(I){this.signalingClient=I}},"Interceptor");const E=new b(this.context.signalingClient);this.context.signalingClient.registerObserver(E),this.taskCanceler=E})}constructor(u){super(u.logger),this.context=u,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new s.default(u.logger)}},"SubscribeAndReceiveSubscribeAckTask");l.default=g},3274536108:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.IDLE="IDLE",d.RUNNING="RUNNING",d.CANCELED="CANCELED",d.FINISHED="FINISHED"})(c||(c={})),l.default=c},8265718271:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6376806429)),p=h(c(9651796943));let a=n(class extends p.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return d(this,void 0,void 0,function*(){const i=new m.default(this.timeoutMs);i.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{i.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskToRunBeforeTimeout=e,this.timeoutMs=t,this.taskName=`Timeout${this.timeoutMs}ms`,e.setParent(this)}},"TimeoutTask");l.default=a},4133266271:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(4474236581)),p=h(c(9651796943));let a=n(class extends p.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()} due to the meeting status code: ${m.default.NoAttendeePresent}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return d(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((e,t)=>{const r=n((o,f,g,v,u)=>{i===o&&f&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(r),e(),delete this.cancelPromise)},"handler");this.cancelPromise=o=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(r),t(o)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(r)})})}constructor(i){super(i.logger),this.context=i,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");l.default=a},1636523053:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(t,r,o,f){function g(v){return v instanceof o?v:new o(function(u){u(v)})}return n(g,"adopt"),new(o||(o=Promise))(function(v,u){function S(E){try{b(f.next(E))}catch(T){u(T)}}n(S,"fulfilled");function _(E){try{b(f.throw(E))}catch(T){u(T)}}n(_,"rejected");function b(E){E.done?v(E.value):g(E.value).then(S,_)}n(b,"step"),b((f=f.apply(t,r||[])).next())})},h=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(3416082494)),p=h(c(9193449927)),a=h(c(2944630562)),s=h(c(5110921698)),i=h(c(7416186200));let e=n(class{setEncodingParameters(r){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const o=this._localCameraTransceiver.sender;if(!r||r.size===0)return;const f=Array.from(r.values()),g=o.getParameters();if(!g.encodings||g.encodings.length===0)g.encodings=f;else for(const v of g.encodings)for(const u of f){if((v.rid||u.rid)&&v.rid!==u.rid)continue;let S;for(S in u)S==="rid"||S==="codecPayloadType"||u.hasOwnProperty(S)&&(v[S]=u[S])}yield o.setParameters(g)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(r){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const o=this._localCameraTransceiver.sender;if(!o||r<=0)return;const f=o.getParameters();f.encodings||(f.encodings=[{}]);for(const g of f.encodings)g.maxBitrate=r*1e3;yield o.setParameters(f)})}setPeer(r){this.peer=r}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(r){return this._localCameraTransceiver?r===this._localCameraTransceiver.sender.track||r===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){var r,o;this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((o=(r=this.meetingSessionContext)===null||r===void 0?void 0:r.audioProfile)===null||o===void 0)&&o.hasRedundancyEnabled()&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(r){return d(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(r),!0)})}setAudioInput(r){return d(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,r)})}setVideoInput(r){return d(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,r)})}updateVideoTransceivers(r,o){if(!this.useTransceivers())return o.array();const f=this.peer.getTransceivers();return this.videoSubscriptions=[0],o=o.clone(),this.updateTransceivers(f,r,o),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(r,o,f){const g=f.array();r.length!==0&&!r[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(r,o,g)):r.length!==0&&this.updateTransceiverWithStop(r,o,g);for(const v of g){const u=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(v,u),this.groupIdToTransceiver.set(o.groupIdForStreamId(v),u),this.videoSubscriptions.push(v),this.logger.info(`adding transceiver mid: ${u.mid} subscription: ${v} direction: recvonly`)}}updateTransceiverWithStop(r,o,f){let g=1;this.videoSubscriptions=[0];for(const v of r){if(v===this._localCameraTransceiver||!this.transceiverIsVideo(v)||!v.mid)continue;let u=!1;const S=o.streamIdForTrack("v_"+v.mid);if(v.direction!=="inactive"&&S!==void 0){for(const[_,b]of f.entries())if(o.StreamIdsInSameGroup(S,b)){v.direction="recvonly",this.videoSubscriptions[g]=b,u=!0,this.streamIdToTransceiver.delete(S),this.streamIdToTransceiver.set(b,v),f.splice(_,1);break}}if(!u){this.videoSubscriptions[g]=0,this.logger.info(`Stopping MID: ${v.mid}, direction: ${v.direction}, current direction: ${v.currentDirection}`),v.stop();for(const[_,b]of this.streamIdToTransceiver.entries())v.mid===b.mid&&(this.streamIdToTransceiver.delete(_),this.groupIdToTransceiver.delete(o.groupIdForStreamId(_)))}g+=1}}updateTransceiverWithoutStop(r,o,f){let g=1;for(const v of r)if(!(v===this._localCameraTransceiver||!this.transceiverIsVideo(v))){if(this.videoSubscriptions[g]=0,v.direction!=="inactive"){const u=o.streamIdForTrack("v_"+v.mid);if(u!==void 0){for(const[S,_]of f.entries())if(o.StreamIdsInSameGroup(u,_)){v.direction="recvonly",this.videoSubscriptions[g]=_,this.streamIdToTransceiver.delete(u),this.streamIdToTransceiver.set(_,v),f.splice(S,1);break}}}g+=1}g=1;for(const v of r)if(!(v===this._localCameraTransceiver||!this.transceiverIsVideo(v))){if(v.direction==="inactive"&&f.length>0){v.direction="recvonly";const u=f.shift();this.videoSubscriptions[g]=u,this.streamIdToTransceiver.set(u,v),this.groupIdToTransceiver.set(o.groupIdForStreamId(u),v)}else if(this.videoSubscriptions[g]===0){v.direction="inactive";for(const[u,S]of this.streamIdToTransceiver.entries())v===S&&(this.streamIdToTransceiver.delete(u),this.groupIdToTransceiver.delete(o.groupIdForStreamId(u)))}g+=1}}getMidForStreamId(r){var o;return(o=this.streamIdToTransceiver.get(r))===null||o===void 0?void 0:o.mid}setStreamIdForMid(r,o){for(const[f,g]of this.streamIdToTransceiver.entries())if(g.mid===r){this.streamIdToTransceiver.delete(f),this.streamIdToTransceiver.set(o,g);return}}getMidForGroupId(r){var o,f;return(f=(o=this.groupIdToTransceiver.get(r))===null||o===void 0?void 0:o.mid)!==null&&f!==void 0?f:void 0}transceiverIsVideo(r){return r.receiver&&r.receiver.track&&r.receiver.track.kind==="video"||r.sender&&r.sender.track&&r.sender.track.kind==="video"}debugDumpTransceivers(){let r="",o=0;for(const f of this.peer.getTransceivers())this.transceiverIsVideo(f)&&(r+=`transceiver index=${o} mid=${f.mid} subscription=${this.videoSubscriptions[o]} direction=${f.direction}
`,o+=1);return r}setTransceiverInput(r,o){return d(this,void 0,void 0,function*(){r&&(o?r.direction="sendrecv":r.direction="inactive",yield r.sender.replaceTrack(o))})}forEachRedMetricsObserver(r){for(const o of this.redMetricsObservers)i.default.nextTick(()=>{this.redMetricsObservers.has(o)&&o.recoveryMetricsDidReceive(r)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new m.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var r,o;const f=!!window.RTCRtpScriptTransform,g=!!RTCRtpSender.prototype.createEncodedStreams;if(f)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(g)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),new Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");try{this.audioRedWorkerURL=URL.createObjectURL(new Blob([s.default],{type:"application/javascript"})),this.logger.info(`[AudioRed] Redundant audio worker URL ${this.audioRedWorkerURL}`),this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(v){throw this.logger.error(`[AudioRed] Unable to create audio red worker due to ${v}`),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),v}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=v=>{if(v.data.type==="REDWorkerLog")this.logger.info(v.data.log);else if(v.data.type==="RedundantAudioEncoderStats"){const u=new p.default;u.currentTimestampMs=Date.now(),u.ssrc=v.data.ssrc,u.totalAudioPacketsLost=v.data.totalAudioPacketsLost,u.totalAudioPacketsExpected=v.data.totalAudioPacketsExpected,u.totalAudioPacketsRecoveredRed=v.data.totalAudioPacketsRecoveredRed,u.totalAudioPacketsRecoveredFec=v.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(u)}},f)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(g){const v=this._localAudioTransceiver.sender.createEncodedStreams(),u=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:v,receive:u},[v.readable,v.writable,u.readable,u.writable])}(r=this.meetingSessionContext)===null||r===void 0||r.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver((o=this.meetingSessionContext)===null||o===void 0?void 0:o.statsCollector)}addTransceiver(r,o){var f;const g=this.peer.addTransceiver(r,o);if(!(!((f=this.peer.getConfiguration())===null||f===void 0)&&f.encodedInsertableStreams)||!this.audioRedWorker)return g;const v=!!window.RTCRtpScriptTransform,u=!!RTCRtpSender.prototype.createEncodedStreams;if(v)g.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),g.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(u){const S=g.sender.createEncodedStreams(),_=g.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"PassthroughTransform",send:S,receive:_},[S.readable,S.writable,_.readable,_.writable])}return g}destroyAudioRedWorkerAndStates(){var r,o;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker.terminate(),this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,(r=this.meetingSessionContext)===null||r===void 0||r.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver((o=this.meetingSessionContext)===null||o===void 0?void 0:o.statsCollector))}setAudioPayloadTypes(r){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:r.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:r.get("opus")}))}metricsDidReceive(r){const{currentTimestampMs:o}=r,f=r.getRTCStatsReport();let g=0,v=0,u=0;f.forEach(I=>{I.kind==="audio"&&(I.type==="outbound-rtp"?v=I.packetsSent:I.type==="remote-inbound-rtp"&&(g=I.timestamp,u=I.packetsLost))}),(this.audioMetricsHistory.length===0||g>this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs&&v>this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)&&this.audioMetricsHistory.push({timestampMs:g,totalPacketsSent:v,totalPacketsLost:u}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();const S=this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),_=this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs),b=Math.max(S,_),[E,T]=a.default.getNumRedundantEncodingsForPacketLoss(b);if(T){this.lastHighPacketLossEventTimestampMs=o,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=o);return}else if(!this.audioRedEnabled){const I=o-this.lastAudioRedTurnOffTimestampMs,A=o-this.lastHighPacketLossEventTimestampMs;if(I>=this.audioRedPacketLossLongEvalPeriodMs&&A<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(o)}this.shouldUpdateAudioRedWorkerEncodings(o,E)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:E})}maybeResetHoldDownTimer(r){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=r)}lossPercent(r){if(this.audioMetricsHistory.length<2)return 0;const o=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,f=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,g=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let v=this.audioMetricsHistory.length-2;v>=0;v--)if(o-this.audioMetricsHistory[v].timestampMs>=r){const u=g-this.audioMetricsHistory[v].totalPacketsLost,S=f-this.audioMetricsHistory[v].totalPacketsSent,_=100*(u/S);return Math.max(0,Math.min(_,100))}return 0}shouldUpdateAudioRedWorkerEncodings(r,o){return this.currentNumRedundantEncodings===o?(this.maybeResetHoldDownTimer(r),!1):o<this.currentNumRedundantEncodings&&r-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs?!1:(this.currentNumRedundantEncodings=o,this.maybeResetHoldDownTimer(r),!0)}addRedundantAudioRecoveryMetricsObserver(r){this.redMetricsObservers.add(r)}removeRedundantAudioRecoveryMetricsObserver(r){this.redMetricsObservers.delete(r)}constructor(r,o,f){this.logger=r,this.browserBehavior=o,this.meetingSessionContext=f,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=new Array,this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5*1e3,this.audioRedPacketLossLongEvalPeriodMs=15*1e3,this.audioRedHoldDownTimeMs=5*60*1e3,this.redRecoveryTimeMs=1*60*1e3}},"DefaultTransceiverController");l.default=e},618497857:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8588089957));let p=n(class pp extends m.default{setEncodingParameters(s){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let r=0;r<t.encodings.length;r++)t.encodings[r].rid===m.default.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(m.default.LOW_LEVEL_NAME),t.encodings[r]),t.encodings[r].rid===m.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(m.default.HIGH_LEVEL_NAME),t.encodings[r]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}constructor(s,i,e){super(s,i,e);let t=2;this.videoQualityControlParameterMap=new Map;for(let r=0;r<pp.NAME_ARR_ASCENDING.length;r++){const o=pp.NAME_ARR_ASCENDING[r];this.videoQualityControlParameterMap.set(o,{rid:o,scaleResolutionDownBy:t,maxBitrate:pp.BITRATE_ARR_ASCENDING[r]*1e3}),t=t/2}}},"SimulcastContentShareTransceiverController");l.default=p,p.NAME_ARR_ASCENDING=["low","hi"],p.BITRATE_ARR_ASCENDING=[300,1200]},8588089957:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1636523053));let p=n(class Al extends m.default{setEncodingParameters(s){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(const r of t.encodings)r.rid===Al.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(Al.LOW_LEVEL_NAME),r),r.rid===Al.MID_LEVEL_NAME&&this.copyEncodingParams(s.get(Al.MID_LEVEL_NAME),r),r.rid===Al.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(Al.HIGH_LEVEL_NAME),r);yield i.setParameters(t),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(s){return d(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var s,i;if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((i=(s=this.meetingSessionContext)===null||s===void 0?void 0:s.audioProfile)===null||i===void 0)&&i.hasRedundancyEnabled()&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){const e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){const i=this._localCameraTransceiver.sender.getParameters().encodings;let e=`simulcast: current encoding parameters 
`;for(const t of i)e+=`rid=${t.rid} maxBitrate=${t.maxBitrate} active=${t.active} scaleDownBy=${t.scaleResolutionDownBy} maxFrameRate = ${t.maxFramerate} 
`;this.logger.info(e)}copyEncodingParams(s,i){i.active=s.active,i.maxBitrate=s.maxBitrate,i.scaleResolutionDownBy=s.scaleResolutionDownBy,i.maxFramerate=s.maxFramerate}constructor(s,i,e){super(s,i,e),this.videoQualityControlParameterMap=new Map;let t=4;for(let r=0;r<Al.NAME_ARR_ASCENDING.length;r++){const o=Al.NAME_ARR_ASCENDING[r];this.videoQualityControlParameterMap.set(o,{rid:o,scaleResolutionDownBy:t,maxBitrate:Al.BITRATE_ARR_ASCENDING[r]*1e3}),t=t/2}}},"SimulcastTransceiverController");l.default=p,p.LOW_LEVEL_NAME="low",p.MID_LEVEL_NAME="mid",p.HIGH_LEVEL_NAME="hi",p.NAME_ARR_ASCENDING=["low","mid","hi"],p.BITRATE_ARR_ASCENDING=[200,400,1100]},8838701689:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(1636523053));let m=n(class extends h.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(a,s,i){super(a,s,i)}},"VideoOnlyTransceiverController");l.default=m},9292265093:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const d=c(4020273180);l.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let h=n(class{subscribeToTranscriptEvent(p){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const s of d.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(s)}),this.transcriptEventCallbacks.add(p)}unsubscribeFromTranscriptEvent(p){this.transcriptEventCallbacks.delete(p),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(p){this.realtimeController=p,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");l.default=h},4943490552:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"Transcript");l.default=c},3089406687:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptAlternative");l.default=c},6199310771:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptEntity");l.default=c},4020273180:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.TranscriptEventConverter=void 0;const h=c(7344258710),m=d(c(4943490552)),p=d(c(9072755684)),a=d(c(8890069556)),s=d(c(5487209475)),i={[h.SdkTranscriptionStatus.Type.STARTED]:a.default.STARTED,[h.SdkTranscriptionStatus.Type.INTERRUPTED]:a.default.INTERRUPTED,[h.SdkTranscriptionStatus.Type.RESUMED]:a.default.RESUMED,[h.SdkTranscriptionStatus.Type.STOPPED]:a.default.STOPPED,[h.SdkTranscriptionStatus.Type.FAILED]:a.default.FAILED};let e=n(class{static from(r){let o;try{o=h.SdkTranscriptFrame.decode(r.data)}catch(g){throw new Error("Cannot decode transcript data message: "+g)}const f=[];for(const g of o.events)if(g.status){const v=i[g.status.type];if(!v)continue;const u=new p.default;u.type=v,u.eventTimeMs=g.status.eventTime,u.transcriptionRegion=g.status.transcriptionRegion,u.transcriptionConfiguration=g.status.transcriptionConfiguration,g.status.message&&(u.message=g.status.message),f.push(u)}else if(g.transcript){const v=new m.default;v.results=[];for(const u of g.transcript.results){const S={channelId:u.channelId,isPartial:u.isPartial,resultId:u.resultId,startTimeMs:u.startTime,endTimeMs:u.endTime,alternatives:[]};if(u.languageCode&&(S.languageCode=u.languageCode),u.languageIdentification&&u.languageIdentification.length>0){S.languageIdentification=[];for(const _ of u.languageIdentification){const b={languageCode:_.languageCode,score:_.score};S.languageIdentification.push(b)}}for(const _ of u.alternatives){const b={items:[],transcript:_.transcript};for(const E of _.items){const T={content:E.content,attendee:{attendeeId:E.speakerAttendeeId,externalUserId:E.speakerExternalUserId},startTimeMs:E.startTime,endTimeMs:E.endTime,type:null};switch(E.vocabularyFilterMatch&&(T.vocabularyFilterMatch=E.vocabularyFilterMatch),E.hasOwnProperty("stable")&&(T.stable=E.stable),E.hasOwnProperty("confidence")&&(T.confidence=E.confidence),E.type){case h.SdkTranscriptItem.Type.PRONUNCIATION:T.type=s.default.PRONUNCIATION;break;case h.SdkTranscriptItem.Type.PUNCTUATION:T.type=s.default.PUNCTUATION;break}b.items.push(T)}for(const E of _.entities){b.entities||(b.entities=[]);const T={category:E.category,confidence:E.confidence,content:E.content,startTimeMs:E.startTime,endTimeMs:E.endTime};E.type&&(T.type=E.type),b.entities.push(T)}S.alternatives.push(b)}v.results.push(S)}f.push(v)}return f}},"TranscriptEventConverter");l.TranscriptEventConverter=e},7682636203:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptItem");l.default=c},5487209475:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.PRONUNCIATION="pronunciation",d.PUNCTUATION="punctuation"})(c||(c={})),l.default=c},3554880400:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptLanguageWithScore");l.default=c},5311871957:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptResult");l.default=c},9072755684:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptionStatus");l.default=c},8890069556:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.STARTED="started",d.INTERRUPTED="interrupted",d.RESUMED="resumed",d.STOPPED="stopped",d.FAILED="failed"})(c||(c={})),l.default=c},5318074243:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(5037727051),m=d(c(1877666836));let p=n(class Od{getParserResult(){var s,i;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((s=this.parserResult)===null||s===void 0?void 0:s.os.name)||Od.UNAVAILABLE,osVersion:((i=this.parserResult)===null||i===void 0?void 0:i.os.version)||Od.UNAVAILABLE,sdkVersion:m.default.sdkVersion,sdkName:m.default.sdkName}}constructor(s){var i,e,t,r,o,f,g;try{this.parserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():void 0}catch(v){s.error(v.message)}this.browserMajorVersion=((t=(e=(i=this.parserResult)===null||i===void 0?void 0:i.browser)===null||e===void 0?void 0:e.version)===null||t===void 0?void 0:t.split(".")[0])||Od.UNAVAILABLE,this.browserName=((r=this.parserResult)===null||r===void 0?void 0:r.browser.name)||Od.UNAVAILABLE,this.browserVersion=((o=this.parserResult)===null||o===void 0?void 0:o.browser.version)||Od.UNAVAILABLE,this.deviceName=[((f=this.parserResult)===null||f===void 0?void 0:f.device.vendor)||"",((g=this.parserResult)===null||g===void 0?void 0:g.device.model)||""].join(" ").trim()||Od.UNAVAILABLE}},"DefaultUserAgentParser");l.default=p,p.UNAVAILABLE="Unavailable"},7763852557:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{add(h){return new Promise((m,p)=>{this.queue=this.queue.then(h).then(m).catch(p)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");l.default=c},8479756130:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.None=l.Some=l.Maybe=void 0;let c=n(class{static of(p){return p==null?h.of():d.of(p)}},"Maybe");l.Maybe=c;let d=n(class wv{map(p){return c.of(p(this.value))}flatMap(p){return p(this.value)}get(){return this.value}getOrElse(p){return this.value}defaulting(p){return c.of(this.getOrElse(p))}static of(p){if(p==null)throw new Error("value is ${value}");return new wv(p)}constructor(p){this.value=p,this.isSome=!0,this.isNone=!1}},"Some");l.Some=d;let h=n(class mp{get(){throw new Error("value is null")}getOrElse(p){return p}map(p){return new mp}flatMap(p){return new mp}defaulting(p){return c.of(this.getOrElse(p))}static of(){return new mp}constructor(){this.isSome=!1,this.isNone=!0}},"None");l.None=h},759573094:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(l,"__esModule",{value:!0}),l.iterateEvery=l.SuppressedError=l.getRandomValues=l.getFormattedOffset=l.getDefaultAssetSpec=l.toLowerCasePropertyNames=l.isIFramed=l.wait=void 0;const h=d(c(1877666836));function m(o){return new Promise(f=>setTimeout(f,o))}n(m,"wait"),l.wait=m;function p(){var o;try{return((o=window.frameElement)===null||o===void 0?void 0:o.nodeName)==="IFRAME"||parent!==top}catch{return!0}}n(p,"isIFramed"),l.isIFramed=p;function a(o){return o===null?null:typeof o!="object"?o:Array.isArray(o)?o.map(a):Object.keys(o).reduce((f,g)=>{const v=o[g],u=typeof v=="object"?a(v):v;return f[g.toLowerCase()]=u,f},{})}n(a,"toLowerCasePropertyNames"),l.toLowerCasePropertyNames=a;function s(){const o=h.default.sdkVersionSemVer;return{assetGroup:`sdk-${o.major}.${o.minor}`}}n(s,"getDefaultAssetSpec"),l.getDefaultAssetSpec=s;function i(o){const f=Math.abs(o),g=o<=0?"+":"-",v=Math.floor(f/60).toString().padStart(2,"0"),u=Math.floor(f%60).toString().padStart(2,"0");return`${g}${v}:${u}`}n(i,"getFormattedOffset"),l.getFormattedOffset=i;function e(o){try{window.crypto.getRandomValues(o)}catch{new DataView(o.buffer).setUint32(0,Math.trunc(Math.random()*Math.pow(2,32)),!0)}}n(e,"getRandomValues"),l.getRandomValues=e;let t=n(class extends Error{constructor(f,g,v){var u;super(v??`${(u=f==null?void 0:f.message)!==null&&u!==void 0?u:f}`),this.error=f,this.suppressed=g}},"SuppressedError");l.SuppressedError=t;function r(o,f){if(!o)return;let g;for(const v of o)try{f(v)}catch(u){g=new t(u,g)}if(g)throw g}n(r,"iterateEvery"),l.iterateEvery=r},1877666836:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(570155317)),m=d(c(3038312064));let p=n(class Pf{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return m.default.semverString}static get sdkVersionSemVer(){var s,i,e,t;const r=m.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(s=r==null?void 0:r.groups)===null||s===void 0?void 0:s.major,minor:(i=r==null?void 0:r.groups)===null||i===void 0?void 0:i.minor,patch:(e=r==null?void 0:r.groups)===null||e===void 0?void 0:e.patch,preRelease:(t=r==null?void 0:r.groups)===null||t===void 0?void 0:t.preRelease}}static get buildSHA(){return m.default.hash.substring(1)}static get sdkUserAgentLowResolution(){const s=new h.default;return`${s.name()}-${s.majorVersion()}`}static urlWithVersion(s){const i=new URL(s);return i.searchParams.append(Pf.X_AMZN_VERSION,Pf.sdkVersion),i.searchParams.append(Pf.X_AMZN_USER_AGENT,Pf.sdkUserAgentLowResolution),i.toString()}},"Versioning");l.default=p,p.X_AMZN_VERSION="X-Amzn-Version",p.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},3038312064:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default={hash:"55eb4ca",raw:"v3.27.0",semverString:"3.27.0"}},1203283221:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Dv{equal(h){let m=h.captureWidth()===this.cameraWidth&&h.captureHeight()===this.cameraHeight&&h.captureFrameRate()===this.cameraFrameRate&&h.encodeBitrates().length===this.encodeBitrates().length&&h.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&h.encodeWidths().length===this.encodeWidths().length&&h.encodeHeights().length===this.encodeHeights().length&&h.isSVCEncoding()===this.isSVC;if(m){for(let p=0;p<h.encodeWidths().length;p++)if(h.encodeWidths()[p]!==this.encodeWidths()[p]||h.encodeHeights()[p]!==this.encodeHeights()[p]||h.encodeBitrates()[p]!==this.encodeBitrates()[p]||h.encodeScaleResolutionDownBy()[p]!==this.encodeScaleResolutionDownBy()[p])return m=!1,m}return m}clone(){return new Dv(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy,this.isSVC)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}isSVCEncoding(){return this.isSVC}constructor(h,m,p,a,s,i=1,e=!1){this.cameraWidth=h,this.cameraHeight=m,this.cameraFrameRate=p,this.maxEncodeBitrateKbps=a,this.isSimulcast=s,this.scaleResolutionDownBy=i,this.isSVC=e}},"DefaultVideoCaptureAndEncodeParameter");l.default=c},7176913269:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(5814977413));let m=n(class Av{reset(){this.optimalReceiveSet=new h.default,this.subscribedReceiveSet=new h.default,this.videoSources=void 0}updateIndex(a){this.videoIndex=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(a)}updateMetrics(a){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(a){this.videoSources=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(a){const s=new h.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return s;const i=a.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId),e=this.videoSources?this.videoSources:this.videoIndex.allVideoSendingSourcesExcludingSelf(this.selfAttendeeId),t=this.videoIndex.remoteStreamDescriptions(),r=new Map;for(const f of t)i.contain(f.streamId)&&r.set(f.attendeeId,f);let o=0;for(const f of e){const g=f.attendee.attendeeId;if(r.has(g)){const v=r.get(g);if(o+v.maxBitrateKbps<=Av.maxReceiveBitrateKbps)s.add(v.streamId),o+=v.maxBitrateKbps;else{console.warn("total bitrate "+(o+v.maxBitrateKbps)+" exceeds maximum limit (15000). Use chooseRemoteVideoSources to select a subset of participants to avoid this.");break}}}return s}constructor(a){this.selfAttendeeId=a,this.reset()}},"AllHighestVideoBandwidthPolicy");l.default=m,m.maxReceiveBitrateKbps=15e3},256606391:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(5814977413));let m=n(class{reset(){}updateIndex(a){}updateMetrics(a){}wantsResubscribe(){return!1}chooseSubscriptions(){return new h.default}},"NoVideoDownlinkBandwidthPolicy");l.default=m},7477937414:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TargetDisplaySize=void 0;var c;(function(d){d[d.Low=0]="Low",d[d.Medium=1]="Medium",d[d.High=2]="High",d[d.Maximum=3]="Maximum"})(c=l.TargetDisplaySize||(l.TargetDisplaySize={})),l.default=c},7676538085:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9946496941)),m=d(c(498975381)),p=d(c(4924969612)),a=c(4165080297),s=d(c(6836981326)),i=d(c(7255041548));let e=n(class Ov extends s.default{static createConfig(){const r=new i.default;return r.serverSideNetworkAdaption=m.default.None,r}reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(r){super.updateIndex(r);const o=a.VideoPreferences.prepare();let f=!1;const g=r.remoteStreamDescriptions();for(const v of g)o.some(u=>u.attendeeId===v.attendeeId)||(v.attendeeId.endsWith(h.default.Modality)?(o.add(new p.default(v.attendeeId,1)),f=!0):o.add(new p.default(v.attendeeId,2)));f?(this.videoPreferences=o.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(r){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(r){super(r,Ov.createConfig()),this.logger=r,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");l.default=e},4924969612:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(7477937414)),m=d(c(9648677690));let p=n(class ku{partialCompare(s){return this.priority-s.priority}equals(s){return this.attendeeId===s.attendeeId&&this.targetSize===s.targetSize&&this.priority===s.priority&&this.degradationPreference===s.degradationPreference}clone(){return new ku(this.attendeeId,this.priority,this.targetSize,this.degradationPreference)}targetSizeToBitrateKbps(s){switch(s){case h.default.Maximum:return ku.MAXIMUM_BITRATE_KBPS;case h.default.High:return ku.HIGH_BITRATE_KBPS;case h.default.Medium:return ku.MID_BITRATE_KBPS;case h.default.Low:return ku.LOW_BITRATE_KBPS}}constructor(s,i,e,t){this.attendeeId=s,this.priority=i,this.targetSize=e!==void 0?e:h.default.Maximum,this.degradationPreference=t!==void 0?t:m.default.Balanced}},"VideoPreference");l.default=p,p.LOW_BITRATE_KBPS=300,p.MID_BITRATE_KBPS=600,p.HIGH_BITRATE_KBPS=1500,p.MAXIMUM_BITRATE_KBPS=1e4},4165080297:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoPreferences=l.MutableVideoPreferences=l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const h=d(c(3566593278));function m(e,t,r){if(e.transceiverController.getMidForGroupId===void 0||e.videoStreamIndex.attendeeIdForGroupId===void 0||r===void 0)return[];const o=new Array,f=new Map,g=new Map;for(const v of t){const u=e.transceiverController.getMidForGroupId(v);if(u===void 0)continue;const S=e.videoStreamIndex.attendeeIdForGroupId(v);f.set(S,u),g.set(S,v)}for(const v of r){const u=new h.default,S=f.get(v.attendeeId);S!==void 0&&(u.mid=S,u.attendeeId=v.attendeeId,u.groupId=g.get(v.attendeeId),u.priority=Number.MAX_SAFE_INTEGER-v.priority,u.targetBitrateKbps=v.targetSizeToBitrateKbps(v.targetSize),u.qualityAdaptationPreference=v.degradationPreference,o.push(u))}return o}n(m,"convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration"),l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=m;let p=n(class Rm{static default(){return new Rm([])}[Symbol.iterator](){let t=0;const r=this.items;return{next(){return t<r.length?{done:!1,value:r[t++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(t){this.items.push(t)}replaceFirst(t,r){const o=this.items.findIndex(r);o===-1?this.items.push(t):this.has(t)?this.items.splice(o,1):this.items[o]=t}remove(t){this.items=this.items.filter(r=>!r.equals(t))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(const r of this.items)if(!t.items.some(o=>o.equals(r)))return!1;return!0}has(t){return this.items.some(r=>r.equals(t))}some(t){return this.items.some(t)}clone(){return new Rm([...this.items])}sort(){this.items.sort((t,r)=>t.partialCompare(r))}modify(){return new a(this)}constructor(t=[]){this.items=t}},"ObjectSet"),a=n(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(t){this.items.has(t)||(this.cow(),this.items.add(t))}replaceFirst(t,r){this.items.has(t)&&!this.items.some(r)||(this.cow(),this.items.replaceFirst(t,r))}remove(t){this.items.has(t)&&(this.cow(),this.items.remove(t))}some(t){return this.items.some(t)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(t=new p){this.items=t,this.copied=!1}},"SetBuilder"),s=n(class{add(t){this.builder.add(t)}replaceFirst(t,r){this.builder.replaceFirst(t,r)}remove(t){this.builder.remove(t)}some(t){return this.builder.some(t)}clear(){this.builder.clear()}build(){return new i(this.builder.build())}constructor(t){this.builder=t}},"MutableVideoPreferences");l.MutableVideoPreferences=s;let i=n(class Mm{static prepare(){return new s(new a)}static default(){return new Mm(p.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var t;return(t=this.items.first())===null||t===void 0?void 0:t.priority}sorted(){return this.items[Symbol.iterator]()}equals(t){return t===this||this.items.equals(t.items)}modify(){return new s(this.items.modify())}some(t){return this.items.some(t)}isEmpty(){return this.items.isEmpty()}clone(){const t=Mm.prepare();for(const r of this.items)t.add(r.clone());return t.build()}constructor(t){this.items=t}},"VideoPreferences");l.VideoPreferences=i,l.default=i},6836981326:function(V,l,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(I,A,w,R){R===void 0&&(R=w),Object.defineProperty(I,R,{enumerable:!0,get:function(){return A[w]}})}:function(I,A,w,R){R===void 0&&(R=w),I[R]=A[w]}),h=this&&this.__setModuleDefault||(Object.create?function(I,A){Object.defineProperty(I,"default",{enumerable:!0,value:A})}:function(I,A){I.default=A}),m=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var A={};if(I!=null)for(var w in I)w!=="default"&&Object.prototype.hasOwnProperty.call(I,w)&&d(A,I,w);return h(A,I),A},p=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(l,"__esModule",{value:!0});const a=p(c(2911000564)),s=p(c(9228821375)),i=p(c(8620705262)),e=p(c(9946496941)),t=c(4918602332),r=m(c(498975381)),o=p(c(1771494510)),f=p(c(5814977413)),g=p(c(7176913269)),v=p(c(7477937414)),u=p(c(4924969612)),S=c(4165080297),_=p(c(7255041548)),b=p(c(9648677690));let E=n(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),T=n(class Ls{reset(){this.allHighestPolicy=new g.default(""),this.optimalReceiveSet=new f.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new f.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new f.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=Ls.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=Ls.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new E,this.prevDownlinkStats=new E,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(A){this.tileController=A,this.logger.info("tileController bound")}setWantsResubscribeObserver(A){this.wantsResubscribeObserver=A}chooseRemoteVideoSources(A){var w;if(!(!((w=this.videoPreferences)===null||w===void 0)&&w.equals(A))){if(this.videoPreferences=A==null?void 0:A.clone(),!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const R=new Array;for(const P of this.videoPreferences){const x=new o.default;x.attendee=new a.default,x.attendee.attendeeId=P.attendeeId,R.push(x)}this.allHighestPolicy.chooseRemoteVideoSources(R);return}this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(A)}`)}}updateIndex(A){this.videoIndex=A,this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(A),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const A=new Set;for(const x of this.videoIndex.remoteStreamDescriptions())A.add(x.attendeeId);const w=S.VideoPreferences.prepare(),R=A.size;let P=v.default.Maximum;R>8?P=v.default.Low:R>4&&(P=v.default.Medium);for(const x of A)w.add(new u.default(x,1,P));this.defaultVideoPreferences=w.build()}updateMetrics(A){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new E;const w=A.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=w.availableIncomingBitrate/1e3;for(const R in A.streamMetricReports){const P=Number.parseInt(R,10),x=A.streamMetricReports[P];x.direction===s.default.DOWNSTREAM&&x.mediaType===i.default.VIDEO&&(x.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=A.countPerSecond("nackCount",P)),x.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=A.countPerSecond("packetsLost",P)),x.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=A.bitsPerSecond("bytesReceived",P)/1e3))}}wantsResubscribe(){let A=!1;return!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(A||(A=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption)?A||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),A||(A=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),A)}chooseSubscriptions(){return!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(A){this.observerQueue.add(A)}removeObserver(A){this.observerQueue.delete(A)}forEachObserver(A){for(const w of this.observerQueue)A(w)}setVideoPriorityBasedPolicyConfigs(A){this.videoPriorityBasedPolicyConfig=A}calculateOptimalReceiveStreams(){var A;const w=[],R=this.videoIndex.remoteStreamDescriptions();if(R.length===0||!((A=this.videoPreferences)===null||A===void 0)&&A.isEmpty()){this.optimalReceiveStreams=[];return}const P=this.rateProbeState;this.cleanBwPausedTiles(R),this.handleAppPausedStreams(w,R);const x=new Map;for(const rt of this.getCurrentVideoPreferences())x.set(rt.attendeeId,rt);const z=R.filter(rt=>x.has(rt.attendeeId)),Z=!this.streamsWithPreferenceDidChange(z),re=!this.startupPeriod&&Z;if(re&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;z.sort((rt,_t)=>rt.maxBitrateKbps===_t.maxBitrateKbps?rt.streamId-_t.streamId:rt.maxBitrateKbps-_t.maxBitrateKbps);for(const rt of z)(rt.avgBitrateKbps===0||rt.avgBitrateKbps>rt.maxBitrateKbps)&&(rt.attendeeId.endsWith(e.default.Modality)&&rt.maxBitrateKbps<100?rt.maxBitrateKbps=rt.avgBitrateKbps:rt.avgBitrateKbps=rt.maxBitrateKbps);const ne=new Set;for(const rt of this.getCurrentVideoPreferences()){const _t=z.filter(Xe=>Xe.attendeeId===rt.attendeeId);if(_t.length<3)continue;let Gt=15,Kt=320*480;_t.forEach(Xe=>{Gt=Math.max(Gt,Xe.maxFrameRate),Kt=Math.max(Kt,Xe.totalPixels())}),_t.sort((Xe,It)=>{if(rt.degradationPreference===b.default.MaintainResolution)return Math.abs(Xe.maxFrameRate-It.maxFrameRate)<2?Xe.totalPixels()-It.totalPixels():Xe.maxFrameRate-It.maxFrameRate;if(rt.degradationPreference===b.default.MaintainFramerate)return Xe.totalPixels()===It.totalPixels()?Xe.maxFrameRate-It.maxFrameRate:Xe.totalPixels()-It.totalPixels();{const En=n(pn=>pn.avgBitrateKbps*Math.pow(2,5*pn.maxFrameRate/Gt*Math.pow(4,pn.totalPixels()/Kt)),"weighByFramerate");return En(Xe)-En(It)}});let Ye;for(const Xe of _t){if(Ye!==void 0&&(Xe.maxFrameRate<Ye.maxFrameRate&&Math.abs(Ye.maxFrameRate-Xe.maxFrameRate)>2||Xe.totalPixels()<Ye.totalPixels())){ne.add(Xe.streamId);continue}Ye=Xe}}const he=z.filter(rt=>!ne.has(rt.streamId));this.logger.info(`Filtered to ${JSON.stringify(he)}`);const ge={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};ge.targetDownlinkBitrate=this.determineTargetRate();const Pe=this.subscribedReceiveSet.size(),He=this.downlinkStats.bandwidthEstimateKbps,pt=!this.videoPriorityBasedPolicyConfig.allowSubscribe(Pe,He);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=Ls.MIN_TIME_BETWEEN_SUBSCRIBE_MS,re&&pt))return;const Ht=this.priorityPolicy(ge,he,w),Ke=!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let it=0;if(!Ke&&!this.startupPeriod&&Z?this.rateProbeState==="Probing"?it=this.handleProbe(w,ge.targetDownlinkBitrate):ge.deltaToNextUpgrade!==0&&(it=this.maybeOverrideOrProbe(w,ge,Ht)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.previousStreamsWithPreference=z,this.videoPreferencesUpdated=!1,it===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=ge.targetDownlinkBitrate;return}if(it===2){const rt=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(z,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+rt);return}this.optimalNonPausedReceiveStreams=w.slice();const ct=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(z,w),this.logger.getLogLevel()<=t.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==P||this.optimalReceiveStreams.length!==w.length||ct!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(R,ge.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=ge.targetDownlinkBitrate,this.optimalReceiveStreams=w.slice()}calculateOptimalReceiveSet(){const A=new f.default;this.calculateOptimalReceiveStreams();for(const w of this.optimalReceiveStreams)A.add(w.streamId);if(!this.optimalReceiveSet.equal(A)){const w=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(A)} subscribedRate:${w}`)}this.optimalReceiveSet=A}determineTargetRate(){let A=0;const w=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=w),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>Ls.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||w-this.firstEstimateTimestamp>Ls.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?A=Ls.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<Ls.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),A=this.downlinkStats.usedBandwidthKbps+Ls.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):A=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?A=Ls.DEFAULT_BANDWIDTH_KBPS:A=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-Ls.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*Ls.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,A=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,A>15e3&&this.logger.warn("bwe: "+A+" exceeds maximum limit (15000). Limit TargetDisplaySize with VideoPreferences to avoid this."),Math.min(A,15e3)}setProbeState(A){if(this.rateProbeState===A)return!1;const w=Date.now();switch(A){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||w-this.lastProbeTimestamp>Ls.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=w;else return!1;break;case"Probing":if(w-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=w,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,Ls.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+A+" from "+this.rateProbeState),this.rateProbeState=A,!0}upgradeToStream(A,w){for(let R=0;R<A.length;R++)if(A[R].groupId===w.groupId){const P=w.avgBitrateKbps-A[R].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(A[R])+" to "+w),this.lastUpgradeRateKbps=P,A[R]=w,P}return A.push(w),this.lastUpgradeRateKbps=w.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(A,w){if(Date.now()-this.lastProbeTimestamp>Ls.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>Ls.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(Ls.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const R=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(A)||w>R?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=Ls.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(A,w,R){const P=this.chosenStreamsSameAsLast(A);let x=0;const z=w.targetDownlinkBitrate>Ls.LOW_BITRATE_THRESHOLD_KBPS?Ls.TARGET_RATE_CHANGE_TRIGGER_PERCENT:Ls.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,Z=w.targetDownlinkBitrate*z/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!P&&Math.abs(w.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<Z?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),x=1):this.targetRateBaselineForDeltaCheckKbps=w.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,x;if(P||x===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(A,R),x=0);break}else this.setProbeState("Not Probing");return x}calculateSubscribeRate(A){let w=0;for(const R of A)!this.pausedStreamIds.contain(R.streamId)&&!this.pausedBwAttendeeIds.has(R.attendeeId)&&(w+=R.maxBitrateKbps);return w}handleAppPausedStreams(A,w){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new f.default;const R=this.tileController.getAllRemoteVideoTiles();for(const P of R){const x=P.state();if(x.paused&&!this.pausedBwAttendeeIds.has(x.boundAttendeeId)){let z=w.length;for(;z--;)w[z].attendeeId===x.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+x.boundAttendeeId+" streamId: "+w[z].streamId),this.pausedStreamIds.add(w[z].streamId),this.subscribedReceiveSet.contain(w[z].streamId)&&A.push(w[z]),w.splice(z,1))}}}processBwPausedStreams(A,w){if(!this.tileController){this.logger.warn("tileController not found!");return}const R=this.getCurrentVideoPreferences();if(R&&this.shouldPauseTiles){const P=this.tileController.getAllVideoTiles();for(const x of R){const z=this.getVideoTileForAttendeeId(x.attendeeId,P),Z=(z==null?void 0:z.state().paused)||!1;if(w.some(re=>re.attendeeId===x.attendeeId))Z&&this.pausedBwAttendeeIds.has(x.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${x.attendeeId} due to bandwidth`),this.forEachObserver(re=>{re.tileWillBeUnpausedByDownlinkPolicy(z.id())}),this.tileController.unpauseVideoTile(z.id()),this.pausedBwAttendeeIds.delete(x.attendeeId));else{const re=A.some(ne=>ne.attendeeId===x.attendeeId);if(z&&re){const ne=this.optimalReceiveStreams.find(he=>he.attendeeId===x.attendeeId);ne!==void 0&&(Z||(this.logger.info(`bwe: pausing streamId ${ne.streamId} attendee ${x.attendeeId} due to bandwidth`),this.forEachObserver(he=>{he.tileWillBePausedByDownlinkPolicy(z.id())}),this.tileController.pauseVideoTile(z.id())),w.push(ne)),this.pausedBwAttendeeIds.add(x.attendeeId)}else if(re){const ne=this.tileController.addVideoTile();ne.bindVideoStream(x.attendeeId,!1,null,0,0,0,null),this.forEachObserver(he=>{he.tileWillBePausedByDownlinkPolicy(ne.id())}),ne.pause(),this.logger.info(`bwe: Created video tile ${ne.id()} for bw paused attendee ${x.attendeeId}`),this.pausedBwAttendeeIds.add(x.attendeeId)}}}}}cleanBwPausedTiles(A){if(!this.tileController){this.logger.warn("tileController not found!");return}const w=this.tileController.getAllRemoteVideoTiles(),R=this.getCurrentVideoPreferences();for(const P of w){const x=P.state();x.boundVideoStream||(A.some(z=>z.attendeeId===x.boundAttendeeId)?R!==void 0&&!R.some(z=>z.attendeeId===x.boundAttendeeId)&&this.tileController.removeVideoTile(x.tileId):(this.tileController.removeVideoTile(x.tileId),this.logger.info(`bwe: Removed video tile ${x.tileId} for bw paused attendee ${x.boundAttendeeId}`)))}}priorityPolicy(A,w,R){let P;const x=this.getCurrentVideoPreferences(),z=x.highestPriority();let Z,re=z;for(;re!==-1;){Z=-1;for(const ne of x)if(ne.priority===re)for(const he of w)he.attendeeId===ne.attendeeId&&(R.some(ge=>ge.groupId===he.groupId)||(A.chosenTotalBitrate+he.avgBitrateKbps<=A.targetDownlinkBitrate?(R.push(he),A.chosenTotalBitrate+=he.avgBitrateKbps):A.deltaToNextUpgrade===0&&(A.deltaToNextUpgrade=he.avgBitrateKbps,P=he)));else if(ne.priority>re){Z=ne.priority;break}for(const ne of x)if(ne.priority===re){for(const he of w)if(he.attendeeId===ne.attendeeId){const ge=R.findIndex(Pe=>Pe.groupId===he.groupId&&Pe.maxBitrateKbps<=he.maxBitrateKbps&&Pe.avgBitrateKbps<he.avgBitrateKbps);if(ge!==-1){const Pe=he.avgBitrateKbps-R[ge].avgBitrateKbps;this.hasSimulcastStreams(w,he.attendeeId,he.groupId)&&this.canUpgrade(he.avgBitrateKbps,ne.targetSize,ne.targetSizeToBitrateKbps(ne.targetSize),he.attendeeId.endsWith(e.default.Modality))?(this.logger.info(`bwe: attendee: ${he.attendeeId} group: ${he.groupId} has simulcast and can upgrade avgBitrate: ${he.avgBitrateKbps} target: ${ne.targetSizeToBitrateKbps(ne.targetSize)} targetTotalBitrate: ${A.targetDownlinkBitrate}`),A.chosenTotalBitrate+Pe<=A.targetDownlinkBitrate?(A.chosenTotalBitrate+=Pe,R[ge]=he):A.deltaToNextUpgrade===0&&(A.deltaToNextUpgrade=Pe,P=he)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(ne.priority>re)break;if(re===z&&A.deltaToNextUpgrade!==0)break;re=Z}return P}getVideoTileForAttendeeId(A,w){for(const R of w)if(R.state().boundAttendeeId===A)return R;return null}canUpgrade(A,w,R,P){let x=!1;return(w===v.default.High||!P&&A<=R||P&&w===v.default.Medium&&A<=R)&&(x=!0),x?(this.logger.info(`bwe: canUpgrade: bitrateKbps: ${A} targetBitrateKbps: ${R}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbps: ${A} targetBitrateKbps: ${R}`),!1)}hasSimulcastStreams(A,w,R){let P=0;for(const x of A)x.attendeeId===w&&x.groupId===R&&P++;return this.logger.info(`bwe: attendeeId: ${w} groupId: ${R} hasSimulcastStreams: streamCount: ${P}`),P>1}streamsWithPreferenceDidChange(A){if(this.previousStreamsWithPreference===void 0||A.length!==this.previousStreamsWithPreference.length||this.videoPreferencesUpdated===!0)return!0;for(const w of A)if(this.previousStreamsWithPreference.find(P=>P.groupId===w.groupId&&P.streamId===w.streamId&&P.maxBitrateKbps===w.maxBitrateKbps)===void 0)return!0;return!1}chosenStreamsSameAsLast(A){if(this.optimalNonPausedReceiveStreams.length!==A.length)return!1;for(const w of this.optimalNonPausedReceiveStreams)if(!A.some(R=>R.streamId===w.streamId))return!1;return!0}policyStateLogStr(A,w){const R=this.calculateSubscribeRate(this.optimalReceiveStreams),P={targetBitrate:w,subscribedRate:R,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let x="remoteInfos: [";for(const Z of A)x+=`{grpId:${Z.groupId} strId:${Z.streamId} maxBr:${Z.maxBitrateKbps} avgBr:${Z.avgBitrateKbps}}, `;x+="]";let z=`bwe: optimalReceiveSet ${JSON.stringify(P)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${x}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(z+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?z+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:z+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,z}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(A){this.serverSideNetworkAdaption=A,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[r.default.None,r.default.BandwidthProbing,r.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let A=this.getCurrentVideoPreferences();return A||(A=S.VideoPreferences.prepare().build()),A}wantsAllTemporalLayersInIndex(){return!0}constructor(A,w=_.default.Default){this.logger=A,this.videoPriorityBasedPolicyConfig=w,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption===r.default.Default&&(this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=r.default.BandwidthProbingAndRemoteVideoQualityAdaption),this.reset()}},"VideoPriorityBasedPolicy");l.default=T,T.DEFAULT_BANDWIDTH_KBPS=2800,T.STARTUP_PERIOD_MS=6e3,T.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,T.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,T.LOW_BITRATE_THRESHOLD_KBPS=300,T.MIN_TIME_BETWEEN_PROBE_MS=5e3,T.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,T.MAX_HOLD_BEFORE_PROBE_MS=3e4,T.MAX_ALLOWED_PROBE_TIME_MS=6e4,T.SPURIOUS_PACKET_LOST_THRESHOLD=2,T.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},7255041548:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(498975381));let m=n(class kf{allowSubscribe(a,s){let i=0;const e=this.currentNetworkEvent;if(s>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=s,!0;if(s<this.referenceBitrate){if(this.currentNetworkEvent=1,i=this.getSubscribeDelay(this.currentNetworkEvent,a),e!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>i)return this.referenceBitrate=s,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(a,s){let i=kf.MINIMUM_DELAY_MS;const e=kf.MAXIMUM_DELAY_MS-kf.MINIMUM_DELAY_MS,t=this.networkIssueResponseDelayFactor;switch(a){case 1:i+=e*t*(1+s/10),i=Math.min(kf.MAXIMUM_DELAY_MS,i);break}return i}constructor(a=0,s=0){this.networkIssueResponseDelayFactor=a,this.networkIssueRecoveryDelayFactor=s,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=h.default.BandwidthProbingAndRemoteVideoQualityAdaption,a<0?a=0:a>1&&(a=1),this.networkIssueResponseDelayFactor=a,s<0?s=0:s>1&&(s=1),this.networkIssueRecoveryDelayFactor=s}},"VideoPriorityBasedPolicyConfig");l.default=m,m.MINIMUM_DELAY_MS=2e3,m.MAXIMUM_DELAY_MS=8e3,m.Default=new m(0,0),m.UnstableNetworkPreset=new m(0,1),m.StableNetworkPreset=new m(1,0)},9648677690:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoQualityAdaptationPreference=void 0;var c;(function(d){d[d.Balanced=0]="Balanced",d[d.MaintainFramerate=1]="MaintainFramerate",d[d.MaintainResolution=2]="MaintainResolution"})(c=l.VideoQualityAdaptationPreference||(l.VideoQualityAdaptationPreference={})),l.default=c},3455625450:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{create(){const h={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{h.paused=!0},play:()=>(h.paused=!1,Promise.resolve())};return h}},"NoOpVideoElementFactory");l.default=c},6011658084:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return c(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(m){this.canvas=m,this.destroyed=!1}},"CanvasVideoFrameBuffer");l.default=d},5153707095:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6011658084)),p=h(c(4586125494)),a=15;let s=n(class{destroy(){if(this.stop(),this.stages)for(const e of this.stages)e.destroy();this.timer.destroy()}get framerate(){return this.fr}set framerate(e){this.fr=e<0?a:e}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const e of this.outputMediaStream.getVideoTracks())e.stop();this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(e=>{e.processingDidStop&&e.processingDidStop()}))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}getInputMediaStream(){return d(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(e){return d(this,void 0,void 0,function*(){if(!e){this.stop();return}if(e.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=e;const t=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(t)}`),this.framerate=t.frameRate,this.canvasOutput.width=t.width,this.canvasOutput.height=t.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const r=new m.default(this.canvasInput);this.sourceBuffers.push(r),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const e of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${e.id} from output stream`),this.outputMediaStream.removeTrack(e);for(const e of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${e.id} to output stream`),this.outputMediaStream.addTrack(e)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(e){this.stages=e}get processors(){return this.stages}forEachObserver(e){for(const t of this.observers)setTimeout(()=>{e(t)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const e of this.inputVideoStream.getTracks())e.stop();this.inputVideoStream=null;for(const e of this.sourceBuffers)e.destroy();this.sourceBuffers=[]}constructor(e,t,r=new p.default){this.logger=e,this.stages=t,this.fr=a,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=o=>d(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const f=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let g=[];g.push(this.sourceBuffers[0]);try{for(const T of this.processors)g=yield T.process(g)}catch{this.forEachObserver(I=>{I.processingDidFailToStart&&I.processingDidFailToStart()});return}this.destBuffers=g;let v;try{v=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(I=>{I.processingDidFailToStart&&I.processingDidFailToStart()}));return}const u=v.width,S=v.height;u!==0&&S!==0&&(this.canvasOutput.width!==u&&this.canvasOutput.height!==S&&(this.canvasOutput.width=u,this.canvasOutput.height=S),this.outputCtx.drawImage(v,0,0,u,S,0,0,u,S),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(T=>{T.processingDidStart&&T.processingDidStart()})));const _=performance.now()-f,b=1e3*2/this.framerate-_,E=Math.max(0,1e3/this.framerate-_);b<=0&&this.forEachObserver(T=>{T.processingLatencyTooHigh&&T.processingLatencyTooHigh(_)}),yield this.timer.start(E,this.process.bind(this))}),this.timer=r}},"DefaultVideoFrameProcessorPipeline");l.default=s},4586125494:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{createWorkerTimer(){try{const m=new Blob([`self.onmessage = async function(e){ 
            var timerID = null;
            const awaitTimeout = delay => new Promise( resolve => {
              timerID = setTimeout(resolve, delay);
            })
            await awaitTimeout(e.data);
            postMessage(timerID);
          }`],{type:"application/javascript"});return new Worker(window.URL.createObjectURL(m))}catch{}}start(m,p){return c(this,void 0,void 0,function*(){this.callback=p,this.workerTimer?(this.workerTimer.onmessage=a=>{this.lastTimeout=a.data,this.callback()},this.workerTimer.postMessage(m)):this.lastTimeout=setTimeout(()=>{this.callback()},m)})}destroy(){return c(this,void 0,void 0,function*(){this.callback=void 0,this.lastTimeout&&(clearTimeout(this.lastTimeout),this.lastTimeout=void 0),this.workerTimer&&(this.workerTimer.terminate(),this.workerTimer=void 0)})}constructor(){this.workerTimer=void 0,this.callback=void 0,this.workerTimer=this.createWorkerTimer()}},"DefaultVideoFrameProcessorTimer");l.default=d},1552134416:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(570155317)),p=h(c(5153707095));let a=n(class Rv{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(i){if(this.pipe.processors)for(const e of this.pipe.processors)typeof e.setEventController=="function"&&e.setEventController(i)}chooseNewInnerDevice(i){const e=new Rv(this.logger,i,this.processors,this.browserBehavior);return e.pipe=this.pipe,e}getInnerDevice(){return this.device}intrinsicDevice(){return d(this,void 0,void 0,function*(){return this.device})}transformStream(i){return d(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(i),this.inputMediaStream=i,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const i=this.device&&this.device.id;if(this.pipe.stop(),!i&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return d(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(i=>{i.processingDidStart&&i.processingDidStart()})}processingLatencyTooHigh(i){this.forEachObserver(e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(i)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(i=>{i.processingDidFailToStart&&i.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()})}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}get framerate(){return this.pipe.framerate}set framerate(i){this.pipe.framerate=i}constructor(i,e,t,r=new m.default){this.logger=i,this.device=e,this.processors=t,this.browserBehavior=r,this.observers=new Set,this.pipe=new p.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");l.default=a},4008876858:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{process(m){return c(this,void 0,void 0,function*(){return m})}destroy(){return c(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");l.default=d},7077045119:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DeferredPromise=void 0;let c=n(class{getPromise(){return this.promise}resolvePromise(h){this.resolve(h)}resolveAndReplacePromise(h){this.resolve(h),this.promise=new Promise((m,p)=>{this.resolve=m,this.reject=p})}rejectPromise(h){this.reject(h)}rejectAndReplacePromise(h){this.reject(h),this.promise=new Promise((m,p)=>{this.resolve=m,this.reject=p})}constructor(){this.promise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}},"DeferredPromise");l.DeferredPromise=c},944458121:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(p,a,s,i){function e(t){return t instanceof s?t:new s(function(r){r(t)})}return n(e,"adopt"),new(s||(s=Promise))(function(t,r){function o(v){try{g(i.next(v))}catch(u){r(u)}}n(o,"fulfilled");function f(v){try{g(i.throw(v))}catch(u){r(u)}}n(f,"rejected");function g(v){v.done?t(v.value):e(v.value).then(o,f)}n(g,"step"),g((i=i.apply(p,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxCanvasOpsManager=void 0;const h=c(2821198607);let m=n(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return d(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const s=document.createElement("canvas");s.width=this.streamParameters.width,s.height=this.streamParameters.height,s.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return d(this,void 0,void 0,function*(){const s=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(s)try{const e=yield this.loadImage(s);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}resizeAndSetReplacementColor(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}loadImage(a){return d(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,r)=>{e.onload=()=>{t(e)},e.onerror=o=>{r(o)}})})}constructor(a,s){this.streamParameters=a,this.outputCanvas=s,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");l.VideoFxCanvasOpsManager=m},2821198607:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_VIDEO_FX_SPEC=l.FXLIB_PATH=l.WORKER_PATH=l.CDN_BASE_PATH=l.RESOURCE_CONSTRAINTS=l.SEGMENTATION_MODEL=l.DEFAULT_STREAM_PARAMETERS=l.WORKER_MSG=void 0,l.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},l.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},l.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},l.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},l.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const c="/ml_media_fx/otherassets";l.WORKER_PATH=`${c}/worker.js`,l.FXLIB_PATH=`${c}/fxlib.js`,l.DEFAULT_VIDEO_FX_SPEC={paths:{cdnBasePath:l.CDN_BASE_PATH,workerPath:l.WORKER_PATH,fxLibPath:l.FXLIB_PATH}}},8042793250:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(S,_,b,E){function T(I){return I instanceof b?I:new b(function(A){A(I)})}return n(T,"adopt"),new(b||(b=Promise))(function(I,A){function w(x){try{P(E.next(x))}catch(z){A(z)}}n(w,"fulfilled");function R(x){try{P(E.throw(x))}catch(z){A(z)}}n(R,"rejected");function P(x){x.done?I(x.value):T(x.value).then(w,R)}n(P,"step"),P((E=E.apply(S,_||[])).next())})},h=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(8200904422),p=c(8408264373),a=c(7737065561),s=h(c(570155317)),i=h(c(5350537240)),e=c(759573094),t=h(c(1877666836)),r=h(c(6011658084)),o=c(7077045119),f=c(944458121),g=c(2821198607),v=c(321421209);let u=n(class Lu{process(_){return d(this,void 0,void 0,function*(){return _})}fxProcess(_){return d(this,void 0,void 0,function*(){const b=_[0].asCanvasElement();this.didStreamParametersChange(b)&&(yield this.adjustProcessorForNewStreamParameters(b));try{yield this.manageSegmentationMask(b)}catch(E){throw this.logger.error(E),new Error("Video stream could not be processed")}return yield this.renderer.render(b,this.segmentationMask),_[0]=this.canvasVideoFrameBuffer,_})}noOpProcess(_){return d(this,void 0,void 0,function*(){return _})}didStreamParametersChange(_){return _.width!==this.streamParameters.width||_.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(_){return d(this,void 0,void 0,function*(){this.streamParameters.width=_.width,this.streamParameters.height=_.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return d(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new o.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:g.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(_){return d(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const b=this.canvasOpsManager.getInferenceInputData(_);this.segmentationMask=yield this.generateSegmentationMask(b),this.segmentationRateManager.completeSegmentation()}}catch(b){throw this.logger.error(b.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(_){return d(this,void 0,void 0,function*(){Lu.isSharedArrayBufferSupported?(this.sharedImageData.set(_.data),this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:_},[_.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(b){throw this.logger.error(b.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(_){return{backgroundBlur:{isEnabled:_.backgroundBlur.isEnabled,strength:_.backgroundBlur.strength},backgroundReplacement:{isEnabled:_.backgroundReplacement.isEnabled,backgroundImageURL:_.backgroundReplacement.backgroundImageURL,defaultColor:_.backgroundReplacement.defaultColor}}}setVideoFxSpec(_){_.paths&&(this.videoFxSpec.paths=_.paths)}setEffectConfig(_){return d(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(_,this.effectConfig))return;const b=this.cloneConfigFrom(_);try{yield this.validateEffectConfig(b)}catch(E){throw this.logger.error(E.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}b.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(b),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,b),this.effectConfig=b,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(_){return d(this,void 0,void 0,function*(){if(_.backgroundBlur.isEnabled&&_.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");_.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(_))})}validateReplacementConfig(_){return d(this,void 0,void 0,function*(){if(_.backgroundReplacement.backgroundImageURL&&_.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!_.backgroundReplacement.backgroundImageURL&&!_.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{_.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(_.backgroundReplacement.backgroundImageURL))}catch(E){throw this.logger.error(E.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const b=_.backgroundReplacement.defaultColor;if(b&&b!=="black"&&b!=="#000000"&&b!=="#000"){if(b.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(b))throw new Error(`Invalid hexadecimal color code for default replacement background: ${b}`);const T=document.createElement("canvas").getContext("2d"),I=T.fillStyle;if(T.fillStyle=b,T.fillStyle===I)throw new Error(`Invalid color for default replacement background: ${b}`)}})}validateProcessingBudgetPerFrame(_){if(_<g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||_>g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return d(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const _=this.getVideoFxAssetParams();yield this.loadEngineWorker(_),yield this.buildEngine(_),yield this.loadFxLib(_),this.renderer=constructRenderer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(_){throw this.logger.error(_.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const _=e.getDefaultAssetSpec();return{assetGroup:_.assetGroup,revisionID:_.revisionID,sdk:encodeURIComponent(t.default.sdkVersion),ua:encodeURIComponent(t.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(_,b){const E=new URL(_);for(const[T,I]of Object.entries(b))if(I!==void 0){const A=encodeURIComponent(T),w=encodeURIComponent(I);E.searchParams.set(A,w)}return E.toString()}loadEngineWorker(_){return d(this,void 0,void 0,function*(){try{const b=this.getPathFromVideoFxAssetParams(this.videoFxSpec.paths.cdnBasePath+this.videoFxSpec.paths.workerPath,_);this.engineWorker=yield p.loadWorker(b,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",E=>this.engineWorkerReceiver(E))}catch(b){throw this.logger.error(b.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(_){return d(this,void 0,void 0,function*(){this.buildEnginePromise=new o.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:this.videoFxSpec.paths.cdnBasePath,sdkVersioningParams:_}});try{yield this.buildEnginePromise.getPromise()}catch(b){throw this.logger.error(b.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(_){return d(this,void 0,void 0,function*(){const b=this.getPathFromVideoFxAssetParams(this.videoFxSpec.paths.cdnBasePath+this.videoFxSpec.paths.fxLibPath,_),E={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const T=yield m.fetchWithBehavior(b,E,{});if(!T.ok)throw new Error("Fetch failed.");const I=window.URL.createObjectURL(yield T.blob());yield new Promise((A,w)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",I),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",A),this.fxLibScript.addEventListener("error",w),document.body.appendChild(this.fxLibScript)})}catch(T){throw this.logger.error(T.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(_){const b=_.data;switch(b.msg){case g.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(b.payload);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(b.payload.output);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case g.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(b)}`);break}}settleEngineBuildPromise(_){_!==g.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(_){_?this.segmentationRequestPromise.resolveAndReplacePromise(_):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const _=new ImageData(new Uint8ClampedArray(this.sharedImageData),g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(_)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new i.default,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return d(this,void 0,void 0,function*(){let E=!0;const T=n((w,R)=>{w&&(_.info(R),E=!1)},"checkEnv");T(typeof globalThis>"u","Browser does not have globalThis."),T(!a.supportsWorker(globalThis,_),"Browser does not support web workers."),T(!a.supportsWASM(globalThis,_),"Browser does not support wasm."),T(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const I=new s.default;T(!I.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const A=n(()=>d(this,void 0,void 0,function*(){if(b)try{const w=new Lu(_);yield w.loadAssets(),yield w.destroy()}catch{return _.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(E?yield A():!1)})}static create(_,b){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,T=arguments.length>3?arguments[3]:void 0;return d(this,void 0,void 0,function*(){const I=new Lu(_,E);T&&I.setVideoFxSpec(T);try{return yield I.loadAssets(),yield I.setEffectConfig(b),I}catch(A){throw _.error(A.toString()),I.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(_){this.eventController?this.eventController=_:(this.eventController=_,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const _={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",_)}sameVideoFxConfig(_,b){return _.backgroundBlur.isEnabled===b.backgroundBlur.isEnabled&&_.backgroundBlur.strength===b.backgroundBlur.strength&&_.backgroundReplacement.backgroundImageURL===b.backgroundReplacement.backgroundImageURL&&_.backgroundReplacement.defaultColor===b.backgroundReplacement.defaultColor&&_.backgroundReplacement.isEnabled===b.backgroundReplacement.isEnabled}constructor(_,b=g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,E){this.logger=_,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new r.default(this.outputCanvas),this.videoFxSpec=g.DEFAULT_VIDEO_FX_SPEC;try{this.validateProcessingBudgetPerFrame(b)}catch(T){throw this.logger.error(T),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${b}`)}E&&(this.eventController=E),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new o.DeferredPromise,this.segmentationRateManager=new v.VideoFxSegmentationRateManager(this.logger,b),this.streamParameters={framerate:g.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:g.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:g.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:g.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},Lu.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${Lu.isSharedArrayBufferSupported}`),this.canvasOpsManager=new f.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${b}`)}},"VideoFxProcessor");l.default=u,u.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},321421209:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxSegmentationRateManager=void 0;const d=c(2821198607);let h=n(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=d.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(p){p>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&p<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(p,a){this.logger=p,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=d.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");l.VideoFxSegmentationRateManager=h},1771494510:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"VideoSource");l.default=c},5814977413:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Pm{add(h){this.ids.add(h)}array(){return Array.from(this.ids.values()).sort((m,p)=>m-p)}contain(h){return this.ids.has(h)}forEach(h){this.ids.forEach(h)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(h){if(!h)return this.ids.size===0;const m=this.array(),p=h.array();if(m.length!==p.length)return!1;for(let a=0;a<m.length;a++)if(m[a]!==p[a])return!1;return!0}clone(){return new Pm(this.array())}remove(h){this.ids.delete(h)}toJSON(){return this.array()}truncate(h){const m=this.array();return new Pm(m.splice(0,h))}constructor(h){this.ids=new Set(h)}},"DefaultVideoStreamIdSet");l.default=c},3420631425:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7344258710),m=d(c(5814977413)),p=d(c(8784832088));let a=n(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(i){return i>0&&i<1e3?1:Math.trunc(i/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const i=[];return this.currentIndex.sources.forEach(e=>{const t=new p.default;t.attendeeId=e.attendeeId,t.groupId=e.groupId,t.streamId=e.streamId,t.maxBitrateKbps=e.maxBitrateKbps,t.avgBitrateKbps=this.convertBpsToKbps(e.avgBitrateBps),t.width=e.width,t.height=e.height,t.maxFrameRate=e.framerate,i.push(t)}),i}integrateUplinkPolicyDecision(i){if(i&&i.length){const e=i[0];this.videoStreamDescription.maxBitrateKbps=e.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=e.maxFramerate}}integrateIndexFrame(i){if(this.currentIndex=i,!i)return;const e=new Map;let t=!1;for(const r of i.sources){if(!e.has(r.attendeeId)){e.set(r.attendeeId,r.groupId);continue}const o=e.get(r.attendeeId);o<r.groupId&&(this.logger.warn(`Old group ID ${o} found for attendee ID ${r.attendeeId}, replacing with newer group ID ${r.groupId}`),e.set(r.attendeeId,r.groupId)),t=!0}t&&(this.currentIndex.sources=this.currentIndex.sources.filter(r=>e.get(r.attendeeId)===r.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}remoteVideoUpdateSent(){this.indexForLastRemoteVideoUpdate=this.currentIndex}integrateSubscribeAckFrame(i){this.currentSubscribeAck=i,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe),this.sendVideoStreamId=0,i.allocations&&i.allocations!==void 0&&i.allocations.length>0&&(this.sendVideoStreamId=i.allocations[0].streamId)}integrateBitratesFrame(i){if(this.currentIndex)for(const e of i.bitrates){const t=this.currentIndex.sources.find(r=>r.streamId===e.sourceStreamId);t!==void 0&&(t.avgBitrateBps=e.avgBitrateBps)}}allStreams(){const i=new m.default;if(this.currentIndex)for(const e of this.currentIndex.sources)i.add(e.streamId);return i}allVideoSendingSourcesExcludingSelf(i){const e=[],t=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const r of this.currentIndex.sources){const{attendeeId:o,externalUserId:f,mediaType:g}=r;o!==i&&g===h.SdkStreamMediaType.VIDEO&&(t.has(o)||(e.push({attendee:{attendeeId:o,externalUserId:f}}),t.add(o)))}return e}streamSelectionUnderBandwidthConstraint(i,e,t,r){const o=new Set;if(this.currentIndex)for(const S of this.currentIndex.sources)S.attendeeId===i||S.mediaType!==h.SdkStreamMediaType.VIDEO||!e.has(S.attendeeId)&&!t.has(S.attendeeId)&&o.add(S.attendeeId);const f=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i),g=new Map;let v=0;f.forEach((S,_)=>{g.set(_,S[0]),v+=S[0].maxBitrateKbps}),v=this.trySelectHighBitrateForAttendees(f,e,v,r,g),this.trySelectHighBitrateForAttendees(f,o,v,r,g);const u=new m.default;for(const S of g.values())u.add(S.streamId);return u}highestQualityStreamFromEachGroupExcludingSelf(i){const e=new m.default;if(this.currentIndex){const t=new Map;for(const r of this.currentIndex.sources)r.attendeeId===i||r.mediaType!==h.SdkStreamMediaType.VIDEO||(!t.has(r.groupId)||r.maxBitrateKbps>t.get(r.groupId).maxBitrateKbps)&&t.set(r.groupId,r);for(const r of t.values())e.add(r.streamId)}return e}numberOfVideoPublishingParticipantsExcludingSelf(i){return this.highestQualityStreamFromEachGroupExcludingSelf(i).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${i}`),"";const t=this.subscribeStreamToAttendeeMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known attendee`),"")}externalUserIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${i}`),"";const t=this.subscribeStreamToExternalUserIdMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(i){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const e=this.streamToAttendeeMap.get(i);return e||(this.logger.info(`stream ID ${i} does not correspond to a known attendee`),"")}attendeeIdForGroupId(i){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const e=this.groupIdToAttendeeMap.get(i);return e||(this.logger.info(`group ID ${i} does not correspond to a known attendee`),"")}groupIdForStreamId(i){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const e of this.currentIndex.sources)if(e.streamId===i)return e.groupId;if(this.indexForSubscribe){for(const e of this.indexForSubscribe.sources)if(e.streamId===i)return e.groupId}if(this.indexForLastRemoteVideoUpdate){for(const e of this.indexForLastRemoteVideoUpdate.sources)if(e.streamId===i)return e.groupId}}}StreamIdsInSameGroup(i,e){return this.groupIdForStreamId(i)===this.groupIdForStreamId(e)}streamIdForTrack(i){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(i)}streamIdForSSRC(i){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(i)}overrideStreamIdMappings(i,e){if(this.subscribeTrackToStreamMap){for(const[t,r]of this.subscribeTrackToStreamMap.entries())if(i===r){this.subscribeTrackToStreamMap.set(t,e);break}}if(this.subscribeSsrcToStreamMap){for(const[t,r]of this.subscribeSsrcToStreamMap.entries())if(i===r){this.subscribeSsrcToStreamMap.set(t,e);break}}}groupIdForSSRC(i){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(i)}streamsPausedAtSource(){const i=new m.default;if(this.currentIndex)for(const e of this.currentIndex.pausedAtSourceIds)i.add(e);return i}sendVideoStreamIdFromRid(i){return this.sendVideoStreamId}buildTrackToStreamMap(i){const e=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.trackLabel,t.streamId);return e}buildSSRCToStreamMap(i){const e=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,t.streamId);return e}buildSSRCToGroupMap(i){const e=new Map;for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,this.groupIdForStreamId(t.streamId));return e}buildStreamToAttendeeMap(i){const e=new Map;if(i)for(const t of i.sources)e.set(t.streamId,t.attendeeId);return e}buildGroupIdToAttendeeMap(i){const e=new Map;for(const t of i.sources)e.set(t.groupId,t.attendeeId);return e}buildStreamExternalUserIdMap(i){const e=new Map;if(i)for(const t of i.sources)t.externalUserId&&e.set(t.streamId,t.externalUserId);return e}trySelectHighBitrateForAttendees(i,e,t,r,o){for(const f of e){if(t>=r)break;if(i.has(f)){const g=i.get(f);for(const v of g.reverse())if(t-o.get(f).maxBitrateKbps+v.maxBitrateKbps<r){t=t-o.get(f).maxBitrateKbps+v.maxBitrateKbps,o.set(f,v);break}}}return t}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i){const e=new Map;if(this.currentIndex)for(const t of this.currentIndex.sources)t.attendeeId===i||t.mediaType!==h.SdkStreamMediaType.VIDEO||(e.has(t.attendeeId)?e.get(t.attendeeId).push(t):e.set(t.attendeeId,[t]));return e.forEach((t,r)=>{t.sort((o,f)=>o.maxBitrateKbps>f.maxBitrateKbps?1:o.maxBitrateKbps<f.maxBitrateKbps?-1:0)}),e}constructor(i){this.logger=i,this.currentIndex=null,this.indexForSubscribe=null,this.indexForLastRemoteVideoUpdate=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new p.default,this.sendVideoStreamId=0,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");l.default=a},1509578473:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7344258710),m=d(c(3420631425)),p=d(c(8784832088));let a=n(class Nu extends m.default{localStreamDescriptions(){const i=[];return this._localStreamInfos.forEach(e=>{i.push(e.clone())}),i}integrateUplinkPolicyDecision(i){let e=!0,t=0;for(let r=0;r<i.length;r++){const o=i[r].maxBitrate/1e3,f=i[r].maxFramerate;if(!e||r===this._localStreamInfos.length){e=!1;const g=new p.default;g.maxBitrateKbps=o,g.maxFrameRate=f,g.disabledByUplinkPolicy=o===0,g.rid=i[r].rid,o!==0&&(g.timeEnabled=Date.now()),this._localStreamInfos.push(g),t++;continue}this._localStreamInfos[t].maxBitrateKbps===0&&o>0&&(this._localStreamInfos[t].timeEnabled=Date.now()),this._localStreamInfos[t].maxBitrateKbps=o,this._localStreamInfos[t].maxFrameRate=f,this._localStreamInfos[t].disabledByUplinkPolicy=o===0,t++}e&&this._localStreamInfos.splice(t)}integrateBitratesFrame(i){super.integrateBitratesFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const r of i.bitrates)e.add(r.sourceStreamId),this.streamIdToBitrateKbpsMap.set(r.sourceStreamId,this.convertBpsToKbps(r.avgBitrateBps));for(const r of t)e.has(r)||(this.streamIdToBitrateKbpsMap.get(r)===Nu.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(r,Nu.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(r,Nu.NOT_SENDING_STREAM_BITRATE));this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let i="";for(const e of this._localStreamInfos)i+=`streamId=${e.streamId} maxBitrate=${e.maxBitrateKbps} disabledByUplink=${e.disabledByUplinkPolicy}
`;this.logger.debug(()=>i)}integrateIndexFrame(i){super.integrateIndexFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const r of this.currentIndex.sources)r.mediaType===h.SdkStreamMediaType.VIDEO&&(e.add(r.streamId),this.streamIdToBitrateKbpsMap.has(r.streamId)||this.streamIdToBitrateKbpsMap.set(r.streamId,Nu.UNSEEN_STREAM_BITRATE));for(const r of t)e.has(r)||this.streamIdToBitrateKbpsMap.delete(r)}integrateSubscribeAckFrame(i){if(super.integrateSubscribeAckFrame(i),!i.allocations||i.allocations===void 0)return;let e=0;this._sendRidToVideoStreamIdMap.clear();for(const t of i.allocations){if(this._localStreamInfos.length<e+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[e].groupId=t.groupId,this._localStreamInfos[e].streamId=t.streamId,this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,Nu.UNSEEN_STREAM_BITRATE),this._sendRidToVideoStreamIdMap.set(this._localStreamInfos[e].rid,t.streamId),e++}}sendVideoStreamIdFromRid(i){let e=0;return this._sendRidToVideoStreamIdMap.has(i)&&(e=this._sendRidToVideoStreamIdMap.get(i)),e}constructor(){super(...arguments),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._sendRidToVideoStreamIdMap=new Map}},"SimulcastVideoStreamIndex");l.default=a,a.UNSEEN_STREAM_BITRATE=-2,a.RECENTLY_INACTIVE_STREAM_BITRATE=-1,a.NOT_SENDING_STREAM_BITRATE=0,a.BitratesMsgFrequencyMs=4e3},8784832088:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(7344258710);let h=n(class Mv{clone(){const p=new Mv;return p.attendeeId=this.attendeeId,p.groupId=this.groupId,p.streamId=this.streamId,p.ssrc=this.ssrc,p.trackLabel=this.trackLabel,p.maxBitrateKbps=this.maxBitrateKbps,p.avgBitrateKbps=this.avgBitrateKbps,p.maxFrameRate=this.maxFrameRate,p.timeEnabled=this.timeEnabled,p.disabledByUplinkPolicy=this.disabledByUplinkPolicy,p.width=this.width,p.height=this.height,p}toStreamDescriptor(){const p=d.SdkStreamDescriptor.create();return p.mediaType=d.SdkStreamMediaType.VIDEO,p.trackLabel=this.trackLabel,p.attendeeId=this.attendeeId,p.streamId=this.streamId,p.groupId=this.groupId,p.framerate=this.maxFrameRate,p.maxBitrateKbps=this.disabledByUplinkPolicy?0:this.maxBitrateKbps,p.avgBitrateBps=this.avgBitrateKbps,p}totalPixels(){return this.width*this.height}constructor(p,a,s,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.width=0,this.height=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.rid="",this.attendeeId=p,this.groupId=a,this.streamId=s,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");l.default=h},7141843743:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{notifyObservers(h,m){for(const p of this.observerQueue)p.videoElementResolutionChanged(h,m)}registerObserver(h){this.observerQueue.add(h)}removeObserver(h){this.observerQueue.delete(h)}bindVideoElement(h){if(this.element=h,!this.element){this.resizeObserver.unobserve(this.element);return}this.resizeObserver.observe(this.element)}constructor(){this.observerQueue=new Set,this.resizeObserver=new ResizeObserver(h=>{for(const m of h){const{width:p,height:a}=m.contentRect;this.notifyObservers(p,a)}})}},"DefaultVideoElementResolutionMonitor");l.default=c},8228544095:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(570155317)),m=d(c(5519271617)),p=d(c(2733652283));let a=n(class Lc{static connectVideoStreamToVideoElement(i,e,t){const r=t&&i.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(Lc.setVideoElementFlag(e,"disablePictureInPicture",t),Lc.setVideoElementFlag(e,"disableRemotePlayback",t),e.style.transform!==r&&(e.style.transform=r),e.hasAttribute("controls")&&e.removeAttribute("controls"),e.hasAttribute("autoplay")||e.setAttribute("autoplay","true"),e.hasAttribute("playsinline")||e.setAttribute("playsinline","true"),e.hasAttribute("muted")||(e.setAttribute("muted","true"),e.muted=!0),e.srcObject!==i&&(e.srcObject=i,new h.default().requiresVideoPlayWorkaround()&&e.paused)){const o=e.play();o!==void 0&&o.catch(f=>{console.warn("Error playing video in Safari",f)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i)if(e)t||(i.srcObject=null,i.style.transform="");else{if(!i.srcObject)return;i.pause(),i.style.transform="",Lc.setVideoElementFlag(i,"disablePictureInPicture",!1),Lc.setVideoElementFlag(i,"disableRemotePlayback",!1),i.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&Lc.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new p.default}devicePixelRatioChanged(i){this.tileState.devicePixelRatio=i,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(i,e,t,r,o,f,g,v){let u=!1;this.tileState.boundAttendeeId!==i&&(this.tileState.boundAttendeeId=i,new m.default(i).hasModality(m.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),u=!0),this.tileState.boundExternalUserId!==g&&(this.tileState.boundExternalUserId=g,u=!0),this.tileState.localTile!==e&&(this.tileState.localTile=e,u=!0),this.tileState.boundVideoStream!==t&&(this.tileState.boundVideoStream=t,u=!0),this.tileState.videoStreamContentWidth!==r&&(this.tileState.videoStreamContentWidth=r,u=!0),this.tileState.videoStreamContentHeight!==o&&(this.tileState.videoStreamContentHeight=o,u=!0),this.tileState.streamId!==f&&(this.tileState.streamId=f,u=!0),this.tileState.groupId!==v&&(this.tileState.groupId=v,u=!0),u&&this.sendTileStateUpdate()}bindVideoElement(i){var e;let t=!1;this.tileState.boundVideoElement!==i&&(this.tileState.boundVideoElement=i,(e=this.resolutionMonitor)===null||e===void 0||e.bindVideoElement(this.tileState.boundVideoElement),t=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==i.clientWidth&&(this.tileState.videoElementCSSWidthPixels=i.clientWidth,t=!0),this.tileState.videoElementCSSHeightPixels!==i.clientHeight&&(this.tileState.videoElementCSSHeightPixels=i.clientHeight,t=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),t&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const i=document.createElement("canvas"),e=this.tileState.boundVideoElement;i.width=e.videoWidth||e.width,i.height=e.videoHeight||e.height;const t=i.getContext("2d");return t.drawImage(e,0,0,i.width,i.height),t.getImageData(0,0,i.width,i.height)}setStreamId(i){this.tileState.streamId=i,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?Lc.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):Lc.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(i,e,t){e in i&&(i[e]=t)}constructor(i,e,t,r,o=void 0){this.tileController=t,this.devicePixelRatioMonitor=r,this.resolutionMonitor=o,this.tileState=new p.default,this.tileState.tileId=i,this.tileState.localTile=e,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");l.default=a},2733652283:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Pv{clone(){const h=new Pv;return h.tileId=this.tileId,h.localTile=this.localTile,h.isContent=this.isContent,h.active=this.active,h.paused=this.paused,h.poorConnection=this.poorConnection,h.boundAttendeeId=this.boundAttendeeId,h.boundExternalUserId=this.boundExternalUserId,h.boundVideoStream=this.boundVideoStream,h.boundVideoElement=this.boundVideoElement,h.nameplate=this.nameplate,h.videoStreamContentWidth=this.videoStreamContentWidth,h.videoStreamContentHeight=this.videoStreamContentHeight,h.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,h.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,h.devicePixelRatio=this.devicePixelRatio,h.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,h.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,h.streamId=this.streamId,h.groupId=this.groupId,h}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null,this.groupId=null}},"VideoTileState");l.default=c},3338407955:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(r,o,f,g){function v(u){return u instanceof f?u:new f(function(S){S(u)})}return n(v,"adopt"),new(f||(f=Promise))(function(u,S){function _(T){try{E(g.next(T))}catch(I){S(I)}}n(_,"fulfilled");function b(T){try{E(g.throw(T))}catch(I){S(I)}}n(b,"rejected");function E(T){T.done?u(T.value):v(T.value).then(_,b)}n(E,"step"),E((g=g.apply(r,o||[])).next())})},h=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(78129611)),p=h(c(626864851)),a=h(c(249203560)),s=c(8479756130),i=h(c(7141843743)),e=h(c(8228544095));let t=n(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new p.default(new a.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return d(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const o=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,o.destroy()})}bindVideoElement(o,f){const g=this.getVideoTile(o);if(g===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${o}`);return}g.bindVideoElement(f)}unbindVideoElement(o){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const g=this.getVideoTile(o);if(g===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${o}`);return}this.logger.info("Unbinding the video element"),this.notifyRemoteObserversOfUnbound(g.state().boundAttendeeId);const v=g.stateRef().boundVideoElement;g.bindVideoElement(null),f&&(this.logger.info("Cleaning up the video element"),e.default.disconnectVideoStreamFromVideoElement(v,!1))}startLocalVideoTile(){if(this.audioVideoController.configuration.meetingFeatures.videoMaxResolution===m.default.VideoDisabled)return this.logger.warn("Could not start camera video because max video resolution was set to None"),-1;const o=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),o.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(o){const f=this.getVideoTile(o);f&&(this.currentPausedTilesByIds.has(o)||(this.audioVideoController.pauseReceivingStream(f.stateRef().streamId),this.currentPausedTilesByIds.add(o)),f.pause())}unpauseVideoTile(o){const f=this.getVideoTile(o);f&&(this.currentPausedTilesByIds.has(o)&&(this.audioVideoController.resumeReceivingStream(f.stateRef().streamId),this.currentPausedTilesByIds.delete(o)),f.unpause())}getVideoTile(o){return this.tileMap.has(o)?this.tileMap.get(o):null}getVideoTileArea(o){const f=o.state();let g=0,v=0;return f.boundVideoElement&&(g=f.boundVideoElement.clientHeight*f.devicePixelRatio,v=f.boundVideoElement.clientWidth*f.devicePixelRatio),g*v}getAllRemoteVideoTiles(){const o=new Array;return this.tileMap.forEach((f,g)=>{(!this.currentLocalTile||g!==this.currentLocalTile.id())&&o.push(f)}),o}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const f=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const g=this.tileFactory.makeTile(f,o,this,this.devicePixelRatioMonitor,this.createResolutionMonitor(f));return this.tileMap.set(f,g),g}removeVideoTile(o){if(!this.tileMap.has(o))return;const f=this.tileMap.get(o);this.currentLocalTile===f&&(this.currentLocalTile=null),f.destroy(),this.tileMap.delete(o),this.audioVideoController.forEachObserver(g=>{s.Maybe.of(g.videoTileWasRemoved).map(v=>v.bind(g)(o))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(o){const f=[];for(const g of this.getAllVideoTiles()){const v=g.state();v.boundAttendeeId===o&&(this.removeVideoTile(v.tileId),f.push(v.tileId))}return f}removeAllVideoTiles(){const o=Array.from(this.tileMap.keys());for(const f of o)this.removeVideoTile(f)}sendTileStateUpdate(o){this.audioVideoController.forEachObserver(f=>{s.Maybe.of(f.videoTileDidUpdate).map(g=>g.bind(f)(o))})}haveVideoTilesWithStreams(){for(const o of this.getAllVideoTiles())if(o.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(o){return!!this.getVideoTileForAttendeeId(o)}getVideoTileForAttendeeId(o){for(const f of this.getAllVideoTiles())if(f.state().boundAttendeeId===o)return f}captureVideoTile(o){const f=this.getVideoTile(o);return f?f.capture():null}registerVideoTileResolutionObserver(o){this.resolutionObservers.add(o)}removeVideoTileResolutionObserver(o){this.resolutionObservers.delete(o)}notifyResolutionObserversOfChange(o,f,g){for(const v of this.resolutionObservers)v.videoTileResolutionDidChange(o,f,g)}notifyRemoteObserversOfUnbound(o){for(const f of this.resolutionObservers)f.videoTileUnbound(o)}createResolutionMonitor(o){const f=new class{videoElementResolutionChanged(v,u){const S=this.controller.getVideoTile(this.tileId);if(S){const _=S.state().boundAttendeeId;this.controller.notifyResolutionObserversOfChange(_,v,u)}}constructor(v,u){this.controller=v,this.tileId=u}}(this,o),g=new i.default;return g.registerObserver(f),g}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(o,f,g){this.tileFactory=o,this.audioVideoController=f,this.logger=g,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.resolutionObservers=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=f.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");l.default=t},6875957405:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(8228544095));let m=n(class{makeTile(a,s,i,e,t){return new h.default(a,s,i,e,t)}},"DefaultVideoTileFactory");l.default=m},4492438224:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"BitrateParameters");l.default=c},659149118:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(7833098058)),m=d(c(8588089957)),p=c(8479756130),a=d(c(1203283221)),s=d(c(4492438224));let i=n(class Ol{updateConnectionMetric(t){}calculateEncodingParameters(){const t=[new s.default,new s.default,new s.default];this.shouldDisableSimulcast?(this.newActiveStreams=0,t[0].maxBitrateKbps=0,t[1].maxBitrateKbps=this.hiTargetBitrateKbps,t[2].maxBitrateKbps=0):this.numSenders<=4?(this.newActiveStreams=1,t[0].maxBitrateKbps=this.lowTargetBitrateKbps,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=this.hiTargetBitrateKbps):(this.newActiveStreams=2,t[0].maxBitrateKbps=this.lowTargetBitrateKbps*2/3,t[1].maxBitrateKbps=this.numSenders<=6?this.midTargetBitrateKbps:this.midTargetBitrateKbps*.6,t[2].maxBitrateKbps=0);const r=t.map((o,f,g)=>o.maxBitrateKbps);return this.newQualityMap=this.fillEncodingParamWithBitrates(r),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`),this.newQualityMap}chooseMediaTrackConstraints(){}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(t){const r=t.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,o=r!==this.numSenders,f=t.numberOfParticipants(),g=f>=0&&f<=2,v=this.shouldDisableSimulcast!==g;this.numSenders=r,this.shouldDisableSimulcast=g,this.optimalParameters=new a.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=t,(o||v)&&(this.newQualityMap=this.calculateEncodingParameters())}wantsResubscribe(){return!this.encodingParametersEqual()}compareEncodingParameter(t,r){return JSON.stringify(t)===JSON.stringify(r)}encodingParametersEqual(){let t=!1;for(const r of m.default.NAME_ARR_ASCENDING)if(t=t||!this.compareEncodingParameter(this.newQualityMap.get(r),this.currentQualityMap.get(r)),t)break;return!t}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return this.enableFhdVideo?1920:1280}captureHeight(){return this.enableFhdVideo?1080:768}captureFrameRate(){return 15}maxBandwidthKbps(){return this.enableFhdVideo?2500:1400}setIdealMaxBandwidthKbps(t){}setHasBandwidthPriority(t){}setHighResolutionFeatureEnabled(t){this.enableFhdVideo=t,this.hiTargetBitrateKbps=t?Ol.kHiTargetBitrateKbpsFhd:Ol.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=t?Ol.kMidTargetBitrateKbpsFhd:Ol.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=t?Ol.kLowTargetBitrateKbpsFhd:Ol.kLowTargetBitrateKbpsHd}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!0}fillEncodingParamWithBitrates(t){const r=new Map,o=1e3,f=m.default.NAME_ARR_ASCENDING,g=t;let v=this.shouldDisableSimulcast?1:4;for(let u=0;u<f.length;u++){const S=f[u];r.set(S,{rid:S,active:g[u]>0,scaleResolutionDownBy:Math.max(v,1),maxBitrate:g[u]*o}),v=v/2}return r}getQualityMapString(t){let r="";return this.videoIndex.localStreamDescriptions().length===3&&t.forEach(f=>{r+=`{ rid: ${f.rid} active:${f.active} maxBitrate:${f.maxBitrate}}`}),r}getEncodingSimulcastLayer(t){switch(t){case 0:return h.default.High;case 1:return h.default.LowAndHigh;case 2:return h.default.LowAndMedium}}publishEncodingSimulcastLayer(){const t=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(r=>{p.Maybe.of(r.encodingSimulcastLayersDidChange).map(o=>o.bind(r)(t))})}addObserver(t){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const r of this.observerQueue)t(r)}constructor(t,r){this.selfAttendeeId=t,this.logger=r,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.videoIndex=null,this.observerQueue=new Set,this.hiTargetBitrateKbps=Ol.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=Ol.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=Ol.kLowTargetBitrateKbpsHd,this.enableFhdVideo=!1,this.optimalParameters=new a.default(0,0,0,0,!0),this.parametersInEffect=new a.default(0,0,0,0,!0),this.currentQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps]),this.newQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps])}},"DefaultSimulcastUplinkPolicy");l.default=i,i.kHiTargetBitrateKbpsHd=1200,i.kMidTargetBitrateKbpsHd=600,i.kLowTargetBitrateKbpsHd=300,i.kHiTargetBitrateKbpsFhd=2e3,i.kMidTargetBitrateKbpsFhd=1e3,i.kLowTargetBitrateKbpsFhd=500},9623039021:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(618497857));let m=n(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var a,s,i,e,t,r,o,f,g,v,u,S;const _=new Map,b=1e3,E=h.default.NAME_ARR_ASCENDING;return _.set(E[0],{rid:E[0],active:!0,scaleResolutionDownBy:((s=(a=this.encodingParams)===null||a===void 0?void 0:a.low)===null||s===void 0?void 0:s.scaleResolutionDownBy)||2,maxBitrate:(((e=(i=this.encodingParams)===null||i===void 0?void 0:i.low)===null||e===void 0?void 0:e.maxBitrateKbps)||this.defaultLowTargetBitrateKbps)*b,maxFramerate:((r=(t=this.encodingParams)===null||t===void 0?void 0:t.low)===null||r===void 0?void 0:r.maxFramerate)||5}),_.set(E[1],{rid:E[1],active:!0,scaleResolutionDownBy:((f=(o=this.encodingParams)===null||o===void 0?void 0:o.high)===null||f===void 0?void 0:f.scaleResolutionDownBy)||1,maxBitrate:(((v=(g=this.encodingParams)===null||g===void 0?void 0:g.high)===null||v===void 0?void 0:v.maxBitrateKbps)||this.defaultHiTargetBitrateKbps)*b,maxFramerate:(S=(u=this.encodingParams)===null||u===void 0?void 0:u.high)===null||S===void 0?void 0:S.maxFramerate}),_}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return this.enableUhdContent?2e3:1200}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}setHighResolutionFeatureEnabled(a){this.enableUhdContent=a,this.defaultHiTargetBitrateKbps=a?2e3:1200,this.defaultLowTargetBitrateKbps=a?500:300}addObserver(a){}removeObserver(a){}forEachObserver(a){}constructor(a,s){this.encodingParams=s,this.enableUhdContent=!1,this.defaultHiTargetBitrateKbps=1200,this.defaultLowTargetBitrateKbps=300}},"DefaultSimulcastUplinkPolicyForContentShare");l.default=m},8001836114:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1203283221));let p=n(class Fu{reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new m.default(0,0,0,0,!1),this.parametersInEffect=new m.default(0,0,0,0,!1),this.encodingParamMap.set(Fu.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(s){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(s){var i;let e=!0;this.transceiverController&&(e=this.transceiverController.hasVideoInput());const t=s.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(e?1:0),r=s.numberOfParticipants();if(this.numParticipants===r&&this.numberOfPublishedVideoSources===t){(i=this.logger)===null||i===void 0||i.debug("Skipping update index; Number of participants has not changed");return}this.numberOfPublishedVideoSources=t,this.numParticipants=r,this.updateOptimalParameters()}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}updateOptimalParameters(){let s=1;if(this.transceiverController){const i=this.getStreamCaptureSetting();i&&(s=this.calculateEncodingParameters(i).scaleResolutionDownBy)}this.optimalParameters=new m.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,s,this.enableSVC&&this.numParticipants>2&&this.isUsingSVCCodec)}captureWidth(){let s=640;return this.getNumberOfPublishedVideoSources()>4&&(s=320),s}captureHeight(){let s=384;return this.getNumberOfPublishedVideoSources()>4&&(s=192),s}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let s=0;return this.getNumberOfPublishedVideoSources()<=2?s=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?s=this.idealMaxBandwidthKbps*2/3:s=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(s)}setIdealMaxBandwidthKbps(s){this.idealMaxBandwidthKbps=s}setHasBandwidthPriority(s){this.hasBandwidthPriority=s}setTransceiverController(s){this.transceiverController=s}setSVCEnabled(s){var i;this.enableSVC=s,(i=this.logger)===null||i===void 0||i.info(`setSVCEnabled, enable: ${s}}`)}setHighResolutionFeatureEnabled(s){this.enableHighResolutionFeature=s}updateTransceiverController(){return d(this,void 0,void 0,function*(){const s=this.getStreamCaptureSetting();if(!s)return;const i=this.calculateEncodingParameters(s);this.shouldUpdateEndcodingParameters(i)&&(this.encodingParamMap.set(Fu.encodingMapKey,i),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(s){var i,e;const t=(e=(i=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||i===void 0?void 0:i.encodings)===null||e===void 0?void 0:e[0];return s.maxBitrate!==(t==null?void 0:t.maxBitrate)||s.scaleResolutionDownBy!==(t==null?void 0:t.scaleResolutionDownBy)||(s==null?void 0:s.scalabilityMode)!==(t==null?void 0:t.scalabilityMode)}calculateEncodingParameters(s){var i,e,t;const r=this.maxBandwidthKbps()*1e3;let o=1,f=720;if(s.height!==void 0&&s.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2&&(f=Fu.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),Fu.targetHeightArray.length-1)][this.enableHighResolutionFeature?1:0],f===480&&(!((i=this.browserBehavior)===null||i===void 0)&&i.disable480pResolutionScaleDown())&&(f=360),o=Math.max(Math.min(s.height,s.width)/f,1),(e=this.logger)===null||e===void 0||e.info(`Resolution scale factor is ${o} for capture resolution ${s.width}x${s.height}. New dimension is ${s.width/o}x${s.height/o}`)),this.enableSVC){let g;return this.numParticipants>=0&&this.numParticipants<3||!this.isUsingSVCCodec?g="L1T1":g="L3T3",(t=this.logger)===null||t===void 0||t.info(`calculateEncodingParameters: SVC: ${this.enableSVC}    participants: ${this.numParticipants}     publishers: ${this.getNumberOfPublishedVideoSources()}     bitrate: ${r}  targetHeight: ${f}  scalabilityMode: ${g}   isUsingSVCCodec: ${this.isUsingSVCCodec}`),{scaleResolutionDownBy:o,maxBitrate:r,scalabilityMode:g}}else return{scaleResolutionDownBy:o,maxBitrate:r}}getStreamCaptureSetting(){var s,i,e,t;return(t=(e=(i=(s=this.transceiverController)===null||s===void 0?void 0:s.localVideoTransceiver())===null||i===void 0?void 0:i.sender)===null||e===void 0?void 0:e.track)===null||t===void 0?void 0:t.getSettings()}getNumberOfPublishedVideoSources(){var s;return(s=this.numberOfPublishedVideoSources)!==null&&s!==void 0?s:0}wantsVideoDependencyDescriptorRtpHeaderExtension(){return this.enableSVC}setMeetingSupportedVideoSendCodecs(s,i){const e=s??i,t=e.length>0&&Fu.SVCCodecNames.includes(e[0].codecName);t!==this.isUsingSVCCodec&&(this.isUsingSVCCodec=t,this.updateOptimalParameters())}constructor(s,i=!0,e=void 0,t=void 0){this.selfAttendeeId=s,this.scaleResolution=i,this.logger=e,this.browserBehavior=t,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.enableHighResolutionFeature=!1,this.enableSVC=!1,this.isUsingSVCCodec=!0,this.numParticipants=0,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");l.default=p,p.encodingMapKey="video",p.targetHeightArray=[[0,0],[0,0],[0,0],[540,720],[540,720],[480,540],[480,540],[480,540],[480,540],[360,480],[360,480],[360,480],[360,480],[270,360],[270,360],[270,360],[270,360],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270]],p.SVCCodecNames=["VP9"]},8577743225:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(1203283221));let m=n(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new h.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}setHighResolutionFeatureEnabled(a){}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!1}constructor(){}},"NoVideoUplinkBandwidthPolicy");l.default=m},8821550569:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});function c(h){return h.map(m=>typeof m=="object"?JSON.stringify(m):`${m}`).join(" ")}n(c,"stringify");let d=n(class{debug(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.debug(c(p))}info(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.info(c(p))}warn(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.warn(c(p))}error(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.error(c(p))}constructor(m){this.base=m}},"LoggerAdapter");l.default=d},2830670825:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(r,o,f,g){function v(u){return u instanceof f?u:new f(function(S){S(u)})}return n(v,"adopt"),new(f||(f=Promise))(function(u,S){function _(T){try{E(g.next(T))}catch(I){S(I)}}n(_,"fulfilled");function b(T){try{E(g.throw(T))}catch(I){S(I)}}n(b,"rejected");function E(T){T.done?u(T.value):v(T.value).then(_,b)}n(E,"step"),E((g=g.apply(r,o||[])).next())})},h=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusDeviceTransformer=void 0;const m=c(3530921084),p=c(759573094),a=h(c(1877666836)),s=h(c(8821550569)),i=h(c(8455559234)),e=h(c(9219324581));let t=n(class jl{static isSupported(o,f){var g,v;const u=jl.defaultFetchBehavior(),S=f!=null&&f.logger?new s.default(f.logger):void 0,_={fetchBehavior:u,logger:S};if(p.isIFramed()){if((f==null?void 0:f.allowIFrame)===!1)return(g=f==null?void 0:f.logger)===null||g===void 0||g.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(v=f==null?void 0:f.logger)===null||v===void 0||v.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return m.VoiceFocus.isSupported(jl.augmentSpec(o),_)}static create(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;var S,_,b;return d(this,void 0,void 0,function*(){v&&v.Meeting.Meeting&&(v=v.Meeting);const E=((b=(_=(S=v==null?void 0:v.Meeting)===null||S===void 0?void 0:S.MeetingFeatures)===null||_===void 0?void 0:_.Audio)===null||b===void 0?void 0:b.EchoReduction)==="AVAILABLE",T=g&&g.supported===!0&&g.model.name==="ns_es"&&!E,I=o.name==="ns_es"&&!E;if(T||I)throw new Error("Echo Reduction requested but not enabled.");const A=new jl(o,f,g);return yield A.init(),A})}static configure(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d(this,void 0,void 0,function*(){return new jl(o,f,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(o,f){return d(this,void 0,void 0,function*(){if(this.supported)try{const[v,u]=yield this.allocateVoiceFocus(!0),S=Object.assign(Object.assign({},f),{es:this.spec.name==="ns_es"});return new i.default(o,v,u,S)}catch{return}})}static destroyVoiceFocus(o){var f;return d(this,void 0,void 0,function*(){(f=o==null?void 0:o.vf)===null||f===void 0||f.destroy()})}static augmentSpec(o){return!o||!o.assetGroup&&!o.revisionID?Object.assign(Object.assign({},o),{assetGroup:jl.currentSDKAssetGroup()}):o}configure(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const f={fetchBehavior:this.fetchBehavior,preResolve:o,logger:this.vfLogger};return m.VoiceFocus.configure(this.spec,f)})}init(){var o;return d(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const f=yield this.configuration;if(!f.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(f,this.preload);try{yield this.pendingVoiceFocus}catch(g){(o=this.logger)===null||o===void 0||o.error(`Unable to initialize Amazon Voice Focus: ${g}`),this.supported=!1}})}createVoiceFocus(o,f){return d(this,void 0,void 0,function*(){const g=new e.default;return this.vf=yield m.VoiceFocus.init(o,{delegate:g,preload:f,logger:this.vfLogger}),[this.vf,g]})}allocateVoiceFocus(o){return d(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const f=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,f}return this.createVoiceFocus(yield this.configuration,o)})}static majorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const o=this.majorVersion();return o?`sdk-${o}`:"stable-v1"}static defaultFetchBehavior(){const o=jl.majorMinorVersion()||"unknown",f=a.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(o)}&ua=${encodeURIComponent(f)}`}}constructor(o,{preload:f=!0,logger:g,fetchBehavior:v=jl.defaultFetchBehavior()},u){this.spec=o,this.supported=!0,this.logger=g,this.vfLogger=g?new s.default(g):void 0,this.preload=f,this.fetchBehavior=v,this.spec=jl.augmentSpec(this.spec),u&&(this.configuration=Promise.resolve(u))}},"VoiceFocusDeviceTransformer");l.VoiceFocusDeviceTransformer=t,l.default=t},8455559234:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(570155317));let p=n(class kv{getInnerDevice(){return this.device}mute(i){return d(this,void 0,void 0,function*(){this.node&&(i?yield this.node.disable():yield this.node.enable())})}stop(){return d(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(i){return d(this,void 0,void 0,function*(){return this.device===i&&!a(i)?this:new kv(i,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return d(this,void 0,void 0,function*(){if(this.failed)return this.device;const i=this.nodeOptions.es,e={echoCancellation:!i,googEchoCancellation:!i,googEchoCancellation2:!i,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let t;return this.nodeOptions&&this.nodeOptions.agc!==void 0?t=this.nodeOptions.agc.useBuiltInAGC:t=!0,e.autoGainControl=t,e.googAutoGainControl=t,e.googAutoGainControl2=t,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?e.deviceId=this.device:e.deviceId={exact:this.device},e):this.device.id?this.device:Object.assign(Object.assign({},this.device),e):e})}createAudioNode(i){var e,t;return d(this,void 0,void 0,function*(){if(((e=this.node)===null||e===void 0?void 0:e.context)===i)return{start:this.node,end:this.node};const o=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((t=this.node)===null||t===void 0||t.disconnect(),this.node=yield this.voiceFocus.createNode(i,o),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(i,{channelCount:1,channelCountMode:"explicit"});for(const v of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(v);this.createMixSourceNode()}const f=this.node,g=this.node;return{start:f,end:g}}catch(f){throw this.failed=!0,this.delegate.onFallback(this,f),f}})}observeMeetingAudio(i){return d(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.addAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.addFarEndStream(e)})}unObserveMeetingAudio(i){return d(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.removeAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.removeFarendStream(e)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}addFarEndStream(i){return d(this,void 0,void 0,function*(){!this.nodeOptions.es||!i||this.farEndStreamToAudioSourceNode.has(i)||(this.node?this.assignFarEndStreamToAudioSourceNode(i):this.farEndStreamToAudioSourceNode.set(i,null))})}removeFarendStream(i){var e;return d(this,void 0,void 0,function*(){(e=this.farEndStreamToAudioSourceNode.get(i))===null||e===void 0||e.disconnect(),this.farEndStreamToAudioSourceNode.delete(i)})}meetingAudioStreamBecameActive(i){return d(this,void 0,void 0,function*(){this.addFarEndStream(i)})}meetingAudioStreamBecameInactive(i){return d(this,void 0,void 0,function*(){this.removeFarendStream(i)})}assignFarEndStreamToAudioSourceNode(i){const e=this.node.context.createMediaStreamSource(i);e.channelCount=1,e.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(i,e),e.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(i,e,t,r,o=!1,f=void 0,g=new m.default,v=new Map,u=void 0,S=void 0){this.device=i,this.voiceFocus=e,this.delegate=t,this.nodeOptions=r,this.failed=o,this.node=f,this.browserBehavior=g,this.farEndStreamToAudioSourceNode=v,this.mixDestNode=u,this.mixSourceNode=S}},"VoiceFocusTransformDevice");function a(s){return s==="default"?!0:!s||typeof s!="object"?!1:"deviceId"in s&&s.deviceId==="default"||"id"in s&&s.id==="default"}n(a,"isDefaultDevice"),l.default=p},9219324581:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}onFallback(h,m){var p;for(const a of this.observers)(p=a.voiceFocusFellBackToInnerStream)===null||p===void 0||p.call(a,h,m)}onCPUWarning(){var h;for(const m of this.observers)(h=m.voiceFocusInsufficientResources)===null||h===void 0||h.call(m)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");l.default=c},3805322525:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class gp{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(h){let m=0;for(const p of h.streams){const a=!!p.attendeeId,s=!!p.externalUserId,i=p.hasOwnProperty("muted"),e=!!p.dropped;if(a){this.attendeeIdToStreamId[p.attendeeId]&&this.attendeeIdToStreamId[p.attendeeId]<p.audioStreamId&&delete this.attendeeIdToStreamId[p.attendeeId],this.streamIdToAttendeeId[p.audioStreamId]=p.attendeeId;const t=s?p.externalUserId:p.attendeeId;this.streamIdToExternalUserId[p.audioStreamId]=t,this.attendeeIdToStreamId[p.attendeeId]=p.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(p.attendeeId,!0,t,!1,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}if(i){const t=this.streamIdToAttendeeId[p.audioStreamId],r=this.streamIdToExternalUserId[p.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(t,null,p.muted,null,r)}if(!a&&!i){const t=this.streamIdToAttendeeId[p.audioStreamId];if(t){const r=this.streamIdToExternalUserId[p.audioStreamId];delete this.streamIdToAttendeeId[p.audioStreamId],delete this.streamIdToExternalUserId[p.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[p.audioStreamId],this.attendeeIdToStreamId[t]===p.audioStreamId&&delete this.attendeeIdToStreamId[t];let o=!1;for(const f of Object.keys(this.streamIdToAttendeeId)){const g=parseInt(f);if(g>p.audioStreamId&&this.streamIdToAttendeeId[g]===t){o=!0;break}}o||this.realtimeController.realtimeSetAttendeeIdPresence(t,!1,r,e,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(h),this.sessionReconnected=!1)}cleanUpState(h){const m=Object.values(this.streamIdToAttendeeId),p=h.streams.map(s=>s.attendeeId),a=m.filter(s=>!p.includes(s));for(const[s,i]of a.entries()){const e=this.attendeeIdToStreamId[i],t=this.streamIdToExternalUserId[e];if(delete this.streamIdToAttendeeId[e],delete this.streamIdToExternalUserId[e],delete this.warnedAboutMissingStreamIdMapping[e],delete this.attendeeIdToStreamId[i],i===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(i,!1,t,!1,{attendeeIndex:s,attendeesInFrame:i.length})}}sendRealtimeUpdatesForAudioMetadata(h){let m=null,p=null;for(const a of h.attendeeStates){const s=this.attendeeIdForStreamId(a.audioStreamId);a.hasOwnProperty("volume")&&(m===null&&(m={}),s!==null&&(m[s]=this.normalizedVolume(a))),a.hasOwnProperty("signalStrength")&&(p===null&&(p={}),s!==null&&(p[s]=this.normalizedSignalStrength(a)))}this.applyRealtimeUpdatesForAudioMetadata(m,p)}normalizedVolume(h){const p=1-(-h.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(p,0),1)}normalizedSignalStrength(h){const m=h.signalStrength/gp.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(m,0),1)}applyRealtimeUpdatesForAudioMetadata(h,m){for(const p in this.streamIdToAttendeeId){const a=this.streamIdToAttendeeId[p],s=this.streamIdToExternalUserId[p];let i=null,e=null;h!==null&&(h.hasOwnProperty(a)?i=h[a]:i=gp.IMPLICIT_VOLUME),m!==null&&(m.hasOwnProperty(a)?e=m[a]:e=gp.IMPLICIT_SIGNAL_STRENGTH),(i!==null||e!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(a,i,null,e,s)}}attendeeIdForStreamId(h){if(h===0)return null;const m=this.streamIdToAttendeeId[h];return m||(this.warnedAboutMissingStreamIdMapping[h]||(this.warnedAboutMissingStreamIdMapping[h]=!0,this.logger.warn(`volume indicator stream id ${h} seen before being defined`)),null)}constructor(h,m,p,a,s){this.logger=h,this.realtimeController=m,this.minVolumeDecibels=p,this.maxVolumeDecibels=a,this.selfAttendeeId=s,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");l.default=c,c.MAX_SIGNAL_STRENGTH_LEVELS=2,c.IMPLICIT_VOLUME=0,c.IMPLICIT_SIGNAL_STRENGTH=1},7482759477:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(1877666836)),m=d(c(6363507833));let p=n(class{create(s,i,e){this.connection=new WebSocket(e?s:h.default.urlWithVersion(s),i),this.connection.binaryType="arraybuffer"}send(s){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return s instanceof Uint8Array?this.connection.send(s.buffer):this.connection.send(s),!0}catch(i){return this.logger.debug(()=>`send error: ${i.message}, websocket state=${m.default[this.readyState()]}`),!1}}close(s,i){var e;(e=this.connection)===null||e===void 0||e.close(s,i)}destroy(){this.connection=void 0}addEventListener(s,i){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(s,i)}removeEventListener(s,i){var e;(e=this.connection)===null||e===void 0||e.removeEventListener(s,i)}readyState(){if(!this.connection)return m.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return m.default.Connecting;case WebSocket.OPEN:return m.default.Open;case WebSocket.CLOSING:return m.default.Closing;case WebSocket.CLOSED:return m.default.Closed}}constructor(s){this.logger=s}},"DefaultWebSocketAdapter");l.default=p},6363507833:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.WebSocketReadyState=void 0;var c;(function(d){d[d.None=0]="None",d[d.Connecting=1]="Connecting",d[d.Open=2]="Open",d[d.Closing=3]="Closing",d[d.Closed=4]="Closed"})(c=l.WebSocketReadyState||(l.WebSocketReadyState={})),l.default=c},1897785988:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(E,T,I,A){function w(R){return R instanceof I?R:new I(function(P){P(R)})}return n(w,"adopt"),new(I||(I=Promise))(function(R,P){function x(re){try{Z(A.next(re))}catch(ne){P(ne)}}n(x,"fulfilled");function z(re){try{Z(A.throw(re))}catch(ne){P(ne)}}n(z,"rejected");function Z(re){re.done?R(re.value):w(re.value).then(x,z)}n(Z,"step"),Z((A=A.apply(E,T||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.decideModel=l.measureAndDecideExecutionApproach=void 0;const h=c(8408264373),m=c(7737065561),p=3,a=2.5,s=2.63,i=.6,e=.65,t=.5,r=.7,o={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let f=n(class{roundtrip(T,I,A){return new Promise((w,R)=>{this.worker.then(P=>{let x;x=n(z=>{const{message:Z,key:re}=z.data;Z===I&&re===A&&(P.removeEventListener("message",x),w(z.data))},"listener"),P.addEventListener("message",x),P.postMessage(T)}).catch(P=>{var x;(x=this.logger)===null||x===void 0||x.error("Failed to load worker.",P),R(P)})})}supportsSIMD(T){const I="simd",A=T||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,w={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:A,key:I};return this.roundtrip(w,"simd-support",I).then(R=>R.supports)}measure(T,I){const A=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,w=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,R=T?w:A,P=`bench:${T}`,x={message:"measure",fetchBehavior:this.fetchBehavior,budget:I,path:R,key:P};return this.roundtrip(x,"measurement",P).then(z=>{if(z.measurement)return z.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(T=>{var I;(I=this.logger)===null||I===void 0||I.debug("Stopping estimator worker."),T.terminate()}).catch(T=>{})}constructor(T,I){this.fetchConfig=T,this.logger=I;const A=`${T.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:T.headers,escapedQueryString:T.escapedQueryString},this.worker=h.loadWorker(A,"VoiceFocusEstimator",this.fetchBehavior,I)}},"Estimator");const g=n((E,T)=>E===1?i:T==="quality"?e*E:t*E,"inlineScoreMultiplier"),v=n(function(E){let{supportsSIMD:T,supportsSAB:I,duration:A,executionPreference:w="auto",simdPreference:R,variantPreference:P="auto",namePreference:x="default",usagePreference:z,executionQuantaPreference:Z=p}=E,re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,ne=arguments.length>2?arguments[2]:void 0;const ge=R==="force"||R!=="disable"&&T,Pe=A!==-1,He=Pe?(ge?a:s)/A:0,pt=ge?re.simd:re.wasm,Ht=Pe?g(Z,z)*He:0,Ke=Pe?r*He:0,it=x,ct=n(Kt=>({supported:!1,reason:Kt}),"unsupported");if(Pe){if(He<pt.noSupport)return ct(`Performance score ${He} worse than threshold ${pt.noSupport}.`)}else if(w==="auto"||P==="auto")return ct(`Missing explicit execution (${w}) or variant (${P}) preference, but no scoring performed.`);ne==null||ne.debug(`Bench duration ${A} yields inline score ${Ht} and worker score ${Ke}.`);const rt=n((Kt,Ye,Xe)=>({supported:!0,useSIMD:ge,processor:Kt,executionApproach:Ye,variant:Xe,executionQuanta:Ye==="inline"?Z:void 0,name:it}),"succeed"),_t=n((Kt,Ye,Xe)=>Ye!=="auto"?!Pe||Kt>Xe[Ye]?Ye:"failed":Kt>Xe.c100?"c100":Kt>Xe.c50?"c50":Kt>Xe.c20?"c20":Kt>Xe.c10?"c10":"failed","resolveVariant"),Gt=n(Kt=>{switch(Kt||"auto"){case"auto":{let Ye=Gt("inline"),Xe=Gt("worker");return ne==null||ne.debug(`Reducing auto preference: ${JSON.stringify(Ye)} vs ${JSON.stringify(Xe)}`),Ye.supported===!1||Xe.supported===!1?Xe:Ye.variant===Xe.variant||Ye.variant==="c50"?Ye:Xe}case"worker":return m.supportsSharedArrayBuffer(globalThis,window,ne)?Gt("worker-sab"):Gt("worker-postMessage");case"inline":{const Ye=_t(Ht,P,pt.inline);return Ye==="failed"?ct(`Performance score ${Ht} not sufficient for inline use with variant preference ${P}.`):rt("voicefocus-inline-processor","inline",Ye)}case"worker-sab":{if(!I){const Xe="Requested worker-sab but no SharedArrayBuffer support.";return ne==null||ne.warn(Xe),{supported:!1,reason:Xe}}const Ye=_t(Ke,P,pt.worker);return Ye==="failed"?ct(`Performance score ${Ke} not sufficient for worker use with variant preference ${P}.`):rt("voicefocus-worker-sab-processor","worker-sab",Ye)}case"worker-postMessage":{const Ye=_t(Ke,P,pt.worker);if(Ye==="failed")return ct(`Performance score ${Ke} not sufficient for worker use.`);if(it==="ns_es"){const Xe="Requested echo suppression but postMessage executor does not support it.";return ne==null||ne.warn(Xe),{supported:!1,reason:Xe}}return rt("voicefocus-worker-postMessage-processor","worker-postMessage",Ye)}}},"reducePreference");return Gt(w)},"decideExecutionApproach"),u=n((E,T,I,A)=>d(void 0,void 0,void 0,function*(){const w={supportsSIMD:E,supportsSAB:m.supportsSharedArrayBuffer(globalThis,window,I),duration:-1};if(E)return I==null||I.info("Supports SIMD: true (force)"),w;const R=!A,P=A||new f(T,I);try{const x=!m.isOldChrome(window,I)&&(yield P.supportsSIMD());return I==null||I.info(`Supports SIMD: ${x} (force: ${E})`),w.supportsSIMD=x,w}finally{R&&P.stop()}}),"featureCheck"),S=n((E,T,I,A)=>d(void 0,void 0,void 0,function*(){const w=new f(T,A);try{const R=yield u(E,T,A,w);if(R.supportsSIMD)try{return R.duration=yield w.measure(!0,I),A==null||A.info("SIMD timing:",R.duration),R}catch{A==null||A.warn("Failed SIMD estimation; falling back to non-SIMD."),R.supportsSIMD=!1}return R.duration=yield w.measure(!1,I),A==null||A.info("No-SIMD timing:",R.duration),R}catch(R){throw A==null||A.error("Could not feature check.",R),R}finally{w.stop()}}),"estimateAndFeatureCheck"),_=n(function(E,T,I){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return d(void 0,void 0,void 0,function*(){let w=E.executionPreference;const{usagePreference:R,variantPreference:P,namePreference:x,simdPreference:z,estimatorBudget:Z,executionQuantaPreference:re}=E;R==="interactivity"&&w!=="inline"&&(I==null||I.debug(`Overriding execution preference ${w} to reflect interactivity preference.`),w="inline");const ne=z==="force",he=P!=="auto",ge=w!=="auto";let Pe;try{he&&ge?Pe=yield u(ne,T,I):Pe=yield S(ne,T,Z,I)}catch(He){throw I==null||I.error("Could not load estimator.",He),new Error("Could not load Voice Focus estimator.")}return v(Object.assign(Object.assign({},Pe),{simdPreference:z,executionPreference:w,variantPreference:P,namePreference:x,usagePreference:R,executionQuantaPreference:re}),A,I)})},"measureAndDecideExecutionApproach");l.measureAndDecideExecutionApproach=_;const b=n(E=>{let{category:T,name:I,variant:A,simd:w,url:R}=E;return`${T}-${I}-${A}-v1${w?"_simd":""}`},"decideModel");l.decideModel=b},8200904422:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isValidRevisionID=l.isValidAssetGroup=l.resolveURL=l.addQueryParams=l.withQueryString=l.withRequestHeaders=l.fetchWithBehavior=void 0;function c(e,t,r){if(!r)return fetch(e,t);const o=h(e,r),f=d(t,r);return fetch(o,f)}n(c,"fetchWithBehavior"),l.fetchWithBehavior=c;function d(e,t){return t!=null&&t.headers?e?Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers||{}),t.headers)}):{headers:t.headers}:e}n(d,"withRequestHeaders"),l.withRequestHeaders=d;function h(e,t){if(!(t!=null&&t.escapedQueryString))return e;const r=e.lastIndexOf("?")!==-1;return`${e}${r?"&":"?"}${t.escapedQueryString}`}n(h,"withQueryString"),l.withQueryString=h;function m(e,t){const r=Object.keys(t);if(!r.length)return e;const o=new URLSearchParams(e==null?void 0:e.escapedQueryString);for(const f of r)o.append(f,t[f]);return Object.assign(Object.assign({},e),{escapedQueryString:o.toString()})}n(m,"addQueryParams"),l.addQueryParams=m;const p={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function a(e,t){return c(e,p,t).then(r=>r.redirected?r.url:e)}n(a,"resolveURL"),l.resolveURL=a;function s(e){return!!e&&/^[-.a-zA-Z0-9]+$/.test(e)}n(s,"isValidAssetGroup"),l.isValidAssetGroup=s;function i(e){return!!e&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(e)}n(i,"isValidRevisionID"),l.isValidRevisionID=i},8408264373:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.loadWorker=void 0;const d=c(8200904422),h={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},m=n((p,a,s,i)=>{i==null||i.debug(`Loading ${a} worker from ${p}.`);let e=!1;try{e=self.origin===new URL(p).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=d.withQueryString(p,s);return Promise.resolve(new Worker(t,{name:a}))}return d.fetchWithBehavior(p,h,s).then(t=>{if(t.ok)return t.blob().then(r=>new Worker(window.URL.createObjectURL(r)));throw new Error("Fetch failed.")})},"loadWorker");l.loadWorker=m},7737065561:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(u,S,_,b){function E(T){return T instanceof _?T:new _(function(I){I(T)})}return n(E,"adopt"),new(_||(_=Promise))(function(T,I){function A(P){try{R(b.next(P))}catch(x){I(x)}}n(A,"fulfilled");function w(P){try{R(b.throw(P))}catch(x){I(x)}}n(w,"rejected");function R(P){P.done?T(P.value):E(P.value).then(A,w)}n(R,"step"),R((b=b.apply(u,S||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.isOldChrome=l.supportsWASMStreaming=l.supportsSharedArrayBuffer=l.supportsWASM=l.supportsAudioWorklet=l.supportsWorker=l.supportsVoiceFocusWorker=l.supportsWASMPostMessage=l.isSafari=void 0;const h=c(8408264373),m=n(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),p=n(function(){const S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,_=S.match(/Safari\//),b=S.match(/Chrom(?:e|ium)\//);return!!(_&&!b)},"isSafari");l.isSafari=p;const a=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return l.isSafari(u)?!1:m(u)?(g(u)||0)<95:!0},"supportsWASMPostMessage");l.supportsWASMPostMessage=a;const s=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;return d(void 0,void 0,void 0,function*(){if(!l.supportsWorker(u,_))return!1;const b=`${S.paths.workers}worker-v1.js`;try{const E=yield h.loadWorker(b,"VoiceFocusTestWorker",S,_);try{E.terminate()}catch(T){_==null||_.debug("Failed to terminate worker.",T)}return!0}catch(E){return _==null||_.info("Failed to fetch and instantiate test worker",E),!1}})},"supportsVoiceFocusWorker");l.supportsVoiceFocusWorker=s;const i=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;try{return!!u.Worker}catch(_){return S==null||S.info("Does not support Worker",_),!1}},"supportsWorker");l.supportsWorker=i;const e=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;try{return!!u.AudioWorklet&&!!u.AudioWorkletNode}catch(_){return S==null||S.info("Does not support Audio Worklet",_),!1}},"supportsAudioWorklet");l.supportsAudioWorklet=e;const t=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;try{return!!u.WebAssembly&&(!!u.WebAssembly.compile||!!u.WebAssembly.compileStreaming)}catch(_){return S==null||S.info("Does not support WASM",_),!1}},"supportsWASM");l.supportsWASM=t;const r=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,_=arguments.length>2?arguments[2]:void 0;try{return!!u.SharedArrayBuffer&&(!!S.chrome||!!u.crossOriginIsolated)}catch{return _==null||_.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");l.supportsSharedArrayBuffer=r;const o=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;var _;try{return!!(!((_=u.WebAssembly)===null||_===void 0)&&_.compileStreaming)}catch(b){return S==null||S.info("Does not support WASM streaming compilation",b),!1}},"supportsWASMStreaming");l.supportsWASMStreaming=o;const f=90,g=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!u.chrome)return}catch{}const S=u.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(S)return parseInt(S[1],10)},"chromeVersion"),v=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;const _=g(u);return _&&_<f?(S==null||S.debug(`Chrome ${_} has incomplete SIMD support.`),!0):!1},"isOldChrome");l.isOldChrome=v},6908266307:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusAudioWorkletNode=void 0;let c=n(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||n(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");l.VoiceFocusAudioWorkletNode=c},3530921084:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(P,x,z,Z){function re(ne){return ne instanceof z?ne:new z(function(he){he(ne)})}return n(re,"adopt"),new(z||(z=Promise))(function(ne,he){function ge(pt){try{He(Z.next(pt))}catch(Ht){he(Ht)}}n(ge,"fulfilled");function Pe(pt){try{He(Z.throw(pt))}catch(Ht){he(Ht)}}n(Pe,"rejected");function He(pt){pt.done?ne(pt.value):re(pt.value).then(ge,Pe)}n(He,"step"),He((Z=Z.apply(P,x||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.getAudioInput=l.createAudioContext=l.VoiceFocus=void 0;const h=c(1897785988),m=c(8200904422),p=c(8408264373),a=c(7737065561),s=c(9772473565),i=c(3352670689),e=c(5198818184),r={useVoiceFocusAGC:!1,useBuiltInAGC:!0},o="stable-v1",f="https://static.sdkassets.chime.aws",g={processors:`${f}/processors/`,workers:`${f}/workers/`,wasm:`${f}/wasm/`,models:`${f}/wasm/`},v={latencyHint:0},u={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},S=Object.assign(Object.assign({},u),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),_=Object.assign(Object.assign({},u),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),b={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:s.default}},E=n((P,x)=>{if(P!==void 0&&!m.isValidAssetGroup(P))throw new Error(`Invalid asset group ${P}`);if(x!==void 0&&!m.isValidRevisionID(x))throw new Error(`Invalid revision ID ${x}`)},"validateAssetSpec"),T=n((P,x)=>{let z;if(x.useBuiltInAGC?z=S:z=_,!P)return{audio:z};if(!P.audio)return P;if(P.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},P),{audio:P.audio===!0?z:Object.assign(Object.assign({},P.audio),z)})},"mungeConstraints"),I=n((P,x)=>`${x.models}${h.decideModel(P)}.wasm`,"urlForModel");let A=n(class Lv{static isSupported(x,z){const{fetchBehavior:Z,logger:re}=z||{};if(typeof globalThis>"u")return re==null||re.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,re))return re==null||re.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,re))return re==null||re.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,re)||re==null||re.debug("Browser does not support streaming WASM compilation.");const{assetGroup:ne=o,revisionID:he,paths:ge=g}=x||{};E(ne,he);const Pe=he?{revisionID:he}:{assetGroup:ne},He=m.addQueryParams(Z,Pe),pt=Object.assign(Object.assign({},He),{paths:ge});return a.supportsVoiceFocusWorker(globalThis,pt,re)}static mungeExecutionPreference(x,z){const Z=x===void 0||x==="auto";if(a.isSafari(globalThis)){if(Z||x==="inline")return"inline";if(!Z)throw new Error(`Unsupported execution preference ${x}`)}if(x==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,z))throw new Error(`Unsupported execution preference ${x}`);return x||"auto"}static configure(x,z){return d(this,void 0,void 0,function*(){const{fetchBehavior:Z,preResolve:re,logger:ne}=z||{},{category:he="voicefocus",name:ge="default",variant:Pe="auto",assetGroup:He=o,revisionID:pt,simd:Ht="detect",executionPreference:Ke="auto",executionQuantaPreference:it,usagePreference:ct="interactivity",estimatorBudget:rt=100,paths:_t=g,thresholds:Gt}=x||{};if(ne==null||ne.debug("Configuring Voice Focus with spec",x),he!==void 0&&he!=="voicefocus")throw new Error(`Unrecognized category ${he}`);if(ge!==void 0&&ge!=="default"&&ge!=="ns_es")throw new Error(`Unrecognized feature name ${ge}`);if(Pe!==void 0&&!["auto","c100","c50","c20","c10"].includes(Pe))throw new Error(`Unrecognized feature variant ${Pe}`);if(it!==void 0&&![1,2,3].includes(it))throw new Error(`Unrecognized execution quanta preference ${it}`);if(E(He,pt),Ht!==void 0&&!["detect","force","disable"].includes(Ht))throw new Error(`Unrecognized SIMD option ${Ht}`);if(Ke!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Ke))throw new Error(`Unrecognized execution preference ${Ke}`);if(ct!==void 0&&!["quality","interactivity"].includes(ct))throw new Error(`Unrecognized usage preference ${ct}`);const Kt={executionPreference:this.mungeExecutionPreference(Ke,ne),usagePreference:ct,executionQuantaPreference:it,variantPreference:Pe,namePreference:ge,simdPreference:Ht,estimatorBudget:rt},Ye=pt?{revisionID:pt}:{assetGroup:He},Xe=m.addQueryParams(Z,Ye),It=Object.assign({paths:_t},Xe),kt=yield h.measureAndDecideExecutionApproach(Kt,It,ne,Gt);if(kt.supported===!1)return{supported:!1,reason:kt.reason};ne==null||ne.info("Decided execution approach",kt);const{useSIMD:gt,processor:En,variant:pn,executionQuanta:wn}=kt,zn={category:he||"voicefocus",name:ge||"default",variant:pn,simd:gt};if(re){const Qn=I(zn,_t);zn.url=yield m.resolveURL(Qn,Xe)}return{fetchConfig:It,model:zn,processor:En,executionQuanta:wn,supported:!0}})}static init(x,z){let{delegate:Z,preload:re=!0,logger:ne}=z;return d(this,void 0,void 0,function*(){if(x.supported===!1)throw new Error("Voice Focus not supported. Reason: "+x.reason);const{model:he,processor:ge,fetchConfig:Pe,executionQuanta:He}=x,{simd:pt,name:Ht}=he,{paths:Ke}=Pe;if(ge!=="voicefocus-inline-processor"&&ge!=="voicefocus-worker-postMessage-processor"&&ge!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${ge}`);const it=he.url||I(he,Ke);ne==null||ne.debug(`Using model URL ${it}.`);const ct=`${Ke.wasm}audio_buffer-v1${pt?"_simd":""}.wasm`,rt=`${Ke.wasm}resampler-v1${pt?"_simd":""}.wasm`,_t=`${Ke.workers}worker-v1.js`,{file:Gt,node:Kt}=b[ge],Ye=`${Ke.processors}${Gt}`,Xe=yield p.loadWorker(_t,"VoiceFocusWorker",Pe,ne);if(re){ne==null||ne.debug("Preloading",it);let En=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";Xe.postMessage({message:En,preload:!0,key:"model",fetchBehavior:Pe,path:it})}const kt={processor:ge,worker:Xe,audioBufferURL:ct,resamplerURL:rt,fetchBehavior:Pe,modelURL:it,delegate:Z,logger:ne,numberOfInputs:Ht==="ns_es"?2:1},gt=new Lv(Xe,Ye,Kt,kt,He);return Promise.resolve(gt)})}createNode(x,z){var Z;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:re=x.sampleRate===16e3?16e3:48e3,enabled:ne=!0,agc:he=r}=z||{},ge=z==null?void 0:z.es,Pe={voiceFocusSampleRate:re,enabled:ne,sendBufferCount:10,prefill:6,agc:he,executionQuanta:this.executionQuanta,supportFarendStream:ge},He=m.withQueryString(this.processorURL,(Z=this.nodeOptions)===null||Z===void 0?void 0:Z.fetchBehavior);return x.audioWorklet.addModule(He).then(()=>new this.nodeConstructor(x,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:Pe})))}applyToStream(x,z,Z){return d(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const re=z.createMediaStreamSource(x),ne=yield this.applyToSourceNode(re,z,Z),he=z.createMediaStreamDestination();return ne.connect(he),{node:ne,source:re,destination:he,stream:he.stream}})}applyToSourceNode(x,z,Z){return d(this,void 0,void 0,function*(){const re=yield this.createNode(z,Z);return x.connect(re),re})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(x,z,Z,re,ne){this.processorURL=z,this.nodeConstructor=Z,this.nodeOptions=re,this.executionQuanta=ne,this.internal={worker:x,nodeOptions:re,isDestroyed:!1}}},"VoiceFocus");l.VoiceFocus=A;const w=n(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;return new(window.AudioContext||window.webkitAudioContext)(P)},"createAudioContext");l.createAudioContext=w;const R=n((P,x,z)=>d(void 0,void 0,void 0,function*(){var Z,re;const{constraints:ne,spec:he,delegate:ge,preload:Pe=!0,options:He}=x,{logger:pt}=z,Ht=yield A.configure(he,z);if(!Ht.supported)return(Z=z.logger)===null||Z===void 0||Z.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(ne);const Ke=yield A.init(Ht,{delegate:ge,preload:Pe,logger:pt}),it=((re=x.options)===null||re===void 0?void 0:re.agc)||r,ct=yield window.navigator.mediaDevices.getUserMedia(T(ne,it));return Ke.applyToStream(ct,P,He).then(rt=>rt.stream)}),"getAudioInput");l.getAudioInput=R},9772473565:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7737065561),m=c(6908266307),p=5*1e3;let a=n(class extends m.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return d(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return d(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return d(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,r;const o=i.data;switch(o.message){case"cpu":this.cpuWarningCount++;const f=Date.now(),g=this.cpuWarningLastTriggered||f,v=Math.abs(f-g);(!this.cpuWarningLastTriggered||v>p)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,o.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=f),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(r=this.logger)===null||r===void 0||r.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:r,fetchBehavior:o,logger:f,delegate:g}=e;this.logger=f,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=g,f&&f.debug("VoiceFocusInlineNode:",t),this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this);const v=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:v,key:"model",fetchBehavior:o,path:t})}},"VoiceFocusInlineNode");l.default=a},5198818184:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7737065561),m=c(6908266307);let p=n(class extends m.VoiceFocusAudioWorkletNode{enable(){return d(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return d(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return d(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(s){var i;const e=s.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(s){var i;const e=s.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(s,i){super(s,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:r,fetchBehavior:o,delegate:f}=i;this.delegate=f,this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:g,agc:v,supportFarendStream:u}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:s.sampleRate===16e3?160:480,enabled:g,agc:v,fetchBehavior:o,model:e,supportFarendStream:u});const S=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:S,key:"buffer",fetchBehavior:o,path:t})}},"VoiceFocusWorkerPostMessageNode");l.default=p},3352670689:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7737065561),m=c(6908266307),p={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let s=n(class extends m.VoiceFocusAudioWorkletNode{enable(){return d(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,p.enabled,a.enabled),Atomics.notify(this.state,p.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return d(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,p.enabled,a.disabled),Atomics.notify(this.state,p.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return d(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,p.enabled,a.stopped),Atomics.notify(this.state,p.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const r=e.data;switch(r.message){case"ready":if(!r.shared)throw new Error("No shared state.");this.state=new Int32Array(r.shared.state),this.port.postMessage(r);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(r);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(r);break;default:return}}onProcessorMessage(e){var t;const r=e.data;switch(r.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(r);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:r,resamplerURL:o,worker:f,fetchBehavior:g,delegate:v}=t;this.delegate=v,this.worker=f,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:u,supportFarendStream:S}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:u,model:r,supportFarendStream:S});const _=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:_,key:"resampler",fetchBehavior:g,path:o})}},"VoiceFocusWorkerBufferNode");l.default=s},4861973277:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.RawSha256=void 0;var d=c(3887840061),h=function(){function m(){this.state=Int32Array.from(d.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return n(m,"RawSha2561"),m.prototype.update=function(p){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,s=p.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>d.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=p[a++],s--,this.bufferLength===d.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},m.prototype.digest=function(){if(!this.finished){var p=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(a.setUint8(this.bufferLength++,128),s%d.BLOCK_SIZE>=d.BLOCK_SIZE-8){for(var i=this.bufferLength;i<d.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<d.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(d.BLOCK_SIZE-8,Math.floor(p/4294967296),!0),a.setUint32(d.BLOCK_SIZE-4,p),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(d.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},m.prototype.hashBuffer=function(){for(var p=this,a=p.buffer,s=p.state,i=s[0],e=s[1],t=s[2],r=s[3],o=s[4],f=s[5],g=s[6],v=s[7],u=0;u<d.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var S=this.temp[u-2],_=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10;S=this.temp[u-15];var b=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3;this.temp[u]=(_+this.temp[u-7]|0)+(b+this.temp[u-16]|0)}var E=(((o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7))+(o&f^~o&g)|0)+(v+(d.KEY[u]+this.temp[u]|0)|0)|0,T=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;v=g,g=f,f=o,o=r+E|0,r=t,t=e,e=i,i=E+T|0}s[0]+=i,s[1]+=e,s[2]+=t,s[3]+=r,s[4]+=o,s[5]+=f,s[6]+=g,s[7]+=v},m}();l.RawSha256=h},3887840061:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MAX_HASHABLE_LENGTH=l.INIT=l.KEY=l.DIGEST_LENGTH=l.BLOCK_SIZE=void 0,l.BLOCK_SIZE=64,l.DIGEST_LENGTH=32,l.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],l.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},8985570388:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var d=c(3476820828);d.__exportStar(c(1474341908),l)},1474341908:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var d=c(3476820828),h=c(3887840061),m=c(4861973277),p=c(7115600515),a=function(){function i(e){if(this.hash=new m.RawSha256,e){this.outer=new m.RawSha256;var t=s(e),r=new Uint8Array(h.BLOCK_SIZE);r.set(t);for(var o=0;o<h.BLOCK_SIZE;o++)t[o]^=54,r[o]^=92;this.hash.update(t),this.outer.update(r);for(var o=0;o<t.byteLength;o++)t[o]=0}}return n(i,"Sha2561"),i.prototype.update=function(e){if(!((0,p.isEmptyData)(e)||this.error))try{this.hash.update((0,p.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){return[2,this.digestSync()]})})},i}();l.Sha256=a;function s(i){var e=(0,p.convertToBuffer)(i);if(e.byteLength>h.BLOCK_SIZE){var t=new m.RawSha256;t.update(e),e=t.digest()}var r=new Uint8Array(h.BLOCK_SIZE);return r.set(e),r}n(s,"bufferFromSecret")},1579245827:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.convertToBuffer=void 0;var d=c(5771355735),h=typeof Buffer<"u"&&Buffer.from?function(p){return Buffer.from(p,"utf8")}:d.fromUtf8;function m(p){return p instanceof Uint8Array?p:typeof p=="string"?h(p):ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(p)}n(m,"convertToBuffer"),l.convertToBuffer=m},7115600515:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=l.numToUint8=l.isEmptyData=l.convertToBuffer=void 0;var d=c(1579245827);Object.defineProperty(l,"convertToBuffer",{enumerable:!0,get:function(){return d.convertToBuffer}});var h=c(7428220362);Object.defineProperty(l,"isEmptyData",{enumerable:!0,get:function(){return h.isEmptyData}});var m=c(4178298078);Object.defineProperty(l,"numToUint8",{enumerable:!0,get:function(){return m.numToUint8}});var p=c(1858378061);Object.defineProperty(l,"uint32ArrayFrom",{enumerable:!0,get:function(){return p.uint32ArrayFrom}})},7428220362:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isEmptyData=void 0;function c(d){return typeof d=="string"?d.length===0:d.byteLength===0}n(c,"isEmptyData"),l.isEmptyData=c},4178298078:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.numToUint8=void 0;function c(d){return new Uint8Array([(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255])}n(c,"numToUint8"),l.numToUint8=c},1858378061:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=void 0;function c(d){if(!Uint32Array.from){for(var h=new Uint32Array(d.length),m=0;m<d.length;)h[m]=d[m],m+=1;return h}return Uint32Array.from(d)}n(c,"uint32ArrayFrom"),l.uint32ArrayFrom=c},8188990747:(V,l,c)=>{"use strict";const{Deflate:d,deflate:h,deflateRaw:m,gzip:p}=c(5591865688),{Inflate:a,inflate:s,inflateRaw:i,ungzip:e}=c(3052270576),t=c(2381927306);V.exports.Deflate=d,V.exports.deflate=h,V.exports.deflateRaw=m,V.exports.gzip=p,V.exports.Inflate=a,V.exports.inflate=s,V.exports.inflateRaw=i,V.exports.ungzip=e,V.exports.constants=t},5591865688:(V,l,c)=>{"use strict";const d=c(9512564612),h=c(3149543658),m=c(6400047507),p=c(8402435245),a=c(6693199909),s=Object.prototype.toString,{Z_NO_FLUSH:i,Z_SYNC_FLUSH:e,Z_FULL_FLUSH:t,Z_FINISH:r,Z_OK:o,Z_STREAM_END:f,Z_DEFAULT_COMPRESSION:g,Z_DEFAULT_STRATEGY:v,Z_DEFLATED:u}=c(2381927306);function S(T){this.options=h.assign({level:g,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:v},T||{});let I=this.options;I.raw&&I.windowBits>0?I.windowBits=-I.windowBits:I.gzip&&I.windowBits>0&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let A=d.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(A!==o)throw new Error(p[A]);if(I.header&&d.deflateSetHeader(this.strm,I.header),I.dictionary){let w;if(typeof I.dictionary=="string"?w=m.string2buf(I.dictionary):s.call(I.dictionary)==="[object ArrayBuffer]"?w=new Uint8Array(I.dictionary):w=I.dictionary,A=d.deflateSetDictionary(this.strm,w),A!==o)throw new Error(p[A]);this._dict_set=!0}}n(S,"Deflate"),S.prototype.push=function(T,I){const A=this.strm,w=this.options.chunkSize;let R,P;if(this.ended)return!1;for(I===~~I?P=I:P=I===!0?r:i,typeof T=="string"?A.input=m.string2buf(T):s.call(T)==="[object ArrayBuffer]"?A.input=new Uint8Array(T):A.input=T,A.next_in=0,A.avail_in=A.input.length;;){if(A.avail_out===0&&(A.output=new Uint8Array(w),A.next_out=0,A.avail_out=w),(P===e||P===t)&&A.avail_out<=6){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(R=d.deflate(A,P),R===f)return A.next_out>0&&this.onData(A.output.subarray(0,A.next_out)),R=d.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===o;if(A.avail_out===0){this.onData(A.output);continue}if(P>0&&A.next_out>0){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(A.avail_in===0)break}return!0},S.prototype.onData=function(T){this.chunks.push(T)},S.prototype.onEnd=function(T){T===o&&(this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function _(T,I){const A=new S(I);if(A.push(T,!0),A.err)throw A.msg||p[A.err];return A.result}n(_,"deflate");function b(T,I){return I=I||{},I.raw=!0,_(T,I)}n(b,"deflateRaw");function E(T,I){return I=I||{},I.gzip=!0,_(T,I)}n(E,"gzip"),V.exports.Deflate=S,V.exports.deflate=_,V.exports.deflateRaw=b,V.exports.gzip=E,V.exports.constants=c(2381927306)},3052270576:(V,l,c)=>{"use strict";const d=c(6525758292),h=c(3149543658),m=c(6400047507),p=c(8402435245),a=c(6693199909),s=c(1188266205),i=Object.prototype.toString,{Z_NO_FLUSH:e,Z_FINISH:t,Z_OK:r,Z_STREAM_END:o,Z_NEED_DICT:f,Z_STREAM_ERROR:g,Z_DATA_ERROR:v,Z_MEM_ERROR:u}=c(2381927306);function S(E){this.options=h.assign({chunkSize:1024*64,windowBits:15,to:""},E||{});const T=this.options;T.raw&&T.windowBits>=0&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),T.windowBits>=0&&T.windowBits<16&&!(E&&E.windowBits)&&(T.windowBits+=32),T.windowBits>15&&T.windowBits<48&&(T.windowBits&15||(T.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let I=d.inflateInit2(this.strm,T.windowBits);if(I!==r)throw new Error(p[I]);if(this.header=new s,d.inflateGetHeader(this.strm,this.header),T.dictionary&&(typeof T.dictionary=="string"?T.dictionary=m.string2buf(T.dictionary):i.call(T.dictionary)==="[object ArrayBuffer]"&&(T.dictionary=new Uint8Array(T.dictionary)),T.raw&&(I=d.inflateSetDictionary(this.strm,T.dictionary),I!==r)))throw new Error(p[I])}n(S,"Inflate"),S.prototype.push=function(E,T){const I=this.strm,A=this.options.chunkSize,w=this.options.dictionary;let R,P,x;if(this.ended)return!1;for(T===~~T?P=T:P=T===!0?t:e,i.call(E)==="[object ArrayBuffer]"?I.input=new Uint8Array(E):I.input=E,I.next_in=0,I.avail_in=I.input.length;;){for(I.avail_out===0&&(I.output=new Uint8Array(A),I.next_out=0,I.avail_out=A),R=d.inflate(I,P),R===f&&w&&(R=d.inflateSetDictionary(I,w),R===r?R=d.inflate(I,P):R===v&&(R=f));I.avail_in>0&&R===o&&I.state.wrap>0&&E[I.next_in]!==0;)d.inflateReset(I),R=d.inflate(I,P);switch(R){case g:case v:case f:case u:return this.onEnd(R),this.ended=!0,!1}if(x=I.avail_out,I.next_out&&(I.avail_out===0||R===o))if(this.options.to==="string"){let z=m.utf8border(I.output,I.next_out),Z=I.next_out-z,re=m.buf2string(I.output,z);I.next_out=Z,I.avail_out=A-Z,Z&&I.output.set(I.output.subarray(z,z+Z),0),this.onData(re)}else this.onData(I.output.length===I.next_out?I.output:I.output.subarray(0,I.next_out));if(!(R===r&&x===0)){if(R===o)return R=d.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,!0;if(I.avail_in===0)break}}return!0},S.prototype.onData=function(E){this.chunks.push(E)},S.prototype.onEnd=function(E){E===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg};function _(E,T){const I=new S(T);if(I.push(E),I.err)throw I.msg||p[I.err];return I.result}n(_,"inflate");function b(E,T){return T=T||{},T.raw=!0,_(E,T)}n(b,"inflateRaw"),V.exports.Inflate=S,V.exports.inflate=_,V.exports.inflateRaw=b,V.exports.ungzip=_,V.exports.constants=c(2381927306)},3149543658:V=>{"use strict";const l=n((c,d)=>Object.prototype.hasOwnProperty.call(c,d),"_has");V.exports.assign=function(c){const d=Array.prototype.slice.call(arguments,1);for(;d.length;){const h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(const m in h)l(h,m)&&(c[m]=h[m])}}return c},V.exports.flattenChunks=c=>{let d=0;for(let m=0,p=c.length;m<p;m++)d+=c[m].length;const h=new Uint8Array(d);for(let m=0,p=0,a=c.length;m<a;m++){let s=c[m];h.set(s,p),p+=s.length}return h}},6400047507:V=>{"use strict";let l=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}const c=new Uint8Array(256);for(let h=0;h<256;h++)c[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;c[254]=c[254]=1,V.exports.string2buf=h=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(h);let m,p,a,s,i,e=h.length,t=0;for(s=0;s<e;s++)p=h.charCodeAt(s),(p&64512)===55296&&s+1<e&&(a=h.charCodeAt(s+1),(a&64512)===56320&&(p=65536+(p-55296<<10)+(a-56320),s++)),t+=p<128?1:p<2048?2:p<65536?3:4;for(m=new Uint8Array(t),i=0,s=0;i<t;s++)p=h.charCodeAt(s),(p&64512)===55296&&s+1<e&&(a=h.charCodeAt(s+1),(a&64512)===56320&&(p=65536+(p-55296<<10)+(a-56320),s++)),p<128?m[i++]=p:p<2048?(m[i++]=192|p>>>6,m[i++]=128|p&63):p<65536?(m[i++]=224|p>>>12,m[i++]=128|p>>>6&63,m[i++]=128|p&63):(m[i++]=240|p>>>18,m[i++]=128|p>>>12&63,m[i++]=128|p>>>6&63,m[i++]=128|p&63);return m};const d=n((h,m)=>{if(m<65534&&h.subarray&&l)return String.fromCharCode.apply(null,h.length===m?h:h.subarray(0,m));let p="";for(let a=0;a<m;a++)p+=String.fromCharCode(h[a]);return p},"buf2binstring");V.exports.buf2string=(h,m)=>{const p=m||h.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(h.subarray(0,m));let a,s;const i=new Array(p*2);for(s=0,a=0;a<p;){let e=h[a++];if(e<128){i[s++]=e;continue}let t=c[e];if(t>4){i[s++]=65533,a+=t-1;continue}for(e&=t===2?31:t===3?15:7;t>1&&a<p;)e=e<<6|h[a++]&63,t--;if(t>1){i[s++]=65533;continue}e<65536?i[s++]=e:(e-=65536,i[s++]=55296|e>>10&1023,i[s++]=56320|e&1023)}return d(i,s)},V.exports.utf8border=(h,m)=>{m=m||h.length,m>h.length&&(m=h.length);let p=m-1;for(;p>=0&&(h[p]&192)===128;)p--;return p<0||p===0?m:p+c[h[p]]>m?p:m}},1534271202:V=>{"use strict";const l=n((c,d,h,m)=>{let p=c&65535|0,a=c>>>16&65535|0,s=0;for(;h!==0;){s=h>2e3?2e3:h,h-=s;do p=p+d[m++]|0,a=a+p|0;while(--s);p%=65521,a%=65521}return p|a<<16|0},"adler32");V.exports=l},2381927306:V=>{"use strict";V.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},7218738144:V=>{"use strict";const l=n(()=>{let h,m=[];for(var p=0;p<256;p++){h=p;for(var a=0;a<8;a++)h=h&1?3988292384^h>>>1:h>>>1;m[p]=h}return m},"makeTable"),c=new Uint32Array(l()),d=n((h,m,p,a)=>{const s=c,i=a+p;h^=-1;for(let e=a;e<i;e++)h=h>>>8^s[(h^m[e])&255];return h^-1},"crc32");V.exports=d},9512564612:(V,l,c)=>{"use strict";const{_tr_init:d,_tr_stored_block:h,_tr_flush_block:m,_tr_tally:p,_tr_align:a}=c(9368076866),s=c(1534271202),i=c(7218738144),e=c(8402435245),{Z_NO_FLUSH:t,Z_PARTIAL_FLUSH:r,Z_FULL_FLUSH:o,Z_FINISH:f,Z_BLOCK:g,Z_OK:v,Z_STREAM_END:u,Z_STREAM_ERROR:S,Z_DATA_ERROR:_,Z_BUF_ERROR:b,Z_DEFAULT_COMPRESSION:E,Z_FILTERED:T,Z_HUFFMAN_ONLY:I,Z_RLE:A,Z_FIXED:w,Z_DEFAULT_STRATEGY:R,Z_UNKNOWN:P,Z_DEFLATED:x}=c(2381927306),z=9,Z=15,re=8,ne=29,ge=256+1+ne,Pe=30,He=19,pt=2*ge+1,Ht=15,Ke=3,it=258,ct=it+Ke+1,rt=32,_t=42,Gt=69,Kt=73,Ye=91,Xe=103,It=113,kt=666,gt=1,En=2,pn=3,wn=4,zn=3,Qn=n((B,Fe)=>(B.msg=e[Fe],Fe),"err"),Sn=n(B=>(B<<1)-(B>4?9:0),"rank"),Zn=n(B=>{let Fe=B.length;for(;--Fe>=0;)B[Fe]=0},"zero");let ui=n((B,Fe,fe)=>(Fe<<B.hash_shift^fe)&B.hash_mask,"HASH_ZLIB");const fi=n(B=>{const Fe=B.state;let fe=Fe.pending;fe>B.avail_out&&(fe=B.avail_out),fe!==0&&(B.output.set(Fe.pending_buf.subarray(Fe.pending_out,Fe.pending_out+fe),B.next_out),B.next_out+=fe,Fe.pending_out+=fe,B.total_out+=fe,B.avail_out-=fe,Fe.pending-=fe,Fe.pending===0&&(Fe.pending_out=0))},"flush_pending"),Vn=n((B,Fe)=>{m(B,B.block_start>=0?B.block_start:-1,B.strstart-B.block_start,Fe),B.block_start=B.strstart,fi(B.strm)},"flush_block_only"),In=n((B,Fe)=>{B.pending_buf[B.pending++]=Fe},"put_byte"),wi=n((B,Fe)=>{B.pending_buf[B.pending++]=Fe>>>8&255,B.pending_buf[B.pending++]=Fe&255},"putShortMSB"),_n=n((B,Fe,fe,ve)=>{let ee=B.avail_in;return ee>ve&&(ee=ve),ee===0?0:(B.avail_in-=ee,Fe.set(B.input.subarray(B.next_in,B.next_in+ee),fe),B.state.wrap===1?B.adler=s(B.adler,Fe,ee,fe):B.state.wrap===2&&(B.adler=i(B.adler,Fe,ee,fe)),B.next_in+=ee,B.total_in+=ee,ee)},"read_buf"),An=n((B,Fe)=>{let fe=B.max_chain_length,ve=B.strstart,ee,Et,Ne=B.prev_length,st=B.nice_match;const on=B.strstart>B.w_size-ct?B.strstart-(B.w_size-ct):0,$t=B.window,yi=B.w_mask,mi=B.prev,ri=B.strstart+it;let ti=$t[ve+Ne-1],Zt=$t[ve+Ne];B.prev_length>=B.good_match&&(fe>>=2),st>B.lookahead&&(st=B.lookahead);do if(ee=Fe,!($t[ee+Ne]!==Zt||$t[ee+Ne-1]!==ti||$t[ee]!==$t[ve]||$t[++ee]!==$t[ve+1])){ve+=2,ee++;do;while($t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&ve<ri);if(Et=it-(ri-ve),ve=ri-it,Et>Ne){if(B.match_start=Fe,Ne=Et,Et>=st)break;ti=$t[ve+Ne-1],Zt=$t[ve+Ne]}}while((Fe=mi[Fe&yi])>on&&--fe!==0);return Ne<=B.lookahead?Ne:B.lookahead},"longest_match"),sn=n(B=>{const Fe=B.w_size;let fe,ve,ee,Et,Ne;do{if(Et=B.window_size-B.lookahead-B.strstart,B.strstart>=Fe+(Fe-ct)){B.window.set(B.window.subarray(Fe,Fe+Fe),0),B.match_start-=Fe,B.strstart-=Fe,B.block_start-=Fe,ve=B.hash_size,fe=ve;do ee=B.head[--fe],B.head[fe]=ee>=Fe?ee-Fe:0;while(--ve);ve=Fe,fe=ve;do ee=B.prev[--fe],B.prev[fe]=ee>=Fe?ee-Fe:0;while(--ve);Et+=Fe}if(B.strm.avail_in===0)break;if(ve=_n(B.strm,B.window,B.strstart+B.lookahead,Et),B.lookahead+=ve,B.lookahead+B.insert>=Ke)for(Ne=B.strstart-B.insert,B.ins_h=B.window[Ne],B.ins_h=ui(B,B.ins_h,B.window[Ne+1]);B.insert&&(B.ins_h=ui(B,B.ins_h,B.window[Ne+Ke-1]),B.prev[Ne&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Ne,Ne++,B.insert--,!(B.lookahead+B.insert<Ke)););}while(B.lookahead<ct&&B.strm.avail_in!==0)},"fill_window"),Q=n((B,Fe)=>{let fe=65535;for(fe>B.pending_buf_size-5&&(fe=B.pending_buf_size-5);;){if(B.lookahead<=1){if(sn(B),B.lookahead===0&&Fe===t)return gt;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;const ve=B.block_start+fe;if((B.strstart===0||B.strstart>=ve)&&(B.lookahead=B.strstart-ve,B.strstart=ve,Vn(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-ct&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=0,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):(B.strstart>B.block_start&&(Vn(B,!1),B.strm.avail_out===0),gt)},"deflate_stored"),lt=n((B,Fe)=>{let fe,ve;for(;;){if(B.lookahead<ct){if(sn(B),B.lookahead<ct&&Fe===t)return gt;if(B.lookahead===0)break}if(fe=0,B.lookahead>=Ke&&(B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),fe!==0&&B.strstart-fe<=B.w_size-ct&&(B.match_length=An(B,fe)),B.match_length>=Ke)if(ve=p(B,B.strstart-B.match_start,B.match_length-Ke),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=Ke){B.match_length--;do B.strstart++,B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart;while(--B.match_length!==0);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=ui(B,B.ins_h,B.window[B.strstart+1]);else ve=p(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(ve&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=B.strstart<Ke-1?B.strstart:Ke-1,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_fast"),mt=n((B,Fe)=>{let fe,ve,ee;for(;;){if(B.lookahead<ct){if(sn(B),B.lookahead<ct&&Fe===t)return gt;if(B.lookahead===0)break}if(fe=0,B.lookahead>=Ke&&(B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=Ke-1,fe!==0&&B.prev_length<B.max_lazy_match&&B.strstart-fe<=B.w_size-ct&&(B.match_length=An(B,fe),B.match_length<=5&&(B.strategy===T||B.match_length===Ke&&B.strstart-B.match_start>4096)&&(B.match_length=Ke-1)),B.prev_length>=Ke&&B.match_length<=B.prev_length){ee=B.strstart+B.lookahead-Ke,ve=p(B,B.strstart-1-B.prev_match,B.prev_length-Ke),B.lookahead-=B.prev_length-1,B.prev_length-=2;do++B.strstart<=ee&&(B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart);while(--B.prev_length!==0);if(B.match_available=0,B.match_length=Ke-1,B.strstart++,ve&&(Vn(B,!1),B.strm.avail_out===0))return gt}else if(B.match_available){if(ve=p(B,0,B.window[B.strstart-1]),ve&&Vn(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return gt}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(ve=p(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<Ke-1?B.strstart:Ke-1,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_slow"),bt=n((B,Fe)=>{let fe,ve,ee,Et;const Ne=B.window;for(;;){if(B.lookahead<=it){if(sn(B),B.lookahead<=it&&Fe===t)return gt;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=Ke&&B.strstart>0&&(ee=B.strstart-1,ve=Ne[ee],ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee])){Et=B.strstart+it;do;while(ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ee<Et);B.match_length=it-(Et-ee),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=Ke?(fe=p(B,1,B.match_length-Ke),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(fe=p(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),fe&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=0,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_rle"),At=n((B,Fe)=>{let fe;for(;;){if(B.lookahead===0&&(sn(B),B.lookahead===0)){if(Fe===t)return gt;break}if(B.match_length=0,fe=p(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,fe&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=0,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_huff");function Wt(B,Fe,fe,ve,ee){this.good_length=B,this.max_lazy=Fe,this.nice_length=fe,this.max_chain=ve,this.func=ee}n(Wt,"Config");const we=[new Wt(0,0,0,0,Q),new Wt(4,4,8,4,lt),new Wt(4,5,16,8,lt),new Wt(4,6,32,32,lt),new Wt(4,4,16,16,mt),new Wt(8,16,32,32,mt),new Wt(8,16,128,128,mt),new Wt(8,32,128,256,mt),new Wt(32,128,258,1024,mt),new Wt(32,258,258,4096,mt)],ht=n(B=>{B.window_size=2*B.w_size,Zn(B.head),B.max_lazy_match=we[B.level].max_lazy,B.good_match=we[B.level].good_length,B.nice_match=we[B.level].nice_length,B.max_chain_length=we[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=Ke-1,B.match_available=0,B.ins_h=0},"lm_init");function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(pt*2),this.dyn_dtree=new Uint16Array((2*Pe+1)*2),this.bl_tree=new Uint16Array((2*He+1)*2),Zn(this.dyn_ltree),Zn(this.dyn_dtree),Zn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ht+1),this.heap=new Uint16Array(2*ge+1),Zn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ge+1),Zn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}n(K,"DeflateState");const se=n(B=>{if(!B||!B.state)return Qn(B,S);B.total_in=B.total_out=0,B.data_type=P;const Fe=B.state;return Fe.pending=0,Fe.pending_out=0,Fe.wrap<0&&(Fe.wrap=-Fe.wrap),Fe.status=Fe.wrap?_t:It,B.adler=Fe.wrap===2?0:1,Fe.last_flush=t,d(Fe),v},"deflateResetKeep"),Ve=n(B=>{const Fe=se(B);return Fe===v&&ht(B.state),Fe},"deflateReset"),Be=n((B,Fe)=>!B||!B.state||B.state.wrap!==2?S:(B.state.gzhead=Fe,v),"deflateSetHeader"),Yt=n((B,Fe,fe,ve,ee,Et)=>{if(!B)return S;let Ne=1;if(Fe===E&&(Fe=6),ve<0?(Ne=0,ve=-ve):ve>15&&(Ne=2,ve-=16),ee<1||ee>z||fe!==x||ve<8||ve>15||Fe<0||Fe>9||Et<0||Et>w)return Qn(B,S);ve===8&&(ve=9);const st=new K;return B.state=st,st.strm=B,st.wrap=Ne,st.gzhead=null,st.w_bits=ve,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=ee+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+Ke-1)/Ke),st.window=new Uint8Array(st.w_size*2),st.head=new Uint16Array(st.hash_size),st.prev=new Uint16Array(st.w_size),st.lit_bufsize=1<<ee+6,st.pending_buf_size=st.lit_bufsize*4,st.pending_buf=new Uint8Array(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=(1+2)*st.lit_bufsize,st.level=Fe,st.strategy=Et,st.method=fe,Ve(B)},"deflateInit2"),yt=n((B,Fe)=>Yt(B,Fe,x,Z,re,R),"deflateInit"),Bt=n((B,Fe)=>{let fe,ve;if(!B||!B.state||Fe>g||Fe<0)return B?Qn(B,S):S;const ee=B.state;if(!B.output||!B.input&&B.avail_in!==0||ee.status===kt&&Fe!==f)return Qn(B,B.avail_out===0?b:S);ee.strm=B;const Et=ee.last_flush;if(ee.last_flush=Fe,ee.status===_t)if(ee.wrap===2)B.adler=0,In(ee,31),In(ee,139),In(ee,8),ee.gzhead?(In(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),In(ee,ee.gzhead.time&255),In(ee,ee.gzhead.time>>8&255),In(ee,ee.gzhead.time>>16&255),In(ee,ee.gzhead.time>>24&255),In(ee,ee.level===9?2:ee.strategy>=I||ee.level<2?4:0),In(ee,ee.gzhead.os&255),ee.gzhead.extra&&ee.gzhead.extra.length&&(In(ee,ee.gzhead.extra.length&255),In(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(B.adler=i(B.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=Gt):(In(ee,0),In(ee,0),In(ee,0),In(ee,0),In(ee,0),In(ee,ee.level===9?2:ee.strategy>=I||ee.level<2?4:0),In(ee,zn),ee.status=It);else{let Ne=x+(ee.w_bits-8<<4)<<8,st=-1;ee.strategy>=I||ee.level<2?st=0:ee.level<6?st=1:ee.level===6?st=2:st=3,Ne|=st<<6,ee.strstart!==0&&(Ne|=rt),Ne+=31-Ne%31,ee.status=It,wi(ee,Ne),ee.strstart!==0&&(wi(ee,B.adler>>>16),wi(ee,B.adler&65535)),B.adler=1}if(ee.status===Gt)if(ee.gzhead.extra){for(fe=ee.pending;ee.gzindex<(ee.gzhead.extra.length&65535)&&!(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),fi(B),fe=ee.pending,ee.pending===ee.pending_buf_size));)In(ee,ee.gzhead.extra[ee.gzindex]&255),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=Kt)}else ee.status=Kt;if(ee.status===Kt)if(ee.gzhead.name){fe=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),fi(B),fe=ee.pending,ee.pending===ee.pending_buf_size)){ve=1;break}ee.gzindex<ee.gzhead.name.length?ve=ee.gzhead.name.charCodeAt(ee.gzindex++)&255:ve=0,In(ee,ve)}while(ve!==0);ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),ve===0&&(ee.gzindex=0,ee.status=Ye)}else ee.status=Ye;if(ee.status===Ye)if(ee.gzhead.comment){fe=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),fi(B),fe=ee.pending,ee.pending===ee.pending_buf_size)){ve=1;break}ee.gzindex<ee.gzhead.comment.length?ve=ee.gzhead.comment.charCodeAt(ee.gzindex++)&255:ve=0,In(ee,ve)}while(ve!==0);ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),ve===0&&(ee.status=Xe)}else ee.status=Xe;if(ee.status===Xe&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&fi(B),ee.pending+2<=ee.pending_buf_size&&(In(ee,B.adler&255),In(ee,B.adler>>8&255),B.adler=0,ee.status=It)):ee.status=It),ee.pending!==0){if(fi(B),B.avail_out===0)return ee.last_flush=-1,v}else if(B.avail_in===0&&Sn(Fe)<=Sn(Et)&&Fe!==f)return Qn(B,b);if(ee.status===kt&&B.avail_in!==0)return Qn(B,b);if(B.avail_in!==0||ee.lookahead!==0||Fe!==t&&ee.status!==kt){let Ne=ee.strategy===I?At(ee,Fe):ee.strategy===A?bt(ee,Fe):we[ee.level].func(ee,Fe);if((Ne===pn||Ne===wn)&&(ee.status=kt),Ne===gt||Ne===pn)return B.avail_out===0&&(ee.last_flush=-1),v;if(Ne===En&&(Fe===r?a(ee):Fe!==g&&(h(ee,0,0,!1),Fe===o&&(Zn(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),fi(B),B.avail_out===0))return ee.last_flush=-1,v}return Fe!==f?v:ee.wrap<=0?u:(ee.wrap===2?(In(ee,B.adler&255),In(ee,B.adler>>8&255),In(ee,B.adler>>16&255),In(ee,B.adler>>24&255),In(ee,B.total_in&255),In(ee,B.total_in>>8&255),In(ee,B.total_in>>16&255),In(ee,B.total_in>>24&255)):(wi(ee,B.adler>>>16),wi(ee,B.adler&65535)),fi(B),ee.wrap>0&&(ee.wrap=-ee.wrap),ee.pending!==0?v:u)},"deflate"),ke=n(B=>{if(!B||!B.state)return S;const Fe=B.state.status;return Fe!==_t&&Fe!==Gt&&Fe!==Kt&&Fe!==Ye&&Fe!==Xe&&Fe!==It&&Fe!==kt?Qn(B,S):(B.state=null,Fe===It?Qn(B,_):v)},"deflateEnd"),Je=n((B,Fe)=>{let fe=Fe.length;if(!B||!B.state)return S;const ve=B.state,ee=ve.wrap;if(ee===2||ee===1&&ve.status!==_t||ve.lookahead)return S;if(ee===1&&(B.adler=s(B.adler,Fe,fe,0)),ve.wrap=0,fe>=ve.w_size){ee===0&&(Zn(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0);let on=new Uint8Array(ve.w_size);on.set(Fe.subarray(fe-ve.w_size,fe),0),Fe=on,fe=ve.w_size}const Et=B.avail_in,Ne=B.next_in,st=B.input;for(B.avail_in=fe,B.next_in=0,B.input=Fe,sn(ve);ve.lookahead>=Ke;){let on=ve.strstart,$t=ve.lookahead-(Ke-1);do ve.ins_h=ui(ve,ve.ins_h,ve.window[on+Ke-1]),ve.prev[on&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=on,on++;while(--$t);ve.strstart=on,ve.lookahead=Ke-1,sn(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=Ke-1,ve.match_available=0,B.next_in=Ne,B.input=st,B.avail_in=Et,ve.wrap=ee,v},"deflateSetDictionary");V.exports.deflateInit=yt,V.exports.deflateInit2=Yt,V.exports.deflateReset=Ve,V.exports.deflateResetKeep=se,V.exports.deflateSetHeader=Be,V.exports.deflate=Bt,V.exports.deflateEnd=ke,V.exports.deflateSetDictionary=Je,V.exports.deflateInfo="pako deflate (from Nodeca project)"},1188266205:V=>{"use strict";function l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}n(l,"GZheader"),V.exports=l},1317469038:V=>{"use strict";V.exports=n(function(h,m){let p,a,s,i,e,t,r,o,f,g,v,u,S,_,b,E,T,I,A,w,R,P,x,z;const Z=h.state;p=h.next_in,x=h.input,a=p+(h.avail_in-5),s=h.next_out,z=h.output,i=s-(m-h.avail_out),e=s+(h.avail_out-257),t=Z.dmax,r=Z.wsize,o=Z.whave,f=Z.wnext,g=Z.window,v=Z.hold,u=Z.bits,S=Z.lencode,_=Z.distcode,b=(1<<Z.lenbits)-1,E=(1<<Z.distbits)-1;e:do{u<15&&(v+=x[p++]<<u,u+=8,v+=x[p++]<<u,u+=8),T=S[v&b];t:for(;;){if(I=T>>>24,v>>>=I,u-=I,I=T>>>16&255,I===0)z[s++]=T&65535;else if(I&16){A=T&65535,I&=15,I&&(u<I&&(v+=x[p++]<<u,u+=8),A+=v&(1<<I)-1,v>>>=I,u-=I),u<15&&(v+=x[p++]<<u,u+=8,v+=x[p++]<<u,u+=8),T=_[v&E];n:for(;;){if(I=T>>>24,v>>>=I,u-=I,I=T>>>16&255,I&16){if(w=T&65535,I&=15,u<I&&(v+=x[p++]<<u,u+=8,u<I&&(v+=x[p++]<<u,u+=8)),w+=v&(1<<I)-1,w>t){h.msg="invalid distance too far back",Z.mode=30;break e}if(v>>>=I,u-=I,I=s-i,w>I){if(I=w-I,I>o&&Z.sane){h.msg="invalid distance too far back",Z.mode=30;break e}if(R=0,P=g,f===0){if(R+=r-I,I<A){A-=I;do z[s++]=g[R++];while(--I);R=s-w,P=z}}else if(f<I){if(R+=r+f-I,I-=f,I<A){A-=I;do z[s++]=g[R++];while(--I);if(R=0,f<A){I=f,A-=I;do z[s++]=g[R++];while(--I);R=s-w,P=z}}}else if(R+=f-I,I<A){A-=I;do z[s++]=g[R++];while(--I);R=s-w,P=z}for(;A>2;)z[s++]=P[R++],z[s++]=P[R++],z[s++]=P[R++],A-=3;A&&(z[s++]=P[R++],A>1&&(z[s++]=P[R++]))}else{R=s-w;do z[s++]=z[R++],z[s++]=z[R++],z[s++]=z[R++],A-=3;while(A>2);A&&(z[s++]=z[R++],A>1&&(z[s++]=z[R++]))}}else if(I&64){h.msg="invalid distance code",Z.mode=30;break e}else{T=_[(T&65535)+(v&(1<<I)-1)];continue n}break}}else if(I&64)if(I&32){Z.mode=12;break e}else{h.msg="invalid literal/length code",Z.mode=30;break e}else{T=S[(T&65535)+(v&(1<<I)-1)];continue t}break}}while(p<a&&s<e);A=u>>3,p-=A,u-=A<<3,v&=(1<<u)-1,h.next_in=p,h.next_out=s,h.avail_in=p<a?5+(a-p):5-(p-a),h.avail_out=s<e?257+(e-s):257-(s-e),Z.hold=v,Z.bits=u},"inflate_fast")},6525758292:(V,l,c)=>{"use strict";const d=c(1534271202),h=c(7218738144),m=c(1317469038),p=c(2382788065),a=0,s=1,i=2,{Z_FINISH:e,Z_BLOCK:t,Z_TREES:r,Z_OK:o,Z_STREAM_END:f,Z_NEED_DICT:g,Z_STREAM_ERROR:v,Z_DATA_ERROR:u,Z_MEM_ERROR:S,Z_BUF_ERROR:_,Z_DEFLATED:b}=c(2381927306),E=1,T=2,I=3,A=4,w=5,R=6,P=7,x=8,z=9,Z=10,re=11,ne=12,he=13,ge=14,Pe=15,He=16,pt=17,Ht=18,Ke=19,it=20,ct=21,rt=22,_t=23,Gt=24,Kt=25,Ye=26,Xe=27,It=28,kt=29,gt=30,En=31,pn=32,wn=852,zn=592,Sn=15,Zn=n(we=>(we>>>24&255)+(we>>>8&65280)+((we&65280)<<8)+((we&255)<<24),"zswap32");function lr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}n(lr,"InflateState");const ui=n(we=>{if(!we||!we.state)return v;const ht=we.state;return we.total_in=we.total_out=ht.total=0,we.msg="",ht.wrap&&(we.adler=ht.wrap&1),ht.mode=E,ht.last=0,ht.havedict=0,ht.dmax=32768,ht.head=null,ht.hold=0,ht.bits=0,ht.lencode=ht.lendyn=new Int32Array(wn),ht.distcode=ht.distdyn=new Int32Array(zn),ht.sane=1,ht.back=-1,o},"inflateResetKeep"),fi=n(we=>{if(!we||!we.state)return v;const ht=we.state;return ht.wsize=0,ht.whave=0,ht.wnext=0,ui(we)},"inflateReset"),Vn=n((we,ht)=>{let K;if(!we||!we.state)return v;const se=we.state;return ht<0?(K=0,ht=-ht):(K=(ht>>4)+1,ht<48&&(ht&=15)),ht&&(ht<8||ht>15)?v:(se.window!==null&&se.wbits!==ht&&(se.window=null),se.wrap=K,se.wbits=ht,fi(we))},"inflateReset2"),In=n((we,ht)=>{if(!we)return v;const K=new lr;we.state=K,K.window=null;const se=Vn(we,ht);return se!==o&&(we.state=null),se},"inflateInit2"),wi=n(we=>In(we,Sn),"inflateInit");let _n=!0,An,sn;const Q=n(we=>{if(_n){An=new Int32Array(512),sn=new Int32Array(32);let ht=0;for(;ht<144;)we.lens[ht++]=8;for(;ht<256;)we.lens[ht++]=9;for(;ht<280;)we.lens[ht++]=7;for(;ht<288;)we.lens[ht++]=8;for(p(s,we.lens,0,288,An,0,we.work,{bits:9}),ht=0;ht<32;)we.lens[ht++]=5;p(i,we.lens,0,32,sn,0,we.work,{bits:5}),_n=!1}we.lencode=An,we.lenbits=9,we.distcode=sn,we.distbits=5},"fixedtables"),lt=n((we,ht,K,se)=>{let Ve;const Be=we.state;return Be.window===null&&(Be.wsize=1<<Be.wbits,Be.wnext=0,Be.whave=0,Be.window=new Uint8Array(Be.wsize)),se>=Be.wsize?(Be.window.set(ht.subarray(K-Be.wsize,K),0),Be.wnext=0,Be.whave=Be.wsize):(Ve=Be.wsize-Be.wnext,Ve>se&&(Ve=se),Be.window.set(ht.subarray(K-se,K-se+Ve),Be.wnext),se-=Ve,se?(Be.window.set(ht.subarray(K-se,K),0),Be.wnext=se,Be.whave=Be.wsize):(Be.wnext+=Ve,Be.wnext===Be.wsize&&(Be.wnext=0),Be.whave<Be.wsize&&(Be.whave+=Ve))),0},"updatewindow"),mt=n((we,ht)=>{let K,se,Ve,Be,Yt,yt,Bt,ke,Je,B,Fe,fe,ve,ee,Et=0,Ne,st,on,$t,yi,mi,ri,ti;const Zt=new Uint8Array(4);let mn,Ui;const Er=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!we||!we.state||!we.output||!we.input&&we.avail_in!==0)return v;K=we.state,K.mode===ne&&(K.mode=he),Yt=we.next_out,Ve=we.output,Bt=we.avail_out,Be=we.next_in,se=we.input,yt=we.avail_in,ke=K.hold,Je=K.bits,B=yt,Fe=Bt,ti=o;e:for(;;)switch(K.mode){case E:if(K.wrap===0){K.mode=he;break}for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(K.wrap&2&&ke===35615){K.check=0,Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0),ke=0,Je=0,K.mode=T;break}if(K.flags=0,K.head&&(K.head.done=!1),!(K.wrap&1)||(((ke&255)<<8)+(ke>>8))%31){we.msg="incorrect header check",K.mode=gt;break}if((ke&15)!==b){we.msg="unknown compression method",K.mode=gt;break}if(ke>>>=4,Je-=4,ri=(ke&15)+8,K.wbits===0)K.wbits=ri;else if(ri>K.wbits){we.msg="invalid window size",K.mode=gt;break}K.dmax=1<<K.wbits,we.adler=K.check=1,K.mode=ke&512?Z:ne,ke=0,Je=0;break;case T:for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(K.flags=ke,(K.flags&255)!==b){we.msg="unknown compression method",K.mode=gt;break}if(K.flags&57344){we.msg="unknown header flags set",K.mode=gt;break}K.head&&(K.head.text=ke>>8&1),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0)),ke=0,Je=0,K.mode=I;case I:for(;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.head&&(K.head.time=ke),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,Zt[2]=ke>>>16&255,Zt[3]=ke>>>24&255,K.check=h(K.check,Zt,4,0)),ke=0,Je=0,K.mode=A;case A:for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.head&&(K.head.xflags=ke&255,K.head.os=ke>>8),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0)),ke=0,Je=0,K.mode=w;case w:if(K.flags&1024){for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.length=ke,K.head&&(K.head.extra_len=ke),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0)),ke=0,Je=0}else K.head&&(K.head.extra=null);K.mode=R;case R:if(K.flags&1024&&(fe=K.length,fe>yt&&(fe=yt),fe&&(K.head&&(ri=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Uint8Array(K.head.extra_len)),K.head.extra.set(se.subarray(Be,Be+fe),ri)),K.flags&512&&(K.check=h(K.check,se,fe,Be)),yt-=fe,Be+=fe,K.length-=fe),K.length))break e;K.length=0,K.mode=P;case P:if(K.flags&2048){if(yt===0)break e;fe=0;do ri=se[Be+fe++],K.head&&ri&&K.length<65536&&(K.head.name+=String.fromCharCode(ri));while(ri&&fe<yt);if(K.flags&512&&(K.check=h(K.check,se,fe,Be)),yt-=fe,Be+=fe,ri)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=x;case x:if(K.flags&4096){if(yt===0)break e;fe=0;do ri=se[Be+fe++],K.head&&ri&&K.length<65536&&(K.head.comment+=String.fromCharCode(ri));while(ri&&fe<yt);if(K.flags&512&&(K.check=h(K.check,se,fe,Be)),yt-=fe,Be+=fe,ri)break e}else K.head&&(K.head.comment=null);K.mode=z;case z:if(K.flags&512){for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(ke!==(K.check&65535)){we.msg="header crc mismatch",K.mode=gt;break}ke=0,Je=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),we.adler=K.check=0,K.mode=ne;break;case Z:for(;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}we.adler=K.check=Zn(ke),ke=0,Je=0,K.mode=re;case re:if(K.havedict===0)return we.next_out=Yt,we.avail_out=Bt,we.next_in=Be,we.avail_in=yt,K.hold=ke,K.bits=Je,g;we.adler=K.check=1,K.mode=ne;case ne:if(ht===t||ht===r)break e;case he:if(K.last){ke>>>=Je&7,Je-=Je&7,K.mode=Xe;break}for(;Je<3;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}switch(K.last=ke&1,ke>>>=1,Je-=1,ke&3){case 0:K.mode=ge;break;case 1:if(Q(K),K.mode=it,ht===r){ke>>>=2,Je-=2;break e}break;case 2:K.mode=pt;break;case 3:we.msg="invalid block type",K.mode=gt}ke>>>=2,Je-=2;break;case ge:for(ke>>>=Je&7,Je-=Je&7;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if((ke&65535)!==(ke>>>16^65535)){we.msg="invalid stored block lengths",K.mode=gt;break}if(K.length=ke&65535,ke=0,Je=0,K.mode=Pe,ht===r)break e;case Pe:K.mode=He;case He:if(fe=K.length,fe){if(fe>yt&&(fe=yt),fe>Bt&&(fe=Bt),fe===0)break e;Ve.set(se.subarray(Be,Be+fe),Yt),yt-=fe,Be+=fe,Bt-=fe,Yt+=fe,K.length-=fe;break}K.mode=ne;break;case pt:for(;Je<14;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(K.nlen=(ke&31)+257,ke>>>=5,Je-=5,K.ndist=(ke&31)+1,ke>>>=5,Je-=5,K.ncode=(ke&15)+4,ke>>>=4,Je-=4,K.nlen>286||K.ndist>30){we.msg="too many length or distance symbols",K.mode=gt;break}K.have=0,K.mode=Ht;case Ht:for(;K.have<K.ncode;){for(;Je<3;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.lens[Er[K.have++]]=ke&7,ke>>>=3,Je-=3}for(;K.have<19;)K.lens[Er[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,mn={bits:K.lenbits},ti=p(a,K.lens,0,19,K.lencode,0,K.work,mn),K.lenbits=mn.bits,ti){we.msg="invalid code lengths set",K.mode=gt;break}K.have=0,K.mode=Ke;case Ke:for(;K.have<K.nlen+K.ndist;){for(;Et=K.lencode[ke&(1<<K.lenbits)-1],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!(Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(on<16)ke>>>=Ne,Je-=Ne,K.lens[K.have++]=on;else{if(on===16){for(Ui=Ne+2;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(ke>>>=Ne,Je-=Ne,K.have===0){we.msg="invalid bit length repeat",K.mode=gt;break}ri=K.lens[K.have-1],fe=3+(ke&3),ke>>>=2,Je-=2}else if(on===17){for(Ui=Ne+3;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=Ne,Je-=Ne,ri=0,fe=3+(ke&7),ke>>>=3,Je-=3}else{for(Ui=Ne+7;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=Ne,Je-=Ne,ri=0,fe=11+(ke&127),ke>>>=7,Je-=7}if(K.have+fe>K.nlen+K.ndist){we.msg="invalid bit length repeat",K.mode=gt;break}for(;fe--;)K.lens[K.have++]=ri}}if(K.mode===gt)break;if(K.lens[256]===0){we.msg="invalid code -- missing end-of-block",K.mode=gt;break}if(K.lenbits=9,mn={bits:K.lenbits},ti=p(s,K.lens,0,K.nlen,K.lencode,0,K.work,mn),K.lenbits=mn.bits,ti){we.msg="invalid literal/lengths set",K.mode=gt;break}if(K.distbits=6,K.distcode=K.distdyn,mn={bits:K.distbits},ti=p(i,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,mn),K.distbits=mn.bits,ti){we.msg="invalid distances set",K.mode=gt;break}if(K.mode=it,ht===r)break e;case it:K.mode=ct;case ct:if(yt>=6&&Bt>=258){we.next_out=Yt,we.avail_out=Bt,we.next_in=Be,we.avail_in=yt,K.hold=ke,K.bits=Je,m(we,Fe),Yt=we.next_out,Ve=we.output,Bt=we.avail_out,Be=we.next_in,se=we.input,yt=we.avail_in,ke=K.hold,Je=K.bits,K.mode===ne&&(K.back=-1);break}for(K.back=0;Et=K.lencode[ke&(1<<K.lenbits)-1],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!(Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(st&&!(st&240)){for($t=Ne,yi=st,mi=on;Et=K.lencode[mi+((ke&(1<<$t+yi)-1)>>$t)],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!($t+Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=$t,Je-=$t,K.back+=$t}if(ke>>>=Ne,Je-=Ne,K.back+=Ne,K.length=on,st===0){K.mode=Ye;break}if(st&32){K.back=-1,K.mode=ne;break}if(st&64){we.msg="invalid literal/length code",K.mode=gt;break}K.extra=st&15,K.mode=rt;case rt:if(K.extra){for(Ui=K.extra;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.length+=ke&(1<<K.extra)-1,ke>>>=K.extra,Je-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=_t;case _t:for(;Et=K.distcode[ke&(1<<K.distbits)-1],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!(Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(!(st&240)){for($t=Ne,yi=st,mi=on;Et=K.distcode[mi+((ke&(1<<$t+yi)-1)>>$t)],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!($t+Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=$t,Je-=$t,K.back+=$t}if(ke>>>=Ne,Je-=Ne,K.back+=Ne,st&64){we.msg="invalid distance code",K.mode=gt;break}K.offset=on,K.extra=st&15,K.mode=Gt;case Gt:if(K.extra){for(Ui=K.extra;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.offset+=ke&(1<<K.extra)-1,ke>>>=K.extra,Je-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){we.msg="invalid distance too far back",K.mode=gt;break}K.mode=Kt;case Kt:if(Bt===0)break e;if(fe=Fe-Bt,K.offset>fe){if(fe=K.offset-fe,fe>K.whave&&K.sane){we.msg="invalid distance too far back",K.mode=gt;break}fe>K.wnext?(fe-=K.wnext,ve=K.wsize-fe):ve=K.wnext-fe,fe>K.length&&(fe=K.length),ee=K.window}else ee=Ve,ve=Yt-K.offset,fe=K.length;fe>Bt&&(fe=Bt),Bt-=fe,K.length-=fe;do Ve[Yt++]=ee[ve++];while(--fe);K.length===0&&(K.mode=ct);break;case Ye:if(Bt===0)break e;Ve[Yt++]=K.length,Bt--,K.mode=ct;break;case Xe:if(K.wrap){for(;Je<32;){if(yt===0)break e;yt--,ke|=se[Be++]<<Je,Je+=8}if(Fe-=Bt,we.total_out+=Fe,K.total+=Fe,Fe&&(we.adler=K.check=K.flags?h(K.check,Ve,Fe,Yt-Fe):d(K.check,Ve,Fe,Yt-Fe)),Fe=Bt,(K.flags?ke:Zn(ke))!==K.check){we.msg="incorrect data check",K.mode=gt;break}ke=0,Je=0}K.mode=It;case It:if(K.wrap&&K.flags){for(;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(ke!==(K.total&4294967295)){we.msg="incorrect length check",K.mode=gt;break}ke=0,Je=0}K.mode=kt;case kt:ti=f;break e;case gt:ti=u;break e;case En:return S;case pn:default:return v}return we.next_out=Yt,we.avail_out=Bt,we.next_in=Be,we.avail_in=yt,K.hold=ke,K.bits=Je,(K.wsize||Fe!==we.avail_out&&K.mode<gt&&(K.mode<Xe||ht!==e))&&lt(we,we.output,we.next_out,Fe-we.avail_out)?(K.mode=En,S):(B-=we.avail_in,Fe-=we.avail_out,we.total_in+=B,we.total_out+=Fe,K.total+=Fe,K.wrap&&Fe&&(we.adler=K.check=K.flags?h(K.check,Ve,Fe,we.next_out-Fe):d(K.check,Ve,Fe,we.next_out-Fe)),we.data_type=K.bits+(K.last?64:0)+(K.mode===ne?128:0)+(K.mode===it||K.mode===Pe?256:0),(B===0&&Fe===0||ht===e)&&ti===o&&(ti=_),ti)},"inflate"),bt=n(we=>{if(!we||!we.state)return v;let ht=we.state;return ht.window&&(ht.window=null),we.state=null,o},"inflateEnd"),At=n((we,ht)=>{if(!we||!we.state)return v;const K=we.state;return K.wrap&2?(K.head=ht,ht.done=!1,o):v},"inflateGetHeader"),Wt=n((we,ht)=>{const K=ht.length;let se,Ve,Be;return!we||!we.state||(se=we.state,se.wrap!==0&&se.mode!==re)?v:se.mode===re&&(Ve=1,Ve=d(Ve,ht,K,0),Ve!==se.check)?u:(Be=lt(we,ht,K,K),Be?(se.mode=En,S):(se.havedict=1,o))},"inflateSetDictionary");V.exports.inflateReset=fi,V.exports.inflateReset2=Vn,V.exports.inflateResetKeep=ui,V.exports.inflateInit=wi,V.exports.inflateInit2=In,V.exports.inflate=mt,V.exports.inflateEnd=bt,V.exports.inflateGetHeader=At,V.exports.inflateSetDictionary=Wt,V.exports.inflateInfo="pako inflate (from Nodeca project)"},2382788065:V=>{"use strict";const a=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),s=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),i=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),t=n((r,o,f,g,v,u,S,_)=>{const b=_.bits;let E=0,T=0,I=0,A=0,w=0,R=0,P=0,x=0,z=0,Z=0,re,ne,he,ge,Pe,He=null,pt=0,Ht;const Ke=new Uint16Array(15+1),it=new Uint16Array(15+1);let ct=null,rt=0,_t,Gt,Kt;for(E=0;E<=15;E++)Ke[E]=0;for(T=0;T<g;T++)Ke[o[f+T]]++;for(w=b,A=15;A>=1&&Ke[A]===0;A--);if(w>A&&(w=A),A===0)return v[u++]=1<<24|64<<16|0,v[u++]=1<<24|64<<16|0,_.bits=1,0;for(I=1;I<A&&Ke[I]===0;I++);for(w<I&&(w=I),x=1,E=1;E<=15;E++)if(x<<=1,x-=Ke[E],x<0)return-1;if(x>0&&(r===0||A!==1))return-1;for(it[1]=0,E=1;E<15;E++)it[E+1]=it[E]+Ke[E];for(T=0;T<g;T++)o[f+T]!==0&&(S[it[o[f+T]]++]=T);if(r===0?(He=ct=S,Ht=19):r===1?(He=a,pt-=257,ct=s,rt-=257,Ht=256):(He=i,ct=e,Ht=-1),Z=0,T=0,E=I,Pe=u,R=w,P=0,he=-1,z=1<<w,ge=z-1,r===1&&z>852||r===2&&z>592)return 1;for(;;){_t=E-P,S[T]<Ht?(Gt=0,Kt=S[T]):S[T]>Ht?(Gt=ct[rt+S[T]],Kt=He[pt+S[T]]):(Gt=32+64,Kt=0),re=1<<E-P,ne=1<<R,I=ne;do ne-=re,v[Pe+(Z>>P)+ne]=_t<<24|Gt<<16|Kt|0;while(ne!==0);for(re=1<<E-1;Z&re;)re>>=1;if(re!==0?(Z&=re-1,Z+=re):Z=0,T++,--Ke[E]===0){if(E===A)break;E=o[f+S[T]]}if(E>w&&(Z&ge)!==he){for(P===0&&(P=w),Pe+=I,R=E-P,x=1<<R;R+P<A&&(x-=Ke[R+P],!(x<=0));)R++,x<<=1;if(z+=1<<R,r===1&&z>852||r===2&&z>592)return 1;he=Z&ge,v[he]=w<<24|R<<16|Pe-u|0}}return Z!==0&&(v[Pe+Z]=E-P<<24|64<<16|0),_.bits=w,0},"inflate_table");V.exports=t},8402435245:V=>{"use strict";V.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},9368076866:V=>{"use strict";function m(Q){let lt=Q.length;for(;--lt>=0;)Q[lt]=0}n(m,"zero");const p=0,a=1,s=2,i=3,e=258,t=29,r=256,o=r+1+t,f=30,g=19,v=2*o+1,u=15,S=16,_=7,b=256,E=16,T=17,I=18,A=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=512,z=new Array((o+2)*2);m(z);const Z=new Array(f*2);m(Z);const re=new Array(x);m(re);const ne=new Array(e-i+1);m(ne);const he=new Array(t);m(he);const ge=new Array(f);m(ge);function Pe(Q,lt,mt,bt,At){this.static_tree=Q,this.extra_bits=lt,this.extra_base=mt,this.elems=bt,this.max_length=At,this.has_stree=Q&&Q.length}n(Pe,"StaticTreeDesc");let He,pt,Ht;function Ke(Q,lt){this.dyn_tree=Q,this.max_code=0,this.stat_desc=lt}n(Ke,"TreeDesc");const it=n(Q=>Q<256?re[Q]:re[256+(Q>>>7)],"d_code"),ct=n((Q,lt)=>{Q.pending_buf[Q.pending++]=lt&255,Q.pending_buf[Q.pending++]=lt>>>8&255},"put_short"),rt=n((Q,lt,mt)=>{Q.bi_valid>S-mt?(Q.bi_buf|=lt<<Q.bi_valid&65535,ct(Q,Q.bi_buf),Q.bi_buf=lt>>S-Q.bi_valid,Q.bi_valid+=mt-S):(Q.bi_buf|=lt<<Q.bi_valid&65535,Q.bi_valid+=mt)},"send_bits"),_t=n((Q,lt,mt)=>{rt(Q,mt[lt*2],mt[lt*2+1])},"send_code"),Gt=n((Q,lt)=>{let mt=0;do mt|=Q&1,Q>>>=1,mt<<=1;while(--lt>0);return mt>>>1},"bi_reverse"),Kt=n(Q=>{Q.bi_valid===16?(ct(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):Q.bi_valid>=8&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)},"bi_flush"),Ye=n((Q,lt)=>{const mt=lt.dyn_tree,bt=lt.max_code,At=lt.stat_desc.static_tree,Wt=lt.stat_desc.has_stree,we=lt.stat_desc.extra_bits,ht=lt.stat_desc.extra_base,K=lt.stat_desc.max_length;let se,Ve,Be,Yt,yt,Bt,ke=0;for(Yt=0;Yt<=u;Yt++)Q.bl_count[Yt]=0;for(mt[Q.heap[Q.heap_max]*2+1]=0,se=Q.heap_max+1;se<v;se++)Ve=Q.heap[se],Yt=mt[mt[Ve*2+1]*2+1]+1,Yt>K&&(Yt=K,ke++),mt[Ve*2+1]=Yt,!(Ve>bt)&&(Q.bl_count[Yt]++,yt=0,Ve>=ht&&(yt=we[Ve-ht]),Bt=mt[Ve*2],Q.opt_len+=Bt*(Yt+yt),Wt&&(Q.static_len+=Bt*(At[Ve*2+1]+yt)));if(ke!==0){do{for(Yt=K-1;Q.bl_count[Yt]===0;)Yt--;Q.bl_count[Yt]--,Q.bl_count[Yt+1]+=2,Q.bl_count[K]--,ke-=2}while(ke>0);for(Yt=K;Yt!==0;Yt--)for(Ve=Q.bl_count[Yt];Ve!==0;)Be=Q.heap[--se],!(Be>bt)&&(mt[Be*2+1]!==Yt&&(Q.opt_len+=(Yt-mt[Be*2+1])*mt[Be*2],mt[Be*2+1]=Yt),Ve--)}},"gen_bitlen"),Xe=n((Q,lt,mt)=>{const bt=new Array(u+1);let At=0,Wt,we;for(Wt=1;Wt<=u;Wt++)bt[Wt]=At=At+mt[Wt-1]<<1;for(we=0;we<=lt;we++){let ht=Q[we*2+1];ht!==0&&(Q[we*2]=Gt(bt[ht]++,ht))}},"gen_codes"),It=n(()=>{let Q,lt,mt,bt,At;const Wt=new Array(u+1);for(mt=0,bt=0;bt<t-1;bt++)for(he[bt]=mt,Q=0;Q<1<<A[bt];Q++)ne[mt++]=bt;for(ne[mt-1]=bt,At=0,bt=0;bt<16;bt++)for(ge[bt]=At,Q=0;Q<1<<w[bt];Q++)re[At++]=bt;for(At>>=7;bt<f;bt++)for(ge[bt]=At<<7,Q=0;Q<1<<w[bt]-7;Q++)re[256+At++]=bt;for(lt=0;lt<=u;lt++)Wt[lt]=0;for(Q=0;Q<=143;)z[Q*2+1]=8,Q++,Wt[8]++;for(;Q<=255;)z[Q*2+1]=9,Q++,Wt[9]++;for(;Q<=279;)z[Q*2+1]=7,Q++,Wt[7]++;for(;Q<=287;)z[Q*2+1]=8,Q++,Wt[8]++;for(Xe(z,o+1,Wt),Q=0;Q<f;Q++)Z[Q*2+1]=5,Z[Q*2]=Gt(Q,5);He=new Pe(z,A,r+1,o,u),pt=new Pe(Z,w,0,f,u),Ht=new Pe(new Array(0),R,0,g,_)},"tr_static_init"),kt=n(Q=>{let lt;for(lt=0;lt<o;lt++)Q.dyn_ltree[lt*2]=0;for(lt=0;lt<f;lt++)Q.dyn_dtree[lt*2]=0;for(lt=0;lt<g;lt++)Q.bl_tree[lt*2]=0;Q.dyn_ltree[b*2]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0},"init_block"),gt=n(Q=>{Q.bi_valid>8?ct(Q,Q.bi_buf):Q.bi_valid>0&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0},"bi_windup"),En=n((Q,lt,mt,bt)=>{gt(Q),bt&&(ct(Q,mt),ct(Q,~mt)),Q.pending_buf.set(Q.window.subarray(lt,lt+mt),Q.pending),Q.pending+=mt},"copy_block"),pn=n((Q,lt,mt,bt)=>{const At=lt*2,Wt=mt*2;return Q[At]<Q[Wt]||Q[At]===Q[Wt]&&bt[lt]<=bt[mt]},"smaller"),wn=n((Q,lt,mt)=>{const bt=Q.heap[mt];let At=mt<<1;for(;At<=Q.heap_len&&(At<Q.heap_len&&pn(lt,Q.heap[At+1],Q.heap[At],Q.depth)&&At++,!pn(lt,bt,Q.heap[At],Q.depth));)Q.heap[mt]=Q.heap[At],mt=At,At<<=1;Q.heap[mt]=bt},"pqdownheap"),zn=n((Q,lt,mt)=>{let bt,At,Wt=0,we,ht;if(Q.last_lit!==0)do bt=Q.pending_buf[Q.d_buf+Wt*2]<<8|Q.pending_buf[Q.d_buf+Wt*2+1],At=Q.pending_buf[Q.l_buf+Wt],Wt++,bt===0?_t(Q,At,lt):(we=ne[At],_t(Q,we+r+1,lt),ht=A[we],ht!==0&&(At-=he[we],rt(Q,At,ht)),bt--,we=it(bt),_t(Q,we,mt),ht=w[we],ht!==0&&(bt-=ge[we],rt(Q,bt,ht)));while(Wt<Q.last_lit);_t(Q,b,lt)},"compress_block"),Qn=n((Q,lt)=>{const mt=lt.dyn_tree,bt=lt.stat_desc.static_tree,At=lt.stat_desc.has_stree,Wt=lt.stat_desc.elems;let we,ht,K=-1,se;for(Q.heap_len=0,Q.heap_max=v,we=0;we<Wt;we++)mt[we*2]!==0?(Q.heap[++Q.heap_len]=K=we,Q.depth[we]=0):mt[we*2+1]=0;for(;Q.heap_len<2;)se=Q.heap[++Q.heap_len]=K<2?++K:0,mt[se*2]=1,Q.depth[se]=0,Q.opt_len--,At&&(Q.static_len-=bt[se*2+1]);for(lt.max_code=K,we=Q.heap_len>>1;we>=1;we--)wn(Q,mt,we);se=Wt;do we=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],wn(Q,mt,1),ht=Q.heap[1],Q.heap[--Q.heap_max]=we,Q.heap[--Q.heap_max]=ht,mt[se*2]=mt[we*2]+mt[ht*2],Q.depth[se]=(Q.depth[we]>=Q.depth[ht]?Q.depth[we]:Q.depth[ht])+1,mt[we*2+1]=mt[ht*2+1]=se,Q.heap[1]=se++,wn(Q,mt,1);while(Q.heap_len>=2);Q.heap[--Q.heap_max]=Q.heap[1],Ye(Q,lt),Xe(mt,K,Q.bl_count)},"build_tree"),Sn=n((Q,lt,mt)=>{let bt,At=-1,Wt,we=lt[0*2+1],ht=0,K=7,se=4;for(we===0&&(K=138,se=3),lt[(mt+1)*2+1]=65535,bt=0;bt<=mt;bt++)Wt=we,we=lt[(bt+1)*2+1],!(++ht<K&&Wt===we)&&(ht<se?Q.bl_tree[Wt*2]+=ht:Wt!==0?(Wt!==At&&Q.bl_tree[Wt*2]++,Q.bl_tree[E*2]++):ht<=10?Q.bl_tree[T*2]++:Q.bl_tree[I*2]++,ht=0,At=Wt,we===0?(K=138,se=3):Wt===we?(K=6,se=3):(K=7,se=4))},"scan_tree"),Zn=n((Q,lt,mt)=>{let bt,At=-1,Wt,we=lt[0*2+1],ht=0,K=7,se=4;for(we===0&&(K=138,se=3),bt=0;bt<=mt;bt++)if(Wt=we,we=lt[(bt+1)*2+1],!(++ht<K&&Wt===we)){if(ht<se)do _t(Q,Wt,Q.bl_tree);while(--ht!==0);else Wt!==0?(Wt!==At&&(_t(Q,Wt,Q.bl_tree),ht--),_t(Q,E,Q.bl_tree),rt(Q,ht-3,2)):ht<=10?(_t(Q,T,Q.bl_tree),rt(Q,ht-3,3)):(_t(Q,I,Q.bl_tree),rt(Q,ht-11,7));ht=0,At=Wt,we===0?(K=138,se=3):Wt===we?(K=6,se=3):(K=7,se=4)}},"send_tree"),lr=n(Q=>{let lt;for(Sn(Q,Q.dyn_ltree,Q.l_desc.max_code),Sn(Q,Q.dyn_dtree,Q.d_desc.max_code),Qn(Q,Q.bl_desc),lt=g-1;lt>=3&&Q.bl_tree[P[lt]*2+1]===0;lt--);return Q.opt_len+=3*(lt+1)+5+5+4,lt},"build_bl_tree"),ui=n((Q,lt,mt,bt)=>{let At;for(rt(Q,lt-257,5),rt(Q,mt-1,5),rt(Q,bt-4,4),At=0;At<bt;At++)rt(Q,Q.bl_tree[P[At]*2+1],3);Zn(Q,Q.dyn_ltree,lt-1),Zn(Q,Q.dyn_dtree,mt-1)},"send_all_trees"),fi=n(Q=>{let lt=4093624447,mt;for(mt=0;mt<=31;mt++,lt>>>=1)if(lt&1&&Q.dyn_ltree[mt*2]!==0)return 0;if(Q.dyn_ltree[9*2]!==0||Q.dyn_ltree[10*2]!==0||Q.dyn_ltree[13*2]!==0)return 1;for(mt=32;mt<r;mt++)if(Q.dyn_ltree[mt*2]!==0)return 1;return 0},"detect_data_type");let Vn=!1;const In=n(Q=>{Vn||(It(),Vn=!0),Q.l_desc=new Ke(Q.dyn_ltree,He),Q.d_desc=new Ke(Q.dyn_dtree,pt),Q.bl_desc=new Ke(Q.bl_tree,Ht),Q.bi_buf=0,Q.bi_valid=0,kt(Q)},"_tr_init"),wi=n((Q,lt,mt,bt)=>{rt(Q,(p<<1)+(bt?1:0),3),En(Q,lt,mt,!0)},"_tr_stored_block"),_n=n(Q=>{rt(Q,a<<1,3),_t(Q,b,z),Kt(Q)},"_tr_align"),An=n((Q,lt,mt,bt)=>{let At,Wt,we=0;Q.level>0?(Q.strm.data_type===2&&(Q.strm.data_type=fi(Q)),Qn(Q,Q.l_desc),Qn(Q,Q.d_desc),we=lr(Q),At=Q.opt_len+3+7>>>3,Wt=Q.static_len+3+7>>>3,Wt<=At&&(At=Wt)):At=Wt=mt+5,mt+4<=At&&lt!==-1?wi(Q,lt,mt,bt):Q.strategy===4||Wt===At?(rt(Q,(a<<1)+(bt?1:0),3),zn(Q,z,Z)):(rt(Q,(s<<1)+(bt?1:0),3),ui(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,we+1),zn(Q,Q.dyn_ltree,Q.dyn_dtree)),kt(Q),bt&&gt(Q)},"_tr_flush_block"),sn=n((Q,lt,mt)=>(Q.pending_buf[Q.d_buf+Q.last_lit*2]=lt>>>8&255,Q.pending_buf[Q.d_buf+Q.last_lit*2+1]=lt&255,Q.pending_buf[Q.l_buf+Q.last_lit]=mt&255,Q.last_lit++,lt===0?Q.dyn_ltree[mt*2]++:(Q.matches++,lt--,Q.dyn_ltree[(ne[mt]+r+1)*2]++,Q.dyn_dtree[it(lt)*2]++),Q.last_lit===Q.lit_bufsize-1),"_tr_tally");V.exports._tr_init=In,V.exports._tr_stored_block=wi,V.exports._tr_flush_block=An,V.exports._tr_tally=sn,V.exports._tr_align=_n},6693199909:V=>{"use strict";function l(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}n(l,"ZStream"),V.exports=l},4572474409:(V,l,c)=>{"use strict";V.exports=c(3516343301)},3516343301:(V,l,c)=>{"use strict";var d=l;d.build="minimal",d.Writer=c(6236527030),d.BufferWriter=c(3743878437),d.Reader=c(5191662070),d.BufferReader=c(5281899621),d.util=c(7051616777),d.rpc=c(8201867872),d.roots=c(2643918710),d.configure=h;function h(){d.util._configure(),d.Writer._configure(d.BufferWriter),d.Reader._configure(d.BufferReader)}n(h,"configure"),h()},5191662070:(V,l,c)=>{"use strict";V.exports=s;var d=c(7051616777),h,m=d.LongBits,p=d.utf8;function a(f,g){return RangeError("index out of range: "+f.pos+" + "+(g||1)+" > "+f.len)}n(a,"indexOutOfRange");function s(f){this.buf=f,this.pos=0,this.len=f.length}n(s,"Reader");var i=typeof Uint8Array<"u"?n(function(g){if(g instanceof Uint8Array||Array.isArray(g))return new s(g);throw Error("illegal buffer")},"create_typed_array"):n(function(g){if(Array.isArray(g))return new s(g);throw Error("illegal buffer")},"create_array"),e=n(function(){return d.Buffer?n(function(v){return(s.create=n(function(S){return d.Buffer.isBuffer(S)?new h(S):i(S)},"create_buffer"))(v)},"create_buffer_setup"):i},"create");s.create=e(),s.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,s.prototype.uint32=n(function(){var g=4294967295;return n(function(){if(g=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(g=(g|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return g},"read_uint32")},"read_uint32_setup")(),s.prototype.int32=n(function(){return this.uint32()|0},"read_int32"),s.prototype.sint32=n(function(){var g=this.uint32();return g>>>1^-(g&1)|0},"read_sint32");function t(){var f=new m(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(f.lo=(f.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return f;if(f.lo=(f.lo|(this.buf[this.pos]&127)<<28)>>>0,f.hi=(f.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return f;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw a(this);if(f.lo=(f.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return f}return f.lo=(f.lo|(this.buf[this.pos++]&127)<<g*7)>>>0,f}if(this.len-this.pos>4){for(;g<5;++g)if(f.hi=(f.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return f}else for(;g<5;++g){if(this.pos>=this.len)throw a(this);if(f.hi=(f.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return f}throw Error("invalid varint encoding")}n(t,"readLongVarint"),s.prototype.bool=n(function(){return this.uint32()!==0},"read_bool");function r(f,g){return(f[g-4]|f[g-3]<<8|f[g-2]<<16|f[g-1]<<24)>>>0}n(r,"readFixed32_end"),s.prototype.fixed32=n(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)},"read_fixed32"),s.prototype.sfixed32=n(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)|0},"read_sfixed32");function o(){if(this.pos+8>this.len)throw a(this,8);return new m(r(this.buf,this.pos+=4),r(this.buf,this.pos+=4))}n(o,"readFixed64"),s.prototype.float=n(function(){if(this.pos+4>this.len)throw a(this,4);var g=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},"read_float"),s.prototype.double=n(function(){if(this.pos+8>this.len)throw a(this,4);var g=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},"read_double"),s.prototype.bytes=n(function(){var g=this.uint32(),v=this.pos,u=this.pos+g;if(u>this.len)throw a(this,g);if(this.pos+=g,Array.isArray(this.buf))return this.buf.slice(v,u);if(v===u){var S=d.Buffer;return S?S.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,v,u)},"read_bytes"),s.prototype.string=n(function(){var g=this.bytes();return p.read(g,0,g.length)},"read_string"),s.prototype.skip=n(function(g){if(typeof g=="number"){if(this.pos+g>this.len)throw a(this,g);this.pos+=g}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),s.prototype.skipType=function(f){switch(f){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(f=this.uint32()&7)!==4;)this.skipType(f);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+f+" at offset "+this.pos)}return this},s._configure=function(f){h=f,s.create=e(),h._configure();var g=d.Long?"toLong":"toNumber";d.merge(s.prototype,{int64:n(function(){return t.call(this)[g](!1)},"read_int64"),uint64:n(function(){return t.call(this)[g](!0)},"read_uint64"),sint64:n(function(){return t.call(this).zzDecode()[g](!1)},"read_sint64"),fixed64:n(function(){return o.call(this)[g](!0)},"read_fixed64"),sfixed64:n(function(){return o.call(this)[g](!1)},"read_sfixed64")})}},5281899621:(V,l,c)=>{"use strict";V.exports=m;var d=c(5191662070);(m.prototype=Object.create(d.prototype)).constructor=m;var h=c(7051616777);function m(p){d.call(this,p)}n(m,"BufferReader"),m._configure=function(){h.Buffer&&(m.prototype._slice=h.Buffer.prototype.slice)},m.prototype.string=n(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),m._configure()},2643918710:V=>{"use strict";V.exports={}},8201867872:(V,l,c)=>{"use strict";var d=l;d.Service=c(5500978168)},5500978168:(V,l,c)=>{"use strict";V.exports=h;var d=c(7051616777);(h.prototype=Object.create(d.EventEmitter.prototype)).constructor=h;function h(m,p,a){if(typeof m!="function")throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=m,this.requestDelimited=Boolean(p),this.responseDelimited=Boolean(a)}n(h,"Service"),h.prototype.rpcCall=n(function m(p,a,s,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return d.asPromise(m,t,p,a,s,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(p,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),n(function(o,f){if(o)return t.emit("error",o,p),e(o);if(f===null){t.end(!0);return}if(!(f instanceof s))try{f=s[t.responseDelimited?"decodeDelimited":"decode"](f)}catch(g){return t.emit("error",g,p),e(g)}return t.emit("data",f,p),e(null,f)},"rpcCallback"))}catch(r){t.emit("error",r,p),setTimeout(function(){e(r)},0);return}},"rpcCall"),h.prototype.end=n(function(p){return this.rpcImpl&&(p||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},9429642112:(V,l,c)=>{"use strict";V.exports=h;var d=c(7051616777);function h(s,i){this.lo=s>>>0,this.hi=i>>>0}n(h,"LongBits");var m=h.zero=new h(0,0);m.toNumber=function(){return 0},m.zzEncode=m.zzDecode=function(){return this},m.length=function(){return 1};var p=h.zeroHash="\0\0\0\0\0\0\0\0";h.fromNumber=n(function(i){if(i===0)return m;var e=i<0;e&&(i=-i);var t=i>>>0,r=(i-t)/4294967296>>>0;return e&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new h(t,r)},"fromNumber"),h.from=n(function(i){if(typeof i=="number")return h.fromNumber(i);if(d.isString(i))if(d.Long)i=d.Long.fromString(i);else return h.fromNumber(parseInt(i,10));return i.low||i.high?new h(i.low>>>0,i.high>>>0):m},"from"),h.prototype.toNumber=n(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),h.prototype.toLong=n(function(i){return d.Long?new d.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;h.fromHash=n(function(i){return i===p?m:new h((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),h.prototype.toHash=n(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),h.prototype.zzEncode=n(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),h.prototype.zzDecode=n(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),h.prototype.length=n(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},7051616777:function(V,l,c){"use strict";var d=l;d.asPromise=c(7410930532),d.base64=c(3824736026),d.EventEmitter=c(6627060659),d.float=c(6797650127),d.inquire=c(7693203422),d.utf8=c(4612067386),d.pool=c(3002561995),d.LongBits=c(9429642112),d.isNode=Boolean(typeof c.g<"u"&&c.g&&c.g.process&&c.g.process.versions&&c.g.process.versions.node),d.global=d.isNode&&c.g||typeof window<"u"&&window||typeof self<"u"&&self||this,d.emptyArray=Object.freeze?Object.freeze([]):[],d.emptyObject=Object.freeze?Object.freeze({}):{},d.isInteger=Number.isInteger||n(function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},"isInteger"),d.isString=n(function(a){return typeof a=="string"||a instanceof String},"isString"),d.isObject=n(function(a){return a&&typeof a=="object"},"isObject"),d.isset=d.isSet=n(function(a,s){var i=a[s];return i!=null&&a.hasOwnProperty(s)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1},"isSet"),d.Buffer=function(){try{var p=d.inquire("buffer").Buffer;return p.prototype.utf8Write?p:null}catch{return null}}(),d._Buffer_from=null,d._Buffer_allocUnsafe=null,d.newBuffer=n(function(a){return typeof a=="number"?d.Buffer?d._Buffer_allocUnsafe(a):new d.Array(a):d.Buffer?d._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},"newBuffer"),d.Array=typeof Uint8Array<"u"?Uint8Array:Array,d.Long=d.global.dcodeIO&&d.global.dcodeIO.Long||d.global.Long||d.inquire("long"),d.key2Re=/^true|false|0|1$/,d.key32Re=/^-?(?:0|[1-9][0-9]*)$/,d.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,d.longToHash=n(function(a){return a?d.LongBits.from(a).toHash():d.LongBits.zeroHash},"longToHash"),d.longFromHash=n(function(a,s){var i=d.LongBits.fromHash(a);return d.Long?d.Long.fromBits(i.lo,i.hi,s):i.toNumber(Boolean(s))},"longFromHash");function h(p,a,s){for(var i=Object.keys(a),e=0;e<i.length;++e)(p[i[e]]===void 0||!s)&&(p[i[e]]=a[i[e]]);return p}n(h,"merge"),d.merge=h,d.lcFirst=n(function(a){return a.charAt(0).toLowerCase()+a.substring(1)},"lcFirst");function m(p){function a(s,i){if(!(this instanceof a))return new a(s,i);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&h(this,i)}return n(a,"CustomError"),a.prototype=Object.create(Error.prototype,{constructor:{value:a,writable:!0,enumerable:!1,configurable:!0},name:{get:n(function(){return p},"get"),set:void 0,enumerable:!1,configurable:!0},toString:{value:n(function(){return this.name+": "+this.message},"value"),writable:!0,enumerable:!1,configurable:!0}}),a}n(m,"newError"),d.newError=m,d.ProtocolError=m("ProtocolError"),d.oneOfGetter=n(function(a){for(var s={},i=0;i<a.length;++i)s[a[i]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(s[e[t]]===1&&this[e[t]]!==void 0&&this[e[t]]!==null)return e[t]}},"getOneOf"),d.oneOfSetter=n(function(a){return function(s){for(var i=0;i<a.length;++i)a[i]!==s&&delete this[a[i]]}},"setOneOf"),d.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},d._configure=function(){var p=d.Buffer;if(!p){d._Buffer_from=d._Buffer_allocUnsafe=null;return}d._Buffer_from=p.from!==Uint8Array.from&&p.from||n(function(s,i){return new p(s,i)},"Buffer_from"),d._Buffer_allocUnsafe=p.allocUnsafe||n(function(s){return new p(s)},"Buffer_allocUnsafe")}},6236527030:(V,l,c)=>{"use strict";V.exports=t;var d=c(7051616777),h,m=d.LongBits,p=d.base64,a=d.utf8;function s(_,b,E){this.fn=_,this.len=b,this.next=void 0,this.val=E}n(s,"Op");function i(){}n(i,"noop");function e(_){this.head=_.head,this.tail=_.tail,this.len=_.len,this.next=_.states}n(e,"State");function t(){this.len=0,this.head=new s(i,0,0),this.tail=this.head,this.states=null}n(t,"Writer");var r=n(function(){return d.Buffer?n(function(){return(t.create=n(function(){return new h},"create_buffer"))()},"create_buffer_setup"):n(function(){return new t},"create_array")},"create");t.create=r(),t.alloc=n(function(b){return new d.Array(b)},"alloc"),d.Array!==Array&&(t.alloc=d.pool(t.alloc,d.Array.prototype.subarray)),t.prototype._push=n(function(b,E,T){return this.tail=this.tail.next=new s(b,E,T),this.len+=E,this},"push");function o(_,b,E){b[E]=_&255}n(o,"writeByte");function f(_,b,E){for(;_>127;)b[E++]=_&127|128,_>>>=7;b[E]=_}n(f,"writeVarint32");function g(_,b){this.len=_,this.next=void 0,this.val=b}n(g,"VarintOp"),g.prototype=Object.create(s.prototype),g.prototype.fn=f,t.prototype.uint32=n(function(b){return this.len+=(this.tail=this.tail.next=new g((b=b>>>0)<128?1:b<16384?2:b<2097152?3:b<268435456?4:5,b)).len,this},"write_uint32"),t.prototype.int32=n(function(b){return b<0?this._push(v,10,m.fromNumber(b)):this.uint32(b)},"write_int32"),t.prototype.sint32=n(function(b){return this.uint32((b<<1^b>>31)>>>0)},"write_sint32");function v(_,b,E){for(;_.hi;)b[E++]=_.lo&127|128,_.lo=(_.lo>>>7|_.hi<<25)>>>0,_.hi>>>=7;for(;_.lo>127;)b[E++]=_.lo&127|128,_.lo=_.lo>>>7;b[E++]=_.lo}n(v,"writeVarint64"),t.prototype.uint64=n(function(b){var E=m.from(b);return this._push(v,E.length(),E)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=n(function(b){var E=m.from(b).zzEncode();return this._push(v,E.length(),E)},"write_sint64"),t.prototype.bool=n(function(b){return this._push(o,1,b?1:0)},"write_bool");function u(_,b,E){b[E]=_&255,b[E+1]=_>>>8&255,b[E+2]=_>>>16&255,b[E+3]=_>>>24}n(u,"writeFixed32"),t.prototype.fixed32=n(function(b){return this._push(u,4,b>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=n(function(b){var E=m.from(b);return this._push(u,4,E.lo)._push(u,4,E.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=n(function(b){return this._push(d.float.writeFloatLE,4,b)},"write_float"),t.prototype.double=n(function(b){return this._push(d.float.writeDoubleLE,8,b)},"write_double");var S=d.Array.prototype.set?n(function(b,E,T){E.set(b,T)},"writeBytes_set"):n(function(b,E,T){for(var I=0;I<b.length;++I)E[T+I]=b[I]},"writeBytes_for");t.prototype.bytes=n(function(b){var E=b.length>>>0;if(!E)return this._push(o,1,0);if(d.isString(b)){var T=t.alloc(E=p.length(b));p.decode(b,T,0),b=T}return this.uint32(E)._push(S,E,b)},"write_bytes"),t.prototype.string=n(function(b){var E=a.length(b);return E?this.uint32(E)._push(a.write,E,b):this._push(o,1,0)},"write_string"),t.prototype.fork=n(function(){return this.states=new e(this),this.head=this.tail=new s(i,0,0),this.len=0,this},"fork"),t.prototype.reset=n(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=n(function(){var b=this.head,E=this.tail,T=this.len;return this.reset().uint32(T),T&&(this.tail.next=b.next,this.tail=E,this.len+=T),this},"ldelim"),t.prototype.finish=n(function(){for(var b=this.head.next,E=this.constructor.alloc(this.len),T=0;b;)b.fn(b.val,E,T),T+=b.len,b=b.next;return E},"finish"),t._configure=function(_){h=_,t.create=r(),h._configure()}},3743878437:(V,l,c)=>{"use strict";V.exports=m;var d=c(6236527030);(m.prototype=Object.create(d.prototype)).constructor=m;var h=c(7051616777);function m(){d.call(this)}n(m,"BufferWriter"),m._configure=function(){m.alloc=h._Buffer_allocUnsafe,m.writeBytesBuffer=h.Buffer&&h.Buffer.prototype instanceof Uint8Array&&h.Buffer.prototype.set.name==="set"?n(function(s,i,e){i.set(s,e)},"writeBytesBuffer_set"):n(function(s,i,e){if(s.copy)s.copy(i,e,0,s.length);else for(var t=0;t<s.length;)i[e++]=s[t++]},"writeBytesBuffer_copy")},m.prototype.bytes=n(function(s){h.isString(s)&&(s=h._Buffer_from(s,"base64"));var i=s.length>>>0;return this.uint32(i),i&&this._push(m.writeBytesBuffer,i,s),this},"write_bytes_buffer");function p(a,s,i){a.length<40?h.utf8.write(a,s,i):s.utf8Write?s.utf8Write(a,i):s.write(a,i)}n(p,"writeStringBuffer"),m.prototype.string=n(function(s){var i=h.Buffer.byteLength(s);return this.uint32(i),i&&this._push(p,i,s),this},"write_string_buffer"),m._configure()},3476820828:(V,l,c)=>{"use strict";c.r(l),c.d(l,{__assign:()=>m,__asyncDelegator:()=>b,__asyncGenerator:()=>_,__asyncValues:()=>E,__await:()=>S,__awaiter:()=>e,__classPrivateFieldGet:()=>w,__classPrivateFieldSet:()=>R,__createBinding:()=>r,__decorate:()=>a,__exportStar:()=>o,__extends:()=>h,__generator:()=>t,__importDefault:()=>A,__importStar:()=>I,__makeTemplateObject:()=>T,__metadata:()=>i,__param:()=>s,__read:()=>g,__rest:()=>p,__spread:()=>v,__spreadArrays:()=>u,__values:()=>f});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=n(function(P,x){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Z){z.__proto__=Z}||function(z,Z){for(var re in Z)Z.hasOwnProperty(re)&&(z[re]=Z[re])},d(P,x)},"extendStatics");function h(P,x){d(P,x);function z(){this.constructor=P}n(z,"__"),P.prototype=x===null?Object.create(x):(z.prototype=x.prototype,new z)}n(h,"__extends");var m=n(function(){return m=Object.assign||n(function(x){for(var z,Z=1,re=arguments.length;Z<re;Z++){z=arguments[Z];for(var ne in z)Object.prototype.hasOwnProperty.call(z,ne)&&(x[ne]=z[ne])}return x},"__assign"),m.apply(this,arguments)},"__assign");function p(P,x){var z={};for(var Z in P)Object.prototype.hasOwnProperty.call(P,Z)&&x.indexOf(Z)<0&&(z[Z]=P[Z]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,Z=Object.getOwnPropertySymbols(P);re<Z.length;re++)x.indexOf(Z[re])<0&&Object.prototype.propertyIsEnumerable.call(P,Z[re])&&(z[Z[re]]=P[Z[re]]);return z}n(p,"__rest");function a(P,x,z,Z){var re=arguments.length,ne=re<3?x:Z===null?Z=Object.getOwnPropertyDescriptor(x,z):Z,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(P,x,z,Z);else for(var ge=P.length-1;ge>=0;ge--)(he=P[ge])&&(ne=(re<3?he(ne):re>3?he(x,z,ne):he(x,z))||ne);return re>3&&ne&&Object.defineProperty(x,z,ne),ne}n(a,"__decorate");function s(P,x){return function(z,Z){x(z,Z,P)}}n(s,"__param");function i(P,x){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(P,x)}n(i,"__metadata");function e(P,x,z,Z){function re(ne){return ne instanceof z?ne:new z(function(he){he(ne)})}return n(re,"adopt"),new(z||(z=Promise))(function(ne,he){function ge(pt){try{He(Z.next(pt))}catch(Ht){he(Ht)}}n(ge,"fulfilled");function Pe(pt){try{He(Z.throw(pt))}catch(Ht){he(Ht)}}n(Pe,"rejected");function He(pt){pt.done?ne(pt.value):re(pt.value).then(ge,Pe)}n(He,"step"),He((Z=Z.apply(P,x||[])).next())})}n(e,"__awaiter");function t(P,x){var z={label:0,sent:function(){if(ne[0]&1)throw ne[1];return ne[1]},trys:[],ops:[]},Z,re,ne,he;return he={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function ge(He){return function(pt){return Pe([He,pt])}}function Pe(He){if(Z)throw new TypeError("Generator is already executing.");for(;z;)try{if(Z=1,re&&(ne=He[0]&2?re.return:He[0]?re.throw||((ne=re.return)&&ne.call(re),0):re.next)&&!(ne=ne.call(re,He[1])).done)return ne;switch(re=0,ne&&(He=[He[0]&2,ne.value]),He[0]){case 0:case 1:ne=He;break;case 4:return z.label++,{value:He[1],done:!1};case 5:z.label++,re=He[1],He=[0];continue;case 7:He=z.ops.pop(),z.trys.pop();continue;default:if(ne=z.trys,!(ne=ne.length>0&&ne[ne.length-1])&&(He[0]===6||He[0]===2)){z=0;continue}if(He[0]===3&&(!ne||He[1]>ne[0]&&He[1]<ne[3])){z.label=He[1];break}if(He[0]===6&&z.label<ne[1]){z.label=ne[1],ne=He;break}if(ne&&z.label<ne[2]){z.label=ne[2],z.ops.push(He);break}ne[2]&&z.ops.pop(),z.trys.pop();continue}He=x.call(P,z)}catch(pt){He=[6,pt],re=0}finally{Z=ne=0}if(He[0]&5)throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}}n(t,"__generator");function r(P,x,z,Z){Z===void 0&&(Z=z),P[Z]=x[z]}n(r,"__createBinding");function o(P,x){for(var z in P)z!=="default"&&!x.hasOwnProperty(z)&&(x[z]=P[z])}n(o,"__exportStar");function f(P){var x=typeof Symbol=="function"&&Symbol.iterator,z=x&&P[x],Z=0;if(z)return z.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&Z>=P.length&&(P=void 0),{value:P&&P[Z++],done:!P}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")}n(f,"__values");function g(P,x){var z=typeof Symbol=="function"&&P[Symbol.iterator];if(!z)return P;var Z=z.call(P),re,ne=[],he;try{for(;(x===void 0||x-- >0)&&!(re=Z.next()).done;)ne.push(re.value)}catch(ge){he={error:ge}}finally{try{re&&!re.done&&(z=Z.return)&&z.call(Z)}finally{if(he)throw he.error}}return ne}n(g,"__read");function v(){for(var P=[],x=0;x<arguments.length;x++)P=P.concat(g(arguments[x]));return P}n(v,"__spread");function u(){for(var P=0,x=0,z=arguments.length;x<z;x++)P+=arguments[x].length;for(var Z=Array(P),re=0,x=0;x<z;x++)for(var ne=arguments[x],he=0,ge=ne.length;he<ge;he++,re++)Z[re]=ne[he];return Z}n(u,"__spreadArrays");function S(P){return this instanceof S?(this.v=P,this):new S(P)}n(S,"__await");function _(P,x,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=z.apply(P,x||[]),re,ne=[];return re={},he("next"),he("throw"),he("return"),re[Symbol.asyncIterator]=function(){return this},re;function he(Ke){Z[Ke]&&(re[Ke]=function(it){return new Promise(function(ct,rt){ne.push([Ke,it,ct,rt])>1||ge(Ke,it)})})}function ge(Ke,it){try{Pe(Z[Ke](it))}catch(ct){Ht(ne[0][3],ct)}}function Pe(Ke){Ke.value instanceof S?Promise.resolve(Ke.value.v).then(He,pt):Ht(ne[0][2],Ke)}function He(Ke){ge("next",Ke)}function pt(Ke){ge("throw",Ke)}function Ht(Ke,it){Ke(it),ne.shift(),ne.length&&ge(ne[0][0],ne[0][1])}}n(_,"__asyncGenerator");function b(P){var x,z;return x={},Z("next"),Z("throw",function(re){throw re}),Z("return"),x[Symbol.iterator]=function(){return this},x;function Z(re,ne){x[re]=P[re]?function(he){return(z=!z)?{value:S(P[re](he)),done:re==="return"}:ne?ne(he):he}:ne}}n(b,"__asyncDelegator");function E(P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=P[Symbol.asyncIterator],z;return x?x.call(P):(P=typeof f=="function"?f(P):P[Symbol.iterator](),z={},Z("next"),Z("throw"),Z("return"),z[Symbol.asyncIterator]=function(){return this},z);function Z(ne){z[ne]=P[ne]&&function(he){return new Promise(function(ge,Pe){he=P[ne](he),re(ge,Pe,he.done,he.value)})}}function re(ne,he,ge,Pe){Promise.resolve(Pe).then(function(He){ne({value:He,done:ge})},he)}}n(E,"__asyncValues");function T(P,x){return Object.defineProperty?Object.defineProperty(P,"raw",{value:x}):P.raw=x,P}n(T,"__makeTemplateObject");function I(P){if(P&&P.__esModule)return P;var x={};if(P!=null)for(var z in P)Object.hasOwnProperty.call(P,z)&&(x[z]=P[z]);return x.default=P,x}n(I,"__importStar");function A(P){return P&&P.__esModule?P:{default:P}}n(A,"__importDefault");function w(P,x){if(!x.has(P))throw new TypeError("attempted to get private field on non-instance");return x.get(P)}n(w,"__classPrivateFieldGet");function R(P,x,z){if(!x.has(P))throw new TypeError("attempted to set private field on non-instance");return x.set(P,z),z}n(R,"__classPrivateFieldSet")},5037727051:function(V,l,c){var d;(function(h,m){"use strict";var p="1.0.40",a="",s="?",i="function",e="undefined",t="object",r="string",o="major",f="model",g="name",v="type",u="vendor",S="version",_="architecture",b="console",E="mobile",T="tablet",I="smarttv",A="wearable",w="embedded",R=500,P="Amazon",x="Apple",z="ASUS",Z="BlackBerry",re="Browser",ne="Chrome",he="Edge",ge="Firefox",Pe="Google",He="Huawei",pt="LG",Ht="Microsoft",Ke="Motorola",it="Opera",ct="Samsung",rt="Sharp",_t="Sony",Gt="Xiaomi",Kt="Zebra",Ye="Facebook",Xe="Chromium OS",It="Mac OS",kt=" Browser",gt=n(function(_n,An){var sn={};for(var Q in _n)An[Q]&&An[Q].length%2===0?sn[Q]=An[Q].concat(_n[Q]):sn[Q]=_n[Q];return sn},"extend"),En=n(function(_n){for(var An={},sn=0;sn<_n.length;sn++)An[_n[sn].toUpperCase()]=_n[sn];return An},"enumerize"),pn=n(function(_n,An){return typeof _n===r?wn(An).indexOf(wn(_n))!==-1:!1},"has"),wn=n(function(_n){return _n.toLowerCase()},"lowerize"),zn=n(function(_n){return typeof _n===r?_n.replace(/[^\d\.]/g,a).split(".")[0]:m},"majorize"),Qn=n(function(_n,An){if(typeof _n===r)return _n=_n.replace(/^\s\s*/,a),typeof An===e?_n:_n.substring(0,R)},"trim"),Sn=n(function(_n,An){for(var sn=0,Q,lt,mt,bt,At,Wt;sn<An.length&&!At;){var we=An[sn],ht=An[sn+1];for(Q=lt=0;Q<we.length&&!At&&we[Q];)if(At=we[Q++].exec(_n),At)for(mt=0;mt<ht.length;mt++)Wt=At[++lt],bt=ht[mt],typeof bt===t&&bt.length>0?bt.length===2?typeof bt[1]==i?this[bt[0]]=bt[1].call(this,Wt):this[bt[0]]=bt[1]:bt.length===3?typeof bt[1]===i&&!(bt[1].exec&&bt[1].test)?this[bt[0]]=Wt?bt[1].call(this,Wt,bt[2]):m:this[bt[0]]=Wt?Wt.replace(bt[1],bt[2]):m:bt.length===4&&(this[bt[0]]=Wt?bt[3].call(this,Wt.replace(bt[1],bt[2])):m):this[bt]=Wt||m;sn+=2}},"rgxMapper"),Zn=n(function(_n,An){for(var sn in An)if(typeof An[sn]===t&&An[sn].length>0){for(var Q=0;Q<An[sn].length;Q++)if(pn(An[sn][Q],_n))return sn===s?m:sn}else if(pn(An[sn],_n))return sn===s?m:sn;return An.hasOwnProperty("*")?An["*"]:_n},"strMapper"),lr={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ui={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},fi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,S],[/opios[\/ ]+([\w\.]+)/i],[S,[g,it+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[S,[g,it+" GX"]],[/\bopr\/([\w\.]+)/i],[S,[g,it]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[S,[g,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[S,[g,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,S],[/quark(?:pc)?\/([-\w\.]+)/i],[S,[g,"Quark"]],[/\bddg\/([\w\.]+)/i],[S,[g,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[g,"UC"+re]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[S,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[S,[g,"Smart Lenovo "+re]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+re],S],[/\bfocus\/([\w\.]+)/i],[S,[g,ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[g,it+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[g,it+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[g,"MIUI"+kt]],[/fxios\/([\w\.-]+)/i],[S,[g,ge]],[/\bqihoobrowser\/?([\w\.]*)/i],[S,[g,"360"]],[/\b(qq)\/([\w\.]+)/i],[[g,/(.+)/,"$1Browser"],S],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1"+kt],S],[/samsungbrowser\/([\w\.]+)/i],[S,[g,ct+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[S,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[g,S],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[g],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[S,g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,Ye],S],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[g,ne+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,ne+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[g,"Android "+re]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,S],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[S,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[S,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[S,Zn,lr]],[/(webkit|khtml)\/([\w\.]+)/i],[g,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],S],[/(wolvic|librewolf)\/([\w\.]+)/i],[g,S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[g,ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,[S,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[g,[S,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,wn]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,a,wn]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,wn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[u,ct],[v,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[u,ct],[v,E]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[u,x],[v,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[u,x],[v,T]],[/(macintosh);/i],[f,[u,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[u,rt],[v,E]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[u,"Honor"],[v,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[u,He],[v,T]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[u,He],[v,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[u,Gt],[v,E]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[u,Gt],[v,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[u,"OPPO"],[v,E]],[/\b(opd2\d{3}a?) bui/i],[f,[u,"OPPO"],[v,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[u,"Vivo"],[v,E]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[u,"Realme"],[v,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[u,Ke],[v,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[u,Ke],[v,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[u,pt],[v,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[u,pt],[v,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[u,"Lenovo"],[v,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[u,"Nokia"],[v,E]],[/(pixel c)\b/i],[f,[u,Pe],[v,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[u,Pe],[v,E]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[u,_t],[v,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[u,_t],[v,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[u,"OnePlus"],[v,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[u,P],[v,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[u,P],[v,E]],[/(playbook);[-\w\),; ]+(rim)/i],[f,u,[v,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[u,Z],[v,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[u,z],[v,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[u,z],[v,E]],[/(nexus 9)/i],[f,[u,"HTC"],[v,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[u,[f,/_/g," "],[v,E]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[u,"TCL"],[v,T]],[/(itel) ((\w+))/i],[[u,wn],f,[v,Zn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[u,"Acer"],[v,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[u,"Meizu"],[v,E]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[u,"Ulefone"],[v,E]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[u,"Energizer"],[v,E]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[u,"Cat"],[v,E]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[u,"Smartfren"],[v,E]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[u,"Nothing"],[v,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,f,[v,E]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,f,[v,T]],[/(surface duo)/i],[f,[u,Ht],[v,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[u,"Fairphone"],[v,E]],[/(u304aa)/i],[f,[u,"AT&T"],[v,E]],[/\bsie-(\w*)/i],[f,[u,"Siemens"],[v,E]],[/\b(rct\w+) b/i],[f,[u,"RCA"],[v,T]],[/\b(venue[\d ]{2,7}) b/i],[f,[u,"Dell"],[v,T]],[/\b(q(?:mv|ta)\w+) b/i],[f,[u,"Verizon"],[v,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[u,"Barnes & Noble"],[v,T]],[/\b(tm\d{3}\w+) b/i],[f,[u,"NuVision"],[v,T]],[/\b(k88) b/i],[f,[u,"ZTE"],[v,T]],[/\b(nx\d{3}j) b/i],[f,[u,"ZTE"],[v,E]],[/\b(gen\d{3}) b.+49h/i],[f,[u,"Swiss"],[v,E]],[/\b(zur\d{3}) b/i],[f,[u,"Swiss"],[v,T]],[/\b((zeki)?tb.*\b) b/i],[f,[u,"Zeki"],[v,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],f,[v,T]],[/\b(ns-?\w{0,9}) b/i],[f,[u,"Insignia"],[v,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[u,"NextBook"],[v,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],f,[v,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],f,[v,E]],[/\b(ph-1) /i],[f,[u,"Essential"],[v,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[u,"Envizen"],[v,T]],[/\b(trio[-\w\. ]+) b/i],[f,[u,"MachSpeed"],[v,T]],[/\btu_(1491) b/i],[f,[u,"Rotor"],[v,T]],[/(shield[\w ]+) b/i],[f,[u,"Nvidia"],[v,T]],[/(sprint) (\w+)/i],[u,f,[v,E]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[u,Ht],[v,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[u,Kt],[v,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[u,Kt],[v,E]],[/smart-tv.+(samsung)/i],[u,[v,I]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[u,ct],[v,I]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,pt],[v,I]],[/(apple) ?tv/i],[u,[f,x+" TV"],[v,I]],[/crkey/i],[[f,ne+"cast"],[u,Pe],[v,I]],[/droid.+aft(\w+)( bui|\))/i],[f,[u,P],[v,I]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[u,rt],[v,I]],[/(bravia[\w ]+)( bui|\))/i],[f,[u,_t],[v,I]],[/(mitv-\w{5}) bui/i],[f,[u,Gt],[v,I]],[/Hbbtv.*(technisat) (.*);/i],[u,f,[v,I]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[u,Qn],[f,Qn],[v,I]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,f,[v,b]],[/droid.+; (shield) bui/i],[f,[u,"Nvidia"],[v,b]],[/(playstation [345portablevi]+)/i],[f,[u,_t],[v,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[u,Ht],[v,b]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[u,ct],[v,A]],[/((pebble))app/i],[u,f,[v,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[u,x],[v,A]],[/droid.+; (glass) \d/i],[f,[u,Pe],[v,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[u,Kt],[v,A]],[/droid.+; (glass) \d/i],[f,[u,Pe],[v,A]],[/(pico) (4|neo3(?: link|pro)?)/i],[u,f,[v,A]],[/; (quest( \d| pro)?)/i],[f,[u,Ye],[v,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[v,w]],[/(aeobc)\b/i],[f,[u,P],[v,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[v,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[v,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,E]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[g,he+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[g,S],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,S],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[g,[S,Zn,ui]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,Zn,ui],[g,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,It],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,S],[/\(bb(10);/i],[S,[g,Z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[g,ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[S,[g,ne+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,Xe],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,S],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,S]]},Vn=n(function(_n,An){if(typeof _n===t&&(An=_n,_n=m),!(this instanceof Vn))return new Vn(_n,An).getResult();var sn=typeof h!==e&&h.navigator?h.navigator:m,Q=_n||(sn&&sn.userAgent?sn.userAgent:a),lt=sn&&sn.userAgentData?sn.userAgentData:m,mt=An?gt(fi,An):fi,bt=sn&&sn.userAgent==Q;return this.getBrowser=function(){var At={};return At[g]=m,At[S]=m,Sn.call(At,Q,mt.browser),At[o]=zn(At[S]),bt&&sn&&sn.brave&&typeof sn.brave.isBrave==i&&(At[g]="Brave"),At},this.getCPU=function(){var At={};return At[_]=m,Sn.call(At,Q,mt.cpu),At},this.getDevice=function(){var At={};return At[u]=m,At[f]=m,At[v]=m,Sn.call(At,Q,mt.device),bt&&!At[v]&&lt&&lt.mobile&&(At[v]=E),bt&&At[f]=="Macintosh"&&sn&&typeof sn.standalone!==e&&sn.maxTouchPoints&&sn.maxTouchPoints>2&&(At[f]="iPad",At[v]=T),At},this.getEngine=function(){var At={};return At[g]=m,At[S]=m,Sn.call(At,Q,mt.engine),At},this.getOS=function(){var At={};return At[g]=m,At[S]=m,Sn.call(At,Q,mt.os),bt&&!At[g]&&lt&&lt.platform&&lt.platform!="Unknown"&&(At[g]=lt.platform.replace(/chrome os/i,Xe).replace(/macos/i,It)),At},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Q},this.setUA=function(At){return Q=typeof At===r&&At.length>R?Qn(At,R):At,this},this.setUA(Q),this},"UAParser");Vn.VERSION=p,Vn.BROWSER=En([g,S,o]),Vn.CPU=En([_]),Vn.DEVICE=En([f,u,v,b,E,I,T,A,w]),Vn.ENGINE=Vn.OS=En([g,S]),typeof l!==e?(e!=="object"&&V.exports&&(l=V.exports=Vn),l.UAParser=Vn):i==="function"&&c.amdO?(d=function(){return Vn}.call(l,c,l,V),d!==m&&(V.exports=d)):typeof h!==e&&(h.UAParser=Vn);var In=typeof h!==e&&(h.jQuery||h.Zepto);if(In&&!In.ua){var wi=new Vn;In.ua=wi.getResult(),In.ua.get=function(){return wi.getUA()},In.ua.set=function(_n){wi.setUA(_n);var An=wi.getResult();for(var sn in An)In.ua[sn]=An[sn]}}})(typeof window=="object"?window:this)},4598598477:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(5790858051));let p=n(class{needUpdate(s){return this.activeSpeakers?this.speakerScores[s]===0&&this.activeSpeakers.includes(s)||this.speakerScores[s]>0&&!this.activeSpeakers.includes(s):!0}updateActiveSpeakers(s,i,e){if(!this.needUpdate(e))return;const t=[],r=Object.keys(this.speakerScores);for(let u=0;u<r.length;u++){const S=r[u];t.push({attendeeId:S,activeScore:this.speakerScores[S]})}const o=t.sort((u,S)=>S.activeScore-u.activeScore).filter(function(u){return u.activeScore>0}).map(function(u){return u.attendeeId});this.activeSpeakers=o,i(o);const g=o.length>0&&o[0]===this.selfAttendeeId&&s.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==g&&(this.hasBandwidthPriority=g,this.hasBandwidthPriorityCallback(g))}updateScore(s,i,e,t,r){const o=s.calculateScore(e,t,r);this.speakerScores[e]!==o&&(this.speakerScores[e]=o,this.mostRecentUpdateTimestamp[e]=Date.now(),this.updateActiveSpeakers(s,i,e))}subscribe(s,i,e,t){const r=n((f,g)=>{if(!g){this.speakerScores[f]=0,this.mostRecentUpdateTimestamp[f]=Date.now(),this.updateActiveSpeakers(s,i,f);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(f,(v,u,S,_)=>{this.mostRecentUpdateTimestamp[v]=Date.now(),S!==null&&(this.speakerMuteState[v]=S),this.updateScore(s,i,v,u,S)})},"handler");this.detectorCallbackToHandler.set(i,r);const o=new m.default(this.updateIntervalMs);if(o.start(()=>{for(const f in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[f]>this.waitIntervalMs&&this.updateScore(s,i,f,0,this.speakerMuteState[f])}),this.detectorCallbackToActivityTimer.set(i,o),e&&t){const f=new m.default(t);f.start(()=>{e(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(i,f)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(r)}unsubscribe(s){const i=this.detectorCallbackToHandler.get(s);this.detectorCallbackToHandler.delete(s),i&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i);const e=this.detectorCallbackToActivityTimer.get(s);e&&(e.stop(),this.detectorCallbackToActivityTimer.delete(s));const t=this.detectorCallbackToScoresTimer.get(s);t&&(t.stop(),this.detectorCallbackToHandler.delete(s))}destroy(){return d(this,void 0,void 0,function*(){for(const s of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(s);for(const s of this.detectorCallbackToActivityTimer.values())s.stop();for(const s of this.detectorCallbackToScoresTimer.values())s.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(s,i,e,t=1e3,r=200){this.realtimeController=s,this.selfAttendeeId=i,this.hasBandwidthPriorityCallback=e,this.waitIntervalMs=t,this.updateIntervalMs=r,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");l.default=p},6343016045:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{calculateScore(h,m,p){(p||m===null)&&(m=0),this.volumes.hasOwnProperty(h)||(this.volumes[h]=0),m>this.silenceThreshold?m=1:m=0;const a=this.volumes[h]*this.speakerWeight+m*(1-this.speakerWeight);this.volumes[h]=a;for(const s in this.volumes)s!==h&&(this.volumes[s]=Math.max(this.volumes[s]-this.takeoverRate*m,0));return a<this.cutoffThreshold?0:a}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(h=.9,m=.01,p=.2,a=.2){this.speakerWeight=h,this.cutoffThreshold=m,this.silenceThreshold=p,this.takeoverRate=a,this.volumes={}}},"DefaultActiveSpeakerPolicy");l.default=c},326556152:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Nv{static create(h,m){const p=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!h||h.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!p.test(h))throw new Error(`appName must satisfy ${p} regular expression`);const a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!m||m.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!a.test(m))throw new Error("appVersion must satisfy Semantic Versioning format");return new Nv(h,m)}constructor(h,m){this.appName=h,this.appVersion=m}},"ApplicationMetadata");l.default=c},6922010698:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"Attendee");l.default=c},2988320011:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9445576035)),p=h(c(3066440630));let a=n(class{bindAudioElement(i){return d(this,void 0,void 0,function*(){if(!i)throw new Error(`Cannot bind audio element: ${i}`);return this.audioElement=i,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(i=>{this.audioStream&&i.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(i){return d(this,void 0,void 0,function*(){if(i){this.audioStream=i;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}})}bindAudioDevice(i){return d(this,void 0,void 0,function*(){if(i&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=i,this.bindAudioMix()})}forEachObserver(i){for(const e of this.observers)p.default.nextTick(()=>{i(e)})}bindAudioMix(){var i,e;return d(this,void 0,void 0,function*(){if(!this.audioElement)return;const t=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),t!==this.audioStream&&this.forEachObserver(u=>{t&&u.meetingAudioStreamBecameInactive(t),this.audioStream&&u.meetingAudioStreamBecameActive(this.audioStream)});const r=((i=this.audioDevice)===null||i===void 0?void 0:i.deviceId)!==this.audioElement.sinkId;if(r&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const o=this.audioDevice?this.audioDevice.deviceId:"",f=this.audioElement.sinkId;if(o===f)return;const g=this.audioElement,v=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=null),r)try{yield g.setSinkId(o)}catch(u){throw(e=this.logger)===null||e===void 0||e.error(`Failed to set sinkId for audio element: ${u}`),u}this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=v)})}getCurrentMeetingAudioStream(){return d(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(i){return d(this,void 0,void 0,function*(){this.observers.add(i)})}removeAudioMixObserver(i){return d(this,void 0,void 0,function*(){this.observers.delete(i)})}audioOutputDidChange(i){return d(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(i)})}constructor(i){this.logger=i,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new m.default,this.observers=new Set}},"DefaultAudioMixController");l.default=a},8288024884:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9445576035));let m=n(class vp{static fullbandSpeechMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new vp(4e4,a)}static fullbandMusicMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new vp(64e3,a)}static fullbandMusicStereo(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new vp(128e3,a)}isStereo(){return this.audioBitrateBps===128e3}hasRedundancyEnabled(){return this.enableAudioRedundancy}constructor(a=null,s=!0){this.audioBitrateBps=a,this.enableAudioRedundancy=new h.default().supportsAudioRedundancy()&&s}},"AudioProfile");l.default=m},8511085217:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let c=n(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null,this.isSessionConnected=!1}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=l.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.prioritizedSendVideoCodecCapabilities=[],this.degradedVideoSendCodecs=[],this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.enableSVC=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null,this.isSessionConnected=!1}},"AudioVideoControllerState");l.default=c},8377273355:function(V,l,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(K,se,Ve,Be){Be===void 0&&(Be=Ve),Object.defineProperty(K,Be,{enumerable:!0,get:function(){return se[Ve]}})}:function(K,se,Ve,Be){Be===void 0&&(Be=Ve),K[Be]=se[Ve]}),h=this&&this.__setModuleDefault||(Object.create?function(K,se){Object.defineProperty(K,"default",{enumerable:!0,value:se})}:function(K,se){K.default=se}),m=this&&this.__importStar||function(K){if(K&&K.__esModule)return K;var se={};if(K!=null)for(var Ve in K)Ve!=="default"&&Object.prototype.hasOwnProperty.call(K,Ve)&&d(se,K,Ve);return h(se,K),se},p=this&&this.__awaiter||function(K,se,Ve,Be){function Yt(yt){return yt instanceof Ve?yt:new Ve(function(Bt){Bt(yt)})}return n(Yt,"adopt"),new(Ve||(Ve=Promise))(function(yt,Bt){function ke(Fe){try{B(Be.next(Fe))}catch(fe){Bt(fe)}}n(ke,"fulfilled");function Je(Fe){try{B(Be.throw(Fe))}catch(fe){Bt(fe)}}n(Je,"rejected");function B(Fe){Fe.done?yt(Fe.value):Yt(Fe.value).then(ke,Je)}n(B,"step"),B((Be=Be.apply(K,se||[])).next())})},a=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(c(4598598477)),i=a(c(2988320011)),e=a(c(8288024884)),t=a(c(9445576035)),r=a(c(5392261736)),o=a(c(2116171594)),f=a(c(2425311569)),g=a(c(1984577674)),v=a(c(946491843)),u=a(c(1253588984)),S=a(c(1594701503)),_=a(c(6366559347)),b=a(c(9226780571)),E=a(c(3066440630)),T=a(c(7593524919)),I=a(c(2327502190)),A=a(c(7593441017)),w=a(c(1356788254)),R=a(c(6044373597)),P=m(c(1382242439)),x=a(c(6103584604)),z=a(c(9197136208)),Z=c(7613896012),re=a(c(6181421370)),ne=a(c(8563305537)),he=a(c(4989012661)),ge=a(c(957321624)),Pe=a(c(9342672808)),He=a(c(7771209539)),pt=a(c(4998646945)),Ht=a(c(1413840948)),Ke=a(c(9994936499)),it=a(c(611997860)),ct=a(c(785230680)),rt=a(c(9157601162)),_t=a(c(3087911396)),Gt=a(c(6062681936)),Kt=a(c(4105188829)),Ye=a(c(980450337)),Xe=a(c(6919336366)),It=a(c(5242313998)),kt=a(c(7157971720)),gt=a(c(467935533)),En=a(c(5016494749)),pn=a(c(4152019840)),wn=a(c(9957505777)),zn=a(c(2985830925)),Qn=a(c(7677781501)),Sn=a(c(6895064603)),Zn=a(c(523374695)),lr=a(c(5814267651)),ui=a(c(6239767259)),fi=c(9671487336),Vn=a(c(8942355099)),In=a(c(4731147871)),wi=a(c(9450249395)),_n=c(3711281607),An=a(c(6054180211)),sn=a(c(543972823)),Q=a(c(9066329271)),lt=a(c(8233988265)),mt=a(c(8325297075)),bt=a(c(3752202768)),At=a(c(2952249532)),Wt=a(c(247134931)),we=a(c(8511085217));let ht=n(class Sp{destroy(){return p(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new s.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(se){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(se):null}setAudioProfile(se){this._audioProfile=se}addObserver(se){this.logger.info("adding meeting observer"),this.observerQueue.add(se)}removeObserver(se){this.logger.info("removing meeting observer"),this.observerQueue.delete(se)}forEachObserver(se){for(const Ve of this.observerQueue)E.default.nextTick(()=>{this.observerQueue.has(Ve)&&se(Ve)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new we.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new t.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new R.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const se=n(()=>p(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(Ve){Ve.type===x.default.WebSocketClosed&&se()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(se=>{this.logger.error(`Signaling task pre-start failed: ${se}`),this.signalingTask=void 0})}start(se){this.startReturningPromise(se).then(()=>{this.logger.info("start completed")}).catch(Ve=>{this.logger.error(`start failed: ${Ve}`)})}startReturningPromise(se){return(se==null?void 0:se.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Ve,Be)=>{this.sessionStateController.perform(I.default.Connect,()=>{this.actionConnect(!1).then(Ve).catch(Be)})}))}connectWithPromises(se){const Ve=this.meetingSessionContext,Be=n((ee,Et)=>new zn.default(this.logger,Et,ee),"timeout");this.monitorTask=new ct.default(Ve,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const Yt=this.monitorTask.once(),yt=new Kt.default(Ve).once();this.receiveIndexTask=new It.default(Ve),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const Bt=new gt.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new it.default(Ve),new kt.default(Ve),new Ht.default(Ve),this.receiveIndexTask]).once(),ke=new Pe.default(Ve).once(Bt),Je=new ne.default(Ve).once(ke,yt),B=new He.default(Ve).once(Je),Fe=new En.default(Ve).once(B),fe=new pt.default(Ve).once(Fe),ve=new wn.default(Ve).once(fe);return this.receiveRemotePauseResumeTask=new Ye.default(Ve),this.receiveRemotePauseResumeTask.once(ve),new gt.default(this.logger,this.wrapTaskName("AudioVideoStart"),[Yt,Be(this.configuration.connectionTimeoutMs,new gt.default(this.logger,"Peer",[ve,this.receiveRemotePauseResumeTask,se?new zn.default(this.logger,new _t.default(this.logger,"FinalizeConnection",[new Qn.default(Ve),new pn.default(Ve)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new pn.default(Ve)]))])}actionConnect(se){var Ve;return p(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new t.default().hasChromiumWebRTC(),this.enableSimulcast&&this.configuration.enableSVC&&this.logger.warn("SVC cannot be enabled at the same time as simulcast. Disabling SVC, using simulcast."),this.enableSVC=!this.enableSimulcast&&this.configuration.enableSVC&&new t.default().supportsScalableVideoCoding();const Be=!!this.configuration.urls.audioHostURL;if(Be?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new S.default(this.configuration.credentials.attendeeId).hasModality(S.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Zn.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new lr.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new Sn.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new ui.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new Wt.default(this.logger,this._realtimeController,Sp.MIN_VOLUME_DECIBELS,Sp.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.meetingSessionContext.enableSVC=this.enableSVC,this.enableSimulcast){let Bt=this.meetingSessionContext.videoUplinkBandwidthPolicy;Bt||(Bt=new bt.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=Bt),Bt.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new wi.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new Q.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new sn.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new At.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.videoUplinkBandwidthPolicy.setSVCEnabled(this.enableSVC)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new In.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;if(new S.default(this.configuration.credentials.attendeeId).hasModality(S.default.MODALITY_CONTENT)){const Bt=this.configuration.meetingFeatures.contentMaxResolution===f.default.VideoResolutionUHD;Bt&&this.setVideoMaxBandwidthKbps(2500),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Bt)}else{const Bt=this.configuration.meetingFeatures.videoMaxResolution===f.default.VideoResolutionFHD;this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Bt)}this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new u.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new Vn.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new An.default,this.meetingSessionContext.videosPaused=new An.default,this.meetingSessionContext.statsCollector=new re.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new o.default(this,this._realtimeController,this.connectionHealthData,new _.default(this.meetingSessionContext.signalingClient,Sp.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},this._videoTileController.registerVideoTileResolutionObserver(this.meetingSessionContext.statsCollector),se||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(Bt=>{fi.Maybe.of(Bt.audioVideoDidStartConnecting).map(ke=>ke.bind(Bt)(!1))}),(Ve=this.eventController)===null||Ve===void 0||Ve.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const Yt=Be&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+Yt);const yt=this.connectWithPromises(Yt);try{yield yt.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(I.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(Bt){this.signalingTask=void 0;const ke=new g.default(this.getMeetingStatusCode(Bt)||v.default.TaskFailed);if(this.logger.info(`Start failed: ${ke} due to error ${Bt}.`),this.sessionStateController.state()===A.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(I.default.Fail,()=>p(this,void 0,void 0,function*(){yield this.actionDisconnect(ke,!0,Bt),this.handleMeetingSessionStatus(ke,Bt)||this.notifyStop(ke,Bt)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new zn.default(this.logger,new rt.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=Z.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.meetingSessionContext.isSessionConnected=!0,this.forEachObserver(se=>{fi.Maybe.of(se.audioVideoDidStart).map(Ve=>Ve.bind(se)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var se;return this._reconnectController.disableReconnect(),this.sessionStateController.state()===A.default.NotConnected?((se=this.meetingSessionContext.signalingClient)===null||se===void 0||se.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Ve,Be)=>{this.sessionStateController.perform(I.default.Disconnect,()=>{this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new g.default(v.default.Left),!1,null).then(Ve).catch(Be)})})}stop(){this.stopReturningPromise()}actionDisconnect(se,Ve,Be){return p(this,void 0,void 0,function*(){try{yield new gt.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new zn.default(this.logger,new Ke.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const Yt=[new zn.default(this.logger,new ge.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new gt.default(this.logger,this.wrapTaskName("AudioVideoClean"),Yt).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(I.default.FinishDisconnecting,()=>{Ve||this.notifyStop(se,Be)}),this._videoTileController.removeVideoTileResolutionObserver(this.meetingSessionContext.statsCollector)})}update(){let Ve=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(Ve||(Ve=this.meetingSessionContext.peer===void 0),Ve||(Ve=!this.updateRemoteVideosFromPolicy()),Ve||(Ve=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Ve)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Be=this.sessionStateController.perform(I.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Be===w.default.Transitioned||Be===w.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!P.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===P.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const se=this.detectChangesInVideosToReceive();if(se===void 0)return!1;const Ve=se.added,Be=se.simulcastStreamUpdates,Yt=se.removed,yt=this.meetingSessionContext,Bt=[];for(const[ke,Je]of Be.entries()){const B=new z.default;if(B.streamId=Je,B.attendeeId=yt.videoStreamIndex.attendeeIdForStreamId(Je),B.mid=yt.transceiverController.getMidForStreamId(ke),B.mid===void 0)return this.logger.info(`No MID found for stream ID ${ke}, cannot update stream without renegotiation`),!1;if(Bt.push(B),yt.transceiverController.setStreamIdForMid(B.mid,Je),yt.videoStreamIndex.overrideStreamIdMappings(ke,Je),yt.videoTileController.haveVideoTileForAttendeeId(B.attendeeId)){const Fe=yt.videoTileController.getVideoTileForAttendeeId(B.attendeeId);if(!Fe.setStreamId)return!1;Fe.setStreamId(Je)}}return Bt.length!==0&&yt.signalingClient.remoteVideoUpdate(Bt,[]),Ve.length!==0||Yt.length!==0?!1:(yt.videoStreamIndex.remoteVideoUpdateSent(),!0)}detectChangesInVideosToReceive(){const se=this.meetingSessionContext;if(se.videosToReceive===null||!se.transceiverController||!se.transceiverController.getMidForStreamId||!se.transceiverController.setStreamIdForMid||!se.videosToReceive.forEach||!se.signalingClient.remoteVideoUpdate||!se.videoStreamIndex.overrideStreamIdMappings)return;let Ve=[];const Be=new Map;let Yt=[];if(se.lastVideosToReceive===null)Ve=se.videosToReceive.array();else{const yt=se.videoStreamIndex;se.videosToReceive.forEach(Bt=>{if(se.lastVideosToReceive.contain(Bt))return;let ke=!1;se.lastVideosToReceive.forEach(Je=>{ke||yt.StreamIdsInSameGroup(Je,Bt)&&(Be.set(Je,Bt),ke=!0)}),ke||Ve.push(Bt)}),Yt=se.lastVideosToReceive.array().filter(Bt=>{const ke=se.videosToReceive.contain(Bt),Je=Be.has(Bt);return!ke&&!Je})}return this.logger.info(`Request to update remote videos with added: [${Ve}], updated: [${Array.from(Be.entries()).map(yt=>{let[Bt,ke]=yt;return`${Bt}->${ke}`}).join(",")}], removed: [${Yt}]`),{added:Ve,removed:Yt,simulcastStreamUpdates:Be}}isNotAddingOrRemovingStreams(){const se=this.detectChangesInVideosToReceive();if(se===void 0)return!1;const Ve=se.added,Be=se.removed;return Ve.length!==0||Be.length!==0?!1:(this.meetingSessionContext.videoStreamIndex.remoteVideoUpdateSent(),!0)}sendRemoteVideoUpdate(){const se=this.meetingSessionContext;if(se.videosToReceive===null)return!1;const Ve=se.videosToReceive.array().map(ke=>se.videoStreamIndex.groupIdForStreamId(ke));this.receiveRemotePauseResumeTask.updateSubscribedGroupdIds(new Set(Ve));const Be=_n.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(se,Ve,se.videoDownlinkBandwidthPolicy.getVideoPreferences()),Yt=new Map,yt=[];for(const ke of Be){let Je=!1;if(!se.lastVideoSubscriptionConfiguration.has(ke.groupId))Je=!0;else{const B=se.lastVideoSubscriptionConfiguration.get(ke.groupId);ke.equals(B)||(this.logger.debug(`${JSON.stringify(ke)} does not equal ${JSON.stringify(B)}, sending update`),Je=!0)}Yt.set(ke.groupId,ke),Je&&yt.push(ke)}se.lastVideoSubscriptionConfiguration=Yt;const Bt=[];if(se.lastVideosToReceive!==null){const ke=new Set(Ve);for(const Je of se.lastVideosToReceive.array()){const B=se.videoStreamIndex.groupIdForStreamId(Je);if(!ke.has(B)){const Fe=se.transceiverController.getMidForGroupId(B);if(Fe===void 0){se.logger.warn(`Could not find MID for group ID to remove: ${B}`);continue}Bt.push(Fe)}}}return(yt.length!==0||Bt.length!==0)&&se.signalingClient.remoteVideoUpdate(yt,Bt),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const se=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&this.meetingSessionContext.transceiverController.hasVideoInput()&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(se)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const se=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!se||!se.headerExtensions?!1:se.headerExtensions.some(Ve=>Ve.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(se){const Ve=n(()=>p(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),se()}),"restartVideo"),Be=this.sessionStateController.perform(I.default.Update,()=>{Ve()});return Be===w.default.Transitioned||Be===w.default.DeferredTransition}replaceLocalVideo(se){return p(this,void 0,void 0,function*(){if(!se||se.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Ve=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Ve){const Be=Ve.state(),Yt=se.getVideoTracks()[0].getSettings();Ve.bindVideoStream(Be.boundAttendeeId,!0,se,Yt.width,Yt.height,Be.streamId,Be.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(se.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=se,this.logger.info("Local video input is updated")})}replaceLocalAudio(se){return p(this,void 0,void 0,function*(){if(!se||se.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(se.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=se,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(se){return p(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new gt.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new Xe.default(this.meetingSessionContext),new zn.default(this.logger,new gt.default(this.logger,"UpdateSession",[new ne.default(this.meetingSessionContext),new He.default(this.meetingSessionContext),new En.default(this.meetingSessionContext),new pt.default(this.meetingSessionContext),new wn.default(this.meetingSessionContext),new pn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),se&&this.sessionStateController.perform(I.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Ve){this.sessionStateController.perform(I.default.FinishUpdating,()=>{const Be=new g.default(this.getMeetingStatusCode(Ve)||v.default.TaskFailed);Be.statusCode()!==v.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Be,Ve)})}})}notifyStop(se,Ve){var Be;if(this.forEachObserver(Yt=>{fi.Maybe.of(Yt.audioVideoDidStop).map(yt=>yt.bind(Yt)(se))}),this.eventController){const{signalingOpenDurationMs:Yt,poorConnectionCount:yt,startTimeMs:Bt,iceGatheringDurationMs:ke,attendeePresenceDurationMs:Je,meetingStartDurationMs:B}=this.meetingSessionContext,Fe={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Bt===null?0:Math.round(Date.now()-Bt),meetingStatus:v.default[se.statusCode()],signalingOpenDurationMs:Yt,iceGatheringDurationMs:ke,attendeePresenceDurationMs:Je,poorConnectionCount:yt,meetingStartDurationMs:B,retryCount:this.totalRetryCount},fe=Ve&&Ve.message||((Be=se.toString)===null||Be===void 0?void 0:Be.call(se))||"";Fe.meetingDurationMs===0?(Fe.meetingErrorMessage=fe,delete Fe.meetingDurationMs,delete Fe.attendeePresenceDurationMs,delete Fe.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",Fe)):se.isFailure()||se.isAudioConnectionFailure()?(Fe.meetingErrorMessage=fe,this.eventController.publishEvent("meetingFailed",Fe)):this.eventController.publishEvent("meetingEnded",Fe)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const se=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(se)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(se,Ve){this.promotedToPrimaryMeeting&&(this.promotedToPrimaryMeeting=!1,this.forEachObserver(Yt=>{fi.Maybe.of(Yt.audioVideoWasDemotedFromPrimaryMeeting).map(yt=>yt.bind(Yt)(new g.default(v.default.AudioVideoDisconnectedWhilePromoted)))}));const Be=this._reconnectController.retryWithBackoff(()=>p(this,void 0,void 0,function*(){this.sessionStateController.state()===A.default.NotConnected?this.sessionStateController.perform(I.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(I.default.Reconnect,()=>{this.actionReconnect(se)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Be||this.sessionStateController.perform(I.default.Fail,()=>{this.actionDisconnect(se,!1,Ve)}),Be}actionReconnect(se){return p(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Ve=>{fi.Maybe.of(Ve.audioVideoDidStartConnecting).map(Be=>Be.bind(Ve)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset(),this.receiveRemotePauseResumeTask=new Ye.default(this.meetingSessionContext);try{yield new gt.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new zn.default(this.logger,new gt.default(this.logger,"Media",[new he.default(this.meetingSessionContext),new gt.default(this.logger,"Signaling",[new rt.default(this.meetingSessionContext),new Ht.default(this.meetingSessionContext)]),new Pe.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new Xe.default(this.meetingSessionContext),new zn.default(this.logger,new gt.default(this.logger,"UpdateSession",[new ne.default(this.meetingSessionContext),new He.default(this.meetingSessionContext),new En.default(this.meetingSessionContext),new pt.default(this.meetingSessionContext),new wn.default(this.meetingSessionContext),new pn.default(this.meetingSessionContext),this.receiveRemotePauseResumeTask]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(I.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Ve,poorConnectionCount:Be,startTimeMs:Yt,iceGatheringDurationMs:yt,attendeePresenceDurationMs:Bt,meetingStartDurationMs:ke}=this.meetingSessionContext,Je={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-Yt),meetingStatus:v.default[se.statusCode()],signalingOpenDurationMs:Ve,iceGatheringDurationMs:yt,attendeePresenceDurationMs:Bt,poorConnectionCount:Be,meetingStartDurationMs:ke,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",Je)}this.actionFinishConnecting()})}catch(Ve){this.sessionStateController.perform(I.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Be=new g.default(this.getMeetingStatusCode(Ve)||v.default.TaskFailed);this.handleMeetingSessionStatus(Be,Ve)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(se){return`${se}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(se){const Ve=/the meeting status code: (\d+)/.exec(se&&se.message);return Ve&&Ve.length>1?Number.parseInt(Ve[1],10):null}enforceBandwidthLimitationForSender(se){return p(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(se)})}handleMeetingSessionStatus(se,Ve){if(this.logger.info(`handling status: ${v.default[se.statusCode()]}`),se.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(se),se.statusCode()===v.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(se.statusCode()===v.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Be=>{fi.Maybe.of(Be.videoSendDidBecomeUnavailable).map(Yt=>Yt.bind(Be)())}),!1;if(se.statusCode()===v.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Be=>{fi.Maybe.of(Be.audioVideoWasDemotedFromPrimaryMeeting).map(Yt=>Yt.bind(Be)(se))}),!1;if(se.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(se.isFailure()||se.isTerminal())&&this.meetingSessionContext.reconnectController){const Be=this.reconnect(se,Ve);return Be?this.logger.warn(`The audio video controller will reconnect due to status code ${v.default[se.statusCode()]}${Ve?` and error: ${Ve.message}`:""}`):this.logger.error(`The audio video controller failed with status code ${v.default[se.statusCode()]}${Ve?` and error: ${Ve.message}`:""}`),Be}return!1}setVideoMaxBandwidthKbps(se){if(se<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${se} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(se)),this.maxUplinkBandwidthKbps=se}handleHasBandwidthPriority(se){return p(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(se),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Ve=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(se);const Be=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Ve!==Be&&(this.logger.info(`video send bandwidth priority ${se} max has changed from ${Ve} kbps to ${Be} kbps`),yield this.enforceBandwidthLimitationForSender(Be))}})}pauseReceivingStream(se){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([se])}resumeReceivingStream(se){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([se])}setVideoCodecSendPreferences(se){this.videoSendCodecPreferences=se,this.meetingSessionContext.videoSendCodecPreferences=se,this.sessionStateController.state()!==A.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:se}=this.meetingSessionContext;if(!se)return this.logger.info("meeting has not started"),[];const Ve=this.configuration.credentials.attendeeId;return se.allVideoSendingSourcesExcludingSelf(Ve)}encodingSimulcastLayersDidChange(se){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Ve=>{fi.Maybe.of(Ve.encodingSimulcastLayersDidChange).map(Be=>Be.bind(Ve)(se))})}promoteToPrimaryMeeting(se){return this.actionPromoteToPrimaryMeeting(se)}actionPromoteToPrimaryMeeting(se){return p(this,void 0,void 0,function*(){let Ve=new g.default(v.default.SignalingRequestFailed);return yield new gt.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new zn.default(this.logger,new Gt.default(this.meetingSessionContext,se,Be=>{Ve=Be}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Ve.statusCode()===v.default.OK,Ve})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(se=>{fi.Maybe.of(se.audioVideoWasDemotedFromPrimaryMeeting).map(Ve=>Ve.bind(se)(new g.default(v.default.OK)))})}videoInputDidChange(se){return p(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(se?yield this.replaceLocalVideo(se):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(se){return p(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!se)try{se=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(se)})}constructor(se,Ve,Be,Yt,yt,Bt){this._audioProfile=new e.default,this.connectionHealthData=new r.default,this.observerQueue=new Set,this.meetingSessionContext=new we.default,this.enableSimulcast=!1,this.enableSVC=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.receiveRemotePauseResumeTask=void 0,this.destroyed=!1,this._logger=Ve,this.sessionStateController=new T.default(this._logger),this._configuration=se,this._webSocketAdapter=Be,this._realtimeController=new b.default(Yt),this._realtimeController.realtimeSetLocalAttendeeId(se.credentials.attendeeId,se.credentials.externalUserId),this._mediaStreamBroker=Yt,this._reconnectController=yt,this._videoTileController=new lt.default(new mt.default,this,this._logger),this._audioMixController=new i.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=Bt}},"DefaultAudioVideoController");l.default=ht,ht.MIN_VOLUME_DECIBELS=-42,ht.MAX_VOLUME_DECIBELS=-14,ht.PING_PONG_INTERVAL_MS=1e4},8167974884:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9173407961)),m=d(c(9375803731)),p=d(c(7420310193)),a=d(c(7836148100)),s=d(c(3456656950)),i=d(c(6504474338)),e=d(c(1984577674)),t=d(c(946491843)),r=d(c(2201325822)),o=d(c(9778418265)),f=d(c(6757985251)),g=d(c(8377273355));let v=n(class extends g.default{setAudioProfile(S){}start(){}stop(){}promoteToPrimaryMeeting(S){return Promise.resolve(new e.default(t.default.OK))}demoteFromPrimaryMeeting(){}constructor(S){const _=new s.default;_.meetingId="",_.externalMeetingId="",_.credentials=new i.default,_.credentials.attendeeId="",_.credentials.joinToken="",_.urls=new r.default,_.urls.turnControlURL="",_.urls.audioHostURL="",_.urls.signalingURL="wss://localhost/";const b=new p.default;super(S||_,b,new f.default(new p.default),new a.default,new o.default(0,new h.default(0,0,0)),new m.default(S||_,b))}},"NoOpAudioVideoController");l.default=v},5948949947:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(p,a,s,i){function e(t){return t instanceof s?t:new s(function(r){r(t)})}return n(e,"adopt"),new(s||(s=Promise))(function(t,r){function o(v){try{g(i.next(v))}catch(u){r(u)}}n(o,"fulfilled");function f(v){try{g(i.throw(v))}catch(u){r(u)}}n(f,"rejected");function g(v){v.done?t(v.value):e(v.value).then(o,f)}n(g,"step"),g((i=i.apply(p,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(6229167887);let m=n(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const s=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,s),s}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,s){this.videoTileController.bindVideoElement(a,s),this.trace("bindVideoElement",{tileId:a,videoElementId:s.id})}unbindVideoElement(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,s),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:s})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const s=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),s}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const s=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,s),s}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const s=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),s}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,s){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,s),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,s){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,s),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,s)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,s,i){this.realtimeController.realtimeSendDataMessage(a,s,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,s){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,s),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,s,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,s,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,s),s})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const s=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,s),s})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const s=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,s),s})}startAudioInput(a){return d(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return d(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return d(this,void 0,void 0,function*(){return h.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return d(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const s=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),s}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const s=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),s}chooseVideoInputQuality(a,s,i){this.deviceController.chooseVideoInputQuality(a,s,i),this.trace("chooseVideoInputQuality",{width:a,height:s,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,s){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,s)}enableSVCForContentShare(a){this.trace("enableSVCForContentShare"),this.contentShareController.enableSVCForContentShare(a)}startContentShare(a){const s=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),s}startContentShareFromScreenCapture(a,s){const i=this.contentShareController.startContentShareFromScreenCapture(a,s);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,s,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let r=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof s<"u"&&(r+=` ${JSON.stringify(s)}`),typeof i<"u"&&(r+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(r)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const s=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,s),s}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,s,i,e,t,r){this.audioVideoController=a,this.videoTileController=s,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=r}},"DefaultAudioVideoFacade");l.default=m},666453167:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(597408827)),p=c(6493518233);let a=n(class extends m.default{drawImageWithMask(i,e){const t=this.blurredImage,{canvasCtx:r,targetCanvas:o}=this,{width:f,height:g}=o;if(!e||!t){r.clearRect(0,0,f,g);return}this.scaledCanvas.getContext("2d").putImageData(e,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),r.save(),r.clearRect(0,0,f,g),r.drawImage(this.scaledCanvas,0,0,f,g),r.globalCompositeOperation="source-in",r.drawImage(i,0,0,f,g),r.globalCompositeOperation="destination-over",r.drawImage(this.blurCanvas,0,0,f,g),r.restore()}setBlurStrength(i){if(super.setBlurStrength(i),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=p.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(i){if(this.logger.info(`received initialize message: ${this.stringify(i)}`),!i.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(i){this.blurredImage=i.payload.blurOutput,super.handlePredict(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});var e;return d(this,void 0,void 0,function*(){i.destroy.call(this),(e=this.blurCanvas)===null||e===void 0||e.remove(),this.blurCanvas=void 0})}constructor(i,e){super(i,e),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");l.default=a},597408827:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1628145282)),p=c(6493518233),a=h(c(6785068399));let s=n(class extends m.default{validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:o,targetCanvas:f}=this,{width:g,height:v}=f;o.save(),o.clearRect(0,0,g,v),o.drawImage(this.scaledCanvas,0,0,g,v),o.globalCompositeOperation="source-in",o.drawImage(e,0,0,g,v),o.globalCompositeOperation="destination-over",o.filter=`blur(${this.blurAmount}px)`,o.drawImage(e,0,0,f.width,f.height),o.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=p.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return d(this,void 0,void 0,function*(){const e=document.createElement("canvas"),t=e.getContext("2d").filter!==void 0;return e.remove(),t})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}constructor(e,t){super("background blur",e,t,new a.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: { blurStrength: ${t.blurStrength}, filterCPUUtilization: ${t.filterCPUUtilization}, reportingPeriodMillis: ${t.reportingPeriodMillis}}`)}},"BackgroundBlurProcessorProvided");l.default=s},6493518233:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.BlurStrengthMapper=void 0;const c={LOW:7,MEDIUM:15,HIGH:30};let d=n(class{static getBlurAmount(m,p){if(m<=0)throw new Error(`invalid value for blur strength: ${m}`);return Math.round(m*p.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");l.BlurStrengthMapper=d,d.BLUR_STRENGTH_DIVISOR=540,l.default=c},1846007608:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(f,g,v,u){function S(_){return _ instanceof v?_:new v(function(b){b(_)})}return n(S,"adopt"),new(v||(v=Promise))(function(_,b){function E(A){try{I(u.next(A))}catch(w){b(w)}}n(E,"fulfilled");function T(A){try{I(u.throw(A))}catch(w){b(w)}}n(T,"rejected");function I(A){A.done?_(A.value):S(A.value).then(E,T)}n(I,"step"),I((u=u.apply(f,g||[])).next())})},h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(693400218)),p=h(c(632433771)),a=h(c(152907414)),s=h(c(3503763380)),i=h(c(666453167)),e=h(c(597408827)),t=h(c(6493518233));let r=n(class extends s.default{setBlurStrength(){}loadAssets(){return d(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),o=n(class xu extends m.default{static create(g,v){return d(this,void 0,void 0,function*(){g=xu.resolveSpec(g),v=xu.resolveOptions(v);const{logger:u}=v,S=yield xu.isSupported(g,v);if(u.info(`processor is ${S?"":"not"} supported`),!S)return u.warn("Using no-op processor because background blur is not supported"),new r;let _;return(yield e.default.isSupported())?(u.info("Using browser-provided background blur"),_=new e.default(g,v)):(u.info("Using built-in background blur"),_=new i.default(g,v)),yield _.loadAssets(),_})}static resolveOptions(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=Object.assign({},g);return v.blurStrength||(v.blurStrength=t.default.MEDIUM),v.logger||(v.logger=new p.default("BackgroundBlurProcessor",a.default.INFO)),v=super.resolveOptions(v),v}static isSupported(g,v){return g=xu.resolveSpec(g),v=xu.resolveOptions(v),super.isSupported(g,v)}},"BackgroundBlurVideoFrameProcessor");l.default=o},6785068399:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(1959821357));let m=n(class extends h.default{},"BackgroundBlurVideoFrameProcessorDelegate");l.default=m},4964835908:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Fv{static builder(){return new Fv}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const h={height:144,width:256,range:[0,1],channels:3},m={height:144,width:256,range:[0,1],channels:1},p="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=p,this.input=h,this.output=m,this}withPath(h){return this.path=h,this}withInput(h){return this.input=h,this}withOutput(h){return this.output=h,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");l.default=c},9275736837:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=.8;let d=n(class{reportEvent(m){const p=m-this.lastReportedEventTimestamp;if(p>=this.reportingPeriodMillis){const a=this.filterCount,s=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=m,this.framerate===0||a===0)return;const i=Math.round(s/a),e=Math.round(this.framerate*(p/1e3))-a,t=Math.round(100*s/p);i>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:e,avgFilterDurationMillis:i,framerate:this.framerate,periodMillis:p}),t>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:t,filterMillis:s,periodMillis:p})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*c)}frameReceived(m){m!==this.framerate&&(this.framerate=m,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const p=Date.now();this.reportEvent(p)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(m,p,a,s){this.delegate=m,this.reportingPeriodMillis=p,this.filterCPUUtilization=a,this.logger=s,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");l.default=d},1628145282:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(t,r,o,f){function g(v){return v instanceof o?v:new o(function(u){u(v)})}return n(g,"adopt"),new(o||(o=Promise))(function(v,u){function S(E){try{b(f.next(E))}catch(T){u(T)}}n(S,"fulfilled");function _(E){try{b(f.throw(E))}catch(T){u(T)}}n(_,"rejected");function b(E){E.done?v(E.value):g(E.value).then(S,_)}n(b,"step"),b((f=f.apply(t,r||[])).next())})},h=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.BackgroundFilterMonitor=void 0;const m=c(8567210951),p=h(c(5808804466)),a=h(c(9275736837));let s=n(class{whenNext(){return this.promise||(this.promise=new Promise(r=>this.resolve=r)),this.promise}next(r){this.value=r,this.resolve(r),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),i=n(class km{static createWorkerPromise(){const r={resolve:null,reject:null,promise:null};return r.promise=new Promise((o,f)=>{r.resolve=o,r.reject=f}),r}validateSpec(r){if(!r)throw new Error("processor has null spec");if(!r.model)throw new Error("processor spec has null model");if(!r.paths)throw new Error("processor spec has null paths")}validateOptions(r){if(!r)throw new Error("processor has null options");if(!r.logger)throw new Error("processor has null options - logger");if(!r.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!r.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(r){this.videoFramesPerFilterUpdate=1,this.frameCounter=new a.default(this.delegate,r.reportingPeriodMillis,r.filterCPUUtilization,this.logger),this.cpuMonitor=new e(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(r){return JSON.stringify(r,null,2)}handleInitialize(r){if(this.logger.info(`received initialize message: ${this.stringify(r)}`),!r.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const o=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:o.path,inputHeight:o.input.height,inputWidth:o.input.width,inputChannels:4,modelRangeMin:o.input.range[0],modelRangeMax:o.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(r){if(this.logger.info(`received load model message: ${this.stringify(r)}`),r.payload!==2){this.logger.error("failed to load model! status: "+r.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+r.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(r){this.mask$.next(r.payload.output)}handleWorkerEvent(r){const o=r.data;switch(o.msg){case"initialize":this.handleInitialize(o);break;case"loadModel":this.handleLoadModel(o);break;case"predict":this.handlePredict(o);break;default:this.logger.info(`unexpected event msg: ${this.stringify(o)}`);break}}loadAssets(){return d(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield m.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",r=>this.handleWorkerEvent(r)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(r){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${r.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(r){return d(this,void 0,void 0,function*(){if(this.destroyed)return r;this.frameCounter.frameReceived(r[0].framerate),this.cpuMonitor.frameReceived();const o=r[0].asCanvasElement();if(!o)return r;if(!this.modelInitialized)return r[0]=this.canvasVideoFrameBuffer,r;const f=o.width,g=o.height;if(f===0||g===0)return r;this.sourceWidth===0&&(this.sourceWidth=f,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==f||this.sourceHeight!==g)&&(this.sourceWidth=f,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let v=this.mask$.value;const u=this.spec.model.input.width/o.width,S=this.spec.model.input.height/o.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const _=this.scaledCanvas.getContext("2d");_.save(),_.scale(u,S),_.drawImage(o,0,0),_.restore();const b=_.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const E=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:b},[b.data.buffer]),v=yield E}this.destroyed||this.drawImageWithMask(o,v)}catch(v){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${v}`),r}finally{this.frameCounter.filterComplete(),this.frameNumber++}return r[0]=this.canvasVideoFrameBuffer,r})}updateVideoFramesPerFilterUpdate(r){r!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=r,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var r,o,f,g;return d(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(r=this.worker)===null||r===void 0||r.postMessage({msg:"destroy"}),(o=this.worker)===null||o===void 0||o.postMessage({msg:"stop"}),(f=this.targetCanvas)===null||f===void 0||f.remove(),this.targetCanvas=void 0,(g=this.scaledCanvas)===null||g===void 0||g.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(r,o,f,g,v){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new p.default(this.targetCanvas),this.mask$=new s,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=km.createWorkerPromise(),this.loadModelPromise=km.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=r,this.validateSpec(o),this.validateOptions(f),this.spec=o,this.logger=f.logger,this.delegate=g,this.initCPUMonitor(f),this.eventController=v}},"BackgroundFilterProcessor");l.default=i;let e=n(class{filterCPUUtilizationHigh(){const r=Date.now();r-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=r,this.observer.reduceCPUUtilization())}frameReceived(){const r=Date.now();r-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=r,this.observer.increaseCPUUtilization())}constructor(r,o){this.monitoringPeriodMillis=r,this.observer=o,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");l.BackgroundFilterMonitor=e},693400218:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(f,g,v,u){function S(_){return _ instanceof v?_:new v(function(b){b(_)})}return n(S,"adopt"),new(v||(v=Promise))(function(_,b){function E(A){try{I(u.next(A))}catch(w){b(w)}}n(E,"fulfilled");function T(A){try{I(u.throw(A))}catch(w){b(w)}}n(T,"rejected");function I(A){A.done?_(A.value):S(A.value).then(E,T)}n(I,"step"),I((u=u.apply(f,g||[])).next())})},h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(8567210951),p=c(4085910259),a=h(c(4964835908)),s=h(c(9445576035)),i=h(c(6332689210)),e=n(()=>a.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),t="https://static.sdkassets.chime.aws",r={worker:`${t}/bgblur/workers/worker.js`,wasm:`${t}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${t}/bgblur/wasm/_cwt-wasm-simd.wasm`};let o=n(class{static defaultAssetSpec(){const g=i.default.sdkVersionSemVer;return{assetGroup:`sdk-${g.major}.${g.minor}`}}static createUrlWithParams(g,v){const u=new URL(g),S=Object.keys(v);for(const _ of S)v[_]!==void 0&&u.searchParams.set(_,v[_]);return u.toString()}static resolveSpec(g){const{paths:v=r,model:u=e(),assetGroup:S=this.defaultAssetSpec().assetGroup,revisionID:_=this.defaultAssetSpec().revisionID}=g||{},b={assetGroup:S,revisionID:_,sdk:encodeURIComponent(i.default.sdkVersion),ua:encodeURIComponent(i.default.sdkUserAgentLowResolution)};return v.worker=this.createUrlWithParams(v.worker,b),v.wasm=this.createUrlWithParams(v.wasm,b),v.simd=this.createUrlWithParams(v.simd,b),u.path=this.createUrlWithParams(u.path,b),{paths:v,model:u,assetGroup:S,revisionID:_}}static resolveOptions(g){g.reportingPeriodMillis||(g.reportingPeriodMillis=1e3);const v=30;return g.filterCPUUtilization?(g.filterCPUUtilization<0||g.filterCPUUtilization>100)&&(g.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${v} percent`),g.filterCPUUtilization=v):g.filterCPUUtilization=v,g}static isSupported(g,v){const{logger:u}=v;return typeof globalThis>"u"?(u.info("Browser does not have globalThis."),Promise.resolve(!1)):new s.default().supportsBackgroundFilter()?p.supportsWASM(globalThis,u)?this.supportsBackgroundFilter(globalThis,g,u):(u.info("Browser does not support WASM."),Promise.resolve(!1)):(u.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,v=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0;return d(this,void 0,void 0,function*(){if(!p.supportsWorker(g,u))return u.info("Browser does not support web workers."),!1;const S=v.paths.worker;try{const _=yield m.loadWorker(S,"BackgroundFilterWorker",{},null);try{_.terminate()}catch(b){u.info(`Failed to terminate worker. ${b.message}`)}return!0}catch(_){return u.info(`Failed to fetch and instantiate test worker ${_.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");l.default=o},1959821357:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}filterFrameDurationHigh(h){var m;for(const p of this.observers)(m=p.filterFrameDurationHigh)===null||m===void 0||m.call(p,h)}filterCPUUtilizationHigh(h){var m;for(const p of this.observers)(m=p.filterCPUUtilizationHigh)===null||m===void 0||m.call(p,h)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");l.default=c},9498470312:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1628145282)),p=h(c(2490262653));let a=n(class Lm extends m.default{setImageBlob(i){return d(this,void 0,void 0,function*(){this.replacementBlob=i,this.replacementImage=yield Lm.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:r,targetCanvas:o}=this,{width:f,height:g}=o;r.save(),r.clearRect(0,0,f,g),r.drawImage(this.scaledCanvas,0,0,f,g),r.globalCompositeOperation="source-in",r.drawImage(i,0,0,f,g),r.globalCompositeOperation="destination-over",r.drawImage(this.replacementImage,0,0,o.width,o.height),r.restore()}static loadImageExecutor(i,e,t){const r=new Image;r.crossOrigin="Anonymous",r.addEventListener("load",()=>{i(r)},!1),r.addEventListener("error",o=>{e(new Error(`Could not load replacement image ${r.src}: ${o.message}`))},!1),r.src=t}static loadImage(i){return d(this,void 0,void 0,function*(){return new Promise((e,t)=>this.loadImageExecutor(e,t,i))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const i=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return d(this,void 0,void 0,function*(){this.replacementImage=yield Lm.loadImage(this.createReplacementObjectUrl()),i.loadAssets.call(this)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});return d(this,void 0,void 0,function*(){i.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background replacement",i,e,new p.default),this.replacementBlob=e.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: { filterCPUUtilization: ${e.filterCPUUtilization}, reportingPeriodMillis: ${e.reportingPeriodMillis}}`)}},"BackgroundReplacementFilter");l.default=a},5038925386:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(r,o,f,g){function v(u){return u instanceof f?u:new f(function(S){S(u)})}return n(v,"adopt"),new(f||(f=Promise))(function(u,S){function _(T){try{E(g.next(T))}catch(I){S(I)}}n(_,"fulfilled");function b(T){try{E(g.throw(T))}catch(I){S(I)}}n(b,"rejected");function E(T){T.done?u(T.value):v(T.value).then(_,b)}n(E,"step"),E((g=g.apply(r,o||[])).next())})},h=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(693400218)),p=h(c(632433771)),a=h(c(152907414)),s=h(c(3503763380)),i=h(c(9498470312));let e=n(class extends s.default{loadAssets(){return d(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return d(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),t=n(class xv extends m.default{static create(o,f){return d(this,void 0,void 0,function*(){o=this.resolveSpec(o),f=this.resolveOptions(f),yield this.resolveOptionsAsync(f);const{logger:g}=f;if(!(yield xv.isSupported(o,f)))return g.warn("Using no-op processor because background replacement is not supported"),new e;g.info("Using background replacement filter");const u=new i.default(o,f);return yield u.loadAssets(),u})}static resolveOptions(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const f=Object.assign({},o);return f.logger||(f.logger=new p.default("BackgroundReplacementProcessor",a.default.INFO)),super.resolveOptions(f)}static resolveOptionsAsync(o){return d(this,void 0,void 0,function*(){if(!o.imageBlob){const f=document.createElement("canvas");f.width=100,f.height=100;const g=f.getContext("2d");g.fillStyle="blue",g.fillRect(0,0,100,100);const v=yield new Promise(u=>{f.toBlob(u)});o.imageBlob=v}})}static isSupported(o,f){const g=Object.create(null,{isSupported:{get:()=>super.isSupported}});return d(this,void 0,void 0,function*(){o=this.resolveSpec(o),f=this.resolveOptions(f),yield this.resolveOptionsAsync(f);const v=f.imageBlob,u=URL.createObjectURL(v);try{yield i.default.loadImage(u)}catch(S){return f.logger.info(`Failed to fetch load replacement image ${S.message}`),!1}finally{URL.revokeObjectURL(u)}return g.isSupported.call(this,o,f)})}},"BackgroundReplacementVideoFrameProcessor");l.default=t},2490262653:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(1959821357));let m=n(class extends h.default{},"BackgroundReplacementVideoFrameProcessorDelegate");l.default=m},9173407961:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const h=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,h}constructor(h,m,p){this.fixedWaitMs=h,this.shortBackoffMs=m,this.longBackoffMs=p,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");l.default=c},8467350797:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9173407961)),m=d(c(7796317769));let p=n(class{create(){return new h.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(s){return new m.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,s)}constructor(s,i,e){this.fixedWaitMs=s,this.shortBackoffMs=i,this.longBackoffMs=e}},"FullJitterBackoffFactory");l.default=p},7796317769:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9173407961));let m=n(class extends h.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(a,s,i,e){super(a,s,i),this.limit=e,this.attempts=0}},"FullJitterLimitedBackoff");l.default=m},9445576035:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(585669709),m=c(5961608329);let p=n(class Nm{version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}engine(){return this.uaParserResult.engine.name}engineMajorVersion(){return parseInt(this.uaParserResult.engine.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const s of this.chromeLike)if(s===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const s of this.webkitBrowsers)if(s===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=Nm.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=Nm.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsDependencyDescriptorRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsScalableVideoCoding(){return this.hasChromiumWebRTC()&&this.engine()==="Blink"&&this.engineMajorVersion()>=111}supportsAudioRedundancy(){return this.hasChromiumWebRTC()?this.engineMajorVersion()>=107:!this.hasFirefoxWebRTC()}requiresResolutionAlignment(s,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(s/64)*64,Math.ceil(i/64)*64]:[s,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const s=[];for(const i in this.browserSupport)s.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return s.join(", ")}supportedVideoCodecs(){return d(this,void 0,void 0,function*(){const s=new RTCPeerConnection;return s.addTransceiver("video",{direction:"inactive",streams:[]}),(yield s.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return this.isIOS()&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}requiresAudioContextResetOnDeviceFailureForWebAudio(){return this.isIOS()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}isIOS(){return this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox()}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=h.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new m.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");l.default=p,p.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,p.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},3713066448:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7613896012),m=d(c(3071240545)),p=d(c(3967449568)),a=d(c(9883248412));let s=n(class Bv{getMetricMap(e,t){switch(e){case p.default.AUDIO:switch(t){case m.default.UPSTREAM:return this.audioUpstreamMetricMap;case m.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case p.default.VIDEO:switch(t){case m.default.UPSTREAM:return this.videoUpstreamMetricMap;case m.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){if(this.overriddenObservableMetrics.has(e))return this.overriddenObservableMetrics.get(e);const t=this.observableMetricSpec[e],o=this.getMetricMap(t.media,t.dir)[t.source],{transform:f,source:g}=o;if(t.hasOwnProperty("media"))for(const v in this.streamMetricReports){const u=this.streamMetricReports[v];if(u.direction===t.dir&&u.mediaType===t.media)return f(g||t.source,Number(v))}else return f(g||t.source);return 0}getObservableVideoMetricValue(e,t){const r=this.observableVideoMetricSpec[e],f=this.getMetricMap(r.media,r.dir)[r.source],{transform:g,source:v}=f;return g(v||r.source,t)}getVideoUpstreamSsrcs(){const e=[];for(const t in this.streamMetricReports)this.streamMetricReports[t].mediaType===p.default.VIDEO&&this.streamMetricReports[t].direction===m.default.UPSTREAM&&e.push(Number(t));return e}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===p.default.VIDEO){const r={};for(const v in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[v].dir===this.streamMetricReports[t].direction){const u=this.getObservableVideoMetricValue(v,Number(t));isNaN(u)||(r[v]=u)}const o=this.streamMetricReports[t].groupId,f=this.streamMetricReports[t].streamId;let g="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?g=o?this.videoStreamIndex.attendeeIdForGroupId(o):this.selfAttendeeId:g=f?this.videoStreamIndex.attendeeIdForStreamId(f):this.selfAttendeeId,e[g]=e[g]?e[g]:{},e[g][t]=r}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new Bv(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.customStatsReports=this.customStatsReports,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e.overriddenObservableMetrics=this.overriddenObservableMetrics,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(e)}`)}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}overrideObservableMetric(e,t){this.overriddenObservableMetrics.set(e,t)}constructor(e,t,r){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=r,this.globalMetricReport=new a.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;return Number(g.currentMetrics[o])},this.decoderLossPercent=(o,f)=>{const g=this.streamMetricReports[f],v=g.currentMetrics.concealedSamples-(g.previousMetrics.concealedSamples||0),u=g.currentMetrics.totalSamplesReceived-(g.previousMetrics.totalSamplesReceived||0);return u<=0||u-v<=0?0:v/u*100},this.packetLossPercent=(o,f)=>{const g=this.streamMetricReports[f],v=g.currentMetrics[o]-(g.previousMetrics[o]||0),u=g.currentMetrics.packetsLost-(g.previousMetrics.packetsLost||0),S=v+u;return S<=0||u<=0?0:u*100/S},this.jitterBufferMs=(o,f)=>{const g=this.streamMetricReports[f],v=g.currentMetrics.jitterBufferDelay-(g.previousMetrics.jitterBufferDelay||0),u=g.currentMetrics.jitterBufferEmittedCount-(g.previousMetrics.jitterBufferEmittedCount||0);return v<=0||u<=0?0:v/u*1e3},this.countPerSecond=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const u=g.currentMetrics[o]-(g.previousMetrics[o]||0);return u<=0?0:Math.trunc(u/v)},this.bitsPerSecond=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const u=(g.currentMetrics[o]-(g.previousMetrics[o]||0))*8;return u<=0?0:Math.trunc(u/v)},this.secondsToMilliseconds=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;return Number(g.currentMetrics[o]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(o,f)=>{const g=f?this.streamMetricReports[f]:this.globalMetricReport;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);const u=g.currentMetrics[o]-(g.previousMetrics[o]||0);return u<=0?0:u*1e3/v},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(o,f)=>{const g=this.streamMetricReports[f];if(g.previousObjectMetrics[o]===void 0||g.currentObjectMetrics[o]===void 0)return NaN;let v=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(v<=0)return 0;this.previousTimestampMs<=0&&(v=1);let u=0,S=0;for(const[b,E]of Object.entries(g.previousObjectMetrics[o]))b==="cpu"&&(u=E);for(const[b,E]of Object.entries(g.currentObjectMetrics[o]))b==="cpu"&&(S=E);const _=S-u;return _<=0?0:_*1e3/v},this.isHardwareImplementation=(o,f)=>{const g=this.streamMetricReports[f];if(g.currentStringMetrics[o]===void 0)return NaN;const v=String(g.currentStringMetrics[o]),u=v.includes("ExternalDecoder")||v.includes("ExternalEncoder")||v.includes("EncodeAccelerator")||v.includes("DecodeAccelerator"),S=v.includes("fallback from");return u&&!S?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:h.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:h.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:h.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:h.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:h.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:h.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.VIDEO_SENT_JITTER_MS},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:h.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU},videoCodecDegradationHighEncodeCpu:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU},videoCodecDegradationEncodeFailure:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE},videoInputWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_INPUT_WIDTH},videoInputHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_INPUT_HEIGHT}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:h.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:h.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:h.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:h.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:h.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPausesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:h.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:h.SdkMetric.Type.VIDEO_DROPPED_FPS},videoRenderWidth:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RENDER_WIDTH},videoRenderHeight:{transform:this.identityValue,type:h.SdkMetric.Type.VIDEO_RENDER_HEIGHT}},this.streamDimensionMap={encoderImplementation:h.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:h.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFramesInputPerSecond:{source:"framesPerSecond",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamEncoderImplementation:{source:"encoderImplementation",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamTotalEncodeTimePerSecond:{source:"totalEncodeTime",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoUpstreamCpuQualityLimitationDurationPerSecond:{source:"qualityLimitationDurations",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:p.default.VIDEO,dir:m.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:p.default.VIDEO,dir:m.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:p.default.AUDIO,dir:m.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:p.default.AUDIO,dir:m.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:p.default.AUDIO,dir:m.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:p.default.VIDEO,dir:m.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:p.default.AUDIO,dir:m.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:p.default.VIDEO,dir:m.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:p.default.AUDIO,dir:m.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}},"ClientMetricReport");l.default=s},3071240545:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportDirection=void 0;var c;(function(d){d[d.UPSTREAM=0]="UPSTREAM",d[d.DOWNSTREAM=1]="DOWNSTREAM"})(c=l.ClientMetricReportDirection||(l.ClientMetricReportDirection={})),l.default=c},3967449568:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClientMetricReportMediaType=void 0;var c;(function(d){d[d.AUDIO=0]="AUDIO",d[d.VIDEO=1]="VIDEO"})(c=l.ClientMetricReportMediaType||(l.ClientMetricReportMediaType={})),l.default=c},6193104267:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"ClientVideoStreamReceivingReport");l.default=c},9883248412:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"GlobalMetricReport");l.default=c},7244701833:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}},"RedundantAudioRecoveryMetricReport");l.default=c},5426637611:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"StreamMetricReport");l.default=c},6925537195:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(h){this.currentData=h}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const h=this.health();return h!==this.currentHealth?(this.currentHealth=h,h):null}constructor(h,m,p){this.minHealth=h.minHealth,this.maxHealth=h.maxHealth,this.currentHealth=h.initialHealth,this.currentData=m.clone(),this.name=p}},"BaseConnectionHealthPolicy");l.default=c},5392261736:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Rd{static isTimestampRecent(h,m){return Date.now()<h+m}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now(),this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.videoEncodingTimePerFrameInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0}isConnectionStartRecent(h){return Rd.isTimestampRecent(this.connectionStartTimestampMs,h)}isLastPacketLossRecent(h){return Rd.isTimestampRecent(this.lastPacketLossInboundTimestampMs,h)}isGoodSignalRecent(h){return Rd.isTimestampRecent(this.lastGoodSignalTimestampMs,h)}isWeakSignalRecent(h){return Rd.isTimestampRecent(this.lastWeakSignalTimestampMs,h)}isNoSignalRecent(h){return Rd.isTimestampRecent(this.lastNoSignalTimestampMs,h)}clone(){const h=new Rd;return h.connectionStartTimestampMs=this.connectionStartTimestampMs,h.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,h.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,h.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,h.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,h.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,h.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,h.consecutiveMissedPongs=this.consecutiveMissedPongs,h.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),h.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),h.audioSpeakerDelayMs=this.audioSpeakerDelayMs,h.isVideoEncoderHardware=this.isVideoEncoderHardware,h.videoEncodingTimeInMs=this.videoEncodingTimeInMs,h.videoEncodingTimePerFrameInMs=this.videoEncodingTimePerFrameInMs,h.cpuLimitationDuration=this.cpuLimitationDuration,h.videoInputFps=this.videoInputFps,h.videoEncodeFps=this.videoEncodeFps,h}setConsecutiveMissedPongs(h){this.consecutiveMissedPongs=h}setConsecutiveStatsWithNoPackets(h){this.consecutiveStatsWithNoPackets=h}setConsecutiveStatsWithNoAudioPacketsSent(h){this.consecutiveStatsWithNoAudioPacketsSent=h}setLastPacketLossInboundTimestampMs(h){this.lastPacketLossInboundTimestampMs=h}setLastNoSignalTimestampMs(h){this.lastNoSignalTimestampMs=h}setLastWeakSignalTimestampMs(h){this.lastWeakSignalTimestampMs=h}setLastGoodSignalTimestampMs(h){this.lastGoodSignalTimestampMs=h}setAudioSpeakerDelayMs(h){this.audioSpeakerDelayMs=h}setIsVideoEncoderHardware(h){this.isVideoEncoderHardware=h}setVideoEncodingTimeInMs(h){this.videoEncodingTimeInMs=h}setVideoEncodingTimePerFrameInMs(h){this.videoEncodingTimePerFrameInMs=h}setCpuLimitationDuration(h){this.cpuLimitationDuration=h}setVideoInputFps(h){this.videoInputFps=h}setVideoEncodeFps(h){this.videoEncodeFps=h}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.videoEncodingTimePerFrameInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");l.default=c},7666896524:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6862823406)),m=d(c(2633548471));let p=n(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3,this.videoEncodingHealthPolicies=[h.default,m.default],this.consecutiveHighEncodeCpuThreshold=10,this.highEncodeCpuMsThreshold=500,this.highEncodeCpuMsPerFrameThreshold=15,this.consecutiveVideoEncodingFailureThreshold=5}},"ConnectionHealthPolicyConfiguration");l.default=p},4479085271:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6925537195));let m=n(class dl extends h.default{health(){if(this.currentData.isConnectionStartRecent(dl.CONNECTION_WAIT_TIME_MS))return 1;const s=this.currentData.consecutiveStatsWithNoPackets>=dl.CONNECTION_UNHEALTHY_THRESHOLD,i=this.currentData.consecutiveMissedPongs>=dl.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>dl.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const e=this.audioDelayPointsOverMaximum>dl.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return e&&(this.audioDelayPointsOverMaximum=0),s||i||e?(this.logger.warn(`reconnection recommended due to: no packets received: ${s}, missed pongs: ${i}, bad audio delay: ${e}`),0):1}constructor(a,s,i){super(s,i,"Reconnection Health"),this.logger=a,this.audioDelayPointsOverMaximum=0,dl.CONNECTION_UNHEALTHY_THRESHOLD=s.connectionUnhealthyThreshold,dl.CONNECTION_WAIT_TIME_MS=s.connectionWaitTimeMs,dl.MISSED_PONGS_THRESHOLD=s.missedPongsUpperThreshold,dl.MAXIMUM_AUDIO_DELAY_MS=s.maximumAudioDelayMs,dl.MAXIMUM_AUDIO_DELAY_DATA_POINTS=s.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");l.default=m},7361429724:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6925537195));let m=n(class extends h.default{isSendingAudioUnhealthy(){const a=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),s=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return a&&s}health(){if(this.isSendingAudioUnhealthy()){const a=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!a?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(a,s,i){super(s,i,"Sending Audio Health"),this.logger=a,this.sendingAudioFailureSamplesToConsider=s.sendingAudioFailureSamplesToConsider>0?s.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=s.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=s.maximumTimesToWarn,this.coolDownTimeMs=s.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");l.default=m},5618615883:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6925537195));let m=n(class extends h.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const a=this.pastSamplesToConsider,s=a*this.packetsExpected;let i=0;for(let e=0;e<a;e++)i+=this.currentData.packetsReceivedInLastMinute[e];return Math.min(Math.max(1-i/s,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(a,s){super(a,s,"Unusable Audio Warning"),this.coolDownTimeMs=a.cooldownTimeMs,this.pastSamplesToConsider=a.pastSamplesToConsider,this.fractionalLoss=a.fractionalLoss,this.packetsExpected=a.packetsExpected,this.maximumTimesToWarn=a.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");l.default=m},9145095843:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoEncodingConnectionHealthPolicyName=void 0;var c;(function(d){d.VideoEncodingCpuHealth="Video Encoding CPU Health",d.VideoEncodingFramerateHealth="Video Encoding framerate Health"})(c=l.VideoEncodingConnectionHealthPolicyName||(l.VideoEncodingConnectionHealthPolicyName={})),l.default=c},6862823406:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6925537195)),m=d(c(9145095843));let p=n(class extends h.default{health(){const s=this.currentData.videoEncodingTimeInMs>=this.highEncodeCpuMsThreshold&&this.currentData.videoEncodingTimePerFrameInMs>=this.highEncodeCpuMsPerFrameThreshold;if(!this.currentData.isVideoEncoderHardware&&(s||this.currentData.cpuLimitationDuration>0)){if(this.consecutiveHighEncodeCpuCnt++,this.consecutiveHighEncodeCpuCnt>this.consecutiveHighEncodeCpuThreshold)return this.consecutiveHighEncodeCpuCnt=0,this.minimumHealth()}else this.consecutiveHighEncodeCpuCnt=0;return this.maximumHealth()}constructor(s,i){super(s,i,m.default.VideoEncodingCpuHealth),this.consecutiveHighEncodeCpuCnt=0,this.consecutiveHighEncodeCpuThreshold=s.consecutiveHighEncodeCpuThreshold,this.highEncodeCpuMsThreshold=s.highEncodeCpuMsThreshold,this.highEncodeCpuMsPerFrameThreshold=s.highEncodeCpuMsPerFrameThreshold}},"VideoEncodingCpuConnectionHealthPolicy");l.default=p},2633548471:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6925537195)),m=d(c(9145095843));let p=n(class extends h.default{health(){if(this.currentData.videoEncodeFps===0&&this.currentData.videoInputFps>0){if(this.consecutiveEncodeFailureCnt++,this.consecutiveEncodeFailureCnt>this.consecutiveVideoEncodingFailureThreshold)return this.consecutiveEncodeFailureCnt=0,this.minimumHealth()}else this.consecutiveEncodeFailureCnt=0;return this.maximumHealth()}constructor(s,i){super(s,i,m.default.VideoEncodingFramerateHealth),this.consecutiveEncodeFailureCnt=0,this.consecutiveVideoEncodingFailureThreshold=s.consecutiveVideoEncodingFailureThreshold}},"VideoEncodingFramerateConnectionHealthPolicy");l.default=p},2116171594:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(9671487336);let h=n(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(p){p===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):p<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(p,a,s){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",s),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(p){let a=0,s=0;const i=p.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,r=i.audioSpeakerDelayMs;typeof r=="number"&&!isNaN(r)&&this.connectionHealthData.setAudioSpeakerDelayMs(r);const o=p.getRTCStatsReport();let f=0,g=0;o.forEach(S=>{S.type==="candidate-pair"&&(S.bytesReceived&&(f+=S.bytesReceived),S.requestsReceived&&(g+=S.requestsReceived),S.responsesReceived&&(g+=S.responsesReceived))});const v=f-this.lastTotalBytesReceived;this.lastTotalBytesReceived=f;const u=g-this.lastTotalStunMessagesReceived;if(this.lastTotalStunMessagesReceived=g,typeof e=="number"&&typeof t=="number"){if(a=e,s=t,a<0||s<0||v<0||u<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,s),v>0||u>0?(this.hasSeenValidCandidatePairMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidCandidatePairMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||s>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateVideoEncodingHealth(p),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(p){p>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}updateVideoEncodingHealth(p){const a=this.audioVideoController.videoTileController.hasStartedLocalVideoTile(),s=p.getVideoUpstreamSsrcs();if(!a||s.length===0){this.connectionHealthData.setIsVideoEncoderHardware(!1),this.connectionHealthData.setVideoEncodingTimePerFrameInMs(0),this.connectionHealthData.setCpuLimitationDuration(0),this.connectionHealthData.setVideoInputFps(0),this.connectionHealthData.setVideoEncodeFps(0);return}let i=!1,e=0,t=0,r=0,o=0;for(const g of s)i||(i=Boolean(p.getObservableVideoMetricValue("videoUpstreamEncoderImplementation",g))),e+=p.getObservableVideoMetricValue("videoUpstreamTotalEncodeTimePerSecond",g),t+=p.getObservableVideoMetricValue("videoUpstreamCpuQualityLimitationDurationPerSecond",g),r+=p.getObservableVideoMetricValue("videoUpstreamFramesInputPerSecond",g),o+=p.getObservableVideoMetricValue("videoUpstreamFramesEncodedPerSecond",g);const f=o>0?e/o:0;this.connectionHealthData.setIsVideoEncoderHardware(Boolean(i)),this.connectionHealthData.setVideoEncodingTimeInMs(e),this.connectionHealthData.setVideoEncodingTimePerFrameInMs(f),this.connectionHealthData.setCpuLimitationDuration(t),this.connectionHealthData.setVideoInputFps(r),this.connectionHealthData.setVideoEncodeFps(o)}addToMinuteWindow(p,a){p.unshift(a),p.length>60&&p.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(p=>{d.Maybe.of(p.connectionHealthDidChange).map(a=>a.bind(p)(this.connectionHealthData.clone()))})}constructor(p,a,s,i,e){this.audioVideoController=p,this.realtimeController=a,this.connectionHealthData=s,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidCandidatePairMetricsBefore=!1,this.lastTotalBytesReceived=0,this.lastTotalStunMessagesReceived=0,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");l.default=h},3944645711:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.Modality="#content"})(c||(c={})),l.default=c},2140051607:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9445576035)),p=h(c(6125631555));let a=n(class Fm{get mediaStream(){return this._mediaStream}set mediaStream(i){this._mediaStream=i}acquireAudioInputStream(){return d(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),p.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return d(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(i){return d(this,void 0,void 0,function*(){return i&&i.video&&i.video.mandatory&&i.video.mandatory.chromeMediaSource&&i.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(i):navigator.mediaDevices.getDisplayMedia(i)})}acquireScreenCaptureDisplayInputStream(i,e){return d(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(i,e))})}screenCaptureDisplayMediaConstraints(i,e){return{audio:!!(!i&&new m.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!i&&{frameRate:{max:e||Fm.defaultFrameRate}}),i&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:e||Fm.defaultFrameRate}})}}toggleMediaStream(i){let e=!1;if(this.mediaStream)for(let t=0;t<this.mediaStream.getTracks().length;t++)this.mediaStream.getTracks()[t].enabled!==i&&(this.mediaStream.getTracks()[t].enabled=i,e=!0);return e}cleanup(){if(this.mediaStream)for(let i=0;i<this.mediaStream.getTracks().length;i++)this.mediaStream.getTracks()[i].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(i){}removeMediaStreamBrokerObserver(i){}constructor(i){this.logger=i}},"ContentShareMediaStreamBroker");l.default=a,a.defaultFrameRate=15},6092672343:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(g,v,u,S){function _(b){return b instanceof u?b:new u(function(E){E(b)})}return n(_,"adopt"),new(u||(u=Promise))(function(b,E){function T(w){try{A(S.next(w))}catch(R){E(R)}}n(T,"fulfilled");function I(w){try{A(S.throw(w))}catch(R){E(R)}}n(I,"rejected");function A(w){w.done?b(w.value):_(w.value).then(T,I)}n(A,"step"),A((S=S.apply(g,v||[])).next())})},h=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(2425311569)),p=h(c(3456656950)),a=h(c(6504474338)),s=h(c(1594701503)),i=h(c(3066440630)),e=c(9671487336),t=h(c(8324353133)),r=h(c(5801810927)),o=h(c(3944645711));let f=n(class{static createContentShareMeetingSessionConfigure(v){const u=new p.default;return u.meetingId=v.meetingId,u.externalMeetingId=v.externalMeetingId,u.urls=v.urls,u.disablePeriodicKeyframeRequestOnContentSender=v.disablePeriodicKeyframeRequestOnContentSender,u.credentials=new a.default,u.credentials.attendeeId=v.credentials.attendeeId+o.default.Modality,u.credentials.externalUserId=v.credentials.externalUserId,u.credentials.joinToken=v.credentials.joinToken+o.default.Modality,u.meetingFeatures=v.meetingFeatures.clone(),u.videoDownlinkBandwidthPolicy=new t.default,u}setContentAudioProfile(v){this.contentAudioVideo.setAudioProfile(v)}enableSimulcastForContentShare(v,u){v?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new r.default(this.contentAudioVideo.logger,u)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}enableSVCForContentShare(v){v?this.contentAudioVideo.configuration.enableSVC=!0:this.contentAudioVideo.configuration.enableSVC=!1}startContentShare(v){return d(this,void 0,void 0,function*(){if(v){if(this.contentAudioVideo.configuration.meetingFeatures.contentMaxResolution===m.default.VideoDisabled){this.contentAudioVideo.logger.info("Could not start content because max content resolution was set to None");return}this.mediaStreamBroker.mediaStream=v;for(let u=0;u<this.mediaStreamBroker.mediaStream.getTracks().length;u++)this.mediaStreamBroker.mediaStream.getTracks()[u].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(v,u){return d(this,void 0,void 0,function*(){const S=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(v,u);return yield this.startContentShare(S),S})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(v=>{e.Maybe.of(v.contentShareDidPause).map(u=>u.call(v))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(v=>{e.Maybe.of(v.contentShareDidUnpause).map(u=>u.call(v))})}setContentShareVideoCodecPreferences(v){this.contentAudioVideo.setVideoCodecSendPreferences(v)}destroy(){return d(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(v){this.observerQueue.add(v)}removeContentShareObserver(v){this.observerQueue.delete(v)}forEachContentShareObserver(v){for(const u of this.observerQueue)i.default.nextTick(()=>{this.observerQueue.has(u)&&v(u)})}audioVideoDidStart(){var v;((v=this.mediaStreamBroker.mediaStream)===null||v===void 0?void 0:v.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(v){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(u=>{e.Maybe.of(u.contentShareDidStop).map(S=>S.call(u))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((v,u,S,_)=>{const b=new s.default(v).hasModality(s.default.MODALITY_CONTENT),E=new s.default(v).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!b||!E||!u||this.contentShareTile)return;const T=this.mediaStreamBroker.mediaStream;if(T!=null&&T.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const I=T.getVideoTracks()[0];let A,w;if(I.getSettings){const R=I.getSettings();A=R.width,w=R.height}else{const R=I.getCapabilities();A=R.width,w=R.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,T,A,w,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(I=>{e.Maybe.of(I.contentShareDidStart).map(A=>A.call(I))})})}constructor(v,u,S){this.mediaStreamBroker=v,this.contentAudioVideo=u,this.attendeeAudioVideo=S,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");l.default=f},2708683354:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let d=n(class Qa{static register(){!("document"in c.g)||!document.addEventListener||Qa.shouldRegisterCSPMonitor&&(Qa.added||(document.addEventListener("securitypolicyviolation",Qa.listener),Qa.added=!0))}static unregister(){!("document"in c.g)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",Qa.listener),Qa.loggers=new Set,Qa.added=!1)}static disable(){Qa.shouldRegisterCSPMonitor=!1,Qa.unregister()}static addLogger(m){m&&Qa.loggers.add(m)}static removeLogger(m){m&&Qa.loggers.delete(m)}},"CSPMonitor");l.default=d,d.loggers=new Set,d.shouldRegisterCSPMonitor=!0,d.added=!1,d.listener=h=>{const m=`Security Policy Violation
Blocked URI: ${h.blockedURI}
Violated Directive: ${h.violatedDirective}
Original Policy: ${h.originalPolicy}
Document URI: ${h.documentURI}
Source File: ${h.sourceFile}
Line No.: ${h.lineNumber}
`;for(const p of d.loggers)p.error(m);d.loggers.size===0&&console.error(m)}},1958669480:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(h,m,p,a,s,i){this.timestampMs=h,this.topic=m,this.data=p,this.senderAttendeeId=a,this.senderExternalUserId=s,this.throttled=!!i}},"DataMessage");l.default=c},5873221632:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isDestroyable=void 0;function c(d){return d&&"destroy"in d}n(c,"isDestroyable"),l.isDestroyable=c},7469158520:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isAudioTransformDevice=void 0;function c(d){return!!d&&typeof d=="object"&&"mute"in d&&"stop"in d&&"intrinsicDevice"in d}n(c,"isAudioTransformDevice"),l.isAudioTransformDevice=c},6125631555:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(A,w,R,P){function x(z){return z instanceof R?z:new R(function(Z){Z(z)})}return n(x,"adopt"),new(R||(R=Promise))(function(z,Z){function re(ge){try{he(P.next(ge))}catch(Pe){Z(Pe)}}n(re,"fulfilled");function ne(ge){try{he(P.throw(ge))}catch(Pe){Z(Pe)}}n(ne,"rejected");function he(ge){ge.done?z(ge.value):x(ge.value).then(re,ne)}n(he,"step"),he((P=P.apply(A,w||[])).next())})},h=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9445576035)),p=h(c(6352527919)),a=h(c(3066440630)),s=h(c(6544037895)),i=c(9671487336),e=h(c(6948472094)),t=h(c(6158504357)),r=c(7469158520),o=h(c(549557744)),f=h(c(9068219729)),g=h(c(7819926287)),v=h(c(1827432705)),u=h(c(8925470260)),S=h(c(7676545646)),_=h(c(2306050026)),b=h(c(2425311569)),E=c(6229167887);let T=n(class So{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var w;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(w=this.mediaDeviceWrapper)===null||w===void 0||w.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var w;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(w=this.mediaDeviceWrapper)===null||w===void 0||w.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return d(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const R=yield this.listDevicesOfKind("audioinput",w);return this.trace("listAudioInputDevices",w,R),R})}listVideoInputDevices(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const R=yield this.listDevicesOfKind("videoinput",w);return this.trace("listVideoInputDevices",w,R),R})}listAudioOutputDevices(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const R=yield this.listDevicesOfKind("audiooutput",w);return this.trace("listAudioOutputDevices",w,R),R})}pushAudioMeetingStateForPermissions(w){var R;(R=this.eventController)===null||R===void 0||R.publishEvent(w===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(w){var R;(R=this.eventController)===null||R===void 0||R.publishEvent(w===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(w){return d(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(w))})}startAudioInputTask(w){var R;return d(this,void 0,void 0,function*(){if(w===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return r.isAudioTransformDevice(w)?(this.logger.info(`Choosing transform input device ${w}`),yield this.chooseAudioTransformInputDevice(w)):(this.logger.info(`Choosing intrinsic audio input device ${w}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",w)),this.trace("startAudioInputDevice",w,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(R=this.transform)===null||R===void 0?void 0:R.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(P){throw P}})}stopAudioInput(){return d(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return d(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(w){var R;return d(this,void 0,void 0,function*(){if(((R=this.transform)===null||R===void 0?void 0:R.device)===w)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const P=So.getAudioContext();if(!(P instanceof OfflineAudioContext))switch(P.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield P.resume()}let x;try{x=yield w.createAudioNode(P)}catch(Z){throw this.logger.error(`Unable to create transform device node: ${Z}.`),Z}const z=yield w.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",z),this.logger.debug(`Got inner stream: ${z}.`),this.setTransform(w,x)})}chooseVideoTransformInputDevice(w){var R;return d(this,void 0,void 0,function*(){if(this.eventController&&w instanceof e.default&&w.passEventControllerToProcessors(this.eventController),w===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const P=this.chosenVideoTransformDevice;P&&this.logger.info("Switched from previous VideoTransformDevice");const x=!!P,z=yield w.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((R=this.activeDevices.video)===null||R===void 0?void 0:R.stream,z)){this.logger.info("video transform device needs new intrinsic device"),x&&P.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=w,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",z),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=w,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield w.transformStream(this.activeDevices.video.stream)})}startVideoInput(w){return d(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(w))})}startVideoInputTask(w){return d(this,void 0,void 0,function*(){if(!w){this.logger.error("Invalid video input device");return}try{return E.isVideoTransformDevice(w)?(this.logger.info(`Choosing video transform device ${w}`),yield this.chooseVideoTransformInputDevice(w),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",w),this.trace("startVideoInputDevice",w),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(R){throw R}})}stopVideoInput(){return d(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return d(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(w){return d(this,void 0,void 0,function*(){this.audioOutputDeviceId=w,this.watchForDeviceChangesIfNecessary();const R=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(R),this.trace("chooseAudioOutput",w,null)})}addDeviceChangeObserver(w){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(w),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(w){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(w),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var w,R;if(!this.activeDevices.audio)return null;const P=(R=(w=this.transform)===null||w===void 0?void 0:w.nodes)===null||R===void 0?void 0:R.end;if(P){const x=P.context.createAnalyser();return x.removeOriginalInputs=()=>{try{P.disconnect(x)}catch{}},P.connect(x),x}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(w){const R=So.getAudioContext(),P=R.createAnalyser(),x=R.createMediaStreamSource(w);return x.connect(P),this.trace("createAnalyserNodeForAudioInput"),P.removeOriginalInputs=()=>{try{x.disconnect(P)}catch{}},P}startVideoPreviewForVideoInput(w){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",w.id);return}t.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,w,!0),this.trace("startVideoPreviewForVideoInput",w.id)}stopVideoPreviewForVideoInput(w){t.default.disconnectVideoStreamFromVideoElement(w,!1),this.trace("stopVideoPreviewForVideoInput",w.id)}setDeviceLabelTrigger(w){if(this.deviceInfoCache){for(const R of this.deviceInfoCache)if(!R.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=w,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(w){let R=null;return this.useWebAudio?(R=So.getAudioContext().createMediaStreamSource(w),R.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",w.id),R}chooseVideoInputQuality(w,R,P){const x=this.browserBehavior.requiresResolutionAlignment(w,R);this.videoInputQualitySettings=new b.default(x[0],x[1],P)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return d(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return d(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(w){return d(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(w){const R=this.activeDevices[w];if(!R)return;const P=R.endedCallback,x=R.trackMuteCallback,z=R.trackUnmuteCallback;for(const Z of R.stream.getTracks())Z.stop(),P&&Z.removeEventListener("ended",P),x&&Z.removeEventListener("mute",x),z&&Z.removeEventListener("unmute",z),delete R.endedCallback,delete R.trackMuteCallback,delete R.trackUnmuteCallback,delete this.activeDevices[w]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(w){var R;let P=this.activeDevices.audio;if(this.useWebAudio&&(P=this.getMediaStreamDestinationNode()),!!P){for(const x of P.stream.getTracks())x.enabled!==w&&(x.enabled=w);this.muted!==!w&&(this.muted=!w,(R=this.transform)===null||R===void 0||R.device.mute(this.muted))}}static getIntrinsicDeviceId(w){if(!w)return;if(typeof w=="string")return w;if(w.id)return w.id;const P=w.deviceId;if(!P)return;if(typeof P=="string"||Array.isArray(P))return P;const x=P;if(typeof x.exact=="string"||Array.isArray(x.exact))return x.exact}static createEmptyAudioDevice(){return So.synthesizeAudioDevice(0)}static synthesizeAudioDevice(w){const R=So.getAudioContext(),P=R.createMediaStreamDestination();if(w){const x=R.createGain();x.gain.value=.1,x.connect(P);const z=R.createOscillator();z.frequency.value=w,z.connect(x),z.start()}else{const x=R.createBufferSource();try{x.buffer=R.createBuffer(1,R.sampleRate*5,R.sampleRate)}catch(z){if(z&&z.name==="NotSupportedError")x.buffer=R.createBuffer(1,So.defaultSampleRate*5,So.defaultSampleRate);else throw z}x.buffer.getChannelData(0)[0]=3e-4,x.loop=!0,x.connect(P),x.start()}return P.stream}listDevicesOfKind(w,R){return d(this,void 0,void 0,function*(){return(R||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(w)})}updateDeviceInfoCacheFromBrowser(){var w;return d(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let P=yield navigator.mediaDevices.enumerateDevices(),x=!0;for(const z of P)if(!z.label){x=!1;break}if(!x)try{this.logger.info("attempting to trigger media device labels since they are hidden");const z=yield this.deviceLabelTrigger();P=yield navigator.mediaDevices.enumerateDevices();for(const Z of z.getTracks())Z.stop()}catch(z){this.logger.info("unable to get media device labels"),(w=this.eventController)===null||w===void 0||w.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(z)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(P)}`),this.deviceInfoCache=P})}listCachedDevicesOfKind(w){const R=[];if(this.deviceInfoCache)for(const P of this.deviceInfoCache)P.kind===w&&R.push(P);return R}handleDeviceChange(){return d(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){a.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const w=this.listCachedDevicesOfKind("audioinput"),R=this.listCachedDevicesOfKind("videoinput"),P=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const x=this.listCachedDevicesOfKind("audioinput"),z=this.listCachedDevicesOfKind("videoinput"),Z=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(re=>{this.areDeviceListsEqual(w,x)||i.Maybe.of(re.audioInputsChanged).map(ne=>ne.bind(re)(x)),this.areDeviceListsEqual(R,z)||i.Maybe.of(re.videoInputsChanged).map(ne=>ne.bind(re)(z)),this.areDeviceListsEqual(P,Z)||i.Maybe.of(re.audioOutputsChanged).map(ne=>ne.bind(re)(Z))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(w,R){return d(this,void 0,void 0,function*(){try{w==="audio"?(this.useWebAudio&&this.browserBehavior.requiresAudioContextResetOnDeviceFailureForWebAudio()?(this.logger.warn("Audio input device which was active is no longer available, suspending and resuming audio context before resetting to empty device to ensure packets are sent"),yield this.stopAudioInput(),So.suspendAudioContext(),So.resumeAudioContext()):this.logger.warn("Audio input device which was active is no longer available, resetting to empty device to ensure packets are sent"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}w==="audio"?this.forEachObserver(P=>{i.Maybe.of(P.audioInputStreamEnded).map(x=>x.bind(P)(R))}):this.forEachObserver(P=>{i.Maybe.of(P.videoInputStreamEnded).map(x=>x.bind(P)(R))})})}forEachObserver(w){for(const R of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(R)&&w(R)})}forEachMediaStreamBrokerObserver(w){for(const R of this.mediaStreamBrokerObservers)a.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(R)&&w(R)})}areDeviceListsEqual(w,R){return JSON.stringify(w.map(P=>JSON.stringify(P)).sort())===JSON.stringify(R.map(P=>JSON.stringify(P)).sort())}intrinsicDeviceAsMediaStream(w){return w&&w.id?w:null}hasSameMediaStreamId(w,R,P){var x,z,Z,re;let ne;return w==="audio"?(ne=P==null?void 0:P.audio.streamId,!!ne&&ne===((z=(x=R.constraints)===null||x===void 0?void 0:x.audio)===null||z===void 0?void 0:z.streamId)):(ne=P==null?void 0:P.video.streamId,!!ne&&ne===((re=(Z=R==null?void 0:R.constraints)===null||Z===void 0?void 0:Z.video)===null||re===void 0?void 0:re.streamId))}hasSameGroupId(w,R,P){if(w==="")return!0;const x=So.getIntrinsicDeviceId(P);return this.logger.debug(`Checking deviceIds ${x} of type ${typeof x} with groupId ${w}`),typeof x=="string"&&w===this.getGroupIdFromDeviceId(R,x)}getGroupIdFromDeviceId(w,R){if(this.deviceInfoCache!==null){const P=this.listCachedDevicesOfKind(`${w}input`).find(x=>x.deviceId===R);if(P&&P.groupId)return this.logger.debug(`GroupId of deviceId ${R} found in cache is ${P.groupId}`),P.groupId}return this.logger.debug(`GroupId of deviceId ${R} found in cache is empty`),""}handleGetUserMediaError(w,R){if(!w)throw new f.default(w);switch(w.name){case"NotReadableError":case"TrackStartError":throw new v.default(w);case"NotFoundError":case"DevicesNotFoundError":throw new g.default(w);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw R&&R<So.permissionDeniedOriginDetectionThresholdMs?new S.default(w,"Permission denied by browser"):new S.default(w,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new u.default(w);case"TypeError":throw new _.default(w);case"AbortError":default:throw new f.default(w)}}matchesDeviceSelection(w,R,P,x){return P&&P.stream.active&&(this.hasSameMediaStreamId(w,P,x)||P.groupId!==null&&this.hasSameGroupId(P.groupId,w,R))?(this.logger.debug(`Compare current device constraint ${JSON.stringify(P.constraints)} to proposed constraints ${JSON.stringify(x)}`),P.matchesConstraints(x)):!1}chooseInputIntrinsicDevice(w,R){var P,x;return d(this,void 0,void 0,function*(){const z=this.getMediaStreamConstraints(w,R);if(this.matchesDeviceSelection(w,R,this.activeDevices[w],z)){this.logger.info(`reusing existing ${w} input device`);return}this.activeDevices[w]&&this.activeDevices[w].stream&&this.stopTracksAndRemoveCallbacks(w);const Z=Date.now(),re=new o.default;try{this.logger.info(`requesting new ${w} device with constraint ${JSON.stringify(z)}`);const ne=this.intrinsicDeviceAsMediaStream(R);w==="audio"&&R===null?(re.stream=So.createEmptyAudioDevice(),re.constraints=null):ne?(this.logger.info(`using media stream ${ne.id} for ${w} device`),re.stream=ne,re.constraints=z):(re.stream=yield navigator.mediaDevices.getUserMedia(z),re.constraints=z),yield this.handleNewInputDevice(w,re)}catch(ne){const he=this.getErrorMessage(ne);w==="audio"?(P=this.eventController)===null||P===void 0||P.publishEvent("audioInputFailed",{audioInputErrorMessage:he}):(x=this.eventController)===null||x===void 0||x.publishEvent("videoInputFailed",{videoInputErrorMessage:he}),this.logger.error(`failed to get ${w} device for constraints ${JSON.stringify(z)}: ${he}`);let ge=!0;if(ne&&"constraint"in ne&&(this.logger.error(`Over-constrained by constraint: ${ne.constraint}`),this.useMediaConstraintsFallback)){const Pe=this.getMediaStreamConstraints(w,R,!0),He=JSON.stringify(Pe);if(He!==JSON.stringify(z)){this.logger.info(`retry requesting new ${w} device with minimal constraint ${He}`);try{re.stream=yield navigator.mediaDevices.getUserMedia(Pe),re.constraints=Pe,yield this.handleNewInputDevice(w,re),ge=!1}catch(pt){this.logger.error(`failed to get ${w} device for constraints ${He}: ${this.getErrorMessage(pt)}`)}}}if(ge){if(w==="audio"){this.logger.info(`choosing null ${w} device instead`);try{re.stream=So.createEmptyAudioDevice(),re.constraints=null,yield this.handleNewInputDevice(w,re)}catch(Pe){this.logger.error(`failed to choose null ${w} device. ${Pe.name}: ${Pe.message}`)}}this.handleGetUserMediaError(ne,Date.now()-Z)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(w){return w?w.name&&w.message?`${w.name}: ${w.message}`:w.name?w.name:w.message?w.message:"UnknownError":"UnknownError"}handleNewInputDevice(w,R){var P;return d(this,void 0,void 0,function*(){this.logger.info(`got ${w} device for constraints ${JSON.stringify(R.constraints)}`);const x=(P=this.getMediaTrackSettings(R.stream))===null||P===void 0?void 0:P.deviceId;R.groupId=x?this.getGroupIdFromDeviceId(w,x):"",this.activeDevices[w]=R,this.logger.debug(`Set activeDevice to ${JSON.stringify(R)}`),this.watchForDeviceChangesIfNecessary();const z=R.stream.getTracks()[0];if(z&&(R.endedCallback=()=>{this.activeDevices[w]&&this.activeDevices[w].stream===R.stream&&(this.handleDeviceStreamEnded(w,x),delete R.endedCallback)},z.addEventListener("ended",R.endedCallback,{once:!0})),w==="audio"){const Z=R.stream.getAudioTracks()[0];if(Z){const re=Z.getSettings().deviceId||R.stream;R.trackMuteCallback=()=>{this.mediaStreamMuteObserver(re,!0)},R.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(re,!1)},Z.addEventListener("mute",R.trackMuteCallback,{once:!1}),Z.addEventListener("unmute",R.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),Z.muted?R.trackMuteCallback():R.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(w,R,P,x){if(x&&this.listCachedDevicesOfKind(`${w}input`).length===1)return!0;const z={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?z.deviceId=R:z.deviceId={exact:R},P&&(z.groupId=P),x?z:w==="video"?(z.width={ideal:this.videoInputQualitySettings.videoWidth},z.height={ideal:this.videoInputQualitySettings.videoHeight},z.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},z):(this.supportSampleRateConstraint()&&(z.sampleRate={ideal:So.defaultSampleRate}),this.supportSampleSizeConstraint()&&(z.sampleSize={ideal:So.defaultSampleSize}),this.supportChannelCountConstraint()&&(z.channelCount={ideal:So.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},z))}getMediaStreamConstraintsFromTrackConstraints(w,R){return w==="audio"?{audio:R}:{video:R}}getMediaStreamConstraints(w,R){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x={};if(!R)return null;const z=this.intrinsicDeviceAsMediaStream(R);if(z)return x.streamId=z.id,this.getMediaStreamConstraintsFromTrackConstraints(w,x);if(typeof R=="string"){let Z="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?Z=this.getGroupIdFromDeviceId(w,R):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),x=this.calculateMediaStreamConstraints(w,R,Z,P),this.getMediaStreamConstraintsFromTrackConstraints(w,x)}return I(R)?(x=this.calculateMediaStreamConstraints(w,R.deviceId,R.groupId,P),this.getMediaStreamConstraintsFromTrackConstraints(w,x)):(x=R,this.getMediaStreamConstraintsFromTrackConstraints(w,x))}deviceInfoFromDeviceId(w,R){if(this.deviceInfoCache===null)return null;for(const P of this.deviceInfoCache)if(P.kind===w&&P.deviceId===R)return P;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(w,R){if(!w||!w.active||!R)return!1;if(R.id)return w.id===R.id;const P=this.getMediaTrackSettings(w);if(!P.deviceId)return!1;const x=So.getIntrinsicDeviceId(R);return typeof x=="string"?P.deviceId===x:!1}getMediaTrackSettings(w){var R;return(R=w.getTracks()[0])===null||R===void 0?void 0:R.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const w=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(w)}setTransform(w,R){var P,x;(x=(P=this.transform)===null||P===void 0?void 0:P.nodes)===null||x===void 0||x.end.disconnect(),this.transform={nodes:R,device:w};const z=R==null?void 0:R.end,Z=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${z} to destination ${Z}.`),z==null||z.connect(Z),this.reconnectAudioInputs()}removeTransform(){var w;const R=this.transform;if(R)return(w=this.transform.nodes)===null||w===void 0||w.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),R}attachAudioInputStreamToAudioContext(w){var R;(R=this.audioInputSourceNode)===null||R===void 0||R.disconnect(),this.audioInputSourceNode=So.getAudioContext().createMediaStreamSource(w);const P=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(P)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=So.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var w,R;return((R=(w=this.transform)===null||w===void 0?void 0:w.nodes)===null||R===void 0?void 0:R.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(w){So.defaultLatencyHint=w}static getAudioContext(){if(!So.audioContext){const w={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(w.sampleRate=So.defaultSampleRate),new m.default().requiresPlaybackLatencyHintForAudioContext()&&(w.latencyHint="playback"),So.defaultLatencyHint&&(w.latencyHint=So.defaultLatencyHint),So.audioContext=new(window.AudioContext||window.webkitAudioContext)(w)}return So.audioContext}static suspendAudioContext(){return d(this,void 0,void 0,function*(){return So.audioContext?So.audioContext.suspend():Promise.resolve()})}static resumeAudioContext(){return d(this,void 0,void 0,function*(){return So.audioContext?So.audioContext.resume():Promise.resolve()})}static closeAudioContext(){if(So.audioContext)try{So.audioContext.close()}catch{}So.audioContext=null}addMediaStreamBrokerObserver(w){this.mediaStreamBrokerObservers.add(w)}removeMediaStreamBrokerObserver(w){this.mediaStreamBrokerObservers.delete(w)}publishVideoInputDidChangeEvent(w){this.forEachMediaStreamBrokerObserver(R=>{R.videoInputDidChange&&R.videoInputDidChange(w)}),this.pushVideoMeetingStateForPermissions(w)}publishAudioInputDidChangeEvent(w){this.forEachMediaStreamBrokerObserver(R=>{R.audioInputDidChange&&R.audioInputDidChange(w)}),this.pushAudioMeetingStateForPermissions(w)}publishAudioOutputDidChangeEvent(w){this.forEachMediaStreamBrokerObserver(R=>{R.audioOutputDidChange&&R.audioOutputDidChange(w)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(w,R,P){let x=`API/DefaultDeviceController/${w}`;typeof R<"u"&&(x+=` ${JSON.stringify(R)}`),typeof P<"u"&&(x+=` -> ${JSON.stringify(P)}`),this.logger.info(x)}constructor(w,R,P=new m.default,x){this.logger=w,this.browserBehavior=P,this.eventController=x,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new s.default,this.videoInputTaskQueue=new s.default,this.muted=!1,this.mediaStreamMuteObserver=(ne,he)=>{for(const ge of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(ge)&&ge.audioInputMuteStateChanged&&ge.audioInputMuteStateChanged(ne,he)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:z=!1,useMediaConstraintsFallback:Z=!0}=R||{};this.useWebAudio=z,this.useMediaConstraintsFallback=Z,this.videoInputQualitySettings=new b.default(So.defaultVideoWidth,So.defaultVideoHeight,So.defaultVideoFrameRate);const re=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=re[0],this.videoInputQualitySettings.videoHeight=re[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new p.default().create();const ne=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(ne)}`)}catch(ne){w.error(ne.message)}}},"DefaultDeviceController");l.default=T,T.permissionDeniedOriginDetectionThresholdMs=500,T.defaultVideoWidth=960,T.defaultVideoHeight=540,T.defaultVideoFrameRate=15,T.defaultSampleRate=48e3,T.defaultSampleSize=16,T.defaultChannelCount=1,T.audioContext=null;function I(A){return typeof A=="object"&&"deviceId"in A&&"groupId"in A&&"kind"in A&&"label"in A}n(I,"isMediaDeviceInfo")},549557744:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{matchesConstraints(h){return JSON.stringify(this.constraints)===JSON.stringify(h)}constructor(){this.groupId=""}},"DeviceSelection");l.default=c},9068219729:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class extends Error{constructor(h,m){super(m||"Error fetching device."),this.cause=h,this.name="GetUserMediaError"}},"GetUserMediaError");l.default=c},8297410470:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.NoOpDeviceControllerWithEventController=void 0;const m=h(c(7836148100)),p=h(c(2425311569));let a=n(class extends m.default{destroy(){return d(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(e){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(e){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(e){return Promise.reject()}addDeviceChangeObserver(e){}removeDeviceChangeObserver(e){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(e){}stopVideoPreviewForVideoInput(e){}setDeviceLabelTrigger(e){}mixIntoAudioInput(e){return null}chooseVideoInputQuality(e,t,r){}getVideoInputQualitySettings(){return p.default.VideoDisabled}constructor(e){super(),this.destroyed=!1}},"NoOpDeviceController");l.default=a;let s=n(class extends a{constructor(e){super(),this.eventController=e}},"NoOpDeviceControllerWithEventController");l.NoOpDeviceControllerWithEventController=s},7819926287:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9068219729));let m=n(class extends h.default{constructor(a){super(a),this.name="NotFoundError"}},"NotFoundError");l.default=m},1827432705:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9068219729));let m=n(class extends h.default{constructor(a){super(a),this.name="NotReadableError"}},"NotReadableError");l.default=m},8925470260:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9068219729));let m=n(class extends h.default{constructor(a,s){super(a),this.constraint=s,this.name="OverconstrainedError"}},"OverconstrainedError");l.default=m},7676545646:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9068219729));let m=n(class extends h.default{constructor(a,s){super(a,s),this.name="PermissionDeniedError"}},"PermissionDeniedError");l.default=m},3959565700:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{mute(m){return c(this,void 0,void 0,function*(){})}stop(){var m;return c(this,void 0,void 0,function*(){(m=this.node)===null||m===void 0||m.disconnect()})}intrinsicDevice(){return c(this,void 0,void 0,function*(){return this.inner})}createAudioNode(m){var p;return c(this,void 0,void 0,function*(){return(p=this.node)===null||p===void 0||p.disconnect(),this.node=yield this.createSingleAudioNode(m),{start:this.node,end:this.node}})}constructor(m){this.inner=m}},"SingleNodeAudioTransformDevice");l.default=d},2306050026:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9068219729));let m=n(class extends h.default{constructor(a){super(a),this.name="TypeError"}},"TypeError");l.default=m},2425311569:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{equals(h){return this.videoWidth===h.videoWidth&&this.videoHeight===h.videoHeight&&this.videoFrameRate===h.videoFrameRate}constructor(h,m,p){this.videoWidth=h,this.videoHeight=m,this.videoFrameRate=p}},"VideoQualitySettings");l.default=c,c.VideoDisabled=new c(0,0,0),c.VideoResolutionHD=new c(1280,720,30),c.VideoResolutionFHD=new c(1920,1080,30),c.VideoResolutionUHD=new c(3840,2160,30)},6229167887:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isVideoTransformDevice=void 0;function c(d){return!!d&&typeof d=="object"&&"transformStream"in d&&"stop"in d&&"intrinsicDevice"in d}n(c,"isVideoTransformDevice"),l.isVideoTransformDevice=c},631034393:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{destroy(){return c(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(m){this.observerQueue.add(m),m.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(m){this.observerQueue.delete(m)}constructor(m,p){if(this.devicePixelRatioSource=m,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(s=>{s.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const a=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof a.addEventListener=="function"?(a.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=a):typeof a.addListener=="function"?(a.addListener(this.mediaQueryListener),this.mediaQueryList=a):p.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");l.default=d},7185484726:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");l.default=c},7780712218:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(t,r,o,f){function g(v){return v instanceof o?v:new o(function(u){u(v)})}return n(g,"adopt"),new(o||(o=Promise))(function(v,u){function S(E){try{b(f.next(E))}catch(T){u(T)}}n(S,"fulfilled");function _(E){try{b(f.throw(E))}catch(T){u(T)}}n(_,"rejected");function b(E){E.done?v(E.value):g(E.value).then(S,_)}n(b,"step"),b((f=f.apply(t,r||[])).next())})},h=this&&this.__rest||function(t,r){var o={};for(var f in t)Object.prototype.hasOwnProperty.call(t,f)&&r.indexOf(f)<0&&(o[f]=t[f]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(t);g<f.length;g++)r.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(t,f[g])&&(o[f[g]]=t[f[g]]);return o},m=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const p=m(c(9173407961)),a=m(c(5790858051)),s=m(c(7680559561)),i=c(1366921492);let e=n(class Nc{addEventListeners(){!this.beaconEventListener||!("window"in c.g)||!window.addEventListener||!("document"in c.g)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(r){(r.type==="visibilitychange"&&document.visibilityState==="hidden"||r.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in c.g)||!window.removeEventListener||!("document"in c.g)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var r;this.removeEventListeners(),this.addEventListeners(),(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=new a.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var r;(r=this.intervalScheduler)===null||r===void 0||r.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(r){return d(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(r)}`);const{name:o,ts:f,attributes:g}=r,v=g&&this.filterAttributes(g,this.attributesToFilter),u=Object.assign({name:o,ts:f},v);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(u)}`);const S=this.getSize(u);if(S>Nc.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${S} bytes. Item cannot exceed max item size allowed of ${Nc.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(o)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(u)}`),this.sendEventImmediately({name:o,ts:f,attributes:v});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(u),this.ingestionEventSize+=S,this.bufferItemThresholdReached(S)){const _=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(_),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(r,o){const f=new Set(o);return Object.keys(r).filter(v=>f.has(v)).forEach(v=>delete r[v]),r}initializeAndGetCurrentIngestionEvent(){const r={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(r),r}bufferItemThresholdReached(r){return r+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===Nc.MAX_PAYLOAD_ITEMS}getSize(r){let o=0;if(typeof r=="object")for(const[f,g]of Object.entries(r))o+=this.getPrimitiveSize(f),o+=this.getSize(g);else o+=this.getPrimitiveSize(r);return o}getPrimitiveSize(r){let o=0;return typeof r=="string"?o+=r.length*2:typeof r=="number"&&(o+=8),o}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(r=Math.min(this.buffer.length,r+1),this.buffer.splice(o,r))}makeBeaconRequestBody(r){const o={metadata:this.metadata,events:r,authorization:this.authenticationToken};return JSON.stringify(o)}makeRequestBody(r){const o={metadata:this.metadata,events:r};return JSON.stringify(o)}sendEventImmediately(r){return d(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(r)}`);const{name:o,ts:f,attributes:g}=r,v={type:this.type,v:this.v,payloads:[Object.assign({name:o,ts:f},g)]};let u=!1,S=null;const _=this.makeRequestBody([v]);try{if(S=yield this.send(_),S.ok){try{const b=yield S.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${_}, message: ${JSON.stringify(b)}`)}catch(b){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${b} for event ${_}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${_} with response status ${S.status}`),u=!0}catch(b){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${_} to the ingestion endpoint ${b}.`),u=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const E=this.makeBeaconRequestBody([v]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${E}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,E)?u=!1:u=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${_}`),u=!0}}u&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${_}`),this.failedIngestionEvents.push(v))})}send(r){return d(this,void 0,void 0,function*(){const o=new p.default(Nc.RETRY_FIXED_BACKOFF_WAIT_MS,Nc.RETRY_SHORT_BACKOFF_MS,Nc.RETRY_LONG_BACKOFF_MS);try{let f=0;for(;f<this.retryCountLimit;){const g=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:r});if(g.ok||!Nc.SENDING_FAILURE_CODES.has(g.status))return g;if(this.logger.warn(`Will retry sending failure for ${r} due to status code ${g.status}.`),f++,f<this.retryCountLimit){const v=o.nextBackoffAmountMs();yield i.wait(v)}}if(f===this.retryCountLimit)throw new Error(`Retry count limit reached for ${r}`)}catch(f){throw f}})}sendBeacon(){return d(this,void 0,void 0,function*(){const r=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(r)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const f=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);r.push(f),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(f)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const f=this.failedIngestionEvents.map(g=>this.deepCopyCurrentIngestionEvent(g));r.push(...f),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(f)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(f=>{r.push(...f),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(f)}`)}),this.cancellableEvents.clear()),r.length===0)return;const o=this.makeBeaconRequestBody(r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${o}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,o)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${o}`)}catch(f){this.logger.warn(`Event Reporting - Sending beacon data ${o} failed with error ${f}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return d(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(r,o,f,g,v){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=z=>({type:z.type,v:z.v,payloads:[...z.payloads]}),this.sendEvents=()=>d(this,void 0,void 0,function*(){if(this.lock)return;const z=this.getItems(this.flushSize);if(z.length===0)return;this.lock=!0;const Z=this.makeRequestBody(z);let re=!1;const ne=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(ne,z);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${Z}`);const he=yield this.send(Z);if(this.cancellableEvents.delete(ne),!he.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${Z} with response status ${he.status}`),re=!0;else try{const ge=yield he.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${Z} message: ${JSON.stringify(ge)}`)}catch(ge){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${ge} for events ${Z}`)}}catch(he){re=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${Z} to the ingestion endpoint ${he}`)}finally{this.lock=!1}re&&(this.cancellableEvents.delete(ne),this.failedIngestionEvents.push(...z))});const u=new s.default(v).getParserResult(),{browserMajorVersion:S}=u,_=h(u,["browserMajorVersion"]),b=o.toJSON(),{type:E,v:T}=b,I=h(b,["type","v"]);this.authenticationToken=o.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},_),I),Object.keys(this.metadata).forEach(z=>this.attributesToFilter.push(z)),this.type=E,this.v=T,this.ingestionURL=f,this.logger=v,this.importantEvents=new Set(g);const{maxBufferCapacityKb:A,totalBufferItems:w,flushSize:R,flushIntervalMs:P,retryCountLimit:x}=r;this.maxBufferCapacityBytes=A*1024,this.totalBufferItems=w,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/w),this.flushIntervalMs=P,this.flushSize=R,this.retryCountLimit=x,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=z=>this.beaconEventHandler(z),this.addEventListeners()}},"InMemoryJSONEventBuffer");l.default=e,e.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),e.RETRY_FIXED_BACKOFF_WAIT_MS=0,e.RETRY_SHORT_BACKOFF_MS=1e3,e.RETRY_LONG_BACKOFF_MS=15e3,e.MAX_PAYLOAD_ITEMS=2,e.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3},4329135474:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h=5e3,m=2,p=64,a=100,s=15){this.flushIntervalMs=h,this.flushSize=m,this.maxBufferCapacityKb=p,this.totalBufferItems=a,this.retryCountLimit=s}},"EventBufferConfiguration");l.default=c},9375803731:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(f,g,v,u){function S(_){return _ instanceof v?_:new v(function(b){b(_)})}return n(S,"adopt"),new(v||(v=Promise))(function(_,b){function E(A){try{I(u.next(A))}catch(w){b(w)}}n(E,"fulfilled");function T(A){try{I(u.throw(A))}catch(w){b(w)}}n(T,"rejected");function I(A){A.done?_(A.value):S(A.value).then(E,T)}n(I,"step"),I((u=u.apply(f,g||[])).next())})},h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(5961608329),p=c(5873221632),a=h(c(818962756)),s=h(c(9219485394)),i=h(c(5512071755)),e=h(c(3066440630)),t=h(c(6332689210)),r=h(c(3415897055));let o=n(class Md{addObserver(g){this.observerSet.add(g)}removeObserver(g){this.observerSet.delete(g)}forEachObserver(g){for(const v of this.observerSet)e.default.nextTick(()=>{this.observerSet.has(v)&&g(v)})}publishEvent(g,v){return d(this,void 0,void 0,function*(){const u=Date.now();this.meetingHistoryStates.push({name:g,timestampMs:u});const S=Object.freeze(Object.assign(this.getAttributes(u),v));this.forEachObserver(_=>{_.eventDidReceive(g,S)}),this.reportEvent(g,u,v)})}reportEvent(g,v,u){var S;return d(this,void 0,void 0,function*(){let _;try{u&&(_=r.default(u)),yield(S=this.eventReporter)===null||S===void 0?void 0:S.reportEvent(v,g,_)}catch(b){this.logger.error(`Error reporting event ${b}`)}})}setupEventReporter(g,v,u){if(u)this._eventReporter=u;else if(g.urls){const S=g.urls.eventIngestionURL;if(S){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:_,credentials:{attendeeId:b,joinToken:E}}=g,T=new i.default(_,b,E),I=new a.default(T,S);this._eventReporter=new s.default(I,v)}}}getAttributes(g){var v,u;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((v=this.parserResult)===null||v===void 0?void 0:v.os.name)||Md.UNAVAILABLE,osVersion:((u=this.parserResult)===null||u===void 0?void 0:u.os.version)||Md.UNAVAILABLE,sdkVersion:t.default.sdkVersion,sdkName:t.default.sdkName,timestampMs:g}}get eventReporter(){return this._eventReporter}destroy(){return d(this,void 0,void 0,function*(){p.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(g,v,u){var S,_,b,E,T,I,A;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=v,this.configuration=g,this.setupEventReporter(g,v,u);try{this.parserResult=navigator&&navigator.userAgent?new m.UAParser(navigator.userAgent).getResult():null}catch(w){this.logger.error(w.message)}this.browserMajorVersion=((b=(_=(S=this.parserResult)===null||S===void 0?void 0:S.browser)===null||_===void 0?void 0:_.version)===null||b===void 0?void 0:b.split(".")[0])||Md.UNAVAILABLE,this.browserName=((E=this.parserResult)===null||E===void 0?void 0:E.browser.name)||Md.UNAVAILABLE,this.browserVersion=((T=this.parserResult)===null||T===void 0?void 0:T.browser.version)||Md.UNAVAILABLE,this.deviceName=[((I=this.parserResult)===null||I===void 0?void 0:I.device.vendor)||"",((A=this.parserResult)===null||A===void 0?void 0:A.device.model)||""].join(" ").trim()||Md.UNAVAILABLE}},"DefaultEventController");l.default=o,o.UNAVAILABLE="Unavailable"},3415897055:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=n(d=>{const h={};for(const[m,p]of Object.entries(d))if(!(p==null||p===""))if(typeof p=="number"||typeof p=="string")h[m]=p;else throw new TypeError("Unhandled type received while flattening attributes.");return h},"flattenEventAttributes");l.default=c},818962756:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(4329135474));let m=n(class{constructor(a,s,i=new h.default){this.eventsClientConfiguration=a,this.ingestionURL=s,this.eventBufferConfiguration=i}},"EventIngestionConfiguration");l.default=m},9219485394:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(5873221632),p=h(c(7780712218));let a=n(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(i){this.logger.error(`Event Reporting - Error starting the event buffer ${i}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(i){this.logger.error(`Event Reporting - Error stopping the event buffer ${i}`)}}reportEvent(i,e,t){return d(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${i}, ${e}, ${JSON.stringify(t)}`),this.eventsToIgnore.includes(e)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${e} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:i,name:e,attributes:t})}catch(r){this.logger.error(`Event Reporting - Error adding event to buffer ${r}`)}})}destroy(){return d(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),m.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(i,e){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;const{eventsClientConfiguration:t,ingestionURL:r,eventBufferConfiguration:o}=i,{eventsToIgnore:f}=t;this.eventBuffer=new p.default(o,t,r,this.importantEvents,e),this.logger=e,this.eventsToIgnore=f,this.start()}},"DefaultMeetingEventReporter");l.default=a},5449969688:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{reportEvent(h,m,p){}start(){}stop(){}constructor(){}},"NoOpEventReporter");l.default=c},5512071755:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const h={};return h.type=this.type,h.v=this.v,h.meetingId=this.meetingId,h.attendeeId=this.attendeeId,h}constructor(h,m,p,a=[]){this.type="Meet",this.v=1,this.meetingId=h,this.attendeeId=m,this.eventsToIgnore=a,this.authenticationToken=p}},"MeetingEventsClientConfiguration");l.default=c},28946295:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(os){return os&&os.__esModule?os:{default:os}};Object.defineProperty(l,"__esModule",{value:!0}),l.DefaultEventController=l.DefaultDevicePixelRatioMonitor=l.DefaultDeviceController=l.DefaultContentShareController=l.DefaultBrowserBehavior=l.DefaultAudioVideoFacade=l.DefaultAudioVideoController=l.DefaultAudioMixController=l.DefaultActiveSpeakerPolicy=l.DefaultActiveSpeakerDetector=l.DataMessage=l.CreateSDPTask=l.CreatePeerConnectionTask=l.ContentShareMediaStreamBroker=l.ContentShareConstants=l.ConsoleLogger=l.ConnectionHealthPolicyConfiguration=l.ConnectionHealthData=l.ClientVideoStreamReceivingReport=l.ClientMetricReportMediaType=l.ClientMetricReportDirection=l.ClientMetricReport=l.CleanStoppedSessionTask=l.CleanRestartedSessionTask=l.CheckVideoInputFeedback=l.CheckVideoConnectivityFeedback=l.CheckNetworkUDPConnectivityFeedback=l.CheckNetworkTCPConnectivityFeedback=l.CheckContentShareConnectivityFeedback=l.CheckCameraResolutionFeedback=l.CheckAudioOutputFeedback=l.CheckAudioInputFeedback=l.CheckAudioConnectivityFeedback=l.CanvasVideoFrameBuffer=l.CSPMonitor=l.BitrateParameters=l.BaseTask=l.BaseConnectionHealthPolicy=l.BackgroundReplacementVideoFrameProcessor=l.BackgroundFilterVideoFrameProcessor=l.BackgroundBlurVideoFrameProcessor=l.BackgroundBlurStrength=l.AudioVideoControllerState=l.AudioProfile=l.AudioLogEvent=l.Attendee=l.AttachMediaInputTask=l.AsyncScheduler=l.ApplicationMetadata=l.AllHighestVideoBandwidthPolicy=void 0,l.MeetingFeatures=l.MeetingEventsClientConfiguration=l.MediaDeviceProxyHandler=l.Maybe=l.LogLevel=l.Log=l.ListenForVolumeIndicatorsTask=l.LeaveAndReceiveLeaveAckTask=l.JoinAndReceiveIndexTask=l.IntervalScheduler=l.InMemoryJSONEventBuffer=l.GlobalMetricReport=l.GetUserMediaError=l.FullJitterLimitedBackoff=l.FullJitterBackoffFactory=l.FullJitterBackoff=l.FinishGatheringICECandidatesTask=l.EventIngestionConfiguration=l.EventBufferConfiguration=l.DeviceSelection=l.DevicePixelRatioWindowSource=l.DefaultWebSocketAdapter=l.DefaultVolumeIndicatorAdapter=l.DefaultVideoTransformDevice=l.DefaultVideoTileFactory=l.DefaultVideoTileController=l.DefaultVideoTile=l.DefaultVideoStreamIndex=l.DefaultVideoStreamIdSet=l.DefaultVideoFrameProcessorTimer=l.DefaultVideoFrameProcessorPipeline=l.DefaultVideoElementResolutionMonitor=l.DefaultVideoCaptureAndEncodeParameter=l.DefaultUserAgentParser=l.DefaultTranscriptionController=l.DefaultTransceiverController=l.DefaultSimulcastUplinkPolicyForContentShare=l.DefaultSimulcastUplinkPolicy=l.DefaultSignalingClient=l.DefaultSigV4=l.DefaultSessionStateController=l.DefaultReconnectController=l.DefaultRealtimeController=l.DefaultPingPong=l.DefaultModality=l.DefaultMessagingSession=l.DefaultMeetingSession=l.DefaultMeetingReadinessChecker=l.DefaultMeetingEventReporter=l.DefaultMediaDeviceFactory=void 0,l.RedundantAudioEncoder=l.ReconnectionHealthPolicy=l.ReceiveVideoStreamIndexTask=l.ReceiveVideoInputTask=l.ReceiveRemoteVideoPauseResumeTask=l.ReceiveAudioInputTask=l.RealtimeVolumeIndicator=l.RealtimeState=l.RealtimeAttendeePositionInFrame=l.PromoteToPrimaryMeetingTask=l.PromiseQueue=l.PrefetchSortBy=l.PrefetchOn=l.PermissionDeniedError=l.ParallelGroupTask=l.POSTLogger=l.OverconstrainedError=l.OpenSignalingConnectionTask=l.OnceTask=l.NotReadableError=l.NotFoundError=l.None=l.NoVideoUplinkBandwidthPolicy=l.NoVideoDownlinkBandwidthPolicy=l.NoOpVideoFrameProcessor=l.NoOpVideoElementFactory=l.NoOpTask=l.NoOpMediaStreamBroker=l.NoOpLogger=l.NoOpEventReporter=l.NoOpDeviceController=l.NoOpDebugLogger=l.NoOpAudioVideoController=l.NScaleVideoUplinkBandwidthPolicy=l.MutableVideoPreferences=l.MultiLogger=l.MonitorTask=l.ModelSpecBuilder=l.MessagingSessionConfiguration=l.Message=l.MeetingSessionVideoAvailability=l.MeetingSessionURLs=l.MeetingSessionTURNCredentials=l.MeetingSessionStatusCode=l.MeetingSessionStatus=l.MeetingSessionLifecycleEventCondition=l.MeetingSessionLifecycleEvent=l.MeetingSessionCredentials=l.MeetingSessionConfiguration=l.MeetingReadinessCheckerConfiguration=void 0,l.VideoEncodingConnectionHealthPolicyName=l.VideoCodecCapability=l.VideoAdaptiveProbePolicy=l.Versioning=l.UnusableAudioWarningConnectionHealthPolicy=l.TypeError=l.TranscriptionStatusType=l.TranscriptionStatus=l.TranscriptResult=l.TranscriptLanguageWithScore=l.TranscriptItemType=l.TranscriptItem=l.TranscriptEntity=l.TranscriptAlternative=l.Transcript=l.TimeoutTask=l.TimeoutScheduler=l.TaskStatus=l.TargetDisplaySize=l.SubscribeAndReceiveSubscribeAckTask=l.StreamMetricReport=l.Some=l.SingleNodeAudioTransformDevice=l.SimulcastVideoStreamIndex=l.SimulcastTransceiverController=l.SimulcastLayers=l.SimulcastContentShareTransceiverController=l.SignalingClientVideoSubscriptionConfiguration=l.SignalingClientSubscribe=l.SignalingClientJoin=l.SignalingClientEventType=l.SignalingClientEvent=l.SignalingClientConnectionRequest=l.SignalingAndMetricsConnectionMonitor=l.SetRemoteDescriptionTask=l.SetLocalDescriptionTask=l.SessionStateControllerTransitionResult=l.SessionStateControllerState=l.SessionStateControllerDeferPriority=l.SessionStateControllerAction=l.ServerSideNetworkAdaption=l.SerialGroupTask=l.SendingAudioFailureConnectionHealthPolicy=l.SendAndReceiveDataMessagesTask=l.SDPMediaSection=l.SDPCandidateType=l.SDP=l.RunnableTask=l.RedundantAudioRecoveryMetricReport=l.RedundantAudioEncoderWorkerCode=void 0,l.isVideoTransformDevice=l.isDestroyable=l.isAudioTransformDevice=l.ZLIBTextCompressor=l.WebSocketReadyState=l.WaitForAttendeePresenceTask=l.VoiceFocusTransformDevice=l.VoiceFocusDeviceTransformer=l.VideoTileState=l.VideoStreamDescription=l.VideoSource=l.VideoQualitySettings=l.VideoQualityAdaptationPreference=l.VideoPriorityBasedPolicyConfig=l.VideoPriorityBasedPolicy=l.VideoPreferences=l.VideoPreference=l.VideoOnlyTransceiverController=l.VideoLogEvent=l.VideoFxProcessor=l.VideoEncodingFramerateConnectionHealthPolicy=l.VideoEncodingCpuConnectionHealthPolicy=void 0;const h=d(c(4731147871));l.AllHighestVideoBandwidthPolicy=h.default;const m=d(c(326556152));l.ApplicationMetadata=m.default;const p=d(c(3066440630));l.AsyncScheduler=p.default;const a=d(c(8563305537));l.AttachMediaInputTask=a.default;const s=d(c(6922010698));l.Attendee=s.default;const i=d(c(1577470520));l.AudioLogEvent=i.default;const e=d(c(8288024884));l.AudioProfile=e.default;const t=d(c(8511085217));l.AudioVideoControllerState=t.default;const r=d(c(6493518233));l.BackgroundBlurStrength=r.default;const o=d(c(1846007608));l.BackgroundBlurVideoFrameProcessor=o.default;const f=d(c(693400218));l.BackgroundFilterVideoFrameProcessor=f.default;const g=d(c(5038925386));l.BackgroundReplacementVideoFrameProcessor=g.default;const v=d(c(6925537195));l.BaseConnectionHealthPolicy=v.default;const u=d(c(748822893));l.BaseTask=u.default;const S=d(c(896836858));l.BitrateParameters=S.default;const _=d(c(2708683354));l.CSPMonitor=_.default;const b=d(c(5808804466));l.CanvasVideoFrameBuffer=b.default;const E=d(c(3406224828));l.CheckAudioConnectivityFeedback=E.default;const T=d(c(437211311));l.CheckAudioInputFeedback=T.default;const I=d(c(7220712718));l.CheckAudioOutputFeedback=I.default;const A=d(c(9989661280));l.CheckCameraResolutionFeedback=A.default;const w=d(c(654172010));l.CheckContentShareConnectivityFeedback=w.default;const R=d(c(5083453699));l.CheckNetworkTCPConnectivityFeedback=R.default;const P=d(c(2977514603));l.CheckNetworkUDPConnectivityFeedback=P.default;const x=d(c(5435266265));l.CheckVideoConnectivityFeedback=x.default;const z=d(c(3575737100));l.CheckVideoInputFeedback=z.default;const Z=d(c(4989012661));l.CleanRestartedSessionTask=Z.default;const re=d(c(957321624));l.CleanStoppedSessionTask=re.default;const ne=d(c(3713066448));l.ClientMetricReport=ne.default;const he=d(c(3071240545));l.ClientMetricReportDirection=he.default;const ge=d(c(3967449568));l.ClientMetricReportMediaType=ge.default;const Pe=d(c(6193104267));l.ClientVideoStreamReceivingReport=Pe.default;const He=d(c(5392261736));l.ConnectionHealthData=He.default;const pt=d(c(7666896524));l.ConnectionHealthPolicyConfiguration=pt.default;const Ht=d(c(632433771));l.ConsoleLogger=Ht.default;const Ke=d(c(3944645711));l.ContentShareConstants=Ke.default;const it=d(c(2140051607));l.ContentShareMediaStreamBroker=it.default;const ct=d(c(9342672808));l.CreatePeerConnectionTask=ct.default;const rt=d(c(7771209539));l.CreateSDPTask=rt.default;const _t=d(c(1958669480));l.DataMessage=_t.default;const Gt=d(c(4598598477));l.DefaultActiveSpeakerDetector=Gt.default;const Kt=d(c(6343016045));l.DefaultActiveSpeakerPolicy=Kt.default;const Ye=d(c(2988320011));l.DefaultAudioMixController=Ye.default;const Xe=d(c(8377273355));l.DefaultAudioVideoController=Xe.default;const It=d(c(5948949947));l.DefaultAudioVideoFacade=It.default;const kt=d(c(9445576035));l.DefaultBrowserBehavior=kt.default;const gt=d(c(6092672343));l.DefaultContentShareController=gt.default;const En=d(c(6125631555));l.DefaultDeviceController=En.default;const pn=d(c(631034393));l.DefaultDevicePixelRatioMonitor=pn.default;const wn=d(c(9375803731));l.DefaultEventController=wn.default;const zn=d(c(6352527919));l.DefaultMediaDeviceFactory=zn.default;const Qn=d(c(9219485394));l.DefaultMeetingEventReporter=Qn.default;const Sn=d(c(3840944435));l.DefaultMeetingReadinessChecker=Sn.default;const Zn=d(c(2187536411));l.DefaultMeetingSession=Zn.default;const lr=d(c(6354811215));l.DefaultMessagingSession=lr.default;const ui=d(c(1594701503));l.DefaultModality=ui.default;const fi=d(c(6366559347));l.DefaultPingPong=fi.default;const Vn=d(c(9226780571));l.DefaultRealtimeController=Vn.default;const In=d(c(9778418265));l.DefaultReconnectController=In.default;const wi=d(c(7593524919));l.DefaultSessionStateController=wi.default;const _n=d(c(2020561361));l.DefaultSigV4=_n.default;const An=d(c(6044373597));l.DefaultSignalingClient=An.default;const sn=d(c(3752202768));l.DefaultSimulcastUplinkPolicy=sn.default;const Q=d(c(5801810927));l.DefaultSimulcastUplinkPolicyForContentShare=Q.default;const lt=d(c(6895064603));l.DefaultTransceiverController=lt.default;const mt=d(c(2162159007));l.DefaultTranscriptionController=mt.default;const bt=d(c(7680559561));l.DefaultUserAgentParser=bt.default;const At=d(c(8942355099));l.DefaultVideoCaptureAndEncodeParameter=At.default;const Wt=d(c(7517865245));l.DefaultVideoElementResolutionMonitor=Wt.default;const we=d(c(2458227545));l.DefaultVideoFrameProcessorPipeline=we.default;const ht=d(c(9151308820));l.DefaultVideoFrameProcessorTimer=ht.default;const K=d(c(6054180211));l.DefaultVideoStreamIdSet=K.default;const se=d(c(543972823));l.DefaultVideoStreamIndex=se.default;const Ve=d(c(6158504357));l.DefaultVideoTile=Ve.default;const Be=d(c(8233988265));l.DefaultVideoTileController=Be.default;const Yt=d(c(8325297075));l.DefaultVideoTileFactory=Yt.default;const yt=d(c(6948472094));l.DefaultVideoTransformDevice=yt.default;const Bt=d(c(247134931));l.DefaultVolumeIndicatorAdapter=Bt.default;const ke=d(c(6757985251));l.DefaultWebSocketAdapter=ke.default;const Je=d(c(7185484726));l.DevicePixelRatioWindowSource=Je.default;const B=d(c(549557744));l.DeviceSelection=B.default;const Fe=d(c(4329135474));l.EventBufferConfiguration=Fe.default;const fe=d(c(818962756));l.EventIngestionConfiguration=fe.default;const ve=d(c(4998646945));l.FinishGatheringICECandidatesTask=ve.default;const ee=d(c(9173407961));l.FullJitterBackoff=ee.default;const Et=d(c(8467350797));l.FullJitterBackoffFactory=Et.default;const Ne=d(c(7796317769));l.FullJitterLimitedBackoff=Ne.default;const st=d(c(9068219729));l.GetUserMediaError=st.default;const on=d(c(9883248412));l.GlobalMetricReport=on.default;const $t=d(c(7780712218));l.InMemoryJSONEventBuffer=$t.default;const yi=d(c(5790858051));l.IntervalScheduler=yi.default;const mi=d(c(1413840948));l.JoinAndReceiveIndexTask=mi.default;const ri=d(c(9994936499));l.LeaveAndReceiveLeaveAckTask=ri.default;const ti=d(c(611997860));l.ListenForVolumeIndicatorsTask=ti.default;const Zt=d(c(1796489824));l.Log=Zt.default;const mn=d(c(152907414));l.LogLevel=mn.default;const Ui=d(c(7788016908));l.MediaDeviceProxyHandler=Ui.default;const Er=d(c(5512071755));l.MeetingEventsClientConfiguration=Er.default;const Dn=d(c(1627276675));l.MeetingFeatures=Dn.default;const nn=d(c(6533088794));l.MeetingReadinessCheckerConfiguration=nn.default;const ni=d(c(3456656950));l.MeetingSessionConfiguration=ni.default;const oi=d(c(6504474338));l.MeetingSessionCredentials=oi.default;const Ji=d(c(9382604560));l.MeetingSessionLifecycleEvent=Ji.default;const Qi=d(c(1753005041));l.MeetingSessionLifecycleEventCondition=Qi.default;const Ei=d(c(1984577674));l.MeetingSessionStatus=Ei.default;const Jn=d(c(946491843));l.MeetingSessionStatusCode=Jn.default;const Sr=d(c(5922047127));l.MeetingSessionTURNCredentials=Sr.default;const cr=d(c(2201325822));l.MeetingSessionURLs=cr.default;const Dr=d(c(1253588984));l.MeetingSessionVideoAvailability=Dr.default;const Yi=d(c(309849240));l.Message=Yi.default;const io=d(c(2487645864));l.MessagingSessionConfiguration=io.default;const sr=d(c(4964835908));l.ModelSpecBuilder=sr.default;const lo=d(c(785230680));l.MonitorTask=lo.default;const Gi=d(c(6333243127));l.MultiLogger=Gi.default;const ji=d(c(2952249532));l.NScaleVideoUplinkBandwidthPolicy=ji.default;const F=d(c(8167974884));l.NoOpAudioVideoController=F.default;const _e=d(c(7420310193));l.NoOpDebugLogger=_e.default;const tt=d(c(8297410470));l.NoOpDeviceController=tt.default;const zt=d(c(5449969688));l.NoOpEventReporter=zt.default;const gn=d(c(2044674978));l.NoOpLogger=gn.default;const Yn=d(c(7836148100));l.NoOpMediaStreamBroker=Yn.default;const bi=d(c(4401930660));l.NoOpTask=bi.default;const ei=d(c(1300637268));l.NoOpVideoElementFactory=ei.default;const si=d(c(3503763380));l.NoOpVideoFrameProcessor=si.default;const Si=d(c(8324353133));l.NoVideoDownlinkBandwidthPolicy=Si.default;const Ai=d(c(7237277783));l.NoVideoUplinkBandwidthPolicy=Ai.default;const tr=d(c(7819926287));l.NotFoundError=tr.default;const hr=d(c(1827432705));l.NotReadableError=hr.default;const Ar=d(c(6028869909));l.OnceTask=Ar.default;const co=d(c(9157601162));l.OpenSignalingConnectionTask=co.default;const hi=d(c(8925470260));l.OverconstrainedError=hi.default;const $r=d(c(551865564));l.POSTLogger=$r.default;const to=d(c(3087911396));l.ParallelGroupTask=to.default;const vi=d(c(7676545646));l.PermissionDeniedError=vi.default;const vn=d(c(2799042772));l.PrefetchOn=vn.default;const Oi=d(c(3547749820));l.PrefetchSortBy=Oi.default;const Zo=d(c(6544037895));l.PromiseQueue=Zo.default;const uo=d(c(6062681936));l.PromoteToPrimaryMeetingTask=uo.default;const Ko=d(c(2694577595));l.RealtimeAttendeePositionInFrame=Ko.default;const Ho=d(c(7910628433));l.RealtimeState=Ho.default;const pe=d(c(2969463279));l.RealtimeVolumeIndicator=pe.default;const Ae=d(c(4105188829));l.ReceiveAudioInputTask=Ae.default;const Ue=d(c(980450337));l.ReceiveRemoteVideoPauseResumeTask=Ue.default;const vt=d(c(6919336366));l.ReceiveVideoInputTask=vt.default;const Lt=d(c(5242313998));l.ReceiveVideoStreamIndexTask=Lt.default;const xt=d(c(4479085271));l.ReconnectionHealthPolicy=xt.default;const Cn=d(c(1640252696));l.RedundantAudioEncoder=Cn.default;const Nn=d(c(207339016));l.RedundantAudioEncoderWorkerCode=Nn.default;const Xn=d(c(7244701833));l.RedundantAudioRecoveryMetricReport=Xn.default;const Un=d(c(325771937));l.RunnableTask=Un.default;const Ti=d(c(9970179348));l.SDP=Ti.default;const Tn=d(c(8887227953));l.SDPCandidateType=Tn.default;const qi=d(c(6050329531));l.SDPMediaSection=qi.default;const _i=d(c(7157971720));l.SendAndReceiveDataMessagesTask=_i.default;const Nr=d(c(7361429724));l.SendingAudioFailureConnectionHealthPolicy=Nr.default;const Ur=d(c(467935533));l.SerialGroupTask=Ur.default;const Gr=d(c(1382242439));l.ServerSideNetworkAdaption=Gr.default;const ki=d(c(2327502190));l.SessionStateControllerAction=ki.default;const Vi=d(c(3782495428));l.SessionStateControllerDeferPriority=Vi.default;const Zi=d(c(7593441017));l.SessionStateControllerState=Zi.default;const _r=d(c(1356788254));l.SessionStateControllerTransitionResult=_r.default;const Hr=d(c(5016494749));l.SetLocalDescriptionTask=Hr.default;const Eo=d(c(4152019840));l.SetRemoteDescriptionTask=Eo.default;const er=d(c(2116171594));l.SignalingAndMetricsConnectionMonitor=er.default;const Co=d(c(8527332165));l.SignalingClientConnectionRequest=Co.default;const Fr=d(c(823668988));l.SignalingClientEvent=Fr.default;const no=d(c(6103584604));l.SignalingClientEventType=no.default;const Is=d(c(1967512172));l.SignalingClientJoin=Is.default;const As=d(c(9517368956));l.SignalingClientSubscribe=As.default;const ms=d(c(9197136208));l.SignalingClientVideoSubscriptionConfiguration=ms.default;const cs=d(c(523374695));l.SimulcastContentShareTransceiverController=cs.default;const Os=d(c(568851064));l.SimulcastLayers=Os.default;const qo=d(c(5814267651));l.SimulcastTransceiverController=qo.default;const Mo=d(c(9066329271));l.SimulcastVideoStreamIndex=Mo.default;const No=d(c(3959565700));l.SingleNodeAudioTransformDevice=No.default;const Wo=d(c(5426637611));l.StreamMetricReport=Wo.default;const Fo=d(c(9957505777));l.SubscribeAndReceiveSubscribeAckTask=Fo.default;const yo=d(c(5357242452));l.TargetDisplaySize=yo.default;const fo=d(c(8089523986));l.TaskStatus=fo.default;const Po=d(c(9106965827));l.TimeoutScheduler=Po.default;const ia=d(c(2985830925));l.TimeoutTask=ia.default;const is=d(c(3276536342));l.Transcript=is.default;const Go=d(c(726647989));l.TranscriptAlternative=Go.default;const gs=d(c(4378521613));l.TranscriptEntity=gs.default;const ro=d(c(4402593625));l.TranscriptItem=ro.default;const Oo=d(c(4257104689));l.TranscriptItemType=Oo.default;const Ao=d(c(8483560434));l.TranscriptLanguageWithScore=Ao.default;const Jo=d(c(3933717315));l.TranscriptResult=Jo.default;const xo=d(c(248336478));l.TranscriptionStatus=xo.default;const ra=d(c(7562925478));l.TranscriptionStatusType=ra.default;const de=d(c(2306050026));l.TypeError=de.default;const ye=d(c(5618615883));l.UnusableAudioWarningConnectionHealthPolicy=ye.default;const Me=d(c(6332689210));l.Versioning=Me.default;const Ge=d(c(9450249395));l.VideoAdaptiveProbePolicy=Ge.default;const nt=d(c(5152481786));l.VideoCodecCapability=nt.default;const Ut=d(c(9145095843));l.VideoEncodingConnectionHealthPolicyName=Ut.default;const wt=d(c(6862823406));l.VideoEncodingCpuConnectionHealthPolicy=wt.default;const dn=d(c(2633548471));l.VideoEncodingFramerateConnectionHealthPolicy=dn.default;const cn=d(c(3767048744));l.VideoFxProcessor=cn.default;const bn=d(c(254386585));l.VideoLogEvent=bn.default;const hn=d(c(6239767259));l.VideoOnlyTransceiverController=hn.default;const Fn=d(c(1964647122));l.VideoPreference=Fn.default;const xn=d(c(3711281607));l.VideoPreferences=xn.default;const jn=d(c(4543167968));l.VideoPriorityBasedPolicy=jn.default;const pi=d(c(4177728618));l.VideoPriorityBasedPolicyConfig=pi.default;const ai=d(c(8758878068));l.VideoQualityAdaptationPreference=ai.default;const $n=d(c(2425311569));l.VideoQualitySettings=$n.default;const kn=d(c(1041737276));l.VideoSource=kn.default;const Ri=d(c(9786322758));l.VideoStreamDescription=Ri.default;const pr=d(c(6317694849));l.VideoTileState=pr.default;const Rr=d(c(4574840479));l.VoiceFocusDeviceTransformer=Rr.default;const Kr=d(c(9343011556));l.VoiceFocusTransformDevice=Kr.default;const qt=d(c(7677781501));l.WaitForAttendeePresenceTask=qt.default;const Mr=d(c(6924951343));l.WebSocketReadyState=Mr.default;const xr=d(c(2302466300));l.ZLIBTextCompressor=xr.default;const ur=c(3711281607);Object.defineProperty(l,"MutableVideoPreferences",{enumerable:!0,get:function(){return ur.MutableVideoPreferences}});const To=c(9671487336);Object.defineProperty(l,"Some",{enumerable:!0,get:function(){return To.Some}}),Object.defineProperty(l,"None",{enumerable:!0,get:function(){return To.None}}),Object.defineProperty(l,"Maybe",{enumerable:!0,get:function(){return To.Maybe}});const es=c(7469158520);Object.defineProperty(l,"isAudioTransformDevice",{enumerable:!0,get:function(){return es.isAudioTransformDevice}});const oo=c(5873221632);Object.defineProperty(l,"isDestroyable",{enumerable:!0,get:function(){return oo.isDestroyable}});const Yo=c(6229167887);Object.defineProperty(l,"isVideoTransformDevice",{enumerable:!0,get:function(){return Yo.isVideoTransformDevice}})},632433771:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(152907414));let m=n(class{info(a){this.log(h.default.INFO,a)}warn(a){this.log(h.default.WARN,a)}error(a){this.log(h.default.ERROR,a)}debug(a){h.default.DEBUG<this.level||(typeof a=="string"?this.log(h.default.DEBUG,a):a?this.log(h.default.DEBUG,a()):this.log(h.default.DEBUG,""+a))}setLogLevel(a){this.level=a}getLogLevel(){return this.level}log(a,s){if(a<this.level)return;const e=`${new Date().toISOString()} [${h.default[a]}] ${this.name} - ${s}`;switch(a){case h.default.ERROR:console.error(e);break;case h.default.WARN:console.warn(e);break;case h.default.DEBUG:console.debug(e.replace(/\\r\\n/g,`
`));break;case h.default.INFO:console.info(e);break}}constructor(a,s=h.default.WARN){this.name=a,this.level=s}},"ConsoleLogger");l.default=m},1796489824:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h,m,p,a){this.sequenceNumber=h,this.message=m,this.timestampMs=p,this.logLevel=a}},"Log");l.default=c},152907414:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.LogLevel=void 0;var c;(function(d){d[d.DEBUG=0]="DEBUG",d[d.INFO=1]="INFO",d[d.WARN=2]="WARN",d[d.ERROR=3]="ERROR",d[d.OFF=4]="OFF"})(c=l.LogLevel||(l.LogLevel={})),l.default=c},6333243127:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(152907414));let m=n(class{info(a){for(const s of this._loggers)s.info(a)}warn(a){for(const s of this._loggers)s.warn(a)}error(a){for(const s of this._loggers)s.error(a)}debug(a){let s,i;typeof a=="string"?i=a:a?i=n(()=>(s||(s=a()),s),"memoized"):i=""+a;for(const e of this._loggers)e.debug(i)}setLogLevel(a){for(const s of this._loggers)s.setLogLevel(a)}getLogLevel(){for(const a of this._loggers)return a.getLogLevel();return h.default.OFF}constructor(...a){this._loggers=a}},"MultiLogger");l.default=m},7420310193:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(152907414)),m=d(c(2044674978));let p=n(class extends m.default{constructor(){super(h.default.DEBUG)}},"NoOpDebugLogger");l.default=p},2044674978:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(152907414));let m=n(class{info(a){}warn(a){}error(a){}debug(a){h.default.DEBUG<this.level||typeof a!="string"&&a()}setLogLevel(a){this.level=a}getLogLevel(){return this.level}constructor(a=h.default.OFF){this.level=a}},"NoOpLogger");l.default=m},551865564:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(5790858051)),p=h(c(1796489824)),a=h(c(152907414));let s=n(class xm{addEventListener(){!this.eventListener||!("window"in c.g)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in c.g)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(e){a.default.DEBUG<this.logLevel||(typeof e=="string"?this.log(a.default.DEBUG,e):e?this.log(a.default.DEBUG,e()):this.log(a.default.DEBUG,""+e))}info(e){this.log(a.default.INFO,e)}warn(e){this.log(a.default.WARN,e)}error(e){this.log(a.default.ERROR,e)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new m.default(this.intervalMs),this.intervalScheduler.start(()=>d(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const e=this.logCapture.slice(0,this.batchSize),t=this.makeRequestBody(e);try{(yield fetch(this.url,Object.assign({method:"POST",body:t},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(e.length))}catch(r){console.warn("[POSTLogger] "+r.message)}finally{this.lock=!1}}))}stop(){var e;(e=this.intervalScheduler)===null||e===void 0||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();const t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}destroy(){return d(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}log(e,t){if(e<this.logLevel)return;const r=Date.now();this.logCapture.push(new p.default(this.sequenceNumber,t,r,a.default[e])),this.sequenceNumber+=1}constructor(e){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:t,batchSize:r=xm.BATCH_SIZE,intervalMs:o=xm.INTERVAL_MS,logLevel:f=a.default.WARN,metadata:g,headers:v}=e;this.url=t,this.batchSize=r,this.intervalMs=o,this.logLevel=f,this.metadata=g,this.headers=v,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");l.default=s,s.BATCH_SIZE=85,s.INTERVAL_MS=2e3},6352527919:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(7788016908));let m=n(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new h.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");l.default=m},7788016908:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(3066440630)),p=h(c(5790858051));let a=n(class Uv{sortedDeviceList(){return d(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const i of this.deviceChangeListeners)m.default.nextTick(()=>{if(this.deviceChangeListeners.has(i)){const e=new Event("devicechange");typeof i=="function"?i(e):i.handleEvent(e)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(i,e,t)=>{if(!Reflect.has(i,e))return;if(!("ondevicechange"in navigator.mediaDevices)){if(e==="addEventListener")return this.patchAddEventListener(i,e,t);if(e==="removeEventListener")return this.patchRemoveEventListener(i,e,t)}const r=Reflect.get(i,e,t);return typeof r=="function"?r.bind(i):r},this.patchAddEventListener=(i,e,t)=>{const r=Reflect.get(i,e,t);return(o,f,g)=>{if(o==="devicechange")this.deviceChangeListeners.add(f),this.scheduler||(this.scheduler=new p.default(Uv.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(r,i,[o,f,g])}},this.patchRemoveEventListener=(i,e,t)=>{const r=Reflect.get(i,e,t);return(o,f,g)=>{if(o==="devicechange")this.deviceChangeListeners.delete(f),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(r,i,[o,f,g])}},this.pollDeviceLists=()=>d(this,void 0,void 0,function*(){const i=yield this.sortedDeviceList();this.devices&&(i.length!==this.devices.length||i.some((t,r)=>t.deviceId!==this.devices[r].deviceId))&&this.handleDeviceChangeEvent(),this.devices=i})}},"MediaDeviceProxyHandler");l.default=a,a.INTERVAL_MS=1e3},7836148100:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(h){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(h){}removeMediaStreamBrokerObserver(h){}},"NoOpMediaStreamBroker");l.default=c},3406224828:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.AudioInputRequestFailed=1]="AudioInputRequestFailed",d[d.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",d[d.ConnectionFailed=3]="ConnectionFailed",d[d.AudioNotReceived=4]="AudioNotReceived"})(c=l.CheckAudioConnectivityFeedback||(l.CheckAudioConnectivityFeedback={})),l.default=c},437211311:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioInputFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.PermissionDenied=2]="PermissionDenied"})(c=l.CheckAudioInputFeedback||(l.CheckAudioInputFeedback={})),l.default=c},7220712718:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckAudioOutputFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed"})(c=l.CheckAudioOutputFeedback||(l.CheckAudioOutputFeedback={})),l.default=c},9989661280:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckCameraResolutionFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.ResolutionNotSupported=2]="ResolutionNotSupported",d[d.PermissionDenied=3]="PermissionDenied"})(c=l.CheckCameraResolutionFeedback||(l.CheckCameraResolutionFeedback={})),l.default=c},654172010:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckContentShareConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.PermissionDenied=2]="PermissionDenied",d[d.TimedOut=3]="TimedOut",d[d.ConnectionFailed=4]="ConnectionFailed"})(c=l.CheckContentShareConnectivityFeedback||(l.CheckContentShareConnectivityFeedback={})),l.default=c},5083453699:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkTCPConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",d[d.ConnectionFailed=2]="ConnectionFailed",d[d.ICENegotiationFailed=3]="ICENegotiationFailed"})(c=l.CheckNetworkTCPConnectivityFeedback||(l.CheckNetworkTCPConnectivityFeedback={})),l.default=c},2977514603:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckNetworkUDPConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",d[d.ConnectionFailed=2]="ConnectionFailed",d[d.ICENegotiationFailed=3]="ICENegotiationFailed"})(c=l.CheckNetworkUDPConnectivityFeedback||(l.CheckNetworkUDPConnectivityFeedback={})),l.default=c},5435266265:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoConnectivityFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.VideoInputRequestFailed=1]="VideoInputRequestFailed",d[d.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",d[d.ConnectionFailed=3]="ConnectionFailed",d[d.VideoNotSent=4]="VideoNotSent"})(c=l.CheckVideoConnectivityFeedback||(l.CheckVideoConnectivityFeedback={})),l.default=c},3575737100:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckVideoInputFeedback=void 0;var c;(function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.PermissionDenied=2]="PermissionDenied"})(c=l.CheckVideoInputFeedback||(l.CheckVideoInputFeedback={})),l.default=c},3840944435:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(T,I,A,w){function R(P){return P instanceof A?P:new A(function(x){x(P)})}return n(R,"adopt"),new(A||(A=Promise))(function(P,x){function z(ne){try{re(w.next(ne))}catch(he){x(he)}}n(z,"fulfilled");function Z(ne){try{re(w.throw(ne))}catch(he){x(he)}}n(Z,"rejected");function re(ne){ne.done?P(ne.value):R(ne.value).then(z,Z)}n(re,"step"),re((w=w.apply(T,I||[])).next())})},h=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(2988320011)),p=h(c(9445576035)),a=h(c(6125631555)),s=h(c(7676545646)),i=h(c(748822893)),e=h(c(2985830925)),t=h(c(3406224828)),r=h(c(437211311)),o=h(c(7220712718)),f=h(c(9989661280)),g=h(c(654172010)),v=h(c(5083453699)),u=h(c(2977514603)),S=h(c(5435266265)),_=h(c(3575737100)),b=h(c(6533088794));let E=n(class Vv{static delay(I){return d(this,void 0,void 0,function*(){return new Promise(A=>setTimeout(A,I))})}checkAudioInput(I){return d(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(I),yield this.meetingSession.audioVideo.stopAudioInput(),r.default.Succeeded}catch(A){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${A}`),A instanceof s.default?r.default.PermissionDenied:r.default.Failed}})}checkAudioOutput(I,A){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return d(this,void 0,void 0,function*(){try{const R=I?a.default.getIntrinsicDeviceId(I):"";return yield this.playTone(R,this.configuration.audioOutputFrequency,w),(yield A())?o.default.Succeeded:o.default.Failed}catch(R){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${R}`),o.default.Failed}finally{this.stopTone()}})}playTone(I,A,w){return d(this,void 0,void 0,function*(){const P=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=a.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=A,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const z=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,z),this.gainNode.gain.linearRampToValueAtTime(P,z+.1),this.oscillatorNode.start();const Z=new m.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield Z.bindAudioDevice({deviceId:I}))}catch(re){this.logger.error(`Failed to bind audio device: ${re}`)}try{yield Z.bindAudioElement(w||new Audio)}catch(re){this.logger.error(`Failed to bind audio element: ${re}`)}yield Z.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const I=1,A=.1,w=this.configuration.audioOutputGain,R=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(w,R+A+I),this.gainNode.gain.linearRampToValueAtTime(0,R+A*2+I),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(I){return d(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(I),yield this.meetingSession.audioVideo.stopVideoInput(),_.default.Succeeded}catch(A){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${A}`),A instanceof s.default?_.default.PermissionDenied:_.default.Failed}})}checkCameraResolution(I,A,w){return d(this,void 0,void 0,function*(){let R;try{const P=a.default.getIntrinsicDeviceId(I),x={video:this.calculateVideoConstraint(P,A,w)};R=yield navigator.mediaDevices.getUserMedia(x)}catch(P){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${A} height ${w} failed with error ${P}`),P&&P.name==="OverconstrainedError"?f.default.ResolutionNotSupported:P&&P.name==="NotAllowedError"?f.default.PermissionDenied:f.default.Failed}finally{R&&R.getTracks().forEach(function(P){P.stop()})}return f.default.Succeeded})}calculateVideoConstraint(I,A,w){const R=this.browserBehavior.requiresResolutionAlignment(A,w),P={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(P.deviceId=I,P.width=A,P.height=w):(P.deviceId={exact:I},P.width={exact:R[0]},P.height={exact:R[1]}),P}checkContentShareConnectivity(I){return d(this,void 0,void 0,function*(){let A=!1,w=!1;const R={contentShareDidStart:()=>{A=!0}},P={audioVideoDidStart:()=>{w=!0}};try{return this.meetingSession.audioVideo.addObserver(P),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(R),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(I),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return w&&A})),w?(yield this.stopMeeting(),A?g.default.Succeeded:g.default.TimedOut):g.default.ConnectionFailed}catch(x){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${x}`),x.name==="NotAllowedError"?g.default.PermissionDenied:g.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(P),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(R)}})}checkAudioConnectivity(I){return d(this,void 0,void 0,function*(){let A=!1;const w={packetsReceived:0},R=this.meetingSession.audioVideo,P={metricsDidReceive(z){z.getRTCStatsReport().forEach(Z=>{Z.type==="inbound-rtp"&&(Z.mediaType==="audio"||Z.kind==="audio")&&(w.packetsReceived=Z.packetsReceived)})}},x=n((z,Z,re,ne)=>{z===this.meetingSession.configuration.credentials.attendeeId&&Z&&(A=!0)},"attendeePresenceHandler");try{yield R.startAudioInput(I)}catch(z){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${z}`),z instanceof s.default?t.default.AudioInputPermissionDenied:t.default.AudioInputRequestFailed}return R.realtimeSubscribeToAttendeeIdPresence(x),R.addObserver(P),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(A,w)})),R.removeObserver(P),R.realtimeUnsubscribeToAttendeeIdPresence(x),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(A,w)?t.default.Succeeded:t.default.AudioNotReceived):(R.removeObserver(P),R.realtimeUnsubscribeToAttendeeIdPresence(x),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.ConnectionFailed)})}checkVideoConnectivity(I){return d(this,void 0,void 0,function*(){const A=this.meetingSession.audioVideo;let w=0;const R={metricsDidReceive(P){P.getRTCStatsReport().forEach(z=>{z.type==="outbound-rtp"&&(z.mediaType==="video"||z.kind==="video")&&(w=z.packetsSent)})}};try{yield A.startVideoInput(I)}catch(P){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${P}`),P instanceof s.default?S.default.VideoInputPermissionDenied:S.default.VideoInputRequestFailed}return A.addObserver(R),(yield this.startMeeting())?(A.startLocalVideoTile(),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return w>0})),yield A.stopVideoInput(),yield this.stopMeeting(),A.removeObserver(R),w<=0?S.default.VideoNotSent:S.default.Succeeded):S.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return d(this,void 0,void 0,function*(){let I=!1;const A={metricsDidReceive(R){R.getRTCStatsReport().forEach(x=>{x.type==="candidate-pair"&&x.state==="succeeded"&&(I=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(R){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${R}`),u.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=R=>{const P=this.originalURLRewriter(R);return P.includes("transport=tcp")?"":P};const w=this.meetingSession.audioVideo;return w.addObserver(A),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),w.removeObserver(A),I?u.default.Succeeded:u.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,u.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return d(this,void 0,void 0,function*(){let I=!1;const A={metricsDidReceive(R){R.getRTCStatsReport().forEach(x=>{x.type==="candidate-pair"&&x.state==="succeeded"&&(I=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(R){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${R}`),v.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=R=>{const P=this.originalURLRewriter(R);return P.includes("transport=udp")?"":P};const w=this.meetingSession.audioVideo;return w.addObserver(A),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),w.removeObserver(A),I?v.default.Succeeded:v.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,v.default.ConnectionFailed)})}startMeeting(){return d(this,void 0,void 0,function*(){let I=!1;const A={audioVideoDidStart:()=>{I=!0}};return this.meetingSession.audioVideo.addObserver(A),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.audioVideo.removeObserver(A),I})}stopMeeting(){return d(this,void 0,void 0,function*(){let I=!1;const A={audioVideoDidStop:w=>{I=!0}};return this.meetingSession.audioVideo.addObserver(A),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>d(this,void 0,void 0,function*(){return I})),this.meetingSession.audioVideo.removeObserver(A),I})}executeTimeoutTask(I){return d(this,void 0,void 0,function*(){let A=!1,w=n(class extends i.default{cancel(){this.isCancelled=!0}run(){return d(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield I()){A=!0;break}yield Vv.delay(this.waitDurationMs)}})}constructor(x,z){super(x),this.waitDurationMs=z,this.isCancelled=!1}},"CheckForConditionTask");return yield new e.default(this.logger,new w(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),A})}isAudioConnectionSuccessful(I,A){return I&&A.packetsReceived>0}constructor(I,A,w=new b.default){this.logger=I,this.meetingSession=A,this.configuration=w,this.browserBehavior=new p.default}},"DefaultMeetingReadinessChecker");l.default=E},6533088794:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");l.default=c},2187536411:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(u,S,_,b){function E(T){return T instanceof _?T:new _(function(I){I(T)})}return n(E,"adopt"),new(_||(_=Promise))(function(T,I){function A(P){try{R(b.next(P))}catch(x){I(x)}}n(A,"fulfilled");function w(P){try{R(b.throw(P))}catch(x){I(x)}}n(w,"rejected");function R(P){P.done?T(P.value):E(P.value).then(A,w)}n(R,"step"),R((b=b.apply(u,S||[])).next())})},h=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8377273355)),p=h(c(5948949947)),a=h(c(9173407961)),s=h(c(9445576035)),i=h(c(2140051607)),e=h(c(6092672343)),t=h(c(2708683354)),r=c(5873221632),o=h(c(9375803731)),f=h(c(9778418265)),g=h(c(6757985251));let v=n(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return d(this,void 0,void 0,function*(){r.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),r.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),r.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),t.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const S=new s.default,_=`${S.name()} ${S.majorVersion()} (${S.version()})`;if(this.logger.info(`browser is ${_}`),S.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${S.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!S.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(S.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${S.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")),this._configuration.enableSVC&&(this._configuration.enableSVC=!1,this.logger.info("SVC is not successfully enabled since simulcast is enabled"))),this._configuration.enableSVC&&!S.supportsScalableVideoCoding()&&(this._configuration.enableSVC=!1,this.logger.info("SVC is only supported on Chromium-based browsers with version 111 or above"))}isSimulcastUplinkPolicy(S){return!!(S&&S.addObserver)}constructor(S,_,b,E){this._eventController=E,this._configuration=S,this._logger=_,this.checkBrowserSupportAndFeatureConfiguration(),t.default.addLogger(this._logger),t.default.register(),this._eventController||(this._eventController=new o.default(S,_)),b.eventController||(b.eventController=this.eventController),this.audioVideoController=new m.default(this._configuration,this._logger,new g.default(this._logger),b,new f.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=b,this.logger.info(`MeetingFeatures: ${JSON.stringify(S.meetingFeatures)}`);const T=new i.default(this._logger);this.contentShareController=new e.default(T,new m.default(e.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new g.default(this._logger),T,new f.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new p.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");l.default=v},1627276675:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(2425311569));let m=n(class Hv{clone(){return new Hv(this.videoMaxResolution,this.contentMaxResolution)}constructor(a=h.default.VideoResolutionHD,s=h.default.VideoResolutionFHD){this.videoMaxResolution=a,this.contentMaxResolution=s}},"MeetingFeatures");l.default=m},3456656950:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(7666896524)),m=d(c(2425311569)),p=c(1366921492),a=d(c(1627276675)),s=d(c(6504474338)),i=d(c(2201325822));let e=n(class{constructor(r,o){var f,g;if(this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new h.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.enableSVC=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,this.meetingFeatures=new a.default,r){r=p.toLowerCasePropertyNames(r),r.meeting&&(r=r.meeting),this.meetingId=r.meetingid,this.externalMeetingId=r.externalmeetingid,this.urls=new i.default,this.urls.audioHostURL=r.mediaplacement.audiohosturl,this.urls.signalingURL=r.mediaplacement.signalingurl,this.urls.turnControlURL=r.mediaplacement.turncontrolurl,r.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=r.mediaplacement.eventingestionurl);const v=n((u,S)=>{switch(u){case"None":return m.default.VideoDisabled;case"HD":return m.default.VideoResolutionHD;case"FHD":return m.default.VideoResolutionFHD;case"UHD":return m.default.VideoResolutionUHD;default:return S}},"parseVideoResolution");if(((f=r.meetingfeatures)===null||f===void 0?void 0:f.video)!==void 0||((g=r.meetingfeatures)===null||g===void 0?void 0:g.content)!==void 0){const u=r.meetingfeatures.video===void 0?"HD":r.meetingfeatures.video.maxresolution,S=r.meetingfeatures.content===void 0?"FHD":r.meetingfeatures.content.maxresolution;this.meetingFeatures=new a.default(v(u,m.default.VideoResolutionHD),v(S,m.default.VideoResolutionFHD))}}o&&(o=p.toLowerCasePropertyNames(o),o.attendee&&(o=o.attendee),this.credentials=new s.default,this.credentials.attendeeId=o.attendeeid,this.credentials.externalUserId=o.externaluserid,this.credentials.joinToken=o.jointoken)}},"MeetingSessionConfiguration");l.default=e},6504474338:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");l.default=c},9382604560:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEvent=void 0;var c;(function(d){d[d.Connecting=0]="Connecting",d[d.Started=1]="Started",d[d.Stopped=2]="Stopped"})(c=l.MeetingSessionLifecycleEvent||(l.MeetingSessionLifecycleEvent={})),l.default=c},1753005041:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionLifecycleEventCondition=void 0;var c;(function(d){d[d.ConnectingNew=0]="ConnectingNew",d[d.ReconnectingExisting=1]="ReconnectingExisting",d[d.StartedNew=2]="StartedNew",d[d.StartedExisting=3]="StartedExisting",d[d.StartedAfterReconnect=4]="StartedAfterReconnect",d[d.StoppedCleanly=5]="StoppedCleanly",d[d.StoppedWithFailure=6]="StoppedWithFailure"})(c=l.MeetingSessionLifecycleEventCondition||(l.MeetingSessionLifecycleEventCondition={})),l.default=c},1984577674:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7613896012),m=d(c(946491843));let p=n(class Ts{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case m.default.AudioAuthenticationRejected:case m.default.AudioCallAtCapacity:case m.default.AudioInternalServerError:case m.default.AudioServiceUnavailable:case m.default.AudioDisconnected:case m.default.VideoCallAtSourceCapacity:case m.default.SignalingBadRequest:case m.default.SignalingInternalServerError:case m.default.SignalingRequestFailed:case m.default.ICEGatheringTimeoutWorkaround:case m.default.ConnectionHealthReconnect:case m.default.RealtimeApiFailed:case m.default.TaskFailed:case m.default.NoAttendeePresent:case m.default.SignalingChannelClosedUnexpectedly:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case m.default.Left:case m.default.AudioJoinedFromAnotherDevice:case m.default.AudioAuthenticationRejected:case m.default.AudioCallAtCapacity:case m.default.MeetingEnded:case m.default.AudioDisconnected:case m.default.TURNCredentialsForbidden:case m.default.SignalingBadRequest:case m.default.SignalingRequestFailed:case m.default.VideoCallAtSourceCapacity:case m.default.RealtimeApiFailed:case m.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case m.default.AudioAuthenticationRejected:case m.default.AudioInternalServerError:case m.default.AudioServiceUnavailable:case m.default.ICEGatheringTimeoutWorkaround:case m.default.SignalingBadRequest:case m.default.SignalingInternalServerError:case m.default.SignalingRequestFailed:case m.default.RealtimeApiFailed:case m.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case m.default.OK:return"Everything is OK so far.";case m.default.Left:return"The attendee left the meeting.";case m.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case m.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case m.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case m.default.MeetingEnded:return"The meeting ended.";case m.default.AudioInternalServerError:case m.default.AudioServiceUnavailable:case m.default.AudioDisconnected:return"The audio connection failed.";case m.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case m.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case m.default.SignalingBadRequest:case m.default.SignalingInternalServerError:case m.default.SignalingRequestFailed:return"The signaling connection failed.";case m.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case m.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case m.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case m.default.TaskFailed:return"The connection failed. See the error message for more details.";case m.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case m.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case m.default.NoAttendeePresent:return"The attendee was not present.";case m.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case m.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case m.default.AudioVideoDisconnectedWhilePromoted:return"The client disconnected while promoted, which will automatically demote. The attendee must promote again to participate.";case m.default.AudioDisconnectAudio:return"The audio connection failed.";case m.default.SignalingChannelClosedUnexpectedly:return"The signaling channel was closed unexpectedly. This may be due to a network change or backend detected failure.";default:{const s=this._statusCode;throw new Error(`Unhandled case: ${s}`)}}}static fromSignalFrame(s){return s.error&&s.error.status?this.fromSignalingStatus(s.error.status):s.type===h.SdkSignalFrame.Type.AUDIO_STATUS?s.audioStatus?this.fromAudioStatus(s.audioStatus.audioStatus):new Ts(m.default.SignalingRequestFailed):s.type===h.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new Ts(m.default.AudioVideoWasRemovedFromPrimaryMeeting):new Ts(m.default.OK)}static fromAudioStatus(s){switch(s){case 200:return new Ts(m.default.OK);case 301:return new Ts(m.default.AudioJoinedFromAnotherDevice);case 302:return new Ts(m.default.AudioDisconnectAudio);case 403:return new Ts(m.default.AudioAuthenticationRejected);case 409:return new Ts(m.default.AudioCallAtCapacity);case 410:return new Ts(m.default.MeetingEnded);case 411:return new Ts(m.default.AudioAttendeeRemoved);case 500:return new Ts(m.default.AudioInternalServerError);case 503:return new Ts(m.default.AudioServiceUnavailable);default:switch(Math.floor(s/100)){case 2:return new Ts(m.default.OK);default:return new Ts(m.default.AudioDisconnected)}}}static fromSignalingStatus(s){switch(s){case 206:return new Ts(m.default.VideoCallSwitchToViewOnly);case 509:return new Ts(m.default.VideoCallAtSourceCapacity);case 403:return new Ts(m.default.AudioAuthenticationRejected);case 409:return new Ts(m.default.AudioCallAtCapacity);default:switch(Math.floor(s/100)){case 2:return new Ts(m.default.OK);case 4:return new Ts(m.default.SignalingBadRequest);case 5:return new Ts(m.default.SignalingInternalServerError);default:return new Ts(m.default.SignalingRequestFailed)}}}constructor(s){this._statusCode=s}},"MeetingSessionStatus");l.default=p},946491843:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MeetingSessionStatusCode=void 0;var c;(function(d){d[d.OK=0]="OK",d[d.Left=1]="Left",d[d.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",d[d.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",d[d.AudioCallAtCapacity=4]="AudioCallAtCapacity",d[d.MeetingEnded=5]="MeetingEnded",d[d.AudioInternalServerError=6]="AudioInternalServerError",d[d.AudioServiceUnavailable=7]="AudioServiceUnavailable",d[d.AudioDisconnected=8]="AudioDisconnected",d[d.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",d[d.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",d[d.SignalingBadRequest=11]="SignalingBadRequest",d[d.SignalingInternalServerError=12]="SignalingInternalServerError",d[d.SignalingRequestFailed=13]="SignalingRequestFailed",d[d.SignalingChannelClosedUnexpectedly=14]="SignalingChannelClosedUnexpectedly",d[d.ICEGatheringTimeoutWorkaround=15]="ICEGatheringTimeoutWorkaround",d[d.ConnectionHealthReconnect=16]="ConnectionHealthReconnect",d[d.RealtimeApiFailed=17]="RealtimeApiFailed",d[d.TaskFailed=18]="TaskFailed",d[d.IncompatibleSDP=19]="IncompatibleSDP",d[d.TURNCredentialsForbidden=20]="TURNCredentialsForbidden",d[d.NoAttendeePresent=21]="NoAttendeePresent",d[d.AudioAttendeeRemoved=22]="AudioAttendeeRemoved",d[d.AudioVideoWasRemovedFromPrimaryMeeting=23]="AudioVideoWasRemovedFromPrimaryMeeting",d[d.AudioVideoDisconnectedWhilePromoted=24]="AudioVideoDisconnectedWhilePromoted",d[d.AudioDisconnectAudio=25]="AudioDisconnectAudio"})(c=l.MeetingSessionStatusCode||(l.MeetingSessionStatusCode={})),l.default=c},5922047127:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");l.default=c},2201325822:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(h){this._audioHostURL=h}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(h){this._signalingURL=h}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(h){this._turnControlURL=h}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(h){this._eventIngestionURL=h}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=h=>h}},"MeetingSessionURLs");l.default=c},1253588984:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Wv{equal(h){return this.remoteVideoAvailable===h.remoteVideoAvailable&&this.canStartLocalVideo===h.canStartLocalVideo}clone(){const h=new Wv;return h.remoteVideoAvailable=this.remoteVideoAvailable,h.canStartLocalVideo=this.canStartLocalVideo,h}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");l.default=c},309849240:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h,m,p){this.type=h,this.headers=m,this.payload=p}},"Message");l.default=c},6354811215:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(v,u,S,_){function b(E){return E instanceof S?E:new S(function(T){T(E)})}return n(b,"adopt"),new(S||(S=Promise))(function(E,T){function I(R){try{w(_.next(R))}catch(P){T(P)}}n(I,"fulfilled");function A(R){try{w(_.throw(R))}catch(P){T(P)}}n(A,"rejected");function w(R){R.done?E(R.value):b(R.value).then(I,A)}n(w,"step"),w((_=_.apply(v,u||[])).next())})},h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(9541240844),p=h(c(9173407961)),a=h(c(2708683354)),s=h(c(309849240)),i=h(c(9778418265)),e=h(c(3066440630)),t=h(c(2020561361)),r=h(c(6757985251)),o=h(c(6924951343)),f=h(c(2799042772));let g=n(class{addObserver(u){this.logger.info("adding messaging observer"),this.observerQueue.add(u)}removeObserver(u){this.logger.info("removing messaging observer"),this.observerQueue.delete(u)}start(){return d(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),a.default.removeLogger(this.logger))}forEachObserver(u){for(const S of this.observerQueue)e.default.nextTick(()=>{this.observerQueue.has(S)&&u(S)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",u=>{this.receiveMessageHandler(u.data)}),this.webSocket.addEventListener("close",u=>{this.closeEventHandler(u)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(u){return d(this,void 0,void 0,function*(){return yield this.startConnectingInternal(u),yield new Promise((S,_)=>{this.bootstrapResolved=S,this.bootstrapRejected=_})})}startConnectingInternal(u){var S;return d(this,void 0,void 0,function*(){let _=this.configuration.endpointUrl;if(u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),u||_===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const E=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((S=E.Endpoint)===null||S===void 0)&&S.Url?_=E.Endpoint.Url:_=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else _=(yield this.configuration.chimeClient.send(new m.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${_}`)}catch(E){this.logger.error(`Messaging Session failed to resolve endpoint: ${E}`);const T=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(T);return}const b=yield this.prepareWebSocketUrl(_);this.logger.info(`opening connection to ${b}`),u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(b,[],!0),this.forEachObserver(E=>{E.messagingSessionDidStartConnecting&&E.messagingSessionDidStartConnecting(u)}),this.setUpEventListeners()})}prepareWebSocketUrl(u){return d(this,void 0,void 0,function*(){const S=new Map;return S.set("userArn",[this.configuration.userArn]),S.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===f.default.Connect&&S.set("prefetch-on",[f.default.Connect]),this.configuration.prefetchSortBy&&S.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",u,"/connect","",S)})}isClosed(){return this.webSocket.readyState()===o.default.None||this.webSocket.readyState()===o.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(u){try{const S=JSON.parse(u),_=S.Headers["x-amz-chime-event-type"],b=new s.default(_,S.Headers,S.Payload||null);if(!this.isSessionEstablished&&_==="SESSION_ESTABLISHED"){this.forEachObserver(T=>{T.messagingSessionDidStart&&T.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const E=this.preBootstrapMessages.length;for(let T=0;T<E;T++){const I=this.preBootstrapMessages.shift();this.forEachObserver(A=>{this.sendMessageToObserver(A,I)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(b);return}this.forEachObserver(E=>{this.sendMessageToObserver(E,b)})}catch(S){this.logger.error(`Messaging parsing failed: ${S}`)}}sendMessageToObserver(u,S){u.messagingSessionDidReceiveMessage&&u.messagingSessionDidReceiveMessage(S)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>d(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(u){this.logger.info(`WebSocket close: ${u.code} ${u.reason}`),u.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(u.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(S=>{S.messagingSessionDidStop&&S.messagingSessionDidStop(u)}):this.bootstrapRejected(u))}canReconnect(u){return u===1001||u===1006||u>=1011&&u<=1014||u>4e3&&u!==4002&&u!==4003&&u!==4401}constructor(u,S,_,b,E){this.configuration=u,this.logger=S,this.webSocket=_,this.reconnectController=b,this.sigV4=E,this.observerQueue=new Set,this.webSocket||(this.webSocket=new r.default(this.logger)),this.reconnectController||(this.reconnectController=new i.default(u.reconnectTimeoutMs,new p.default(u.reconnectFixedWaitMs,u.reconnectShortBackoffMs,u.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new t.default(this.configuration.chimeClient)),a.default.addLogger(this.logger),a.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");l.default=g},2487645864:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(1366921492);let h=n(class{generateSessionId(){const p=new Uint32Array(1);return d.getRandomValues(p),p[0].toString()}constructor(p,a,s,i){this.userArn=p,this.messagingSessionId=a,this.endpointUrl=s,this.chimeClient=i,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");l.default=h},2799042772:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.Connect="connect"})(c||(c={})),l.default=c},3547749820:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.Unread="unread",d.LastMessageTimestamp="last-message-timestamp"})(c||(c={})),l.default=c},1594701503:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(3944645711));let m=n(class Pd{id(){return this._id}base(){return this._id?this._id.split(Pd.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const a=this._id.split(Pd.MODALITY_SEPARATOR);return a.length===2?a[1]:""}hasModality(a){return a!==""&&this.modality()===a}withModality(a){const s=new Pd(this.base()+Pd.MODALITY_SEPARATOR+a);return a===""||this.base()===""||new Pd(s._id).modality()!==a?new Pd(this.base()):s}constructor(a){this._id=a}},"DefaultModality");l.default=m,m.MODALITY_SEPARATOR=h.default.Modality[0],m.MODALITY_CONTENT=h.default.Modality.substring(1)},6366559347:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(3066440630)),m=d(c(5790858051)),p=d(c(6103584604)),a=c(7613896012),s=c(9671487336);let i=n(class{addObserver(t){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const r of this.observerQueue)h.default.nextTick(()=>{this.observerQueue.has(r)&&t(r)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(r=>{s.Maybe.of(r.didMissPongs).map(o=>o.bind(r)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const t=a.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=a.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(t){const r=a.SdkPingPongFrame.create();r.pingId=t,r.type=a.SdkPingPongType.PONG,this.signalingClient.pingPong(r)}handleSignalingClientEvent(t){switch(t.type){case p.default.WebSocketOpen:this.startPingInterval();break;case p.default.WebSocketFailed:case p.default.WebSocketError:this.logger.warn(`stopped pinging (${p.default[t.type]})`),this.stopPingInterval();break;case p.default.WebSocketClosing:case p.default.WebSocketClosed:this.logger.info(`stopped pinging (${p.default[t.type]})`),this.stopPingInterval();break;case p.default.ReceivedSignalFrame:if(t.message.type!==a.SdkSignalFrame.Type.PING_PONG)break;if(t.message.pingPong.type===a.SdkPingPongType.PONG){const r=t.message.pingPong.pingId;if(r!==this.pingId){this.logger.warn(`unexpected ping id ${r} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let o;if(typeof t.message.timestampMs=="number")o=t.message.timestampMs;else break;this.logger.debug(()=>`received pong ${r} with timestamp ${o}`);const g=t.timestampMs-this.pingTimestampLocalMs,v=Math.round(o-g/2),u=this.pingTimestampLocalMs-v;this.logger.info(`local clock skew estimate=${u}ms from ping-pong time=${g}ms`),this.forEachObserver(S=>{s.Maybe.of(S.didReceivePong).map(_=>_.bind(S)(r,u,g))})}else this.pong(t.message.pingPong.pingId);break}}constructor(t,r,o){this.signalingClient=t,this.intervalMs=r,this.logger=o,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new m.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");l.default=i},9226780571:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(2162159007)),m=c(1366921492),p=d(c(7910628433)),a=d(c(2969463279));let s=n(class{realtimeSetLocalAttendeeId(e,t){this.state.localAttendeeId=e,this.state.localExternalUserId=t}realtimeSetAttendeeIdPresence(e,t,r,o,f){try{t&&(this.state.attendeeIdToExternalUserId[e]=r);for(const g of this.state.attendeeIdChangesCallbacks)g(e,t,r,o,f)}catch(g){this.onError(g)}}realtimeSubscribeToAttendeeIdPresence(e){try{this.state.attendeeIdChangesCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToAttendeeIdPresence(e){try{const t=this.state.attendeeIdChangesCallbacks.indexOf(e);t!==-1&&this.state.attendeeIdChangesCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeSetCanUnmuteLocalAudio(e){try{if(this.state.canUnmute===e)return;this.state.canUnmute=e;for(const t of this.state.setCanUnmuteLocalAudioCallbacks)t(e)}catch(t){this.onError(t)}}realtimeSubscribeToSetCanUnmuteLocalAudio(e){try{this.state.setCanUnmuteLocalAudioCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){try{const t=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(e);t!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!0)}catch(e){this.onError(e)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!1);return!0}catch(e){return this.onError(e),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){try{const t=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(e);t!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(e,t){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(e)||(this.state.volumeIndicatorCallbacks[e]=[]),this.state.volumeIndicatorCallbacks[e].push(t),this.sendVolumeIndicatorChange(e,!0,!0,!0,this.state.attendeeIdToExternalUserId[e])}catch(r){this.onError(r)}}realtimeUnsubscribeFromVolumeIndicator(e,t){if(this.state.volumeIndicatorCallbacks[e])if(t){const o=this.state.volumeIndicatorCallbacks[e].indexOf(t);o>=0&&this.state.volumeIndicatorCallbacks[e].splice(o,1)}else delete this.state.volumeIndicatorCallbacks[e]}realtimeUpdateVolumeIndicator(e,t,r,o,f){try{r=this.applyLocalMuteOverride(e,r);const g=this.getVolumeIndicatorState(e);let v=!1,u=!1,S=!1;r!==null&&g.muted!==r&&(g.muted=r,u=!0,g.muted&&g.volume!==0&&(g.volume=0,v=!0)),!g.muted&&t!==null&&(g.volume!==t&&(g.volume=t,v=!0),g.muted===null&&(g.muted=!1,u=!0)),o!==null&&g.signalStrength!==o&&(g.signalStrength=o,S=!0),this.sendVolumeIndicatorChange(e,v,u,S,f)}catch(g){this.onError(g)}}realtimeSubscribeToLocalSignalStrengthChange(e){try{if(this.state.localSignalStrengthChangeCallbacks.push(e),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(t){this.onError(t)}}realtimeUnsubscribeToLocalSignalStrengthChange(e){try{const t=this.state.localSignalStrengthChangeCallbacks.indexOf(e);t!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeSubscribeToSendDataMessage(e){try{this.state.sendDataMessageCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeFromSendDataMessage(e){try{const t=this.state.sendDataMessageCallbacks.indexOf(e);t!==-1&&this.state.sendDataMessageCallbacks.splice(t,1)}catch(t){this.onError(t)}}realtimeSendDataMessage(e,t,r){try{for(const o of this.state.sendDataMessageCallbacks)o(e,t,r)}catch(o){this.onError(o)}}realtimeSubscribeToReceiveDataMessage(e,t){try{this.state.receiveDataMessageCallbacks.has(e)?this.state.receiveDataMessageCallbacks.get(e).push(t):this.state.receiveDataMessageCallbacks.set(e,[t])}catch(r){this.onError(r)}}realtimeUnsubscribeFromReceiveDataMessage(e){try{this.state.receiveDataMessageCallbacks.delete(e)}catch(t){this.onError(t)}}realtimeReceiveDataMessage(e){try{m.iterateEvery(this.state.receiveDataMessageCallbacks.get(e.topic),t=>{t(e)})}catch(t){Promise.reject(t)}}realtimeSubscribeToFatalError(e){try{this.state.fatalErrorCallbacks.push(e)}catch(t){this.onError(t)}}realtimeUnsubscribeToFatalError(e){try{const t=this.state.fatalErrorCallbacks.indexOf(e);t!==-1&&this.state.fatalErrorCallbacks.splice(t,1)}catch(t){this.onError(t)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(e){e?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(e,t){const r=this.state.localAttendeeId,o=this.state.muted;return e!==r||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?t:o}sendVolumeIndicatorChange(e,t,r,o,f){if(this.sendLocalSignalStrengthChange(e,o),!this.state.volumeIndicatorCallbacks.hasOwnProperty(e))return;const g=this.getVolumeIndicatorState(e),v=new a.default;if(t&&(v.volume=g.volume),r&&(v.muted=g.muted),o&&(v.signalStrength=g.signalStrength),!this.stateIsEmpty(v))for(const u of this.state.volumeIndicatorCallbacks[e])u(e,v.volume,v.muted,v.signalStrength,f)}sendLocalSignalStrengthChange(e,t){if(!t||e!==this.state.localAttendeeId)return;const o=this.getVolumeIndicatorState(e).signalStrength;if(o!==null)for(const f of this.state.localSignalStrengthChangeCallbacks)f(o)}getVolumeIndicatorState(e){return this.state.volumeIndicatorState.hasOwnProperty(e)||(this.state.volumeIndicatorState[e]=new a.default),this.state.volumeIndicatorState[e]}stateIsEmpty(e){return e.volume===null&&e.muted===null&&e.signalStrength===null}onError(e){try{for(const t of this.state.fatalErrorCallbacks)t(e)}catch(t){try{console.error(e),console.error(t)}catch{}}}constructor(e,t){this.mediaStreamBroker=e,this.state=new p.default,this._transcriptionController=t||new h.default(this)}},"DefaultRealtimeController");l.default=s},2694577595:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");l.default=c},7910628433:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");l.default=c},2969463279:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");l.default=c},9778418265:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9106965827));let m=n(class Gv{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(a){this._isFirstConnection=a,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(a,s){const i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=s,this.backoffTimer=new h.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,a()})),i}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new Gv(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(a){this.lastActiveTimestampMs=a}constructor(a,s){this.reconnectTimeoutMs=a,this.backoffPolicy=s,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");l.default=m},1640252696:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Za{static initializeWorker(){Za.log("Initializing RedundantAudioEncoder");const h=new Za;self.RTCRtpScriptTransformer&&(self.onrtctransform=m=>{m.transformer.options.type==="SenderTransform"?h.setupSenderTransform(m.transformer.readable,m.transformer.writable):m.transformer.options.type==="ReceiverTransform"?h.setupReceiverTransform(m.transformer.readable,m.transformer.writable):m.transformer.options.type==="PassthroughTransform"&&h.setupPassthroughTransform(m.transformer.readable,m.transformer.writable)}),self.onmessage=m=>{m.data.msgType==="StartRedWorker"?(h.setupSenderTransform(m.data.send.readable,m.data.send.writable),h.setupReceiverTransform(m.data.receive.readable,m.data.receive.writable)):m.data.msgType==="PassthroughTransform"?(h.setupPassthroughTransform(m.data.send.readable,m.data.send.writable),h.setupPassthroughTransform(m.data.receive.readable,m.data.receive.writable)):m.data.msgType==="RedPayloadType"?h.setRedPayloadType(m.data.payloadType):m.data.msgType==="OpusPayloadType"?h.setOpusPayloadType(m.data.payloadType):m.data.msgType==="UpdateNumRedundantEncodings"?h.setNumRedundantEncodings(m.data.numRedundantEncodings):m.data.msgType==="Enable"?h.setRedundancyEnabled(!0):m.data.msgType==="Disable"&&h.setRedundancyEnabled(!1)}}static log(h){Za.shouldLog&&self.postMessage({type:"REDWorkerLog",log:`[AudioRed] ${h}`})}static getNumRedundantEncodingsForPacketLoss(h){let m=0,p=!1;return h<=8?m=0:h<=18?m=1:h<=75?m=2:(m=0,p=!0),[m,p]}setupPassthroughTransform(h,m){Za.log("Setting up passthrough transform"),h.pipeTo(m)}setupSenderTransform(h,m){Za.log("Setting up sender RED transform");const p=new TransformStream({transform:this.senderTransform.bind(this)});h.pipeThrough(p).pipeTo(m)}setupReceiverTransform(h,m){Za.log("Setting up receiver RED transform");const p=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});h.pipeThrough(p).pipeTo(m)}setRedPayloadType(h){this.redPayloadType=h,Za.log(`red payload type set to ${this.redPayloadType}`)}setOpusPayloadType(h){this.opusPayloadType=h,Za.log(`opus payload type set to ${this.opusPayloadType}`)}setNumRedundantEncodings(h){this.numRedundantEncodings=h,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),Za.log(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`)}setRedundancyEnabled(h){this.redundancyEnabled=h,Za.log(`redundancy ${this.redundancyEnabled?"enabled":"disabled"}`)}enqueueAudioFrameIfPayloadSizeIsValid(h,m){h.data.byteLength>this.maxAudioPayloadSizeBytes||m.enqueue(h)}senderTransform(h,m){if(h.getMetadata().payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}const a=this.getPrimaryPayload(h.timestamp,h.data);if(!a){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}const s=this.encode(h.timestamp,a);if(!s){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}h.data=s,this.enqueueAudioFrameIfPayloadSizeIsValid(h,m)}getPrimaryPayload(h,m){const p=this.splitEncodings(h,m);return!p||p.length<1?null:p[p.length-1].payload}splitEncodings(h,m){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;const s=new DataView(m);let i=s.byteLength,e=0,t=0,r=0,o=0,f=!1;const g=new Array,v=new Array,u=new Array;for(;i>0;)if(f=(s.getUint8(o)&128)===0,f){if((s.getUint8(o)&127)!==this.opusPayloadType||(e+=this.redLastHeaderSizeBytes,t+=this.redLastHeaderSizeBytes,e>=s.byteLength))return null;r=s.byteLength-e;break}else{if(i<this.redHeaderSizeBytes)return null;const I=((s.getUint8(o+2)&3)<<8)+s.getUint8(o+3);v.push(I);const A=s.getUint16(o+1)>>2,w=h-A;u.push(w),e+=I+this.redHeaderSizeBytes,t+=this.redHeaderSizeBytes,o+=this.redHeaderSizeBytes,i-=this.redHeaderSizeBytes}if(!f)return a!==void 0?(g.push({payload:m,isRedundant:!1,seq:a}),g):null;let S=t;for(let I=0;I<u.length;I++){const A=new ArrayBuffer(v[I]);new Uint8Array(A).set(new Uint8Array(s.buffer,S,v[I]),0);const R={timestamp:u[I],payload:A,isRedundant:!0};p&&(R.hasFec=this.opusPacketHasFec(new DataView(A),A.byteLength)),g.push(R),S+=v[I]}const _=s.byteLength-r,b=new ArrayBuffer(r);new Uint8Array(b).set(new Uint8Array(s.buffer,_,r),0);const T={timestamp:h,payload:b,isRedundant:!1,seq:a};return p&&(T.hasFec=this.opusPacketHasFec(new DataView(b),b.byteLength)),g.push(T),g}encode(h,m){const p=m.byteLength;if(p===0||p>=this.maxRedPacketSizeBytes||p>=this.maxAudioPayloadSizeBytes)return null;const a=this.numRedundantEncodings;let s=this.redLastHeaderSizeBytes,i=p,e=this.maxAudioPayloadSizeBytes-p-s;const t=new Array,r=new Array;if(this.redundancyEnabled){let u=this.uint32WrapAround(h-this.redPacketizationTime*this.redPacketDistance);for(let S=0;S<a&&!(this.uint32WrapAround(h-u)>=this.maxRedTimestampOffset);S++){let _=u,b=this.encodingHistory.find(E=>E.timestamp===_);if(b||(_=this.uint32WrapAround(u-this.redPacketizationTime),b=this.encodingHistory.find(E=>E.timestamp===_)),b){const E=b.payload.byteLength;if(e<this.redHeaderSizeBytes+E)break;e-=this.redHeaderSizeBytes+E,s+=this.redHeaderSizeBytes,i+=E,t.unshift(b.timestamp),r.unshift(b.payload)}u-=this.redPacketizationTime*this.redPacketDistance,u=this.uint32WrapAround(u)}}const o=new ArrayBuffer(s+i),f=new DataView(o);let g=0;for(let u=0;u<t.length;u++){const S=h-t[u];f.setUint8(g,this.opusPayloadType|128),f.setUint16(g+1,S<<2|r[u].byteLength>>8),f.setUint8(g+3,r[u].byteLength&255),g+=this.redHeaderSizeBytes}f.setUint8(g,this.opusPayloadType),g+=this.redLastHeaderSizeBytes;const v=new Uint8Array(o);for(let u=0;u<r.length;u++)v.set(new Uint8Array(r[u]),g),g+=r[u].byteLength;return v.set(new Uint8Array(m),g),g+=m.byteLength,g!==s+i?null:(this.updateEncodingHistory(h,m),o)}updateEncodingHistory(h,m){for(const a of this.encodingHistory){const s=this.redPacketizationTime*this.redMaxRecoveryDistance;if(h-a.timestamp>=s)this.encodingHistory.shift();else break}const p=new DataView(m);(this.opusPacketIsCeltOnly(p)||this.opusPacketHasVoiceActivity(p,p.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:h,payload:m}))}initializePacketLogs(){const h=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:new Array(h),index:0,windowSize:h},this.redRecoveryLog={window:new Array(h),index:0,windowSize:h},this.fecRecoveryLog={window:new Array(h),index:0,windowSize:h},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(h,m){const p=h.getMetadata();if(p.payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}const a=this.splitEncodings(h.timestamp,h.data,!0,p.sequenceNumber);if(!a){this.enqueueAudioFrameIfPayloadSizeIsValid(h,m);return}for(let s=a.length-1;s>=0;s--)this.updateLossStats(a[s])&&(this.updateRedStats(a[s]),this.updateFecStats(a[s]));this.maybeReportLossStats(p.synchronizationSource,a[a.length-1].timestamp),this.enqueueAudioFrameIfPayloadSizeIsValid(h,m)}updateLossStats(h){if(h.isRedundant)return!0;const m=h.timestamp,p=h.seq;if(this.totalAudioPacketsExpected===0)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=p,this.addTimestamp(this.primaryPacketLog,m),!0;const a=this.int16(p-this.newestSequenceNumber);return a<-this.maxOutOfOrderPacketDistance?!1:(a<0?this.hasTimestamp(this.primaryPacketLog,m)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,m),this.removeFromRecoveryWindows(m)):a>1&&(this.totalAudioPacketsLost+=a-1),a>0&&(this.totalAudioPacketsExpected+=a,this.newestSequenceNumber=h.seq,this.addTimestamp(this.primaryPacketLog,m)),!0)}updateRedStats(h){if(!h.isRedundant||this.totalAudioPacketsLost===0)return;const m=h.timestamp;this.hasTimestamp(this.primaryPacketLog,m)||(this.hasTimestamp(this.redRecoveryLog,m)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,m)),this.removeTimestamp(this.fecRecoveryLog,m)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(h){if(!h.hasFec||this.totalAudioPacketsLost===0)return;const m=h.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,m)||this.hasTimestamp(this.redRecoveryLog,m)||this.hasTimestamp(this.fecRecoveryLog,m)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,m))}maybeReportLossStats(h,m){m===void 0||m-this.lastLossReportTimestamp<this.lossReportInterval||(Za.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:h,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=m)}addTimestamp(h,m){m!==void 0&&(h.window[h.index]=m,h.index=(h.index+1)%h.windowSize)}hasTimestamp(h,m){return!!h.window.find(a=>a===m)}removeTimestamp(h,m){const p=h.window.indexOf(m);return p>=0?(h.window[p]=void 0,!0):!1}removeFromRecoveryWindows(h){let m=this.removeTimestamp(this.redRecoveryLog,h);m&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,m=this.removeTimestamp(this.fecRecoveryLog,h),m&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(h){let p=h;return h>=4294967296?p=h-4294967296:h<0&&(p=4294967296+h),p}int16(h){return h<<16>>16}opusPacketIsCeltOnly(h){return!!(h.getUint8(0)&128)}opusPacketGetSamplesPerFrame(h,m){m=Math.round(m),m=Math.min(Math.max(m,-Math.pow(2,32)),Math.pow(2,32)-1);let p,a;return this.opusPacketIsCeltOnly(h)?(a=h.getUint8(0)>>3&3,p=(m<<a)/400):(h.getUint8(0)&96)===96?p=h.getUint8(0)&8?m/50:m/100:(a=h.getUint8(0)>>3&3,a===3?p=m*60/1e3:p=(m<<a)/100),p}opusNumSilkFrames(h){let m=this.opusPacketGetSamplesPerFrame(h,48e3)/48;switch(m<10&&(m=10),m){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(h){return h.getUint8(0)&4?2:1}opusParseSize(h,m,p,a){return p<1?(a[0]=-1,-1):h.getUint8(m)<252?(a[0]=h.getUint8(m),1):p<2?(a[0]=-1,-1):(a[0]=4*h.getUint8(m+1)+h.getUint8(m),2)}opusPacketParseImpl(h,m,p,a,s,i,e,t){if(!i||m<0)return this.OPUS_BAD_ARG;if(m===0)return this.OPUS_INVALID_PACKET;let r,o,f=0,g=!1;const v=h.getUint8(0);a&&(a[0]=v);let u=m-1,S=1,_=u;switch(v&3){case 0:r=1;break;case 1:if(r=2,g=!0,!p){if(u&1)return this.OPUS_INVALID_PACKET;_=u/2,i[0][0]=_}break;case 2:if(r=2,o=this.opusParseSize(h,S,u,i[0]),u-=o,i[0][0]<0||i[0][0]>u)return this.OPUS_INVALID_PACKET;S+=o,_=u-i[0][0];break;default:if(u<1)return this.OPUS_INVALID_PACKET;const b=h.getUint8(S++);if(--u,r=b&63,r<=0)return this.OPUS_INVALID_PACKET;if(this.opusPacketGetSamplesPerFrame(h,48e3)*r>5760)return this.OPUS_INVALID_PACKET;if(b&64){let T,I;do{if(u<=0)return this.OPUS_INVALID_PACKET;T=h.getUint8(S++),--u,I=T===255?254:T,u-=I,f+=I}while(T===255)}if(u<0)return this.OPUS_INVALID_PACKET;if(g=!(b&128),g){if(!p){if(_=Math.trunc(u/r),_*r!==u)return this.OPUS_INVALID_PACKET;for(let T=0;T<r-1;++T)i[T][0]=_}}else{_=u;for(let T=0;T<r-1;++T){if(o=this.opusParseSize(h,S,u,i[T]),u-=o,i[T][0]<0||i[T][0]>u)return this.OPUS_INVALID_PACKET;S+=o,_-=o+i[T][0]}if(_<0)return this.OPUS_INVALID_PACKET}}if(p){if(o=this.opusParseSize(h,S,u,i[r-1]),u-=o,i[r-1][0]<0||i[r-1][0]>u)return this.OPUS_INVALID_PACKET;if(S+=o,g){if(i[r-1][0]*r>u)return this.OPUS_INVALID_PACKET;for(let b=0;b<r-1;++b)i[b][0]=i[r-1][0]}else if(!(o+i[r-1][0]<=_))return this.OPUS_INVALID_PACKET}else{if(_>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;i[r-1][0]=_}e&&(e[0]=S);for(let b=0;b<r;++b)s&&(s[b][0]=S),S+=i[b][0];return t&&(t[0]=S+f),r}opusPacketParse(h,m,p,a,s,i){return this.opusPacketParseImpl(h,m,!1,p,a,s,i,null)}opusPacketHasVoiceActivity(h,m){if(!h||m<=0)return 0;if(this.opusPacketIsCeltOnly(h))return-1;const p=this.opusNumSilkFrames(h);if(p===0)return-1;const a=new Array(this.OPUS_MAX_OPUS_FRAMES),s=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let e=0;e<this.OPUS_MAX_OPUS_FRAMES;++e)a[e]=[void 0],s[e]=[void 0];const i=this.opusPacketParse(h,m,null,a,s,null);if(i<0)return-1;for(let e=0;e<i;++e){if(s[e][0]<1)continue;if(h.getUint8(a[e][0])>>8-p||this.opusPacketGetNumChannels(h)===2&&h.getUint8(a[e][0])<<p+1>>8-p)return 1}return 0}opusPacketHasFec(h,m){if(!h||m<=0||this.opusPacketIsCeltOnly(h))return!1;const p=new Array(this.OPUS_MAX_OPUS_FRAMES),a=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let t=0;t<this.OPUS_MAX_OPUS_FRAMES;++t)p[t]=[void 0],a[t]=[void 0];if(this.opusPacketParse(h,m,null,p,a,null)<0||a[0][0]<=1)return!1;const i=this.opusNumSilkFrames(h);if(i===0)return!1;const e=this.opusPacketGetNumChannels(h);if(e!==1&&e!==2)return!1;for(let t=0;t<e;t++)if(h.getUint8(p[0][0])&128>>(t+1)*(i+1)-1)return!0;return!1}constructor(){this.maxRedPacketSizeBytes=1<<10,this.maxAudioPayloadSizeBytes=1e3,this.maxRedTimestampOffset=1<<14,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=48e3*5,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=new Array,this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}},"RedundantAudioEncoder");l.default=c,c.shouldLog=!1,c.shouldReportStats=!1},207339016:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const c=`class RedundantAudioEncoder {
    constructor() {
        // Each payload must be less than 1024 bytes to fit the 10 bit block length
        this.maxRedPacketSizeBytes = 1 << 10;
        // Limit payload to 1000 bytes to handle small MTU. 1000 is chosen because in Chromium-based browsers, writing audio
        // payloads larger than 1000 bytes using the WebRTC Insertable Streams API (which is used to enable dynamic audio
        // redundancy) will cause an error to be thrown and cause audio flow to permanently stop. See
        // https://crbug.com/1248479.
        this.maxAudioPayloadSizeBytes = 1000;
        // Each payload can encode a timestamp delta of 14 bits
        this.maxRedTimestampOffset = 1 << 14;
        // 4 byte RED header
        this.redHeaderSizeBytes = 4;
        // reduced size for last RED header
        this.redLastHeaderSizeBytes = 1;
        // P-Time for Opus 20 msec packets
        // We do not support other p-times or clock rates
        this.redPacketizationTime = 960;
        // distance between redundant payloads, Opus FEC handles a distance of 1
        // TODO(https://issues.amazon.com/issues/ChimeSDKAudio-55):
        // Consider making this dynamic
        this.redPacketDistance = 2;
        // maximum number of redundant payloads per RTP packet
        this.maxRedEncodings = 2;
        // Maximum number of encodings that can be recovered with a single RED packet, assuming the primary and redundant
        // payloads have FEC.
        this.redMaxRecoveryDistance = this.redPacketDistance * this.maxRedEncodings + 1;
        // maximum history of prior payloads to keep
        // generally we will expire old entries based on timestamp
        // this limit is in place just to make sure the history does not
        // grow too large in the case of erroneous timestamp inputs
        this.maxEncodingHistorySize = 10;
        // Current number of encodings we want to send
        // to the remote end. This will be dynamically
        // updated through the setNumEncodingsFromPacketloss API
        this.numRedundantEncodings = 0;
        // Used to enable or disable redundancy
        // in response to very high packet loss events
        this.redundancyEnabled = true;
        // Loss stats are reported to the main thread every 5 seconds.
        // Since timestamp differences between 2 consecutive packets
        // give us the number of samples in each channel, 1 second
        // is equivalent to 48000 samples:
        // P-time * (1000ms/1s)
        // = (960 samples/20ms) * (1000ms/1s)
        // = 48000 samples/s
        this.lossReportInterval = 48000 * 5;
        // Maximum distance of a packet from the most recent packet timestamp
        // that we will consider for recovery.
        this.maxOutOfOrderPacketDistance = 16;
        /**
         * Below are Opus helper methods and constants.
         */
        this.OPUS_BAD_ARG = -1;
        this.OPUS_INVALID_PACKET = -4;
        // Max number of Opus frames in an Opus packet is 48 (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5).
        this.OPUS_MAX_OPUS_FRAMES = 48;
        // Max number of bytes that any individual Opus frame can have.
        this.OPUS_MAX_FRAME_SIZE_BYTES = 1275;
        this.encodingHistory = new Array();
        this.opusPayloadType = 0;
        this.redPayloadType = 0;
        this.initializePacketLogs();
    }
    /**
     * Creates an instance of RedundantAudioEncoder and sets up callbacks.
     */
    static initializeWorker() {
        RedundantAudioEncoder.log('Initializing RedundantAudioEncoder');
        const encoder = new RedundantAudioEncoder();
        // RED encoding is done using WebRTC Encoded Transform
        // https://github.com/w3c/webrtc-encoded-transform/blob/main/explainer.md
        // Check the DedicatedWorkerGlobalScope for existence of
        // RTCRtpScriptTransformer interface. If exists, then
        // RTCRtpScriptTransform is supported by this browser.
        // @ts-ignore
        if (self.RTCRtpScriptTransformer) {
            // @ts-ignore
            self.onrtctransform = (event) => {
                if (event.transformer.options.type === 'SenderTransform') {
                    encoder.setupSenderTransform(event.transformer.readable, event.transformer.writable);
                }
                else if (event.transformer.options.type === 'ReceiverTransform') {
                    encoder.setupReceiverTransform(event.transformer.readable, event.transformer.writable);
                }
                else if (event.transformer.options.type === 'PassthroughTransform') {
                    encoder.setupPassthroughTransform(event.transformer.readable, event.transformer.writable);
                }
            };
        }
        self.onmessage = (event) => {
            if (event.data.msgType === 'StartRedWorker') {
                encoder.setupSenderTransform(event.data.send.readable, event.data.send.writable);
                encoder.setupReceiverTransform(event.data.receive.readable, event.data.receive.writable);
            }
            else if (event.data.msgType === 'PassthroughTransform') {
                encoder.setupPassthroughTransform(event.data.send.readable, event.data.send.writable);
                encoder.setupPassthroughTransform(event.data.receive.readable, event.data.receive.writable);
            }
            else if (event.data.msgType === 'RedPayloadType') {
                encoder.setRedPayloadType(event.data.payloadType);
            }
            else if (event.data.msgType === 'OpusPayloadType') {
                encoder.setOpusPayloadType(event.data.payloadType);
            }
            else if (event.data.msgType === 'UpdateNumRedundantEncodings') {
                encoder.setNumRedundantEncodings(event.data.numRedundantEncodings);
            }
            else if (event.data.msgType === 'Enable') {
                encoder.setRedundancyEnabled(true);
            }
            else if (event.data.msgType === 'Disable') {
                encoder.setRedundancyEnabled(false);
            }
        };
    }
    /**
     * Post logs to the main thread
     */
    static log(msg) {
        if (RedundantAudioEncoder.shouldLog) {
            // @ts-ignore
            self.postMessage({
                type: 'REDWorkerLog',
                log: \`[AudioRed] \${msg}\`,
            });
        }
    }
    /**
     * Returns the number of encodings based on packetLoss value. This is used by \`DefaultTransceiverController\` to
     * determine when to alert the encoder to update the number of encodings. It also determines if we need to
     * turn off red in cases of very high packet loss to avoid congestion collapse.
     */
    static getNumRedundantEncodingsForPacketLoss(packetLoss) {
        let recommendedRedundantEncodings = 0;
        let shouldTurnOffRed = false;
        if (packetLoss <= 8) {
            recommendedRedundantEncodings = 0;
        }
        else if (packetLoss <= 18) {
            recommendedRedundantEncodings = 1;
        }
        else if (packetLoss <= 75) {
            recommendedRedundantEncodings = 2;
        }
        else {
            recommendedRedundantEncodings = 0;
            shouldTurnOffRed = true;
        }
        return [recommendedRedundantEncodings, shouldTurnOffRed];
    }
    /**
     * Sets up a passthrough (no-op) transform for the given streams.
     */
    setupPassthroughTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up passthrough transform');
        readable.pipeTo(writable);
    }
    /**
     * Sets up the transform stream and pipes the outgoing encoded audio frames through the transform function.
     */
    setupSenderTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up sender RED transform');
        const transformStream = new TransformStream({
            transform: this.senderTransform.bind(this),
        });
        readable.pipeThrough(transformStream).pipeTo(writable);
        return;
    }
    /**
     * Sets up the transform stream and pipes the received encoded audio frames through the transform function.
     */
    setupReceiverTransform(readable, writable) {
        RedundantAudioEncoder.log('Setting up receiver RED transform');
        const transformStream = new TransformStream({
            transform: this.receivePacketLogTransform.bind(this),
        });
        readable.pipeThrough(transformStream).pipeTo(writable);
        return;
    }
    /**
     * Set the RED payload type ideally obtained from local offer.
     */
    setRedPayloadType(payloadType) {
        this.redPayloadType = payloadType;
        RedundantAudioEncoder.log(\`red payload type set to \${this.redPayloadType}\`);
    }
    /**
     * Set the opus payload type ideally obtained from local offer.
     */
    setOpusPayloadType(payloadType) {
        this.opusPayloadType = payloadType;
        RedundantAudioEncoder.log(\`opus payload type set to \${this.opusPayloadType}\`);
    }
    /**
     * Set the number of redundant encodings
     */
    setNumRedundantEncodings(numRedundantEncodings) {
        this.numRedundantEncodings = numRedundantEncodings;
        if (this.numRedundantEncodings > this.maxRedEncodings) {
            this.numRedundantEncodings = this.maxRedEncodings;
        }
        RedundantAudioEncoder.log(\`Updated numRedundantEncodings to \${this.numRedundantEncodings}\`);
    }
    /**
     * Enable or disable redundancy in response to
     * high packet loss event.
     */
    setRedundancyEnabled(enabled) {
        this.redundancyEnabled = enabled;
        RedundantAudioEncoder.log(\`redundancy \${this.redundancyEnabled ? 'enabled' : 'disabled'}\`);
    }
    /**
     * Helper function to only enqueue audio frames if they do not exceed the audio payload byte limit imposed by
     * Chromium-based browsers. Chromium will throw an error (https://crbug.com/1248479) if an audio payload larger than
     * 1000 bytes is enqueued. Any controller that attempts to enqueue an audio payload larger than 1000 bytes will
     * encounter this error and will permanently stop sending or receiving audio.
     */
    enqueueAudioFrameIfPayloadSizeIsValid(
    // @ts-ignore
    frame, controller) {
        if (frame.data.byteLength > this.maxAudioPayloadSizeBytes)
            return;
        controller.enqueue(frame);
    }
    /**
     * Receives encoded frames and modifies as needed before sending to transport.
     */
    senderTransform(
    // @ts-ignore
    frame, controller) {
        const frameMetadata = frame.getMetadata();
        // @ts-ignore
        if (frameMetadata.payloadType !== this.redPayloadType) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        const primaryPayloadBuffer = this.getPrimaryPayload(frame.timestamp, frame.data);
        if (!primaryPayloadBuffer) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        const encodedBuffer = this.encode(frame.timestamp, primaryPayloadBuffer);
        /* istanbul ignore next */
        if (!encodedBuffer) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        frame.data = encodedBuffer;
        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
        return;
    }
    /**
     * Get the primary payload from encoding
     */
    getPrimaryPayload(primaryTimestamp, frame) {
        const encodings = this.splitEncodings(primaryTimestamp, frame);
        if (!encodings || encodings.length < 1)
            return null;
        return encodings[encodings.length - 1].payload;
    }
    /**
     * Split up the encoding received into primary and redundant encodings
     * These will be ordered oldest to newest which is the same ordering
     * in the RTP red payload.
     */
    splitEncodings(primaryTimestamp, frame, getFecInfo = false, primarySequenceNumber = undefined) {
        // process RED headers (according to RFC 2198)
        //   0                   1                   2                   3
        //   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        //  |F|   block PT  |  timestamp offset         |   block length    |
        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        //
        // last header
        //   0 1 2 3 4 5 6 7
        //  +-+-+-+-+-+-+-+-+
        //  |0|   Block PT  |
        //  +-+-+-+-+-+-+-+-+
        const payload = new DataView(frame);
        let payloadSizeBytes = payload.byteLength;
        let totalPayloadSizeBytes = 0;
        let totalHeaderSizeBytes = 0;
        let primaryPayloadSizeBytes = 0;
        let payloadOffset = 0;
        let gotLastBlock = false;
        const encodings = new Array();
        const redundantEncodingBlockLengths = new Array();
        const redundantEncodingTimestamps = new Array();
        while (payloadSizeBytes > 0) {
            gotLastBlock = (payload.getUint8(payloadOffset) & 0x80) === 0;
            if (gotLastBlock) {
                // Bits 1 through 7 are payload type
                const payloadType = payload.getUint8(payloadOffset) & 0x7f;
                // Unexpected payload type. This is a bad packet.
                if (payloadType !== this.opusPayloadType) {
                    return null;
                }
                totalPayloadSizeBytes += this.redLastHeaderSizeBytes;
                totalHeaderSizeBytes += this.redLastHeaderSizeBytes;
                // Accumulated block lengths are equal to or larger than the buffer, which means there is no primary block. This
                // is a bad packet.
                if (totalPayloadSizeBytes >= payload.byteLength) {
                    return null;
                }
                primaryPayloadSizeBytes = payload.byteLength - totalPayloadSizeBytes;
                break;
            }
            else {
                if (payloadSizeBytes < this.redHeaderSizeBytes) {
                    return null;
                }
                // Bits 22 through 31 are payload length
                const blockLength = ((payload.getUint8(payloadOffset + 2) & 0x03) << 8) + payload.getUint8(payloadOffset + 3);
                redundantEncodingBlockLengths.push(blockLength);
                const timestampOffset = payload.getUint16(payloadOffset + 1) >> 2;
                const timestamp = primaryTimestamp - timestampOffset;
                redundantEncodingTimestamps.push(timestamp);
                totalPayloadSizeBytes += blockLength + this.redHeaderSizeBytes;
                totalHeaderSizeBytes += this.redHeaderSizeBytes;
                payloadOffset += this.redHeaderSizeBytes;
                payloadSizeBytes -= this.redHeaderSizeBytes;
            }
        }
        // The last block was never found. The packet we received
        // does not have a good RED payload.
        if (!gotLastBlock) {
            // Note that sequence numbers only exist for
            // incoming audio frames.
            if (primarySequenceNumber !== undefined) {
                // This could be a possible padding packet used
                // for BWE with a good sequence number.
                // Create a dummy encoding to make sure loss values
                // are calculated correctly by consuming sequence number.
                // Note that for the receive side, we process packets only
                // for loss/recovery calculations and forward the original
                // packet without changing it even in the error case.
                encodings.push({
                    payload: frame,
                    isRedundant: false,
                    seq: primarySequenceNumber,
                });
                return encodings;
            }
            // This is a bad packet.
            return null;
        }
        let redundantPayloadOffset = totalHeaderSizeBytes;
        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {
            const redundantPayloadBuffer = new ArrayBuffer(redundantEncodingBlockLengths[i]);
            const redundantPayloadArray = new Uint8Array(redundantPayloadBuffer);
            redundantPayloadArray.set(new Uint8Array(payload.buffer, redundantPayloadOffset, redundantEncodingBlockLengths[i]), 0);
            const encoding = {
                timestamp: redundantEncodingTimestamps[i],
                payload: redundantPayloadBuffer,
                isRedundant: true,
            };
            if (getFecInfo) {
                encoding.hasFec = this.opusPacketHasFec(new DataView(redundantPayloadBuffer), redundantPayloadBuffer.byteLength);
            }
            encodings.push(encoding);
            redundantPayloadOffset += redundantEncodingBlockLengths[i];
        }
        const primaryPayloadOffset = payload.byteLength - primaryPayloadSizeBytes;
        const primaryPayloadBuffer = new ArrayBuffer(primaryPayloadSizeBytes);
        const primaryArray = new Uint8Array(primaryPayloadBuffer);
        primaryArray.set(new Uint8Array(payload.buffer, primaryPayloadOffset, primaryPayloadSizeBytes), 0);
        const encoding = {
            timestamp: primaryTimestamp,
            payload: primaryPayloadBuffer,
            isRedundant: false,
            seq: primarySequenceNumber,
        };
        if (getFecInfo) {
            encoding.hasFec = this.opusPacketHasFec(new DataView(primaryPayloadBuffer), primaryPayloadBuffer.byteLength);
        }
        encodings.push(encoding);
        return encodings;
    }
    /**
     * Create a new encoding with current primary payload and the older payloads of choice.
     */
    encode(primaryTimestamp, primaryPayload) {
        const primaryPayloadSize = primaryPayload.byteLength;
        // Payload size needs to be valid.
        if (primaryPayloadSize === 0 ||
            primaryPayloadSize >= this.maxRedPacketSizeBytes ||
            primaryPayloadSize >= this.maxAudioPayloadSizeBytes) {
            return null;
        }
        const numRedundantEncodings = this.numRedundantEncodings;
        let headerSizeBytes = this.redLastHeaderSizeBytes;
        let payloadSizeBytes = primaryPayloadSize;
        let bytesAvailable = this.maxAudioPayloadSizeBytes - primaryPayloadSize - headerSizeBytes;
        const redundantEncodingTimestamps = new Array();
        const redundantEncodingPayloads = new Array();
        // If redundancy is disabled then only send the primary payload
        if (this.redundancyEnabled) {
            // Determine how much redundancy we can fit into our packet
            let redundantTimestamp = this.uint32WrapAround(primaryTimestamp - this.redPacketizationTime * this.redPacketDistance);
            for (let i = 0; i < numRedundantEncodings; i++) {
                // Do not add redundant encodings that are beyond the maximum timestamp offset.
                if (this.uint32WrapAround(primaryTimestamp - redundantTimestamp) >= this.maxRedTimestampOffset) {
                    break;
                }
                let findTimestamp = redundantTimestamp;
                let encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);
                if (!encoding) {
                    // If not found or not important then look for the previous packet.
                    // The current packet may have included FEC for the previous, so just
                    // use the previous packet instead provided that it has voice activity.
                    findTimestamp = this.uint32WrapAround(redundantTimestamp - this.redPacketizationTime);
                    encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);
                }
                if (encoding) {
                    const redundantEncodingSizeBytes = encoding.payload.byteLength;
                    // Only add redundancy if there are enough bytes available.
                    if (bytesAvailable < this.redHeaderSizeBytes + redundantEncodingSizeBytes)
                        break;
                    bytesAvailable -= this.redHeaderSizeBytes + redundantEncodingSizeBytes;
                    headerSizeBytes += this.redHeaderSizeBytes;
                    payloadSizeBytes += redundantEncodingSizeBytes;
                    redundantEncodingTimestamps.unshift(encoding.timestamp);
                    redundantEncodingPayloads.unshift(encoding.payload);
                }
                redundantTimestamp -= this.redPacketizationTime * this.redPacketDistance;
                redundantTimestamp = this.uint32WrapAround(redundantTimestamp);
            }
        }
        const redPayloadBuffer = new ArrayBuffer(headerSizeBytes + payloadSizeBytes);
        const redPayloadView = new DataView(redPayloadBuffer);
        // Add redundant encoding header(s) to new buffer
        let redPayloadOffset = 0;
        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {
            const timestampDelta = primaryTimestamp - redundantEncodingTimestamps[i];
            redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType | 0x80);
            redPayloadView.setUint16(redPayloadOffset + 1, (timestampDelta << 2) | (redundantEncodingPayloads[i].byteLength >> 8));
            redPayloadView.setUint8(redPayloadOffset + 3, redundantEncodingPayloads[i].byteLength & 0xff);
            redPayloadOffset += this.redHeaderSizeBytes;
        }
        // Add primary encoding header to new buffer
        redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType);
        redPayloadOffset += this.redLastHeaderSizeBytes;
        // Add redundant payload(s) to new buffer
        const redPayloadArray = new Uint8Array(redPayloadBuffer);
        for (let i = 0; i < redundantEncodingPayloads.length; i++) {
            redPayloadArray.set(new Uint8Array(redundantEncodingPayloads[i]), redPayloadOffset);
            redPayloadOffset += redundantEncodingPayloads[i].byteLength;
        }
        // Add primary payload to new buffer
        redPayloadArray.set(new Uint8Array(primaryPayload), redPayloadOffset);
        redPayloadOffset += primaryPayload.byteLength;
        /* istanbul ignore next */
        // Sanity check that we got the expected total payload size.
        if (redPayloadOffset !== headerSizeBytes + payloadSizeBytes)
            return null;
        this.updateEncodingHistory(primaryTimestamp, primaryPayload);
        return redPayloadBuffer;
    }
    /**
     * Update the encoding history with the latest primary encoding
     */
    updateEncodingHistory(primaryTimestamp, primaryPayload) {
        // Remove encodings from the history if they are too old.
        for (const encoding of this.encodingHistory) {
            const maxTimestampDelta = this.redPacketizationTime * this.redMaxRecoveryDistance;
            if (primaryTimestamp - encoding.timestamp >= maxTimestampDelta) {
                this.encodingHistory.shift();
            }
            else {
                break;
            }
        }
        // Only add an encoding to the history if the encoding is deemed to be important. An encoding is important if it is
        // a CELT-only packet or contains voice activity.
        const packet = new DataView(primaryPayload);
        if (this.opusPacketIsCeltOnly(packet) ||
            this.opusPacketHasVoiceActivity(packet, packet.byteLength) > 0) {
            // Check if adding an encoding will cause the length of the encoding history to exceed the maximum history size.
            // This is not expected to happen but could occur if we get incorrect timestamps. We want to make sure our memory
            // usage is bounded. In this case, just clear the history and start over from empty.
            if (this.encodingHistory.length + 1 > this.maxEncodingHistorySize)
                this.encodingHistory.length = 0;
            this.encodingHistory.push({ timestamp: primaryTimestamp, payload: primaryPayload });
        }
    }
    /**
     * Initialize packet logs and metric values.
     */
    initializePacketLogs() {
        // The extra space from the max RED recovery distance is to ensure that we do not incorrectly count recovery for
        // packets that have already been received but are outside of the max out-of-order distance.
        const packetLogSize = this.maxOutOfOrderPacketDistance + this.redMaxRecoveryDistance;
        this.primaryPacketLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.redRecoveryLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.fecRecoveryLog = {
            window: new Array(packetLogSize),
            index: 0,
            windowSize: packetLogSize,
        };
        this.totalAudioPacketsExpected = 0;
        this.totalAudioPacketsLost = 0;
        this.totalAudioPacketsRecoveredRed = 0;
        this.totalAudioPacketsRecoveredFec = 0;
    }
    /**
     * Receives encoded frames from the server
     * and adds the timestamps to a packet log
     * to calculate an approximate recovery metric.
     */
    receivePacketLogTransform(
    // @ts-ignore
    frame, controller) {
        const frameMetadata = frame.getMetadata();
        // @ts-ignore
        if (frameMetadata.payloadType !== this.redPayloadType) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        // @ts-ignore
        const encodings = this.splitEncodings(frame.timestamp, frame.data, 
        /*getFecInfo*/ true, frameMetadata.sequenceNumber);
        if (!encodings) {
            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
            return;
        }
        for (let i = encodings.length - 1; i >= 0; i--) {
            if (this.updateLossStats(encodings[i])) {
                this.updateRedStats(encodings[i]);
                this.updateFecStats(encodings[i]);
            }
        }
        this.maybeReportLossStats(frameMetadata.synchronizationSource, encodings[encodings.length - 1].timestamp);
        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);
    }
    /**
     * Adds a timestamp to the primary packet log.
     * This also updates totalAudioPacketsLost and totalAudioPacketsExpected by looking
     * at the difference between timestamps.
     *
     * @param encoding : The encoding to be analyzed
     * @returns false if sequence number was greater than max out of order distance
     *          true otherwise
     */
    updateLossStats(encoding) {
        if (encoding.isRedundant)
            return true;
        const timestamp = encoding.timestamp;
        const seq = encoding.seq;
        if (this.totalAudioPacketsExpected === 0) {
            this.totalAudioPacketsExpected = 1;
            this.newestSequenceNumber = seq;
            this.addTimestamp(this.primaryPacketLog, timestamp);
            return true;
        }
        const diff = this.int16(seq - this.newestSequenceNumber);
        if (diff < -this.maxOutOfOrderPacketDistance)
            return false;
        if (diff < 0) {
            if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {
                if (this.totalAudioPacketsLost > 0)
                    this.totalAudioPacketsLost--;
                this.addTimestamp(this.primaryPacketLog, timestamp);
                this.removeFromRecoveryWindows(timestamp);
            }
        }
        else if (diff > 1) {
            this.totalAudioPacketsLost += diff - 1;
        }
        if (diff > 0) {
            this.totalAudioPacketsExpected += diff;
            this.newestSequenceNumber = encoding.seq;
            this.addTimestamp(this.primaryPacketLog, timestamp);
        }
        return true;
    }
    /**
     * Adds a timestamp to the red recovery log if it is not present in
     * the primary packet log and if it's not too old.
     *
     * @param encoding : The encoding to be analyzed
     */
    updateRedStats(encoding) {
        if (!encoding.isRedundant || this.totalAudioPacketsLost === 0)
            return;
        const timestamp = encoding.timestamp;
        if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {
            if (!this.hasTimestamp(this.redRecoveryLog, timestamp)) {
                this.totalAudioPacketsRecoveredRed++;
                this.addTimestamp(this.redRecoveryLog, timestamp);
            }
            if (this.removeTimestamp(this.fecRecoveryLog, timestamp)) {
                /* istanbul ignore else */
                if (this.totalAudioPacketsRecoveredFec > 0)
                    this.totalAudioPacketsRecoveredFec--;
            }
        }
    }
    /**
     * Adds a timestamp to the fec recovery log if it is not present in
     * the primary packet log and red recovery log and if it is not too old.
     *
     * @param encoding : The encoding to be analyzed
     */
    updateFecStats(encoding) {
        if (!encoding.hasFec || this.totalAudioPacketsLost === 0)
            return;
        const fecTimestamp = encoding.timestamp - this.redPacketizationTime;
        if (this.hasTimestamp(this.primaryPacketLog, fecTimestamp) ||
            this.hasTimestamp(this.redRecoveryLog, fecTimestamp) ||
            this.hasTimestamp(this.fecRecoveryLog, fecTimestamp)) {
            return;
        }
        this.totalAudioPacketsRecoveredFec++;
        this.addTimestamp(this.fecRecoveryLog, fecTimestamp);
    }
    /**
     * Reports loss metrics to DefaultTransceiverController
     *
     * @param timestamp : Timestamp of most recent primary packet
     */
    maybeReportLossStats(ssrc, timestamp) {
        if (timestamp === undefined ||
            timestamp - this.lastLossReportTimestamp < this.lossReportInterval)
            return;
        /* istanbul ignore next */
        if (RedundantAudioEncoder.shouldReportStats) {
            // @ts-ignore
            self.postMessage({
                type: 'RedundantAudioEncoderStats',
                ssrc,
                totalAudioPacketsLost: this.totalAudioPacketsLost,
                totalAudioPacketsExpected: this.totalAudioPacketsExpected,
                totalAudioPacketsRecoveredRed: this.totalAudioPacketsRecoveredRed,
                totalAudioPacketsRecoveredFec: this.totalAudioPacketsRecoveredFec,
            });
        }
        this.lastLossReportTimestamp = timestamp;
    }
    /**
     * Adds a timestamp to a packet log
     *
     * @param packetLog : The packetlog to add the timestamp to
     * @param timestamp : The timestamp that should be added
     */
    addTimestamp(packetLog, timestamp) {
        if (timestamp === undefined) {
            return;
        }
        packetLog.window[packetLog.index] = timestamp;
        packetLog.index = (packetLog.index + 1) % packetLog.windowSize;
    }
    /**
     * Checks if a timestamp is in a packetlog
     *
     * @param packetLog : The packetlog to search
     * @param timestamp : The timestamp to search for
     * @returns true if timestamp is present, false otherwise
     */
    hasTimestamp(packetLog, timestamp) {
        const element = packetLog.window.find(t => t === timestamp);
        return !!element;
    }
    /**
     * Removes a timestamp from a packet log
     *
     * @param packetLog : The packetlog from which the timestamp should be removed
     * @param timestamp : The timestamp to be removed
     * @returns true if timestamp was present in the log and removed, false otherwise
     */
    removeTimestamp(packetLog, timestamp) {
        const index = packetLog.window.indexOf(timestamp);
        if (index >= 0) {
            packetLog.window[index] = undefined;
            return true;
        }
        return false;
    }
    /**
     * Removes a timestamp from red and fec recovery windows.
     *
     * @param timestamp : The timestamp to be removed
     */
    removeFromRecoveryWindows(timestamp) {
        let removed = this.removeTimestamp(this.redRecoveryLog, timestamp);
        if (removed) {
            if (this.totalAudioPacketsRecoveredRed > 0)
                this.totalAudioPacketsRecoveredRed--;
        }
        removed = this.removeTimestamp(this.fecRecoveryLog, timestamp);
        if (removed) {
            if (this.totalAudioPacketsRecoveredFec > 0)
                this.totalAudioPacketsRecoveredFec--;
        }
    }
    /**
     * Converts the supplied argument to 32-bit unsigned integer
     */
    uint32WrapAround(num) {
        const mod = 4294967296; // 2^32
        let res = num;
        if (num >= mod) {
            res = num - mod;
        }
        else if (num < 0) {
            res = mod + num;
        }
        return res;
    }
    /**
     * Converts the supplied argument to 16-bit signed integer
     */
    int16(num) {
        return (num << 16) >> 16;
    }
    /**
     * Determines if an Opus packet is in CELT-only mode.
     *
     * @param packet Opus packet.
     * @returns \`true\` if the packet is in CELT-only mode.
     */
    opusPacketIsCeltOnly(packet) {
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        // Since CELT-only packets are represented using configurations 16 to 31, the highest 'config' bit will always be 1
        // for CELT-only packets.
        return !!(packet.getUint8(0) & 0x80);
    }
    /**
     * Gets the number of samples per frame from an Opus packet.
     *
     * @param packet Opus packet. This must contain at least one byte of data.
     * @param sampleRateHz 32-bit integer sampling rate in Hz. This must be a multiple of 400 or inaccurate results will
     *                     be returned.
     * @returns Number of samples per frame.
     */
    opusPacketGetSamplesPerFrame(packet, sampleRateHz) {
        // Sample rate must be a 32-bit integer.
        sampleRateHz = Math.round(sampleRateHz);
        sampleRateHz = Math.min(Math.max(sampleRateHz, -(Math.pow(2, 32))), Math.pow(2, 32) - 1);
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        let numSamples;
        let frameSizeOption;
        // Case for CELT-only packet.
        if (this.opusPacketIsCeltOnly(packet)) {
            // The lower 3 'config' bits indicate the frame size option.
            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;
            // The frame size options 0, 1, 2, 3 correspond to frame sizes of 2.5, 5, 10, 20 ms. Notice that the frame sizes
            // can be represented as (2.5 * 2^0), (2.5 * 2^1), (2.5 * 2^2), (2.5 * 2^3) ms. So, the number of samples can be
            // calculated as follows:
            // (sample/s) * (1s/1000ms) * (2.5ms) * 2^(frameSizeOption)
            // = (sample/s) * (1s/400) * 2^(frameSizeOption)
            // = (sample/s) * 2^(frameSizeOption) * (1s/400)
            numSamples = (sampleRateHz << frameSizeOption) / 400;
        }
        // Case for Hybrid packet. Since Hybrid packets are represented using configurations 12 to 15, bits 1 and 2 in the
        // above TOC byte diagram will both be 1.
        else if ((packet.getUint8(0) & 0x60) === 0x60) {
            // In the case of configuration 13 or 15, bit 4 in the above TOC byte diagram will be 1. Configurations 13 and 15
            // correspond to a 20ms frame size, so the number of samples is calculated as follows:
            // (sample/s) * (1s/1000ms) * (20ms)
            // = (sample/s) * (1s/50)
            //
            // In the case of configuration 12 or 14, bit 4 in the above TOC byte diagram will be 0. Configurations 12 and 14
            // correspond to a 10ms frame size, so the number of samples is calculated as follows:
            // (sample/s) * (1s/1000ms) * (10ms)
            // = (sample/s) * (1s/100)
            numSamples = packet.getUint8(0) & 0x08 ? sampleRateHz / 50 : sampleRateHz / 100;
        }
        // Case for SILK-only packet.
        else {
            // The lower 3 'config' bits indicate the frame size option for SILK-only packets.
            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;
            if (frameSizeOption === 3) {
                // Frame size option 3 corresponds to a frame size of 60ms, so the number of samples is calculated as follows:
                // (sample/s) * (1s/1000ms) * (60ms)
                // = (sample/s) * (60ms) * (1s/1000ms)
                numSamples = (sampleRateHz * 60) / 1000;
            }
            else {
                // The frame size options 0, 1, 2 correspond to frame sizes of 10, 20, 40 ms. Notice that the frame sizes can be
                // represented as (10 * 2^0), (10 * 2^1), (10 * 2^2) ms. So, the number of samples can be calculated as follows:
                // (sample/s) * (1s/1000ms) * (10ms) * 2^(frameSizeOption)
                // = (sample/s) * (1s/100) * 2^(frameSizeOption)
                // = (sample/s) * 2^(frameSizeOption) * (1s/100)
                numSamples = (sampleRateHz << frameSizeOption) / 100;
            }
        }
        return numSamples;
    }
    /**
     * Gets the number of SILK frames per Opus frame.
     *
     * @param packet Opus packet.
     * @returns Number of SILK frames per Opus frame.
     */
    opusNumSilkFrames(packet) {
        // For computing the frame length in ms, the sample rate is not important since it cancels out. We use 48 kHz, but
        // any valid sample rate would work.
        //
        // To calculate the length of a frame (with a 48kHz sample rate) in ms:
        // (samples/frame) * (1s/48000 samples) * (1000ms/s)
        // = (samples/frame) * (1000ms/48000 samples)
        // = (samples/frame) * (1ms/48 samples)
        let frameLengthMs = this.opusPacketGetSamplesPerFrame(packet, 48000) / 48;
        if (frameLengthMs < 10)
            frameLengthMs = 10;
        // The number of SILK frames per Opus frame is described in https://www.rfc-editor.org/rfc/rfc6716#section-4.2.2.
        switch (frameLengthMs) {
            case 10:
            case 20:
                return 1;
            case 40:
                return 2;
            case 60:
                return 3;
            // It is not possible to reach the default case since an Opus packet can only encode sizes of 2.5, 5, 10, 20, 40,
            // or 60 ms, so we ignore the default case for test coverage.
            /* istanbul ignore next */
            default:
                return 0;
        }
    }
    /**
     * Gets the number of channels from an Opus packet.
     *
     * @param packet Opus packet.
     * @returns Number of channels.
     */
    opusPacketGetNumChannels(packet) {
        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):
        //  0
        //  0 1 2 3 4 5 6 7
        // +-+-+-+-+-+-+-+-+
        // | config  |s| c |
        // +-+-+-+-+-+-+-+-+
        // The 's' bit indicates mono or stereo audio, with 0 indicating mono and 1 indicating stereo.
        return packet.getUint8(0) & 0x4 ? 2 : 1;
    }
    /**
     * Determine the size (in bytes) of an Opus frame.
     *
     * @param packet Opus packet.
     * @param byteOffset Offset (from the start of the packet) to the byte containing the size information.
     * @param remainingBytes Remaining number of bytes to parse from the Opus packet.
     * @param sizeBytes Variable to store the parsed frame size (in bytes).
     * @returns Number of bytes that were parsed to determine the frame size.
     */
    opusParseSize(packet, byteOffset, remainingBytes, sizeBytes) {
        // See https://www.rfc-editor.org/rfc/rfc6716#section-3.2.1 for an explanation of how frame size is represented.
        // If there are no remaining bytes to parse the size from, then the size cannot be determined.
        if (remainingBytes < 1) {
            sizeBytes[0] = -1;
            return -1;
        }
        // If the first byte is in the range 0...251, then this value is the size of the frame.
        else if (packet.getUint8(byteOffset) < 252) {
            sizeBytes[0] = packet.getUint8(byteOffset);
            return 1;
        }
        // If the first byte is in the range 252...255, a second byte is needed. If there is no second byte, then the size
        // cannot be determined.
        else if (remainingBytes < 2) {
            sizeBytes[0] = -1;
            return -1;
        }
        // The total size of the frame given two size bytes is:
        // (4 * secondSizeByte) + firstSizeByte
        else {
            sizeBytes[0] = 4 * packet.getUint8(byteOffset + 1) + packet.getUint8(byteOffset);
            return 2;
        }
    }
    /**
     * Parse binary data containing an Opus packet into one or more Opus frames.
     *
     * @param data Binary data containing an Opus packet to be parsed. The data should begin with the first byte (i.e the
     *             TOC byte) of an Opus packet. Note that the size of the data does not have to equal the size of the
     *             contained Opus packet.
     * @param lenBytes Size of the data (in bytes).
     * @param selfDelimited Indicates if the Opus packet is self-delimiting
     *                      (https://www.rfc-editor.org/rfc/rfc6716#appendix-B).
     * @param tocByte Optional variable to store the TOC (table of contents) byte.
     * @param frameOffsets Optional variable to store the offsets (from the start of the data) to the first bytes of each
     *                     Opus frame.
     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.
     * @param payloadOffset Optional variable to store the offset (from the start of the data) to the first byte of the
     *                      payload.
     * @param packetLenBytes Optional variable to store the length of the Opus packet (in bytes).
     * @returns Number of Opus frames.
     */
    opusPacketParseImpl(data, lenBytes, selfDelimited, tocByte, frameOffsets, frameSizes, payloadOffset, packetLenBytes) {
        if (!frameSizes || lenBytes < 0)
            return this.OPUS_BAD_ARG;
        if (lenBytes === 0)
            return this.OPUS_INVALID_PACKET;
        // The number of Opus frames in the packet.
        let numFrames;
        // Intermediate storage for the number of bytes parsed to determine the size of a frame.
        let numBytesParsed;
        // The number of the padding bytes (excluding the padding count bytes) in the packet.
        let paddingBytes = 0;
        // Indicates whether CBR (constant bitrate) framing is used.
        let cbr = false;
        // The TOC (table of contents) byte (https://www.rfc-editor.org/rfc/rfc6716#section-3.1).
        const toc = data.getUint8(0);
        // Store the TOC byte.
        if (tocByte)
            tocByte[0] = toc;
        // The remaining number of bytes to parse from the packet. Note that the TOC byte has already been parsed, hence the
        // minus 1.
        let remainingBytes = lenBytes - 1;
        // This keeps track of where we are in the packet. This starts at 1 since the TOC byte has already been read.
        let byteOffset = 1;
        // The size of the last Opus frame in bytes.
        let lastSizeBytes = remainingBytes;
        // Read the \`c\` bits (i.e. code bits) from the TOC byte.
        switch (toc & 0x3) {
            // A code 0 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.2) has one frame.
            case 0:
                numFrames = 1;
                break;
            // A code 1 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.3) has two CBR (constant bitrate) frames.
            case 1:
                numFrames = 2;
                cbr = true;
                if (!selfDelimited) {
                    // Undelimited code 1 packets must be an even number of data bytes, otherwise the packet is invalid.
                    if (remainingBytes & 0x1)
                        return this.OPUS_INVALID_PACKET;
                    // The sizes of both frames are equal (i.e. half of the number of data bytes).
                    lastSizeBytes = remainingBytes / 2;
                    // If \`lastSizeBytes\` is too large, we will catch it later.
                    frameSizes[0][0] = lastSizeBytes;
                }
                break;
            // A code 2 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.4) has two VBR (variable bitrate) frames.
            case 2:
                numFrames = 2;
                numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[0]);
                remainingBytes -= numBytesParsed;
                // The parsed size of the first frame cannot be larger than the number of remaining bytes in the packet.
                if (frameSizes[0][0] < 0 || frameSizes[0][0] > remainingBytes) {
                    return this.OPUS_INVALID_PACKET;
                }
                byteOffset += numBytesParsed;
                // The size of the second frame is the remaining number of bytes after the first frame.
                lastSizeBytes = remainingBytes - frameSizes[0][0];
                break;
            // A code 3 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5) has multiple CBR/VBR frames (from 0 to
            // 120 ms).
            default:
                // Code 3 packets must have at least 2 bytes (i.e. at least 1 byte after the TOC byte).
                if (remainingBytes < 1)
                    return this.OPUS_INVALID_PACKET;
                // Frame count byte format:
                //  0
                //  0 1 2 3 4 5 6 7
                // +-+-+-+-+-+-+-+-+
                // |v|p|     M     |
                // +-+-+-+-+-+-+-+-+
                //
                // Read the frame count byte, which immediately follows the TOC byte.
                const frameCountByte = data.getUint8(byteOffset++);
                --remainingBytes;
                // Read the 'M' bits of the frame count byte, which encode the number of frames.
                numFrames = frameCountByte & 0x3f;
                // The number of frames in a code 3 packet must not be 0.
                if (numFrames <= 0)
                    return this.OPUS_INVALID_PACKET;
                const samplesPerFrame = this.opusPacketGetSamplesPerFrame(data, 48000);
                // A single frame can have at most 2880 samples, which happens in the case where 60ms of 48kHz audio is encoded
                // per frame. A code 3 packet cannot contain more than 120ms of audio, so the total number of samples cannot
                // exceed 2880 * 2 = 5760.
                if (samplesPerFrame * numFrames > 5760)
                    return this.OPUS_INVALID_PACKET;
                // Parse padding bytes if the 'p' bit is 1.
                if (frameCountByte & 0x40) {
                    let paddingCountByte;
                    let numPaddingBytes;
                    // Remove padding bytes (including padding count bytes) from the remaining byte count.
                    do {
                        // Sanity check that there are enough bytes to parse and remove the padding.
                        if (remainingBytes <= 0)
                            return this.OPUS_INVALID_PACKET;
                        // Get the next padding count byte.
                        paddingCountByte = data.getUint8(byteOffset++);
                        --remainingBytes;
                        // If the padding count byte has a value in the range 0...254, then the total size of the padding is the
                        // value in the padding count byte.
                        //
                        // If the padding count byte has value 255, then the total size of the padding is 254 plus the value in the
                        // next padding count byte. Therefore, keep reading padding count bytes while the value is 255.
                        numPaddingBytes = paddingCountByte === 255 ? 254 : paddingCountByte;
                        remainingBytes -= numPaddingBytes;
                        paddingBytes += numPaddingBytes;
                    } while (paddingCountByte === 255);
                }
                // Sanity check that the remaining number of bytes is not negative after removing the padding.
                if (remainingBytes < 0)
                    return this.OPUS_INVALID_PACKET;
                // Read the 'v' bit (i.e. VBR bit).
                cbr = !(frameCountByte & 0x80);
                // VBR case
                if (!cbr) {
                    lastSizeBytes = remainingBytes;
                    // Let M be the number of frames. There will be M - 1 frame length indicators (which can be 1 or 2 bytes)
                    // corresponding to the lengths of frames 0 to M - 2. The size of the last frame (i.e. frame M - 1) is the
                    // number of data bytes after the end of frame M - 2 and before the start of the padding bytes.
                    for (let i = 0; i < numFrames - 1; ++i) {
                        numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[i]);
                        remainingBytes -= numBytesParsed;
                        // The remaining number of data bytes must be enough to contain each frame.
                        if (frameSizes[i][0] < 0 || frameSizes[i][0] > remainingBytes) {
                            return this.OPUS_INVALID_PACKET;
                        }
                        byteOffset += numBytesParsed;
                        lastSizeBytes -= numBytesParsed + frameSizes[i][0];
                    }
                    // Sanity check that the size of the last frame is not negative.
                    if (lastSizeBytes < 0)
                        return this.OPUS_INVALID_PACKET;
                }
                // CBR case
                else if (!selfDelimited) {
                    // The size of each frame is the number of data bytes divided by the number of frames.
                    lastSizeBytes = Math.trunc(remainingBytes / numFrames);
                    // The number of data bytes must be a non-negative integer multiple of the number of frames.
                    if (lastSizeBytes * numFrames !== remainingBytes)
                        return this.OPUS_INVALID_PACKET;
                    // All frames have equal size in the undelimited CBR case.
                    for (let i = 0; i < numFrames - 1; ++i) {
                        frameSizes[i][0] = lastSizeBytes;
                    }
                }
        }
        // Self-delimited framing uses an extra 1 or 2 bytes, immediately preceding the data bytes, to indicate either the
        // size of the last frame (for code 0, code 2, and VBR code 3 packets) or the size of all the frames (for code 1 and
        // CBR code 3 packets). See https://www.rfc-editor.org/rfc/rfc6716#appendix-B.
        if (selfDelimited) {
            // The extra frame size byte(s) will always indicate the size of the last frame.
            numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[numFrames - 1]);
            remainingBytes -= numBytesParsed;
            // There must be enough data bytes for the last frame.
            if (frameSizes[numFrames - 1][0] < 0 || frameSizes[numFrames - 1][0] > remainingBytes) {
                return this.OPUS_INVALID_PACKET;
            }
            byteOffset += numBytesParsed;
            // For CBR packets, the sizes of all the frames are equal.
            if (cbr) {
                // There must be enough data bytes for all the frames.
                if (frameSizes[numFrames - 1][0] * numFrames > remainingBytes) {
                    return this.OPUS_INVALID_PACKET;
                }
                for (let i = 0; i < numFrames - 1; ++i) {
                    frameSizes[i][0] = frameSizes[numFrames - 1][0];
                }
            }
            // At this point, \`lastSizeBytes\` contains the size of the last frame plus the size of the extra frame size
            // byte(s), so sanity check that \`lastSizeBytes\` is the upper bound for the size of the last frame.
            else if (!(numBytesParsed + frameSizes[numFrames - 1][0] <= lastSizeBytes)) {
                return this.OPUS_INVALID_PACKET;
            }
        }
        // Undelimited case
        else {
            // Because the size of the last packet is not encoded explicitly, it is possible that the size of the last packet
            // (or of all the packets, for the CBR case) is larger than maximum frame size.
            if (lastSizeBytes > this.OPUS_MAX_FRAME_SIZE_BYTES)
                return this.OPUS_INVALID_PACKET;
            frameSizes[numFrames - 1][0] = lastSizeBytes;
        }
        // Store the offset to the start of the payload.
        if (payloadOffset)
            payloadOffset[0] = byteOffset;
        // Store the offsets to the start of each frame.
        for (let i = 0; i < numFrames; ++i) {
            if (frameOffsets)
                frameOffsets[i][0] = byteOffset;
            byteOffset += frameSizes[i][0];
        }
        // Store the length of the Opus packet.
        if (packetLenBytes)
            packetLenBytes[0] = byteOffset + paddingBytes;
        return numFrames;
    }
    /**
     * Parse a single undelimited Opus packet into one or more Opus frames.
     *
     * @param packet Opus packet to be parsed.
     * @param lenBytes Size of the packet (in bytes).
     * @param tocByte Optional variable to store the TOC (table of contents) byte.
     * @param frameOffsets Optional variable to store the offsets (from the start of the packet) to the first bytes of
     *                     each Opus frame.
     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.
     * @param payloadOffset Optional variable to store the offset (from the start of the packet) to the first byte of the
     *                      payload.
     * @returns Number of Opus frames.
     */
    opusPacketParse(packet, lenBytes, tocByte, frameOffsets, frameSizes, payloadOffset) {
        return this.opusPacketParseImpl(packet, lenBytes, 
        /* selfDelimited */ false, tocByte, frameOffsets, frameSizes, payloadOffset, null);
    }
    /**
     * This function returns the SILK VAD (voice activity detection) information encoded in the Opus packet. For CELT-only
     * packets that do not have VAD information, it returns -1.
     *
     * @param packet Opus packet.
     * @param lenBytes Size of the packet (in bytes).
     * @returns  0: no frame had the VAD flag set.
     *           1: at least one frame had the VAD flag set.
     *          -1: VAD status could not be determined.
     */
    opusPacketHasVoiceActivity(packet, lenBytes) {
        if (!packet || lenBytes <= 0)
            return 0;
        // In CELT-only mode, we can not determine whether there is VAD.
        if (this.opusPacketIsCeltOnly(packet))
            return -1;
        const numSilkFrames = this.opusNumSilkFrames(packet);
        // It is not possible for \`opusNumSilkFrames()\` to return 0, so we ignore the next sanity check for test coverage.
        /* istanbul ignore next */
        if (numSilkFrames === 0)
            return -1;
        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);
        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);
        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {
            opusFrameOffsets[i] = [undefined];
            opusFrameSizes[i] = [undefined];
        }
        // Parse packet to get the Opus frames.
        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);
        // VAD status cannot be determined for invalid packets.
        if (numOpusFrames < 0)
            return -1;
        // Iterate over all Opus frames, which may contain multiple SILK frames, to determine the VAD status.
        for (let i = 0; i < numOpusFrames; ++i) {
            if (opusFrameSizes[i][0] < 1)
                continue;
            // LP layer header bits format (https://www.rfc-editor.org/rfc/rfc6716#section-4.2.3):
            //
            // Mono case:
            // +-----------------+----------+
            // | 1 to 3 VAD bits | LBRR bit |
            // +-----------------+----------+
            //
            // Stereo case:
            // +---------------------+--------------+----------------------+---------------+
            // | 1 to 3 mid VAD bits | mid LBRR bit | 1 to 3 side VAD bits | side LBRR bit |
            // +---------------------+--------------+----------------------+---------------+
            // The upper 1 to 3 bits (dependent on the number of SILK frames) of the LP layer contain VAD bits. If any of
            // these VAD bits are 1, then voice activity is present.
            if (packet.getUint8(opusFrameOffsets[i][0]) >> (8 - numSilkFrames))
                return 1;
            // In the stereo case, there is a second set of 1 to 3 VAD bits, so also check these VAD bits.
            const channels = this.opusPacketGetNumChannels(packet);
            if (channels === 2 &&
                (packet.getUint8(opusFrameOffsets[i][0]) << (numSilkFrames + 1)) >> (8 - numSilkFrames)) {
                return 1;
            }
        }
        // No voice activity was detected.
        return 0;
    }
    /**
     * This method is based on Definition of the Opus Audio Codec
     * (https://tools.ietf.org/html/rfc6716). Basically, this method is based on
     * parsing the LP layer of an Opus packet, particularly the LBRR flag.
     *
     * @param packet Opus packet.
     * @param lenBytes Size of the packet (in bytes).
     * @returns  true: packet has fec encoding about previous packet.
     *           false: no fec encoding present.
     */
    opusPacketHasFec(packet, lenBytes) {
        if (!packet || lenBytes <= 0)
            return false;
        // In CELT-only mode, packets should not have FEC.
        if (this.opusPacketIsCeltOnly(packet))
            return false;
        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);
        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);
        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {
            opusFrameOffsets[i] = [undefined];
            opusFrameSizes[i] = [undefined];
        }
        // Parse packet to get the Opus frames.
        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);
        if (numOpusFrames < 0)
            return false;
        /* istanbul ignore next */
        if (opusFrameSizes[0][0] <= 1)
            return false;
        const numSilkFrames = this.opusNumSilkFrames(packet);
        /* istanbul ignore next */
        if (numSilkFrames === 0)
            return false;
        const channels = this.opusPacketGetNumChannels(packet);
        /* istanbul ignore next */
        if (channels !== 1 && channels !== 2)
            return false;
        // A frame starts with the LP layer. The LP layer begins with two to eight
        // header bits.These consist of one VAD bit per SILK frame (up to 3),
        // followed by a single flag indicating the presence of LBRR frames.
        // For a stereo packet, these first flags correspond to the mid channel, and
        // a second set of flags is included for the side channel. Because these are
        // the first symbols decoded by the range coder and because they are coded
        // as binary values with uniform probability, they can be extracted directly
        // from the most significant bits of the first byte of compressed data.
        for (let i = 0; i < channels; i++) {
            if (packet.getUint8(opusFrameOffsets[0][0]) & (0x80 >> ((i + 1) * (numSilkFrames + 1) - 1)))
                return true;
        }
        return false;
    }
}
RedundantAudioEncoder.shouldLog = true;
RedundantAudioEncoder.shouldReportStats = true;
RedundantAudioEncoder.initializeWorker();
`;l.default=c},3066440630:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9106965827));let m=n(class extends h.default{static nextTick(a){setTimeout(a,0)}constructor(){super(0)}},"AsyncScheduler");l.default=m},5790858051:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{start(h){this.stop(),this.timer=setInterval(h,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(h){this.intervalMs=h}},"IntervalScheduler");l.default=c},9106965827:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{start(h){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),h()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(h){this.timeoutMs=h,this.timer=null}},"TimeoutScheduler");l.default=c},9970179348:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(8887227953)),m=d(c(6050329531)),p=d(c(5152481786));let a=n(class Bi{clone(){return new Bi(this.sdp)}static isRTPCandidate(i){const e=/candidate[:](\S+) (\d+)/g.exec(i);return!(e===null||e[2]!=="1")}static linesToSDP(i){return new Bi(i.join(Bi.CRLF))}static candidateTypeFromString(i){switch(i){case h.default.Host:return h.default.Host;case h.default.ServerReflexive:return h.default.ServerReflexive;case h.default.PeerReflexive:return h.default.PeerReflexive;case h.default.Relay:return h.default.Relay}return null}static candidateType(i){const e=/a[=]candidate[:].* typ ([a-z]+) /g.exec(i);return e===null?null:Bi.candidateTypeFromString(e[1])}static mediaType(i){const e=/m=(audio|video)/g.exec(i);if(e!==null)return e[1]}static mid(i){if(i.includes("a=mid:"))return i.replace(/^(a=mid:)/,"")}static direction(i){const e=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(i);if(e!==null)return e[1]}static splitLines(i){return i.trim().split(`
`).map(e=>e.trim())}static splitSections(i){return i.split(`
m=`).map((t,r)=>(r>0?"m="+t:t).trim()+Bi.CRLF)}static findActiveCameraSection(i){let e=0,t=!1;for(const r of i){if(/^m=video/.test(r)&&(r.indexOf("sendrecv")>-1||r.indexOf("sendonly")===-1&&r.indexOf("recvonly")===-1&&r.indexOf("inactive")===-1)){t=!0;break}e++}return t===!1&&(e=-1),e}static extractSSRCsFromFIDGroupLine(i){return/^a=ssrc-group:FID\s(.+)/.exec(i)[1]}static matchPrefix(i,e){return Bi.splitLines(i).filter(t=>t.indexOf(e)===0)}lines(){return this.sdp.split(Bi.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(i){return Bi.linesToSDP(this.lines().filter(e=>Bi.candidateType(e)!==i))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(h.default.ServerReflexive)}withAudioMaxAverageBitrate(i){if(!i)return this.clone();i=Math.trunc(Math.min(Math.max(i,Bi.rfc7587LowestBitrate),Bi.rfc7587HighestBitrate));const e=this.lines(),t=Bi.findOpusFmtpAttributes(e),r=Bi.updateOpusFmtpAttributes(e,t,[`maxaveragebitrate=${i}`]);return Bi.linesToSDP(r)}withStereoAudio(){const i=this.lines(),e=Bi.findOpusFmtpAttributes(i),t=Bi.updateOpusFmtpAttributes(i,e,["stereo=1","sprop-stereo=1"]);return Bi.linesToSDP(t)}static findOpusFmtpAttributes(i){const e=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let t=!1;const r=[];for(const o of i)if(o.startsWith("m=audio")&&(r.push(null),t=!0),o.startsWith("m=video")&&(t=!1),t){const f=e.exec(o);f!==null&&(r[r.length-1]=`a=fmtp:${f[1]} `)}return r}static updateOpusFmtpAttributes(i,e,t){const r=[];let o=0,f=null;for(const g of i)if(g.startsWith("m=audio")&&(f=e[o],o++),g.startsWith("m=video")&&(f=null),f&&g.startsWith(f)){const v=g.slice(f.length).split(";"),u=[];for(const S of v)t.findIndex(b=>b.startsWith(S.split("=")[0]))<0&&u.push(S);for(const S of t)u.push(S);r.push(f+u.join(";"))}else r.push(g);return r}withUnifiedPlanFormat(){let i=this.sdp;return i.includes("mozilla")?this.clone():(i=i.replace("o=-","o=mozilla-chrome"),new Bi(i))}getUniqueRtpHeaderExtensionId(i){const e=[];for(const r of i)if(/^a=extmap:/.test(r.trim())){const f=+r.split("a=extmap:")[1].split(" ")[0];e.includes(f)||e.push(f)}e.sort((r,o)=>r-o);let t=0;for(const r of e){if(r-t>1)return t+1;t=r}return t===14?-1:t+1}withVideoLayersAllocationRtpHeaderExtension(i){return this.withRtpHeaderExtension(i,Bi.videoLayersAllocationRtpHeaderExtensionUrl)}withDependencyDescriptorRtpHeaderExtension(i){return this.withRtpHeaderExtension(i,Bi.dependencyDescriptorRtpHeaderExtensionUrl)}withoutDependencyDescriptorRtpHeaderExtension(){const i=Bi.splitLines(this.sdp).filter(e=>!e.includes(Bi.dependencyDescriptorRtpHeaderExtensionUrl));return new Bi(i.join(Bi.CRLF)+Bi.CRLF)}withRtpHeaderExtension(i,e){const t=i?i.getRtpHeaderExtensionId(e):-1,r=t===-1?this.getUniqueRtpHeaderExtensionId(Bi.splitLines(this.sdp)):t,o=Bi.splitSections(this.sdp),f=[];for(let v of o){if(/^m=video/.test(v)&&Bi.getRtpHeaderExtensionIdInSection(v,e)===-1){const u=Bi.splitLines(v),S=[];if(r===-1||this.hasRtpHeaderExtensionId(r)){f.push(v);continue}for(const _ of u)if(S.push(_),/^a=sendrecv/.test(_.trim())){const b="a=extmap:"+r+" "+e;S.push(b)}v=S.join(Bi.CRLF)+Bi.CRLF}else if(t!==-1&&/^m=video/.test(v)&&Bi.getRtpHeaderExtensionIdInSection(v,e)!==t){const u=Bi.splitLines(v),S=[];for(const _ of u){if(/^a=extmap:/.test(_.trim())&&_.split("a=extmap:")[1].split(" ")[1]===e){if(!this.hasRtpHeaderExtensionId(t)){const E="a=extmap:"+t+" "+e;S.push(E)}continue}S.push(_)}v=S.join(Bi.CRLF)+Bi.CRLF}f.push(v)}const g=f.join("");return new Bi(g)}ssrcForVideoSendingSection(){const i=this.sdp,e=Bi.splitSections(i);if(e.length<2)return"";const t=Bi.findActiveCameraSection(e);if(t===-1)return"";const r=Bi.matchPrefix(e[t],"a=ssrc-group:FID ");if(r.length<1)return"";const o=Bi.extractSSRCsFromFIDGroupLine(r[0]),[f]=o.split(" ").map(g=>parseInt(g,10));return f.toString()}videoSendSectionHasDifferentSSRC(i){const e=this.ssrcForVideoSendingSection(),t=i.ssrcForVideoSendingSection();if(e===""||t==="")return!1;const r=parseInt(e,10),o=parseInt(t,10);return r!==o}removeH264SupportFromSendSection(){const i=this.sdp,e=Bi.splitSections(i),t=Bi.findActiveCameraSection(e);if(t===-1)return new Bi(this.sdp);const r=e[t],o=Bi.splitLines(r),f=[],g=new Map;o.forEach(_=>{if(/^a=rtpmap:/.test(_)){const b=/^a=rtpmap:([0-9]+)\s/.exec(_);b&&_.toLowerCase().includes("h264")&&f.push(parseInt(b[1],10))}if(/^a=fmtp:/.test(_)){const b=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(_);if(b&&b.length===3){const E=parseInt(b[1],10),T=parseInt(b[2],10);g.has(T)?g.get(T).push(E):g.set(T,[E])}}});const v=new Set;for(const _ of f){v.add(_);const b=g.get(_);if(b)for(const E of b)v.add(E)}if(f.length>0){const _=o[0].split(" ");o[0]=_.filter(b=>!v.has(parseInt(b))).join(" ")}const u=o.filter(_=>{if(!_.includes("rtpmap")&&!_.includes("rtcp-fb")&&!_.includes("fmtp"))return!0;for(const b of v)if(_.includes(b.toString()))return!1;return!0});e[t]=u.join(Bi.CRLF)+Bi.CRLF;const S=e.join("");return new Bi(S)}mediaSections(){const i=Bi.splitSections(this.sdp);if(i.length<2)return[];const e=[];for(let t=1;t<i.length;t++){const r=new m.default,o=Bi.splitLines(i[t]);for(const f of o){const g=Bi.mediaType(f);if(g!==void 0){r.mediaType=g;continue}const v=Bi.direction(f);if(v!==void 0){r.direction=v;continue}const u=Bi.mid(f);if(u!==void 0){r.mid=u;continue}}e.push(r)}return e}static getRtpHeaderExtensionIdInSection(i,e){const t=Bi.splitLines(i);for(const r of t)if(/^a=extmap:/.test(r.trim())){const o=r.split("a=extmap:")[1].split(" "),f=+o[0];if(o[1]===e)return f}return-1}getRtpHeaderExtensionId(i){const e=Bi.splitSections(this.sdp);for(const t of e)if(/^m=video/.test(t)){const r=Bi.getRtpHeaderExtensionIdInSection(t,i);if(r!==-1)return r}return-1}hasRtpHeaderExtensionId(i){const e=Bi.splitLines(this.sdp);for(const t of e)if(/^a=extmap:/.test(t.trim())&&+t.split("a=extmap:")[1].split(" ")[0]===i)return!0;return!1}withVideoSendCodecPreferences(i){const e=this.sdp,t=Bi.splitSections(e),r=Bi.findActiveCameraSection(t);if(r===-1)return new Bi(this.sdp);t[r]=this.sectionWithCodecPreferences(t[r],i);const o=t.join("");return new Bi(o)}sectionWithCodecPreferences(i,e){const t=new Map,r=Bi.splitLines(i);r.forEach(v=>{if(!v.startsWith("a=rtpmap:"))return;const u=/^a=rtpmap:(\d+)\s/.exec(v);if(!u)return;const S=u[1];for(const _ of e){if(!v.includes(`${_.codecName}/${_.codecCapability.clockRate}`))continue;let b=!1;if(_.codecCapability.sdpFmtpLine!==void 0){let E=!1;for(const T of r){if(_.fmtpLineMatches(T,parseInt(S))){b=!0;break}E||(E=T.startsWith(`a=fmtp:${S} profile-id=`))}_.equals(p.default.vp9Profile0())&&!E&&(b=!0)}else b=!0;if(b){t.set(S,_);break}}});const o=new Set(t.keys()),f=r[0].split(" ").filter(v=>!o.has(v)),g=Array.from(t.entries()).sort((v,u)=>{let[S,_]=v,[b,E]=u;const T=e.indexOf(_),I=e.indexOf(E);return T-I}).map(v=>{let[u,S]=v;return u});return f.splice(3,0,...g),r[0]=f.join(" "),r.join(Bi.CRLF)+Bi.CRLF}highestPriorityVideoSendCodec(){const i=this.prioritizedSendVideoCodecCapabilities();return i.length>0?i[0]:void 0}prioritizedSendVideoCodecCapabilities(){const i=this.sdp,e=Bi.splitSections(i),t=Bi.findActiveCameraSection(e);if(t===-1)return[];const r=Bi.splitLines(e[t]),o=r[0].split(" ");return o.length<4?[]:o.slice(3).map(v=>this.videoCodecCapabilityForPayloadType(r,v)).filter(v=>v!==void 0&&["VP8","H264","VP9","AV1"].includes(v.codecName))}videoCodecCapabilityForPayloadType(i,e){let t,r,o;for(const f of i){const g=/^a=rtpmap:([0-9]+)\s/.exec(f);if(g&&g[1]===e){const u=f.split(" ")[1].split("/");u.length>=2&&(t=u[0],r=u[1])}f.startsWith(`a=fmtp:${e} `)&&(o=f.split(" ")[1])}if(t!==void 0)return new p.default(t,{clockRate:parseInt(r),mimeType:`video/${t}`,sdpFmtpLine:o})}getAudioPayloadTypes(){const i=new Map,e=this.sdp,t=Bi.splitSections(e);return i.set("opus",Bi.findAudioPayloadType("opus",t)),i.set("red",Bi.findAudioPayloadType("red",t)),i}static findAudioPayloadType(i,e){const t=`a=rtpmap:\\s*(\\d+)\\s+${i}\\/48000`,r=new RegExp(t);for(const o of e)if(/^m=audio/.test(o)){const f=r.exec(o);if(f!==null)return Number(f[1])}return 0}withStartingVideoSendBitrate(i){const e=Bi.splitSections(this.sdp),t=Bi.findActiveCameraSection(e);if(t===-1)return this;const r=Bi.splitLines(e[t]),o=[];for(const g of r)if(/^a=fmtp:\d*/.test(g)){const v=g+`;x-google-start-bitrate=${i}`;o.push(v)}else o.push(g);e[t]=o.join(Bi.CRLF)+Bi.CRLF;const f=e.join("");return new Bi(f)}constructor(i){this.sdp=i}},"SDP");l.default=a,a.CRLF=`\r
`,a.rfc7587LowestBitrate=6e3,a.rfc7587HighestBitrate=51e4,a.dependencyDescriptorRtpHeaderExtensionUrl="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension",a.videoLayersAllocationRtpHeaderExtensionUrl="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"},8887227953:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SDPCandidateType=void 0;var c;(function(d){d.Host="host",d.ServerReflexive="srflx",d.PeerReflexive="prflx",d.Relay="relay"})(c=l.SDPCandidateType||(l.SDPCandidateType={})),l.default=c},6050329531:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"SDPMediaSection");l.default=c},5152481786:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(7613896012);let h=n(class Us{equals(p){if(p===void 0||this.codecName!==p.codecName||this.codecCapability.mimeType!==p.codecCapability.mimeType||this.codecCapability.clockRate!==p.codecCapability.clockRate)return!1;const a=this.codecCapability.sdpFmtpLine?this.cleanupFmtpLine(this.codecCapability.sdpFmtpLine,this.codecName):"",s=p.codecCapability.sdpFmtpLine?this.cleanupFmtpLine(p.codecCapability.sdpFmtpLine,p.codecName):"";return a===s}fmtpLineMatches(p,a){const s=this.codecCapability.sdpFmtpLine;if(!s)return!1;const i=`a=fmtp:${a} `;if(!p.startsWith(i))return!1;const e=p.substring(i.length);return this.cleanupFmtpLine(e,this.codecName)===this.cleanupFmtpLine(s,this.codecName)}cleanupFmtpLine(p,a){const s=/;x-google-start-bitrate=\d+/g;let i=p.replace(s,"");if(a==="H264"){const e=/profile-level-id=([0-9a-f]{4})[0-9a-f]{2}/i;i=i.replace(e,"profile-level-id=$1")}return i}static vp8(){return new Us("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264BaselineProfile(){return new Us("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f"})}static h264ConstrainedBaselineProfile(){return new Us("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264MainProfile(){return new Us("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f"})}static h264HighProfile(){return new Us("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f"})}static h264ConstrainedHighProfile(){return new Us("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f"})}static h264(){return Us.h264ConstrainedBaselineProfile()}static vp9Profile0(){return new Us("VP9",{clockRate:9e4,mimeType:"video/VP9",sdpFmtpLine:"profile-id=0"})}static vp9(){return Us.vp9Profile0()}static av1Main(){return new Us("AV1",{clockRate:9e4,mimeType:"video/AV1"})}static av1(){return Us.av1Main()}static fromSignaled(p){switch(p){case d.SdkVideoCodecCapability.VP8:return Us.vp8();case d.SdkVideoCodecCapability.H264_BASELINE_PROFILE:return Us.h264BaselineProfile();case d.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return Us.h264ConstrainedBaselineProfile();case d.SdkVideoCodecCapability.H264_MAIN_PROFILE:return Us.h264MainProfile();case d.SdkVideoCodecCapability.H264_HIGH_PROFILE:return Us.h264HighProfile();case d.SdkVideoCodecCapability.H264_CONSTRAINED_HIGH_PROFILE:return Us.h264ConstrainedHighProfile();case d.SdkVideoCodecCapability.VP9_PROFILE_0:return Us.vp9Profile0();case d.SdkVideoCodecCapability.AV1_MAIN_PROFILE:return Us.av1Main();default:return}}constructor(p,a){this.codecName=p,this.codecCapability=a}},"VideoCodecCapability");l.default=h},2302466300:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(3891390253);let h=n(class yp{compress(p,a){if(a.length>0){const e=Math.min(a.length,yp.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={memLevel:yp.Z_MEM_LEVEL,dictionary:a};return d.deflateRaw(p,s)}decompress(p,a){if(a.length>0){const e=Math.min(a.length,yp.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const s={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=d.inflateRaw(p,s)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(p){this.logger=p}},"ZLIBTextCompressor");l.default=h,h.Z_MEM_LEVEL=9,h.MAX_DICTIONARY_SIZE=31744},7593524919:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(2327502190),h=c(3782495428),m=c(7593441017),p=c(1356788254);let a=n(class{perform(i,e){const t=this.currentState;if(t===m.SessionStateControllerState.NotConnected&&i===d.SessionStateControllerAction.Connect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===d.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connecting&&i===d.SessionStateControllerAction.FinishConnecting)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Disconnect)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Reconnect)this.transition(m.SessionStateControllerState.Connecting,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Connected&&i===d.SessionStateControllerAction.Update)this.transition(m.SessionStateControllerState.Updating,i);else if(t===m.SessionStateControllerState.Updating&&i===d.SessionStateControllerAction.Fail)this.transition(m.SessionStateControllerState.Disconnecting,i);else if(t===m.SessionStateControllerState.Updating&&i===d.SessionStateControllerAction.FinishUpdating)this.transition(m.SessionStateControllerState.Connected,i);else if(t===m.SessionStateControllerState.Disconnecting&&i===d.SessionStateControllerAction.FinishDisconnecting)this.transition(m.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${m.SessionStateControllerState[this.currentState]} with ${d.SessionStateControllerAction[i]}`),this.deferAction(i,e),p.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${m.SessionStateControllerState[this.currentState]} with ${d.SessionStateControllerAction[i]}`),p.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(r){return this.logger.error(`error during state ${m.SessionStateControllerState[this.currentState]} with action ${d.SessionStateControllerAction[i]}: ${r}`),this.logger.info(`rolling back transition to ${m.SessionStateControllerState[t]}`),this.currentState=t,p.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),p.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${m.SessionStateControllerState[this.currentState]} to ${m.SessionStateControllerState[i]} with ${d.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case d.SessionStateControllerAction.Disconnect:return h.SessionStateControllerDeferPriority.VeryHigh;case d.SessionStateControllerAction.Fail:return h.SessionStateControllerDeferPriority.High;case d.SessionStateControllerAction.Reconnect:return h.SessionStateControllerDeferPriority.Medium;case d.SessionStateControllerAction.Update:return h.SessionStateControllerDeferPriority.Low;default:return h.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==h.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===m.SessionStateControllerState.Connecting||this.currentState===m.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${d.SessionStateControllerAction[i]}`),this.perform(i,e)!==p.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${d.SessionStateControllerAction[i]} in state ${m.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=m.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");l.default=a},2327502190:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerAction=void 0;var c;(function(d){d[d.Connect=0]="Connect",d[d.FinishConnecting=1]="FinishConnecting",d[d.Update=2]="Update",d[d.FinishUpdating=3]="FinishUpdating",d[d.Reconnect=4]="Reconnect",d[d.Disconnect=5]="Disconnect",d[d.Fail=6]="Fail",d[d.FinishDisconnecting=7]="FinishDisconnecting"})(c=l.SessionStateControllerAction||(l.SessionStateControllerAction={})),l.default=c},3782495428:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerDeferPriority=void 0;var c;(function(d){d[d.DoNotDefer=0]="DoNotDefer",d[d.Low=1]="Low",d[d.Medium=2]="Medium",d[d.High=3]="High",d[d.VeryHigh=4]="VeryHigh"})(c=l.SessionStateControllerDeferPriority||(l.SessionStateControllerDeferPriority={})),l.default=c},7593441017:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerState=void 0;var c;(function(d){d[d.NotConnected=0]="NotConnected",d[d.Connecting=1]="Connecting",d[d.Connected=2]="Connected",d[d.Updating=3]="Updating",d[d.Disconnecting=4]="Disconnecting"})(c=l.SessionStateControllerState||(l.SessionStateControllerState={})),l.default=c},1356788254:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStateControllerTransitionResult=void 0;var c;(function(d){d[d.Transitioned=0]="Transitioned",d[d.NoTransitionAvailable=1]="NoTransitionAvailable",d[d.DeferredTransition=2]="DeferredTransition",d[d.TransitionFailed=3]="TransitionFailed"})(c=l.SessionStateControllerTransitionResult||(l.SessionStateControllerTransitionResult={})),l.default=c},6044373597:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9445576035)),m=d(c(9106965827)),p=c(7613896012),a=c(1366921492),s=d(c(6332689210)),i=d(c(8758878068)),e=d(c(6924951343)),t=c(1382242439),r=d(c(823668988)),o=d(c(6103584604));let f=n(class Lf{registerObserver(v){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(v)}removeObserver(v){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(v)}openConnection(v){this.logger.info("adding connection request to queue: "+v.url()),this.connectionRequestQueue.push(v),this.closeConnection()}pingPong(v){this.logger.debug(()=>"sending ping");const u=p.SdkSignalFrame.create();return u.type=p.SdkSignalFrame.Type.PING_PONG,u.pingPong=v,this.sendMessage(u),u.timestampMs}join(v){this.logger.info("sending join");const u=p.SdkJoinFrame.create();u.protocolVersion=2,u.flags=p.SdkJoinFlags.HAS_STREAM_UPDATE;const S=new h.default,_={platformName:S.name(),platformVersion:S.version(),clientSource:s.default.sdkName,chimeSdkVersion:s.default.sdkVersion,clientUtcOffset:a.getFormattedOffset(new Date().getTimezoneOffset())};if(v.applicationMetadata){const{appName:E,appVersion:T}=v.applicationMetadata;_.appName=E,_.appVersion=T}u.clientDetails=p.SdkClientDetails.create(_),u.audioSessionId=this.audioSessionId,u.wantsCompressedSdp=Lf.CLIENT_SUPPORTS_COMPRESSION,u.disablePeriodicKeyframeRequestOnContentSender=v.disablePeriodicKeyframeRequestOnContentSender,u.serverSideNetworkAdaption=t.convertServerSideNetworkAdaptionEnumToSignaled(v.serverSideNetworkAdaption),u.supportedServerSideNetworkAdaptions=v.supportedServerSideNetworkAdaptions.map(t.convertServerSideNetworkAdaptionEnumToSignaled),u.wantsAllTemporalLayersInIndex=v.wantsAllTemporalLayersInIndex;const b=p.SdkSignalFrame.create();b.type=p.SdkSignalFrame.Type.JOIN,b.join=u,this.sendMessage(b)}subscribe(v){const u=p.SdkSubscribeFrame.create();if(u.sendStreams=[],u.sdpOffer=v.sdpOffer,v.connectionTypeHasVideo&&(u.receiveStreamIds=v.receiveStreamIds),v.audioHost&&(u.audioCheckin=v.audioCheckin,u.audioHost=v.audioHost,u.audioMuted=v.audioMuted,!v.audioCheckin)){const _=p.SdkStreamDescriptor.create();_.mediaType=p.SdkStreamMediaType.AUDIO,_.trackLabel="AmazonChimeExpressAudio",_.attendeeId=v.attendeeId,_.streamId=1,_.groupId=1,_.framerate=15,_.maxBitrateKbps=600,_.avgBitrateBps=4e5,u.sendStreams.push(_)}if(u.compressedSdpOffer=v.compressedSdpOffer,u.duplex=p.SdkStreamServiceType.RX,v.localVideoEnabled){u.duplex=p.SdkStreamServiceType.DUPLEX;for(let _=0;_<v.videoStreamDescriptions.length;_++){const b=v.videoStreamDescriptions[_].clone();b.attendeeId=v.attendeeId,u.sendStreams.push(b.toStreamDescriptor())}}v.videoSubscriptionConfiguration.length>0&&(u.videoSubscriptionConfiguration=v.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const S=p.SdkSignalFrame.create();S.type=p.SdkSignalFrame.Type.SUBSCRIBE,S.sub=u,this.sendMessage(S)}remoteVideoUpdate(v,u){const S=p.SdkRemoteVideoUpdateFrame.create();S.addedOrUpdatedVideoSubscriptions=v.map(this.convertSignalingClientVideoSubscriptionConfiguration),S.removedVideoSubscriptionMids=u;const _=p.SdkSignalFrame.create();_.type=p.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,_.remoteVideoUpdate=S,this.sendMessage(_)}convertSignalingClientVideoSubscriptionConfiguration(v){const u=new p.SdkVideoSubscriptionConfiguration;switch(u.mid=v.mid,u.attendeeId=v.attendeeId,u.streamId=v.streamId,u.groupId=v.groupId,u.priority=v.priority,u.targetBitrateKbps=v.targetBitrateKbps,v.qualityAdaptationPreference){case i.default.Balanced:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.BALANCED;break;case i.default.MaintainFramerate:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.MAINTAIN_FRAMERATE;break;case i.default.MaintainResolution:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.MAINTAIN_RESOLUTION;break;default:u.qualityAdaptationPreference=p.SdkVideoQualityAdaptationPreference.BALANCED}return u}leave(){const v=p.SdkSignalFrame.create();v.type=p.SdkSignalFrame.Type.LEAVE,v.leave=p.SdkLeaveFrame.create(),this.sendMessage(v),this.logger.debug(()=>"sent leave")}sendClientMetrics(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.CLIENT_METRIC,u.clientMetric=v,this.sendMessage(u)}sendDataMessage(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.DATA_MESSAGE,u.dataMessage=v,this.sendMessage(u)}closeConnection(){var v,u;if(this.webSocket.readyState()!==e.default.None&&this.webSocket.readyState()!==e.default.Closed){this.isClosing=!0,this.sendEvent(new r.default(this,o.default.WebSocketClosing,null));const S=new m.default(Lf.CLOSE_EVENT_TIMEOUT_MS),_=n(b=>{var E,T;(T=(E=this.webSocket).removeEventListener)===null||T===void 0||T.call(E,"close",_),S.stop(),this.closeEventHandler(b)},"handler");(u=(v=this.webSocket).removeEventListener)===null||u===void 0||u.call(v,"close",this.closeEventHandler),this.webSocket.addEventListener("close",_),S.start(()=>{_(new CloseEvent("close",{wasClean:!1,code:1005,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===e.default.Open&&!this.isClosing&&this.wasOpened}mute(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.AUDIO_CONTROL;const S=p.SdkAudioControlFrame.create();S.muted=v,u.audioControl=S,this.sendMessage(u)}pause(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.PAUSE,u.pause=p.SdkPauseResumeFrame.create(),u.pause.streamIds=v,this.sendMessage(u)}resume(v){const u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.RESUME,u.pause=p.SdkPauseResumeFrame.create(),u.pause.streamIds=v,this.sendMessage(u)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(v){v.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(v)}`);const u=this.prependWithFrameTypeRTC(p.SdkSignalFrame.encode(v).finish());if(this.ready()){if(!this.webSocket.send(u)){this.sendEvent(new r.default(this,o.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new r.default(this,o.default.WebSocketSentMessage,null))}else this.sendEvent(new r.default(this,o.default.WebSocketSkippedMessage,null))}receiveMessage(v){let u;try{u=p.SdkSignalFrame.decode(v)}catch{this.logger.info(`failed to decode: ${v}`),this.sendEvent(new r.default(this,o.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(u)}`),this.webSocket.readyState()===e.default.Open?this.sendEvent(new r.default(this,o.default.ReceivedSignalFrame,u)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(u)}`)}stripFrameTypeRTC(v){const u=v[0];return u!==Lf.FRAME_TYPE_RTC&&u!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${u}`),v.slice(1)}prependWithFrameTypeRTC(v){const u=new Uint8Array(v.length+1);return u[0]=Lf.FRAME_TYPE_RTC,u.set(v,1),u}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const v=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${v.url()}`),this.isClosing=!1,this.webSocket.create(v.url(),v.protocols()),this.setUpEventListeners(),this.sendEvent(new r.default(this,o.default.WebSocketConnecting,null))}sendEvent(v){switch(v.type){case o.default.WebSocketMessage:case o.default.ReceivedSignalFrame:case o.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${o.default[v.type]}`);break;case o.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${o.default[v.type]}, websocket state=${e.default[this.webSocket.readyState()]}`);break;case o.default.WebSocketClosed:this.logger.info(`notifying event: ${o.default[v.type]}, 
              code: ${v.closeCode} reason: ${v.closeReason}`);break;default:this.logger.info(`notifying event: ${o.default[v.type]}`);break}for(const u of this.observerQueue)u.handleSignalingClientEvent(v)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new r.default(this,o.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",v=>{this.sendEvent(new r.default(this,o.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(v.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("Signaling WebSocket ignoring error closing while connecting");return}this.wasOpened?(this.logger.error("Signaling WebSocket received error while connected"),this.sendEvent(new r.default(this,o.default.WebSocketError,null))):(this.logger.error("Signaling WebSocket received error while connecting"),this.sendEvent(new r.default(this,o.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const v=c.g;v.window&&v.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const v=c.g;v.window&&v.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const v=new Uint32Array(1);return a.getRandomValues(v),v[0]}promoteToPrimaryMeeting(v){const u=p.SdkMeetingSessionCredentials.create();u.attendeeId=v.attendeeId,u.externalUserId=v.externalUserId,u.joinToken=v.joinToken;const S=p.SdkPrimaryMeetingJoinFrame.create();S.credentials=u;const _=p.SdkSignalFrame.create();_.type=p.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,_.primaryMeetingJoin=S,this.sendMessage(_)}demoteFromPrimaryMeeting(){const v=p.SdkPrimaryMeetingLeaveFrame.create(),u=p.SdkSignalFrame.create();u.type=p.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,u.primaryMeetingLeave=v,this.sendMessage(u)}constructor(v,u){this.webSocket=v,this.logger=u,this.unloadHandler=null,this.closeEventHandler=S=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new r.default(this,o.default.WebSocketClosed,null,S.code,S.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");l.default=f,f.FRAME_TYPE_RTC=5,f.CLOSE_EVENT_TIMEOUT_MS=2e3,f.CLIENT_SUPPORTS_COMPRESSION=!0},1382242439:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.convertServerSideNetworkAdaptionEnumToSignaled=l.convertServerSideNetworkAdaptionEnumFromSignaled=l.serverSideNetworkAdaptionIsNoneOrDefault=l.ServerSideNetworkAdaption=void 0;const d=c(7613896012);var h;(function(s){s[s.Default=0]="Default",s[s.None=1]="None",s[s.BandwidthProbing=2]="BandwidthProbing",s[s.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(h=l.ServerSideNetworkAdaption||(l.ServerSideNetworkAdaption={})),l.default=h;function m(s){return s===h.None||s===h.Default}n(m,"serverSideNetworkAdaptionIsNoneOrDefault"),l.serverSideNetworkAdaptionIsNoneOrDefault=m;function p(s){switch(s){case d.SdkServerSideNetworkAdaption.DEFAULT:return h.Default;case d.SdkServerSideNetworkAdaption.NONE:return h.None;case d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return h.BandwidthProbing;case d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return h.BandwidthProbingAndRemoteVideoQualityAdaption}}n(p,"convertServerSideNetworkAdaptionEnumFromSignaled"),l.convertServerSideNetworkAdaptionEnumFromSignaled=p;function a(s){switch(s){case h.Default:return d.SdkServerSideNetworkAdaption.DEFAULT;case h.None:return d.SdkServerSideNetworkAdaption.NONE;case h.BandwidthProbing:return d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case h.BandwidthProbingAndRemoteVideoQualityAdaption:return d.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}n(a,"convertServerSideNetworkAdaptionEnumToSignaled"),l.convertServerSideNetworkAdaptionEnumToSignaled=a},8527332165:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(h,m){this.signalingURL=h,this.joinToken=m}},"SignalingClientConnectionRequest");l.default=c},823668988:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6103584604));let m=n(class{isConnectionTerminated(){switch(this.type){case h.default.WebSocketFailed:case h.default.WebSocketError:case h.default.WebSocketClosing:case h.default.WebSocketClosed:return!0;default:return!1}}constructor(a,s,i,e,t){this.client=a,this.type=s,this.message=i,this.closeCode=e,this.closeReason=t,this.timestampMs=Date.now()}},"SignalingClientEvent");l.default=m},6103584604:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignalingClientEventType=void 0;var c;(function(d){d[d.WebSocketConnecting=0]="WebSocketConnecting",d[d.WebSocketOpen=1]="WebSocketOpen",d[d.WebSocketError=2]="WebSocketError",d[d.WebSocketClosing=3]="WebSocketClosing",d[d.WebSocketClosed=4]="WebSocketClosed",d[d.WebSocketFailed=5]="WebSocketFailed",d[d.WebSocketMessage=6]="WebSocketMessage",d[d.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",d[d.WebSocketSentMessage=8]="WebSocketSentMessage",d[d.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",d[d.ReceivedSignalFrame=10]="ReceivedSignalFrame",d[d.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(c=l.SignalingClientEventType||(l.SignalingClientEventType={})),l.default=c},1967512172:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(1382242439));let m=n(class{constructor(a){this.applicationMetadata=a,this.serverSideNetworkAdaption=h.default.Default,this.supportedServerSideNetworkAdaptions=[],this.wantsAllTemporalLayersInIndex=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");l.default=m},9517368956:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{constructor(h,m,p,a,s,i,e,t,r,o){this.attendeeId=h,this.sdpOffer=m,this.audioHost=p,this.audioMuted=a,this.audioCheckin=s,this.receiveStreamIds=i,this.localVideoEnabled=e,this.videoStreamDescriptions=t,this.connectionTypeHasVideo=r,this.compressedSdpOffer=o,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");l.default=c},9197136208:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{equals(h){return h!==void 0&&this.mid===h.mid&&this.attendeeId===h.attendeeId&&this.streamId===h.streamId&&this.groupId===h.groupId&&this.priority===h.priority&&this.targetBitrateKbps===h.targetBitrateKbps&&this.qualityAdaptationPreference===h.qualityAdaptationPreference}},"SignalingClientVideoSubscriptionConfiguration");l.default=c},7613896012:(V,l,c)=>{"use strict";var d=c(5942056335),h=d.Reader,m=d.Writer,p=d.util,a=d.roots.default||(d.roots.default={});a.SdkSignalFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkSignalFrame"),s.prototype.timestampMs=p.Long?p.Long.fromBits(0,0,!0):0,s.prototype.type=1,s.prototype.error=null,s.prototype.join=null,s.prototype.joinack=null,s.prototype.sub=null,s.prototype.suback=null,s.prototype.index=null,s.prototype.pause=null,s.prototype.leave=null,s.prototype.leaveAck=null,s.prototype.bitrates=null,s.prototype.audioControl=null,s.prototype.audioMetadata=null,s.prototype.audioStreamIdInfo=null,s.prototype.pingPong=null,s.prototype.audioStatus=null,s.prototype.clientMetric=null,s.prototype.dataMessage=null,s.prototype.remoteVideoUpdate=null,s.prototype.primaryMeetingJoin=null,s.prototype.primaryMeetingJoinAck=null,s.prototype.primaryMeetingLeave=null,s.prototype.notification=null,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),e.notification!=null&&Object.hasOwnProperty.call(e,"notification")&&a.SdkNotificationFrame.encode(e.notification,t.uint32(282).fork()).ldelim(),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkSignalFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.timestampMs=e.uint64();break}case 2:{o.type=e.int32();break}case 3:{o.error=a.SdkErrorFrame.decode(e,e.uint32());break}case 4:{o.join=a.SdkJoinFrame.decode(e,e.uint32());break}case 5:{o.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break}case 6:{o.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break}case 7:{o.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break}case 8:{o.index=a.SdkIndexFrame.decode(e,e.uint32());break}case 10:{o.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break}case 11:{o.leave=a.SdkLeaveFrame.decode(e,e.uint32());break}case 12:{o.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break}case 14:{o.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break}case 17:{o.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break}case 18:{o.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break}case 19:{o.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break}case 20:{o.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break}case 21:{o.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break}case 22:{o.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break}case 23:{o.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break}case 25:{o.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break}case 26:{o.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break}case 27:{o.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break}case 28:{o.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break}case 35:{o.notification=a.SdkNotificationFrame.decode(e,e.uint32());break}default:e.skipType(f&7);break}}if(!o.hasOwnProperty("timestampMs"))throw p.ProtocolError("missing required 'timestampMs'",{instance:o});if(!o.hasOwnProperty("type"))throw p.ProtocolError("missing required 'type'",{instance:o});return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(!p.isInteger(e.timestampMs)&&!(e.timestampMs&&p.isInteger(e.timestampMs.low)&&p.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 34:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}if(e.notification!=null&&e.hasOwnProperty("notification")){var t=a.SdkNotificationFrame.verify(e.notification);if(t)return"notification."+t}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(p.Long?(t.timestampMs=p.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new p.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break;case"NOTIFICATION":case 34:t.type=34;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}if(e.notification!=null){if(typeof e.notification!="object")throw TypeError(".SdkSignalFrame.notification: object expected");t.notification=a.SdkNotificationFrame.fromObject(e.notification)}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(p.Long){var o=new p.Long(0,0,!0);r.timestampMs=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.timestampMs=t.longs===String?"0":0;r.type=t.enums===String?"JOIN":1,r.error=null,r.join=null,r.joinack=null,r.sub=null,r.suback=null,r.index=null,r.pause=null,r.leave=null,r.leaveAck=null,r.bitrates=null,r.audioControl=null,r.audioMetadata=null,r.audioStreamIdInfo=null,r.pingPong=null,r.audioStatus=null,r.clientMetric=null,r.dataMessage=null,r.remoteVideoUpdate=null,r.primaryMeetingJoin=null,r.primaryMeetingJoinAck=null,r.primaryMeetingLeave=null,r.notification=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?r.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:r.timestampMs=t.longs===String?p.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new p.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkSignalFrame.Type[e.type]===void 0?e.type:a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(r.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(r.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(r.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(r.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(r.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(r.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(r.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(r.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(r.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(r.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(r.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(r.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(r.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(r.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(r.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(r.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(r.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(r.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(r.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(r.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),e.notification!=null&&e.hasOwnProperty("notification")&&(r.notification=a.SdkNotificationFrame.toObject(e.notification,t)),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkSignalFrame"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e[i[34]="NOTIFICATION"]=34,e}(),s}(),a.SdkErrorFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkErrorFrame"),s.prototype.status=0,s.prototype.description="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkErrorFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.status=e.uint32();break}case 2:{o.description=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!p.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!p.isString(e.description)?"description: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.status=0,r.description=""),e.status!=null&&e.hasOwnProperty("status")&&(r.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(r.description=e.description),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkErrorFrame"},"getTypeUrl"),s}(),a.SdkJoinFlags=function(){var s={},i=Object.create(s);return i[s[2]="HAS_STREAM_UPDATE"]=2,i[s[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[s[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkClientDetails"),s.prototype.appName="",s.prototype.appVersion="",s.prototype.deviceModel="",s.prototype.deviceMake="",s.prototype.platformName="",s.prototype.platformVersion="",s.prototype.clientSource="",s.prototype.chimeSdkVersion="",s.prototype.clientUtcOffset="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkClientDetails;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.appName=e.string();break}case 2:{o.appVersion=e.string();break}case 3:{o.deviceModel=e.string();break}case 4:{o.deviceMake=e.string();break}case 5:{o.platformName=e.string();break}case 6:{o.platformVersion=e.string();break}case 7:{o.clientSource=e.string();break}case 8:{o.chimeSdkVersion=e.string();break}case 9:{o.clientUtcOffset=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!p.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!p.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!p.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!p.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!p.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!p.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!p.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!p.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!p.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.appName="",r.appVersion="",r.deviceModel="",r.deviceMake="",r.platformName="",r.platformVersion="",r.clientSource="",r.chimeSdkVersion="",r.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(r.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(r.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(r.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(r.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(r.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(r.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(r.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(r.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(r.clientUtcOffset=e.clientUtcOffset),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkClientDetails"},"getTypeUrl"),s}(),a.SdkServerSideNetworkAdaption=function(){var s={},i=Object.create(s);return i[s[1]="DEFAULT"]=1,i[s[2]="NONE"]=2,i[s[3]="BANDWIDTH_PROBING"]=3,i[s[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,i}(),a.SdkJoinFrame=function(){function s(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkJoinFrame"),s.prototype.protocolVersion=2,s.prototype.maxNumOfVideos=0,s.prototype.flags=0,s.prototype.clientDetails=null,s.prototype.audioSessionId=p.Long?p.Long.fromBits(0,0,!0):0,s.prototype.wantsCompressedSdp=!1,s.prototype.serverSideNetworkAdaption=1,s.prototype.supportedServerSideNetworkAdaptions=p.emptyArray,s.prototype.wantsAllTemporalLayersInIndex=!1,s.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[r]);return e.wantsAllTemporalLayersInIndex!=null&&Object.hasOwnProperty.call(e,"wantsAllTemporalLayersInIndex")&&t.uint32(96).bool(e.wantsAllTemporalLayersInIndex),e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkJoinFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.protocolVersion=e.uint32();break}case 2:{o.maxNumOfVideos=e.uint32();break}case 3:{o.flags=e.uint32();break}case 4:{o.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break}case 6:{o.audioSessionId=e.uint64();break}case 7:{o.wantsCompressedSdp=e.bool();break}case 10:{o.serverSideNetworkAdaption=e.int32();break}case 11:{if(o.supportedServerSideNetworkAdaptions&&o.supportedServerSideNetworkAdaptions.length||(o.supportedServerSideNetworkAdaptions=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.supportedServerSideNetworkAdaptions.push(e.int32());else o.supportedServerSideNetworkAdaptions.push(e.int32());break}case 12:{o.wantsAllTemporalLayersInIndex=e.bool();break}case 13:{o.disablePeriodicKeyframeRequestOnContentSender=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!p.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!p.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!p.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!p.isInteger(e.audioSessionId)&&!(e.audioSessionId&&p.isInteger(e.audioSessionId.low)&&p.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return e.wantsAllTemporalLayersInIndex!=null&&e.hasOwnProperty("wantsAllTemporalLayersInIndex")&&typeof e.wantsAllTemporalLayersInIndex!="boolean"?"wantsAllTemporalLayersInIndex: boolean expected":e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(p.Long?(t.audioSessionId=p.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new p.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){default:if(typeof e.serverSideNetworkAdaption=="number"){t.serverSideNetworkAdaption=e.serverSideNetworkAdaption;break}break;case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.serverSideNetworkAdaption=4;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:if(typeof e.supportedServerSideNetworkAdaptions[r]=="number"){t.supportedServerSideNetworkAdaptions[r]=e.supportedServerSideNetworkAdaptions[r];break}case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[r]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[r]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[r]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.supportedServerSideNetworkAdaptions[r]=4;break}}return e.wantsAllTemporalLayersInIndex!=null&&(t.wantsAllTemporalLayersInIndex=Boolean(e.wantsAllTemporalLayersInIndex)),e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.supportedServerSideNetworkAdaptions=[]),t.defaults){if(r.protocolVersion=2,r.maxNumOfVideos=0,r.flags=0,r.clientDetails=null,p.Long){var o=new p.Long(0,0,!0);r.audioSessionId=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.audioSessionId=t.longs===String?"0":0;r.wantsCompressedSdp=!1,r.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,r.wantsAllTemporalLayersInIndex=!1,r.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(r.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(r.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(r.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?r.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:r.audioSessionId=t.longs===String?p.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new p.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(r.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]===void 0?e.serverSideNetworkAdaption:a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){r.supportedServerSideNetworkAdaptions=[];for(var f=0;f<e.supportedServerSideNetworkAdaptions.length;++f)r.supportedServerSideNetworkAdaptions[f]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[f]]===void 0?e.supportedServerSideNetworkAdaptions[f]:a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[f]]:e.supportedServerSideNetworkAdaptions[f]}return e.wantsAllTemporalLayersInIndex!=null&&e.hasOwnProperty("wantsAllTemporalLayersInIndex")&&(r.wantsAllTemporalLayersInIndex=e.wantsAllTemporalLayersInIndex),e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(r.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkJoinFrame"},"getTypeUrl"),s}(),a.SdkJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkJoinAckFrame"),s.prototype.turnCredentials=null,s.prototype.videoSubscriptionLimit=0,s.prototype.wantsCompressedSdp=!1,s.prototype.defaultServerSideNetworkAdaption=1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkJoinAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break}case 2:{o.videoSubscriptionLimit=e.uint32();break}case 3:{o.wantsCompressedSdp=e.bool();break}case 4:{o.defaultServerSideNetworkAdaption=e.int32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!p.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){default:if(typeof e.defaultServerSideNetworkAdaption=="number"){t.defaultServerSideNetworkAdaption=e.defaultServerSideNetworkAdaption;break}break;case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.defaultServerSideNetworkAdaption=4;break}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.turnCredentials=null,r.videoSubscriptionLimit=0,r.wantsCompressedSdp=!1,r.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(r.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(r.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(r.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]===void 0?e.defaultServerSideNetworkAdaption:a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkJoinAckFrame"},"getTypeUrl"),s}(),a.SdkLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkLeaveFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkLeaveFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkLeaveFrame"},"getTypeUrl"),s}(),a.SdkLeaveAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkLeaveAckFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkLeaveAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkLeaveAckFrame"},"getTypeUrl"),s}(),a.SdkStreamServiceType=function(){var s={},i=Object.create(s);return i[s[1]="RX"]=1,i[s[2]="TX"]=2,i[s[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var s={},i=Object.create(s);return i[s[1]="AUDIO"]=1,i[s[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function s(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkSubscribeFrame"),s.prototype.duplex=1,s.prototype.sendStreams=p.emptyArray,s.prototype.receiveStreamIds=p.emptyArray,s.prototype.sdpOffer="",s.prototype.audioHost="",s.prototype.audioCheckin=!1,s.prototype.audioMuted=!1,s.prototype.compressedSdpOffer=p.newBuffer([]),s.prototype.videoSubscriptionConfiguration=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var r=0;r<e.sendStreams.length;++r)a.SdkStreamDescriptor.encode(e.sendStreams[r],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var r=0;r<e.receiveStreamIds.length;++r)t.uint32(24).uint32(e.receiveStreamIds[r]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var r=0;r<e.videoSubscriptionConfiguration.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[r],t.uint32(74).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkSubscribeFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.duplex=e.int32();break}case 2:{o.sendStreams&&o.sendStreams.length||(o.sendStreams=[]),o.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break}case 3:{if(o.receiveStreamIds&&o.receiveStreamIds.length||(o.receiveStreamIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.receiveStreamIds.push(e.uint32());else o.receiveStreamIds.push(e.uint32());break}case 4:{o.sdpOffer=e.string();break}case 5:{o.audioHost=e.string();break}case 6:{o.audioCheckin=e.bool();break}case 7:{o.audioMuted=e.bool();break}case 8:{o.compressedSdpOffer=e.bytes();break}case 9:{o.videoSubscriptionConfiguration&&o.videoSubscriptionConfiguration.length||(o.videoSubscriptionConfiguration=[]),o.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var r=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(r)return"sendStreams."+r}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!p.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!p.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!p.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||p.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(r)return"videoSubscriptionConfiguration."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){default:if(typeof e.duplex=="number"){t.duplex=e.duplex;break}break;case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r){if(typeof e.sendStreams[r]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[r]=a.SdkStreamDescriptor.fromObject(e.sendStreams[r])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var r=0;r<e.receiveStreamIds.length;++r)t.receiveStreamIds[r]=e.receiveStreamIds[r]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?p.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=p.newBuffer(p.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length>=0&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var r=0;r<e.videoSubscriptionConfiguration.length;++r){if(typeof e.videoSubscriptionConfiguration[r]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sendStreams=[],r.receiveStreamIds=[],r.videoSubscriptionConfiguration=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpOffer="",r.audioHost="",r.audioCheckin=!1,r.audioMuted=!1,t.bytes===String?r.compressedSdpOffer="":(r.compressedSdpOffer=[],t.bytes!==Array&&(r.compressedSdpOffer=p.newBuffer(r.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]===void 0?e.duplex:a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){r.sendStreams=[];for(var o=0;o<e.sendStreams.length;++o)r.sendStreams[o]=a.SdkStreamDescriptor.toObject(e.sendStreams[o],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){r.receiveStreamIds=[];for(var o=0;o<e.receiveStreamIds.length;++o)r.receiveStreamIds[o]=e.receiveStreamIds[o]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(r.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(r.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(r.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(r.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(r.compressedSdpOffer=t.bytes===String?p.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){r.videoSubscriptionConfiguration=[];for(var o=0;o<e.videoSubscriptionConfiguration.length;++o)r.videoSubscriptionConfiguration[o]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkSubscribeFrame"},"getTypeUrl"),s}(),a.SdkSubscribeAckFrame=function(){function s(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkSubscribeAckFrame"),s.prototype.duplex=1,s.prototype.allocations=p.emptyArray,s.prototype.sdpAnswer="",s.prototype.tracks=p.emptyArray,s.prototype.compressedSdpAnswer=p.newBuffer([]),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var r=0;r<e.allocations.length;++r)a.SdkStreamAllocation.encode(e.allocations[r],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var r=0;r<e.tracks.length;++r)a.SdkTrackMapping.encode(e.tracks[r],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkSubscribeAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.duplex=e.int32();break}case 2:{o.allocations&&o.allocations.length||(o.allocations=[]),o.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break}case 3:{o.sdpAnswer=e.string();break}case 4:{o.tracks&&o.tracks.length||(o.tracks=[]),o.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break}case 5:{o.compressedSdpAnswer=e.bytes();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var r=a.SdkStreamAllocation.verify(e.allocations[t]);if(r)return"allocations."+r}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!p.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var r=a.SdkTrackMapping.verify(e.tracks[t]);if(r)return"tracks."+r}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||p.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){default:if(typeof e.duplex=="number"){t.duplex=e.duplex;break}break;case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var r=0;r<e.allocations.length;++r){if(typeof e.allocations[r]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[r]=a.SdkStreamAllocation.fromObject(e.allocations[r])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var r=0;r<e.tracks.length;++r){if(typeof e.tracks[r]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[r]=a.SdkTrackMapping.fromObject(e.tracks[r])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?p.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=p.newBuffer(p.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length>=0&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.allocations=[],r.tracks=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpAnswer="",t.bytes===String?r.compressedSdpAnswer="":(r.compressedSdpAnswer=[],t.bytes!==Array&&(r.compressedSdpAnswer=p.newBuffer(r.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]===void 0?e.duplex:a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){r.allocations=[];for(var o=0;o<e.allocations.length;++o)r.allocations[o]=a.SdkStreamAllocation.toObject(e.allocations[o],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(r.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){r.tracks=[];for(var o=0;o<e.tracks.length;++o)r.tracks[o]=a.SdkTrackMapping.toObject(e.tracks[o],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(r.compressedSdpAnswer=t.bytes===String?p.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkSubscribeAckFrame"},"getTypeUrl"),s}(),a.SdkIndexFrame=function(){function s(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkIndexFrame"),s.prototype.atCapacity=!1,s.prototype.sources=p.emptyArray,s.prototype.pausedAtSourceIds=p.emptyArray,s.prototype.numParticipants=0,s.prototype.supportedReceiveCodecIntersection=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var r=0;r<e.sources.length;++r)a.SdkStreamDescriptor.encode(e.sources[r],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var r=0;r<e.pausedAtSourceIds.length;++r)t.uint32(24).uint32(e.pausedAtSourceIds[r]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)t.uint32(40).int32(e.supportedReceiveCodecIntersection[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkIndexFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.atCapacity=e.bool();break}case 2:{o.sources&&o.sources.length||(o.sources=[]),o.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break}case 3:{if(o.pausedAtSourceIds&&o.pausedAtSourceIds.length||(o.pausedAtSourceIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.pausedAtSourceIds.push(e.uint32());else o.pausedAtSourceIds.push(e.uint32());break}case 4:{o.numParticipants=e.uint32();break}case 5:{if(o.supportedReceiveCodecIntersection&&o.supportedReceiveCodecIntersection.length||(o.supportedReceiveCodecIntersection=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.supportedReceiveCodecIntersection.push(e.int32());else o.supportedReceiveCodecIntersection.push(e.int32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var r=a.SdkStreamDescriptor.verify(e.sources[t]);if(r)return"sources."+r}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!p.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!p.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 11:break}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var r=0;r<e.sources.length;++r){if(typeof e.sources[r]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[r]=a.SdkStreamDescriptor.fromObject(e.sources[r])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var r=0;r<e.pausedAtSourceIds.length;++r)t.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var r=0;r<e.supportedReceiveCodecIntersection.length;++r)switch(e.supportedReceiveCodecIntersection[r]){default:if(typeof e.supportedReceiveCodecIntersection[r]=="number"){t.supportedReceiveCodecIntersection[r]=e.supportedReceiveCodecIntersection[r];break}case"VP8":case 1:t.supportedReceiveCodecIntersection[r]=1;break;case"H264_BASELINE_PROFILE":case 2:t.supportedReceiveCodecIntersection[r]=2;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[r]=3;break;case"H264_MAIN_PROFILE":case 4:t.supportedReceiveCodecIntersection[r]=4;break;case"H264_HIGH_PROFILE":case 5:t.supportedReceiveCodecIntersection[r]=5;break;case"H264_CONSTRAINED_HIGH_PROFILE":case 6:t.supportedReceiveCodecIntersection[r]=6;break;case"VP9_PROFILE_0":case 8:t.supportedReceiveCodecIntersection[r]=8;break;case"AV1_MAIN_PROFILE":case 11:t.supportedReceiveCodecIntersection[r]=11;break}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sources=[],r.pausedAtSourceIds=[],r.supportedReceiveCodecIntersection=[]),t.defaults&&(r.atCapacity=!1,r.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(r.atCapacity=e.atCapacity),e.sources&&e.sources.length){r.sources=[];for(var o=0;o<e.sources.length;++o)r.sources[o]=a.SdkStreamDescriptor.toObject(e.sources[o],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){r.pausedAtSourceIds=[];for(var o=0;o<e.pausedAtSourceIds.length;++o)r.pausedAtSourceIds[o]=e.pausedAtSourceIds[o]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(r.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){r.supportedReceiveCodecIntersection=[];for(var o=0;o<e.supportedReceiveCodecIntersection.length;++o)r.supportedReceiveCodecIntersection[o]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[o]]===void 0?e.supportedReceiveCodecIntersection[o]:a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[o]]:e.supportedReceiveCodecIntersection[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkIndexFrame"},"getTypeUrl"),s}(),a.SdkPauseResumeFrame=function(){function s(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPauseResumeFrame"),s.prototype.streamIds=p.emptyArray,s.prototype.groupIds=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.streamIds!=null&&e.streamIds.length)for(var r=0;r<e.streamIds.length;++r)t.uint32(8).uint32(e.streamIds[r]);if(e.groupIds!=null&&e.groupIds.length)for(var r=0;r<e.groupIds.length;++r)t.uint32(16).uint32(e.groupIds[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPauseResumeFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{if(o.streamIds&&o.streamIds.length||(o.streamIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.streamIds.push(e.uint32());else o.streamIds.push(e.uint32());break}case 2:{if(o.groupIds&&o.groupIds.length||(o.groupIds=[]),(f&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)o.groupIds.push(e.uint32());else o.groupIds.push(e.uint32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!p.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!p.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var r=0;r<e.streamIds.length;++r)t.streamIds[r]=e.streamIds[r]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var r=0;r<e.groupIds.length;++r)t.groupIds[r]=e.groupIds[r]>>>0}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streamIds=[],r.groupIds=[]),e.streamIds&&e.streamIds.length){r.streamIds=[];for(var o=0;o<e.streamIds.length;++o)r.streamIds[o]=e.streamIds[o]}if(e.groupIds&&e.groupIds.length){r.groupIds=[];for(var o=0;o<e.groupIds.length;++o)r.groupIds[o]=e.groupIds[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPauseResumeFrame"},"getTypeUrl"),s}(),a.SdkBitrateFrame=function(){function s(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkBitrateFrame"),s.prototype.bitrates=p.emptyArray,s.prototype.serverAvailableOutgoingBitrate=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.bitrates!=null&&e.bitrates.length)for(var r=0;r<e.bitrates.length;++r)a.SdkBitrate.encode(e.bitrates[r],t.uint32(10).fork()).ldelim();return e.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(e,"serverAvailableOutgoingBitrate")&&t.uint32(16).uint32(e.serverAvailableOutgoingBitrate),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkBitrateFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.bitrates&&o.bitrates.length||(o.bitrates=[]),o.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break}case 2:{o.serverAvailableOutgoingBitrate=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var r=a.SdkBitrate.verify(e.bitrates[t]);if(r)return"bitrates."+r}}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&!p.isInteger(e.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var r=0;r<e.bitrates.length;++r){if(typeof e.bitrates[r]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[r]=a.SdkBitrate.fromObject(e.bitrates[r])}}return e.serverAvailableOutgoingBitrate!=null&&(t.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bitrates=[]),t.defaults&&(r.serverAvailableOutgoingBitrate=0),e.bitrates&&e.bitrates.length){r.bitrates=[];for(var o=0;o<e.bitrates.length;++o)r.bitrates[o]=a.SdkBitrate.toObject(e.bitrates[o],t)}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&(r.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkBitrateFrame"},"getTypeUrl"),s}(),a.SdkStreamDescriptor=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamDescriptor"),s.prototype.streamId=0,s.prototype.framerate=0,s.prototype.maxBitrateKbps=0,s.prototype.trackLabel="",s.prototype.groupId=0,s.prototype.avgBitrateBps=0,s.prototype.attendeeId="",s.prototype.mediaType=1,s.prototype.externalUserId="",s.prototype.width=0,s.prototype.height=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),e.width!=null&&Object.hasOwnProperty.call(e,"width")&&t.uint32(88).uint32(e.width),e.height!=null&&Object.hasOwnProperty.call(e,"height")&&t.uint32(96).uint32(e.height),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamDescriptor;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.streamId=e.uint32();break}case 2:{o.framerate=e.uint32();break}case 3:{o.maxBitrateKbps=e.uint32();break}case 4:{o.trackLabel=e.string();break}case 6:{o.groupId=e.uint32();break}case 7:{o.avgBitrateBps=e.uint32();break}case 8:{o.attendeeId=e.string();break}case 9:{o.mediaType=e.int32();break}case 10:{o.externalUserId=e.string();break}case 11:{o.width=e.uint32();break}case 12:{o.height=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!p.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!p.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!p.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!p.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!p.isString(e.externalUserId)?"externalUserId: string expected":e.width!=null&&e.hasOwnProperty("width")&&!p.isInteger(e.width)?"width: integer expected":e.height!=null&&e.hasOwnProperty("height")&&!p.isInteger(e.height)?"height: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){default:if(typeof e.mediaType=="number"){t.mediaType=e.mediaType;break}break;case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.width!=null&&(t.width=e.width>>>0),e.height!=null&&(t.height=e.height>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.framerate=0,r.maxBitrateKbps=0,r.trackLabel="",r.groupId=0,r.avgBitrateBps=0,r.attendeeId="",r.mediaType=t.enums===String?"AUDIO":1,r.externalUserId="",r.width=0,r.height=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(r.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(r.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(r.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]===void 0?e.mediaType:a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.width!=null&&e.hasOwnProperty("width")&&(r.width=e.width),e.height!=null&&e.hasOwnProperty("height")&&(r.height=e.height),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamDescriptor"},"getTypeUrl"),s}(),a.SdkStreamAllocation=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamAllocation"),s.prototype.trackLabel="",s.prototype.streamId=0,s.prototype.groupId=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamAllocation;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.trackLabel=e.string();break}case 2:{o.streamId=e.uint32();break}case 3:{o.groupId=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!p.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.trackLabel="",r.streamId=0,r.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamAllocation"},"getTypeUrl"),s}(),a.SdkTrackMapping=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTrackMapping"),s.prototype.streamId=0,s.prototype.ssrc=0,s.prototype.trackLabel="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTrackMapping;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.streamId=e.uint32();break}case 2:{o.ssrc=e.uint32();break}case 3:{o.trackLabel=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!p.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!p.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.ssrc=0,r.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(r.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTrackMapping"},"getTypeUrl"),s}(),a.SdkBitrate=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkBitrate"),s.prototype.sourceStreamId=0,s.prototype.avgBitrateBps=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkBitrate;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.sourceStreamId=e.uint32();break}case 2:{o.avgBitrateBps=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!p.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!p.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.sourceStreamId=0,r.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(r.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkBitrate"},"getTypeUrl"),s}(),a.SdkAudioControlFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioControlFrame"),s.prototype.muted=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioControlFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.muted=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioControlFrame"},"getTypeUrl"),s}(),a.SdkAudioMetadataFrame=function(){function s(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioMetadataFrame"),s.prototype.attendeeStates=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var r=0;r<e.attendeeStates.length;++r)a.SdkAudioAttendeeState.encode(e.attendeeStates[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioMetadataFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.attendeeStates&&o.attendeeStates.length||(o.attendeeStates=[]),o.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var r=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(r)return"attendeeStates."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r){if(typeof e.attendeeStates[r]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[r]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){r.attendeeStates=[];for(var o=0;o<e.attendeeStates.length;++o)r.attendeeStates[o]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioMetadataFrame"},"getTypeUrl"),s}(),a.SdkAudioAttendeeState=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioAttendeeState"),s.prototype.audioStreamId=0,s.prototype.volume=0,s.prototype.muted=!1,s.prototype.signalStrength=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioAttendeeState;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.audioStreamId=e.uint32();break}case 2:{o.volume=e.uint32();break}case 3:{o.muted=e.bool();break}case 4:{o.signalStrength=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!p.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!p.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!p.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.volume=0,r.muted=!1,r.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(r.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(r.signalStrength=e.signalStrength),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioAttendeeState"},"getTypeUrl"),s}(),a.SdkAudioStreamIdInfoFrame=function(){function s(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioStreamIdInfoFrame"),s.prototype.streams=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.streams!=null&&e.streams.length)for(var r=0;r<e.streams.length;++r)a.SdkAudioStreamIdInfo.encode(e.streams[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioStreamIdInfoFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.streams&&o.streams.length||(o.streams=[]),o.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var r=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(r)return"streams."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var r=0;r<e.streams.length;++r){if(typeof e.streams[r]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[r]=a.SdkAudioStreamIdInfo.fromObject(e.streams[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streams=[]),e.streams&&e.streams.length){r.streams=[];for(var o=0;o<e.streams.length;++o)r.streams[o]=a.SdkAudioStreamIdInfo.toObject(e.streams[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioStreamIdInfoFrame"},"getTypeUrl"),s}(),a.SdkAudioStreamIdInfo=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioStreamIdInfo"),s.prototype.audioStreamId=0,s.prototype.attendeeId="",s.prototype.muted=!1,s.prototype.externalUserId="",s.prototype.dropped=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioStreamIdInfo;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.audioStreamId=e.uint32();break}case 2:{o.attendeeId=e.string();break}case 3:{o.muted=e.bool();break}case 4:{o.externalUserId=e.string();break}case 5:{o.dropped=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!p.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!p.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.attendeeId="",r.muted=!1,r.externalUserId="",r.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(r.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(r.dropped=e.dropped),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioStreamIdInfo"},"getTypeUrl"),s}(),a.SdkPingPongType=function(){var s={},i=Object.create(s);return i[s[1]="PING"]=1,i[s[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPingPongFrame"),s.prototype.type=1,s.prototype.pingId=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPingPongFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.pingId=e.uint32();break}default:e.skipType(f&7);break}}if(!o.hasOwnProperty("type"))throw p.ProtocolError("missing required 'type'",{instance:o});if(!o.hasOwnProperty("pingId"))throw p.ProtocolError("missing required 'pingId'",{instance:o});return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return p.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"PING":1,r.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkPingPongType[e.type]===void 0?e.type:a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(r.pingId=e.pingId),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPingPongFrame"},"getTypeUrl"),s}(),a.SdkAudioStatusFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkAudioStatusFrame"),s.prototype.audioStatus=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkAudioStatusFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.audioStatus=e.uint32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!p.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=e.audioStatus),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkAudioStatusFrame"},"getTypeUrl"),s}(),a.SdkMetric=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkMetric"),s.prototype.type=1,s.prototype.value=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkMetric;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.value=e.double();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 60:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_INPUT_HEIGHT":case 60:t.type=60;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break;case"VIDEO_FREEZE_COUNT":case 90:t.type=90;break;case"VIDEO_FREEZE_DURATION":case 91:t.type=91;break;case"VIDEO_PAUSE_COUNT":case 92:t.type=92;break;case"VIDEO_PAUSE_DURATION":case 93:t.type=93;break;case"VIDEO_QUALITY_REASON":case 94:t.type=94;break;case"VIDEO_PROCESSING_TIME":case 95:t.type=95;break;case"RTC_SPK_AUDIO_LEVEL":case 96:t.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:t.type=97;break;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"VIDEO_QUALITY_LIMITATION_DURATION_CPU":case 102:t.type=102;break;case"VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU":case 103:t.type=103;break;case"VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE":case 104:t.type=104;break;case"VIDEO_RENDER_HEIGHT":case 105:t.type=105;break;case"VIDEO_RENDER_WIDTH":case 106:t.type=106;break;case"VIDEO_INPUT_WIDTH":case 107:t.type=107;break;case"VIDEO_SENT_JITTER_MS":case 108:t.type=108;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,r.value=0),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkMetric.Type[e.type]===void 0?e.type:a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkMetric"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[60]="VIDEO_INPUT_HEIGHT"]=60,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e[i[90]="VIDEO_FREEZE_COUNT"]=90,e[i[91]="VIDEO_FREEZE_DURATION"]=91,e[i[92]="VIDEO_PAUSE_COUNT"]=92,e[i[93]="VIDEO_PAUSE_DURATION"]=93,e[i[94]="VIDEO_QUALITY_REASON"]=94,e[i[95]="VIDEO_PROCESSING_TIME"]=95,e[i[96]="RTC_SPK_AUDIO_LEVEL"]=96,e[i[97]="RTC_MIC_AUDIO_LEVEL"]=97,e[i[98]="RTC_SPK_TOTAL_LOST"]=98,e[i[99]="RTC_SPK_TOTAL_EXPECTED"]=99,e[i[100]="RTC_SPK_TOTAL_RECOVERED_RED"]=100,e[i[101]="RTC_SPK_TOTAL_RECOVERED_FEC"]=101,e[i[102]="VIDEO_QUALITY_LIMITATION_DURATION_CPU"]=102,e[i[103]="VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU"]=103,e[i[104]="VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE"]=104,e[i[105]="VIDEO_RENDER_HEIGHT"]=105,e[i[106]="VIDEO_RENDER_WIDTH"]=106,e[i[107]="VIDEO_INPUT_WIDTH"]=107,e[i[108]="VIDEO_SENT_JITTER_MS"]=108,e}(),s}(),a.SdkStreamMetricFrame=function(){function s(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamMetricFrame"),s.prototype.streamId=0,s.prototype.groupId=0,s.prototype.metrics=p.emptyArray,s.prototype.dimensions=p.emptyArray,s.prototype.mediaType=1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)a.SdkMetric.encode(e.metrics[r],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var r=0;r<e.dimensions.length;++r)a.SdkStreamDimension.encode(e.dimensions[r],t.uint32(50).fork()).ldelim();return e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(56).int32(e.mediaType),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamMetricFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 3:{o.streamId=e.uint32();break}case 4:{o.groupId=e.uint32();break}case 5:{o.metrics&&o.metrics.length||(o.metrics=[]),o.metrics.push(a.SdkMetric.decode(e,e.uint32()));break}case 6:{o.dimensions&&o.dimensions.length||(o.dimensions=[]),o.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break}case 7:{o.mediaType=e.int32();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var r=a.SdkMetric.verify(e.metrics[t]);if(r)return"metrics."+r}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var r=a.SdkStreamDimension.verify(e.dimensions[t]);if(r)return"dimensions."+r}}if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if(typeof e.metrics[r]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[r]=a.SdkMetric.fromObject(e.metrics[r])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var r=0;r<e.dimensions.length;++r){if(typeof e.dimensions[r]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[r]=a.SdkStreamDimension.fromObject(e.dimensions[r])}}switch(e.mediaType){default:if(typeof e.mediaType=="number"){t.mediaType=e.mediaType;break}break;case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[],r.dimensions=[]),t.defaults&&(r.streamId=0,r.groupId=0,r.mediaType=t.enums===String?"AUDIO":1),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.metrics&&e.metrics.length){r.metrics=[];for(var o=0;o<e.metrics.length;++o)r.metrics[o]=a.SdkMetric.toObject(e.metrics[o],t)}if(e.dimensions&&e.dimensions.length){r.dimensions=[];for(var o=0;o<e.dimensions.length;++o)r.dimensions[o]=a.SdkStreamDimension.toObject(e.dimensions[o],t)}return e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(r.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]===void 0?e.mediaType:a.SdkStreamMediaType[e.mediaType]:e.mediaType),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamMetricFrame"},"getTypeUrl"),s}(),a.SdkClientMetricFrame=function(){function s(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkClientMetricFrame"),s.prototype.globalMetrics=p.emptyArray,s.prototype.streamMetricFrames=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var r=0;r<e.globalMetrics.length;++r)a.SdkMetric.encode(e.globalMetrics[r],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var r=0;r<e.streamMetricFrames.length;++r)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[r],t.uint32(18).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkClientMetricFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.globalMetrics&&o.globalMetrics.length||(o.globalMetrics=[]),o.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break}case 2:{o.streamMetricFrames&&o.streamMetricFrames.length||(o.streamMetricFrames=[]),o.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var r=a.SdkMetric.verify(e.globalMetrics[t]);if(r)return"globalMetrics."+r}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var r=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(r)return"streamMetricFrames."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r){if(typeof e.globalMetrics[r]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[r]=a.SdkMetric.fromObject(e.globalMetrics[r])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var r=0;r<e.streamMetricFrames.length;++r){if(typeof e.streamMetricFrames[r]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[r]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.globalMetrics=[],r.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){r.globalMetrics=[];for(var o=0;o<e.globalMetrics.length;++o)r.globalMetrics[o]=a.SdkMetric.toObject(e.globalMetrics[o],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){r.streamMetricFrames=[];for(var o=0;o<e.streamMetricFrames.length;++o)r.streamMetricFrames[o]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkClientMetricFrame"},"getTypeUrl"),s}(),a.SdkStreamDimension=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkStreamDimension"),s.prototype.type=1,s.prototype.value=null,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkStreamDimension;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.value=a.SdkDimensionValue.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ENCODER_NAME":1,r.value=null),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkStreamDimension.Type[e.type]===void 0?e.type:a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(r.value=a.SdkDimensionValue.toObject(e.value,t)),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkStreamDimension"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),s}(),a.SdkDimensionValue=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkDimensionValue"),s.prototype.stringValue="",s.prototype.boolValue=!1,s.prototype.uintValue=p.Long?p.Long.fromBits(0,0,!0):0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkDimensionValue;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.stringValue=e.string();break}case 2:{o.boolValue=e.bool();break}case 3:{o.uintValue=e.uint64();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!p.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!p.isInteger(e.uintValue)&&!(e.uintValue&&p.isInteger(e.uintValue.low)&&p.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(p.Long?(t.uintValue=p.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new p.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults)if(r.stringValue="",r.boolValue=!1,p.Long){var o=new p.Long(0,0,!0);r.uintValue=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?r.uintValue=t.longs===String?String(e.uintValue):e.uintValue:r.uintValue=t.longs===String?p.Long.prototype.toString.call(e.uintValue):t.longs===Number?new p.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkDimensionValue"},"getTypeUrl"),s}(),a.SdkDataMessageFrame=function(){function s(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkDataMessageFrame"),s.prototype.messages=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.messages!=null&&e.messages.length)for(var r=0;r<e.messages.length;++r)a.SdkDataMessagePayload.encode(e.messages[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkDataMessageFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.messages&&o.messages.length||(o.messages=[]),o.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var r=a.SdkDataMessagePayload.verify(e.messages[t]);if(r)return"messages."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var r=0;r<e.messages.length;++r){if(typeof e.messages[r]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[r]=a.SdkDataMessagePayload.fromObject(e.messages[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.messages=[]),e.messages&&e.messages.length){r.messages=[];for(var o=0;o<e.messages.length;++o)r.messages[o]=a.SdkDataMessagePayload.toObject(e.messages[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkDataMessageFrame"},"getTypeUrl"),s}(),a.SdkDataMessagePayload=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkDataMessagePayload"),s.prototype.topic="",s.prototype.data=p.newBuffer([]),s.prototype.lifetimeMs=0,s.prototype.senderAttendeeId="",s.prototype.ingestTimeNs=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.senderExternalUserId="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkDataMessagePayload;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.topic=e.string();break}case 2:{o.data=e.bytes();break}case 3:{o.lifetimeMs=e.uint32();break}case 4:{o.senderAttendeeId=e.string();break}case 5:{o.ingestTimeNs=e.int64();break}case 6:{o.senderExternalUserId=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!p.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||p.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!p.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!p.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!p.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&p.isInteger(e.ingestTimeNs.low)&&p.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!p.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?p.base64.decode(e.data,t.data=p.newBuffer(p.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(p.Long?(t.ingestTimeNs=p.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new p.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.topic="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=p.newBuffer(r.data))),r.lifetimeMs=0,r.senderAttendeeId="",p.Long){var o=new p.Long(0,0,!1);r.ingestTimeNs=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.ingestTimeNs=t.longs===String?"0":0;r.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(r.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?p.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(r.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(r.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?r.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:r.ingestTimeNs=t.longs===String?p.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new p.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(r.senderExternalUserId=e.senderExternalUserId),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkDataMessagePayload"},"getTypeUrl"),s}(),a.SdkTurnCredentials=function(){function s(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTurnCredentials"),s.prototype.username="",s.prototype.password="",s.prototype.ttl=0,s.prototype.uris=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var r=0;r<e.uris.length;++r)t.uint32(34).string(e.uris[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTurnCredentials;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.username=e.string();break}case 2:{o.password=e.string();break}case 3:{o.ttl=e.uint32();break}case 4:{o.uris&&o.uris.length||(o.uris=[]),o.uris.push(e.string());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!p.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!p.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!p.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!p.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var r=0;r<e.uris.length;++r)t.uris[r]=String(e.uris[r])}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uris=[]),t.defaults&&(r.username="",r.password="",r.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(r.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(r.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(r.ttl=e.ttl),e.uris&&e.uris.length){r.uris=[];for(var o=0;o<e.uris.length;++o)r.uris[o]=e.uris[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTurnCredentials"},"getTypeUrl"),s}(),a.SdkTranscriptItem=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptItem"),s.prototype.content="",s.prototype.endTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.speakerAttendeeId="",s.prototype.speakerExternalUserId="",s.prototype.startTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.type=1,s.prototype.vocabularyFilterMatch=!1,s.prototype.confidence=0,s.prototype.stable=!1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptItem;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.content=e.string();break}case 2:{o.endTime=e.int64();break}case 3:{o.speakerAttendeeId=e.string();break}case 4:{o.speakerExternalUserId=e.string();break}case 5:{o.startTime=e.int64();break}case 6:{o.type=e.int32();break}case 7:{o.vocabularyFilterMatch=e.bool();break}case 8:{o.confidence=e.double();break}case 9:{o.stable=e.bool();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!p.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!p.isInteger(e.endTime)&&!(e.endTime&&p.isInteger(e.endTime.low)&&p.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!p.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!p.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!p.isInteger(e.startTime)&&!(e.startTime&&p.isInteger(e.startTime.low)&&p.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(p.Long?(t.endTime=p.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(p.Long?(t.startTime=p.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.content="",p.Long){var o=new p.Long(0,0,!1);r.endTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.endTime=t.longs===String?"0":0;if(r.speakerAttendeeId="",r.speakerExternalUserId="",p.Long){var o=new p.Long(0,0,!1);r.startTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.startTime=t.longs===String?"0":0;r.type=t.enums===String?"PRONUNCIATION":1,r.vocabularyFilterMatch=!1,r.confidence=0,r.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?p.Long.prototype.toString.call(e.endTime):t.longs===Number?new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(r.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(r.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?p.Long.prototype.toString.call(e.startTime):t.longs===Number?new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]===void 0?e.type:a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(r.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(r.stable=e.stable),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptItem"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),s}(),a.SdkTranscriptEntity=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptEntity"),s.prototype.category="",s.prototype.confidence=0,s.prototype.content="",s.prototype.endTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.startTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.type="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptEntity;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.category=e.string();break}case 2:{o.confidence=e.double();break}case 3:{o.content=e.string();break}case 4:{o.endTime=e.int64();break}case 5:{o.startTime=e.int64();break}case 6:{o.type=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!p.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!p.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!p.isInteger(e.endTime)&&!(e.endTime&&p.isInteger(e.endTime.low)&&p.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!p.isInteger(e.startTime)&&!(e.startTime&&p.isInteger(e.startTime.low)&&p.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!p.isString(e.type)?"type: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(p.Long?(t.endTime=p.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(p.Long?(t.startTime=p.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.category="",r.confidence=0,r.content="",p.Long){var o=new p.Long(0,0,!1);r.endTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.endTime=t.longs===String?"0":0;if(p.Long){var o=new p.Long(0,0,!1);r.startTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.startTime=t.longs===String?"0":0;r.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(r.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(r.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?p.Long.prototype.toString.call(e.endTime):t.longs===Number?new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?p.Long.prototype.toString.call(e.startTime):t.longs===Number?new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(r.type=e.type),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptEntity"},"getTypeUrl"),s}(),a.SdkTranscriptAlternative=function(){function s(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptAlternative"),s.prototype.items=p.emptyArray,s.prototype.transcript="",s.prototype.entities=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.items!=null&&e.items.length)for(var r=0;r<e.items.length;++r)a.SdkTranscriptItem.encode(e.items[r],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var r=0;r<e.entities.length;++r)a.SdkTranscriptEntity.encode(e.entities[r],t.uint32(26).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptAlternative;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.items&&o.items.length||(o.items=[]),o.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break}case 2:{o.transcript=e.string();break}case 3:{o.entities&&o.entities.length||(o.entities=[]),o.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var r=a.SdkTranscriptItem.verify(e.items[t]);if(r)return"items."+r}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!p.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var r=a.SdkTranscriptEntity.verify(e.entities[t]);if(r)return"entities."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var r=0;r<e.items.length;++r){if(typeof e.items[r]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[r]=a.SdkTranscriptItem.fromObject(e.items[r])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var r=0;r<e.entities.length;++r){if(typeof e.entities[r]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[r]=a.SdkTranscriptEntity.fromObject(e.entities[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.items=[],r.entities=[]),t.defaults&&(r.transcript=""),e.items&&e.items.length){r.items=[];for(var o=0;o<e.items.length;++o)r.items[o]=a.SdkTranscriptItem.toObject(e.items[o],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(r.transcript=e.transcript),e.entities&&e.entities.length){r.entities=[];for(var o=0;o<e.entities.length;++o)r.entities[o]=a.SdkTranscriptEntity.toObject(e.entities[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptAlternative"},"getTypeUrl"),s}(),a.SdkTranscriptLanguageWithScore=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptLanguageWithScore"),s.prototype.languageCode="",s.prototype.score=0,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptLanguageWithScore;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.languageCode=e.string();break}case 2:{o.score=e.double();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!p.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.languageCode="",r.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(r.score=t.json&&!isFinite(e.score)?String(e.score):e.score),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptLanguageWithScore"},"getTypeUrl"),s}(),a.SdkTranscriptResult=function(){function s(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptResult"),s.prototype.alternatives=p.emptyArray,s.prototype.channelId="",s.prototype.endTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.isPartial=!1,s.prototype.resultId="",s.prototype.startTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.languageCode="",s.prototype.languageIdentification=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.alternatives!=null&&e.alternatives.length)for(var r=0;r<e.alternatives.length;++r)a.SdkTranscriptAlternative.encode(e.alternatives[r],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var r=0;r<e.languageIdentification.length;++r)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[r],t.uint32(66).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptResult;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.alternatives&&o.alternatives.length||(o.alternatives=[]),o.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break}case 2:{o.channelId=e.string();break}case 3:{o.endTime=e.int64();break}case 4:{o.isPartial=e.bool();break}case 5:{o.resultId=e.string();break}case 6:{o.startTime=e.int64();break}case 7:{o.languageCode=e.string();break}case 8:{o.languageIdentification&&o.languageIdentification.length||(o.languageIdentification=[]),o.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var r=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(r)return"alternatives."+r}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!p.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!p.isInteger(e.endTime)&&!(e.endTime&&p.isInteger(e.endTime.low)&&p.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!p.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!p.isInteger(e.startTime)&&!(e.startTime&&p.isInteger(e.startTime.low)&&p.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!p.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var r=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(r)return"languageIdentification."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var r=0;r<e.alternatives.length;++r){if(typeof e.alternatives[r]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[r]=a.SdkTranscriptAlternative.fromObject(e.alternatives[r])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(p.Long?(t.endTime=p.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(p.Long?(t.startTime=p.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var r=0;r<e.languageIdentification.length;++r){if(typeof e.languageIdentification[r]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[r]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.alternatives=[],r.languageIdentification=[]),t.defaults){if(r.channelId="",p.Long){var o=new p.Long(0,0,!1);r.endTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.endTime=t.longs===String?"0":0;if(r.isPartial=!1,r.resultId="",p.Long){var o=new p.Long(0,0,!1);r.startTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.startTime=t.longs===String?"0":0;r.languageCode=""}if(e.alternatives&&e.alternatives.length){r.alternatives=[];for(var f=0;f<e.alternatives.length;++f)r.alternatives[f]=a.SdkTranscriptAlternative.toObject(e.alternatives[f],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(r.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?p.Long.prototype.toString.call(e.endTime):t.longs===Number?new p.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(r.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(r.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?p.Long.prototype.toString.call(e.startTime):t.longs===Number?new p.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){r.languageIdentification=[];for(var f=0;f<e.languageIdentification.length;++f)r.languageIdentification[f]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[f],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptResult"},"getTypeUrl"),s}(),a.SdkTranscript=function(){function s(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscript"),s.prototype.results=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.results!=null&&e.results.length)for(var r=0;r<e.results.length;++r)a.SdkTranscriptResult.encode(e.results[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscript;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.results&&o.results.length||(o.results=[]),o.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var r=a.SdkTranscriptResult.verify(e.results[t]);if(r)return"results."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var r=0;r<e.results.length;++r){if(typeof e.results[r]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[r]=a.SdkTranscriptResult.fromObject(e.results[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.results=[]),e.results&&e.results.length){r.results=[];for(var o=0;o<e.results.length;++o)r.results[o]=a.SdkTranscriptResult.toObject(e.results[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscript"},"getTypeUrl"),s}(),a.SdkTranscriptionStatus=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptionStatus"),s.prototype.type=1,s.prototype.eventTime=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.transcriptionRegion="",s.prototype.transcriptionConfiguration="",s.prototype.message="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptionStatus;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.type=e.int32();break}case 2:{o.eventTime=e.int64();break}case 3:{o.transcriptionRegion=e.string();break}case 4:{o.transcriptionConfiguration=e.string();break}case 5:{o.message=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!p.isInteger(e.eventTime)&&!(e.eventTime&&p.isInteger(e.eventTime.low)&&p.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!p.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!p.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!p.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(p.Long?(t.eventTime=p.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new p.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if(t.defaults){if(r.type=t.enums===String?"STARTED":1,p.Long){var o=new p.Long(0,0,!1);r.eventTime=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.eventTime=t.longs===String?"0":0;r.transcriptionRegion="",r.transcriptionConfiguration="",r.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]===void 0?e.type:a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?r.eventTime=t.longs===String?String(e.eventTime):e.eventTime:r.eventTime=t.longs===String?p.Long.prototype.toString.call(e.eventTime):t.longs===Number?new p.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(r.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(r.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(r.message=e.message),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptionStatus"},"getTypeUrl"),s.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),s}(),a.SdkTranscriptEvent=function(){function s(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}n(s,"SdkTranscriptEvent"),s.prototype.status=null,s.prototype.transcript=null;var i;return Object.defineProperty(s.prototype,"Event",{get:p.oneOfGetter(i=["status","transcript"]),set:p.oneOfSetter(i)}),s.create=n(function(t){return new s(t)},"create"),s.encode=n(function(t,r){return r||(r=m.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,r.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,r.uint32(18).fork()).ldelim(),r},"encode"),s.encodeDelimited=n(function(t,r){return this.encode(t,r).ldelim()},"encodeDelimited"),s.decode=n(function(t,r){t instanceof h||(t=h.create(t));for(var o=r===void 0?t.len:t.pos+r,f=new a.SdkTranscriptEvent;t.pos<o;){var g=t.uint32();switch(g>>>3){case 1:{f.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break}case 2:{f.transcript=a.SdkTranscript.decode(t,t.uint32());break}default:t.skipType(g&7);break}}return f},"decode"),s.decodeDelimited=n(function(t){return t instanceof h||(t=new h(t)),this.decode(t,t.uint32())},"decodeDelimited"),s.verify=n(function(t){if(typeof t!="object"||t===null)return"object expected";var r={};if(t.status!=null&&t.hasOwnProperty("status")){r.Event=1;{var o=a.SdkTranscriptionStatus.verify(t.status);if(o)return"status."+o}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(r.Event===1)return"Event: multiple values";r.Event=1;{var o=a.SdkTranscript.verify(t.transcript);if(o)return"transcript."+o}}return null},"verify"),s.fromObject=n(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var r=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");r.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");r.transcript=a.SdkTranscript.fromObject(t.transcript)}return r},"fromObject"),s.toObject=n(function(t,r){r||(r={});var o={};return t.status!=null&&t.hasOwnProperty("status")&&(o.status=a.SdkTranscriptionStatus.toObject(t.status,r),r.oneofs&&(o.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(o.transcript=a.SdkTranscript.toObject(t.transcript,r),r.oneofs&&(o.Event="transcript")),o},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SdkTranscriptEvent"},"getTypeUrl"),s}(),a.SdkTranscriptFrame=function(){function s(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkTranscriptFrame"),s.prototype.events=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.events!=null&&e.events.length)for(var r=0;r<e.events.length;++r)a.SdkTranscriptEvent.encode(e.events[r],t.uint32(10).fork()).ldelim();return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkTranscriptFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.events&&o.events.length||(o.events=[]),o.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=a.SdkTranscriptEvent.verify(e.events[t]);if(r)return"events."+r}}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if(typeof e.events[r]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[r]=a.SdkTranscriptEvent.fromObject(e.events[r])}}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.events=[]),e.events&&e.events.length){r.events=[];for(var o=0;o<e.events.length;++o)r.events[o]=a.SdkTranscriptEvent.toObject(e.events[o],t)}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkTranscriptFrame"},"getTypeUrl"),s}(),a.SdkRemoteVideoUpdateFrame=function(){function s(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkRemoteVideoUpdateFrame"),s.prototype.addedOrUpdatedVideoSubscriptions=p.emptyArray,s.prototype.removedVideoSubscriptionMids=p.emptyArray,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){if(t||(t=m.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[r],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.uint32(18).string(e.removedVideoSubscriptionMids[r]);return t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkRemoteVideoUpdateFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.addedOrUpdatedVideoSubscriptions&&o.addedOrUpdatedVideoSubscriptions.length||(o.addedOrUpdatedVideoSubscriptions=[]),o.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break}case 2:{o.removedVideoSubscriptionMids&&o.removedVideoSubscriptionMids.length||(o.removedVideoSubscriptionMids=[]),o.removedVideoSubscriptionMids.push(e.string());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var r=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(r)return"addedOrUpdatedVideoSubscriptions."+r}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!p.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r){if(typeof e.addedOrUpdatedVideoSubscriptions[r]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[r]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[r])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var r=0;r<e.removedVideoSubscriptionMids.length;++r)t.removedVideoSubscriptionMids[r]=String(e.removedVideoSubscriptionMids[r])}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.addedOrUpdatedVideoSubscriptions=[],r.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){r.addedOrUpdatedVideoSubscriptions=[];for(var o=0;o<e.addedOrUpdatedVideoSubscriptions.length;++o)r.addedOrUpdatedVideoSubscriptions[o]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[o],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){r.removedVideoSubscriptionMids=[];for(var o=0;o<e.removedVideoSubscriptionMids.length;++o)r.removedVideoSubscriptionMids[o]=e.removedVideoSubscriptionMids[o]}return r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkRemoteVideoUpdateFrame"},"getTypeUrl"),s}(),a.SdkVideoQualityAdaptationPreference=function(){var s={},i=Object.create(s);return i[s[1]="BALANCED"]=1,i[s[2]="MAINTAIN_FRAMERATE"]=2,i[s[3]="MAINTAIN_RESOLUTION"]=3,i}(),a.SdkVideoSubscriptionConfiguration=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkVideoSubscriptionConfiguration"),s.prototype.mid="",s.prototype.attendeeId="",s.prototype.streamId=0,s.prototype.priority=0,s.prototype.targetBitrateKbps=0,s.prototype.groupId=0,s.prototype.qualityAdaptationPreference=1,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.qualityAdaptationPreference!=null&&Object.hasOwnProperty.call(e,"qualityAdaptationPreference")&&t.uint32(56).int32(e.qualityAdaptationPreference),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkVideoSubscriptionConfiguration;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.mid=e.string();break}case 2:{o.attendeeId=e.string();break}case 3:{o.streamId=e.uint32();break}case 4:{o.priority=e.uint32();break}case 5:{o.targetBitrateKbps=e.uint32();break}case 6:{o.groupId=e.uint32();break}case 7:{o.qualityAdaptationPreference=e.int32();break}default:e.skipType(f&7);break}}if(!o.hasOwnProperty("mid"))throw p.ProtocolError("missing required 'mid'",{instance:o});return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(!p.isString(e.mid))return"mid: string expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId))return"attendeeId: string expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!p.isInteger(e.streamId))return"streamId: integer expected";if(e.priority!=null&&e.hasOwnProperty("priority")&&!p.isInteger(e.priority))return"priority: integer expected";if(e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!p.isInteger(e.targetBitrateKbps))return"targetBitrateKbps: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!p.isInteger(e.groupId))return"groupId: integer expected";if(e.qualityAdaptationPreference!=null&&e.hasOwnProperty("qualityAdaptationPreference"))switch(e.qualityAdaptationPreference){default:return"qualityAdaptationPreference: enum value expected";case 1:case 2:case 3:break}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;switch(e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.qualityAdaptationPreference){default:if(typeof e.qualityAdaptationPreference=="number"){t.qualityAdaptationPreference=e.qualityAdaptationPreference;break}break;case"BALANCED":case 1:t.qualityAdaptationPreference=1;break;case"MAINTAIN_FRAMERATE":case 2:t.qualityAdaptationPreference=2;break;case"MAINTAIN_RESOLUTION":case 3:t.qualityAdaptationPreference=3;break}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.mid="",r.attendeeId="",r.streamId=0,r.priority=0,r.targetBitrateKbps=0,r.groupId=0,r.qualityAdaptationPreference=t.enums===String?"BALANCED":1),e.mid!=null&&e.hasOwnProperty("mid")&&(r.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(r.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(r.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.qualityAdaptationPreference!=null&&e.hasOwnProperty("qualityAdaptationPreference")&&(r.qualityAdaptationPreference=t.enums===String?a.SdkVideoQualityAdaptationPreference[e.qualityAdaptationPreference]===void 0?e.qualityAdaptationPreference:a.SdkVideoQualityAdaptationPreference[e.qualityAdaptationPreference]:e.qualityAdaptationPreference),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkVideoSubscriptionConfiguration"},"getTypeUrl"),s}(),a.SdkNotificationFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkNotificationFrame"),s.prototype.level=3,s.prototype.message="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.level!=null&&Object.hasOwnProperty.call(e,"level")&&t.uint32(8).int32(e.level),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkNotificationFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.level=e.int32();break}case 2:{o.message=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.level!=null&&e.hasOwnProperty("level"))switch(e.level){default:return"level: enum value expected";case 1:case 2:case 3:break}return e.message!=null&&e.hasOwnProperty("message")&&!p.isString(e.message)?"message: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkNotificationFrame)return e;var t=new a.SdkNotificationFrame;switch(e.level){case"INFO":case 1:t.level=1;break;case"WARNING":case 2:t.level=2;break;default:if(typeof e.level=="number"){t.level=e.level;break}break;case"ERROR":case 3:t.level=3;break}return e.message!=null&&(t.message=String(e.message)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.level=t.enums===String?"ERROR":3,r.message=""),e.level!=null&&e.hasOwnProperty("level")&&(r.level=t.enums===String?a.SdkNotificationFrame.NotificationLevel[e.level]===void 0?e.level:a.SdkNotificationFrame.NotificationLevel[e.level]:e.level),e.message!=null&&e.hasOwnProperty("message")&&(r.message=e.message),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkNotificationFrame"},"getTypeUrl"),s.NotificationLevel=function(){var i={},e=Object.create(i);return e[i[1]="INFO"]=1,e[i[2]="WARNING"]=2,e[i[3]="ERROR"]=3,e}(),s}(),a.SdkPrimaryMeetingJoinFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPrimaryMeetingJoinFrame"),s.prototype.credentials=null,s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPrimaryMeetingJoinFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(r.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPrimaryMeetingJoinFrame"},"getTypeUrl"),s}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPrimaryMeetingJoinAckFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPrimaryMeetingJoinAckFrame"},"getTypeUrl"),s}(),a.SdkPrimaryMeetingLeaveFrame=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkPrimaryMeetingLeaveFrame"),s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkPrimaryMeetingLeaveFrame;e.pos<r;){var f=e.uint32();switch(f>>>3){default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),s.fromObject=n(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),s.toObject=n(function(){return{}},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkPrimaryMeetingLeaveFrame"},"getTypeUrl"),s}(),a.SdkMeetingSessionCredentials=function(){function s(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return n(s,"SdkMeetingSessionCredentials"),s.prototype.attendeeId="",s.prototype.externalUserId="",s.prototype.joinToken="",s.create=n(function(e){return new s(e)},"create"),s.encode=n(function(e,t){return t||(t=m.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),s.encodeDelimited=n(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),s.decode=n(function(e,t){e instanceof h||(e=h.create(e));for(var r=t===void 0?e.len:e.pos+t,o=new a.SdkMeetingSessionCredentials;e.pos<r;){var f=e.uint32();switch(f>>>3){case 1:{o.attendeeId=e.string();break}case 2:{o.externalUserId=e.string();break}case 3:{o.joinToken=e.string();break}default:e.skipType(f&7);break}}return o},"decode"),s.decodeDelimited=n(function(e){return e instanceof h||(e=new h(e)),this.decode(e,e.uint32())},"decodeDelimited"),s.verify=n(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!p.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!p.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!p.isString(e.joinToken)?"joinToken: string expected":null},"verify"),s.fromObject=n(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),s.toObject=n(function(e,t){t||(t={});var r={};return t.defaults&&(r.attendeeId="",r.externalUserId="",r.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(r.joinToken=e.joinToken),r},"toObject"),s.prototype.toJSON=n(function(){return this.constructor.toObject(this,d.util.toJSONOptions)},"toJSON"),s.getTypeUrl=n(function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SdkMeetingSessionCredentials"},"getTypeUrl"),s}(),a.SdkVideoCodecCapability=function(){var s={},i=Object.create(s);return i[s[1]="VP8"]=1,i[s[2]="H264_BASELINE_PROFILE"]=2,i[s[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i[s[4]="H264_MAIN_PROFILE"]=4,i[s[5]="H264_HIGH_PROFILE"]=5,i[s[6]="H264_CONSTRAINED_HIGH_PROFILE"]=6,i[s[8]="VP9_PROFILE_0"]=8,i[s[11]="AV1_MAIN_PROFILE"]=11,i}(),V.exports=a,p.Long=void 0,d.configure()},2020561361:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(8486874086),p=c(5527154335),a=h(c(6332689210));let s=n(class{makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const r=new m.Sha256(t);return r.update(e),r.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,r,o){return d(this,void 0,void 0,function*(){const f=yield this.hmac(t,"AWS4"+e),g=yield this.hmac(r,f),v=yield this.hmac(o,g);return yield this.hmac("aws4_request",v)})}signURL(e,t,r,o,f,g,v){return d(this,void 0,void 0,function*(){const u=this.getDateTimeString(),S=this.getDateString(u),_="AWS4-HMAC-SHA256";let b="";this.chimeClient.config.region instanceof Function?b=yield this.chimeClient.config.region():b=this.chimeClient.config.region;const E="host",T="host:"+o.toLowerCase()+`
`,I=S+"/"+b+"/"+r+"/aws4_request";let A;this.chimeClient.config.credentials instanceof Function?A=yield this.chimeClient.config.credentials():A=this.chimeClient.config.credentials;let w=new Map;w.set("X-Amz-Algorithm",[_]),w.set("X-Amz-Credential",[encodeURIComponent(A.accessKeyId+"/"+I)]),w.set("X-Amz-Date",[u]),w.set("X-Amz-Expires",["10"]),w.set("X-Amz-SignedHeaders",["host"]),A.sessionToken&&w.set("X-Amz-Security-Token",[encodeURIComponent(A.sessionToken)]),w.set(a.default.X_AMZN_VERSION,[encodeURIComponent(a.default.sdkVersion)]),w.set(a.default.X_AMZN_USER_AGENT,[encodeURIComponent(a.default.sdkUserAgentLowResolution)]),v==null||v.forEach((he,ge)=>{const Pe=encodeURIComponent(ge);he.sort().forEach(He=>{w.has(Pe)||w.set(Pe,[]),w.get(Pe).push(encodeURIComponent(He))})});let R="";w=new Map([...w.entries()].sort()),w.forEach((he,ge)=>{he.forEach(Pe=>{R.length&&(R+="&"),R+=ge+"="+Pe})});const P=e+`
`+f+`
`+R+`
`+T+`
`+E+`
`+p.toHex(yield this.hmac(g)),x=p.toHex(yield this.hmac(P)),z=`AWS4-HMAC-SHA256
`+u+`
`+S+"/"+b+"/"+r+`/aws4_request
`+x,Z=yield this.getSignatureKey(A.secretAccessKey,S,b,r),re=p.toHex(yield this.hmac(z,Z)),ne=R+"&X-Amz-Signature="+re;return t+"://"+o+f+"?"+ne})}constructor(e){this.chimeClient=e}},"DefaultSigV4");l.default=s},568851064:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SimulcastLayers=void 0;var c;(function(d){d[d.Low=0]="Low",d[d.LowAndMedium=1]="LowAndMedium",d[d.LowAndHigh=2]="LowAndHigh",d[d.Medium=3]="Medium",d[d.MediumAndHigh=4]="MediumAndHigh",d[d.High=5]="High"})(c=l.SimulcastLayers||(l.SimulcastLayers={})),l.default=c},1577470520:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AudioLogEvent=void 0;var c;(function(d){d[d.DeviceChanged=0]="DeviceChanged",d[d.MutedLocal=1]="MutedLocal",d[d.UnmutedLocal=2]="UnmutedLocal",d[d.Connected=3]="Connected",d[d.ConnectFailed=4]="ConnectFailed",d[d.RedmicStartLoss=5]="RedmicStartLoss",d[d.RedmicEndLoss=6]="RedmicEndLoss"})(c=l.AudioLogEvent||(l.AudioLogEvent={})),l.default=c},6181421370:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(S,_,b,E){function T(I){return I instanceof b?I:new b(function(A){A(I)})}return n(T,"adopt"),new(b||(b=Promise))(function(I,A){function w(x){try{P(E.next(x))}catch(z){A(z)}}n(w,"fulfilled");function R(x){try{P(E.throw(x))}catch(z){A(z)}}n(R,"rejected");function P(x){x.done?I(x.value):T(x.value).then(w,R)}n(P,"step"),P((E=E.apply(S,_||[])).next())})},h=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(3713066448)),p=h(c(3071240545)),a=h(c(3967449568)),s=h(c(7244701833)),i=h(c(5426637611)),e=h(c(9382604560)),t=h(c(1753005041)),r=h(c(5790858051)),o=c(7613896012),f=c(9671487336),g=h(c(1577470520)),v=h(c(254386585));let u=n(class _p{toAttribute(_){return this.toSuffix(_).substring(1)}toSuffix(_){return _.toLowerCase()===_?`_${_}`:_.toUpperCase()===_?`_${_.toLowerCase()}`:_.replace(/([A-Z][a-z]+)/g,function(b){return`_${b}`}).replace(/([A-Z][A-Z]+)/g,function(b){return`_${b}`}).toLowerCase()}logLatency(_,b,E){const T=this.toSuffix(_);this.logEventTime("meeting"+T,b,E)}logStateTimeout(_,b){const E=this.toSuffix(_);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},b),{state:`state${E}`}))}logAudioEvent(_,b){const E="audio"+this.toSuffix(g.default[_]);this.logEvent(E,b)}logVideoEvent(_,b){const E="video"+this.toSuffix(v.default[_]);this.logEvent(E,b)}logEventTime(_,b){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=Object.assign(Object.assign({},E),{call_id:this.audioVideoController.configuration.meetingId,client_type:_p.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${_}: ${JSON.stringify(T)}`),this.metricsAddTime(_,b,T)}logMeetingSessionStatus(_){const b=`${_.statusCode()}`;this.logEvent(b);const E={status:b,status_code:`${_.statusCode()}`};this.logEvent("meeting_session_status",E),_.isTerminal()&&this.logEvent("meeting_session_stopped",E),_.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",E),_.isFailure()&&this.logEvent("meeting_session_failed",E)}logLifecycleEvent(_,b){const E={lifecycle_event:`lifecycle${this.toSuffix(e.default[_])}`,lifecycle_event_code:`${_}`,lifecycle_event_condition:`condition${this.toSuffix(t.default[b])}`,lifecycle_event_condition_code:`${b}`};this.logEvent("meeting_session_lifecycle",E)}logEvent(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=Object.assign(Object.assign({},b),{call_id:this.audioVideoController.configuration.meetingId,client_type:_p.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${_}: ${JSON.stringify(E)}`),this.metricsLogEvent(_,E)}start(_,b){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=_,this.videoStreamIndex=b,this.clientMetricReport=new m.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new r.default(this.interval),this.intervalScheduler.start(()=>d(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}videoTileResolutionDidChange(_,b,E){this.resolutionMap.set(_,{width:b,height:E})}videoTileUnbound(_){this.resolutionMap.delete(_)}updateMetricValues(_,b){const E=b?this.clientMetricReport.streamMetricReports[Number(_.ssrc)]:this.clientMetricReport.globalMetricReport;let T;if(b){const I=E.mediaType,A=E.direction;T=this.clientMetricReport.getMetricMap(I,A),I===a.default.VIDEO&&A===p.default.DOWNSTREAM&&this.addRenderResolutionToVideoDownstreamMetrics(E,_.ssrc)}else T=this.clientMetricReport.getMetricMap();for(const I in _)I in T&&(typeof _[I]=="number"?(E.previousMetrics[I]=E.currentMetrics[I],E.currentMetrics[I]=_[I]):typeof _[I]=="string"?E.currentStringMetrics[I]=_[I]:typeof _[I]=="object"?(E.previousObjectMetrics[I]=E.currentObjectMetrics[I]===void 0?_[I]:E.currentObjectMetrics[I],E.currentObjectMetrics[I]=_[I]):this.logger.error(`Unknown metric value type ${typeof _[I]} for metric ${I}`))}processRawMetricReports(_){this.clientMetricReport.currentSsrcs={};const b=Date.now();for(const E of _){if(this.isVideoSourceMetricReport(E))continue;const T=this.isStreamRawMetricReport(E);if(T){const I=this.clientMetricReport.streamMetricReports[Number(E.ssrc)];if(I)I.mediaType===a.default.VIDEO&&I.direction===p.default.UPSTREAM?I.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(E.rid):I.streamId=this.videoStreamIndex.streamIdForSSRC(Number(E.ssrc));else{const A=new i.default;A.mediaType=this.getMediaType(E),A.direction=this.getDirectionType(E),A.mediaType===a.default.VIDEO&&A.direction===p.default.UPSTREAM?A.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(E.rid):this.videoStreamIndex.allStreams().empty()||(A.streamId=this.videoStreamIndex.streamIdForSSRC(Number(E.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(A.groupId=this.videoStreamIndex.groupIdForSSRC(Number(E.ssrc)))),this.clientMetricReport.streamMetricReports[Number(E.ssrc)]=A}this.clientMetricReport.currentSsrcs[Number(E.ssrc)]=1}this.updateMetricValues(E,T)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=b,this.clientMetricReport.print()}addStreamMetricDimensionFrames(_,b){const E=this.clientMetricReport.getStreamDimensionMap();for(const T in b.currentStringMetrics)if(T in E){const I=o.SdkStreamDimension.create();I.type=E[T];const A=o.SdkDimensionValue.create();A.stringValue=b.currentStringMetrics[T],I.value=A,_.dimensions.push(I)}}addMetricFrame(_,b,E,T){const I=E.type,A=E.transform,w=E.source,R=b.streamMetricFrames.length,P=b.streamMetricFrames[R-1];if(I){const x=o.SdkMetric.create();x.type=I,x.value=A(w||_,T),T?P.metrics.push(x):b.globalMetrics.push(x)}}addGlobalMetricsToProtobuf(_){const b=this.clientMetricReport.getMetricMap();for(const E in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(E,_,b[E])}addStreamMetricsToProtobuf(_){for(const b in this.clientMetricReport.streamMetricReports){const E=this.clientMetricReport.streamMetricReports[b],T=o.SdkStreamMetricFrame.create();T.streamId=E.streamId,T.mediaType=E.mediaType===a.default.AUDIO?o.SdkStreamMediaType.AUDIO:o.SdkStreamMediaType.VIDEO,T.metrics=[],this.addStreamMetricDimensionFrames(T,E),_.streamMetricFrames.push(T);const I=this.clientMetricReport.getMetricMap(E.mediaType,E.direction);for(const A in I)this.hasMetricDependenciesInReport(A,E)&&this.addMetricFrame(A,_,I[A],Number(b))}}hasMetricDependenciesInReport(_,b){return _==="decoderLoss"&&b.currentMetrics.concealedSamples!==void 0&&b.currentMetrics.totalSamplesReceived!==void 0||_==="jitterBufferMs"&&b.currentMetrics.jitterBufferDelay!==void 0&&b.currentMetrics.jitterBufferEmittedCount!==void 0||_ in b.currentMetrics||_ in b.currentStringMetrics||_ in b.currentObjectMetrics}makeClientMetricProtobuf(){const _=o.SdkClientMetricFrame.create();return _.globalMetrics=[],_.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(_),this.addStreamMetricsToProtobuf(_),_}sendClientMetricProtobuf(_){this.signalingClient.sendClientMetrics(_)}isStreamRawMetricReport(_){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(_.type)||this.isVideoSourceMetricReport(_)}getMediaType(_){return _.kind==="audio"?a.default.AUDIO:a.default.VIDEO}getDirectionType(_){const{type:b}=_;return b==="inbound-rtp"||b==="remote-outbound-rtp"||b==="inbound-rtp-red"?p.default.DOWNSTREAM:p.default.UPSTREAM}isValidStandardRawMetric(_){return _.type==="inbound-rtp"||_.type==="inbound-rtp-red"||_.type==="outbound-rtp"||_.type==="remote-inbound-rtp"||_.type==="remote-outbound-rtp"||_.type==="candidate-pair"&&_.state==="succeeded"||_.type==="media-source"}isValidSsrc(_){let b=!0;return this.isStreamRawMetricReport(_)&&this.getDirectionType(_)===p.default.DOWNSTREAM&&this.getMediaType(_)===a.default.VIDEO&&(b=this.videoStreamIndex.streamIdForSSRC(Number(_.ssrc))>0),b}isValidRawMetricReport(_){return this.isValidStandardRawMetric(_)&&this.isValidSsrc(_)}filterRawMetricReports(_){const b=[];for(const E of _)this.isValidRawMetricReport(E)&&b.push(E);return b}handleRawMetricReports(_){const b=this.filterRawMetricReports(_);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(b)}`);const E=[];this.maybeAddRedRecoveryMetrics(E);const T=this.getVideoUpstreamSsrcFromRawMetricReports(b);T!==null&&this.addVideoCodecDegradationMetrics(E,T),this.clientMetricReport.customStatsReports=E,b.push(...E),this.processRawMetricReports(b),this.updateVideoSourceMetrics(b);const I=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(I),this.audioVideoController.forEachObserver(A=>{f.Maybe.of(A.metricsDidReceive).map(w=>w.bind(A)(this.clientMetricReport.clone()))})}getStatsWrapper(){return d(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const _=[];try{const b=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=b,b.forEach(E=>{_.push(E)}),this.handleRawMetricReports(_)}catch(b){this.logger.error(b.message)}})}overrideObservableMetric(_,b){this.clientMetricReport.overrideObservableMetric(_,b)}recoveryMetricsDidReceive(_){this.redRecoveryMetricReport=_}maybeAddRedRecoveryMetrics(_){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(_.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}videoCodecDegradationHighEncodeCpuDidReceive(){this.videoCodecDegradationHighEncodeCpuCount+=1}videoCodecDegradationEncodeFailureDidReceive(){this.videoCodecDegradationEncodeFailureCount+=1}addVideoCodecDegradationMetrics(_,b){_.push({kind:"video",type:"outbound-rtp",ssrc:b,timestamp:Date.now(),videoCodecDegradationHighEncodeCpu:this.videoCodecDegradationHighEncodeCpuCount,videoCodecDegradationEncodeFailure:this.videoCodecDegradationEncodeFailureCount}),this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0}getVideoUpstreamSsrcFromRawMetricReports(_){for(const b of _)if(this.isStreamRawMetricReport(b)&&this.getMediaType(b)===a.default.VIDEO&&this.getDirectionType(b)===p.default.UPSTREAM)return b.ssrc;return null}isVideoSourceMetricReport(_){return _.type==="media-source"&&_.kind==="video"}addRenderResolutionToVideoDownstreamMetrics(_,b){const E=this.videoStreamIndex.streamIdForSSRC(Number(b)),T=this.videoStreamIndex.attendeeIdForStreamId(E);if(E===void 0||T===""){this.logger.warn(`No attendee found for ssrc ${b}`);return}this.resolutionMap.has(T)&&(_.currentMetrics.videoRenderWidth=this.resolutionMap.get(T).width,_.currentMetrics.videoRenderHeight=this.resolutionMap.get(T).height)}updateVideoSourceMetrics(_){for(const b of _)if(this.isVideoSourceMetricReport(b)){const E=this.clientMetricReport.getVideoUpstreamSsrcs();if(E.length===0){this.logger.warn("No video upstream ssrcs found");return}for(const T of E)this.clientMetricReport.streamMetricReports[T].currentMetrics.videoInputWidth=b.width,this.clientMetricReport.streamMetricReports[T].currentMetrics.videoInputHeight=b.height}}constructor(_,b,E=_p.INTERVAL_MS){this.audioVideoController=_,this.logger=b,this.interval=E,this.intervalScheduler=null,this.redRecoveryMetricReport=new s.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0,this.resolutionMap=new Map,this.metricsAddTime=(T,I,A)=>{},this.metricsLogEvent=(T,I)=>{}}},"StatsCollector");l.default=u,u.INTERVAL_MS=1e3,u.CLIENT_TYPE="amazon-chime-sdk-js"},254386585:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoLogEvent=void 0;var c;(function(d){d[d.InputAttached=0]="InputAttached",d[d.SendingFailed=1]="SendingFailed",d[d.SendingSuccess=2]="SendingSuccess"})(c=l.VideoLogEvent||(l.VideoLogEvent={})),l.default=c},8563305537:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(254386585)),p=h(c(748822893));let a=n(class extends p.default{run(){return d(this,void 0,void 0,function*(){const i=this.context.transceiverController;i.setPeer(this.context.peer),i.setupLocalTransceivers();const e=this.context.activeAudioInput;if(e){const r=e.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield i.setAudioInput(r.length?r[0]:null)}else yield i.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();const t=this.context.activeVideoInput;if(t){const r=t.getVideoTracks(),o=r.length?r[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield i.setVideoInput(o),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const f=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();i.setEncodingParameters(f)}o&&this.context.statsCollector.logVideoEvent(m.default.InputAttached,this.context.videoDeviceInformation)}else yield i.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=i.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive),this.context.videoStreamIndex.subscribeFrameSent()})}setAudioCodecPreferences(){const i=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,e=this.context.audioProfile.hasRedundancyEnabled();if(!i){this.context.logger.warn("Setting codec preferences not supported");return}const t=this.context.transceiverController.localAudioTransceiver(),{codecs:r}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug(`Available audio codecs ${JSON.stringify(r,null,4)}`);const o=r.findIndex(f=>f.mimeType==="audio/red");if(!t){this.context.logger.error("audio transceiver is null");return}if(o>=0){const f=r[o];r.splice(o,1),e?(r.unshift(f),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),t.setCodecPreferences(r);return}this.context.logger.info("audio/red codec not supported")}constructor(i){super(i.logger),this.context=i,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");l.default=a},748822893:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6028869909)),p=h(c(8089523986));let a=n(class{once(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return new m.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(i){this.parentTask=i}getStatus(){return this.status}logAndThrow(i){throw this.logger.info(i),new Error(i)}baseRun(i){return d(this,void 0,void 0,function*(){try{const e=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case p.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case p.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case p.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=p.default.RUNNING,yield i.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-e)} ms`)}catch(e){throw e}finally{this.status!==p.default.CANCELED&&(this.status=p.default.FINISHED)}})}baseCancel(i){if(this.status===p.default.CANCELED||this.status===p.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=p.default.CANCELED,i.call(this)}constructor(i){this.logger=i,this.taskName="BaseTask",this.parentTask=null,this.status=p.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");l.default=a},4989012661:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(748822893));let p=n(class extends m.default{run(){return d(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(s){super(s.logger),this.context=s,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");l.default=p},957321624:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6103584604)),p=h(c(748822893));let a=n(class extends p.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(i){throw i}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const i=this.context.videoTileController.getLocalVideoTile();i&&i.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((i,e)=>{let t=n(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(f){f.type===m.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),i())}constructor(f){this.signalingClient=f}},"Interceptor");const r=new t(this.context.signalingClient);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)})}constructor(i){super(i.logger),this.context=i,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");l.default=a},9342672808:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(748822893));let p=n(class extends m.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const s in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[s]()}addPeerConnectionEventLogger(){const s=this.context.peer;s.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${s.connectionState}`)}),s.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),s.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${s.iceGatheringState}`)}),s.addEventListener("icecandidate",i=>{this.context.logger.info(`peer connection ice candidate: ${i.candidate?i.candidate.candidate:"(null)"}`)}),s.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${s.iceConnectionState}`)})}run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const i=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};i.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),i.sdpSemantics="unified-plan",i.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(i),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(s){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(s)):!1}addRemoteVideoTrack(s,i){var e;const t=i.id,r=this.context.videoStreamIndex.attendeeIdForTrack(t);let o,f;if(this.context.videoTileController.getVideoTileForAttendeeId?(f=this.context.videoTileController.getVideoTileForAttendeeId(r),o=!!(!((e=f==null?void 0:f.state())===null||e===void 0)&&e.boundVideoStream)):o=this.context.videoTileController.haveVideoTileForAttendeeId(r),o){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${r}`);return}f||(f=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${f.id()}`));let g=this.context.videoStreamIndex.streamIdForTrack(t);typeof g>"u"&&(this.logger.warn(`stream not found for tile=${f.id()} track=${t}`),g=null);let v=this.context.videoStreamIndex.groupIdForStreamId(g);v===void 0&&(v=null);for(let I=0;I<this.trackEvents.length;I++){const A=this.trackEvents[I],w=i.getVideoTracks();if(w&&w.length){const R=w[0],P=n(()=>{this.context.logger.info(`received the ${A} event for tile=${f.id()} id=${s.id} streamId=${g}`),A==="ended"&&this.removeRemoteVideoTrack(s,f.state())},"callback");R.addEventListener(A,P),this.removeVideoTrackEventListeners[s.id]||(this.removeVideoTrackEventListeners[s.id]=[]),this.removeVideoTrackEventListeners[s.id].push(()=>{R.removeEventListener(A,P)})}}let u,S;if(s.getSettings){const I=s.getSettings();u=I.width,S=I.height}else{const I=s.getCapabilities();u=I.width,S=I.height}const _=this.context.videoStreamIndex.externalUserIdForTrack(t);f.bindVideoStream(r,!1,i,u,S,g,_,v),this.logger.info(`video track added, use tile=${f.id()} track=${t} streamId=${g} groupId=${v}`);const b="removetrack",E=i,T=n(()=>this.removeRemoteVideoTrack(s,f.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[s.id]=()=>{E.removeEventListener(b,T),delete this.removeTrackRemovedEventListeners[s.id]},E.addEventListener(b,T)}removeRemoteVideoTrack(s,i){if(this.removeTrackRemovedEventListeners.hasOwnProperty(s.id)){this.removeTrackRemovedEventListeners[s.id]();for(const e of this.removeVideoTrackEventListeners[s.id])e();delete this.removeVideoTrackEventListeners[s.id]}this.logger.info(`video track ended, removing tile=${i.tileId} id=${s.id} stream=${i.streamId}`),i.streamId?this.context.videosPaused.remove(i.streamId):this.logger.warn(`no stream found for tile=${i.tileId}`),this.context.videoTileController.removeVideoTile(i.tileId)}constructor(s){super(s.logger),this.context=s,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=i=>{const e=i.track;if(this.context.logger.info(`received track event: kind=${e.kind} id=${e.id} label=${e.label}`),i.transceiver&&i.transceiver.currentDirection==="inactive")return;if(i.streams.length===0){this.context.logger.warn("Track event but no stream");return}const t=i.streams[0];e.kind==="audio"?this.context.audioMixController.bindAudioStream(t):e.kind==="video"&&!this.trackIsVideoInput(e)&&this.addRemoteVideoTrack(e,t)}}},"CreatePeerConnectionTask");l.default=p,p.REMOVE_HANDLER_INTERVAL_MS=1e4},7771209539:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(946491843)),p=h(c(9970179348)),a=h(c(748822893));let s=n(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(!((t=(e=this.context.meetingSessionConfiguration)===null||e===void 0?void 0:e.urls)===null||t===void 0)&&t.audioHostURL)}sessionUsesVideo(){let t;this.context.transceiverController.useTransceivers()?t=this.context.transceiverController.hasVideoInput():t=this.context.videoTileController.hasStartedLocalVideoTile();const r=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),o=t||r;return this.context.logger.info(`uses video: ${o} (enabled: ${!0}, sending: ${t}, receiving: ${r})`),o}run(){return d(this,void 0,void 0,function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise((t,r)=>d(this,void 0,void 0,function*(){this.cancelPromise=o=>{r(o)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new p.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const o=new Error(`canceling ${this.name()} due to the meeting status code: ${m.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,r(o);return}t()}catch(o){r(o)}finally{delete this.cancelPromise}}))})}constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}},"CreateSDPTask");l.default=s},4998646945:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(946491843)),p=h(c(9970179348)),a=h(c(748822893));let s=n(class zv extends a.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${m.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return d(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new p.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new p.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((e,t)=>{this.cancelPromise=r=>{this.removeEventListener(),t(r)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),e(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=r=>{if(this.context.logger.info(`ice candidate: ${r.candidate?r.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),r.candidate&&(p.default.isRTPCandidate(r.candidate.candidate)&&this.context.iceCandidates.push(r.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new p.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(t(new Error("no ice candidates were gathered")),delete this.cancelPromise):(e(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(e,t=zv.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");l.default=s,s.CHROME_VPN_TIMEOUT_MS=5e3},1413840948:function(V,l,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(u,S,_,b){b===void 0&&(b=_),Object.defineProperty(u,b,{enumerable:!0,get:function(){return S[_]}})}:function(u,S,_,b){b===void 0&&(b=_),u[b]=S[_]}),h=this&&this.__setModuleDefault||(Object.create?function(u,S){Object.defineProperty(u,"default",{enumerable:!0,value:S})}:function(u,S){u.default=S}),m=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var S={};if(u!=null)for(var _ in u)_!=="default"&&Object.prototype.hasOwnProperty.call(u,_)&&d(S,u,_);return h(S,u),S},p=this&&this.__awaiter||function(u,S,_,b){function E(T){return T instanceof _?T:new _(function(I){I(T)})}return n(E,"adopt"),new(_||(_=Promise))(function(T,I){function A(P){try{R(b.next(P))}catch(x){I(x)}}n(A,"fulfilled");function w(P){try{R(b.throw(P))}catch(x){I(x)}}n(w,"rejected");function R(P){P.done?T(P.value):E(P.value).then(A,w)}n(R,"step"),R((b=b.apply(u,S||[])).next())})},a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0});const s=a(c(1984577674)),i=a(c(946491843)),e=a(c(5922047127)),t=m(c(1382242439)),r=a(c(6103584604)),o=a(c(1967512172)),f=c(7613896012),g=a(c(748822893));let v=n(class extends g.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return p(this,void 0,void 0,function*(){const S=yield new Promise((_,b)=>{const E=this.context;E.turnCredentials=null;let T=n(class{cancel(){this.signalingClient.removeObserver(this),b(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(R){if(R.type===r.default.WebSocketClosed){let x=`The signaling connection was closed with code ${R.closeCode} and reason: ${R.closeReason}`;E.logger.warn(x);let z=i.default.SignalingBadRequest;R.closeCode===4410?(x="The meeting already ended.",E.logger.warn(x),z=i.default.MeetingEnded):R.closeCode>=4500&&R.closeCode<4600&&(z=i.default.SignalingInternalServerError),E.audioVideoController.handleMeetingSessionStatus(new s.default(z),new Error(x));return}if(R.type!==r.default.ReceivedSignalFrame)return;if(R.message.type===f.SdkSignalFrame.Type.JOIN_ACK){const x=R.message.joinack;if(!x){E.audioVideoController.handleMeetingSessionStatus(new s.default(i.default.SignalingRequestFailed),new Error("Join ACK message did not include expected frame"));return}if(x.videoSubscriptionLimit&&(E.videoSubscriptionLimit=x.videoSubscriptionLimit),E.serverSupportsCompression=x.wantsCompressedSdp,x.defaultServerSideNetworkAdaption!==void 0&&x.defaultServerSideNetworkAdaption!==t.default.Default&&E.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const z=x.defaultServerSideNetworkAdaption;E.logger.info(`Overriding server side network adaption value to ${z}`),E.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(t.convertServerSideNetworkAdaptionEnumFromSignaled(z))}x&&x.turnCredentials?(E.turnCredentials=new e.default,E.turnCredentials.username=x.turnCredentials.username,E.turnCredentials.password=x.turnCredentials.password,E.turnCredentials.ttl=x.turnCredentials.ttl,E.turnCredentials.uris=x.turnCredentials.uris.map(z=>E.meetingSessionConfiguration.urls.urlRewriter(z)).filter(z=>!!z)):E.logger.error("missing TURN credentials in JoinAckFrame");return}if(R.message.type!==f.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const P=R.message.index;_(P)}constructor(R){this.signalingClient=R}},"IndexFrameInterceptor");const I=new T(this.context.signalingClient);this.context.signalingClient.registerObserver(I),this.taskCanceler=I,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const A=new o.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(A.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),A.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex!==void 0&&(A.wantsAllTemporalLayersInIndex=this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex()),A.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(A)});this.context.logger.info(`received first index ${JSON.stringify(S)}`),this.context.indexFrame=S})}constructor(S){super(S.logger),this.context=S,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");l.default=v},9994936499:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6103584604)),p=c(7613896012),a=h(c(748822893));let s=n(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((e,t)=>{let r=n(class{cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(g){if(g.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),e();return}g.type===m.default.ReceivedSignalFrame&&g.message.type===p.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}constructor(g,v){this.signalingClient=g,this.logger=v}},"Interceptor");const o=new r(this.context.signalingClient,this.context.logger);this.taskCanceler=o,this.context.signalingClient.registerObserver(o)})}constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");l.default=s},611997860:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6103584604)),p=c(7613896012),a=h(c(748822893));let s=n(class extends a.default{run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===m.default.ReceivedSignalFrame){if(e.message.type===p.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===p.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=t=>{this.context.signalingClient.mute(t)}}},"ListenForVolumeIndicatorsTask");l.default=s},785230680:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(b,E,T,I){function A(w){return w instanceof T?w:new T(function(R){R(w)})}return n(A,"adopt"),new(T||(T=Promise))(function(w,R){function P(Z){try{z(I.next(Z))}catch(re){R(re)}}n(P,"fulfilled");function x(Z){try{z(I.throw(Z))}catch(re){R(re)}}n(x,"rejected");function z(Z){Z.done?w(Z.value):A(Z.value).then(P,x)}n(z,"step"),z((I=I.apply(b,E||[])).next())})},h=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(3071240545)),p=h(c(3967449568)),a=h(c(4479085271)),s=h(c(7361429724)),i=h(c(5618615883)),e=h(c(9145095843)),t=h(c(1984577674)),r=h(c(946491843)),o=h(c(5152481786)),f=h(c(6103584604)),g=c(7613896012),v=h(c(1577470520)),u=c(9671487336),S=h(c(748822893));let _=n(class extends S.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(E){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(E){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=E;return}else this.pendingMetricsReport=void 0;const T=E.getObservableMetrics(),I=T.availableOutgoingBitrate,A=T.nackCountReceivedPerSecond;let w=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(E);const R=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(w=w||R,R){const P=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=P.truncate(this.context.videoSubscriptionLimit),P.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${R}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:I/1e3,nackCountPerSecond:A});const P=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();w=w||P,P&&(this.logger.info(`trigger resubscribe for up=${P}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters())}return w}metricsDidReceive(E){if(this.checkResubscribe(E)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const T=E.streamMetricReports,I=new Map;for(const A in T)T[A].mediaType===p.default.VIDEO&&T[A].direction===m.default.DOWNSTREAM&&I.set(T[A].streamId,T[A])}connectionHealthDidChange(E){E.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,E,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new t.default(r.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,E,()=>{var T;this.context.poorConnectionCount+=1;const I=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(T=this.context.eventController)===null||T===void 0||T.publishEvent("receivingAudioDropped",I),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(A=>{u.Maybe.of(A.connectionDidSuggestStopVideo).map(w=>w.bind(A)())}):this.context.audioVideoController.forEachObserver(A=>{u.Maybe.of(A.connectionDidBecomePoor).map(w=>w.bind(A)())})},()=>{this.context.audioVideoController.forEachObserver(T=>{u.Maybe.of(T.connectionDidBecomeGood).map(I=>I.bind(T)())})});for(const T of this.videoEncodingHealthPolicies)this.applyHealthPolicy(T,E,()=>{switch(this.degradeVideoCodec(T.name),T.name){case e.default.VideoEncodingCpuHealth:this.context.statsCollector.videoCodecDegradationHighEncodeCpuDidReceive();break;case e.default.VideoEncodingFramerateHealth:this.context.statsCollector.videoCodecDegradationEncodeFailureDidReceive();break}});this.context.isSessionConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,E,()=>{var T;const I=this.generateBaseAudioVideoEventAttributes();(T=this.context.eventController)===null||T===void 0||T.publishEvent("sendingAudioFailed",I)},()=>{var T;const I=this.generateBaseAudioVideoEventAttributes();(T=this.context.eventController)===null||T===void 0||T.publishEvent("sendingAudioRecovered",I)})}applyHealthPolicy(E,T,I,A){E.update(T);const w=E.healthIfChanged();w!==null&&(this.logger.info(`${E.name} value is now ${w}`),w<=E.minimumHealth()?u.Maybe.of(I).map(R=>R.bind(this)()):u.Maybe.of(A).map(R=>R.bind(this)()))}handleBitrateFrame(E){this.currentAvailableStreamAvgBitrates=E,E.serverAvailableOutgoingBitrate>0&&(this.logger.info(`Received server side estimation of available incoming bitrate ${E.serverAvailableOutgoingBitrate}kbps`),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",E.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(E){var T;if(E.type===f.default.WebSocketClosed&&this.isUnexpectedWebsocketCloseCode(E.closeCode)||E.type===f.default.WebSocketError||E.type===f.default.WebSocketFailed){if(E.type===f.default.WebSocketClosed&&this.context.logger.info(`The signaling connection was closed with code ${E.closeCode} and reason: ${E.closeReason}`),!this.hasSignalingError){const I=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(T=this.context.eventController)===null||T===void 0||T.publishEvent("signalingDropped",I),this.hasSignalingError=!0}this.context.isSessionConnected&&this.context.audioVideoController.handleMeetingSessionStatus(new t.default(this.isInternalServerFailureCloseCode(E.closeCode)?r.default.SignalingInternalServerError:r.default.SignalingChannelClosedUnexpectedly),null)}else E.type===f.default.WebSocketOpen&&(this.hasSignalingError=!1);if(E.type===f.default.ReceivedSignalFrame){if(E.message.type===g.SdkSignalFrame.Type.NOTIFICATION){switch(E.message.notification.level){case g.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info(`Received notification from server: ${E.message.notification.message}`);break;case g.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn(`Received warning from server: ${E.message.notification.message}`);break;case g.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error(`Received error from server: ${E.message.notification.message}`);break;default:this.logger.error(`Received notification from server with unknown level ${E.message.notification.level}: ${E.message.notification.message}`);break}return}if(E.message.bitrates){const A=E.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(A),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(E.message.bitrates)}const I=t.default.fromSignalFrame(E.message);E.message.type!==g.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&I.statusCode()!==r.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(I,null)}}isUnexpectedWebsocketCloseCode(E){return E===1006||this.isInternalServerFailureCloseCode(E)}isInternalServerFailureCloseCode(E){return E>=4500&&E<4600}degradeVideoCodec(E){if(this.context.meetingSupportedVideoSendCodecPreferences!==void 0&&this.context.meetingSupportedVideoSendCodecPreferences.length>1&&!(this.context.meetingSupportedVideoSendCodecPreferences[0].equals(o.default.h264ConstrainedBaselineProfile())||this.context.meetingSupportedVideoSendCodecPreferences[0].equals(o.default.vp8()))){const T=[];for(const I of this.context.videoSendCodecPreferences)I.equals(this.context.meetingSupportedVideoSendCodecPreferences[0])||T.push(I);T.length>0?(this.context.logger.info(`Downgrading codec from ${this.context.meetingSupportedVideoSendCodecPreferences[0].codecName} to ${T[0].codecName} due to ${E}`),this.context.degradedVideoSendCodecs.push(this.context.meetingSupportedVideoSendCodecPreferences[0]),this.context.meetingSupportedVideoSendCodecPreferences=T,this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),this.context.audioVideoController.update({needsRenegotiation:!0})):this.context.logger.warn(`Degrading video codec failed since there is no alternative codec to select. Currently degraded codecs: ${this.context.degradedVideoSendCodecs.map(I=>I.codecName).join(",")}`)}}constructor(E,T,I){super(E.logger),this.context=E,this.initialConnectionHealthData=I,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.videoEncodingHealthPolicies=[],this.checkAndSendWeakSignalEvent=A=>{const w=A<1,R=this.prevSignalStrength<1,P=w?R?null:v.default.RedmicStartLoss:R?v.default.RedmicEndLoss:null;P&&this.context.statsCollector.logAudioEvent(P),this.prevSignalStrength=A},this.realtimeFatalErrorCallback=A=>{this.logger.error(`realtime error: ${A}: ${A.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new t.default(r.default.RealtimeApiFailed),A)},this.realtimeAttendeeIdPresenceHandler=(A,w)=>{var R;const P=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${P}`),P===A&&w&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(R=this.context.eventController)===null||R===void 0||R.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:A,startTimeMs:w,iceGatheringDurationMs:R,attendeePresenceDurationMs:P,meetingStartDurationMs:x}=this.context;return{meetingDurationMs:w===null?0:Math.round(Date.now()-w),signalingOpenDurationMs:A,iceGatheringDurationMs:R,attendeePresenceDurationMs:P,meetingStartDurationMs:x}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const A=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},A),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(E.logger,Object.assign({},T),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},T),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new s.default(E.logger,Object.assign({},T),this.initialConnectionHealthData.clone());for(const A of T.videoEncodingHealthPolicies)this.videoEncodingHealthPolicies.push(new A(Object.assign({},T),this.initialConnectionHealthData.clone()))}},"MonitorTask");l.default=_},4401930660:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(h){}},"NoOpTask");l.default=c},6028869909:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(152907414)),m=d(c(3066440630));let p=n(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const s of this.dependencies)s.cancel();this.logger.info(`Canceling ${this.name()}`),m.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&m.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>h.default.INFO||!this.dependencies)return;const s=this.dependencies.filter(i=>i).map(i=>i.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${s}`)}run(){if(this.promise)return this.promise;const s=this.dependencies?Promise.all(this.dependencies.map(i=>i==null?void 0:i.run())):Promise.resolve();return this.logDependencies(),this.ongoing=s.then(()=>this.task.run()),this.promise=new Promise((i,e)=>{this.cancelPromise=e,this.ongoing.then(i).catch(e)})}setParent(s){this.task.setParent(s)}constructor(s,i,e){this.logger=s,this.task=i,this.dependencies=e,this.canceled=!1}},"OnceTask");l.default=p},9157601162:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8527332165)),p=h(c(6103584604)),a=h(c(748822893));let s=n(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new m.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise((r,o)=>{let f=n(class{cancel(){this.signalingClient.removeObserver(this),o(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(u){switch(u.type){case p.default.WebSocketOpen:this.signalingClient.removeObserver(this),r();break;case p.default.WebSocketFailed:this.signalingClient.removeObserver(this),o(new Error("WebSocket connection failed"));break}}constructor(u){this.signalingClient=u}},"WebSocketOpenInterceptor");const g=new f(this.context.signalingClient);this.context.signalingClient.registerObserver(g),this.taskCanceler=g})}catch(r){throw r}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");l.default=s},3087911396:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(748822893));let p=n(class extends m.default{cancel(){for(const s of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${s.name()}`),s.cancel()}run(){return d(this,void 0,void 0,function*(){const s=[];for(const e of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${e.name()}`),s.push(e.run());const i=[];for(let e=0;e<s.length;e++){try{yield s[e]}catch(t){i.push(`task ${this.tasksToRunParallel[e].name()} failed: ${t.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[e].name()}`)}if(i.length>0){const e=i.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(s,i,e){super(s),this.taskName=i,this.tasksToRunParallel=e;for(const t of e)t.setParent(this)}},"ParallelGroupTask");l.default=p},6062681936:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(e,t,r,o){function f(g){return g instanceof r?g:new r(function(v){v(g)})}return n(f,"adopt"),new(r||(r=Promise))(function(g,v){function u(b){try{_(o.next(b))}catch(E){v(E)}}n(u,"fulfilled");function S(b){try{_(o.throw(b))}catch(E){v(E)}}n(S,"rejected");function _(b){b.done?g(b.value):f(b.value).then(u,S)}n(_,"step"),_((o=o.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(28946295),p=h(c(6103584604)),a=c(7613896012),s=h(c(748822893));let i=n(class extends s.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new m.MeetingSessionStatus(m.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((t,r)=>{let o=n(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new m.MeetingSessionStatus(m.MeetingSessionStatusCode.SignalingRequestFailed)),t()}handleSignalingClientEvent(v){v.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new m.MeetingSessionStatus(m.MeetingSessionStatusCode.SignalingRequestFailed)),t()),v.type===p.default.ReceivedSignalFrame&&v.message.type===a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(m.MeetingSessionStatus.fromSignalFrame(v.message)),t())}constructor(v,u,S){this.signalingClient=v,this.completionCallback=u,this.logger=S}},"Interceptor");const f=new o(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=f,this.context.signalingClient.registerObserver(f)})}constructor(t,r,o){super(t.logger),this.context=t,this.credentials=r,this.completionCallback=o,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");l.default=i},4105188829:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(748822893));let p=n(class extends m.default{run(){var s,i;return d(this,void 0,void 0,function*(){if(!(!((i=(s=this.context.meetingSessionConfiguration)===null||s===void 0?void 0:s.urls)===null||i===void 0)&&i.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let e;try{e=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}e?this.context.activeAudioInput=e:this.context.logger.warn("an audio input is not available")})}constructor(s){super(s.logger),this.context=s,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");l.default=p},980450337:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6103584604)),p=c(7613896012),a=h(c(748822893));let s=n(class extends a.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return d(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}updateSubscribedGroupdIds(e){const t=new Set;for(const r of e){const o=this.context.videoStreamIndex.attendeeIdForGroupId(r);if(o.length===0){this.logger.warn(`Could not find attendee ID for newly subscribed group ID ${r}`);continue}let f=this.context.videoTileController.getVideoTileForAttendeeId(o);f===void 0&&(this.logger.info(`No existing video tile for attendee ID ${o} with new group ID ${r}. Creating new one.`),f=this.context.videoTileController.addVideoTile(),f.bindVideoStream(o,!1,null,0,0,0,null)),t.add(f.id())}this.serverPausedVideoTileIds.forEach(r=>{t.has(r)||this.serverPausedVideoTileIds.delete(r)})}handleSignalingClientEvent(e){if(e.type!==m.default.ReceivedSignalFrame||e.message.type!==p.SdkSignalFrame.Type.PAUSE&&e.message.type!==p.SdkSignalFrame.Type.RESUME)return;const t=e.message.pause,r=e.message.type;if(this.logger.info(`Received new ${r===p.SdkSignalFrame.Type.PAUSE?"pause":"resume"} frame: ${JSON.stringify(t)}`),!t||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const o=t.groupIds.map(f=>{const g=this.context.videoStreamIndex.attendeeIdForGroupId(f);if(g.length===0){this.logger.warn(`Could not find attendee ID for paused group ID ${f}`);return}return this.context.videoTileController.getVideoTileForAttendeeId(g)});for(const f of o)f!==void 0&&(r===p.SdkSignalFrame.Type.PAUSE?f.state().paused||(this.serverPausedVideoTileIds.add(f.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBePausedByDownlinkPolicy(f.id())}),f.pause()):f.state().paused&&this.serverPausedVideoTileIds.has(f.id())&&(this.serverPausedVideoTileIds.delete(f.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBeUnpausedByDownlinkPolicy(f.id())}),f.unpause()))}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}},"ReceiveRemoteVideoPauseResume");l.default=s},6919336366:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1594701503)),p=c(7613896012),a=h(c(748822893));let s=n(class extends a.default{checkAndApplyVideoConstraint(e,t,r,o,f){return d(this,void 0,void 0,function*(){const g=e?this.context.meetingSessionConfiguration.meetingFeatures.contentMaxResolution:this.context.meetingSessionConfiguration.meetingFeatures.videoMaxResolution;if(!e&&r<=g.videoWidth&&o<=g.videoHeight&&f<=g.videoFrameRate)return;const v={resizeMode:{ideal:"none"},width:{max:g.videoWidth},height:{max:g.videoHeight},frameRate:{ideal:f,max:g.videoFrameRate}};try{yield t.applyConstraints(v)}catch{this.context.logger.info(`Could not apply constraint for video track (content = ${e})`)}})}run(){return d(this,void 0,void 0,function*(){const e=this.context.videoDuplexMode===p.SdkStreamServiceType.RX||this.context.videoDuplexMode===p.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?p.SdkStreamServiceType.DUPLEX:p.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?p.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const t=this.context.videoTileController.getLocalVideoTile();let r;try{r=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const o=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(o.values()))}if(this.context.activeVideoInput=r,r){const o=r.getVideoTracks();if(!o||o.length===0)return;const f=this.context.meetingSessionConfiguration.credentials.attendeeId,g=new m.default(f).hasModality(m.default.MODALITY_CONTENT),v=o[0].getSettings();this.checkAndApplyVideoConstraint(g,o[0],v.width,v.height,v.frameRate);const u=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(f,!0,r,v.width,v.height,null,u);for(const S of o)this.logger.info(`Using video device label=${S.label} id=${S.id}`),this.context.videoDeviceInformation.current_camera_name=S.label,this.context.videoDeviceInformation.current_camera_id=S.id}})}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");l.default=s},5242313998:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(o,f,g,v){function u(S){return S instanceof g?S:new g(function(_){_(S)})}return n(u,"adopt"),new(g||(g=Promise))(function(S,_){function b(I){try{T(v.next(I))}catch(A){_(A)}}n(b,"fulfilled");function E(I){try{T(v.throw(I))}catch(A){_(A)}}n(E,"rejected");function T(I){I.done?S(I.value):u(I.value).then(b,E)}n(T,"step"),T((v=v.apply(o,f||[])).next())})},h=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1253588984)),p=h(c(1594701503)),a=h(c(5152481786)),s=h(c(6103584604)),i=c(7613896012),e=c(9671487336),t=h(c(748822893));let r=n(class extends t.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return d(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(f){if(f.type!==s.default.ReceivedSignalFrame||f.message.type!==i.SdkSignalFrame.Type.INDEX)return;const g=f.message.index;this.context.logger.info(`received new index ${JSON.stringify(g)}`),this.handleIndexFrame(g)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(f){if(!f)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=f;return}else this.pendingIndex=null;const g=this.context.audioVideoController.configuration.credentials.attendeeId;f.sources=f.sources.filter(E=>{const T=new p.default(E.attendeeId);return!(T.base()===g&&T.hasModality(p.default.MODALITY_CONTENT))});const{videoStreamIndex:v,videoDownlinkBandwidthPolicy:u,videoUplinkBandwidthPolicy:S}=this.context,_=v.allVideoSendingSourcesExcludingSelf(g);v.integrateIndexFrame(f),u.updateIndex(v),S.updateIndex(v),this.resubscribe(u,S),this.updateVideoAvailability(f),this.handleIndexVideosPausedAtSource(),f.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(f);const b=v.allVideoSendingSourcesExcludingSelf(g);this.areVideoSourcesEqual(_,b)||this.context.audioVideoController.forEachObserver(E=>{e.Maybe.of(E.remoteVideoSourcesDidChange).map(T=>T.bind(E)(b))})}areVideoSourcesEqual(f,g){if(f.length!==g.length)return!1;const v=n((_,b)=>_.attendee.attendeeId.localeCompare(b.attendee.attendeeId),"compare"),u=[...f].sort(v),S=[...g].sort(v);for(let _=0;_<u.length;_++)if(u[_].attendee.attendeeId!==S[_].attendee.attendeeId)return!1;return!0}resubscribe(f,g){const v=f.wantsResubscribe(),u=(this.context.videoDuplexMode===i.SdkStreamServiceType.TX||this.context.videoDuplexMode===i.SdkStreamServiceType.DUPLEX)&&g.wantsResubscribe(),S=v||u;if(this.logger.info(`should resubscribe: ${S} (downlink: ${v} uplink: ${u})`),!S)return;const _=f.chooseSubscriptions();this.context.videosToReceive=_.truncate(this.context.videoSubscriptionLimit),_.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=g.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${u} down=${v}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(f){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const g=new m.default;g.remoteVideoAvailable=!this.context.videosToReceive.empty(),g.canStartLocalVideo=!f.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(g))&&(this.context.lastKnownVideoAvailability=g.clone(),this.context.audioVideoController.forEachObserver(v=>{e.Maybe.of(v.videoAvailabilityDidChange).map(u=>u.bind(v)(g.clone()))}))}handleSupportedVideoReceiveCodecIntersection(f){if(this.context.videoSendCodecPreferences===void 0)return;const g=[];let v=!1;for(const u of this.context.videoSendCodecPreferences){if(this.context.degradedVideoSendCodecs.some(S=>u.equals(S))){this.logger.info(`Skipping ${u.codecName} since the codec has been identfied as degraded`);continue}for(const S of f.supportedReceiveCodecIntersection)if(u.equals(a.default.fromSignaled(S))){g.push(u);break}}if(g.length>0){const u=g.find(S=>this.context.prioritizedSendVideoCodecCapabilities.some(_=>S.equals(_)));this.context.currentVideoSendCodec!==void 0&&(u===void 0||!this.context.currentVideoSendCodec.equals(u))&&(v=!0),this.context.meetingSupportedVideoSendCodecPreferences=g}else this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0;this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),v&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const f=this.context.videoStreamIndex.streamsPausedAtSource();for(const g of this.context.videoTileController.getAllVideoTiles()){const v=g.state();f.contain(v.streamId)?g.markPoorConnection()&&this.logger.info(`marks the tile ${v.tileId} as having a poor connection`):g.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${v.tileId} as having a poor connection`)}}constructor(f){super(f.logger),this.context=f,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");l.default=r},325771937:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(748822893));let m=n(class extends h.default{run(){return this.fn().then(()=>{})}constructor(a,s,i="RunnableTask"){super(a),this.fn=s,this.taskName=i}},"RunnableTask");l.default=m},7157971720:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(e,t,r,o){function f(g){return g instanceof r?g:new r(function(v){v(g)})}return n(f,"adopt"),new(r||(r=Promise))(function(g,v){function u(b){try{_(o.next(b))}catch(E){v(E)}}n(u,"fulfilled");function S(b){try{_(o.throw(b))}catch(E){v(E)}}n(S,"rejected");function _(b){b.done?g(b.value):f(b.value).then(u,S)}n(_,"step"),_((o=o.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1958669480)),p=h(c(6103584604)),a=c(7613896012),s=h(c(748822893));let i=n(class Bm extends s.default{run(){return d(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(t){if(t.type===p.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.DATA_MESSAGE)for(const r of t.message.dataMessage.messages){const o=new m.default(r.ingestTimeNs/1e6,r.topic,r.data,r.senderAttendeeId,r.senderExternalUserId,r.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(o)}}validateDataMessage(t,r,o){if(!Bm.TOPIC_REGEX.test(t))throw new Error("Invalid topic");if(r.length>Bm.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(o&&o<0)throw new Error("The life time of the message has to be non negative")}constructor(t){super(t.logger),this.context=t,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(r,o,f)=>{if(this.context.signalingClient.ready()){let g;o instanceof Uint8Array?g=o:typeof o=="string"?g=new TextEncoder().encode(o):g=new TextEncoder().encode(JSON.stringify(o)),this.validateDataMessage(r,g,f);const v=a.SdkDataMessagePayload.create();v.topic=r,v.lifetimeMs=f,v.data=g;const u=a.SdkDataMessageFrame.create();u.messages=[v],this.context.signalingClient.sendDataMessage(u)}else this.context.logger.error("Cannot send data message because signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");l.default=i,i.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),i.DATA_SIZE=2048},467935533:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(748822893)),p=h(c(8089523986));let a=n(class extends m.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return d(this,void 0,void 0,function*(){for(const i of this.tasksToRunSerially){this.getStatus()===p.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${i.name()}`),this.currentTask=i,yield i.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${i.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskName=e,this.tasksToRunSerially=t,this.currentTask=null;for(const r of t)r.setParent(this)}},"SerialGroupTask");l.default=a},5016494749:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9445576035)),p=h(c(9970179348)),a=h(c(748822893));let s=n(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return d(this,void 0,void 0,function*(){const e=this.context.peer;let r=this.context.sdpOfferInit.sdp;if(this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(r=new p.default(r).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),this.context.browserBehavior.supportsDependencyDescriptorRtpHeaderExtension()&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension!==void 0&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension()&&(r=new p.default(r).withDependencyDescriptorRtpHeaderExtension(this.context.previousSdpOffer).sdp),new m.default().requiresDisablingH264Encoding()&&(r=new p.default(r).removeH264SupportFromSendSection().sdp),r=new p.default(r).withStartingVideoSendBitrate(1e3).sdp,this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(r=new p.default(r).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(r=new p.default(r).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(r=new p.default(r).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){const f=new p.default(r).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(f)}this.logger.debug(()=>`local description is >>>${r}<<<`);const o={type:"offer",sdp:r,toJSON:null};yield new Promise((f,g)=>d(this,void 0,void 0,function*(){this.cancelPromise=v=>{g(v)};try{yield e.setLocalDescription(o),f()}catch(v){g(v)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");l.default=s},4152019840:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(e,t,r,o){function f(g){return g instanceof r?g:new r(function(v){v(g)})}return n(f,"adopt"),new(r||(r=Promise))(function(g,v){function u(b){try{_(o.next(b))}catch(E){v(E)}}n(u,"fulfilled");function S(b){try{_(o.throw(b))}catch(E){v(E)}}n(S,"rejected");function _(b){b.done?g(b.value):f(b.value).then(u,S)}n(_,"step"),_((o=o.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1594701503)),p=h(c(9970179348)),a=h(c(5152481786)),s=h(c(748822893));let i=n(class extends s.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){var t;return d(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let o=this.context.sdpAnswer;o=new p.default(o).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(o=new p.default(o).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(o=new p.default(o).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(o=new p.default(o).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.prioritizedSendVideoCodecCapabilities=new p.default(o).prioritizedSendVideoCodecCapabilities(),this.context.currentVideoSendCodec=this.context.prioritizedSendVideoCodecCapabilities.length>0?this.context.prioritizedSendVideoCodecCapabilities[0]:void 0;const f=this.context.activeVideoInput;if(f!==void 0){const v=this.context.audioVideoController.configuration.credentials.attendeeId,u=new m.default(v).hasModality(m.default.MODALITY_CONTENT),S=f.getVideoTracks()[0];u&&(((t=this.context.currentVideoSendCodec)===null||t===void 0?void 0:t.codecName)===a.default.av1Main().codecName?(S.contentHint="text",this.logger.info(`Setting content hint to text for AV1, attendee: ${v}`)):this.context.audioVideoController.configuration.enableSVC&&(S.contentHint="motion",this.logger.info(`Setting content hint to motion to enable SVC, attendee: ${v}`)))}this.logger.info(`processed remote description is >>>${o}<<<`);const g={type:"answer",sdp:o,toJSON:null};try{yield this.createICEConnectionCompletedPromise(g)}catch(v){throw v}})}createICEConnectionCompletedPromise(t){return new Promise((r,o)=>d(this,void 0,void 0,function*(){const f=n(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",f),r())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",f),o(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",f);try{yield this.context.peer.setRemoteDescription(t),this.logger.info("set remote description, waiting for ICE connection"),f()}catch(g){o(g)}}))}constructor(t){super(t.logger),this.context=t,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");l.default=i},9957505777:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(v,u,S,_){function b(E){return E instanceof S?E:new S(function(T){T(E)})}return n(b,"adopt"),new(S||(S=Promise))(function(E,T){function I(R){try{w(_.next(R))}catch(P){T(P)}}n(I,"fulfilled");function A(R){try{w(_.throw(R))}catch(P){T(P)}}n(A,"rejected");function w(R){R.done?E(R.value):b(R.value).then(I,A)}n(w,"step"),w((_=_.apply(v,u||[])).next())})},h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(1984577674)),p=h(c(946491843)),a=h(c(9970179348)),s=h(c(2302466300)),i=c(1382242439),e=h(c(6103584604)),t=h(c(9517368956)),r=c(7613896012),o=c(3711281607),f=h(c(748822893));let g=n(class extends f.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return d(this,void 0,void 0,function*(){let u="";if(this.context.peer&&this.context.peer.localDescription&&(u=new a.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let w=0,R=0;this.context.videoCaptureAndEncodeParameter&&(w=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),R=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const P={rid:"hi",maxBitrate:R*1e3,maxFramerate:w,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([P])}const S=this.fixUpSubscriptionOrder(u,this.context.videoSubscriptions),_=this.context.videoDuplexMode===r.SdkStreamServiceType.TX||this.context.videoDuplexMode===r.SdkStreamServiceType.DUPLEX;let b,E=u;if((this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension===void 0||!this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension())&&(E=new a.default(E).withoutDependencyDescriptorRtpHeaderExtension().sdp),this.context.serverSupportsCompression){const w=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";b=this.textCompressor.compress(E,w),this.context.logger.info(`Compressed the SDP message from ${E.length} to ${b.length} bytes.`),u=""}this.context.previousSdpOffer=new a.default(u);const T=new t.default(this.context.meetingSessionConfiguration.credentials.attendeeId,u,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,S,_,this.context.videoStreamIndex.localStreamDescriptions(),!0,b);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!i.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(T.videoSubscriptionConfiguration=o.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,S.map(w=>w===0?0:this.context.videoStreamIndex.groupIdForStreamId(w)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(T)}`),this.context.signalingClient.subscribe(T);const I=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(I)}`);let A="";I.compressedSdpAnswer&&I.compressedSdpAnswer.length?(A=this.textCompressor.decompress(I.compressedSdpAnswer,this.context.previousSdpAnswerAsString),A.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${I.compressedSdpAnswer.length} to ${A.length} bytes.`),this.context.sdpAnswer=A):this.context.sdpAnswer=I.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(I)})}fixUpSubscriptionOrder(u,S){if(this.context.transceiverController.getMidForStreamId===void 0)return S;const _=new Map;for(const T of S){const I=this.context.transceiverController.getMidForStreamId(T);if(I===void 0){T!==0&&this.logger.warn(`Could not find MID for stream ID: ${T}`);continue}_.set(I,T)}const b=new a.default(u).mediaSections(),E=[];for(const T of b)if(T.mediaType==="video")if(T.direction==="recvonly"){const I=_.get(T.mid);if(I===void 0){this.logger.warn(`Could not find stream ID for MID: ${T.mid}`);continue}E.push(I)}else E.push(0);return this.logger.info(`Fixed up ${JSON.stringify(S)} to ${JSON.stringify(E)} (may be same))}`),E}receiveSubscribeAck(){return new Promise((u,S)=>{const _=this.context;let b=n(class{cancel(){this.signalingClient.removeObserver(this),S(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(I){if(I.isConnectionTerminated()){const w=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${I.closeCode} and reason: ${I.closeReason}`;_.logger.warn(w);let R=p.default.TaskFailed;I.closeCode>=4500&&I.closeCode<4600&&(R=p.default.SignalingInternalServerError),_.audioVideoController.handleMeetingSessionStatus(new m.default(R),new Error(w));return}if(I.type!==e.default.ReceivedSignalFrame||I.message.type!==r.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const A=I.message.suback;u(A)}constructor(I){this.signalingClient=I}},"Interceptor");const E=new b(this.context.signalingClient);this.context.signalingClient.registerObserver(E),this.taskCanceler=E})}constructor(u){super(u.logger),this.context=u,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new s.default(u.logger)}},"SubscribeAndReceiveSubscribeAckTask");l.default=g},8089523986:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.IDLE="IDLE",d.RUNNING="RUNNING",d.CANCELED="CANCELED",d.FINISHED="FINISHED"})(c||(c={})),l.default=c},2985830925:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9106965827)),p=h(c(748822893));let a=n(class extends p.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return d(this,void 0,void 0,function*(){const i=new m.default(this.timeoutMs);i.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{i.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskToRunBeforeTimeout=e,this.timeoutMs=t,this.taskName=`Timeout${this.timeoutMs}ms`,e.setParent(this)}},"TimeoutTask");l.default=a},7677781501:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(946491843)),p=h(c(748822893));let a=n(class extends p.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()} due to the meeting status code: ${m.default.NoAttendeePresent}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return d(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((e,t)=>{const r=n((o,f,g,v,u)=>{i===o&&f&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(r),e(),delete this.cancelPromise)},"handler");this.cancelPromise=o=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(r),t(o)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(r)})})}constructor(i){super(i.logger),this.context=i,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");l.default=a},6895064603:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(t,r,o,f){function g(v){return v instanceof o?v:new o(function(u){u(v)})}return n(g,"adopt"),new(o||(o=Promise))(function(v,u){function S(E){try{b(f.next(E))}catch(T){u(T)}}n(S,"fulfilled");function _(E){try{b(f.throw(E))}catch(T){u(T)}}n(_,"rejected");function b(E){E.done?v(E.value):g(E.value).then(S,_)}n(b,"step"),b((f=f.apply(t,r||[])).next())})},h=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8288024884)),p=h(c(7244701833)),a=h(c(1640252696)),s=h(c(207339016)),i=h(c(3066440630));let e=n(class{setEncodingParameters(r){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const o=this._localCameraTransceiver.sender;if(!r||r.size===0)return;const f=Array.from(r.values()),g=o.getParameters();if(!g.encodings||g.encodings.length===0)g.encodings=f;else for(const v of g.encodings)for(const u of f){if((v.rid||u.rid)&&v.rid!==u.rid)continue;let S;for(S in u)S==="rid"||S==="codecPayloadType"||u.hasOwnProperty(S)&&(v[S]=u[S])}yield o.setParameters(g)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(r){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const o=this._localCameraTransceiver.sender;if(!o||r<=0)return;const f=o.getParameters();f.encodings||(f.encodings=[{}]);for(const g of f.encodings)g.maxBitrate=r*1e3;yield o.setParameters(f)})}setPeer(r){this.peer=r}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(r){return this._localCameraTransceiver?r===this._localCameraTransceiver.sender.track||r===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){var r,o;this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((o=(r=this.meetingSessionContext)===null||r===void 0?void 0:r.audioProfile)===null||o===void 0)&&o.hasRedundancyEnabled()&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(r){return d(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(r),!0)})}setAudioInput(r){return d(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,r)})}setVideoInput(r){return d(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,r)})}updateVideoTransceivers(r,o){if(!this.useTransceivers())return o.array();const f=this.peer.getTransceivers();return this.videoSubscriptions=[0],o=o.clone(),this.updateTransceivers(f,r,o),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(r,o,f){const g=f.array();r.length!==0&&!r[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(r,o,g)):r.length!==0&&this.updateTransceiverWithStop(r,o,g);for(const v of g){const u=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(v,u),this.groupIdToTransceiver.set(o.groupIdForStreamId(v),u),this.videoSubscriptions.push(v),this.logger.info(`adding transceiver mid: ${u.mid} subscription: ${v} direction: recvonly`)}}updateTransceiverWithStop(r,o,f){let g=1;this.videoSubscriptions=[0];for(const v of r){if(v===this._localCameraTransceiver||!this.transceiverIsVideo(v)||!v.mid)continue;let u=!1;const S=o.streamIdForTrack("v_"+v.mid);if(v.direction!=="inactive"&&S!==void 0){for(const[_,b]of f.entries())if(o.StreamIdsInSameGroup(S,b)){v.direction="recvonly",this.videoSubscriptions[g]=b,u=!0,this.streamIdToTransceiver.delete(S),this.streamIdToTransceiver.set(b,v),f.splice(_,1);break}}if(!u){this.videoSubscriptions[g]=0,this.logger.info(`Stopping MID: ${v.mid}, direction: ${v.direction}, current direction: ${v.currentDirection}`),v.stop();for(const[_,b]of this.streamIdToTransceiver.entries())v.mid===b.mid&&(this.streamIdToTransceiver.delete(_),this.groupIdToTransceiver.delete(o.groupIdForStreamId(_)))}g+=1}}updateTransceiverWithoutStop(r,o,f){let g=1;for(const v of r)if(!(v===this._localCameraTransceiver||!this.transceiverIsVideo(v))){if(this.videoSubscriptions[g]=0,v.direction!=="inactive"){const u=o.streamIdForTrack("v_"+v.mid);if(u!==void 0){for(const[S,_]of f.entries())if(o.StreamIdsInSameGroup(u,_)){v.direction="recvonly",this.videoSubscriptions[g]=_,this.streamIdToTransceiver.delete(u),this.streamIdToTransceiver.set(_,v),f.splice(S,1);break}}}g+=1}g=1;for(const v of r)if(!(v===this._localCameraTransceiver||!this.transceiverIsVideo(v))){if(v.direction==="inactive"&&f.length>0){v.direction="recvonly";const u=f.shift();this.videoSubscriptions[g]=u,this.streamIdToTransceiver.set(u,v),this.groupIdToTransceiver.set(o.groupIdForStreamId(u),v)}else if(this.videoSubscriptions[g]===0){v.direction="inactive";for(const[u,S]of this.streamIdToTransceiver.entries())v===S&&(this.streamIdToTransceiver.delete(u),this.groupIdToTransceiver.delete(o.groupIdForStreamId(u)))}g+=1}}getMidForStreamId(r){var o;return(o=this.streamIdToTransceiver.get(r))===null||o===void 0?void 0:o.mid}setStreamIdForMid(r,o){for(const[f,g]of this.streamIdToTransceiver.entries())if(g.mid===r){this.streamIdToTransceiver.delete(f),this.streamIdToTransceiver.set(o,g);return}}getMidForGroupId(r){var o,f;return(f=(o=this.groupIdToTransceiver.get(r))===null||o===void 0?void 0:o.mid)!==null&&f!==void 0?f:void 0}transceiverIsVideo(r){return r.receiver&&r.receiver.track&&r.receiver.track.kind==="video"||r.sender&&r.sender.track&&r.sender.track.kind==="video"}debugDumpTransceivers(){let r="",o=0;for(const f of this.peer.getTransceivers())this.transceiverIsVideo(f)&&(r+=`transceiver index=${o} mid=${f.mid} subscription=${this.videoSubscriptions[o]} direction=${f.direction}
`,o+=1);return r}setTransceiverInput(r,o){return d(this,void 0,void 0,function*(){r&&(o?r.direction="sendrecv":r.direction="inactive",yield r.sender.replaceTrack(o))})}forEachRedMetricsObserver(r){for(const o of this.redMetricsObservers)i.default.nextTick(()=>{this.redMetricsObservers.has(o)&&o.recoveryMetricsDidReceive(r)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new m.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var r,o;const f=!!window.RTCRtpScriptTransform,g=!!RTCRtpSender.prototype.createEncodedStreams;if(f)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(g)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),new Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");try{this.audioRedWorkerURL=URL.createObjectURL(new Blob([s.default],{type:"application/javascript"})),this.logger.info(`[AudioRed] Redundant audio worker URL ${this.audioRedWorkerURL}`),this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(v){throw this.logger.error(`[AudioRed] Unable to create audio red worker due to ${v}`),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),v}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=v=>{if(v.data.type==="REDWorkerLog")this.logger.info(v.data.log);else if(v.data.type==="RedundantAudioEncoderStats"){const u=new p.default;u.currentTimestampMs=Date.now(),u.ssrc=v.data.ssrc,u.totalAudioPacketsLost=v.data.totalAudioPacketsLost,u.totalAudioPacketsExpected=v.data.totalAudioPacketsExpected,u.totalAudioPacketsRecoveredRed=v.data.totalAudioPacketsRecoveredRed,u.totalAudioPacketsRecoveredFec=v.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(u)}},f)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(g){const v=this._localAudioTransceiver.sender.createEncodedStreams(),u=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:v,receive:u},[v.readable,v.writable,u.readable,u.writable])}(r=this.meetingSessionContext)===null||r===void 0||r.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver((o=this.meetingSessionContext)===null||o===void 0?void 0:o.statsCollector)}addTransceiver(r,o){var f;const g=this.peer.addTransceiver(r,o);if(!(!((f=this.peer.getConfiguration())===null||f===void 0)&&f.encodedInsertableStreams)||!this.audioRedWorker)return g;const v=!!window.RTCRtpScriptTransform,u=!!RTCRtpSender.prototype.createEncodedStreams;if(v)g.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),g.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(u){const S=g.sender.createEncodedStreams(),_=g.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"PassthroughTransform",send:S,receive:_},[S.readable,S.writable,_.readable,_.writable])}return g}destroyAudioRedWorkerAndStates(){var r,o;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker.terminate(),this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,(r=this.meetingSessionContext)===null||r===void 0||r.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver((o=this.meetingSessionContext)===null||o===void 0?void 0:o.statsCollector))}setAudioPayloadTypes(r){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:r.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:r.get("opus")}))}metricsDidReceive(r){const{currentTimestampMs:o}=r,f=r.getRTCStatsReport();let g=0,v=0,u=0;f.forEach(I=>{I.kind==="audio"&&(I.type==="outbound-rtp"?v=I.packetsSent:I.type==="remote-inbound-rtp"&&(g=I.timestamp,u=I.packetsLost))}),(this.audioMetricsHistory.length===0||g>this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs&&v>this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)&&this.audioMetricsHistory.push({timestampMs:g,totalPacketsSent:v,totalPacketsLost:u}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();const S=this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),_=this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs),b=Math.max(S,_),[E,T]=a.default.getNumRedundantEncodingsForPacketLoss(b);if(T){this.lastHighPacketLossEventTimestampMs=o,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=o);return}else if(!this.audioRedEnabled){const I=o-this.lastAudioRedTurnOffTimestampMs,A=o-this.lastHighPacketLossEventTimestampMs;if(I>=this.audioRedPacketLossLongEvalPeriodMs&&A<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(o)}this.shouldUpdateAudioRedWorkerEncodings(o,E)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:E})}maybeResetHoldDownTimer(r){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=r)}lossPercent(r){if(this.audioMetricsHistory.length<2)return 0;const o=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,f=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,g=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let v=this.audioMetricsHistory.length-2;v>=0;v--)if(o-this.audioMetricsHistory[v].timestampMs>=r){const u=g-this.audioMetricsHistory[v].totalPacketsLost,S=f-this.audioMetricsHistory[v].totalPacketsSent,_=100*(u/S);return Math.max(0,Math.min(_,100))}return 0}shouldUpdateAudioRedWorkerEncodings(r,o){return this.currentNumRedundantEncodings===o?(this.maybeResetHoldDownTimer(r),!1):o<this.currentNumRedundantEncodings&&r-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs?!1:(this.currentNumRedundantEncodings=o,this.maybeResetHoldDownTimer(r),!0)}addRedundantAudioRecoveryMetricsObserver(r){this.redMetricsObservers.add(r)}removeRedundantAudioRecoveryMetricsObserver(r){this.redMetricsObservers.delete(r)}constructor(r,o,f){this.logger=r,this.browserBehavior=o,this.meetingSessionContext=f,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=new Array,this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5*1e3,this.audioRedPacketLossLongEvalPeriodMs=15*1e3,this.audioRedHoldDownTimeMs=5*60*1e3,this.redRecoveryTimeMs=1*60*1e3}},"DefaultTransceiverController");l.default=e},523374695:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(5814267651));let p=n(class bp extends m.default{setEncodingParameters(s){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let r=0;r<t.encodings.length;r++)t.encodings[r].rid===m.default.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(m.default.LOW_LEVEL_NAME),t.encodings[r]),t.encodings[r].rid===m.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(m.default.HIGH_LEVEL_NAME),t.encodings[r]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}constructor(s,i,e){super(s,i,e);let t=2;this.videoQualityControlParameterMap=new Map;for(let r=0;r<bp.NAME_ARR_ASCENDING.length;r++){const o=bp.NAME_ARR_ASCENDING[r];this.videoQualityControlParameterMap.set(o,{rid:o,scaleResolutionDownBy:t,maxBitrate:bp.BITRATE_ARR_ASCENDING[r]*1e3}),t=t/2}}},"SimulcastContentShareTransceiverController");l.default=p,p.NAME_ARR_ASCENDING=["low","hi"],p.BITRATE_ARR_ASCENDING=[300,1200]},5814267651:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(6895064603));let p=n(class Rl extends m.default{setEncodingParameters(s){return d(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(s.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(const r of t.encodings)r.rid===Rl.LOW_LEVEL_NAME&&this.copyEncodingParams(s.get(Rl.LOW_LEVEL_NAME),r),r.rid===Rl.MID_LEVEL_NAME&&this.copyEncodingParams(s.get(Rl.MID_LEVEL_NAME),r),r.rid===Rl.HIGH_LEVEL_NAME&&this.copyEncodingParams(s.get(Rl.HIGH_LEVEL_NAME),r);yield i.setParameters(t),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(s){return d(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var s,i;if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((i=(s=this.meetingSessionContext)===null||s===void 0?void 0:s.audioProfile)===null||i===void 0)&&i.hasRedundancyEnabled()&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){const e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){const i=this._localCameraTransceiver.sender.getParameters().encodings;let e=`simulcast: current encoding parameters 
`;for(const t of i)e+=`rid=${t.rid} maxBitrate=${t.maxBitrate} active=${t.active} scaleDownBy=${t.scaleResolutionDownBy} maxFrameRate = ${t.maxFramerate} 
`;this.logger.info(e)}copyEncodingParams(s,i){i.active=s.active,i.maxBitrate=s.maxBitrate,i.scaleResolutionDownBy=s.scaleResolutionDownBy,i.maxFramerate=s.maxFramerate}constructor(s,i,e){super(s,i,e),this.videoQualityControlParameterMap=new Map;let t=4;for(let r=0;r<Rl.NAME_ARR_ASCENDING.length;r++){const o=Rl.NAME_ARR_ASCENDING[r];this.videoQualityControlParameterMap.set(o,{rid:o,scaleResolutionDownBy:t,maxBitrate:Rl.BITRATE_ARR_ASCENDING[r]*1e3}),t=t/2}}},"SimulcastTransceiverController");l.default=p,p.LOW_LEVEL_NAME="low",p.MID_LEVEL_NAME="mid",p.HIGH_LEVEL_NAME="hi",p.NAME_ARR_ASCENDING=["low","mid","hi"],p.BITRATE_ARR_ASCENDING=[200,400,1100]},6239767259:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6895064603));let m=n(class extends h.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(a,s,i){super(a,s,i)}},"VideoOnlyTransceiverController");l.default=m},2162159007:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const d=c(6217156478);l.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let h=n(class{subscribeToTranscriptEvent(p){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const s of d.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(s)}),this.transcriptEventCallbacks.add(p)}unsubscribeFromTranscriptEvent(p){this.transcriptEventCallbacks.delete(p),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(l.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(p){this.realtimeController=p,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");l.default=h},3276536342:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"Transcript");l.default=c},726647989:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptAlternative");l.default=c},4378521613:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptEntity");l.default=c},6217156478:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0}),l.TranscriptEventConverter=void 0;const h=c(7613896012),m=d(c(3276536342)),p=d(c(248336478)),a=d(c(7562925478)),s=d(c(4257104689)),i={[h.SdkTranscriptionStatus.Type.STARTED]:a.default.STARTED,[h.SdkTranscriptionStatus.Type.INTERRUPTED]:a.default.INTERRUPTED,[h.SdkTranscriptionStatus.Type.RESUMED]:a.default.RESUMED,[h.SdkTranscriptionStatus.Type.STOPPED]:a.default.STOPPED,[h.SdkTranscriptionStatus.Type.FAILED]:a.default.FAILED};let e=n(class{static from(r){let o;try{o=h.SdkTranscriptFrame.decode(r.data)}catch(g){throw new Error("Cannot decode transcript data message: "+g)}const f=[];for(const g of o.events)if(g.status){const v=i[g.status.type];if(!v)continue;const u=new p.default;u.type=v,u.eventTimeMs=g.status.eventTime,u.transcriptionRegion=g.status.transcriptionRegion,u.transcriptionConfiguration=g.status.transcriptionConfiguration,g.status.message&&(u.message=g.status.message),f.push(u)}else if(g.transcript){const v=new m.default;v.results=[];for(const u of g.transcript.results){const S={channelId:u.channelId,isPartial:u.isPartial,resultId:u.resultId,startTimeMs:u.startTime,endTimeMs:u.endTime,alternatives:[]};if(u.languageCode&&(S.languageCode=u.languageCode),u.languageIdentification&&u.languageIdentification.length>0){S.languageIdentification=[];for(const _ of u.languageIdentification){const b={languageCode:_.languageCode,score:_.score};S.languageIdentification.push(b)}}for(const _ of u.alternatives){const b={items:[],transcript:_.transcript};for(const E of _.items){const T={content:E.content,attendee:{attendeeId:E.speakerAttendeeId,externalUserId:E.speakerExternalUserId},startTimeMs:E.startTime,endTimeMs:E.endTime,type:null};switch(E.vocabularyFilterMatch&&(T.vocabularyFilterMatch=E.vocabularyFilterMatch),E.hasOwnProperty("stable")&&(T.stable=E.stable),E.hasOwnProperty("confidence")&&(T.confidence=E.confidence),E.type){case h.SdkTranscriptItem.Type.PRONUNCIATION:T.type=s.default.PRONUNCIATION;break;case h.SdkTranscriptItem.Type.PUNCTUATION:T.type=s.default.PUNCTUATION;break}b.items.push(T)}for(const E of _.entities){b.entities||(b.entities=[]);const T={category:E.category,confidence:E.confidence,content:E.content,startTimeMs:E.startTime,endTimeMs:E.endTime};E.type&&(T.type=E.type),b.entities.push(T)}S.alternatives.push(b)}v.results.push(S)}f.push(v)}return f}},"TranscriptEventConverter");l.TranscriptEventConverter=e},4402593625:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptItem");l.default=c},4257104689:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.PRONUNCIATION="pronunciation",d.PUNCTUATION="punctuation"})(c||(c={})),l.default=c},8483560434:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptLanguageWithScore");l.default=c},3933717315:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptResult");l.default=c},248336478:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"TranscriptionStatus");l.default=c},7562925478:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c;(function(d){d.STARTED="started",d.INTERRUPTED="interrupted",d.RESUMED="resumed",d.STOPPED="stopped",d.FAILED="failed"})(c||(c={})),l.default=c},7680559561:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(5961608329),m=d(c(6332689210));let p=n(class kd{getParserResult(){var s,i;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((s=this.parserResult)===null||s===void 0?void 0:s.os.name)||kd.UNAVAILABLE,osVersion:((i=this.parserResult)===null||i===void 0?void 0:i.os.version)||kd.UNAVAILABLE,sdkVersion:m.default.sdkVersion,sdkName:m.default.sdkName}}constructor(s){var i,e,t,r,o,f,g;try{this.parserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():void 0}catch(v){s.error(v.message)}this.browserMajorVersion=((t=(e=(i=this.parserResult)===null||i===void 0?void 0:i.browser)===null||e===void 0?void 0:e.version)===null||t===void 0?void 0:t.split(".")[0])||kd.UNAVAILABLE,this.browserName=((r=this.parserResult)===null||r===void 0?void 0:r.browser.name)||kd.UNAVAILABLE,this.browserVersion=((o=this.parserResult)===null||o===void 0?void 0:o.browser.version)||kd.UNAVAILABLE,this.deviceName=[((f=this.parserResult)===null||f===void 0?void 0:f.device.vendor)||"",((g=this.parserResult)===null||g===void 0?void 0:g.device.model)||""].join(" ").trim()||kd.UNAVAILABLE}},"DefaultUserAgentParser");l.default=p,p.UNAVAILABLE="Unavailable"},6544037895:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{add(h){return new Promise((m,p)=>{this.queue=this.queue.then(h).then(m).catch(p)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");l.default=c},9671487336:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.None=l.Some=l.Maybe=void 0;let c=n(class{static of(p){return p==null?h.of():d.of(p)}},"Maybe");l.Maybe=c;let d=n(class jv{map(p){return c.of(p(this.value))}flatMap(p){return p(this.value)}get(){return this.value}getOrElse(p){return this.value}defaulting(p){return c.of(this.getOrElse(p))}static of(p){if(p==null)throw new Error("value is ${value}");return new jv(p)}constructor(p){this.value=p,this.isSome=!0,this.isNone=!1}},"Some");l.Some=d;let h=n(class Ep{get(){throw new Error("value is null")}getOrElse(p){return p}map(p){return new Ep}flatMap(p){return new Ep}defaulting(p){return c.of(this.getOrElse(p))}static of(){return new Ep}constructor(){this.isSome=!1,this.isNone=!0}},"None");l.None=h},1366921492:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(l,"__esModule",{value:!0}),l.iterateEvery=l.SuppressedError=l.getRandomValues=l.getFormattedOffset=l.getDefaultAssetSpec=l.toLowerCasePropertyNames=l.isIFramed=l.wait=void 0;const h=d(c(6332689210));function m(o){return new Promise(f=>setTimeout(f,o))}n(m,"wait"),l.wait=m;function p(){var o;try{return((o=window.frameElement)===null||o===void 0?void 0:o.nodeName)==="IFRAME"||parent!==top}catch{return!0}}n(p,"isIFramed"),l.isIFramed=p;function a(o){return o===null?null:typeof o!="object"?o:Array.isArray(o)?o.map(a):Object.keys(o).reduce((f,g)=>{const v=o[g],u=typeof v=="object"?a(v):v;return f[g.toLowerCase()]=u,f},{})}n(a,"toLowerCasePropertyNames"),l.toLowerCasePropertyNames=a;function s(){const o=h.default.sdkVersionSemVer;return{assetGroup:`sdk-${o.major}.${o.minor}`}}n(s,"getDefaultAssetSpec"),l.getDefaultAssetSpec=s;function i(o){const f=Math.abs(o),g=o<=0?"+":"-",v=Math.floor(f/60).toString().padStart(2,"0"),u=Math.floor(f%60).toString().padStart(2,"0");return`${g}${v}:${u}`}n(i,"getFormattedOffset"),l.getFormattedOffset=i;function e(o){try{window.crypto.getRandomValues(o)}catch{new DataView(o.buffer).setUint32(0,Math.trunc(Math.random()*Math.pow(2,32)),!0)}}n(e,"getRandomValues"),l.getRandomValues=e;let t=n(class extends Error{constructor(f,g,v){var u;super(v??`${(u=f==null?void 0:f.message)!==null&&u!==void 0?u:f}`),this.error=f,this.suppressed=g}},"SuppressedError");l.SuppressedError=t;function r(o,f){if(!o)return;let g;for(const v of o)try{f(v)}catch(u){g=new t(u,g)}if(g)throw g}n(r,"iterateEvery"),l.iterateEvery=r},6332689210:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9445576035)),m=d(c(4521558346));let p=n(class Nf{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return m.default.semverString}static get sdkVersionSemVer(){var s,i,e,t;const r=m.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(s=r==null?void 0:r.groups)===null||s===void 0?void 0:s.major,minor:(i=r==null?void 0:r.groups)===null||i===void 0?void 0:i.minor,patch:(e=r==null?void 0:r.groups)===null||e===void 0?void 0:e.patch,preRelease:(t=r==null?void 0:r.groups)===null||t===void 0?void 0:t.preRelease}}static get buildSHA(){return m.default.hash.substring(1)}static get sdkUserAgentLowResolution(){const s=new h.default;return`${s.name()}-${s.majorVersion()}`}static urlWithVersion(s){const i=new URL(s);return i.searchParams.append(Nf.X_AMZN_VERSION,Nf.sdkVersion),i.searchParams.append(Nf.X_AMZN_USER_AGENT,Nf.sdkUserAgentLowResolution),i.toString()}},"Versioning");l.default=p,p.X_AMZN_VERSION="X-Amzn-Version",p.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},4521558346:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default={hash:"55eb4ca",raw:"v3.27.0",semverString:"3.27.0"}},8942355099:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class $v{equal(h){let m=h.captureWidth()===this.cameraWidth&&h.captureHeight()===this.cameraHeight&&h.captureFrameRate()===this.cameraFrameRate&&h.encodeBitrates().length===this.encodeBitrates().length&&h.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&h.encodeWidths().length===this.encodeWidths().length&&h.encodeHeights().length===this.encodeHeights().length&&h.isSVCEncoding()===this.isSVC;if(m){for(let p=0;p<h.encodeWidths().length;p++)if(h.encodeWidths()[p]!==this.encodeWidths()[p]||h.encodeHeights()[p]!==this.encodeHeights()[p]||h.encodeBitrates()[p]!==this.encodeBitrates()[p]||h.encodeScaleResolutionDownBy()[p]!==this.encodeScaleResolutionDownBy()[p])return m=!1,m}return m}clone(){return new $v(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy,this.isSVC)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}isSVCEncoding(){return this.isSVC}constructor(h,m,p,a,s,i=1,e=!1){this.cameraWidth=h,this.cameraHeight=m,this.cameraFrameRate=p,this.maxEncodeBitrateKbps=a,this.isSimulcast=s,this.scaleResolutionDownBy=i,this.isSVC=e}},"DefaultVideoCaptureAndEncodeParameter");l.default=c},4731147871:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6054180211));let m=n(class Kv{reset(){this.optimalReceiveSet=new h.default,this.subscribedReceiveSet=new h.default,this.videoSources=void 0}updateIndex(a){this.videoIndex=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(a)}updateMetrics(a){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(a){this.videoSources=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(a){const s=new h.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return s;const i=a.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId),e=this.videoSources?this.videoSources:this.videoIndex.allVideoSendingSourcesExcludingSelf(this.selfAttendeeId),t=this.videoIndex.remoteStreamDescriptions(),r=new Map;for(const f of t)i.contain(f.streamId)&&r.set(f.attendeeId,f);let o=0;for(const f of e){const g=f.attendee.attendeeId;if(r.has(g)){const v=r.get(g);if(o+v.maxBitrateKbps<=Kv.maxReceiveBitrateKbps)s.add(v.streamId),o+=v.maxBitrateKbps;else{console.warn("total bitrate "+(o+v.maxBitrateKbps)+" exceeds maximum limit (15000). Use chooseRemoteVideoSources to select a subset of participants to avoid this.");break}}}return s}constructor(a){this.selfAttendeeId=a,this.reset()}},"AllHighestVideoBandwidthPolicy");l.default=m,m.maxReceiveBitrateKbps=15e3},8324353133:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6054180211));let m=n(class{reset(){}updateIndex(a){}updateMetrics(a){}wantsResubscribe(){return!1}chooseSubscriptions(){return new h.default}},"NoVideoDownlinkBandwidthPolicy");l.default=m},5357242452:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TargetDisplaySize=void 0;var c;(function(d){d[d.Low=0]="Low",d[d.Medium=1]="Medium",d[d.High=2]="High",d[d.Maximum=3]="Maximum"})(c=l.TargetDisplaySize||(l.TargetDisplaySize={})),l.default=c},9450249395:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(3944645711)),m=d(c(1382242439)),p=d(c(1964647122)),a=c(3711281607),s=d(c(4543167968)),i=d(c(4177728618));let e=n(class Jv extends s.default{static createConfig(){const r=new i.default;return r.serverSideNetworkAdaption=m.default.None,r}reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(r){super.updateIndex(r);const o=a.VideoPreferences.prepare();let f=!1;const g=r.remoteStreamDescriptions();for(const v of g)o.some(u=>u.attendeeId===v.attendeeId)||(v.attendeeId.endsWith(h.default.Modality)?(o.add(new p.default(v.attendeeId,1)),f=!0):o.add(new p.default(v.attendeeId,2)));f?(this.videoPreferences=o.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(r){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(r){super(r,Jv.createConfig()),this.logger=r,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");l.default=e},1964647122:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(5357242452)),m=d(c(8758878068));let p=n(class Bu{partialCompare(s){return this.priority-s.priority}equals(s){return this.attendeeId===s.attendeeId&&this.targetSize===s.targetSize&&this.priority===s.priority&&this.degradationPreference===s.degradationPreference}clone(){return new Bu(this.attendeeId,this.priority,this.targetSize,this.degradationPreference)}targetSizeToBitrateKbps(s){switch(s){case h.default.Maximum:return Bu.MAXIMUM_BITRATE_KBPS;case h.default.High:return Bu.HIGH_BITRATE_KBPS;case h.default.Medium:return Bu.MID_BITRATE_KBPS;case h.default.Low:return Bu.LOW_BITRATE_KBPS}}constructor(s,i,e,t){this.attendeeId=s,this.priority=i,this.targetSize=e!==void 0?e:h.default.Maximum,this.degradationPreference=t!==void 0?t:m.default.Balanced}},"VideoPreference");l.default=p,p.LOW_BITRATE_KBPS=300,p.MID_BITRATE_KBPS=600,p.HIGH_BITRATE_KBPS=1500,p.MAXIMUM_BITRATE_KBPS=1e4},3711281607:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoPreferences=l.MutableVideoPreferences=l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const h=d(c(9197136208));function m(e,t,r){if(e.transceiverController.getMidForGroupId===void 0||e.videoStreamIndex.attendeeIdForGroupId===void 0||r===void 0)return[];const o=new Array,f=new Map,g=new Map;for(const v of t){const u=e.transceiverController.getMidForGroupId(v);if(u===void 0)continue;const S=e.videoStreamIndex.attendeeIdForGroupId(v);f.set(S,u),g.set(S,v)}for(const v of r){const u=new h.default,S=f.get(v.attendeeId);S!==void 0&&(u.mid=S,u.attendeeId=v.attendeeId,u.groupId=g.get(v.attendeeId),u.priority=Number.MAX_SAFE_INTEGER-v.priority,u.targetBitrateKbps=v.targetSizeToBitrateKbps(v.targetSize),u.qualityAdaptationPreference=v.degradationPreference,o.push(u))}return o}n(m,"convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration"),l.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=m;let p=n(class Um{static default(){return new Um([])}[Symbol.iterator](){let t=0;const r=this.items;return{next(){return t<r.length?{done:!1,value:r[t++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(t){this.items.push(t)}replaceFirst(t,r){const o=this.items.findIndex(r);o===-1?this.items.push(t):this.has(t)?this.items.splice(o,1):this.items[o]=t}remove(t){this.items=this.items.filter(r=>!r.equals(t))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(const r of this.items)if(!t.items.some(o=>o.equals(r)))return!1;return!0}has(t){return this.items.some(r=>r.equals(t))}some(t){return this.items.some(t)}clone(){return new Um([...this.items])}sort(){this.items.sort((t,r)=>t.partialCompare(r))}modify(){return new a(this)}constructor(t=[]){this.items=t}},"ObjectSet"),a=n(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(t){this.items.has(t)||(this.cow(),this.items.add(t))}replaceFirst(t,r){this.items.has(t)&&!this.items.some(r)||(this.cow(),this.items.replaceFirst(t,r))}remove(t){this.items.has(t)&&(this.cow(),this.items.remove(t))}some(t){return this.items.some(t)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(t=new p){this.items=t,this.copied=!1}},"SetBuilder"),s=n(class{add(t){this.builder.add(t)}replaceFirst(t,r){this.builder.replaceFirst(t,r)}remove(t){this.builder.remove(t)}some(t){return this.builder.some(t)}clear(){this.builder.clear()}build(){return new i(this.builder.build())}constructor(t){this.builder=t}},"MutableVideoPreferences");l.MutableVideoPreferences=s;let i=n(class Vm{static prepare(){return new s(new a)}static default(){return new Vm(p.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var t;return(t=this.items.first())===null||t===void 0?void 0:t.priority}sorted(){return this.items[Symbol.iterator]()}equals(t){return t===this||this.items.equals(t.items)}modify(){return new s(this.items.modify())}some(t){return this.items.some(t)}isEmpty(){return this.items.isEmpty()}clone(){const t=Vm.prepare();for(const r of this.items)t.add(r.clone());return t.build()}constructor(t){this.items=t}},"VideoPreferences");l.VideoPreferences=i,l.default=i},4543167968:function(V,l,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(I,A,w,R){R===void 0&&(R=w),Object.defineProperty(I,R,{enumerable:!0,get:function(){return A[w]}})}:function(I,A,w,R){R===void 0&&(R=w),I[R]=A[w]}),h=this&&this.__setModuleDefault||(Object.create?function(I,A){Object.defineProperty(I,"default",{enumerable:!0,value:A})}:function(I,A){I.default=A}),m=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var A={};if(I!=null)for(var w in I)w!=="default"&&Object.prototype.hasOwnProperty.call(I,w)&&d(A,I,w);return h(A,I),A},p=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(l,"__esModule",{value:!0});const a=p(c(6922010698)),s=p(c(3071240545)),i=p(c(3967449568)),e=p(c(3944645711)),t=c(152907414),r=m(c(1382242439)),o=p(c(1041737276)),f=p(c(6054180211)),g=p(c(4731147871)),v=p(c(5357242452)),u=p(c(1964647122)),S=c(3711281607),_=p(c(4177728618)),b=p(c(8758878068));let E=n(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),T=n(class Ns{reset(){this.allHighestPolicy=new g.default(""),this.optimalReceiveSet=new f.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new f.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new f.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=Ns.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=Ns.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new E,this.prevDownlinkStats=new E,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(A){this.tileController=A,this.logger.info("tileController bound")}setWantsResubscribeObserver(A){this.wantsResubscribeObserver=A}chooseRemoteVideoSources(A){var w;if(!(!((w=this.videoPreferences)===null||w===void 0)&&w.equals(A))){if(this.videoPreferences=A==null?void 0:A.clone(),!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const R=new Array;for(const P of this.videoPreferences){const x=new o.default;x.attendee=new a.default,x.attendee.attendeeId=P.attendeeId,R.push(x)}this.allHighestPolicy.chooseRemoteVideoSources(R);return}this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(A)}`)}}updateIndex(A){this.videoIndex=A,this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(A),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const A=new Set;for(const x of this.videoIndex.remoteStreamDescriptions())A.add(x.attendeeId);const w=S.VideoPreferences.prepare(),R=A.size;let P=v.default.Maximum;R>8?P=v.default.Low:R>4&&(P=v.default.Medium);for(const x of A)w.add(new u.default(x,1,P));this.defaultVideoPreferences=w.build()}updateMetrics(A){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new E;const w=A.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=w.availableIncomingBitrate/1e3;for(const R in A.streamMetricReports){const P=Number.parseInt(R,10),x=A.streamMetricReports[P];x.direction===s.default.DOWNSTREAM&&x.mediaType===i.default.VIDEO&&(x.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=A.countPerSecond("nackCount",P)),x.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=A.countPerSecond("packetsLost",P)),x.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=A.bitsPerSecond("bytesReceived",P)/1e3))}}wantsResubscribe(){let A=!1;return!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(A||(A=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption)?A||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),A||(A=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),A)}chooseSubscriptions(){return!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===r.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(A){this.observerQueue.add(A)}removeObserver(A){this.observerQueue.delete(A)}forEachObserver(A){for(const w of this.observerQueue)A(w)}setVideoPriorityBasedPolicyConfigs(A){this.videoPriorityBasedPolicyConfig=A}calculateOptimalReceiveStreams(){var A;const w=[],R=this.videoIndex.remoteStreamDescriptions();if(R.length===0||!((A=this.videoPreferences)===null||A===void 0)&&A.isEmpty()){this.optimalReceiveStreams=[];return}const P=this.rateProbeState;this.cleanBwPausedTiles(R),this.handleAppPausedStreams(w,R);const x=new Map;for(const rt of this.getCurrentVideoPreferences())x.set(rt.attendeeId,rt);const z=R.filter(rt=>x.has(rt.attendeeId)),Z=!this.streamsWithPreferenceDidChange(z),re=!this.startupPeriod&&Z;if(re&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;z.sort((rt,_t)=>rt.maxBitrateKbps===_t.maxBitrateKbps?rt.streamId-_t.streamId:rt.maxBitrateKbps-_t.maxBitrateKbps);for(const rt of z)(rt.avgBitrateKbps===0||rt.avgBitrateKbps>rt.maxBitrateKbps)&&(rt.attendeeId.endsWith(e.default.Modality)&&rt.maxBitrateKbps<100?rt.maxBitrateKbps=rt.avgBitrateKbps:rt.avgBitrateKbps=rt.maxBitrateKbps);const ne=new Set;for(const rt of this.getCurrentVideoPreferences()){const _t=z.filter(Xe=>Xe.attendeeId===rt.attendeeId);if(_t.length<3)continue;let Gt=15,Kt=320*480;_t.forEach(Xe=>{Gt=Math.max(Gt,Xe.maxFrameRate),Kt=Math.max(Kt,Xe.totalPixels())}),_t.sort((Xe,It)=>{if(rt.degradationPreference===b.default.MaintainResolution)return Math.abs(Xe.maxFrameRate-It.maxFrameRate)<2?Xe.totalPixels()-It.totalPixels():Xe.maxFrameRate-It.maxFrameRate;if(rt.degradationPreference===b.default.MaintainFramerate)return Xe.totalPixels()===It.totalPixels()?Xe.maxFrameRate-It.maxFrameRate:Xe.totalPixels()-It.totalPixels();{const En=n(pn=>pn.avgBitrateKbps*Math.pow(2,5*pn.maxFrameRate/Gt*Math.pow(4,pn.totalPixels()/Kt)),"weighByFramerate");return En(Xe)-En(It)}});let Ye;for(const Xe of _t){if(Ye!==void 0&&(Xe.maxFrameRate<Ye.maxFrameRate&&Math.abs(Ye.maxFrameRate-Xe.maxFrameRate)>2||Xe.totalPixels()<Ye.totalPixels())){ne.add(Xe.streamId);continue}Ye=Xe}}const he=z.filter(rt=>!ne.has(rt.streamId));this.logger.info(`Filtered to ${JSON.stringify(he)}`);const ge={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};ge.targetDownlinkBitrate=this.determineTargetRate();const Pe=this.subscribedReceiveSet.size(),He=this.downlinkStats.bandwidthEstimateKbps,pt=!this.videoPriorityBasedPolicyConfig.allowSubscribe(Pe,He);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=Ns.MIN_TIME_BETWEEN_SUBSCRIBE_MS,re&&pt))return;const Ht=this.priorityPolicy(ge,he,w),Ke=!r.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let it=0;if(!Ke&&!this.startupPeriod&&Z?this.rateProbeState==="Probing"?it=this.handleProbe(w,ge.targetDownlinkBitrate):ge.deltaToNextUpgrade!==0&&(it=this.maybeOverrideOrProbe(w,ge,Ht)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.previousStreamsWithPreference=z,this.videoPreferencesUpdated=!1,it===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=ge.targetDownlinkBitrate;return}if(it===2){const rt=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(z,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+rt);return}this.optimalNonPausedReceiveStreams=w.slice();const ct=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(z,w),this.logger.getLogLevel()<=t.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==P||this.optimalReceiveStreams.length!==w.length||ct!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(R,ge.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=ge.targetDownlinkBitrate,this.optimalReceiveStreams=w.slice()}calculateOptimalReceiveSet(){const A=new f.default;this.calculateOptimalReceiveStreams();for(const w of this.optimalReceiveStreams)A.add(w.streamId);if(!this.optimalReceiveSet.equal(A)){const w=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(A)} subscribedRate:${w}`)}this.optimalReceiveSet=A}determineTargetRate(){let A=0;const w=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=w),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>Ns.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||w-this.firstEstimateTimestamp>Ns.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?A=Ns.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<Ns.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),A=this.downlinkStats.usedBandwidthKbps+Ns.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):A=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?A=Ns.DEFAULT_BANDWIDTH_KBPS:A=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-Ns.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*Ns.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,A=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,A>15e3&&this.logger.warn("bwe: "+A+" exceeds maximum limit (15000). Limit TargetDisplaySize with VideoPreferences to avoid this."),Math.min(A,15e3)}setProbeState(A){if(this.rateProbeState===A)return!1;const w=Date.now();switch(A){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||w-this.lastProbeTimestamp>Ns.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=w;else return!1;break;case"Probing":if(w-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=w,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,Ns.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+A+" from "+this.rateProbeState),this.rateProbeState=A,!0}upgradeToStream(A,w){for(let R=0;R<A.length;R++)if(A[R].groupId===w.groupId){const P=w.avgBitrateKbps-A[R].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(A[R])+" to "+w),this.lastUpgradeRateKbps=P,A[R]=w,P}return A.push(w),this.lastUpgradeRateKbps=w.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(A,w){if(Date.now()-this.lastProbeTimestamp>Ns.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>Ns.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(Ns.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const R=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(A)||w>R?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=Ns.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(A,w,R){const P=this.chosenStreamsSameAsLast(A);let x=0;const z=w.targetDownlinkBitrate>Ns.LOW_BITRATE_THRESHOLD_KBPS?Ns.TARGET_RATE_CHANGE_TRIGGER_PERCENT:Ns.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,Z=w.targetDownlinkBitrate*z/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!P&&Math.abs(w.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<Z?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),x=1):this.targetRateBaselineForDeltaCheckKbps=w.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,x;if(P||x===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(A,R),x=0);break}else this.setProbeState("Not Probing");return x}calculateSubscribeRate(A){let w=0;for(const R of A)!this.pausedStreamIds.contain(R.streamId)&&!this.pausedBwAttendeeIds.has(R.attendeeId)&&(w+=R.maxBitrateKbps);return w}handleAppPausedStreams(A,w){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new f.default;const R=this.tileController.getAllRemoteVideoTiles();for(const P of R){const x=P.state();if(x.paused&&!this.pausedBwAttendeeIds.has(x.boundAttendeeId)){let z=w.length;for(;z--;)w[z].attendeeId===x.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+x.boundAttendeeId+" streamId: "+w[z].streamId),this.pausedStreamIds.add(w[z].streamId),this.subscribedReceiveSet.contain(w[z].streamId)&&A.push(w[z]),w.splice(z,1))}}}processBwPausedStreams(A,w){if(!this.tileController){this.logger.warn("tileController not found!");return}const R=this.getCurrentVideoPreferences();if(R&&this.shouldPauseTiles){const P=this.tileController.getAllVideoTiles();for(const x of R){const z=this.getVideoTileForAttendeeId(x.attendeeId,P),Z=(z==null?void 0:z.state().paused)||!1;if(w.some(re=>re.attendeeId===x.attendeeId))Z&&this.pausedBwAttendeeIds.has(x.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${x.attendeeId} due to bandwidth`),this.forEachObserver(re=>{re.tileWillBeUnpausedByDownlinkPolicy(z.id())}),this.tileController.unpauseVideoTile(z.id()),this.pausedBwAttendeeIds.delete(x.attendeeId));else{const re=A.some(ne=>ne.attendeeId===x.attendeeId);if(z&&re){const ne=this.optimalReceiveStreams.find(he=>he.attendeeId===x.attendeeId);ne!==void 0&&(Z||(this.logger.info(`bwe: pausing streamId ${ne.streamId} attendee ${x.attendeeId} due to bandwidth`),this.forEachObserver(he=>{he.tileWillBePausedByDownlinkPolicy(z.id())}),this.tileController.pauseVideoTile(z.id())),w.push(ne)),this.pausedBwAttendeeIds.add(x.attendeeId)}else if(re){const ne=this.tileController.addVideoTile();ne.bindVideoStream(x.attendeeId,!1,null,0,0,0,null),this.forEachObserver(he=>{he.tileWillBePausedByDownlinkPolicy(ne.id())}),ne.pause(),this.logger.info(`bwe: Created video tile ${ne.id()} for bw paused attendee ${x.attendeeId}`),this.pausedBwAttendeeIds.add(x.attendeeId)}}}}}cleanBwPausedTiles(A){if(!this.tileController){this.logger.warn("tileController not found!");return}const w=this.tileController.getAllRemoteVideoTiles(),R=this.getCurrentVideoPreferences();for(const P of w){const x=P.state();x.boundVideoStream||(A.some(z=>z.attendeeId===x.boundAttendeeId)?R!==void 0&&!R.some(z=>z.attendeeId===x.boundAttendeeId)&&this.tileController.removeVideoTile(x.tileId):(this.tileController.removeVideoTile(x.tileId),this.logger.info(`bwe: Removed video tile ${x.tileId} for bw paused attendee ${x.boundAttendeeId}`)))}}priorityPolicy(A,w,R){let P;const x=this.getCurrentVideoPreferences(),z=x.highestPriority();let Z,re=z;for(;re!==-1;){Z=-1;for(const ne of x)if(ne.priority===re)for(const he of w)he.attendeeId===ne.attendeeId&&(R.some(ge=>ge.groupId===he.groupId)||(A.chosenTotalBitrate+he.avgBitrateKbps<=A.targetDownlinkBitrate?(R.push(he),A.chosenTotalBitrate+=he.avgBitrateKbps):A.deltaToNextUpgrade===0&&(A.deltaToNextUpgrade=he.avgBitrateKbps,P=he)));else if(ne.priority>re){Z=ne.priority;break}for(const ne of x)if(ne.priority===re){for(const he of w)if(he.attendeeId===ne.attendeeId){const ge=R.findIndex(Pe=>Pe.groupId===he.groupId&&Pe.maxBitrateKbps<=he.maxBitrateKbps&&Pe.avgBitrateKbps<he.avgBitrateKbps);if(ge!==-1){const Pe=he.avgBitrateKbps-R[ge].avgBitrateKbps;this.hasSimulcastStreams(w,he.attendeeId,he.groupId)&&this.canUpgrade(he.avgBitrateKbps,ne.targetSize,ne.targetSizeToBitrateKbps(ne.targetSize),he.attendeeId.endsWith(e.default.Modality))?(this.logger.info(`bwe: attendee: ${he.attendeeId} group: ${he.groupId} has simulcast and can upgrade avgBitrate: ${he.avgBitrateKbps} target: ${ne.targetSizeToBitrateKbps(ne.targetSize)} targetTotalBitrate: ${A.targetDownlinkBitrate}`),A.chosenTotalBitrate+Pe<=A.targetDownlinkBitrate?(A.chosenTotalBitrate+=Pe,R[ge]=he):A.deltaToNextUpgrade===0&&(A.deltaToNextUpgrade=Pe,P=he)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(ne.priority>re)break;if(re===z&&A.deltaToNextUpgrade!==0)break;re=Z}return P}getVideoTileForAttendeeId(A,w){for(const R of w)if(R.state().boundAttendeeId===A)return R;return null}canUpgrade(A,w,R,P){let x=!1;return(w===v.default.High||!P&&A<=R||P&&w===v.default.Medium&&A<=R)&&(x=!0),x?(this.logger.info(`bwe: canUpgrade: bitrateKbps: ${A} targetBitrateKbps: ${R}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbps: ${A} targetBitrateKbps: ${R}`),!1)}hasSimulcastStreams(A,w,R){let P=0;for(const x of A)x.attendeeId===w&&x.groupId===R&&P++;return this.logger.info(`bwe: attendeeId: ${w} groupId: ${R} hasSimulcastStreams: streamCount: ${P}`),P>1}streamsWithPreferenceDidChange(A){if(this.previousStreamsWithPreference===void 0||A.length!==this.previousStreamsWithPreference.length||this.videoPreferencesUpdated===!0)return!0;for(const w of A)if(this.previousStreamsWithPreference.find(P=>P.groupId===w.groupId&&P.streamId===w.streamId&&P.maxBitrateKbps===w.maxBitrateKbps)===void 0)return!0;return!1}chosenStreamsSameAsLast(A){if(this.optimalNonPausedReceiveStreams.length!==A.length)return!1;for(const w of this.optimalNonPausedReceiveStreams)if(!A.some(R=>R.streamId===w.streamId))return!1;return!0}policyStateLogStr(A,w){const R=this.calculateSubscribeRate(this.optimalReceiveStreams),P={targetBitrate:w,subscribedRate:R,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let x="remoteInfos: [";for(const Z of A)x+=`{grpId:${Z.groupId} strId:${Z.streamId} maxBr:${Z.maxBitrateKbps} avgBr:${Z.avgBitrateKbps}}, `;x+="]";let z=`bwe: optimalReceiveSet ${JSON.stringify(P)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${x}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(z+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?z+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:z+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,z}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(A){this.serverSideNetworkAdaption=A,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[r.default.None,r.default.BandwidthProbing,r.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let A=this.getCurrentVideoPreferences();return A||(A=S.VideoPreferences.prepare().build()),A}wantsAllTemporalLayersInIndex(){return!0}constructor(A,w=_.default.Default){this.logger=A,this.videoPriorityBasedPolicyConfig=w,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption===r.default.Default&&(this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=r.default.BandwidthProbingAndRemoteVideoQualityAdaption),this.reset()}},"VideoPriorityBasedPolicy");l.default=T,T.DEFAULT_BANDWIDTH_KBPS=2800,T.STARTUP_PERIOD_MS=6e3,T.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,T.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,T.LOW_BITRATE_THRESHOLD_KBPS=300,T.MIN_TIME_BETWEEN_PROBE_MS=5e3,T.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,T.MAX_HOLD_BEFORE_PROBE_MS=3e4,T.MAX_ALLOWED_PROBE_TIME_MS=6e4,T.SPURIOUS_PACKET_LOST_THRESHOLD=2,T.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},4177728618:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(1382242439));let m=n(class Ff{allowSubscribe(a,s){let i=0;const e=this.currentNetworkEvent;if(s>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=s,!0;if(s<this.referenceBitrate){if(this.currentNetworkEvent=1,i=this.getSubscribeDelay(this.currentNetworkEvent,a),e!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>i)return this.referenceBitrate=s,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(a,s){let i=Ff.MINIMUM_DELAY_MS;const e=Ff.MAXIMUM_DELAY_MS-Ff.MINIMUM_DELAY_MS,t=this.networkIssueResponseDelayFactor;switch(a){case 1:i+=e*t*(1+s/10),i=Math.min(Ff.MAXIMUM_DELAY_MS,i);break}return i}constructor(a=0,s=0){this.networkIssueResponseDelayFactor=a,this.networkIssueRecoveryDelayFactor=s,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=h.default.BandwidthProbingAndRemoteVideoQualityAdaption,a<0?a=0:a>1&&(a=1),this.networkIssueResponseDelayFactor=a,s<0?s=0:s>1&&(s=1),this.networkIssueRecoveryDelayFactor=s}},"VideoPriorityBasedPolicyConfig");l.default=m,m.MINIMUM_DELAY_MS=2e3,m.MAXIMUM_DELAY_MS=8e3,m.Default=new m(0,0),m.UnstableNetworkPreset=new m(0,1),m.StableNetworkPreset=new m(1,0)},8758878068:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoQualityAdaptationPreference=void 0;var c;(function(d){d[d.Balanced=0]="Balanced",d[d.MaintainFramerate=1]="MaintainFramerate",d[d.MaintainResolution=2]="MaintainResolution"})(c=l.VideoQualityAdaptationPreference||(l.VideoQualityAdaptationPreference={})),l.default=c},1300637268:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{create(){const h={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{h.paused=!0},play:()=>(h.paused=!1,Promise.resolve())};return h}},"NoOpVideoElementFactory");l.default=c},5808804466:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return c(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(m){this.canvas=m,this.destroyed=!1}},"CanvasVideoFrameBuffer");l.default=d},2458227545:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})},h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(5808804466)),p=h(c(9151308820)),a=15;let s=n(class{destroy(){if(this.stop(),this.stages)for(const e of this.stages)e.destroy();this.timer.destroy()}get framerate(){return this.fr}set framerate(e){this.fr=e<0?a:e}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const e of this.outputMediaStream.getVideoTracks())e.stop();this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(e=>{e.processingDidStop&&e.processingDidStop()}))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}getInputMediaStream(){return d(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(e){return d(this,void 0,void 0,function*(){if(!e){this.stop();return}if(e.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=e;const t=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(t)}`),this.framerate=t.frameRate,this.canvasOutput.width=t.width,this.canvasOutput.height=t.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const r=new m.default(this.canvasInput);this.sourceBuffers.push(r),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const e of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${e.id} from output stream`),this.outputMediaStream.removeTrack(e);for(const e of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${e.id} to output stream`),this.outputMediaStream.addTrack(e)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(e){this.stages=e}get processors(){return this.stages}forEachObserver(e){for(const t of this.observers)setTimeout(()=>{e(t)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const e of this.inputVideoStream.getTracks())e.stop();this.inputVideoStream=null;for(const e of this.sourceBuffers)e.destroy();this.sourceBuffers=[]}constructor(e,t,r=new p.default){this.logger=e,this.stages=t,this.fr=a,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=o=>d(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const f=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let g=[];g.push(this.sourceBuffers[0]);try{for(const T of this.processors)g=yield T.process(g)}catch{this.forEachObserver(I=>{I.processingDidFailToStart&&I.processingDidFailToStart()});return}this.destBuffers=g;let v;try{v=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(I=>{I.processingDidFailToStart&&I.processingDidFailToStart()}));return}const u=v.width,S=v.height;u!==0&&S!==0&&(this.canvasOutput.width!==u&&this.canvasOutput.height!==S&&(this.canvasOutput.width=u,this.canvasOutput.height=S),this.outputCtx.drawImage(v,0,0,u,S,0,0,u,S),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(T=>{T.processingDidStart&&T.processingDidStart()})));const _=performance.now()-f,b=1e3*2/this.framerate-_,E=Math.max(0,1e3/this.framerate-_);b<=0&&this.forEachObserver(T=>{T.processingLatencyTooHigh&&T.processingLatencyTooHigh(_)}),yield this.timer.start(E,this.process.bind(this))}),this.timer=r}},"DefaultVideoFrameProcessorPipeline");l.default=s},9151308820:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{createWorkerTimer(){try{const m=new Blob([`self.onmessage = async function(e){ 
            var timerID = null;
            const awaitTimeout = delay => new Promise( resolve => {
              timerID = setTimeout(resolve, delay);
            })
            await awaitTimeout(e.data);
            postMessage(timerID);
          }`],{type:"application/javascript"});return new Worker(window.URL.createObjectURL(m))}catch{}}start(m,p){return c(this,void 0,void 0,function*(){this.callback=p,this.workerTimer?(this.workerTimer.onmessage=a=>{this.lastTimeout=a.data,this.callback()},this.workerTimer.postMessage(m)):this.lastTimeout=setTimeout(()=>{this.callback()},m)})}destroy(){return c(this,void 0,void 0,function*(){this.callback=void 0,this.lastTimeout&&(clearTimeout(this.lastTimeout),this.lastTimeout=void 0),this.workerTimer&&(this.workerTimer.terminate(),this.workerTimer=void 0)})}constructor(){this.workerTimer=void 0,this.callback=void 0,this.workerTimer=this.createWorkerTimer()}},"DefaultVideoFrameProcessorTimer");l.default=d},6948472094:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9445576035)),p=h(c(2458227545));let a=n(class Yv{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(i){if(this.pipe.processors)for(const e of this.pipe.processors)typeof e.setEventController=="function"&&e.setEventController(i)}chooseNewInnerDevice(i){const e=new Yv(this.logger,i,this.processors,this.browserBehavior);return e.pipe=this.pipe,e}getInnerDevice(){return this.device}intrinsicDevice(){return d(this,void 0,void 0,function*(){return this.device})}transformStream(i){return d(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(i),this.inputMediaStream=i,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const i=this.device&&this.device.id;if(this.pipe.stop(),!i&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return d(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(i=>{i.processingDidStart&&i.processingDidStart()})}processingLatencyTooHigh(i){this.forEachObserver(e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(i)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(i=>{i.processingDidFailToStart&&i.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()})}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}get framerate(){return this.pipe.framerate}set framerate(i){this.pipe.framerate=i}constructor(i,e,t,r=new m.default){this.logger=i,this.device=e,this.processors=t,this.browserBehavior=r,this.observers=new Set,this.pipe=new p.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");l.default=a},3503763380:function(V,l){"use strict";var c=this&&this.__awaiter||function(h,m,p,a){function s(i){return i instanceof p?i:new p(function(e){e(i)})}return n(s,"adopt"),new(p||(p=Promise))(function(i,e){function t(f){try{o(a.next(f))}catch(g){e(g)}}n(t,"fulfilled");function r(f){try{o(a.throw(f))}catch(g){e(g)}}n(r,"rejected");function o(f){f.done?i(f.value):s(f.value).then(t,r)}n(o,"step"),o((a=a.apply(h,m||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});let d=n(class{process(m){return c(this,void 0,void 0,function*(){return m})}destroy(){return c(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");l.default=d},9608994713:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DeferredPromise=void 0;let c=n(class{getPromise(){return this.promise}resolvePromise(h){this.resolve(h)}resolveAndReplacePromise(h){this.resolve(h),this.promise=new Promise((m,p)=>{this.resolve=m,this.reject=p})}rejectPromise(h){this.reject(h)}rejectAndReplacePromise(h){this.reject(h),this.promise=new Promise((m,p)=>{this.resolve=m,this.reject=p})}constructor(){this.promise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}},"DeferredPromise");l.DeferredPromise=c},523357355:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(p,a,s,i){function e(t){return t instanceof s?t:new s(function(r){r(t)})}return n(e,"adopt"),new(s||(s=Promise))(function(t,r){function o(v){try{g(i.next(v))}catch(u){r(u)}}n(o,"fulfilled");function f(v){try{g(i.throw(v))}catch(u){r(u)}}n(f,"rejected");function g(v){v.done?t(v.value):e(v.value).then(o,f)}n(g,"step"),g((i=i.apply(p,a||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxCanvasOpsManager=void 0;const h=c(9434786545);let m=n(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return d(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const s=document.createElement("canvas");s.width=this.streamParameters.width,s.height=this.streamParameters.height,s.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=h.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=h.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return d(this,void 0,void 0,function*(){const s=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(s)try{const e=yield this.loadImage(s);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}resizeAndSetReplacementColor(a){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.streamParameters.width,s.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=s}loadImage(a){return d(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,r)=>{e.onload=()=>{t(e)},e.onerror=o=>{r(o)}})})}constructor(a,s){this.streamParameters=a,this.outputCanvas=s,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");l.VideoFxCanvasOpsManager=m},9434786545:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_VIDEO_FX_SPEC=l.FXLIB_PATH=l.WORKER_PATH=l.CDN_BASE_PATH=l.RESOURCE_CONSTRAINTS=l.SEGMENTATION_MODEL=l.DEFAULT_STREAM_PARAMETERS=l.WORKER_MSG=void 0,l.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},l.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},l.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},l.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},l.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const c="/ml_media_fx/otherassets";l.WORKER_PATH=`${c}/worker.js`,l.FXLIB_PATH=`${c}/fxlib.js`,l.DEFAULT_VIDEO_FX_SPEC={paths:{cdnBasePath:l.CDN_BASE_PATH,workerPath:l.WORKER_PATH,fxLibPath:l.FXLIB_PATH}}},3767048744:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(S,_,b,E){function T(I){return I instanceof b?I:new b(function(A){A(I)})}return n(T,"adopt"),new(b||(b=Promise))(function(I,A){function w(x){try{P(E.next(x))}catch(z){A(z)}}n(w,"fulfilled");function R(x){try{P(E.throw(x))}catch(z){A(z)}}n(R,"rejected");function P(x){x.done?I(x.value):T(x.value).then(w,R)}n(P,"step"),P((E=E.apply(S,_||[])).next())})},h=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0});const m=c(2108947428),p=c(8567210951),a=c(4085910259),s=h(c(9445576035)),i=h(c(2044674978)),e=c(1366921492),t=h(c(6332689210)),r=h(c(5808804466)),o=c(9608994713),f=c(523357355),g=c(9434786545),v=c(9635746919);let u=n(class Uu{process(_){return d(this,void 0,void 0,function*(){return _})}fxProcess(_){return d(this,void 0,void 0,function*(){const b=_[0].asCanvasElement();this.didStreamParametersChange(b)&&(yield this.adjustProcessorForNewStreamParameters(b));try{yield this.manageSegmentationMask(b)}catch(E){throw this.logger.error(E),new Error("Video stream could not be processed")}return yield this.renderer.render(b,this.segmentationMask),_[0]=this.canvasVideoFrameBuffer,_})}noOpProcess(_){return d(this,void 0,void 0,function*(){return _})}didStreamParametersChange(_){return _.width!==this.streamParameters.width||_.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(_){return d(this,void 0,void 0,function*(){this.streamParameters.width=_.width,this.streamParameters.height=_.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return d(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new o.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:g.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(_){return d(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const b=this.canvasOpsManager.getInferenceInputData(_);this.segmentationMask=yield this.generateSegmentationMask(b),this.segmentationRateManager.completeSegmentation()}}catch(b){throw this.logger.error(b.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(_){return d(this,void 0,void 0,function*(){Uu.isSharedArrayBufferSupported?(this.sharedImageData.set(_.data),this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:_},[_.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(b){throw this.logger.error(b.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(_){return{backgroundBlur:{isEnabled:_.backgroundBlur.isEnabled,strength:_.backgroundBlur.strength},backgroundReplacement:{isEnabled:_.backgroundReplacement.isEnabled,backgroundImageURL:_.backgroundReplacement.backgroundImageURL,defaultColor:_.backgroundReplacement.defaultColor}}}setVideoFxSpec(_){_.paths&&(this.videoFxSpec.paths=_.paths)}setEffectConfig(_){return d(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(_,this.effectConfig))return;const b=this.cloneConfigFrom(_);try{yield this.validateEffectConfig(b)}catch(E){throw this.logger.error(E.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}b.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(b),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,b),this.effectConfig=b,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(_){return d(this,void 0,void 0,function*(){if(_.backgroundBlur.isEnabled&&_.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");_.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(_))})}validateReplacementConfig(_){return d(this,void 0,void 0,function*(){if(_.backgroundReplacement.backgroundImageURL&&_.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!_.backgroundReplacement.backgroundImageURL&&!_.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{_.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(_.backgroundReplacement.backgroundImageURL))}catch(E){throw this.logger.error(E.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const b=_.backgroundReplacement.defaultColor;if(b&&b!=="black"&&b!=="#000000"&&b!=="#000"){if(b.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(b))throw new Error(`Invalid hexadecimal color code for default replacement background: ${b}`);const T=document.createElement("canvas").getContext("2d"),I=T.fillStyle;if(T.fillStyle=b,T.fillStyle===I)throw new Error(`Invalid color for default replacement background: ${b}`)}})}validateProcessingBudgetPerFrame(_){if(_<g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||_>g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return d(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const _=this.getVideoFxAssetParams();yield this.loadEngineWorker(_),yield this.buildEngine(_),yield this.loadFxLib(_),this.renderer=constructRenderer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(_){throw this.logger.error(_.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const _=e.getDefaultAssetSpec();return{assetGroup:_.assetGroup,revisionID:_.revisionID,sdk:encodeURIComponent(t.default.sdkVersion),ua:encodeURIComponent(t.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(_,b){const E=new URL(_);for(const[T,I]of Object.entries(b))if(I!==void 0){const A=encodeURIComponent(T),w=encodeURIComponent(I);E.searchParams.set(A,w)}return E.toString()}loadEngineWorker(_){return d(this,void 0,void 0,function*(){try{const b=this.getPathFromVideoFxAssetParams(this.videoFxSpec.paths.cdnBasePath+this.videoFxSpec.paths.workerPath,_);this.engineWorker=yield p.loadWorker(b,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",E=>this.engineWorkerReceiver(E))}catch(b){throw this.logger.error(b.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(_){return d(this,void 0,void 0,function*(){this.buildEnginePromise=new o.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:this.videoFxSpec.paths.cdnBasePath,sdkVersioningParams:_}});try{yield this.buildEnginePromise.getPromise()}catch(b){throw this.logger.error(b.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(_){return d(this,void 0,void 0,function*(){const b=this.getPathFromVideoFxAssetParams(this.videoFxSpec.paths.cdnBasePath+this.videoFxSpec.paths.fxLibPath,_),E={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const T=yield m.fetchWithBehavior(b,E,{});if(!T.ok)throw new Error("Fetch failed.");const I=window.URL.createObjectURL(yield T.blob());yield new Promise((A,w)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",I),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",A),this.fxLibScript.addEventListener("error",w),document.body.appendChild(this.fxLibScript)})}catch(T){throw this.logger.error(T.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(_){const b=_.data;switch(b.msg){case g.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(b.payload);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(b.payload.output);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case g.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(b)}`);break}}settleEngineBuildPromise(_){_!==g.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(_){_?this.segmentationRequestPromise.resolveAndReplacePromise(_):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const _=new ImageData(new Uint8ClampedArray(this.sharedImageData),g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(_)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new i.default,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return d(this,void 0,void 0,function*(){let E=!0;const T=n((w,R)=>{w&&(_.info(R),E=!1)},"checkEnv");T(typeof globalThis>"u","Browser does not have globalThis."),T(!a.supportsWorker(globalThis,_),"Browser does not support web workers."),T(!a.supportsWASM(globalThis,_),"Browser does not support wasm."),T(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const I=new s.default;T(!I.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const A=n(()=>d(this,void 0,void 0,function*(){if(b)try{const w=new Uu(_);yield w.loadAssets(),yield w.destroy()}catch{return _.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(E?yield A():!1)})}static create(_,b){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,T=arguments.length>3?arguments[3]:void 0;return d(this,void 0,void 0,function*(){const I=new Uu(_,E);T&&I.setVideoFxSpec(T);try{return yield I.loadAssets(),yield I.setEffectConfig(b),I}catch(A){throw _.error(A.toString()),I.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(_){this.eventController?this.eventController=_:(this.eventController=_,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const _={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",_)}sameVideoFxConfig(_,b){return _.backgroundBlur.isEnabled===b.backgroundBlur.isEnabled&&_.backgroundBlur.strength===b.backgroundBlur.strength&&_.backgroundReplacement.backgroundImageURL===b.backgroundReplacement.backgroundImageURL&&_.backgroundReplacement.defaultColor===b.backgroundReplacement.defaultColor&&_.backgroundReplacement.isEnabled===b.backgroundReplacement.isEnabled}constructor(_,b=g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,E){this.logger=_,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new r.default(this.outputCanvas),this.videoFxSpec=g.DEFAULT_VIDEO_FX_SPEC;try{this.validateProcessingBudgetPerFrame(b)}catch(T){throw this.logger.error(T),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${b}`)}E&&(this.eventController=E),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new o.DeferredPromise,this.segmentationRateManager=new v.VideoFxSegmentationRateManager(this.logger,b),this.streamParameters={framerate:g.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:g.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:g.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:g.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},Uu.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${Uu.isSharedArrayBufferSupported}`),this.canvasOpsManager=new f.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${b}`)}},"VideoFxProcessor");l.default=u,u.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},9635746919:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VideoFxSegmentationRateManager=void 0;const d=c(9434786545);let h=n(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=d.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(p){p>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&p<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(p,a){this.logger=p,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=d.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");l.VideoFxSegmentationRateManager=h},1041737276:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"VideoSource");l.default=c},6054180211:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Hm{add(h){this.ids.add(h)}array(){return Array.from(this.ids.values()).sort((m,p)=>m-p)}contain(h){return this.ids.has(h)}forEach(h){this.ids.forEach(h)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(h){if(!h)return this.ids.size===0;const m=this.array(),p=h.array();if(m.length!==p.length)return!1;for(let a=0;a<m.length;a++)if(m[a]!==p[a])return!1;return!0}clone(){return new Hm(this.array())}remove(h){this.ids.delete(h)}toJSON(){return this.array()}truncate(h){const m=this.array();return new Hm(m.splice(0,h))}constructor(h){this.ids=new Set(h)}},"DefaultVideoStreamIdSet");l.default=c},543972823:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7613896012),m=d(c(6054180211)),p=d(c(9786322758));let a=n(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(i){return i>0&&i<1e3?1:Math.trunc(i/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const i=[];return this.currentIndex.sources.forEach(e=>{const t=new p.default;t.attendeeId=e.attendeeId,t.groupId=e.groupId,t.streamId=e.streamId,t.maxBitrateKbps=e.maxBitrateKbps,t.avgBitrateKbps=this.convertBpsToKbps(e.avgBitrateBps),t.width=e.width,t.height=e.height,t.maxFrameRate=e.framerate,i.push(t)}),i}integrateUplinkPolicyDecision(i){if(i&&i.length){const e=i[0];this.videoStreamDescription.maxBitrateKbps=e.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=e.maxFramerate}}integrateIndexFrame(i){if(this.currentIndex=i,!i)return;const e=new Map;let t=!1;for(const r of i.sources){if(!e.has(r.attendeeId)){e.set(r.attendeeId,r.groupId);continue}const o=e.get(r.attendeeId);o<r.groupId&&(this.logger.warn(`Old group ID ${o} found for attendee ID ${r.attendeeId}, replacing with newer group ID ${r.groupId}`),e.set(r.attendeeId,r.groupId)),t=!0}t&&(this.currentIndex.sources=this.currentIndex.sources.filter(r=>e.get(r.attendeeId)===r.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}remoteVideoUpdateSent(){this.indexForLastRemoteVideoUpdate=this.currentIndex}integrateSubscribeAckFrame(i){this.currentSubscribeAck=i,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe),this.sendVideoStreamId=0,i.allocations&&i.allocations!==void 0&&i.allocations.length>0&&(this.sendVideoStreamId=i.allocations[0].streamId)}integrateBitratesFrame(i){if(this.currentIndex)for(const e of i.bitrates){const t=this.currentIndex.sources.find(r=>r.streamId===e.sourceStreamId);t!==void 0&&(t.avgBitrateBps=e.avgBitrateBps)}}allStreams(){const i=new m.default;if(this.currentIndex)for(const e of this.currentIndex.sources)i.add(e.streamId);return i}allVideoSendingSourcesExcludingSelf(i){const e=[],t=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const r of this.currentIndex.sources){const{attendeeId:o,externalUserId:f,mediaType:g}=r;o!==i&&g===h.SdkStreamMediaType.VIDEO&&(t.has(o)||(e.push({attendee:{attendeeId:o,externalUserId:f}}),t.add(o)))}return e}streamSelectionUnderBandwidthConstraint(i,e,t,r){const o=new Set;if(this.currentIndex)for(const S of this.currentIndex.sources)S.attendeeId===i||S.mediaType!==h.SdkStreamMediaType.VIDEO||!e.has(S.attendeeId)&&!t.has(S.attendeeId)&&o.add(S.attendeeId);const f=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i),g=new Map;let v=0;f.forEach((S,_)=>{g.set(_,S[0]),v+=S[0].maxBitrateKbps}),v=this.trySelectHighBitrateForAttendees(f,e,v,r,g),this.trySelectHighBitrateForAttendees(f,o,v,r,g);const u=new m.default;for(const S of g.values())u.add(S.streamId);return u}highestQualityStreamFromEachGroupExcludingSelf(i){const e=new m.default;if(this.currentIndex){const t=new Map;for(const r of this.currentIndex.sources)r.attendeeId===i||r.mediaType!==h.SdkStreamMediaType.VIDEO||(!t.has(r.groupId)||r.maxBitrateKbps>t.get(r.groupId).maxBitrateKbps)&&t.set(r.groupId,r);for(const r of t.values())e.add(r.streamId)}return e}numberOfVideoPublishingParticipantsExcludingSelf(i){return this.highestQualityStreamFromEachGroupExcludingSelf(i).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${i}`),"";const t=this.subscribeStreamToAttendeeMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known attendee`),"")}externalUserIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${i}`),"";const t=this.subscribeStreamToExternalUserIdMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(i){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const e=this.streamToAttendeeMap.get(i);return e||(this.logger.info(`stream ID ${i} does not correspond to a known attendee`),"")}attendeeIdForGroupId(i){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const e=this.groupIdToAttendeeMap.get(i);return e||(this.logger.info(`group ID ${i} does not correspond to a known attendee`),"")}groupIdForStreamId(i){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const e of this.currentIndex.sources)if(e.streamId===i)return e.groupId;if(this.indexForSubscribe){for(const e of this.indexForSubscribe.sources)if(e.streamId===i)return e.groupId}if(this.indexForLastRemoteVideoUpdate){for(const e of this.indexForLastRemoteVideoUpdate.sources)if(e.streamId===i)return e.groupId}}}StreamIdsInSameGroup(i,e){return this.groupIdForStreamId(i)===this.groupIdForStreamId(e)}streamIdForTrack(i){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(i)}streamIdForSSRC(i){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(i)}overrideStreamIdMappings(i,e){if(this.subscribeTrackToStreamMap){for(const[t,r]of this.subscribeTrackToStreamMap.entries())if(i===r){this.subscribeTrackToStreamMap.set(t,e);break}}if(this.subscribeSsrcToStreamMap){for(const[t,r]of this.subscribeSsrcToStreamMap.entries())if(i===r){this.subscribeSsrcToStreamMap.set(t,e);break}}}groupIdForSSRC(i){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(i)}streamsPausedAtSource(){const i=new m.default;if(this.currentIndex)for(const e of this.currentIndex.pausedAtSourceIds)i.add(e);return i}sendVideoStreamIdFromRid(i){return this.sendVideoStreamId}buildTrackToStreamMap(i){const e=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.trackLabel,t.streamId);return e}buildSSRCToStreamMap(i){const e=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,t.streamId);return e}buildSSRCToGroupMap(i){const e=new Map;for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,this.groupIdForStreamId(t.streamId));return e}buildStreamToAttendeeMap(i){const e=new Map;if(i)for(const t of i.sources)e.set(t.streamId,t.attendeeId);return e}buildGroupIdToAttendeeMap(i){const e=new Map;for(const t of i.sources)e.set(t.groupId,t.attendeeId);return e}buildStreamExternalUserIdMap(i){const e=new Map;if(i)for(const t of i.sources)t.externalUserId&&e.set(t.streamId,t.externalUserId);return e}trySelectHighBitrateForAttendees(i,e,t,r,o){for(const f of e){if(t>=r)break;if(i.has(f)){const g=i.get(f);for(const v of g.reverse())if(t-o.get(f).maxBitrateKbps+v.maxBitrateKbps<r){t=t-o.get(f).maxBitrateKbps+v.maxBitrateKbps,o.set(f,v);break}}}return t}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i){const e=new Map;if(this.currentIndex)for(const t of this.currentIndex.sources)t.attendeeId===i||t.mediaType!==h.SdkStreamMediaType.VIDEO||(e.has(t.attendeeId)?e.get(t.attendeeId).push(t):e.set(t.attendeeId,[t]));return e.forEach((t,r)=>{t.sort((o,f)=>o.maxBitrateKbps>f.maxBitrateKbps?1:o.maxBitrateKbps<f.maxBitrateKbps?-1:0)}),e}constructor(i){this.logger=i,this.currentIndex=null,this.indexForSubscribe=null,this.indexForLastRemoteVideoUpdate=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new p.default,this.sendVideoStreamId=0,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");l.default=a},9066329271:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=c(7613896012),m=d(c(543972823)),p=d(c(9786322758));let a=n(class Vu extends m.default{localStreamDescriptions(){const i=[];return this._localStreamInfos.forEach(e=>{i.push(e.clone())}),i}integrateUplinkPolicyDecision(i){let e=!0,t=0;for(let r=0;r<i.length;r++){const o=i[r].maxBitrate/1e3,f=i[r].maxFramerate;if(!e||r===this._localStreamInfos.length){e=!1;const g=new p.default;g.maxBitrateKbps=o,g.maxFrameRate=f,g.disabledByUplinkPolicy=o===0,g.rid=i[r].rid,o!==0&&(g.timeEnabled=Date.now()),this._localStreamInfos.push(g),t++;continue}this._localStreamInfos[t].maxBitrateKbps===0&&o>0&&(this._localStreamInfos[t].timeEnabled=Date.now()),this._localStreamInfos[t].maxBitrateKbps=o,this._localStreamInfos[t].maxFrameRate=f,this._localStreamInfos[t].disabledByUplinkPolicy=o===0,t++}e&&this._localStreamInfos.splice(t)}integrateBitratesFrame(i){super.integrateBitratesFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const r of i.bitrates)e.add(r.sourceStreamId),this.streamIdToBitrateKbpsMap.set(r.sourceStreamId,this.convertBpsToKbps(r.avgBitrateBps));for(const r of t)e.has(r)||(this.streamIdToBitrateKbpsMap.get(r)===Vu.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(r,Vu.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(r,Vu.NOT_SENDING_STREAM_BITRATE));this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let i="";for(const e of this._localStreamInfos)i+=`streamId=${e.streamId} maxBitrate=${e.maxBitrateKbps} disabledByUplink=${e.disabledByUplinkPolicy}
`;this.logger.debug(()=>i)}integrateIndexFrame(i){super.integrateIndexFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const r of this.currentIndex.sources)r.mediaType===h.SdkStreamMediaType.VIDEO&&(e.add(r.streamId),this.streamIdToBitrateKbpsMap.has(r.streamId)||this.streamIdToBitrateKbpsMap.set(r.streamId,Vu.UNSEEN_STREAM_BITRATE));for(const r of t)e.has(r)||this.streamIdToBitrateKbpsMap.delete(r)}integrateSubscribeAckFrame(i){if(super.integrateSubscribeAckFrame(i),!i.allocations||i.allocations===void 0)return;let e=0;this._sendRidToVideoStreamIdMap.clear();for(const t of i.allocations){if(this._localStreamInfos.length<e+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[e].groupId=t.groupId,this._localStreamInfos[e].streamId=t.streamId,this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,Vu.UNSEEN_STREAM_BITRATE),this._sendRidToVideoStreamIdMap.set(this._localStreamInfos[e].rid,t.streamId),e++}}sendVideoStreamIdFromRid(i){let e=0;return this._sendRidToVideoStreamIdMap.has(i)&&(e=this._sendRidToVideoStreamIdMap.get(i)),e}constructor(){super(...arguments),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._sendRidToVideoStreamIdMap=new Map}},"SimulcastVideoStreamIndex");l.default=a,a.UNSEEN_STREAM_BITRATE=-2,a.RECENTLY_INACTIVE_STREAM_BITRATE=-1,a.NOT_SENDING_STREAM_BITRATE=0,a.BitratesMsgFrequencyMs=4e3},9786322758:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});const d=c(7613896012);let h=n(class Xv{clone(){const p=new Xv;return p.attendeeId=this.attendeeId,p.groupId=this.groupId,p.streamId=this.streamId,p.ssrc=this.ssrc,p.trackLabel=this.trackLabel,p.maxBitrateKbps=this.maxBitrateKbps,p.avgBitrateKbps=this.avgBitrateKbps,p.maxFrameRate=this.maxFrameRate,p.timeEnabled=this.timeEnabled,p.disabledByUplinkPolicy=this.disabledByUplinkPolicy,p.width=this.width,p.height=this.height,p}toStreamDescriptor(){const p=d.SdkStreamDescriptor.create();return p.mediaType=d.SdkStreamMediaType.VIDEO,p.trackLabel=this.trackLabel,p.attendeeId=this.attendeeId,p.streamId=this.streamId,p.groupId=this.groupId,p.framerate=this.maxFrameRate,p.maxBitrateKbps=this.disabledByUplinkPolicy?0:this.maxBitrateKbps,p.avgBitrateBps=this.avgBitrateKbps,p}totalPixels(){return this.width*this.height}constructor(p,a,s,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.width=0,this.height=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.rid="",this.attendeeId=p,this.groupId=a,this.streamId=s,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");l.default=h},7517865245:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{notifyObservers(h,m){for(const p of this.observerQueue)p.videoElementResolutionChanged(h,m)}registerObserver(h){this.observerQueue.add(h)}removeObserver(h){this.observerQueue.delete(h)}bindVideoElement(h){if(this.element=h,!this.element){this.resizeObserver.unobserve(this.element);return}this.resizeObserver.observe(this.element)}constructor(){this.observerQueue=new Set,this.resizeObserver=new ResizeObserver(h=>{for(const m of h){const{width:p,height:a}=m.contentRect;this.notifyObservers(p,a)}})}},"DefaultVideoElementResolutionMonitor");l.default=c},6158504357:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(9445576035)),m=d(c(1594701503)),p=d(c(6317694849));let a=n(class Fc{static connectVideoStreamToVideoElement(i,e,t){const r=t&&i.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(Fc.setVideoElementFlag(e,"disablePictureInPicture",t),Fc.setVideoElementFlag(e,"disableRemotePlayback",t),e.style.transform!==r&&(e.style.transform=r),e.hasAttribute("controls")&&e.removeAttribute("controls"),e.hasAttribute("autoplay")||e.setAttribute("autoplay","true"),e.hasAttribute("playsinline")||e.setAttribute("playsinline","true"),e.hasAttribute("muted")||(e.setAttribute("muted","true"),e.muted=!0),e.srcObject!==i&&(e.srcObject=i,new h.default().requiresVideoPlayWorkaround()&&e.paused)){const o=e.play();o!==void 0&&o.catch(f=>{console.warn("Error playing video in Safari",f)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i)if(e)t||(i.srcObject=null,i.style.transform="");else{if(!i.srcObject)return;i.pause(),i.style.transform="",Fc.setVideoElementFlag(i,"disablePictureInPicture",!1),Fc.setVideoElementFlag(i,"disableRemotePlayback",!1),i.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&Fc.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new p.default}devicePixelRatioChanged(i){this.tileState.devicePixelRatio=i,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(i,e,t,r,o,f,g,v){let u=!1;this.tileState.boundAttendeeId!==i&&(this.tileState.boundAttendeeId=i,new m.default(i).hasModality(m.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),u=!0),this.tileState.boundExternalUserId!==g&&(this.tileState.boundExternalUserId=g,u=!0),this.tileState.localTile!==e&&(this.tileState.localTile=e,u=!0),this.tileState.boundVideoStream!==t&&(this.tileState.boundVideoStream=t,u=!0),this.tileState.videoStreamContentWidth!==r&&(this.tileState.videoStreamContentWidth=r,u=!0),this.tileState.videoStreamContentHeight!==o&&(this.tileState.videoStreamContentHeight=o,u=!0),this.tileState.streamId!==f&&(this.tileState.streamId=f,u=!0),this.tileState.groupId!==v&&(this.tileState.groupId=v,u=!0),u&&this.sendTileStateUpdate()}bindVideoElement(i){var e;let t=!1;this.tileState.boundVideoElement!==i&&(this.tileState.boundVideoElement=i,(e=this.resolutionMonitor)===null||e===void 0||e.bindVideoElement(this.tileState.boundVideoElement),t=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==i.clientWidth&&(this.tileState.videoElementCSSWidthPixels=i.clientWidth,t=!0),this.tileState.videoElementCSSHeightPixels!==i.clientHeight&&(this.tileState.videoElementCSSHeightPixels=i.clientHeight,t=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),t&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const i=document.createElement("canvas"),e=this.tileState.boundVideoElement;i.width=e.videoWidth||e.width,i.height=e.videoHeight||e.height;const t=i.getContext("2d");return t.drawImage(e,0,0,i.width,i.height),t.getImageData(0,0,i.width,i.height)}setStreamId(i){this.tileState.streamId=i,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?Fc.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):Fc.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(i,e,t){e in i&&(i[e]=t)}constructor(i,e,t,r,o=void 0){this.tileController=t,this.devicePixelRatioMonitor=r,this.resolutionMonitor=o,this.tileState=new p.default,this.tileState.tileId=i,this.tileState.localTile=e,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");l.default=a},6317694849:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Qv{clone(){const h=new Qv;return h.tileId=this.tileId,h.localTile=this.localTile,h.isContent=this.isContent,h.active=this.active,h.paused=this.paused,h.poorConnection=this.poorConnection,h.boundAttendeeId=this.boundAttendeeId,h.boundExternalUserId=this.boundExternalUserId,h.boundVideoStream=this.boundVideoStream,h.boundVideoElement=this.boundVideoElement,h.nameplate=this.nameplate,h.videoStreamContentWidth=this.videoStreamContentWidth,h.videoStreamContentHeight=this.videoStreamContentHeight,h.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,h.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,h.devicePixelRatio=this.devicePixelRatio,h.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,h.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,h.streamId=this.streamId,h.groupId=this.groupId,h}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null,this.groupId=null}},"VideoTileState");l.default=c},8233988265:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(r,o,f,g){function v(u){return u instanceof f?u:new f(function(S){S(u)})}return n(v,"adopt"),new(f||(f=Promise))(function(u,S){function _(T){try{E(g.next(T))}catch(I){S(I)}}n(_,"fulfilled");function b(T){try{E(g.throw(T))}catch(I){S(I)}}n(b,"rejected");function E(T){T.done?u(T.value):v(T.value).then(_,b)}n(E,"step"),E((g=g.apply(r,o||[])).next())})},h=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(2425311569)),p=h(c(631034393)),a=h(c(7185484726)),s=c(9671487336),i=h(c(7517865245)),e=h(c(6158504357));let t=n(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new p.default(new a.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return d(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const o=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,o.destroy()})}bindVideoElement(o,f){const g=this.getVideoTile(o);if(g===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${o}`);return}g.bindVideoElement(f)}unbindVideoElement(o){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const g=this.getVideoTile(o);if(g===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${o}`);return}this.logger.info("Unbinding the video element"),this.notifyRemoteObserversOfUnbound(g.state().boundAttendeeId);const v=g.stateRef().boundVideoElement;g.bindVideoElement(null),f&&(this.logger.info("Cleaning up the video element"),e.default.disconnectVideoStreamFromVideoElement(v,!1))}startLocalVideoTile(){if(this.audioVideoController.configuration.meetingFeatures.videoMaxResolution===m.default.VideoDisabled)return this.logger.warn("Could not start camera video because max video resolution was set to None"),-1;const o=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),o.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(o){const f=this.getVideoTile(o);f&&(this.currentPausedTilesByIds.has(o)||(this.audioVideoController.pauseReceivingStream(f.stateRef().streamId),this.currentPausedTilesByIds.add(o)),f.pause())}unpauseVideoTile(o){const f=this.getVideoTile(o);f&&(this.currentPausedTilesByIds.has(o)&&(this.audioVideoController.resumeReceivingStream(f.stateRef().streamId),this.currentPausedTilesByIds.delete(o)),f.unpause())}getVideoTile(o){return this.tileMap.has(o)?this.tileMap.get(o):null}getVideoTileArea(o){const f=o.state();let g=0,v=0;return f.boundVideoElement&&(g=f.boundVideoElement.clientHeight*f.devicePixelRatio,v=f.boundVideoElement.clientWidth*f.devicePixelRatio),g*v}getAllRemoteVideoTiles(){const o=new Array;return this.tileMap.forEach((f,g)=>{(!this.currentLocalTile||g!==this.currentLocalTile.id())&&o.push(f)}),o}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const f=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const g=this.tileFactory.makeTile(f,o,this,this.devicePixelRatioMonitor,this.createResolutionMonitor(f));return this.tileMap.set(f,g),g}removeVideoTile(o){if(!this.tileMap.has(o))return;const f=this.tileMap.get(o);this.currentLocalTile===f&&(this.currentLocalTile=null),f.destroy(),this.tileMap.delete(o),this.audioVideoController.forEachObserver(g=>{s.Maybe.of(g.videoTileWasRemoved).map(v=>v.bind(g)(o))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(o){const f=[];for(const g of this.getAllVideoTiles()){const v=g.state();v.boundAttendeeId===o&&(this.removeVideoTile(v.tileId),f.push(v.tileId))}return f}removeAllVideoTiles(){const o=Array.from(this.tileMap.keys());for(const f of o)this.removeVideoTile(f)}sendTileStateUpdate(o){this.audioVideoController.forEachObserver(f=>{s.Maybe.of(f.videoTileDidUpdate).map(g=>g.bind(f)(o))})}haveVideoTilesWithStreams(){for(const o of this.getAllVideoTiles())if(o.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(o){return!!this.getVideoTileForAttendeeId(o)}getVideoTileForAttendeeId(o){for(const f of this.getAllVideoTiles())if(f.state().boundAttendeeId===o)return f}captureVideoTile(o){const f=this.getVideoTile(o);return f?f.capture():null}registerVideoTileResolutionObserver(o){this.resolutionObservers.add(o)}removeVideoTileResolutionObserver(o){this.resolutionObservers.delete(o)}notifyResolutionObserversOfChange(o,f,g){for(const v of this.resolutionObservers)v.videoTileResolutionDidChange(o,f,g)}notifyRemoteObserversOfUnbound(o){for(const f of this.resolutionObservers)f.videoTileUnbound(o)}createResolutionMonitor(o){const f=new class{videoElementResolutionChanged(v,u){const S=this.controller.getVideoTile(this.tileId);if(S){const _=S.state().boundAttendeeId;this.controller.notifyResolutionObserversOfChange(_,v,u)}}constructor(v,u){this.controller=v,this.tileId=u}}(this,o),g=new i.default;return g.registerObserver(f),g}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(o,f,g){this.tileFactory=o,this.audioVideoController=f,this.logger=g,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.resolutionObservers=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=f.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");l.default=t},8325297075:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6158504357));let m=n(class{makeTile(a,s,i,e,t){return new h.default(a,s,i,e,t)}},"DefaultVideoTileFactory");l.default=m},896836858:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{},"BitrateParameters");l.default=c},3752202768:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(568851064)),m=d(c(5814267651)),p=c(9671487336),a=d(c(8942355099)),s=d(c(896836858));let i=n(class Ml{updateConnectionMetric(t){}calculateEncodingParameters(){const t=[new s.default,new s.default,new s.default];this.shouldDisableSimulcast?(this.newActiveStreams=0,t[0].maxBitrateKbps=0,t[1].maxBitrateKbps=this.hiTargetBitrateKbps,t[2].maxBitrateKbps=0):this.numSenders<=4?(this.newActiveStreams=1,t[0].maxBitrateKbps=this.lowTargetBitrateKbps,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=this.hiTargetBitrateKbps):(this.newActiveStreams=2,t[0].maxBitrateKbps=this.lowTargetBitrateKbps*2/3,t[1].maxBitrateKbps=this.numSenders<=6?this.midTargetBitrateKbps:this.midTargetBitrateKbps*.6,t[2].maxBitrateKbps=0);const r=t.map((o,f,g)=>o.maxBitrateKbps);return this.newQualityMap=this.fillEncodingParamWithBitrates(r),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`),this.newQualityMap}chooseMediaTrackConstraints(){}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(t){const r=t.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,o=r!==this.numSenders,f=t.numberOfParticipants(),g=f>=0&&f<=2,v=this.shouldDisableSimulcast!==g;this.numSenders=r,this.shouldDisableSimulcast=g,this.optimalParameters=new a.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=t,(o||v)&&(this.newQualityMap=this.calculateEncodingParameters())}wantsResubscribe(){return!this.encodingParametersEqual()}compareEncodingParameter(t,r){return JSON.stringify(t)===JSON.stringify(r)}encodingParametersEqual(){let t=!1;for(const r of m.default.NAME_ARR_ASCENDING)if(t=t||!this.compareEncodingParameter(this.newQualityMap.get(r),this.currentQualityMap.get(r)),t)break;return!t}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return this.enableFhdVideo?1920:1280}captureHeight(){return this.enableFhdVideo?1080:768}captureFrameRate(){return 15}maxBandwidthKbps(){return this.enableFhdVideo?2500:1400}setIdealMaxBandwidthKbps(t){}setHasBandwidthPriority(t){}setHighResolutionFeatureEnabled(t){this.enableFhdVideo=t,this.hiTargetBitrateKbps=t?Ml.kHiTargetBitrateKbpsFhd:Ml.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=t?Ml.kMidTargetBitrateKbpsFhd:Ml.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=t?Ml.kLowTargetBitrateKbpsFhd:Ml.kLowTargetBitrateKbpsHd}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!0}fillEncodingParamWithBitrates(t){const r=new Map,o=1e3,f=m.default.NAME_ARR_ASCENDING,g=t;let v=this.shouldDisableSimulcast?1:4;for(let u=0;u<f.length;u++){const S=f[u];r.set(S,{rid:S,active:g[u]>0,scaleResolutionDownBy:Math.max(v,1),maxBitrate:g[u]*o}),v=v/2}return r}getQualityMapString(t){let r="";return this.videoIndex.localStreamDescriptions().length===3&&t.forEach(f=>{r+=`{ rid: ${f.rid} active:${f.active} maxBitrate:${f.maxBitrate}}`}),r}getEncodingSimulcastLayer(t){switch(t){case 0:return h.default.High;case 1:return h.default.LowAndHigh;case 2:return h.default.LowAndMedium}}publishEncodingSimulcastLayer(){const t=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(r=>{p.Maybe.of(r.encodingSimulcastLayersDidChange).map(o=>o.bind(r)(t))})}addObserver(t){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const r of this.observerQueue)t(r)}constructor(t,r){this.selfAttendeeId=t,this.logger=r,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.videoIndex=null,this.observerQueue=new Set,this.hiTargetBitrateKbps=Ml.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=Ml.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=Ml.kLowTargetBitrateKbpsHd,this.enableFhdVideo=!1,this.optimalParameters=new a.default(0,0,0,0,!0),this.parametersInEffect=new a.default(0,0,0,0,!0),this.currentQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps]),this.newQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps])}},"DefaultSimulcastUplinkPolicy");l.default=i,i.kHiTargetBitrateKbpsHd=1200,i.kMidTargetBitrateKbpsHd=600,i.kLowTargetBitrateKbpsHd=300,i.kHiTargetBitrateKbpsFhd=2e3,i.kMidTargetBitrateKbpsFhd=1e3,i.kLowTargetBitrateKbpsFhd=500},5801810927:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(523374695));let m=n(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var a,s,i,e,t,r,o,f,g,v,u,S;const _=new Map,b=1e3,E=h.default.NAME_ARR_ASCENDING;return _.set(E[0],{rid:E[0],active:!0,scaleResolutionDownBy:((s=(a=this.encodingParams)===null||a===void 0?void 0:a.low)===null||s===void 0?void 0:s.scaleResolutionDownBy)||2,maxBitrate:(((e=(i=this.encodingParams)===null||i===void 0?void 0:i.low)===null||e===void 0?void 0:e.maxBitrateKbps)||this.defaultLowTargetBitrateKbps)*b,maxFramerate:((r=(t=this.encodingParams)===null||t===void 0?void 0:t.low)===null||r===void 0?void 0:r.maxFramerate)||5}),_.set(E[1],{rid:E[1],active:!0,scaleResolutionDownBy:((f=(o=this.encodingParams)===null||o===void 0?void 0:o.high)===null||f===void 0?void 0:f.scaleResolutionDownBy)||1,maxBitrate:(((v=(g=this.encodingParams)===null||g===void 0?void 0:g.high)===null||v===void 0?void 0:v.maxBitrateKbps)||this.defaultHiTargetBitrateKbps)*b,maxFramerate:(S=(u=this.encodingParams)===null||u===void 0?void 0:u.high)===null||S===void 0?void 0:S.maxFramerate}),_}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return this.enableUhdContent?2e3:1200}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}setHighResolutionFeatureEnabled(a){this.enableUhdContent=a,this.defaultHiTargetBitrateKbps=a?2e3:1200,this.defaultLowTargetBitrateKbps=a?500:300}addObserver(a){}removeObserver(a){}forEachObserver(a){}constructor(a,s){this.encodingParams=s,this.enableUhdContent=!1,this.defaultHiTargetBitrateKbps=1200,this.defaultLowTargetBitrateKbps=300}},"DefaultSimulcastUplinkPolicyForContentShare");l.default=m},2952249532:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})},h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(8942355099));let p=n(class Hu{reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new m.default(0,0,0,0,!1),this.parametersInEffect=new m.default(0,0,0,0,!1),this.encodingParamMap.set(Hu.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(s){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(s){var i;let e=!0;this.transceiverController&&(e=this.transceiverController.hasVideoInput());const t=s.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(e?1:0),r=s.numberOfParticipants();if(this.numParticipants===r&&this.numberOfPublishedVideoSources===t){(i=this.logger)===null||i===void 0||i.debug("Skipping update index; Number of participants has not changed");return}this.numberOfPublishedVideoSources=t,this.numParticipants=r,this.updateOptimalParameters()}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}updateOptimalParameters(){let s=1;if(this.transceiverController){const i=this.getStreamCaptureSetting();i&&(s=this.calculateEncodingParameters(i).scaleResolutionDownBy)}this.optimalParameters=new m.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,s,this.enableSVC&&this.numParticipants>2&&this.isUsingSVCCodec)}captureWidth(){let s=640;return this.getNumberOfPublishedVideoSources()>4&&(s=320),s}captureHeight(){let s=384;return this.getNumberOfPublishedVideoSources()>4&&(s=192),s}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let s=0;return this.getNumberOfPublishedVideoSources()<=2?s=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?s=this.idealMaxBandwidthKbps*2/3:s=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(s)}setIdealMaxBandwidthKbps(s){this.idealMaxBandwidthKbps=s}setHasBandwidthPriority(s){this.hasBandwidthPriority=s}setTransceiverController(s){this.transceiverController=s}setSVCEnabled(s){var i;this.enableSVC=s,(i=this.logger)===null||i===void 0||i.info(`setSVCEnabled, enable: ${s}}`)}setHighResolutionFeatureEnabled(s){this.enableHighResolutionFeature=s}updateTransceiverController(){return d(this,void 0,void 0,function*(){const s=this.getStreamCaptureSetting();if(!s)return;const i=this.calculateEncodingParameters(s);this.shouldUpdateEndcodingParameters(i)&&(this.encodingParamMap.set(Hu.encodingMapKey,i),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(s){var i,e;const t=(e=(i=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||i===void 0?void 0:i.encodings)===null||e===void 0?void 0:e[0];return s.maxBitrate!==(t==null?void 0:t.maxBitrate)||s.scaleResolutionDownBy!==(t==null?void 0:t.scaleResolutionDownBy)||(s==null?void 0:s.scalabilityMode)!==(t==null?void 0:t.scalabilityMode)}calculateEncodingParameters(s){var i,e,t;const r=this.maxBandwidthKbps()*1e3;let o=1,f=720;if(s.height!==void 0&&s.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2&&(f=Hu.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),Hu.targetHeightArray.length-1)][this.enableHighResolutionFeature?1:0],f===480&&(!((i=this.browserBehavior)===null||i===void 0)&&i.disable480pResolutionScaleDown())&&(f=360),o=Math.max(Math.min(s.height,s.width)/f,1),(e=this.logger)===null||e===void 0||e.info(`Resolution scale factor is ${o} for capture resolution ${s.width}x${s.height}. New dimension is ${s.width/o}x${s.height/o}`)),this.enableSVC){let g;return this.numParticipants>=0&&this.numParticipants<3||!this.isUsingSVCCodec?g="L1T1":g="L3T3",(t=this.logger)===null||t===void 0||t.info(`calculateEncodingParameters: SVC: ${this.enableSVC}    participants: ${this.numParticipants}     publishers: ${this.getNumberOfPublishedVideoSources()}     bitrate: ${r}  targetHeight: ${f}  scalabilityMode: ${g}   isUsingSVCCodec: ${this.isUsingSVCCodec}`),{scaleResolutionDownBy:o,maxBitrate:r,scalabilityMode:g}}else return{scaleResolutionDownBy:o,maxBitrate:r}}getStreamCaptureSetting(){var s,i,e,t;return(t=(e=(i=(s=this.transceiverController)===null||s===void 0?void 0:s.localVideoTransceiver())===null||i===void 0?void 0:i.sender)===null||e===void 0?void 0:e.track)===null||t===void 0?void 0:t.getSettings()}getNumberOfPublishedVideoSources(){var s;return(s=this.numberOfPublishedVideoSources)!==null&&s!==void 0?s:0}wantsVideoDependencyDescriptorRtpHeaderExtension(){return this.enableSVC}setMeetingSupportedVideoSendCodecs(s,i){const e=s??i,t=e.length>0&&Hu.SVCCodecNames.includes(e[0].codecName);t!==this.isUsingSVCCodec&&(this.isUsingSVCCodec=t,this.updateOptimalParameters())}constructor(s,i=!0,e=void 0,t=void 0){this.selfAttendeeId=s,this.scaleResolution=i,this.logger=e,this.browserBehavior=t,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.enableHighResolutionFeature=!1,this.enableSVC=!1,this.isUsingSVCCodec=!0,this.numParticipants=0,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");l.default=p,p.encodingMapKey="video",p.targetHeightArray=[[0,0],[0,0],[0,0],[540,720],[540,720],[480,540],[480,540],[480,540],[480,540],[360,480],[360,480],[360,480],[360,480],[270,360],[270,360],[270,360],[270,360],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270]],p.SVCCodecNames=["VP9"]},7237277783:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(8942355099));let m=n(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new h.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}setHighResolutionFeatureEnabled(a){}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!1}constructor(){}},"NoVideoUplinkBandwidthPolicy");l.default=m},9354566891:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});function c(h){return h.map(m=>typeof m=="object"?JSON.stringify(m):`${m}`).join(" ")}n(c,"stringify");let d=n(class{debug(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.debug(c(p))}info(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.info(c(p))}warn(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.warn(c(p))}error(){for(var m=arguments.length,p=new Array(m),a=0;a<m;a++)p[a]=arguments[a];this.base.error(c(p))}constructor(m){this.base=m}},"LoggerAdapter");l.default=d},4574840479:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(r,o,f,g){function v(u){return u instanceof f?u:new f(function(S){S(u)})}return n(v,"adopt"),new(f||(f=Promise))(function(u,S){function _(T){try{E(g.next(T))}catch(I){S(I)}}n(_,"fulfilled");function b(T){try{E(g.throw(T))}catch(I){S(I)}}n(b,"rejected");function E(T){T.done?u(T.value):v(T.value).then(_,b)}n(E,"step"),E((g=g.apply(r,o||[])).next())})},h=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusDeviceTransformer=void 0;const m=c(9244626466),p=c(1366921492),a=h(c(6332689210)),s=h(c(9354566891)),i=h(c(9343011556)),e=h(c(309722211));let t=n(class $l{static isSupported(o,f){var g,v;const u=$l.defaultFetchBehavior(),S=f!=null&&f.logger?new s.default(f.logger):void 0,_={fetchBehavior:u,logger:S};if(p.isIFramed()){if((f==null?void 0:f.allowIFrame)===!1)return(g=f==null?void 0:f.logger)===null||g===void 0||g.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(v=f==null?void 0:f.logger)===null||v===void 0||v.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return m.VoiceFocus.isSupported($l.augmentSpec(o),_)}static create(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;var S,_,b;return d(this,void 0,void 0,function*(){v&&v.Meeting.Meeting&&(v=v.Meeting);const E=((b=(_=(S=v==null?void 0:v.Meeting)===null||S===void 0?void 0:S.MeetingFeatures)===null||_===void 0?void 0:_.Audio)===null||b===void 0?void 0:b.EchoReduction)==="AVAILABLE",T=g&&g.supported===!0&&g.model.name==="ns_es"&&!E,I=o.name==="ns_es"&&!E;if(T||I)throw new Error("Echo Reduction requested but not enabled.");const A=new $l(o,f,g);return yield A.init(),A})}static configure(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d(this,void 0,void 0,function*(){return new $l(o,f,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(o,f){return d(this,void 0,void 0,function*(){if(this.supported)try{const[v,u]=yield this.allocateVoiceFocus(!0),S=Object.assign(Object.assign({},f),{es:this.spec.name==="ns_es"});return new i.default(o,v,u,S)}catch{return}})}static destroyVoiceFocus(o){var f;return d(this,void 0,void 0,function*(){(f=o==null?void 0:o.vf)===null||f===void 0||f.destroy()})}static augmentSpec(o){return!o||!o.assetGroup&&!o.revisionID?Object.assign(Object.assign({},o),{assetGroup:$l.currentSDKAssetGroup()}):o}configure(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return d(this,void 0,void 0,function*(){const f={fetchBehavior:this.fetchBehavior,preResolve:o,logger:this.vfLogger};return m.VoiceFocus.configure(this.spec,f)})}init(){var o;return d(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const f=yield this.configuration;if(!f.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(f,this.preload);try{yield this.pendingVoiceFocus}catch(g){(o=this.logger)===null||o===void 0||o.error(`Unable to initialize Amazon Voice Focus: ${g}`),this.supported=!1}})}createVoiceFocus(o,f){return d(this,void 0,void 0,function*(){const g=new e.default;return this.vf=yield m.VoiceFocus.init(o,{delegate:g,preload:f,logger:this.vfLogger}),[this.vf,g]})}allocateVoiceFocus(o){return d(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const f=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,f}return this.createVoiceFocus(yield this.configuration,o)})}static majorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const o=this.majorVersion();return o?`sdk-${o}`:"stable-v1"}static defaultFetchBehavior(){const o=$l.majorMinorVersion()||"unknown",f=a.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(o)}&ua=${encodeURIComponent(f)}`}}constructor(o,{preload:f=!0,logger:g,fetchBehavior:v=$l.defaultFetchBehavior()},u){this.spec=o,this.supported=!0,this.logger=g,this.vfLogger=g?new s.default(g):void 0,this.preload=f,this.fetchBehavior=v,this.spec=$l.augmentSpec(this.spec),u&&(this.configuration=Promise.resolve(u))}},"VoiceFocusDeviceTransformer");l.VoiceFocusDeviceTransformer=t,l.default=t},9343011556:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})},h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0});const m=h(c(9445576035));let p=n(class Zv{getInnerDevice(){return this.device}mute(i){return d(this,void 0,void 0,function*(){this.node&&(i?yield this.node.disable():yield this.node.enable())})}stop(){return d(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(i){return d(this,void 0,void 0,function*(){return this.device===i&&!a(i)?this:new Zv(i,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return d(this,void 0,void 0,function*(){if(this.failed)return this.device;const i=this.nodeOptions.es,e={echoCancellation:!i,googEchoCancellation:!i,googEchoCancellation2:!i,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let t;return this.nodeOptions&&this.nodeOptions.agc!==void 0?t=this.nodeOptions.agc.useBuiltInAGC:t=!0,e.autoGainControl=t,e.googAutoGainControl=t,e.googAutoGainControl2=t,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?e.deviceId=this.device:e.deviceId={exact:this.device},e):this.device.id?this.device:Object.assign(Object.assign({},this.device),e):e})}createAudioNode(i){var e,t;return d(this,void 0,void 0,function*(){if(((e=this.node)===null||e===void 0?void 0:e.context)===i)return{start:this.node,end:this.node};const o=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((t=this.node)===null||t===void 0||t.disconnect(),this.node=yield this.voiceFocus.createNode(i,o),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(i,{channelCount:1,channelCountMode:"explicit"});for(const v of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(v);this.createMixSourceNode()}const f=this.node,g=this.node;return{start:f,end:g}}catch(f){throw this.failed=!0,this.delegate.onFallback(this,f),f}})}observeMeetingAudio(i){return d(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.addAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.addFarEndStream(e)})}unObserveMeetingAudio(i){return d(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.removeAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.removeFarendStream(e)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}addFarEndStream(i){return d(this,void 0,void 0,function*(){!this.nodeOptions.es||!i||this.farEndStreamToAudioSourceNode.has(i)||(this.node?this.assignFarEndStreamToAudioSourceNode(i):this.farEndStreamToAudioSourceNode.set(i,null))})}removeFarendStream(i){var e;return d(this,void 0,void 0,function*(){(e=this.farEndStreamToAudioSourceNode.get(i))===null||e===void 0||e.disconnect(),this.farEndStreamToAudioSourceNode.delete(i)})}meetingAudioStreamBecameActive(i){return d(this,void 0,void 0,function*(){this.addFarEndStream(i)})}meetingAudioStreamBecameInactive(i){return d(this,void 0,void 0,function*(){this.removeFarendStream(i)})}assignFarEndStreamToAudioSourceNode(i){const e=this.node.context.createMediaStreamSource(i);e.channelCount=1,e.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(i,e),e.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(i,e,t,r,o=!1,f=void 0,g=new m.default,v=new Map,u=void 0,S=void 0){this.device=i,this.voiceFocus=e,this.delegate=t,this.nodeOptions=r,this.failed=o,this.node=f,this.browserBehavior=g,this.farEndStreamToAudioSourceNode=v,this.mixDestNode=u,this.mixSourceNode=S}},"VoiceFocusTransformDevice");function a(s){return s==="default"?!0:!s||typeof s!="object"?!1:"deviceId"in s&&s.deviceId==="default"||"id"in s&&s.id==="default"}n(a,"isDefaultDevice"),l.default=p},309722211:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}onFallback(h,m){var p;for(const a of this.observers)(p=a.voiceFocusFellBackToInnerStream)===null||p===void 0||p.call(a,h,m)}onCPUWarning(){var h;for(const m of this.observers)(h=m.voiceFocusInsufficientResources)===null||h===void 0||h.call(m)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");l.default=c},247134931:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});let c=n(class Cp{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(h){let m=0;for(const p of h.streams){const a=!!p.attendeeId,s=!!p.externalUserId,i=p.hasOwnProperty("muted"),e=!!p.dropped;if(a){this.attendeeIdToStreamId[p.attendeeId]&&this.attendeeIdToStreamId[p.attendeeId]<p.audioStreamId&&delete this.attendeeIdToStreamId[p.attendeeId],this.streamIdToAttendeeId[p.audioStreamId]=p.attendeeId;const t=s?p.externalUserId:p.attendeeId;this.streamIdToExternalUserId[p.audioStreamId]=t,this.attendeeIdToStreamId[p.attendeeId]=p.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(p.attendeeId,!0,t,!1,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}if(i){const t=this.streamIdToAttendeeId[p.audioStreamId],r=this.streamIdToExternalUserId[p.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(t,null,p.muted,null,r)}if(!a&&!i){const t=this.streamIdToAttendeeId[p.audioStreamId];if(t){const r=this.streamIdToExternalUserId[p.audioStreamId];delete this.streamIdToAttendeeId[p.audioStreamId],delete this.streamIdToExternalUserId[p.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[p.audioStreamId],this.attendeeIdToStreamId[t]===p.audioStreamId&&delete this.attendeeIdToStreamId[t];let o=!1;for(const f of Object.keys(this.streamIdToAttendeeId)){const g=parseInt(f);if(g>p.audioStreamId&&this.streamIdToAttendeeId[g]===t){o=!0;break}}o||this.realtimeController.realtimeSetAttendeeIdPresence(t,!1,r,e,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(h),this.sessionReconnected=!1)}cleanUpState(h){const m=Object.values(this.streamIdToAttendeeId),p=h.streams.map(s=>s.attendeeId),a=m.filter(s=>!p.includes(s));for(const[s,i]of a.entries()){const e=this.attendeeIdToStreamId[i],t=this.streamIdToExternalUserId[e];if(delete this.streamIdToAttendeeId[e],delete this.streamIdToExternalUserId[e],delete this.warnedAboutMissingStreamIdMapping[e],delete this.attendeeIdToStreamId[i],i===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(i,!1,t,!1,{attendeeIndex:s,attendeesInFrame:i.length})}}sendRealtimeUpdatesForAudioMetadata(h){let m=null,p=null;for(const a of h.attendeeStates){const s=this.attendeeIdForStreamId(a.audioStreamId);a.hasOwnProperty("volume")&&(m===null&&(m={}),s!==null&&(m[s]=this.normalizedVolume(a))),a.hasOwnProperty("signalStrength")&&(p===null&&(p={}),s!==null&&(p[s]=this.normalizedSignalStrength(a)))}this.applyRealtimeUpdatesForAudioMetadata(m,p)}normalizedVolume(h){const p=1-(-h.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(p,0),1)}normalizedSignalStrength(h){const m=h.signalStrength/Cp.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(m,0),1)}applyRealtimeUpdatesForAudioMetadata(h,m){for(const p in this.streamIdToAttendeeId){const a=this.streamIdToAttendeeId[p],s=this.streamIdToExternalUserId[p];let i=null,e=null;h!==null&&(h.hasOwnProperty(a)?i=h[a]:i=Cp.IMPLICIT_VOLUME),m!==null&&(m.hasOwnProperty(a)?e=m[a]:e=Cp.IMPLICIT_SIGNAL_STRENGTH),(i!==null||e!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(a,i,null,e,s)}}attendeeIdForStreamId(h){if(h===0)return null;const m=this.streamIdToAttendeeId[h];return m||(this.warnedAboutMissingStreamIdMapping[h]||(this.warnedAboutMissingStreamIdMapping[h]=!0,this.logger.warn(`volume indicator stream id ${h} seen before being defined`)),null)}constructor(h,m,p,a,s){this.logger=h,this.realtimeController=m,this.minVolumeDecibels=p,this.maxVolumeDecibels=a,this.selfAttendeeId=s,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");l.default=c,c.MAX_SIGNAL_STRENGTH_LEVELS=2,c.IMPLICIT_VOLUME=0,c.IMPLICIT_SIGNAL_STRENGTH=1},6757985251:function(V,l,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});const h=d(c(6332689210)),m=d(c(6924951343));let p=n(class{create(s,i,e){this.connection=new WebSocket(e?s:h.default.urlWithVersion(s),i),this.connection.binaryType="arraybuffer"}send(s){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return s instanceof Uint8Array?this.connection.send(s.buffer):this.connection.send(s),!0}catch(i){return this.logger.debug(()=>`send error: ${i.message}, websocket state=${m.default[this.readyState()]}`),!1}}close(s,i){var e;(e=this.connection)===null||e===void 0||e.close(s,i)}destroy(){this.connection=void 0}addEventListener(s,i){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(s,i)}removeEventListener(s,i){var e;(e=this.connection)===null||e===void 0||e.removeEventListener(s,i)}readyState(){if(!this.connection)return m.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return m.default.Connecting;case WebSocket.OPEN:return m.default.Open;case WebSocket.CLOSING:return m.default.Closing;case WebSocket.CLOSED:return m.default.Closed}}constructor(s){this.logger=s}},"DefaultWebSocketAdapter");l.default=p},6924951343:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.WebSocketReadyState=void 0;var c;(function(d){d[d.None=0]="None",d[d.Connecting=1]="Connecting",d[d.Open=2]="Open",d[d.Closing=3]="Closing",d[d.Closed=4]="Closed"})(c=l.WebSocketReadyState||(l.WebSocketReadyState={})),l.default=c},9748085002:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(E,T,I,A){function w(R){return R instanceof I?R:new I(function(P){P(R)})}return n(w,"adopt"),new(I||(I=Promise))(function(R,P){function x(re){try{Z(A.next(re))}catch(ne){P(ne)}}n(x,"fulfilled");function z(re){try{Z(A.throw(re))}catch(ne){P(ne)}}n(z,"rejected");function Z(re){re.done?R(re.value):w(re.value).then(x,z)}n(Z,"step"),Z((A=A.apply(E,T||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.decideModel=l.measureAndDecideExecutionApproach=void 0;const h=c(8567210951),m=c(4085910259),p=3,a=2.5,s=2.63,i=.6,e=.65,t=.5,r=.7,o={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let f=n(class{roundtrip(T,I,A){return new Promise((w,R)=>{this.worker.then(P=>{let x;x=n(z=>{const{message:Z,key:re}=z.data;Z===I&&re===A&&(P.removeEventListener("message",x),w(z.data))},"listener"),P.addEventListener("message",x),P.postMessage(T)}).catch(P=>{var x;(x=this.logger)===null||x===void 0||x.error("Failed to load worker.",P),R(P)})})}supportsSIMD(T){const I="simd",A=T||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,w={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:A,key:I};return this.roundtrip(w,"simd-support",I).then(R=>R.supports)}measure(T,I){const A=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,w=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,R=T?w:A,P=`bench:${T}`,x={message:"measure",fetchBehavior:this.fetchBehavior,budget:I,path:R,key:P};return this.roundtrip(x,"measurement",P).then(z=>{if(z.measurement)return z.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(T=>{var I;(I=this.logger)===null||I===void 0||I.debug("Stopping estimator worker."),T.terminate()}).catch(T=>{})}constructor(T,I){this.fetchConfig=T,this.logger=I;const A=`${T.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:T.headers,escapedQueryString:T.escapedQueryString},this.worker=h.loadWorker(A,"VoiceFocusEstimator",this.fetchBehavior,I)}},"Estimator");const g=n((E,T)=>E===1?i:T==="quality"?e*E:t*E,"inlineScoreMultiplier"),v=n(function(E){let{supportsSIMD:T,supportsSAB:I,duration:A,executionPreference:w="auto",simdPreference:R,variantPreference:P="auto",namePreference:x="default",usagePreference:z,executionQuantaPreference:Z=p}=E,re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,ne=arguments.length>2?arguments[2]:void 0;const ge=R==="force"||R!=="disable"&&T,Pe=A!==-1,He=Pe?(ge?a:s)/A:0,pt=ge?re.simd:re.wasm,Ht=Pe?g(Z,z)*He:0,Ke=Pe?r*He:0,it=x,ct=n(Kt=>({supported:!1,reason:Kt}),"unsupported");if(Pe){if(He<pt.noSupport)return ct(`Performance score ${He} worse than threshold ${pt.noSupport}.`)}else if(w==="auto"||P==="auto")return ct(`Missing explicit execution (${w}) or variant (${P}) preference, but no scoring performed.`);ne==null||ne.debug(`Bench duration ${A} yields inline score ${Ht} and worker score ${Ke}.`);const rt=n((Kt,Ye,Xe)=>({supported:!0,useSIMD:ge,processor:Kt,executionApproach:Ye,variant:Xe,executionQuanta:Ye==="inline"?Z:void 0,name:it}),"succeed"),_t=n((Kt,Ye,Xe)=>Ye!=="auto"?!Pe||Kt>Xe[Ye]?Ye:"failed":Kt>Xe.c100?"c100":Kt>Xe.c50?"c50":Kt>Xe.c20?"c20":Kt>Xe.c10?"c10":"failed","resolveVariant"),Gt=n(Kt=>{switch(Kt||"auto"){case"auto":{let Ye=Gt("inline"),Xe=Gt("worker");return ne==null||ne.debug(`Reducing auto preference: ${JSON.stringify(Ye)} vs ${JSON.stringify(Xe)}`),Ye.supported===!1||Xe.supported===!1?Xe:Ye.variant===Xe.variant||Ye.variant==="c50"?Ye:Xe}case"worker":return m.supportsSharedArrayBuffer(globalThis,window,ne)?Gt("worker-sab"):Gt("worker-postMessage");case"inline":{const Ye=_t(Ht,P,pt.inline);return Ye==="failed"?ct(`Performance score ${Ht} not sufficient for inline use with variant preference ${P}.`):rt("voicefocus-inline-processor","inline",Ye)}case"worker-sab":{if(!I){const Xe="Requested worker-sab but no SharedArrayBuffer support.";return ne==null||ne.warn(Xe),{supported:!1,reason:Xe}}const Ye=_t(Ke,P,pt.worker);return Ye==="failed"?ct(`Performance score ${Ke} not sufficient for worker use with variant preference ${P}.`):rt("voicefocus-worker-sab-processor","worker-sab",Ye)}case"worker-postMessage":{const Ye=_t(Ke,P,pt.worker);if(Ye==="failed")return ct(`Performance score ${Ke} not sufficient for worker use.`);if(it==="ns_es"){const Xe="Requested echo suppression but postMessage executor does not support it.";return ne==null||ne.warn(Xe),{supported:!1,reason:Xe}}return rt("voicefocus-worker-postMessage-processor","worker-postMessage",Ye)}}},"reducePreference");return Gt(w)},"decideExecutionApproach"),u=n((E,T,I,A)=>d(void 0,void 0,void 0,function*(){const w={supportsSIMD:E,supportsSAB:m.supportsSharedArrayBuffer(globalThis,window,I),duration:-1};if(E)return I==null||I.info("Supports SIMD: true (force)"),w;const R=!A,P=A||new f(T,I);try{const x=!m.isOldChrome(window,I)&&(yield P.supportsSIMD());return I==null||I.info(`Supports SIMD: ${x} (force: ${E})`),w.supportsSIMD=x,w}finally{R&&P.stop()}}),"featureCheck"),S=n((E,T,I,A)=>d(void 0,void 0,void 0,function*(){const w=new f(T,A);try{const R=yield u(E,T,A,w);if(R.supportsSIMD)try{return R.duration=yield w.measure(!0,I),A==null||A.info("SIMD timing:",R.duration),R}catch{A==null||A.warn("Failed SIMD estimation; falling back to non-SIMD."),R.supportsSIMD=!1}return R.duration=yield w.measure(!1,I),A==null||A.info("No-SIMD timing:",R.duration),R}catch(R){throw A==null||A.error("Could not feature check.",R),R}finally{w.stop()}}),"estimateAndFeatureCheck"),_=n(function(E,T,I){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return d(void 0,void 0,void 0,function*(){let w=E.executionPreference;const{usagePreference:R,variantPreference:P,namePreference:x,simdPreference:z,estimatorBudget:Z,executionQuantaPreference:re}=E;R==="interactivity"&&w!=="inline"&&(I==null||I.debug(`Overriding execution preference ${w} to reflect interactivity preference.`),w="inline");const ne=z==="force",he=P!=="auto",ge=w!=="auto";let Pe;try{he&&ge?Pe=yield u(ne,T,I):Pe=yield S(ne,T,Z,I)}catch(He){throw I==null||I.error("Could not load estimator.",He),new Error("Could not load Voice Focus estimator.")}return v(Object.assign(Object.assign({},Pe),{simdPreference:z,executionPreference:w,variantPreference:P,namePreference:x,usagePreference:R,executionQuantaPreference:re}),A,I)})},"measureAndDecideExecutionApproach");l.measureAndDecideExecutionApproach=_;const b=n(E=>{let{category:T,name:I,variant:A,simd:w,url:R}=E;return`${T}-${I}-${A}-v1${w?"_simd":""}`},"decideModel");l.decideModel=b},2108947428:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isValidRevisionID=l.isValidAssetGroup=l.resolveURL=l.addQueryParams=l.withQueryString=l.withRequestHeaders=l.fetchWithBehavior=void 0;function c(e,t,r){if(!r)return fetch(e,t);const o=h(e,r),f=d(t,r);return fetch(o,f)}n(c,"fetchWithBehavior"),l.fetchWithBehavior=c;function d(e,t){return t!=null&&t.headers?e?Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers||{}),t.headers)}):{headers:t.headers}:e}n(d,"withRequestHeaders"),l.withRequestHeaders=d;function h(e,t){if(!(t!=null&&t.escapedQueryString))return e;const r=e.lastIndexOf("?")!==-1;return`${e}${r?"&":"?"}${t.escapedQueryString}`}n(h,"withQueryString"),l.withQueryString=h;function m(e,t){const r=Object.keys(t);if(!r.length)return e;const o=new URLSearchParams(e==null?void 0:e.escapedQueryString);for(const f of r)o.append(f,t[f]);return Object.assign(Object.assign({},e),{escapedQueryString:o.toString()})}n(m,"addQueryParams"),l.addQueryParams=m;const p={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function a(e,t){return c(e,p,t).then(r=>r.redirected?r.url:e)}n(a,"resolveURL"),l.resolveURL=a;function s(e){return!!e&&/^[-.a-zA-Z0-9]+$/.test(e)}n(s,"isValidAssetGroup"),l.isValidAssetGroup=s;function i(e){return!!e&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(e)}n(i,"isValidRevisionID"),l.isValidRevisionID=i},8567210951:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.loadWorker=void 0;const d=c(2108947428),h={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},m=n((p,a,s,i)=>{i==null||i.debug(`Loading ${a} worker from ${p}.`);let e=!1;try{e=self.origin===new URL(p).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=d.withQueryString(p,s);return Promise.resolve(new Worker(t,{name:a}))}return d.fetchWithBehavior(p,h,s).then(t=>{if(t.ok)return t.blob().then(r=>new Worker(window.URL.createObjectURL(r)));throw new Error("Fetch failed.")})},"loadWorker");l.loadWorker=m},4085910259:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(u,S,_,b){function E(T){return T instanceof _?T:new _(function(I){I(T)})}return n(E,"adopt"),new(_||(_=Promise))(function(T,I){function A(P){try{R(b.next(P))}catch(x){I(x)}}n(A,"fulfilled");function w(P){try{R(b.throw(P))}catch(x){I(x)}}n(w,"rejected");function R(P){P.done?T(P.value):E(P.value).then(A,w)}n(R,"step"),R((b=b.apply(u,S||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.isOldChrome=l.supportsWASMStreaming=l.supportsSharedArrayBuffer=l.supportsWASM=l.supportsAudioWorklet=l.supportsWorker=l.supportsVoiceFocusWorker=l.supportsWASMPostMessage=l.isSafari=void 0;const h=c(8567210951),m=n(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),p=n(function(){const S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,_=S.match(/Safari\//),b=S.match(/Chrom(?:e|ium)\//);return!!(_&&!b)},"isSafari");l.isSafari=p;const a=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return l.isSafari(u)?!1:m(u)?(g(u)||0)<95:!0},"supportsWASMPostMessage");l.supportsWASMPostMessage=a;const s=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;return d(void 0,void 0,void 0,function*(){if(!l.supportsWorker(u,_))return!1;const b=`${S.paths.workers}worker-v1.js`;try{const E=yield h.loadWorker(b,"VoiceFocusTestWorker",S,_);try{E.terminate()}catch(T){_==null||_.debug("Failed to terminate worker.",T)}return!0}catch(E){return _==null||_.info("Failed to fetch and instantiate test worker",E),!1}})},"supportsVoiceFocusWorker");l.supportsVoiceFocusWorker=s;const i=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;try{return!!u.Worker}catch(_){return S==null||S.info("Does not support Worker",_),!1}},"supportsWorker");l.supportsWorker=i;const e=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;try{return!!u.AudioWorklet&&!!u.AudioWorkletNode}catch(_){return S==null||S.info("Does not support Audio Worklet",_),!1}},"supportsAudioWorklet");l.supportsAudioWorklet=e;const t=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;try{return!!u.WebAssembly&&(!!u.WebAssembly.compile||!!u.WebAssembly.compileStreaming)}catch(_){return S==null||S.info("Does not support WASM",_),!1}},"supportsWASM");l.supportsWASM=t;const r=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,_=arguments.length>2?arguments[2]:void 0;try{return!!u.SharedArrayBuffer&&(!!S.chrome||!!u.crossOriginIsolated)}catch{return _==null||_.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");l.supportsSharedArrayBuffer=r;const o=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;var _;try{return!!(!((_=u.WebAssembly)===null||_===void 0)&&_.compileStreaming)}catch(b){return S==null||S.info("Does not support WASM streaming compilation",b),!1}},"supportsWASMStreaming");l.supportsWASMStreaming=o;const f=90,g=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!u.chrome)return}catch{}const S=u.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(S)return parseInt(S[1],10)},"chromeVersion"),v=n(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0;const _=g(u);return _&&_<f?(S==null||S.debug(`Chrome ${_} has incomplete SIMD support.`),!0):!1},"isOldChrome");l.isOldChrome=v},828016749:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.VoiceFocusAudioWorkletNode=void 0;let c=n(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||n(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");l.VoiceFocusAudioWorkletNode=c},9244626466:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(P,x,z,Z){function re(ne){return ne instanceof z?ne:new z(function(he){he(ne)})}return n(re,"adopt"),new(z||(z=Promise))(function(ne,he){function ge(pt){try{He(Z.next(pt))}catch(Ht){he(Ht)}}n(ge,"fulfilled");function Pe(pt){try{He(Z.throw(pt))}catch(Ht){he(Ht)}}n(Pe,"rejected");function He(pt){pt.done?ne(pt.value):re(pt.value).then(ge,Pe)}n(He,"step"),He((Z=Z.apply(P,x||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0}),l.getAudioInput=l.createAudioContext=l.VoiceFocus=void 0;const h=c(9748085002),m=c(2108947428),p=c(8567210951),a=c(4085910259),s=c(6374547211),i=c(5129031187),e=c(6887496158),r={useVoiceFocusAGC:!1,useBuiltInAGC:!0},o="stable-v1",f="https://static.sdkassets.chime.aws",g={processors:`${f}/processors/`,workers:`${f}/workers/`,wasm:`${f}/wasm/`,models:`${f}/wasm/`},v={latencyHint:0},u={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},S=Object.assign(Object.assign({},u),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),_=Object.assign(Object.assign({},u),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),b={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:s.default}},E=n((P,x)=>{if(P!==void 0&&!m.isValidAssetGroup(P))throw new Error(`Invalid asset group ${P}`);if(x!==void 0&&!m.isValidRevisionID(x))throw new Error(`Invalid revision ID ${x}`)},"validateAssetSpec"),T=n((P,x)=>{let z;if(x.useBuiltInAGC?z=S:z=_,!P)return{audio:z};if(!P.audio)return P;if(P.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},P),{audio:P.audio===!0?z:Object.assign(Object.assign({},P.audio),z)})},"mungeConstraints"),I=n((P,x)=>`${x.models}${h.decideModel(P)}.wasm`,"urlForModel");let A=n(class qv{static isSupported(x,z){const{fetchBehavior:Z,logger:re}=z||{};if(typeof globalThis>"u")return re==null||re.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,re))return re==null||re.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,re))return re==null||re.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,re)||re==null||re.debug("Browser does not support streaming WASM compilation.");const{assetGroup:ne=o,revisionID:he,paths:ge=g}=x||{};E(ne,he);const Pe=he?{revisionID:he}:{assetGroup:ne},He=m.addQueryParams(Z,Pe),pt=Object.assign(Object.assign({},He),{paths:ge});return a.supportsVoiceFocusWorker(globalThis,pt,re)}static mungeExecutionPreference(x,z){const Z=x===void 0||x==="auto";if(a.isSafari(globalThis)){if(Z||x==="inline")return"inline";if(!Z)throw new Error(`Unsupported execution preference ${x}`)}if(x==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,z))throw new Error(`Unsupported execution preference ${x}`);return x||"auto"}static configure(x,z){return d(this,void 0,void 0,function*(){const{fetchBehavior:Z,preResolve:re,logger:ne}=z||{},{category:he="voicefocus",name:ge="default",variant:Pe="auto",assetGroup:He=o,revisionID:pt,simd:Ht="detect",executionPreference:Ke="auto",executionQuantaPreference:it,usagePreference:ct="interactivity",estimatorBudget:rt=100,paths:_t=g,thresholds:Gt}=x||{};if(ne==null||ne.debug("Configuring Voice Focus with spec",x),he!==void 0&&he!=="voicefocus")throw new Error(`Unrecognized category ${he}`);if(ge!==void 0&&ge!=="default"&&ge!=="ns_es")throw new Error(`Unrecognized feature name ${ge}`);if(Pe!==void 0&&!["auto","c100","c50","c20","c10"].includes(Pe))throw new Error(`Unrecognized feature variant ${Pe}`);if(it!==void 0&&![1,2,3].includes(it))throw new Error(`Unrecognized execution quanta preference ${it}`);if(E(He,pt),Ht!==void 0&&!["detect","force","disable"].includes(Ht))throw new Error(`Unrecognized SIMD option ${Ht}`);if(Ke!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Ke))throw new Error(`Unrecognized execution preference ${Ke}`);if(ct!==void 0&&!["quality","interactivity"].includes(ct))throw new Error(`Unrecognized usage preference ${ct}`);const Kt={executionPreference:this.mungeExecutionPreference(Ke,ne),usagePreference:ct,executionQuantaPreference:it,variantPreference:Pe,namePreference:ge,simdPreference:Ht,estimatorBudget:rt},Ye=pt?{revisionID:pt}:{assetGroup:He},Xe=m.addQueryParams(Z,Ye),It=Object.assign({paths:_t},Xe),kt=yield h.measureAndDecideExecutionApproach(Kt,It,ne,Gt);if(kt.supported===!1)return{supported:!1,reason:kt.reason};ne==null||ne.info("Decided execution approach",kt);const{useSIMD:gt,processor:En,variant:pn,executionQuanta:wn}=kt,zn={category:he||"voicefocus",name:ge||"default",variant:pn,simd:gt};if(re){const Qn=I(zn,_t);zn.url=yield m.resolveURL(Qn,Xe)}return{fetchConfig:It,model:zn,processor:En,executionQuanta:wn,supported:!0}})}static init(x,z){let{delegate:Z,preload:re=!0,logger:ne}=z;return d(this,void 0,void 0,function*(){if(x.supported===!1)throw new Error("Voice Focus not supported. Reason: "+x.reason);const{model:he,processor:ge,fetchConfig:Pe,executionQuanta:He}=x,{simd:pt,name:Ht}=he,{paths:Ke}=Pe;if(ge!=="voicefocus-inline-processor"&&ge!=="voicefocus-worker-postMessage-processor"&&ge!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${ge}`);const it=he.url||I(he,Ke);ne==null||ne.debug(`Using model URL ${it}.`);const ct=`${Ke.wasm}audio_buffer-v1${pt?"_simd":""}.wasm`,rt=`${Ke.wasm}resampler-v1${pt?"_simd":""}.wasm`,_t=`${Ke.workers}worker-v1.js`,{file:Gt,node:Kt}=b[ge],Ye=`${Ke.processors}${Gt}`,Xe=yield p.loadWorker(_t,"VoiceFocusWorker",Pe,ne);if(re){ne==null||ne.debug("Preloading",it);let En=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";Xe.postMessage({message:En,preload:!0,key:"model",fetchBehavior:Pe,path:it})}const kt={processor:ge,worker:Xe,audioBufferURL:ct,resamplerURL:rt,fetchBehavior:Pe,modelURL:it,delegate:Z,logger:ne,numberOfInputs:Ht==="ns_es"?2:1},gt=new qv(Xe,Ye,Kt,kt,He);return Promise.resolve(gt)})}createNode(x,z){var Z;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:re=x.sampleRate===16e3?16e3:48e3,enabled:ne=!0,agc:he=r}=z||{},ge=z==null?void 0:z.es,Pe={voiceFocusSampleRate:re,enabled:ne,sendBufferCount:10,prefill:6,agc:he,executionQuanta:this.executionQuanta,supportFarendStream:ge},He=m.withQueryString(this.processorURL,(Z=this.nodeOptions)===null||Z===void 0?void 0:Z.fetchBehavior);return x.audioWorklet.addModule(He).then(()=>new this.nodeConstructor(x,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:Pe})))}applyToStream(x,z,Z){return d(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const re=z.createMediaStreamSource(x),ne=yield this.applyToSourceNode(re,z,Z),he=z.createMediaStreamDestination();return ne.connect(he),{node:ne,source:re,destination:he,stream:he.stream}})}applyToSourceNode(x,z,Z){return d(this,void 0,void 0,function*(){const re=yield this.createNode(z,Z);return x.connect(re),re})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(x,z,Z,re,ne){this.processorURL=z,this.nodeConstructor=Z,this.nodeOptions=re,this.executionQuanta=ne,this.internal={worker:x,nodeOptions:re,isDestroyed:!1}}},"VoiceFocus");l.VoiceFocus=A;const w=n(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;return new(window.AudioContext||window.webkitAudioContext)(P)},"createAudioContext");l.createAudioContext=w;const R=n((P,x,z)=>d(void 0,void 0,void 0,function*(){var Z,re;const{constraints:ne,spec:he,delegate:ge,preload:Pe=!0,options:He}=x,{logger:pt}=z,Ht=yield A.configure(he,z);if(!Ht.supported)return(Z=z.logger)===null||Z===void 0||Z.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(ne);const Ke=yield A.init(Ht,{delegate:ge,preload:Pe,logger:pt}),it=((re=x.options)===null||re===void 0?void 0:re.agc)||r,ct=yield window.navigator.mediaDevices.getUserMedia(T(ne,it));return Ke.applyToStream(ct,P,He).then(rt=>rt.stream)}),"getAudioInput");l.getAudioInput=R},6374547211:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(s,i,e,t){function r(o){return o instanceof e?o:new e(function(f){f(o)})}return n(r,"adopt"),new(e||(e=Promise))(function(o,f){function g(S){try{u(t.next(S))}catch(_){f(_)}}n(g,"fulfilled");function v(S){try{u(t.throw(S))}catch(_){f(_)}}n(v,"rejected");function u(S){S.done?o(S.value):r(S.value).then(g,v)}n(u,"step"),u((t=t.apply(s,i||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(4085910259),m=c(828016749),p=5*1e3;let a=n(class extends m.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return d(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return d(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return d(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,r;const o=i.data;switch(o.message){case"cpu":this.cpuWarningCount++;const f=Date.now(),g=this.cpuWarningLastTriggered||f,v=Math.abs(f-g);(!this.cpuWarningLastTriggered||v>p)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,o.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=f),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(r=this.logger)===null||r===void 0||r.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:r,fetchBehavior:o,logger:f,delegate:g}=e;this.logger=f,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=g,f&&f.debug("VoiceFocusInlineNode:",t),this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this);const v=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:v,key:"model",fetchBehavior:o,path:t})}},"VoiceFocusInlineNode");l.default=a},6887496158:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(a,s,i,e){function t(r){return r instanceof i?r:new i(function(o){o(r)})}return n(t,"adopt"),new(i||(i=Promise))(function(r,o){function f(u){try{v(e.next(u))}catch(S){o(S)}}n(f,"fulfilled");function g(u){try{v(e.throw(u))}catch(S){o(S)}}n(g,"rejected");function v(u){u.done?r(u.value):t(u.value).then(f,g)}n(v,"step"),v((e=e.apply(a,s||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(4085910259),m=c(828016749);let p=n(class extends m.VoiceFocusAudioWorkletNode{enable(){return d(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return d(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return d(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(s){var i;const e=s.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(s){var i;const e=s.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(s,i){super(s,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:r,fetchBehavior:o,delegate:f}=i;this.delegate=f,this.worker=r,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:g,agc:v,supportFarendStream:u}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:s.sampleRate===16e3?160:480,enabled:g,agc:v,fetchBehavior:o,model:e,supportFarendStream:u});const S=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:S,key:"buffer",fetchBehavior:o,path:t})}},"VoiceFocusWorkerPostMessageNode");l.default=p},5129031187:function(V,l,c){"use strict";var d=this&&this.__awaiter||function(i,e,t,r){function o(f){return f instanceof t?f:new t(function(g){g(f)})}return n(o,"adopt"),new(t||(t=Promise))(function(f,g){function v(_){try{S(r.next(_))}catch(b){g(b)}}n(v,"fulfilled");function u(_){try{S(r.throw(_))}catch(b){g(b)}}n(u,"rejected");function S(_){_.done?f(_.value):o(_.value).then(v,u)}n(S,"step"),S((r=r.apply(i,e||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});const h=c(4085910259),m=c(828016749),p={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let s=n(class extends m.VoiceFocusAudioWorkletNode{enable(){return d(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,p.enabled,a.enabled),Atomics.notify(this.state,p.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return d(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,p.enabled,a.disabled),Atomics.notify(this.state,p.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return d(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,p.enabled,a.stopped),Atomics.notify(this.state,p.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const r=e.data;switch(r.message){case"ready":if(!r.shared)throw new Error("No shared state.");this.state=new Int32Array(r.shared.state),this.port.postMessage(r);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(r);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(r);break;default:return}}onProcessorMessage(e){var t;const r=e.data;switch(r.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(r);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:r,resamplerURL:o,worker:f,fetchBehavior:g,delegate:v}=t;this.delegate=v,this.worker=f,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:u,supportFarendStream:S}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:u,model:r,supportFarendStream:S});const _=h.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:_,key:"resampler",fetchBehavior:g,path:o})}},"VoiceFocusWorkerBufferNode");l.default=s},7618469943:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.RawSha256=void 0;var d=c(6277460803),h=function(){function m(){this.state=Int32Array.from(d.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return n(m,"RawSha2561"),m.prototype.update=function(p){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,s=p.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>d.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=p[a++],s--,this.bufferLength===d.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},m.prototype.digest=function(){if(!this.finished){var p=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(a.setUint8(this.bufferLength++,128),s%d.BLOCK_SIZE>=d.BLOCK_SIZE-8){for(var i=this.bufferLength;i<d.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<d.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(d.BLOCK_SIZE-8,Math.floor(p/4294967296),!0),a.setUint32(d.BLOCK_SIZE-4,p),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(d.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},m.prototype.hashBuffer=function(){for(var p=this,a=p.buffer,s=p.state,i=s[0],e=s[1],t=s[2],r=s[3],o=s[4],f=s[5],g=s[6],v=s[7],u=0;u<d.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var S=this.temp[u-2],_=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10;S=this.temp[u-15];var b=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3;this.temp[u]=(_+this.temp[u-7]|0)+(b+this.temp[u-16]|0)}var E=(((o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7))+(o&f^~o&g)|0)+(v+(d.KEY[u]+this.temp[u]|0)|0)|0,T=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;v=g,g=f,f=o,o=r+E|0,r=t,t=e,e=i,i=E+T|0}s[0]+=i,s[1]+=e,s[2]+=t,s[3]+=r,s[4]+=o,s[5]+=f,s[6]+=g,s[7]+=v},m}();l.RawSha256=h},6277460803:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MAX_HASHABLE_LENGTH=l.INIT=l.KEY=l.DIGEST_LENGTH=l.BLOCK_SIZE=void 0,l.BLOCK_SIZE=64,l.DIGEST_LENGTH=32,l.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],l.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},8486874086:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var d=c(6762251298);d.__exportStar(c(7700746202),l)},7700746202:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Sha256=void 0;var d=c(6762251298),h=c(6277460803),m=c(7618469943),p=c(5604890277),a=function(){function i(e){if(this.hash=new m.RawSha256,e){this.outer=new m.RawSha256;var t=s(e),r=new Uint8Array(h.BLOCK_SIZE);r.set(t);for(var o=0;o<h.BLOCK_SIZE;o++)t[o]^=54,r[o]^=92;this.hash.update(t),this.outer.update(r);for(var o=0;o<t.byteLength;o++)t[o]=0}}return n(i,"Sha2561"),i.prototype.update=function(e){if(!((0,p.isEmptyData)(e)||this.error))try{this.hash.update((0,p.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){return[2,this.digestSync()]})})},i}();l.Sha256=a;function s(i){var e=(0,p.convertToBuffer)(i);if(e.byteLength>h.BLOCK_SIZE){var t=new m.RawSha256;t.update(e),e=t.digest()}var r=new Uint8Array(h.BLOCK_SIZE);return r.set(e),r}n(s,"bufferFromSecret")},8365624009:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.convertToBuffer=void 0;var d=c(5771355735),h=typeof Buffer<"u"&&Buffer.from?function(p){return Buffer.from(p,"utf8")}:d.fromUtf8;function m(p){return p instanceof Uint8Array?p:typeof p=="string"?h(p):ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(p)}n(m,"convertToBuffer"),l.convertToBuffer=m},5604890277:(V,l,c)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=l.numToUint8=l.isEmptyData=l.convertToBuffer=void 0;var d=c(8365624009);Object.defineProperty(l,"convertToBuffer",{enumerable:!0,get:function(){return d.convertToBuffer}});var h=c(9192625564);Object.defineProperty(l,"isEmptyData",{enumerable:!0,get:function(){return h.isEmptyData}});var m=c(4663873180);Object.defineProperty(l,"numToUint8",{enumerable:!0,get:function(){return m.numToUint8}});var p=c(5579770347);Object.defineProperty(l,"uint32ArrayFrom",{enumerable:!0,get:function(){return p.uint32ArrayFrom}})},9192625564:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isEmptyData=void 0;function c(d){return typeof d=="string"?d.length===0:d.byteLength===0}n(c,"isEmptyData"),l.isEmptyData=c},4663873180:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.numToUint8=void 0;function c(d){return new Uint8Array([(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255])}n(c,"numToUint8"),l.numToUint8=c},5579770347:(V,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uint32ArrayFrom=void 0;function c(d){if(!Uint32Array.from){for(var h=new Uint32Array(d.length),m=0;m<d.length;)h[m]=d[m],m+=1;return h}return Uint32Array.from(d)}n(c,"uint32ArrayFrom"),l.uint32ArrayFrom=c},3891390253:(V,l,c)=>{"use strict";const{Deflate:d,deflate:h,deflateRaw:m,gzip:p}=c(7569877914),{Inflate:a,inflate:s,inflateRaw:i,ungzip:e}=c(3759855870),t=c(4167355720);V.exports.Deflate=d,V.exports.deflate=h,V.exports.deflateRaw=m,V.exports.gzip=p,V.exports.Inflate=a,V.exports.inflate=s,V.exports.inflateRaw=i,V.exports.ungzip=e,V.exports.constants=t},7569877914:(V,l,c)=>{"use strict";const d=c(7801341470),h=c(7534353108),m=c(2462870149),p=c(9836815007),a=c(1225161799),s=Object.prototype.toString,{Z_NO_FLUSH:i,Z_SYNC_FLUSH:e,Z_FULL_FLUSH:t,Z_FINISH:r,Z_OK:o,Z_STREAM_END:f,Z_DEFAULT_COMPRESSION:g,Z_DEFAULT_STRATEGY:v,Z_DEFLATED:u}=c(4167355720);function S(T){this.options=h.assign({level:g,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:v},T||{});let I=this.options;I.raw&&I.windowBits>0?I.windowBits=-I.windowBits:I.gzip&&I.windowBits>0&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let A=d.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(A!==o)throw new Error(p[A]);if(I.header&&d.deflateSetHeader(this.strm,I.header),I.dictionary){let w;if(typeof I.dictionary=="string"?w=m.string2buf(I.dictionary):s.call(I.dictionary)==="[object ArrayBuffer]"?w=new Uint8Array(I.dictionary):w=I.dictionary,A=d.deflateSetDictionary(this.strm,w),A!==o)throw new Error(p[A]);this._dict_set=!0}}n(S,"Deflate"),S.prototype.push=function(T,I){const A=this.strm,w=this.options.chunkSize;let R,P;if(this.ended)return!1;for(I===~~I?P=I:P=I===!0?r:i,typeof T=="string"?A.input=m.string2buf(T):s.call(T)==="[object ArrayBuffer]"?A.input=new Uint8Array(T):A.input=T,A.next_in=0,A.avail_in=A.input.length;;){if(A.avail_out===0&&(A.output=new Uint8Array(w),A.next_out=0,A.avail_out=w),(P===e||P===t)&&A.avail_out<=6){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(R=d.deflate(A,P),R===f)return A.next_out>0&&this.onData(A.output.subarray(0,A.next_out)),R=d.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===o;if(A.avail_out===0){this.onData(A.output);continue}if(P>0&&A.next_out>0){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(A.avail_in===0)break}return!0},S.prototype.onData=function(T){this.chunks.push(T)},S.prototype.onEnd=function(T){T===o&&(this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function _(T,I){const A=new S(I);if(A.push(T,!0),A.err)throw A.msg||p[A.err];return A.result}n(_,"deflate");function b(T,I){return I=I||{},I.raw=!0,_(T,I)}n(b,"deflateRaw");function E(T,I){return I=I||{},I.gzip=!0,_(T,I)}n(E,"gzip"),V.exports.Deflate=S,V.exports.deflate=_,V.exports.deflateRaw=b,V.exports.gzip=E,V.exports.constants=c(4167355720)},3759855870:(V,l,c)=>{"use strict";const d=c(1180169834),h=c(7534353108),m=c(2462870149),p=c(9836815007),a=c(1225161799),s=c(9277415795),i=Object.prototype.toString,{Z_NO_FLUSH:e,Z_FINISH:t,Z_OK:r,Z_STREAM_END:o,Z_NEED_DICT:f,Z_STREAM_ERROR:g,Z_DATA_ERROR:v,Z_MEM_ERROR:u}=c(4167355720);function S(E){this.options=h.assign({chunkSize:1024*64,windowBits:15,to:""},E||{});const T=this.options;T.raw&&T.windowBits>=0&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),T.windowBits>=0&&T.windowBits<16&&!(E&&E.windowBits)&&(T.windowBits+=32),T.windowBits>15&&T.windowBits<48&&(T.windowBits&15||(T.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let I=d.inflateInit2(this.strm,T.windowBits);if(I!==r)throw new Error(p[I]);if(this.header=new s,d.inflateGetHeader(this.strm,this.header),T.dictionary&&(typeof T.dictionary=="string"?T.dictionary=m.string2buf(T.dictionary):i.call(T.dictionary)==="[object ArrayBuffer]"&&(T.dictionary=new Uint8Array(T.dictionary)),T.raw&&(I=d.inflateSetDictionary(this.strm,T.dictionary),I!==r)))throw new Error(p[I])}n(S,"Inflate"),S.prototype.push=function(E,T){const I=this.strm,A=this.options.chunkSize,w=this.options.dictionary;let R,P,x;if(this.ended)return!1;for(T===~~T?P=T:P=T===!0?t:e,i.call(E)==="[object ArrayBuffer]"?I.input=new Uint8Array(E):I.input=E,I.next_in=0,I.avail_in=I.input.length;;){for(I.avail_out===0&&(I.output=new Uint8Array(A),I.next_out=0,I.avail_out=A),R=d.inflate(I,P),R===f&&w&&(R=d.inflateSetDictionary(I,w),R===r?R=d.inflate(I,P):R===v&&(R=f));I.avail_in>0&&R===o&&I.state.wrap>0&&E[I.next_in]!==0;)d.inflateReset(I),R=d.inflate(I,P);switch(R){case g:case v:case f:case u:return this.onEnd(R),this.ended=!0,!1}if(x=I.avail_out,I.next_out&&(I.avail_out===0||R===o))if(this.options.to==="string"){let z=m.utf8border(I.output,I.next_out),Z=I.next_out-z,re=m.buf2string(I.output,z);I.next_out=Z,I.avail_out=A-Z,Z&&I.output.set(I.output.subarray(z,z+Z),0),this.onData(re)}else this.onData(I.output.length===I.next_out?I.output:I.output.subarray(0,I.next_out));if(!(R===r&&x===0)){if(R===o)return R=d.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,!0;if(I.avail_in===0)break}}return!0},S.prototype.onData=function(E){this.chunks.push(E)},S.prototype.onEnd=function(E){E===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg};function _(E,T){const I=new S(T);if(I.push(E),I.err)throw I.msg||p[I.err];return I.result}n(_,"inflate");function b(E,T){return T=T||{},T.raw=!0,_(E,T)}n(b,"inflateRaw"),V.exports.Inflate=S,V.exports.inflate=_,V.exports.inflateRaw=b,V.exports.ungzip=_,V.exports.constants=c(4167355720)},7534353108:V=>{"use strict";const l=n((c,d)=>Object.prototype.hasOwnProperty.call(c,d),"_has");V.exports.assign=function(c){const d=Array.prototype.slice.call(arguments,1);for(;d.length;){const h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(const m in h)l(h,m)&&(c[m]=h[m])}}return c},V.exports.flattenChunks=c=>{let d=0;for(let m=0,p=c.length;m<p;m++)d+=c[m].length;const h=new Uint8Array(d);for(let m=0,p=0,a=c.length;m<a;m++){let s=c[m];h.set(s,p),p+=s.length}return h}},2462870149:V=>{"use strict";let l=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}const c=new Uint8Array(256);for(let h=0;h<256;h++)c[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;c[254]=c[254]=1,V.exports.string2buf=h=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(h);let m,p,a,s,i,e=h.length,t=0;for(s=0;s<e;s++)p=h.charCodeAt(s),(p&64512)===55296&&s+1<e&&(a=h.charCodeAt(s+1),(a&64512)===56320&&(p=65536+(p-55296<<10)+(a-56320),s++)),t+=p<128?1:p<2048?2:p<65536?3:4;for(m=new Uint8Array(t),i=0,s=0;i<t;s++)p=h.charCodeAt(s),(p&64512)===55296&&s+1<e&&(a=h.charCodeAt(s+1),(a&64512)===56320&&(p=65536+(p-55296<<10)+(a-56320),s++)),p<128?m[i++]=p:p<2048?(m[i++]=192|p>>>6,m[i++]=128|p&63):p<65536?(m[i++]=224|p>>>12,m[i++]=128|p>>>6&63,m[i++]=128|p&63):(m[i++]=240|p>>>18,m[i++]=128|p>>>12&63,m[i++]=128|p>>>6&63,m[i++]=128|p&63);return m};const d=n((h,m)=>{if(m<65534&&h.subarray&&l)return String.fromCharCode.apply(null,h.length===m?h:h.subarray(0,m));let p="";for(let a=0;a<m;a++)p+=String.fromCharCode(h[a]);return p},"buf2binstring");V.exports.buf2string=(h,m)=>{const p=m||h.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(h.subarray(0,m));let a,s;const i=new Array(p*2);for(s=0,a=0;a<p;){let e=h[a++];if(e<128){i[s++]=e;continue}let t=c[e];if(t>4){i[s++]=65533,a+=t-1;continue}for(e&=t===2?31:t===3?15:7;t>1&&a<p;)e=e<<6|h[a++]&63,t--;if(t>1){i[s++]=65533;continue}e<65536?i[s++]=e:(e-=65536,i[s++]=55296|e>>10&1023,i[s++]=56320|e&1023)}return d(i,s)},V.exports.utf8border=(h,m)=>{m=m||h.length,m>h.length&&(m=h.length);let p=m-1;for(;p>=0&&(h[p]&192)===128;)p--;return p<0||p===0?m:p+c[h[p]]>m?p:m}},3931967740:V=>{"use strict";const l=n((c,d,h,m)=>{let p=c&65535|0,a=c>>>16&65535|0,s=0;for(;h!==0;){s=h>2e3?2e3:h,h-=s;do p=p+d[m++]|0,a=a+p|0;while(--s);p%=65521,a%=65521}return p|a<<16|0},"adler32");V.exports=l},4167355720:V=>{"use strict";V.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2974422970:V=>{"use strict";const l=n(()=>{let h,m=[];for(var p=0;p<256;p++){h=p;for(var a=0;a<8;a++)h=h&1?3988292384^h>>>1:h>>>1;m[p]=h}return m},"makeTable"),c=new Uint32Array(l()),d=n((h,m,p,a)=>{const s=c,i=a+p;h^=-1;for(let e=a;e<i;e++)h=h>>>8^s[(h^m[e])&255];return h^-1},"crc32");V.exports=d},7801341470:(V,l,c)=>{"use strict";const{_tr_init:d,_tr_stored_block:h,_tr_flush_block:m,_tr_tally:p,_tr_align:a}=c(4853608024),s=c(3931967740),i=c(2974422970),e=c(9836815007),{Z_NO_FLUSH:t,Z_PARTIAL_FLUSH:r,Z_FULL_FLUSH:o,Z_FINISH:f,Z_BLOCK:g,Z_OK:v,Z_STREAM_END:u,Z_STREAM_ERROR:S,Z_DATA_ERROR:_,Z_BUF_ERROR:b,Z_DEFAULT_COMPRESSION:E,Z_FILTERED:T,Z_HUFFMAN_ONLY:I,Z_RLE:A,Z_FIXED:w,Z_DEFAULT_STRATEGY:R,Z_UNKNOWN:P,Z_DEFLATED:x}=c(4167355720),z=9,Z=15,re=8,ne=29,ge=256+1+ne,Pe=30,He=19,pt=2*ge+1,Ht=15,Ke=3,it=258,ct=it+Ke+1,rt=32,_t=42,Gt=69,Kt=73,Ye=91,Xe=103,It=113,kt=666,gt=1,En=2,pn=3,wn=4,zn=3,Qn=n((B,Fe)=>(B.msg=e[Fe],Fe),"err"),Sn=n(B=>(B<<1)-(B>4?9:0),"rank"),Zn=n(B=>{let Fe=B.length;for(;--Fe>=0;)B[Fe]=0},"zero");let ui=n((B,Fe,fe)=>(Fe<<B.hash_shift^fe)&B.hash_mask,"HASH_ZLIB");const fi=n(B=>{const Fe=B.state;let fe=Fe.pending;fe>B.avail_out&&(fe=B.avail_out),fe!==0&&(B.output.set(Fe.pending_buf.subarray(Fe.pending_out,Fe.pending_out+fe),B.next_out),B.next_out+=fe,Fe.pending_out+=fe,B.total_out+=fe,B.avail_out-=fe,Fe.pending-=fe,Fe.pending===0&&(Fe.pending_out=0))},"flush_pending"),Vn=n((B,Fe)=>{m(B,B.block_start>=0?B.block_start:-1,B.strstart-B.block_start,Fe),B.block_start=B.strstart,fi(B.strm)},"flush_block_only"),In=n((B,Fe)=>{B.pending_buf[B.pending++]=Fe},"put_byte"),wi=n((B,Fe)=>{B.pending_buf[B.pending++]=Fe>>>8&255,B.pending_buf[B.pending++]=Fe&255},"putShortMSB"),_n=n((B,Fe,fe,ve)=>{let ee=B.avail_in;return ee>ve&&(ee=ve),ee===0?0:(B.avail_in-=ee,Fe.set(B.input.subarray(B.next_in,B.next_in+ee),fe),B.state.wrap===1?B.adler=s(B.adler,Fe,ee,fe):B.state.wrap===2&&(B.adler=i(B.adler,Fe,ee,fe)),B.next_in+=ee,B.total_in+=ee,ee)},"read_buf"),An=n((B,Fe)=>{let fe=B.max_chain_length,ve=B.strstart,ee,Et,Ne=B.prev_length,st=B.nice_match;const on=B.strstart>B.w_size-ct?B.strstart-(B.w_size-ct):0,$t=B.window,yi=B.w_mask,mi=B.prev,ri=B.strstart+it;let ti=$t[ve+Ne-1],Zt=$t[ve+Ne];B.prev_length>=B.good_match&&(fe>>=2),st>B.lookahead&&(st=B.lookahead);do if(ee=Fe,!($t[ee+Ne]!==Zt||$t[ee+Ne-1]!==ti||$t[ee]!==$t[ve]||$t[++ee]!==$t[ve+1])){ve+=2,ee++;do;while($t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&$t[++ve]===$t[++ee]&&ve<ri);if(Et=it-(ri-ve),ve=ri-it,Et>Ne){if(B.match_start=Fe,Ne=Et,Et>=st)break;ti=$t[ve+Ne-1],Zt=$t[ve+Ne]}}while((Fe=mi[Fe&yi])>on&&--fe!==0);return Ne<=B.lookahead?Ne:B.lookahead},"longest_match"),sn=n(B=>{const Fe=B.w_size;let fe,ve,ee,Et,Ne;do{if(Et=B.window_size-B.lookahead-B.strstart,B.strstart>=Fe+(Fe-ct)){B.window.set(B.window.subarray(Fe,Fe+Fe),0),B.match_start-=Fe,B.strstart-=Fe,B.block_start-=Fe,ve=B.hash_size,fe=ve;do ee=B.head[--fe],B.head[fe]=ee>=Fe?ee-Fe:0;while(--ve);ve=Fe,fe=ve;do ee=B.prev[--fe],B.prev[fe]=ee>=Fe?ee-Fe:0;while(--ve);Et+=Fe}if(B.strm.avail_in===0)break;if(ve=_n(B.strm,B.window,B.strstart+B.lookahead,Et),B.lookahead+=ve,B.lookahead+B.insert>=Ke)for(Ne=B.strstart-B.insert,B.ins_h=B.window[Ne],B.ins_h=ui(B,B.ins_h,B.window[Ne+1]);B.insert&&(B.ins_h=ui(B,B.ins_h,B.window[Ne+Ke-1]),B.prev[Ne&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Ne,Ne++,B.insert--,!(B.lookahead+B.insert<Ke)););}while(B.lookahead<ct&&B.strm.avail_in!==0)},"fill_window"),Q=n((B,Fe)=>{let fe=65535;for(fe>B.pending_buf_size-5&&(fe=B.pending_buf_size-5);;){if(B.lookahead<=1){if(sn(B),B.lookahead===0&&Fe===t)return gt;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;const ve=B.block_start+fe;if((B.strstart===0||B.strstart>=ve)&&(B.lookahead=B.strstart-ve,B.strstart=ve,Vn(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-ct&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=0,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):(B.strstart>B.block_start&&(Vn(B,!1),B.strm.avail_out===0),gt)},"deflate_stored"),lt=n((B,Fe)=>{let fe,ve;for(;;){if(B.lookahead<ct){if(sn(B),B.lookahead<ct&&Fe===t)return gt;if(B.lookahead===0)break}if(fe=0,B.lookahead>=Ke&&(B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),fe!==0&&B.strstart-fe<=B.w_size-ct&&(B.match_length=An(B,fe)),B.match_length>=Ke)if(ve=p(B,B.strstart-B.match_start,B.match_length-Ke),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=Ke){B.match_length--;do B.strstart++,B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart;while(--B.match_length!==0);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=ui(B,B.ins_h,B.window[B.strstart+1]);else ve=p(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(ve&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=B.strstart<Ke-1?B.strstart:Ke-1,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_fast"),mt=n((B,Fe)=>{let fe,ve,ee;for(;;){if(B.lookahead<ct){if(sn(B),B.lookahead<ct&&Fe===t)return gt;if(B.lookahead===0)break}if(fe=0,B.lookahead>=Ke&&(B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=Ke-1,fe!==0&&B.prev_length<B.max_lazy_match&&B.strstart-fe<=B.w_size-ct&&(B.match_length=An(B,fe),B.match_length<=5&&(B.strategy===T||B.match_length===Ke&&B.strstart-B.match_start>4096)&&(B.match_length=Ke-1)),B.prev_length>=Ke&&B.match_length<=B.prev_length){ee=B.strstart+B.lookahead-Ke,ve=p(B,B.strstart-1-B.prev_match,B.prev_length-Ke),B.lookahead-=B.prev_length-1,B.prev_length-=2;do++B.strstart<=ee&&(B.ins_h=ui(B,B.ins_h,B.window[B.strstart+Ke-1]),fe=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart);while(--B.prev_length!==0);if(B.match_available=0,B.match_length=Ke-1,B.strstart++,ve&&(Vn(B,!1),B.strm.avail_out===0))return gt}else if(B.match_available){if(ve=p(B,0,B.window[B.strstart-1]),ve&&Vn(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return gt}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(ve=p(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<Ke-1?B.strstart:Ke-1,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_slow"),bt=n((B,Fe)=>{let fe,ve,ee,Et;const Ne=B.window;for(;;){if(B.lookahead<=it){if(sn(B),B.lookahead<=it&&Fe===t)return gt;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=Ke&&B.strstart>0&&(ee=B.strstart-1,ve=Ne[ee],ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee])){Et=B.strstart+it;do;while(ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ve===Ne[++ee]&&ee<Et);B.match_length=it-(Et-ee),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=Ke?(fe=p(B,1,B.match_length-Ke),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(fe=p(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),fe&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=0,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_rle"),At=n((B,Fe)=>{let fe;for(;;){if(B.lookahead===0&&(sn(B),B.lookahead===0)){if(Fe===t)return gt;break}if(B.match_length=0,fe=p(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,fe&&(Vn(B,!1),B.strm.avail_out===0))return gt}return B.insert=0,Fe===f?(Vn(B,!0),B.strm.avail_out===0?pn:wn):B.last_lit&&(Vn(B,!1),B.strm.avail_out===0)?gt:En},"deflate_huff");function Wt(B,Fe,fe,ve,ee){this.good_length=B,this.max_lazy=Fe,this.nice_length=fe,this.max_chain=ve,this.func=ee}n(Wt,"Config");const we=[new Wt(0,0,0,0,Q),new Wt(4,4,8,4,lt),new Wt(4,5,16,8,lt),new Wt(4,6,32,32,lt),new Wt(4,4,16,16,mt),new Wt(8,16,32,32,mt),new Wt(8,16,128,128,mt),new Wt(8,32,128,256,mt),new Wt(32,128,258,1024,mt),new Wt(32,258,258,4096,mt)],ht=n(B=>{B.window_size=2*B.w_size,Zn(B.head),B.max_lazy_match=we[B.level].max_lazy,B.good_match=we[B.level].good_length,B.nice_match=we[B.level].nice_length,B.max_chain_length=we[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=Ke-1,B.match_available=0,B.ins_h=0},"lm_init");function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(pt*2),this.dyn_dtree=new Uint16Array((2*Pe+1)*2),this.bl_tree=new Uint16Array((2*He+1)*2),Zn(this.dyn_ltree),Zn(this.dyn_dtree),Zn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ht+1),this.heap=new Uint16Array(2*ge+1),Zn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ge+1),Zn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}n(K,"DeflateState");const se=n(B=>{if(!B||!B.state)return Qn(B,S);B.total_in=B.total_out=0,B.data_type=P;const Fe=B.state;return Fe.pending=0,Fe.pending_out=0,Fe.wrap<0&&(Fe.wrap=-Fe.wrap),Fe.status=Fe.wrap?_t:It,B.adler=Fe.wrap===2?0:1,Fe.last_flush=t,d(Fe),v},"deflateResetKeep"),Ve=n(B=>{const Fe=se(B);return Fe===v&&ht(B.state),Fe},"deflateReset"),Be=n((B,Fe)=>!B||!B.state||B.state.wrap!==2?S:(B.state.gzhead=Fe,v),"deflateSetHeader"),Yt=n((B,Fe,fe,ve,ee,Et)=>{if(!B)return S;let Ne=1;if(Fe===E&&(Fe=6),ve<0?(Ne=0,ve=-ve):ve>15&&(Ne=2,ve-=16),ee<1||ee>z||fe!==x||ve<8||ve>15||Fe<0||Fe>9||Et<0||Et>w)return Qn(B,S);ve===8&&(ve=9);const st=new K;return B.state=st,st.strm=B,st.wrap=Ne,st.gzhead=null,st.w_bits=ve,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=ee+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+Ke-1)/Ke),st.window=new Uint8Array(st.w_size*2),st.head=new Uint16Array(st.hash_size),st.prev=new Uint16Array(st.w_size),st.lit_bufsize=1<<ee+6,st.pending_buf_size=st.lit_bufsize*4,st.pending_buf=new Uint8Array(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=(1+2)*st.lit_bufsize,st.level=Fe,st.strategy=Et,st.method=fe,Ve(B)},"deflateInit2"),yt=n((B,Fe)=>Yt(B,Fe,x,Z,re,R),"deflateInit"),Bt=n((B,Fe)=>{let fe,ve;if(!B||!B.state||Fe>g||Fe<0)return B?Qn(B,S):S;const ee=B.state;if(!B.output||!B.input&&B.avail_in!==0||ee.status===kt&&Fe!==f)return Qn(B,B.avail_out===0?b:S);ee.strm=B;const Et=ee.last_flush;if(ee.last_flush=Fe,ee.status===_t)if(ee.wrap===2)B.adler=0,In(ee,31),In(ee,139),In(ee,8),ee.gzhead?(In(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),In(ee,ee.gzhead.time&255),In(ee,ee.gzhead.time>>8&255),In(ee,ee.gzhead.time>>16&255),In(ee,ee.gzhead.time>>24&255),In(ee,ee.level===9?2:ee.strategy>=I||ee.level<2?4:0),In(ee,ee.gzhead.os&255),ee.gzhead.extra&&ee.gzhead.extra.length&&(In(ee,ee.gzhead.extra.length&255),In(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(B.adler=i(B.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=Gt):(In(ee,0),In(ee,0),In(ee,0),In(ee,0),In(ee,0),In(ee,ee.level===9?2:ee.strategy>=I||ee.level<2?4:0),In(ee,zn),ee.status=It);else{let Ne=x+(ee.w_bits-8<<4)<<8,st=-1;ee.strategy>=I||ee.level<2?st=0:ee.level<6?st=1:ee.level===6?st=2:st=3,Ne|=st<<6,ee.strstart!==0&&(Ne|=rt),Ne+=31-Ne%31,ee.status=It,wi(ee,Ne),ee.strstart!==0&&(wi(ee,B.adler>>>16),wi(ee,B.adler&65535)),B.adler=1}if(ee.status===Gt)if(ee.gzhead.extra){for(fe=ee.pending;ee.gzindex<(ee.gzhead.extra.length&65535)&&!(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),fi(B),fe=ee.pending,ee.pending===ee.pending_buf_size));)In(ee,ee.gzhead.extra[ee.gzindex]&255),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=Kt)}else ee.status=Kt;if(ee.status===Kt)if(ee.gzhead.name){fe=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),fi(B),fe=ee.pending,ee.pending===ee.pending_buf_size)){ve=1;break}ee.gzindex<ee.gzhead.name.length?ve=ee.gzhead.name.charCodeAt(ee.gzindex++)&255:ve=0,In(ee,ve)}while(ve!==0);ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),ve===0&&(ee.gzindex=0,ee.status=Ye)}else ee.status=Ye;if(ee.status===Ye)if(ee.gzhead.comment){fe=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),fi(B),fe=ee.pending,ee.pending===ee.pending_buf_size)){ve=1;break}ee.gzindex<ee.gzhead.comment.length?ve=ee.gzhead.comment.charCodeAt(ee.gzindex++)&255:ve=0,In(ee,ve)}while(ve!==0);ee.gzhead.hcrc&&ee.pending>fe&&(B.adler=i(B.adler,ee.pending_buf,ee.pending-fe,fe)),ve===0&&(ee.status=Xe)}else ee.status=Xe;if(ee.status===Xe&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&fi(B),ee.pending+2<=ee.pending_buf_size&&(In(ee,B.adler&255),In(ee,B.adler>>8&255),B.adler=0,ee.status=It)):ee.status=It),ee.pending!==0){if(fi(B),B.avail_out===0)return ee.last_flush=-1,v}else if(B.avail_in===0&&Sn(Fe)<=Sn(Et)&&Fe!==f)return Qn(B,b);if(ee.status===kt&&B.avail_in!==0)return Qn(B,b);if(B.avail_in!==0||ee.lookahead!==0||Fe!==t&&ee.status!==kt){let Ne=ee.strategy===I?At(ee,Fe):ee.strategy===A?bt(ee,Fe):we[ee.level].func(ee,Fe);if((Ne===pn||Ne===wn)&&(ee.status=kt),Ne===gt||Ne===pn)return B.avail_out===0&&(ee.last_flush=-1),v;if(Ne===En&&(Fe===r?a(ee):Fe!==g&&(h(ee,0,0,!1),Fe===o&&(Zn(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),fi(B),B.avail_out===0))return ee.last_flush=-1,v}return Fe!==f?v:ee.wrap<=0?u:(ee.wrap===2?(In(ee,B.adler&255),In(ee,B.adler>>8&255),In(ee,B.adler>>16&255),In(ee,B.adler>>24&255),In(ee,B.total_in&255),In(ee,B.total_in>>8&255),In(ee,B.total_in>>16&255),In(ee,B.total_in>>24&255)):(wi(ee,B.adler>>>16),wi(ee,B.adler&65535)),fi(B),ee.wrap>0&&(ee.wrap=-ee.wrap),ee.pending!==0?v:u)},"deflate"),ke=n(B=>{if(!B||!B.state)return S;const Fe=B.state.status;return Fe!==_t&&Fe!==Gt&&Fe!==Kt&&Fe!==Ye&&Fe!==Xe&&Fe!==It&&Fe!==kt?Qn(B,S):(B.state=null,Fe===It?Qn(B,_):v)},"deflateEnd"),Je=n((B,Fe)=>{let fe=Fe.length;if(!B||!B.state)return S;const ve=B.state,ee=ve.wrap;if(ee===2||ee===1&&ve.status!==_t||ve.lookahead)return S;if(ee===1&&(B.adler=s(B.adler,Fe,fe,0)),ve.wrap=0,fe>=ve.w_size){ee===0&&(Zn(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0);let on=new Uint8Array(ve.w_size);on.set(Fe.subarray(fe-ve.w_size,fe),0),Fe=on,fe=ve.w_size}const Et=B.avail_in,Ne=B.next_in,st=B.input;for(B.avail_in=fe,B.next_in=0,B.input=Fe,sn(ve);ve.lookahead>=Ke;){let on=ve.strstart,$t=ve.lookahead-(Ke-1);do ve.ins_h=ui(ve,ve.ins_h,ve.window[on+Ke-1]),ve.prev[on&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=on,on++;while(--$t);ve.strstart=on,ve.lookahead=Ke-1,sn(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=Ke-1,ve.match_available=0,B.next_in=Ne,B.input=st,B.avail_in=Et,ve.wrap=ee,v},"deflateSetDictionary");V.exports.deflateInit=yt,V.exports.deflateInit2=Yt,V.exports.deflateReset=Ve,V.exports.deflateResetKeep=se,V.exports.deflateSetHeader=Be,V.exports.deflate=Bt,V.exports.deflateEnd=ke,V.exports.deflateSetDictionary=Je,V.exports.deflateInfo="pako deflate (from Nodeca project)"},9277415795:V=>{"use strict";function l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}n(l,"GZheader"),V.exports=l},9149325604:V=>{"use strict";V.exports=n(function(h,m){let p,a,s,i,e,t,r,o,f,g,v,u,S,_,b,E,T,I,A,w,R,P,x,z;const Z=h.state;p=h.next_in,x=h.input,a=p+(h.avail_in-5),s=h.next_out,z=h.output,i=s-(m-h.avail_out),e=s+(h.avail_out-257),t=Z.dmax,r=Z.wsize,o=Z.whave,f=Z.wnext,g=Z.window,v=Z.hold,u=Z.bits,S=Z.lencode,_=Z.distcode,b=(1<<Z.lenbits)-1,E=(1<<Z.distbits)-1;e:do{u<15&&(v+=x[p++]<<u,u+=8,v+=x[p++]<<u,u+=8),T=S[v&b];t:for(;;){if(I=T>>>24,v>>>=I,u-=I,I=T>>>16&255,I===0)z[s++]=T&65535;else if(I&16){A=T&65535,I&=15,I&&(u<I&&(v+=x[p++]<<u,u+=8),A+=v&(1<<I)-1,v>>>=I,u-=I),u<15&&(v+=x[p++]<<u,u+=8,v+=x[p++]<<u,u+=8),T=_[v&E];n:for(;;){if(I=T>>>24,v>>>=I,u-=I,I=T>>>16&255,I&16){if(w=T&65535,I&=15,u<I&&(v+=x[p++]<<u,u+=8,u<I&&(v+=x[p++]<<u,u+=8)),w+=v&(1<<I)-1,w>t){h.msg="invalid distance too far back",Z.mode=30;break e}if(v>>>=I,u-=I,I=s-i,w>I){if(I=w-I,I>o&&Z.sane){h.msg="invalid distance too far back",Z.mode=30;break e}if(R=0,P=g,f===0){if(R+=r-I,I<A){A-=I;do z[s++]=g[R++];while(--I);R=s-w,P=z}}else if(f<I){if(R+=r+f-I,I-=f,I<A){A-=I;do z[s++]=g[R++];while(--I);if(R=0,f<A){I=f,A-=I;do z[s++]=g[R++];while(--I);R=s-w,P=z}}}else if(R+=f-I,I<A){A-=I;do z[s++]=g[R++];while(--I);R=s-w,P=z}for(;A>2;)z[s++]=P[R++],z[s++]=P[R++],z[s++]=P[R++],A-=3;A&&(z[s++]=P[R++],A>1&&(z[s++]=P[R++]))}else{R=s-w;do z[s++]=z[R++],z[s++]=z[R++],z[s++]=z[R++],A-=3;while(A>2);A&&(z[s++]=z[R++],A>1&&(z[s++]=z[R++]))}}else if(I&64){h.msg="invalid distance code",Z.mode=30;break e}else{T=_[(T&65535)+(v&(1<<I)-1)];continue n}break}}else if(I&64)if(I&32){Z.mode=12;break e}else{h.msg="invalid literal/length code",Z.mode=30;break e}else{T=S[(T&65535)+(v&(1<<I)-1)];continue t}break}}while(p<a&&s<e);A=u>>3,p-=A,u-=A<<3,v&=(1<<u)-1,h.next_in=p,h.next_out=s,h.avail_in=p<a?5+(a-p):5-(p-a),h.avail_out=s<e?257+(e-s):257-(s-e),Z.hold=v,Z.bits=u},"inflate_fast")},1180169834:(V,l,c)=>{"use strict";const d=c(3931967740),h=c(2974422970),m=c(9149325604),p=c(9043041083),a=0,s=1,i=2,{Z_FINISH:e,Z_BLOCK:t,Z_TREES:r,Z_OK:o,Z_STREAM_END:f,Z_NEED_DICT:g,Z_STREAM_ERROR:v,Z_DATA_ERROR:u,Z_MEM_ERROR:S,Z_BUF_ERROR:_,Z_DEFLATED:b}=c(4167355720),E=1,T=2,I=3,A=4,w=5,R=6,P=7,x=8,z=9,Z=10,re=11,ne=12,he=13,ge=14,Pe=15,He=16,pt=17,Ht=18,Ke=19,it=20,ct=21,rt=22,_t=23,Gt=24,Kt=25,Ye=26,Xe=27,It=28,kt=29,gt=30,En=31,pn=32,wn=852,zn=592,Sn=15,Zn=n(we=>(we>>>24&255)+(we>>>8&65280)+((we&65280)<<8)+((we&255)<<24),"zswap32");function lr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}n(lr,"InflateState");const ui=n(we=>{if(!we||!we.state)return v;const ht=we.state;return we.total_in=we.total_out=ht.total=0,we.msg="",ht.wrap&&(we.adler=ht.wrap&1),ht.mode=E,ht.last=0,ht.havedict=0,ht.dmax=32768,ht.head=null,ht.hold=0,ht.bits=0,ht.lencode=ht.lendyn=new Int32Array(wn),ht.distcode=ht.distdyn=new Int32Array(zn),ht.sane=1,ht.back=-1,o},"inflateResetKeep"),fi=n(we=>{if(!we||!we.state)return v;const ht=we.state;return ht.wsize=0,ht.whave=0,ht.wnext=0,ui(we)},"inflateReset"),Vn=n((we,ht)=>{let K;if(!we||!we.state)return v;const se=we.state;return ht<0?(K=0,ht=-ht):(K=(ht>>4)+1,ht<48&&(ht&=15)),ht&&(ht<8||ht>15)?v:(se.window!==null&&se.wbits!==ht&&(se.window=null),se.wrap=K,se.wbits=ht,fi(we))},"inflateReset2"),In=n((we,ht)=>{if(!we)return v;const K=new lr;we.state=K,K.window=null;const se=Vn(we,ht);return se!==o&&(we.state=null),se},"inflateInit2"),wi=n(we=>In(we,Sn),"inflateInit");let _n=!0,An,sn;const Q=n(we=>{if(_n){An=new Int32Array(512),sn=new Int32Array(32);let ht=0;for(;ht<144;)we.lens[ht++]=8;for(;ht<256;)we.lens[ht++]=9;for(;ht<280;)we.lens[ht++]=7;for(;ht<288;)we.lens[ht++]=8;for(p(s,we.lens,0,288,An,0,we.work,{bits:9}),ht=0;ht<32;)we.lens[ht++]=5;p(i,we.lens,0,32,sn,0,we.work,{bits:5}),_n=!1}we.lencode=An,we.lenbits=9,we.distcode=sn,we.distbits=5},"fixedtables"),lt=n((we,ht,K,se)=>{let Ve;const Be=we.state;return Be.window===null&&(Be.wsize=1<<Be.wbits,Be.wnext=0,Be.whave=0,Be.window=new Uint8Array(Be.wsize)),se>=Be.wsize?(Be.window.set(ht.subarray(K-Be.wsize,K),0),Be.wnext=0,Be.whave=Be.wsize):(Ve=Be.wsize-Be.wnext,Ve>se&&(Ve=se),Be.window.set(ht.subarray(K-se,K-se+Ve),Be.wnext),se-=Ve,se?(Be.window.set(ht.subarray(K-se,K),0),Be.wnext=se,Be.whave=Be.wsize):(Be.wnext+=Ve,Be.wnext===Be.wsize&&(Be.wnext=0),Be.whave<Be.wsize&&(Be.whave+=Ve))),0},"updatewindow"),mt=n((we,ht)=>{let K,se,Ve,Be,Yt,yt,Bt,ke,Je,B,Fe,fe,ve,ee,Et=0,Ne,st,on,$t,yi,mi,ri,ti;const Zt=new Uint8Array(4);let mn,Ui;const Er=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!we||!we.state||!we.output||!we.input&&we.avail_in!==0)return v;K=we.state,K.mode===ne&&(K.mode=he),Yt=we.next_out,Ve=we.output,Bt=we.avail_out,Be=we.next_in,se=we.input,yt=we.avail_in,ke=K.hold,Je=K.bits,B=yt,Fe=Bt,ti=o;e:for(;;)switch(K.mode){case E:if(K.wrap===0){K.mode=he;break}for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(K.wrap&2&&ke===35615){K.check=0,Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0),ke=0,Je=0,K.mode=T;break}if(K.flags=0,K.head&&(K.head.done=!1),!(K.wrap&1)||(((ke&255)<<8)+(ke>>8))%31){we.msg="incorrect header check",K.mode=gt;break}if((ke&15)!==b){we.msg="unknown compression method",K.mode=gt;break}if(ke>>>=4,Je-=4,ri=(ke&15)+8,K.wbits===0)K.wbits=ri;else if(ri>K.wbits){we.msg="invalid window size",K.mode=gt;break}K.dmax=1<<K.wbits,we.adler=K.check=1,K.mode=ke&512?Z:ne,ke=0,Je=0;break;case T:for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(K.flags=ke,(K.flags&255)!==b){we.msg="unknown compression method",K.mode=gt;break}if(K.flags&57344){we.msg="unknown header flags set",K.mode=gt;break}K.head&&(K.head.text=ke>>8&1),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0)),ke=0,Je=0,K.mode=I;case I:for(;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.head&&(K.head.time=ke),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,Zt[2]=ke>>>16&255,Zt[3]=ke>>>24&255,K.check=h(K.check,Zt,4,0)),ke=0,Je=0,K.mode=A;case A:for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.head&&(K.head.xflags=ke&255,K.head.os=ke>>8),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0)),ke=0,Je=0,K.mode=w;case w:if(K.flags&1024){for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.length=ke,K.head&&(K.head.extra_len=ke),K.flags&512&&(Zt[0]=ke&255,Zt[1]=ke>>>8&255,K.check=h(K.check,Zt,2,0)),ke=0,Je=0}else K.head&&(K.head.extra=null);K.mode=R;case R:if(K.flags&1024&&(fe=K.length,fe>yt&&(fe=yt),fe&&(K.head&&(ri=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Uint8Array(K.head.extra_len)),K.head.extra.set(se.subarray(Be,Be+fe),ri)),K.flags&512&&(K.check=h(K.check,se,fe,Be)),yt-=fe,Be+=fe,K.length-=fe),K.length))break e;K.length=0,K.mode=P;case P:if(K.flags&2048){if(yt===0)break e;fe=0;do ri=se[Be+fe++],K.head&&ri&&K.length<65536&&(K.head.name+=String.fromCharCode(ri));while(ri&&fe<yt);if(K.flags&512&&(K.check=h(K.check,se,fe,Be)),yt-=fe,Be+=fe,ri)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=x;case x:if(K.flags&4096){if(yt===0)break e;fe=0;do ri=se[Be+fe++],K.head&&ri&&K.length<65536&&(K.head.comment+=String.fromCharCode(ri));while(ri&&fe<yt);if(K.flags&512&&(K.check=h(K.check,se,fe,Be)),yt-=fe,Be+=fe,ri)break e}else K.head&&(K.head.comment=null);K.mode=z;case z:if(K.flags&512){for(;Je<16;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(ke!==(K.check&65535)){we.msg="header crc mismatch",K.mode=gt;break}ke=0,Je=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),we.adler=K.check=0,K.mode=ne;break;case Z:for(;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}we.adler=K.check=Zn(ke),ke=0,Je=0,K.mode=re;case re:if(K.havedict===0)return we.next_out=Yt,we.avail_out=Bt,we.next_in=Be,we.avail_in=yt,K.hold=ke,K.bits=Je,g;we.adler=K.check=1,K.mode=ne;case ne:if(ht===t||ht===r)break e;case he:if(K.last){ke>>>=Je&7,Je-=Je&7,K.mode=Xe;break}for(;Je<3;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}switch(K.last=ke&1,ke>>>=1,Je-=1,ke&3){case 0:K.mode=ge;break;case 1:if(Q(K),K.mode=it,ht===r){ke>>>=2,Je-=2;break e}break;case 2:K.mode=pt;break;case 3:we.msg="invalid block type",K.mode=gt}ke>>>=2,Je-=2;break;case ge:for(ke>>>=Je&7,Je-=Je&7;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if((ke&65535)!==(ke>>>16^65535)){we.msg="invalid stored block lengths",K.mode=gt;break}if(K.length=ke&65535,ke=0,Je=0,K.mode=Pe,ht===r)break e;case Pe:K.mode=He;case He:if(fe=K.length,fe){if(fe>yt&&(fe=yt),fe>Bt&&(fe=Bt),fe===0)break e;Ve.set(se.subarray(Be,Be+fe),Yt),yt-=fe,Be+=fe,Bt-=fe,Yt+=fe,K.length-=fe;break}K.mode=ne;break;case pt:for(;Je<14;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(K.nlen=(ke&31)+257,ke>>>=5,Je-=5,K.ndist=(ke&31)+1,ke>>>=5,Je-=5,K.ncode=(ke&15)+4,ke>>>=4,Je-=4,K.nlen>286||K.ndist>30){we.msg="too many length or distance symbols",K.mode=gt;break}K.have=0,K.mode=Ht;case Ht:for(;K.have<K.ncode;){for(;Je<3;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.lens[Er[K.have++]]=ke&7,ke>>>=3,Je-=3}for(;K.have<19;)K.lens[Er[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,mn={bits:K.lenbits},ti=p(a,K.lens,0,19,K.lencode,0,K.work,mn),K.lenbits=mn.bits,ti){we.msg="invalid code lengths set",K.mode=gt;break}K.have=0,K.mode=Ke;case Ke:for(;K.have<K.nlen+K.ndist;){for(;Et=K.lencode[ke&(1<<K.lenbits)-1],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!(Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(on<16)ke>>>=Ne,Je-=Ne,K.lens[K.have++]=on;else{if(on===16){for(Ui=Ne+2;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(ke>>>=Ne,Je-=Ne,K.have===0){we.msg="invalid bit length repeat",K.mode=gt;break}ri=K.lens[K.have-1],fe=3+(ke&3),ke>>>=2,Je-=2}else if(on===17){for(Ui=Ne+3;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=Ne,Je-=Ne,ri=0,fe=3+(ke&7),ke>>>=3,Je-=3}else{for(Ui=Ne+7;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=Ne,Je-=Ne,ri=0,fe=11+(ke&127),ke>>>=7,Je-=7}if(K.have+fe>K.nlen+K.ndist){we.msg="invalid bit length repeat",K.mode=gt;break}for(;fe--;)K.lens[K.have++]=ri}}if(K.mode===gt)break;if(K.lens[256]===0){we.msg="invalid code -- missing end-of-block",K.mode=gt;break}if(K.lenbits=9,mn={bits:K.lenbits},ti=p(s,K.lens,0,K.nlen,K.lencode,0,K.work,mn),K.lenbits=mn.bits,ti){we.msg="invalid literal/lengths set",K.mode=gt;break}if(K.distbits=6,K.distcode=K.distdyn,mn={bits:K.distbits},ti=p(i,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,mn),K.distbits=mn.bits,ti){we.msg="invalid distances set",K.mode=gt;break}if(K.mode=it,ht===r)break e;case it:K.mode=ct;case ct:if(yt>=6&&Bt>=258){we.next_out=Yt,we.avail_out=Bt,we.next_in=Be,we.avail_in=yt,K.hold=ke,K.bits=Je,m(we,Fe),Yt=we.next_out,Ve=we.output,Bt=we.avail_out,Be=we.next_in,se=we.input,yt=we.avail_in,ke=K.hold,Je=K.bits,K.mode===ne&&(K.back=-1);break}for(K.back=0;Et=K.lencode[ke&(1<<K.lenbits)-1],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!(Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(st&&!(st&240)){for($t=Ne,yi=st,mi=on;Et=K.lencode[mi+((ke&(1<<$t+yi)-1)>>$t)],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!($t+Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=$t,Je-=$t,K.back+=$t}if(ke>>>=Ne,Je-=Ne,K.back+=Ne,K.length=on,st===0){K.mode=Ye;break}if(st&32){K.back=-1,K.mode=ne;break}if(st&64){we.msg="invalid literal/length code",K.mode=gt;break}K.extra=st&15,K.mode=rt;case rt:if(K.extra){for(Ui=K.extra;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.length+=ke&(1<<K.extra)-1,ke>>>=K.extra,Je-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=_t;case _t:for(;Et=K.distcode[ke&(1<<K.distbits)-1],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!(Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(!(st&240)){for($t=Ne,yi=st,mi=on;Et=K.distcode[mi+((ke&(1<<$t+yi)-1)>>$t)],Ne=Et>>>24,st=Et>>>16&255,on=Et&65535,!($t+Ne<=Je);){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}ke>>>=$t,Je-=$t,K.back+=$t}if(ke>>>=Ne,Je-=Ne,K.back+=Ne,st&64){we.msg="invalid distance code",K.mode=gt;break}K.offset=on,K.extra=st&15,K.mode=Gt;case Gt:if(K.extra){for(Ui=K.extra;Je<Ui;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}K.offset+=ke&(1<<K.extra)-1,ke>>>=K.extra,Je-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){we.msg="invalid distance too far back",K.mode=gt;break}K.mode=Kt;case Kt:if(Bt===0)break e;if(fe=Fe-Bt,K.offset>fe){if(fe=K.offset-fe,fe>K.whave&&K.sane){we.msg="invalid distance too far back",K.mode=gt;break}fe>K.wnext?(fe-=K.wnext,ve=K.wsize-fe):ve=K.wnext-fe,fe>K.length&&(fe=K.length),ee=K.window}else ee=Ve,ve=Yt-K.offset,fe=K.length;fe>Bt&&(fe=Bt),Bt-=fe,K.length-=fe;do Ve[Yt++]=ee[ve++];while(--fe);K.length===0&&(K.mode=ct);break;case Ye:if(Bt===0)break e;Ve[Yt++]=K.length,Bt--,K.mode=ct;break;case Xe:if(K.wrap){for(;Je<32;){if(yt===0)break e;yt--,ke|=se[Be++]<<Je,Je+=8}if(Fe-=Bt,we.total_out+=Fe,K.total+=Fe,Fe&&(we.adler=K.check=K.flags?h(K.check,Ve,Fe,Yt-Fe):d(K.check,Ve,Fe,Yt-Fe)),Fe=Bt,(K.flags?ke:Zn(ke))!==K.check){we.msg="incorrect data check",K.mode=gt;break}ke=0,Je=0}K.mode=It;case It:if(K.wrap&&K.flags){for(;Je<32;){if(yt===0)break e;yt--,ke+=se[Be++]<<Je,Je+=8}if(ke!==(K.total&4294967295)){we.msg="incorrect length check",K.mode=gt;break}ke=0,Je=0}K.mode=kt;case kt:ti=f;break e;case gt:ti=u;break e;case En:return S;case pn:default:return v}return we.next_out=Yt,we.avail_out=Bt,we.next_in=Be,we.avail_in=yt,K.hold=ke,K.bits=Je,(K.wsize||Fe!==we.avail_out&&K.mode<gt&&(K.mode<Xe||ht!==e))&&lt(we,we.output,we.next_out,Fe-we.avail_out)?(K.mode=En,S):(B-=we.avail_in,Fe-=we.avail_out,we.total_in+=B,we.total_out+=Fe,K.total+=Fe,K.wrap&&Fe&&(we.adler=K.check=K.flags?h(K.check,Ve,Fe,we.next_out-Fe):d(K.check,Ve,Fe,we.next_out-Fe)),we.data_type=K.bits+(K.last?64:0)+(K.mode===ne?128:0)+(K.mode===it||K.mode===Pe?256:0),(B===0&&Fe===0||ht===e)&&ti===o&&(ti=_),ti)},"inflate"),bt=n(we=>{if(!we||!we.state)return v;let ht=we.state;return ht.window&&(ht.window=null),we.state=null,o},"inflateEnd"),At=n((we,ht)=>{if(!we||!we.state)return v;const K=we.state;return K.wrap&2?(K.head=ht,ht.done=!1,o):v},"inflateGetHeader"),Wt=n((we,ht)=>{const K=ht.length;let se,Ve,Be;return!we||!we.state||(se=we.state,se.wrap!==0&&se.mode!==re)?v:se.mode===re&&(Ve=1,Ve=d(Ve,ht,K,0),Ve!==se.check)?u:(Be=lt(we,ht,K,K),Be?(se.mode=En,S):(se.havedict=1,o))},"inflateSetDictionary");V.exports.inflateReset=fi,V.exports.inflateReset2=Vn,V.exports.inflateResetKeep=ui,V.exports.inflateInit=wi,V.exports.inflateInit2=In,V.exports.inflate=mt,V.exports.inflateEnd=bt,V.exports.inflateGetHeader=At,V.exports.inflateSetDictionary=Wt,V.exports.inflateInfo="pako inflate (from Nodeca project)"},9043041083:V=>{"use strict";const a=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),s=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),i=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),t=n((r,o,f,g,v,u,S,_)=>{const b=_.bits;let E=0,T=0,I=0,A=0,w=0,R=0,P=0,x=0,z=0,Z=0,re,ne,he,ge,Pe,He=null,pt=0,Ht;const Ke=new Uint16Array(15+1),it=new Uint16Array(15+1);let ct=null,rt=0,_t,Gt,Kt;for(E=0;E<=15;E++)Ke[E]=0;for(T=0;T<g;T++)Ke[o[f+T]]++;for(w=b,A=15;A>=1&&Ke[A]===0;A--);if(w>A&&(w=A),A===0)return v[u++]=1<<24|64<<16|0,v[u++]=1<<24|64<<16|0,_.bits=1,0;for(I=1;I<A&&Ke[I]===0;I++);for(w<I&&(w=I),x=1,E=1;E<=15;E++)if(x<<=1,x-=Ke[E],x<0)return-1;if(x>0&&(r===0||A!==1))return-1;for(it[1]=0,E=1;E<15;E++)it[E+1]=it[E]+Ke[E];for(T=0;T<g;T++)o[f+T]!==0&&(S[it[o[f+T]]++]=T);if(r===0?(He=ct=S,Ht=19):r===1?(He=a,pt-=257,ct=s,rt-=257,Ht=256):(He=i,ct=e,Ht=-1),Z=0,T=0,E=I,Pe=u,R=w,P=0,he=-1,z=1<<w,ge=z-1,r===1&&z>852||r===2&&z>592)return 1;for(;;){_t=E-P,S[T]<Ht?(Gt=0,Kt=S[T]):S[T]>Ht?(Gt=ct[rt+S[T]],Kt=He[pt+S[T]]):(Gt=32+64,Kt=0),re=1<<E-P,ne=1<<R,I=ne;do ne-=re,v[Pe+(Z>>P)+ne]=_t<<24|Gt<<16|Kt|0;while(ne!==0);for(re=1<<E-1;Z&re;)re>>=1;if(re!==0?(Z&=re-1,Z+=re):Z=0,T++,--Ke[E]===0){if(E===A)break;E=o[f+S[T]]}if(E>w&&(Z&ge)!==he){for(P===0&&(P=w),Pe+=I,R=E-P,x=1<<R;R+P<A&&(x-=Ke[R+P],!(x<=0));)R++,x<<=1;if(z+=1<<R,r===1&&z>852||r===2&&z>592)return 1;he=Z&ge,v[he]=w<<24|R<<16|Pe-u|0}}return Z!==0&&(v[Pe+Z]=E-P<<24|64<<16|0),_.bits=w,0},"inflate_table");V.exports=t},9836815007:V=>{"use strict";V.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},4853608024:V=>{"use strict";function m(Q){let lt=Q.length;for(;--lt>=0;)Q[lt]=0}n(m,"zero");const p=0,a=1,s=2,i=3,e=258,t=29,r=256,o=r+1+t,f=30,g=19,v=2*o+1,u=15,S=16,_=7,b=256,E=16,T=17,I=18,A=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=512,z=new Array((o+2)*2);m(z);const Z=new Array(f*2);m(Z);const re=new Array(x);m(re);const ne=new Array(e-i+1);m(ne);const he=new Array(t);m(he);const ge=new Array(f);m(ge);function Pe(Q,lt,mt,bt,At){this.static_tree=Q,this.extra_bits=lt,this.extra_base=mt,this.elems=bt,this.max_length=At,this.has_stree=Q&&Q.length}n(Pe,"StaticTreeDesc");let He,pt,Ht;function Ke(Q,lt){this.dyn_tree=Q,this.max_code=0,this.stat_desc=lt}n(Ke,"TreeDesc");const it=n(Q=>Q<256?re[Q]:re[256+(Q>>>7)],"d_code"),ct=n((Q,lt)=>{Q.pending_buf[Q.pending++]=lt&255,Q.pending_buf[Q.pending++]=lt>>>8&255},"put_short"),rt=n((Q,lt,mt)=>{Q.bi_valid>S-mt?(Q.bi_buf|=lt<<Q.bi_valid&65535,ct(Q,Q.bi_buf),Q.bi_buf=lt>>S-Q.bi_valid,Q.bi_valid+=mt-S):(Q.bi_buf|=lt<<Q.bi_valid&65535,Q.bi_valid+=mt)},"send_bits"),_t=n((Q,lt,mt)=>{rt(Q,mt[lt*2],mt[lt*2+1])},"send_code"),Gt=n((Q,lt)=>{let mt=0;do mt|=Q&1,Q>>>=1,mt<<=1;while(--lt>0);return mt>>>1},"bi_reverse"),Kt=n(Q=>{Q.bi_valid===16?(ct(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):Q.bi_valid>=8&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)},"bi_flush"),Ye=n((Q,lt)=>{const mt=lt.dyn_tree,bt=lt.max_code,At=lt.stat_desc.static_tree,Wt=lt.stat_desc.has_stree,we=lt.stat_desc.extra_bits,ht=lt.stat_desc.extra_base,K=lt.stat_desc.max_length;let se,Ve,Be,Yt,yt,Bt,ke=0;for(Yt=0;Yt<=u;Yt++)Q.bl_count[Yt]=0;for(mt[Q.heap[Q.heap_max]*2+1]=0,se=Q.heap_max+1;se<v;se++)Ve=Q.heap[se],Yt=mt[mt[Ve*2+1]*2+1]+1,Yt>K&&(Yt=K,ke++),mt[Ve*2+1]=Yt,!(Ve>bt)&&(Q.bl_count[Yt]++,yt=0,Ve>=ht&&(yt=we[Ve-ht]),Bt=mt[Ve*2],Q.opt_len+=Bt*(Yt+yt),Wt&&(Q.static_len+=Bt*(At[Ve*2+1]+yt)));if(ke!==0){do{for(Yt=K-1;Q.bl_count[Yt]===0;)Yt--;Q.bl_count[Yt]--,Q.bl_count[Yt+1]+=2,Q.bl_count[K]--,ke-=2}while(ke>0);for(Yt=K;Yt!==0;Yt--)for(Ve=Q.bl_count[Yt];Ve!==0;)Be=Q.heap[--se],!(Be>bt)&&(mt[Be*2+1]!==Yt&&(Q.opt_len+=(Yt-mt[Be*2+1])*mt[Be*2],mt[Be*2+1]=Yt),Ve--)}},"gen_bitlen"),Xe=n((Q,lt,mt)=>{const bt=new Array(u+1);let At=0,Wt,we;for(Wt=1;Wt<=u;Wt++)bt[Wt]=At=At+mt[Wt-1]<<1;for(we=0;we<=lt;we++){let ht=Q[we*2+1];ht!==0&&(Q[we*2]=Gt(bt[ht]++,ht))}},"gen_codes"),It=n(()=>{let Q,lt,mt,bt,At;const Wt=new Array(u+1);for(mt=0,bt=0;bt<t-1;bt++)for(he[bt]=mt,Q=0;Q<1<<A[bt];Q++)ne[mt++]=bt;for(ne[mt-1]=bt,At=0,bt=0;bt<16;bt++)for(ge[bt]=At,Q=0;Q<1<<w[bt];Q++)re[At++]=bt;for(At>>=7;bt<f;bt++)for(ge[bt]=At<<7,Q=0;Q<1<<w[bt]-7;Q++)re[256+At++]=bt;for(lt=0;lt<=u;lt++)Wt[lt]=0;for(Q=0;Q<=143;)z[Q*2+1]=8,Q++,Wt[8]++;for(;Q<=255;)z[Q*2+1]=9,Q++,Wt[9]++;for(;Q<=279;)z[Q*2+1]=7,Q++,Wt[7]++;for(;Q<=287;)z[Q*2+1]=8,Q++,Wt[8]++;for(Xe(z,o+1,Wt),Q=0;Q<f;Q++)Z[Q*2+1]=5,Z[Q*2]=Gt(Q,5);He=new Pe(z,A,r+1,o,u),pt=new Pe(Z,w,0,f,u),Ht=new Pe(new Array(0),R,0,g,_)},"tr_static_init"),kt=n(Q=>{let lt;for(lt=0;lt<o;lt++)Q.dyn_ltree[lt*2]=0;for(lt=0;lt<f;lt++)Q.dyn_dtree[lt*2]=0;for(lt=0;lt<g;lt++)Q.bl_tree[lt*2]=0;Q.dyn_ltree[b*2]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0},"init_block"),gt=n(Q=>{Q.bi_valid>8?ct(Q,Q.bi_buf):Q.bi_valid>0&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0},"bi_windup"),En=n((Q,lt,mt,bt)=>{gt(Q),bt&&(ct(Q,mt),ct(Q,~mt)),Q.pending_buf.set(Q.window.subarray(lt,lt+mt),Q.pending),Q.pending+=mt},"copy_block"),pn=n((Q,lt,mt,bt)=>{const At=lt*2,Wt=mt*2;return Q[At]<Q[Wt]||Q[At]===Q[Wt]&&bt[lt]<=bt[mt]},"smaller"),wn=n((Q,lt,mt)=>{const bt=Q.heap[mt];let At=mt<<1;for(;At<=Q.heap_len&&(At<Q.heap_len&&pn(lt,Q.heap[At+1],Q.heap[At],Q.depth)&&At++,!pn(lt,bt,Q.heap[At],Q.depth));)Q.heap[mt]=Q.heap[At],mt=At,At<<=1;Q.heap[mt]=bt},"pqdownheap"),zn=n((Q,lt,mt)=>{let bt,At,Wt=0,we,ht;if(Q.last_lit!==0)do bt=Q.pending_buf[Q.d_buf+Wt*2]<<8|Q.pending_buf[Q.d_buf+Wt*2+1],At=Q.pending_buf[Q.l_buf+Wt],Wt++,bt===0?_t(Q,At,lt):(we=ne[At],_t(Q,we+r+1,lt),ht=A[we],ht!==0&&(At-=he[we],rt(Q,At,ht)),bt--,we=it(bt),_t(Q,we,mt),ht=w[we],ht!==0&&(bt-=ge[we],rt(Q,bt,ht)));while(Wt<Q.last_lit);_t(Q,b,lt)},"compress_block"),Qn=n((Q,lt)=>{const mt=lt.dyn_tree,bt=lt.stat_desc.static_tree,At=lt.stat_desc.has_stree,Wt=lt.stat_desc.elems;let we,ht,K=-1,se;for(Q.heap_len=0,Q.heap_max=v,we=0;we<Wt;we++)mt[we*2]!==0?(Q.heap[++Q.heap_len]=K=we,Q.depth[we]=0):mt[we*2+1]=0;for(;Q.heap_len<2;)se=Q.heap[++Q.heap_len]=K<2?++K:0,mt[se*2]=1,Q.depth[se]=0,Q.opt_len--,At&&(Q.static_len-=bt[se*2+1]);for(lt.max_code=K,we=Q.heap_len>>1;we>=1;we--)wn(Q,mt,we);se=Wt;do we=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],wn(Q,mt,1),ht=Q.heap[1],Q.heap[--Q.heap_max]=we,Q.heap[--Q.heap_max]=ht,mt[se*2]=mt[we*2]+mt[ht*2],Q.depth[se]=(Q.depth[we]>=Q.depth[ht]?Q.depth[we]:Q.depth[ht])+1,mt[we*2+1]=mt[ht*2+1]=se,Q.heap[1]=se++,wn(Q,mt,1);while(Q.heap_len>=2);Q.heap[--Q.heap_max]=Q.heap[1],Ye(Q,lt),Xe(mt,K,Q.bl_count)},"build_tree"),Sn=n((Q,lt,mt)=>{let bt,At=-1,Wt,we=lt[0*2+1],ht=0,K=7,se=4;for(we===0&&(K=138,se=3),lt[(mt+1)*2+1]=65535,bt=0;bt<=mt;bt++)Wt=we,we=lt[(bt+1)*2+1],!(++ht<K&&Wt===we)&&(ht<se?Q.bl_tree[Wt*2]+=ht:Wt!==0?(Wt!==At&&Q.bl_tree[Wt*2]++,Q.bl_tree[E*2]++):ht<=10?Q.bl_tree[T*2]++:Q.bl_tree[I*2]++,ht=0,At=Wt,we===0?(K=138,se=3):Wt===we?(K=6,se=3):(K=7,se=4))},"scan_tree"),Zn=n((Q,lt,mt)=>{let bt,At=-1,Wt,we=lt[0*2+1],ht=0,K=7,se=4;for(we===0&&(K=138,se=3),bt=0;bt<=mt;bt++)if(Wt=we,we=lt[(bt+1)*2+1],!(++ht<K&&Wt===we)){if(ht<se)do _t(Q,Wt,Q.bl_tree);while(--ht!==0);else Wt!==0?(Wt!==At&&(_t(Q,Wt,Q.bl_tree),ht--),_t(Q,E,Q.bl_tree),rt(Q,ht-3,2)):ht<=10?(_t(Q,T,Q.bl_tree),rt(Q,ht-3,3)):(_t(Q,I,Q.bl_tree),rt(Q,ht-11,7));ht=0,At=Wt,we===0?(K=138,se=3):Wt===we?(K=6,se=3):(K=7,se=4)}},"send_tree"),lr=n(Q=>{let lt;for(Sn(Q,Q.dyn_ltree,Q.l_desc.max_code),Sn(Q,Q.dyn_dtree,Q.d_desc.max_code),Qn(Q,Q.bl_desc),lt=g-1;lt>=3&&Q.bl_tree[P[lt]*2+1]===0;lt--);return Q.opt_len+=3*(lt+1)+5+5+4,lt},"build_bl_tree"),ui=n((Q,lt,mt,bt)=>{let At;for(rt(Q,lt-257,5),rt(Q,mt-1,5),rt(Q,bt-4,4),At=0;At<bt;At++)rt(Q,Q.bl_tree[P[At]*2+1],3);Zn(Q,Q.dyn_ltree,lt-1),Zn(Q,Q.dyn_dtree,mt-1)},"send_all_trees"),fi=n(Q=>{let lt=4093624447,mt;for(mt=0;mt<=31;mt++,lt>>>=1)if(lt&1&&Q.dyn_ltree[mt*2]!==0)return 0;if(Q.dyn_ltree[9*2]!==0||Q.dyn_ltree[10*2]!==0||Q.dyn_ltree[13*2]!==0)return 1;for(mt=32;mt<r;mt++)if(Q.dyn_ltree[mt*2]!==0)return 1;return 0},"detect_data_type");let Vn=!1;const In=n(Q=>{Vn||(It(),Vn=!0),Q.l_desc=new Ke(Q.dyn_ltree,He),Q.d_desc=new Ke(Q.dyn_dtree,pt),Q.bl_desc=new Ke(Q.bl_tree,Ht),Q.bi_buf=0,Q.bi_valid=0,kt(Q)},"_tr_init"),wi=n((Q,lt,mt,bt)=>{rt(Q,(p<<1)+(bt?1:0),3),En(Q,lt,mt,!0)},"_tr_stored_block"),_n=n(Q=>{rt(Q,a<<1,3),_t(Q,b,z),Kt(Q)},"_tr_align"),An=n((Q,lt,mt,bt)=>{let At,Wt,we=0;Q.level>0?(Q.strm.data_type===2&&(Q.strm.data_type=fi(Q)),Qn(Q,Q.l_desc),Qn(Q,Q.d_desc),we=lr(Q),At=Q.opt_len+3+7>>>3,Wt=Q.static_len+3+7>>>3,Wt<=At&&(At=Wt)):At=Wt=mt+5,mt+4<=At&&lt!==-1?wi(Q,lt,mt,bt):Q.strategy===4||Wt===At?(rt(Q,(a<<1)+(bt?1:0),3),zn(Q,z,Z)):(rt(Q,(s<<1)+(bt?1:0),3),ui(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,we+1),zn(Q,Q.dyn_ltree,Q.dyn_dtree)),kt(Q),bt&&gt(Q)},"_tr_flush_block"),sn=n((Q,lt,mt)=>(Q.pending_buf[Q.d_buf+Q.last_lit*2]=lt>>>8&255,Q.pending_buf[Q.d_buf+Q.last_lit*2+1]=lt&255,Q.pending_buf[Q.l_buf+Q.last_lit]=mt&255,Q.last_lit++,lt===0?Q.dyn_ltree[mt*2]++:(Q.matches++,lt--,Q.dyn_ltree[(ne[mt]+r+1)*2]++,Q.dyn_dtree[it(lt)*2]++),Q.last_lit===Q.lit_bufsize-1),"_tr_tally");V.exports._tr_init=In,V.exports._tr_stored_block=wi,V.exports._tr_flush_block=An,V.exports._tr_tally=sn,V.exports._tr_align=_n},1225161799:V=>{"use strict";function l(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}n(l,"ZStream"),V.exports=l},5942056335:(V,l,c)=>{"use strict";V.exports=c(9458259895)},9458259895:(V,l,c)=>{"use strict";var d=l;d.build="minimal",d.Writer=c(8542394336),d.BufferWriter=c(9761608223),d.Reader=c(1687958068),d.BufferReader=c(4547389651),d.util=c(9806058327),d.rpc=c(4151021050),d.roots=c(9275282040),d.configure=h;function h(){d.util._configure(),d.Writer._configure(d.BufferWriter),d.Reader._configure(d.BufferReader)}n(h,"configure"),h()},1687958068:(V,l,c)=>{"use strict";V.exports=s;var d=c(9806058327),h,m=d.LongBits,p=d.utf8;function a(f,g){return RangeError("index out of range: "+f.pos+" + "+(g||1)+" > "+f.len)}n(a,"indexOutOfRange");function s(f){this.buf=f,this.pos=0,this.len=f.length}n(s,"Reader");var i=typeof Uint8Array<"u"?n(function(g){if(g instanceof Uint8Array||Array.isArray(g))return new s(g);throw Error("illegal buffer")},"create_typed_array"):n(function(g){if(Array.isArray(g))return new s(g);throw Error("illegal buffer")},"create_array"),e=n(function(){return d.Buffer?n(function(v){return(s.create=n(function(S){return d.Buffer.isBuffer(S)?new h(S):i(S)},"create_buffer"))(v)},"create_buffer_setup"):i},"create");s.create=e(),s.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,s.prototype.uint32=n(function(){var g=4294967295;return n(function(){if(g=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(g=(g|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return g},"read_uint32")},"read_uint32_setup")(),s.prototype.int32=n(function(){return this.uint32()|0},"read_int32"),s.prototype.sint32=n(function(){var g=this.uint32();return g>>>1^-(g&1)|0},"read_sint32");function t(){var f=new m(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(f.lo=(f.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return f;if(f.lo=(f.lo|(this.buf[this.pos]&127)<<28)>>>0,f.hi=(f.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return f;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw a(this);if(f.lo=(f.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return f}return f.lo=(f.lo|(this.buf[this.pos++]&127)<<g*7)>>>0,f}if(this.len-this.pos>4){for(;g<5;++g)if(f.hi=(f.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return f}else for(;g<5;++g){if(this.pos>=this.len)throw a(this);if(f.hi=(f.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return f}throw Error("invalid varint encoding")}n(t,"readLongVarint"),s.prototype.bool=n(function(){return this.uint32()!==0},"read_bool");function r(f,g){return(f[g-4]|f[g-3]<<8|f[g-2]<<16|f[g-1]<<24)>>>0}n(r,"readFixed32_end"),s.prototype.fixed32=n(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)},"read_fixed32"),s.prototype.sfixed32=n(function(){if(this.pos+4>this.len)throw a(this,4);return r(this.buf,this.pos+=4)|0},"read_sfixed32");function o(){if(this.pos+8>this.len)throw a(this,8);return new m(r(this.buf,this.pos+=4),r(this.buf,this.pos+=4))}n(o,"readFixed64"),s.prototype.float=n(function(){if(this.pos+4>this.len)throw a(this,4);var g=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},"read_float"),s.prototype.double=n(function(){if(this.pos+8>this.len)throw a(this,4);var g=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},"read_double"),s.prototype.bytes=n(function(){var g=this.uint32(),v=this.pos,u=this.pos+g;if(u>this.len)throw a(this,g);if(this.pos+=g,Array.isArray(this.buf))return this.buf.slice(v,u);if(v===u){var S=d.Buffer;return S?S.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,v,u)},"read_bytes"),s.prototype.string=n(function(){var g=this.bytes();return p.read(g,0,g.length)},"read_string"),s.prototype.skip=n(function(g){if(typeof g=="number"){if(this.pos+g>this.len)throw a(this,g);this.pos+=g}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),s.prototype.skipType=function(f){switch(f){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(f=this.uint32()&7)!==4;)this.skipType(f);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+f+" at offset "+this.pos)}return this},s._configure=function(f){h=f,s.create=e(),h._configure();var g=d.Long?"toLong":"toNumber";d.merge(s.prototype,{int64:n(function(){return t.call(this)[g](!1)},"read_int64"),uint64:n(function(){return t.call(this)[g](!0)},"read_uint64"),sint64:n(function(){return t.call(this).zzDecode()[g](!1)},"read_sint64"),fixed64:n(function(){return o.call(this)[g](!0)},"read_fixed64"),sfixed64:n(function(){return o.call(this)[g](!1)},"read_sfixed64")})}},4547389651:(V,l,c)=>{"use strict";V.exports=m;var d=c(1687958068);(m.prototype=Object.create(d.prototype)).constructor=m;var h=c(9806058327);function m(p){d.call(this,p)}n(m,"BufferReader"),m._configure=function(){h.Buffer&&(m.prototype._slice=h.Buffer.prototype.slice)},m.prototype.string=n(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),m._configure()},9275282040:V=>{"use strict";V.exports={}},4151021050:(V,l,c)=>{"use strict";var d=l;d.Service=c(1745184094)},1745184094:(V,l,c)=>{"use strict";V.exports=h;var d=c(9806058327);(h.prototype=Object.create(d.EventEmitter.prototype)).constructor=h;function h(m,p,a){if(typeof m!="function")throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=m,this.requestDelimited=Boolean(p),this.responseDelimited=Boolean(a)}n(h,"Service"),h.prototype.rpcCall=n(function m(p,a,s,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return d.asPromise(m,t,p,a,s,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(p,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),n(function(o,f){if(o)return t.emit("error",o,p),e(o);if(f===null){t.end(!0);return}if(!(f instanceof s))try{f=s[t.responseDelimited?"decodeDelimited":"decode"](f)}catch(g){return t.emit("error",g,p),e(g)}return t.emit("data",f,p),e(null,f)},"rpcCallback"))}catch(r){t.emit("error",r,p),setTimeout(function(){e(r)},0);return}},"rpcCall"),h.prototype.end=n(function(p){return this.rpcImpl&&(p||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},9407576002:(V,l,c)=>{"use strict";V.exports=h;var d=c(9806058327);function h(s,i){this.lo=s>>>0,this.hi=i>>>0}n(h,"LongBits");var m=h.zero=new h(0,0);m.toNumber=function(){return 0},m.zzEncode=m.zzDecode=function(){return this},m.length=function(){return 1};var p=h.zeroHash="\0\0\0\0\0\0\0\0";h.fromNumber=n(function(i){if(i===0)return m;var e=i<0;e&&(i=-i);var t=i>>>0,r=(i-t)/4294967296>>>0;return e&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new h(t,r)},"fromNumber"),h.from=n(function(i){if(typeof i=="number")return h.fromNumber(i);if(d.isString(i))if(d.Long)i=d.Long.fromString(i);else return h.fromNumber(parseInt(i,10));return i.low||i.high?new h(i.low>>>0,i.high>>>0):m},"from"),h.prototype.toNumber=n(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),h.prototype.toLong=n(function(i){return d.Long?new d.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;h.fromHash=n(function(i){return i===p?m:new h((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),h.prototype.toHash=n(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),h.prototype.zzEncode=n(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),h.prototype.zzDecode=n(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),h.prototype.length=n(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},9806058327:function(V,l,c){"use strict";var d=l;d.asPromise=c(7410930532),d.base64=c(3824736026),d.EventEmitter=c(6627060659),d.float=c(6797650127),d.inquire=c(7693203422),d.utf8=c(4612067386),d.pool=c(3002561995),d.LongBits=c(9407576002),d.isNode=Boolean(typeof c.g<"u"&&c.g&&c.g.process&&c.g.process.versions&&c.g.process.versions.node),d.global=d.isNode&&c.g||typeof window<"u"&&window||typeof self<"u"&&self||this,d.emptyArray=Object.freeze?Object.freeze([]):[],d.emptyObject=Object.freeze?Object.freeze({}):{},d.isInteger=Number.isInteger||n(function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},"isInteger"),d.isString=n(function(a){return typeof a=="string"||a instanceof String},"isString"),d.isObject=n(function(a){return a&&typeof a=="object"},"isObject"),d.isset=d.isSet=n(function(a,s){var i=a[s];return i!=null&&a.hasOwnProperty(s)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1},"isSet"),d.Buffer=function(){try{var p=d.inquire("buffer").Buffer;return p.prototype.utf8Write?p:null}catch{return null}}(),d._Buffer_from=null,d._Buffer_allocUnsafe=null,d.newBuffer=n(function(a){return typeof a=="number"?d.Buffer?d._Buffer_allocUnsafe(a):new d.Array(a):d.Buffer?d._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},"newBuffer"),d.Array=typeof Uint8Array<"u"?Uint8Array:Array,d.Long=d.global.dcodeIO&&d.global.dcodeIO.Long||d.global.Long||d.inquire("long"),d.key2Re=/^true|false|0|1$/,d.key32Re=/^-?(?:0|[1-9][0-9]*)$/,d.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,d.longToHash=n(function(a){return a?d.LongBits.from(a).toHash():d.LongBits.zeroHash},"longToHash"),d.longFromHash=n(function(a,s){var i=d.LongBits.fromHash(a);return d.Long?d.Long.fromBits(i.lo,i.hi,s):i.toNumber(Boolean(s))},"longFromHash");function h(p,a,s){for(var i=Object.keys(a),e=0;e<i.length;++e)(p[i[e]]===void 0||!s)&&(p[i[e]]=a[i[e]]);return p}n(h,"merge"),d.merge=h,d.lcFirst=n(function(a){return a.charAt(0).toLowerCase()+a.substring(1)},"lcFirst");function m(p){function a(s,i){if(!(this instanceof a))return new a(s,i);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&h(this,i)}return n(a,"CustomError"),a.prototype=Object.create(Error.prototype,{constructor:{value:a,writable:!0,enumerable:!1,configurable:!0},name:{get:n(function(){return p},"get"),set:void 0,enumerable:!1,configurable:!0},toString:{value:n(function(){return this.name+": "+this.message},"value"),writable:!0,enumerable:!1,configurable:!0}}),a}n(m,"newError"),d.newError=m,d.ProtocolError=m("ProtocolError"),d.oneOfGetter=n(function(a){for(var s={},i=0;i<a.length;++i)s[a[i]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(s[e[t]]===1&&this[e[t]]!==void 0&&this[e[t]]!==null)return e[t]}},"getOneOf"),d.oneOfSetter=n(function(a){return function(s){for(var i=0;i<a.length;++i)a[i]!==s&&delete this[a[i]]}},"setOneOf"),d.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},d._configure=function(){var p=d.Buffer;if(!p){d._Buffer_from=d._Buffer_allocUnsafe=null;return}d._Buffer_from=p.from!==Uint8Array.from&&p.from||n(function(s,i){return new p(s,i)},"Buffer_from"),d._Buffer_allocUnsafe=p.allocUnsafe||n(function(s){return new p(s)},"Buffer_allocUnsafe")}},8542394336:(V,l,c)=>{"use strict";V.exports=t;var d=c(9806058327),h,m=d.LongBits,p=d.base64,a=d.utf8;function s(_,b,E){this.fn=_,this.len=b,this.next=void 0,this.val=E}n(s,"Op");function i(){}n(i,"noop");function e(_){this.head=_.head,this.tail=_.tail,this.len=_.len,this.next=_.states}n(e,"State");function t(){this.len=0,this.head=new s(i,0,0),this.tail=this.head,this.states=null}n(t,"Writer");var r=n(function(){return d.Buffer?n(function(){return(t.create=n(function(){return new h},"create_buffer"))()},"create_buffer_setup"):n(function(){return new t},"create_array")},"create");t.create=r(),t.alloc=n(function(b){return new d.Array(b)},"alloc"),d.Array!==Array&&(t.alloc=d.pool(t.alloc,d.Array.prototype.subarray)),t.prototype._push=n(function(b,E,T){return this.tail=this.tail.next=new s(b,E,T),this.len+=E,this},"push");function o(_,b,E){b[E]=_&255}n(o,"writeByte");function f(_,b,E){for(;_>127;)b[E++]=_&127|128,_>>>=7;b[E]=_}n(f,"writeVarint32");function g(_,b){this.len=_,this.next=void 0,this.val=b}n(g,"VarintOp"),g.prototype=Object.create(s.prototype),g.prototype.fn=f,t.prototype.uint32=n(function(b){return this.len+=(this.tail=this.tail.next=new g((b=b>>>0)<128?1:b<16384?2:b<2097152?3:b<268435456?4:5,b)).len,this},"write_uint32"),t.prototype.int32=n(function(b){return b<0?this._push(v,10,m.fromNumber(b)):this.uint32(b)},"write_int32"),t.prototype.sint32=n(function(b){return this.uint32((b<<1^b>>31)>>>0)},"write_sint32");function v(_,b,E){for(;_.hi;)b[E++]=_.lo&127|128,_.lo=(_.lo>>>7|_.hi<<25)>>>0,_.hi>>>=7;for(;_.lo>127;)b[E++]=_.lo&127|128,_.lo=_.lo>>>7;b[E++]=_.lo}n(v,"writeVarint64"),t.prototype.uint64=n(function(b){var E=m.from(b);return this._push(v,E.length(),E)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=n(function(b){var E=m.from(b).zzEncode();return this._push(v,E.length(),E)},"write_sint64"),t.prototype.bool=n(function(b){return this._push(o,1,b?1:0)},"write_bool");function u(_,b,E){b[E]=_&255,b[E+1]=_>>>8&255,b[E+2]=_>>>16&255,b[E+3]=_>>>24}n(u,"writeFixed32"),t.prototype.fixed32=n(function(b){return this._push(u,4,b>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=n(function(b){var E=m.from(b);return this._push(u,4,E.lo)._push(u,4,E.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=n(function(b){return this._push(d.float.writeFloatLE,4,b)},"write_float"),t.prototype.double=n(function(b){return this._push(d.float.writeDoubleLE,8,b)},"write_double");var S=d.Array.prototype.set?n(function(b,E,T){E.set(b,T)},"writeBytes_set"):n(function(b,E,T){for(var I=0;I<b.length;++I)E[T+I]=b[I]},"writeBytes_for");t.prototype.bytes=n(function(b){var E=b.length>>>0;if(!E)return this._push(o,1,0);if(d.isString(b)){var T=t.alloc(E=p.length(b));p.decode(b,T,0),b=T}return this.uint32(E)._push(S,E,b)},"write_bytes"),t.prototype.string=n(function(b){var E=a.length(b);return E?this.uint32(E)._push(a.write,E,b):this._push(o,1,0)},"write_string"),t.prototype.fork=n(function(){return this.states=new e(this),this.head=this.tail=new s(i,0,0),this.len=0,this},"fork"),t.prototype.reset=n(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=n(function(){var b=this.head,E=this.tail,T=this.len;return this.reset().uint32(T),T&&(this.tail.next=b.next,this.tail=E,this.len+=T),this},"ldelim"),t.prototype.finish=n(function(){for(var b=this.head.next,E=this.constructor.alloc(this.len),T=0;b;)b.fn(b.val,E,T),T+=b.len,b=b.next;return E},"finish"),t._configure=function(_){h=_,t.create=r(),h._configure()}},9761608223:(V,l,c)=>{"use strict";V.exports=m;var d=c(8542394336);(m.prototype=Object.create(d.prototype)).constructor=m;var h=c(9806058327);function m(){d.call(this)}n(m,"BufferWriter"),m._configure=function(){m.alloc=h._Buffer_allocUnsafe,m.writeBytesBuffer=h.Buffer&&h.Buffer.prototype instanceof Uint8Array&&h.Buffer.prototype.set.name==="set"?n(function(s,i,e){i.set(s,e)},"writeBytesBuffer_set"):n(function(s,i,e){if(s.copy)s.copy(i,e,0,s.length);else for(var t=0;t<s.length;)i[e++]=s[t++]},"writeBytesBuffer_copy")},m.prototype.bytes=n(function(s){h.isString(s)&&(s=h._Buffer_from(s,"base64"));var i=s.length>>>0;return this.uint32(i),i&&this._push(m.writeBytesBuffer,i,s),this},"write_bytes_buffer");function p(a,s,i){a.length<40?h.utf8.write(a,s,i):s.utf8Write?s.utf8Write(a,i):s.write(a,i)}n(p,"writeStringBuffer"),m.prototype.string=n(function(s){var i=h.Buffer.byteLength(s);return this.uint32(i),i&&this._push(p,i,s),this},"write_string_buffer"),m._configure()},6762251298:(V,l,c)=>{"use strict";c.r(l),c.d(l,{__assign:()=>m,__asyncDelegator:()=>b,__asyncGenerator:()=>_,__asyncValues:()=>E,__await:()=>S,__awaiter:()=>e,__classPrivateFieldGet:()=>w,__classPrivateFieldSet:()=>R,__createBinding:()=>r,__decorate:()=>a,__exportStar:()=>o,__extends:()=>h,__generator:()=>t,__importDefault:()=>A,__importStar:()=>I,__makeTemplateObject:()=>T,__metadata:()=>i,__param:()=>s,__read:()=>g,__rest:()=>p,__spread:()=>v,__spreadArrays:()=>u,__values:()=>f});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=n(function(P,x){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Z){z.__proto__=Z}||function(z,Z){for(var re in Z)Z.hasOwnProperty(re)&&(z[re]=Z[re])},d(P,x)},"extendStatics");function h(P,x){d(P,x);function z(){this.constructor=P}n(z,"__"),P.prototype=x===null?Object.create(x):(z.prototype=x.prototype,new z)}n(h,"__extends");var m=n(function(){return m=Object.assign||n(function(x){for(var z,Z=1,re=arguments.length;Z<re;Z++){z=arguments[Z];for(var ne in z)Object.prototype.hasOwnProperty.call(z,ne)&&(x[ne]=z[ne])}return x},"__assign"),m.apply(this,arguments)},"__assign");function p(P,x){var z={};for(var Z in P)Object.prototype.hasOwnProperty.call(P,Z)&&x.indexOf(Z)<0&&(z[Z]=P[Z]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,Z=Object.getOwnPropertySymbols(P);re<Z.length;re++)x.indexOf(Z[re])<0&&Object.prototype.propertyIsEnumerable.call(P,Z[re])&&(z[Z[re]]=P[Z[re]]);return z}n(p,"__rest");function a(P,x,z,Z){var re=arguments.length,ne=re<3?x:Z===null?Z=Object.getOwnPropertyDescriptor(x,z):Z,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(P,x,z,Z);else for(var ge=P.length-1;ge>=0;ge--)(he=P[ge])&&(ne=(re<3?he(ne):re>3?he(x,z,ne):he(x,z))||ne);return re>3&&ne&&Object.defineProperty(x,z,ne),ne}n(a,"__decorate");function s(P,x){return function(z,Z){x(z,Z,P)}}n(s,"__param");function i(P,x){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(P,x)}n(i,"__metadata");function e(P,x,z,Z){function re(ne){return ne instanceof z?ne:new z(function(he){he(ne)})}return n(re,"adopt"),new(z||(z=Promise))(function(ne,he){function ge(pt){try{He(Z.next(pt))}catch(Ht){he(Ht)}}n(ge,"fulfilled");function Pe(pt){try{He(Z.throw(pt))}catch(Ht){he(Ht)}}n(Pe,"rejected");function He(pt){pt.done?ne(pt.value):re(pt.value).then(ge,Pe)}n(He,"step"),He((Z=Z.apply(P,x||[])).next())})}n(e,"__awaiter");function t(P,x){var z={label:0,sent:function(){if(ne[0]&1)throw ne[1];return ne[1]},trys:[],ops:[]},Z,re,ne,he;return he={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function ge(He){return function(pt){return Pe([He,pt])}}function Pe(He){if(Z)throw new TypeError("Generator is already executing.");for(;z;)try{if(Z=1,re&&(ne=He[0]&2?re.return:He[0]?re.throw||((ne=re.return)&&ne.call(re),0):re.next)&&!(ne=ne.call(re,He[1])).done)return ne;switch(re=0,ne&&(He=[He[0]&2,ne.value]),He[0]){case 0:case 1:ne=He;break;case 4:return z.label++,{value:He[1],done:!1};case 5:z.label++,re=He[1],He=[0];continue;case 7:He=z.ops.pop(),z.trys.pop();continue;default:if(ne=z.trys,!(ne=ne.length>0&&ne[ne.length-1])&&(He[0]===6||He[0]===2)){z=0;continue}if(He[0]===3&&(!ne||He[1]>ne[0]&&He[1]<ne[3])){z.label=He[1];break}if(He[0]===6&&z.label<ne[1]){z.label=ne[1],ne=He;break}if(ne&&z.label<ne[2]){z.label=ne[2],z.ops.push(He);break}ne[2]&&z.ops.pop(),z.trys.pop();continue}He=x.call(P,z)}catch(pt){He=[6,pt],re=0}finally{Z=ne=0}if(He[0]&5)throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}}n(t,"__generator");function r(P,x,z,Z){Z===void 0&&(Z=z),P[Z]=x[z]}n(r,"__createBinding");function o(P,x){for(var z in P)z!=="default"&&!x.hasOwnProperty(z)&&(x[z]=P[z])}n(o,"__exportStar");function f(P){var x=typeof Symbol=="function"&&Symbol.iterator,z=x&&P[x],Z=0;if(z)return z.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&Z>=P.length&&(P=void 0),{value:P&&P[Z++],done:!P}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")}n(f,"__values");function g(P,x){var z=typeof Symbol=="function"&&P[Symbol.iterator];if(!z)return P;var Z=z.call(P),re,ne=[],he;try{for(;(x===void 0||x-- >0)&&!(re=Z.next()).done;)ne.push(re.value)}catch(ge){he={error:ge}}finally{try{re&&!re.done&&(z=Z.return)&&z.call(Z)}finally{if(he)throw he.error}}return ne}n(g,"__read");function v(){for(var P=[],x=0;x<arguments.length;x++)P=P.concat(g(arguments[x]));return P}n(v,"__spread");function u(){for(var P=0,x=0,z=arguments.length;x<z;x++)P+=arguments[x].length;for(var Z=Array(P),re=0,x=0;x<z;x++)for(var ne=arguments[x],he=0,ge=ne.length;he<ge;he++,re++)Z[re]=ne[he];return Z}n(u,"__spreadArrays");function S(P){return this instanceof S?(this.v=P,this):new S(P)}n(S,"__await");function _(P,x,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=z.apply(P,x||[]),re,ne=[];return re={},he("next"),he("throw"),he("return"),re[Symbol.asyncIterator]=function(){return this},re;function he(Ke){Z[Ke]&&(re[Ke]=function(it){return new Promise(function(ct,rt){ne.push([Ke,it,ct,rt])>1||ge(Ke,it)})})}function ge(Ke,it){try{Pe(Z[Ke](it))}catch(ct){Ht(ne[0][3],ct)}}function Pe(Ke){Ke.value instanceof S?Promise.resolve(Ke.value.v).then(He,pt):Ht(ne[0][2],Ke)}function He(Ke){ge("next",Ke)}function pt(Ke){ge("throw",Ke)}function Ht(Ke,it){Ke(it),ne.shift(),ne.length&&ge(ne[0][0],ne[0][1])}}n(_,"__asyncGenerator");function b(P){var x,z;return x={},Z("next"),Z("throw",function(re){throw re}),Z("return"),x[Symbol.iterator]=function(){return this},x;function Z(re,ne){x[re]=P[re]?function(he){return(z=!z)?{value:S(P[re](he)),done:re==="return"}:ne?ne(he):he}:ne}}n(b,"__asyncDelegator");function E(P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=P[Symbol.asyncIterator],z;return x?x.call(P):(P=typeof f=="function"?f(P):P[Symbol.iterator](),z={},Z("next"),Z("throw"),Z("return"),z[Symbol.asyncIterator]=function(){return this},z);function Z(ne){z[ne]=P[ne]&&function(he){return new Promise(function(ge,Pe){he=P[ne](he),re(ge,Pe,he.done,he.value)})}}function re(ne,he,ge,Pe){Promise.resolve(Pe).then(function(He){ne({value:He,done:ge})},he)}}n(E,"__asyncValues");function T(P,x){return Object.defineProperty?Object.defineProperty(P,"raw",{value:x}):P.raw=x,P}n(T,"__makeTemplateObject");function I(P){if(P&&P.__esModule)return P;var x={};if(P!=null)for(var z in P)Object.hasOwnProperty.call(P,z)&&(x[z]=P[z]);return x.default=P,x}n(I,"__importStar");function A(P){return P&&P.__esModule?P:{default:P}}n(A,"__importDefault");function w(P,x){if(!x.has(P))throw new TypeError("attempted to get private field on non-instance");return x.get(P)}n(w,"__classPrivateFieldGet");function R(P,x,z){if(!x.has(P))throw new TypeError("attempted to set private field on non-instance");return x.set(P,z),z}n(R,"__classPrivateFieldSet")},5961608329:function(V,l,c){var d;(function(h,m){"use strict";var p="1.0.40",a="",s="?",i="function",e="undefined",t="object",r="string",o="major",f="model",g="name",v="type",u="vendor",S="version",_="architecture",b="console",E="mobile",T="tablet",I="smarttv",A="wearable",w="embedded",R=500,P="Amazon",x="Apple",z="ASUS",Z="BlackBerry",re="Browser",ne="Chrome",he="Edge",ge="Firefox",Pe="Google",He="Huawei",pt="LG",Ht="Microsoft",Ke="Motorola",it="Opera",ct="Samsung",rt="Sharp",_t="Sony",Gt="Xiaomi",Kt="Zebra",Ye="Facebook",Xe="Chromium OS",It="Mac OS",kt=" Browser",gt=n(function(_n,An){var sn={};for(var Q in _n)An[Q]&&An[Q].length%2===0?sn[Q]=An[Q].concat(_n[Q]):sn[Q]=_n[Q];return sn},"extend"),En=n(function(_n){for(var An={},sn=0;sn<_n.length;sn++)An[_n[sn].toUpperCase()]=_n[sn];return An},"enumerize"),pn=n(function(_n,An){return typeof _n===r?wn(An).indexOf(wn(_n))!==-1:!1},"has"),wn=n(function(_n){return _n.toLowerCase()},"lowerize"),zn=n(function(_n){return typeof _n===r?_n.replace(/[^\d\.]/g,a).split(".")[0]:m},"majorize"),Qn=n(function(_n,An){if(typeof _n===r)return _n=_n.replace(/^\s\s*/,a),typeof An===e?_n:_n.substring(0,R)},"trim"),Sn=n(function(_n,An){for(var sn=0,Q,lt,mt,bt,At,Wt;sn<An.length&&!At;){var we=An[sn],ht=An[sn+1];for(Q=lt=0;Q<we.length&&!At&&we[Q];)if(At=we[Q++].exec(_n),At)for(mt=0;mt<ht.length;mt++)Wt=At[++lt],bt=ht[mt],typeof bt===t&&bt.length>0?bt.length===2?typeof bt[1]==i?this[bt[0]]=bt[1].call(this,Wt):this[bt[0]]=bt[1]:bt.length===3?typeof bt[1]===i&&!(bt[1].exec&&bt[1].test)?this[bt[0]]=Wt?bt[1].call(this,Wt,bt[2]):m:this[bt[0]]=Wt?Wt.replace(bt[1],bt[2]):m:bt.length===4&&(this[bt[0]]=Wt?bt[3].call(this,Wt.replace(bt[1],bt[2])):m):this[bt]=Wt||m;sn+=2}},"rgxMapper"),Zn=n(function(_n,An){for(var sn in An)if(typeof An[sn]===t&&An[sn].length>0){for(var Q=0;Q<An[sn].length;Q++)if(pn(An[sn][Q],_n))return sn===s?m:sn}else if(pn(An[sn],_n))return sn===s?m:sn;return An.hasOwnProperty("*")?An["*"]:_n},"strMapper"),lr={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ui={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},fi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,S],[/opios[\/ ]+([\w\.]+)/i],[S,[g,it+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[S,[g,it+" GX"]],[/\bopr\/([\w\.]+)/i],[S,[g,it]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[S,[g,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[S,[g,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,S],[/quark(?:pc)?\/([-\w\.]+)/i],[S,[g,"Quark"]],[/\bddg\/([\w\.]+)/i],[S,[g,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[g,"UC"+re]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[S,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[S,[g,"Smart Lenovo "+re]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+re],S],[/\bfocus\/([\w\.]+)/i],[S,[g,ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[g,it+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[g,it+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[g,"MIUI"+kt]],[/fxios\/([\w\.-]+)/i],[S,[g,ge]],[/\bqihoobrowser\/?([\w\.]*)/i],[S,[g,"360"]],[/\b(qq)\/([\w\.]+)/i],[[g,/(.+)/,"$1Browser"],S],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1"+kt],S],[/samsungbrowser\/([\w\.]+)/i],[S,[g,ct+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[S,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[g,S],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[g],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[S,g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,Ye],S],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[g,ne+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,ne+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[g,"Android "+re]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,S],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[S,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[S,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[S,Zn,lr]],[/(webkit|khtml)\/([\w\.]+)/i],[g,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],S],[/(wolvic|librewolf)\/([\w\.]+)/i],[g,S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[g,ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,[S,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[g,[S,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,wn]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,a,wn]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,wn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[u,ct],[v,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[u,ct],[v,E]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[u,x],[v,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[u,x],[v,T]],[/(macintosh);/i],[f,[u,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[u,rt],[v,E]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[u,"Honor"],[v,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[u,He],[v,T]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[u,He],[v,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[u,Gt],[v,E]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[u,Gt],[v,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[u,"OPPO"],[v,E]],[/\b(opd2\d{3}a?) bui/i],[f,[u,"OPPO"],[v,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[u,"Vivo"],[v,E]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[u,"Realme"],[v,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[u,Ke],[v,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[u,Ke],[v,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[u,pt],[v,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[u,pt],[v,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[u,"Lenovo"],[v,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[u,"Nokia"],[v,E]],[/(pixel c)\b/i],[f,[u,Pe],[v,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[u,Pe],[v,E]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[u,_t],[v,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[u,_t],[v,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[u,"OnePlus"],[v,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[u,P],[v,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[u,P],[v,E]],[/(playbook);[-\w\),; ]+(rim)/i],[f,u,[v,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[u,Z],[v,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[u,z],[v,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[u,z],[v,E]],[/(nexus 9)/i],[f,[u,"HTC"],[v,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[u,[f,/_/g," "],[v,E]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[u,"TCL"],[v,T]],[/(itel) ((\w+))/i],[[u,wn],f,[v,Zn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[u,"Acer"],[v,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[u,"Meizu"],[v,E]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[u,"Ulefone"],[v,E]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[u,"Energizer"],[v,E]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[u,"Cat"],[v,E]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[u,"Smartfren"],[v,E]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[u,"Nothing"],[v,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,f,[v,E]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,f,[v,T]],[/(surface duo)/i],[f,[u,Ht],[v,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[u,"Fairphone"],[v,E]],[/(u304aa)/i],[f,[u,"AT&T"],[v,E]],[/\bsie-(\w*)/i],[f,[u,"Siemens"],[v,E]],[/\b(rct\w+) b/i],[f,[u,"RCA"],[v,T]],[/\b(venue[\d ]{2,7}) b/i],[f,[u,"Dell"],[v,T]],[/\b(q(?:mv|ta)\w+) b/i],[f,[u,"Verizon"],[v,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[u,"Barnes & Noble"],[v,T]],[/\b(tm\d{3}\w+) b/i],[f,[u,"NuVision"],[v,T]],[/\b(k88) b/i],[f,[u,"ZTE"],[v,T]],[/\b(nx\d{3}j) b/i],[f,[u,"ZTE"],[v,E]],[/\b(gen\d{3}) b.+49h/i],[f,[u,"Swiss"],[v,E]],[/\b(zur\d{3}) b/i],[f,[u,"Swiss"],[v,T]],[/\b((zeki)?tb.*\b) b/i],[f,[u,"Zeki"],[v,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],f,[v,T]],[/\b(ns-?\w{0,9}) b/i],[f,[u,"Insignia"],[v,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[u,"NextBook"],[v,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],f,[v,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],f,[v,E]],[/\b(ph-1) /i],[f,[u,"Essential"],[v,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[u,"Envizen"],[v,T]],[/\b(trio[-\w\. ]+) b/i],[f,[u,"MachSpeed"],[v,T]],[/\btu_(1491) b/i],[f,[u,"Rotor"],[v,T]],[/(shield[\w ]+) b/i],[f,[u,"Nvidia"],[v,T]],[/(sprint) (\w+)/i],[u,f,[v,E]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[u,Ht],[v,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[u,Kt],[v,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[u,Kt],[v,E]],[/smart-tv.+(samsung)/i],[u,[v,I]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[u,ct],[v,I]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,pt],[v,I]],[/(apple) ?tv/i],[u,[f,x+" TV"],[v,I]],[/crkey/i],[[f,ne+"cast"],[u,Pe],[v,I]],[/droid.+aft(\w+)( bui|\))/i],[f,[u,P],[v,I]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[u,rt],[v,I]],[/(bravia[\w ]+)( bui|\))/i],[f,[u,_t],[v,I]],[/(mitv-\w{5}) bui/i],[f,[u,Gt],[v,I]],[/Hbbtv.*(technisat) (.*);/i],[u,f,[v,I]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[u,Qn],[f,Qn],[v,I]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,f,[v,b]],[/droid.+; (shield) bui/i],[f,[u,"Nvidia"],[v,b]],[/(playstation [345portablevi]+)/i],[f,[u,_t],[v,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[u,Ht],[v,b]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[u,ct],[v,A]],[/((pebble))app/i],[u,f,[v,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[u,x],[v,A]],[/droid.+; (glass) \d/i],[f,[u,Pe],[v,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[u,Kt],[v,A]],[/droid.+; (glass) \d/i],[f,[u,Pe],[v,A]],[/(pico) (4|neo3(?: link|pro)?)/i],[u,f,[v,A]],[/; (quest( \d| pro)?)/i],[f,[u,Ye],[v,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[v,w]],[/(aeobc)\b/i],[f,[u,P],[v,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[v,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[v,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,E]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[g,he+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[g,S],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,S],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[g,[S,Zn,ui]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,Zn,ui],[g,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,It],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,S],[/\(bb(10);/i],[S,[g,Z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[g,ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[S,[g,ne+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,Xe],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,S],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,S]]},Vn=n(function(_n,An){if(typeof _n===t&&(An=_n,_n=m),!(this instanceof Vn))return new Vn(_n,An).getResult();var sn=typeof h!==e&&h.navigator?h.navigator:m,Q=_n||(sn&&sn.userAgent?sn.userAgent:a),lt=sn&&sn.userAgentData?sn.userAgentData:m,mt=An?gt(fi,An):fi,bt=sn&&sn.userAgent==Q;return this.getBrowser=function(){var At={};return At[g]=m,At[S]=m,Sn.call(At,Q,mt.browser),At[o]=zn(At[S]),bt&&sn&&sn.brave&&typeof sn.brave.isBrave==i&&(At[g]="Brave"),At},this.getCPU=function(){var At={};return At[_]=m,Sn.call(At,Q,mt.cpu),At},this.getDevice=function(){var At={};return At[u]=m,At[f]=m,At[v]=m,Sn.call(At,Q,mt.device),bt&&!At[v]&&lt&&lt.mobile&&(At[v]=E),bt&&At[f]=="Macintosh"&&sn&&typeof sn.standalone!==e&&sn.maxTouchPoints&&sn.maxTouchPoints>2&&(At[f]="iPad",At[v]=T),At},this.getEngine=function(){var At={};return At[g]=m,At[S]=m,Sn.call(At,Q,mt.engine),At},this.getOS=function(){var At={};return At[g]=m,At[S]=m,Sn.call(At,Q,mt.os),bt&&!At[g]&&lt&&lt.platform&&lt.platform!="Unknown"&&(At[g]=lt.platform.replace(/chrome os/i,Xe).replace(/macos/i,It)),At},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Q},this.setUA=function(At){return Q=typeof At===r&&At.length>R?Qn(At,R):At,this},this.setUA(Q),this},"UAParser");Vn.VERSION=p,Vn.BROWSER=En([g,S,o]),Vn.CPU=En([_]),Vn.DEVICE=En([f,u,v,b,E,I,T,A,w]),Vn.ENGINE=Vn.OS=En([g,S]),typeof l!==e?(e!=="object"&&V.exports&&(l=V.exports=Vn),l.UAParser=Vn):i==="function"&&c.amdO?(d=function(){return Vn}.call(l,c,l,V),d!==m&&(V.exports=d)):typeof h!==e&&(h.UAParser=Vn);var In=typeof h!==e&&(h.jQuery||h.Zepto);if(In&&!In.ua){var wi=new Vn;In.ua=wi.getResult(),In.ua.get=function(){return wi.getUA()},In.ua.set=function(_n){wi.setUA(_n);var An=wi.getResult();for(var sn in An)In.ua[sn]=An[sn]}}})(typeof window=="object"?window:this)},5828775116:(V,l,c)=>{"use strict";c.d(l,{A:()=>m});var d=!0;function h(p,a){if(!d){if(p)return;var s="Warning: "+a;typeof console<"u"&&console.warn(s);try{throw Error(s)}catch{}}}n(h,"warning");const m=h},7229287800:V=>{V.exports=JSON.parse(`{"name":"@aws-sdk/client-chime-sdk-messaging","description":"AWS SDK for JavaScript Chime Sdk Messaging Client for Node.js, Browser and React Native","version":"3.662.0","scripts":{"build":"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-chime-sdk-messaging","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo chime-sdk-messaging"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.662.0","@aws-sdk/client-sts":"3.662.0","@aws-sdk/core":"3.662.0","@aws-sdk/credential-provider-node":"3.662.0","@aws-sdk/middleware-host-header":"3.662.0","@aws-sdk/middleware-logger":"3.662.0","@aws-sdk/middleware-recursion-detection":"3.662.0","@aws-sdk/middleware-user-agent":"3.662.0","@aws-sdk/region-config-resolver":"3.662.0","@aws-sdk/types":"3.662.0","@aws-sdk/util-endpoints":"3.662.0","@aws-sdk/util-user-agent-browser":"3.662.0","@aws-sdk/util-user-agent-node":"3.662.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.7","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-node":"^3.0.7","@smithy/invalid-dependency":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.22","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.3.6","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.22","@smithy/util-defaults-mode-node":"^3.0.22","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-utf8":"^3.0.0","tslib":"^2.6.2","uuid":"^9.0.1"},"devDependencies":{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96","@types/uuid":"^9.0.4","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~4.9.5"},"engines":{"node":">=16.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-chime-sdk-messaging","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-chime-sdk-messaging"}}`)},1209174152:V=>{V.exports=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}')},6439564264:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(4116706745),h=c(7577999880);function m(a,s){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=void 0}n(m,"LodashWrapper"),m.prototype=(0,d.A)(h.A.prototype),m.prototype.constructor=m;const p=m},7577999880:(V,l,c)=>{"use strict";c.d(l,{A:()=>h});function d(){}n(d,"baseLodash");const h=d},3119888921:(V,l,c)=>{"use strict";c.d(l,{A:()=>h});function d(m,p){return m<p}n(d,"baseLt");const h=d},82774879:(V,l,c)=>{"use strict";c.d(l,{A:()=>s});var d=c(7269456539),h=c(14469648),m=Array.prototype,p=m.splice;function a(i,e){for(var t=i?e.length:0,r=t-1;t--;){var o=e[t];if(t==r||o!==f){var f=o;(0,h.A)(o)?p.call(i,o,1):(0,d.A)(i,o)}}return i}n(a,"basePullAt");const s=a},6258185230:(V,l,c)=>{"use strict";c.d(l,{A:()=>m});var d=c(1375914321);function h(p,a,s,i){for(var e=p.length,t=i?e:-1;(i?t--:++t<e)&&a(p[t],t,p););return s?(0,d.A)(p,i?0:t,i?t+1:e):(0,d.A)(p,i?t+1:0,i?e:t)}n(h,"baseWhile");const m=h},9622574471:(V,l,c)=>{"use strict";c.d(l,{A:()=>Er});var d=c(2236568457),h=c(2524318401),m=h.A?function(Dn,nn){return h.A.set(Dn,nn),Dn}:d.A;const p=m;var a=c(4116706745),s=c(5797466484);function i(Dn){return function(){var nn=arguments;switch(nn.length){case 0:return new Dn;case 1:return new Dn(nn[0]);case 2:return new Dn(nn[0],nn[1]);case 3:return new Dn(nn[0],nn[1],nn[2]);case 4:return new Dn(nn[0],nn[1],nn[2],nn[3]);case 5:return new Dn(nn[0],nn[1],nn[2],nn[3],nn[4]);case 6:return new Dn(nn[0],nn[1],nn[2],nn[3],nn[4],nn[5]);case 7:return new Dn(nn[0],nn[1],nn[2],nn[3],nn[4],nn[5],nn[6])}var ni=(0,a.A)(Dn.prototype),oi=Dn.apply(ni,nn);return(0,s.A)(oi)?oi:ni}}n(i,"createCtor");const e=i;var t=c(3940990596),r=1;function o(Dn,nn,ni){var oi=nn&r,Ji=e(Dn);function Qi(){var Ei=this&&this!==t.A&&this instanceof Qi?Ji:Dn;return Ei.apply(oi?ni:this,arguments)}return n(Qi,"wrapper"),Qi}n(o,"createBind");const f=o;var g=c(4629374672),v=Math.max;function u(Dn,nn,ni,oi){for(var Ji=-1,Qi=Dn.length,Ei=ni.length,Jn=-1,Sr=nn.length,cr=v(Qi-Ei,0),Dr=Array(Sr+cr),Yi=!oi;++Jn<Sr;)Dr[Jn]=nn[Jn];for(;++Ji<Ei;)(Yi||Ji<Qi)&&(Dr[ni[Ji]]=Dn[Ji]);for(;cr--;)Dr[Jn++]=Dn[Ji++];return Dr}n(u,"composeArgs");const S=u;var _=Math.max;function b(Dn,nn,ni,oi){for(var Ji=-1,Qi=Dn.length,Ei=-1,Jn=ni.length,Sr=-1,cr=nn.length,Dr=_(Qi-Jn,0),Yi=Array(Dr+cr),io=!oi;++Ji<Dr;)Yi[Ji]=Dn[Ji];for(var sr=Ji;++Sr<cr;)Yi[sr+Sr]=nn[Sr];for(;++Ei<Jn;)(io||Ji<Qi)&&(Yi[sr+ni[Ei]]=Dn[Ji++]);return Yi}n(b,"composeArgsRight");const E=b;function T(Dn,nn){for(var ni=Dn.length,oi=0;ni--;)Dn[ni]===nn&&++oi;return oi}n(T,"countHolders");const I=T;var A=c(934475406),w=c(3968459270),R=(0,w.A)(p);const P=R;var x=/\{\n\/\* \[wrapped with (.+)\] \*/,z=/,? & /;function Z(Dn){var nn=Dn.match(x);return nn?nn[1].split(z):[]}n(Z,"getWrapDetails");const re=Z;var ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function he(Dn,nn){var ni=nn.length;if(!ni)return Dn;var oi=ni-1;return nn[oi]=(ni>1?"& ":"")+nn[oi],nn=nn.join(ni>2?", ":" "),Dn.replace(ne,`{
/* [wrapped with `+nn+`] */
`)}n(he,"insertWrapDetails");const ge=he;var Pe=c(5178179588),He=c(5614497032),pt=c(7402177396),Ht=1,Ke=2,it=8,ct=16,rt=32,_t=64,Gt=128,Kt=256,Ye=512,Xe=[["ary",Gt],["bind",Ht],["bindKey",Ke],["curry",it],["curryRight",ct],["flip",Ye],["partial",rt],["partialRight",_t],["rearg",Kt]];function It(Dn,nn){return(0,He.A)(Xe,function(ni){var oi="_."+ni[0];nn&ni[1]&&!(0,pt.A)(Dn,oi)&&Dn.push(oi)}),Dn.sort()}n(It,"updateWrapDetails");const kt=It;function gt(Dn,nn,ni){var oi=nn+"";return(0,Pe.A)(Dn,ge(oi,kt(re(oi),ni)))}n(gt,"setWrapToString");const En=gt;var pn=1,wn=2,zn=4,Qn=8,Sn=32,Zn=64;function lr(Dn,nn,ni,oi,Ji,Qi,Ei,Jn,Sr,cr){var Dr=nn&Qn,Yi=Dr?Ei:void 0,io=Dr?void 0:Ei,sr=Dr?Qi:void 0,lo=Dr?void 0:Qi;nn|=Dr?Sn:Zn,nn&=~(Dr?Zn:Sn),nn&zn||(nn&=~(pn|wn));var Gi=[Dn,nn,Ji,sr,Yi,lo,io,Jn,Sr,cr],ji=ni.apply(void 0,Gi);return(0,A.A)(Dn)&&P(ji,Gi),ji.placeholder=oi,En(ji,Dn,nn)}n(lr,"createRecurry");const ui=lr;var fi=c(8708460378),Vn=c(4885105346),In=c(14469648),wi=Math.min;function _n(Dn,nn){for(var ni=Dn.length,oi=wi(nn.length,ni),Ji=(0,Vn.A)(Dn);oi--;){var Qi=nn[oi];Dn[oi]=(0,In.A)(Qi,ni)?Ji[Qi]:void 0}return Dn}n(_n,"reorder");const An=_n;var sn=c(8625772175),Q=1,lt=2,mt=8,bt=16,At=128,Wt=512;function we(Dn,nn,ni,oi,Ji,Qi,Ei,Jn,Sr,cr){var Dr=nn&At,Yi=nn&Q,io=nn&lt,sr=nn&(mt|bt),lo=nn&Wt,Gi=io?void 0:e(Dn);function ji(){for(var F=arguments.length,_e=Array(F),tt=F;tt--;)_e[tt]=arguments[tt];if(sr)var zt=(0,fi.A)(ji),gn=I(_e,zt);if(oi&&(_e=S(_e,oi,Ji,sr)),Qi&&(_e=E(_e,Qi,Ei,sr)),F-=gn,sr&&F<cr){var Yn=(0,sn.A)(_e,zt);return ui(Dn,nn,we,ji.placeholder,ni,_e,Yn,Jn,Sr,cr-F)}var bi=Yi?ni:this,ei=io?bi[Dn]:Dn;return F=_e.length,Jn?_e=An(_e,Jn):lo&&F>1&&_e.reverse(),Dr&&Sr<F&&(_e.length=Sr),this&&this!==t.A&&this instanceof ji&&(ei=Gi||e(ei)),ei.apply(bi,_e)}return n(ji,"wrapper"),ji}n(we,"createHybrid");const ht=we;function K(Dn,nn,ni){var oi=e(Dn);function Ji(){for(var Qi=arguments.length,Ei=Array(Qi),Jn=Qi,Sr=(0,fi.A)(Ji);Jn--;)Ei[Jn]=arguments[Jn];var cr=Qi<3&&Ei[0]!==Sr&&Ei[Qi-1]!==Sr?[]:(0,sn.A)(Ei,Sr);if(Qi-=cr.length,Qi<ni)return ui(Dn,nn,ht,Ji.placeholder,void 0,Ei,cr,void 0,void 0,ni-Qi);var Dr=this&&this!==t.A&&this instanceof Ji?oi:Dn;return(0,g.A)(Dr,this,Ei)}return n(Ji,"wrapper"),Ji}n(K,"createCurry");const se=K;var Ve=1;function Be(Dn,nn,ni,oi){var Ji=nn&Ve,Qi=e(Dn);function Ei(){for(var Jn=-1,Sr=arguments.length,cr=-1,Dr=oi.length,Yi=Array(Dr+Sr),io=this&&this!==t.A&&this instanceof Ei?Qi:Dn;++cr<Dr;)Yi[cr]=oi[cr];for(;Sr--;)Yi[cr++]=arguments[++Jn];return(0,g.A)(io,Ji?ni:this,Yi)}return n(Ei,"wrapper"),Ei}n(Be,"createPartial");const Yt=Be;var yt=c(1114224892),Bt="__lodash_placeholder__",ke=1,Je=2,B=4,Fe=8,fe=128,ve=256,ee=Math.min;function Et(Dn,nn){var ni=Dn[1],oi=nn[1],Ji=ni|oi,Qi=Ji<(ke|Je|fe),Ei=oi==fe&&ni==Fe||oi==fe&&ni==ve&&Dn[7].length<=nn[8]||oi==(fe|ve)&&nn[7].length<=nn[8]&&ni==Fe;if(!(Qi||Ei))return Dn;oi&ke&&(Dn[2]=nn[2],Ji|=ni&ke?0:B);var Jn=nn[3];if(Jn){var Sr=Dn[3];Dn[3]=Sr?S(Sr,Jn,nn[4]):Jn,Dn[4]=Sr?(0,sn.A)(Dn[3],Bt):nn[4]}return Jn=nn[5],Jn&&(Sr=Dn[5],Dn[5]=Sr?E(Sr,Jn,nn[6]):Jn,Dn[6]=Sr?(0,sn.A)(Dn[5],Bt):nn[6]),Jn=nn[7],Jn&&(Dn[7]=Jn),oi&fe&&(Dn[8]=Dn[8]==null?nn[8]:ee(Dn[8],nn[8])),Dn[9]==null&&(Dn[9]=nn[9]),Dn[0]=nn[0],Dn[1]=Ji,Dn}n(Et,"mergeData");const Ne=Et;var st=c(4059064744),on="Expected a function",$t=1,yi=2,mi=8,ri=16,ti=32,Zt=64,mn=Math.max;function Ui(Dn,nn,ni,oi,Ji,Qi,Ei,Jn){var Sr=nn&yi;if(!Sr&&typeof Dn!="function")throw new TypeError(on);var cr=oi?oi.length:0;if(cr||(nn&=~(ti|Zt),oi=Ji=void 0),Ei=Ei===void 0?Ei:mn((0,st.A)(Ei),0),Jn=Jn===void 0?Jn:(0,st.A)(Jn),cr-=Ji?Ji.length:0,nn&Zt){var Dr=oi,Yi=Ji;oi=Ji=void 0}var io=Sr?void 0:(0,yt.A)(Dn),sr=[Dn,nn,ni,oi,Ji,Dr,Yi,Qi,Ei,Jn];if(io&&Ne(sr,io),Dn=sr[0],nn=sr[1],ni=sr[2],oi=sr[3],Ji=sr[4],Jn=sr[9]=sr[9]===void 0?Sr?0:Dn.length:mn(sr[9]-cr,0),!Jn&&nn&(mi|ri)&&(nn&=~(mi|ri)),!nn||nn==$t)var lo=f(Dn,nn,ni);else nn==mi||nn==ri?lo=se(Dn,nn,Jn):(nn==ti||nn==($t|ti))&&!Ji.length?lo=Yt(Dn,nn,ni,oi):lo=ht.apply(void 0,sr);var Gi=io?p:P;return En(Gi(lo,sr),Dn,nn)}n(Ui,"createWrap");const Er=Ui},1114224892:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(2524318401),h=c(7715417323),m=d.A?function(a){return d.A.get(a)}:h.A;const p=m},7667421386:(V,l,c)=>{"use strict";c.d(l,{A:()=>s});var d={};const h=d;var m=Object.prototype,p=m.hasOwnProperty;function a(i){for(var e=i.name+"",t=h[e],r=p.call(h,e)?t.length:0;r--;){var o=t[r],f=o.func;if(f==null||f==i)return o.name}return e}n(a,"getFuncName");const s=a},8708460378:(V,l,c)=>{"use strict";c.d(l,{A:()=>h});function d(m){var p=m;return p.placeholder}n(d,"getHolder");const h=d},934475406:(V,l,c)=>{"use strict";c.d(l,{A:()=>E});var d=c(4116706745),h=c(7577999880),m=4294967295;function p(T){this.__wrapped__=T,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}n(p,"LazyWrapper"),p.prototype=(0,d.A)(h.A.prototype),p.prototype.constructor=p;const a=p;var s=c(1114224892),i=c(7667421386),e=c(6439564264),t=c(9746734072),r=c(1276945623),o=c(4885105346);function f(T){if(T instanceof a)return T.clone();var I=new e.A(T.__wrapped__,T.__chain__);return I.__actions__=(0,o.A)(T.__actions__),I.__index__=T.__index__,I.__values__=T.__values__,I}n(f,"wrapperClone");const g=f;var v=Object.prototype,u=v.hasOwnProperty;function S(T){if((0,r.A)(T)&&!(0,t.A)(T)&&!(T instanceof a)){if(T instanceof e.A)return T;if(u.call(T,"__wrapped__"))return g(T)}return new e.A(T)}n(S,"lodash"),S.prototype=h.A.prototype,S.prototype.constructor=S;const _=S;function b(T){var I=(0,i.A)(T),A=_[I];if(typeof A!="function"||!(I in a.prototype))return!1;if(T===A)return!0;var w=(0,s.A)(A);return!!w&&T===w[0]}n(b,"isLaziable");const E=b},2524318401:(V,l,c)=>{"use strict";c.d(l,{A:()=>m});var d=c(8672092338),h=d.A&&new d.A;const m=h},8625772175:(V,l,c)=>{"use strict";c.d(l,{A:()=>m});var d="__lodash_placeholder__";function h(p,a){for(var s=-1,i=p.length,e=0,t=[];++s<i;){var r=p[s];(r===a||r===d)&&(p[s]=d,t[e++]=s)}return t}n(h,"replaceHolders");const m=h},489015593:(V,l,c)=>{"use strict";c.d(l,{A:()=>v});var d=c(5614497032),h=c(8033247945),m=c(9046884403),p=c(9622574471),a=c(8708460378),s=c(8625772175),i=1,e=32,t=(0,m.A)(function(u,S,_){var b=i;if(_.length){var E=(0,s.A)(_,(0,a.A)(t));b|=e}return(0,p.A)(u,b,S,_,E)});t.placeholder={};const r=t;var o=c(316474953),f=c(3055495996),g=(0,o.A)(function(u,S){return(0,d.A)(S,function(_){_=(0,f.A)(_),(0,h.A)(u,_,r(u[_],u))}),u});const v=g},8424846741:(V,l,c)=>{"use strict";c.d(l,{A:()=>m});var d=c(9746734072);function h(){if(!arguments.length)return[];var p=arguments[0];return(0,d.A)(p)?p:[p]}n(h,"castArray");const m=h},3605769895:(V,l,c)=>{"use strict";c.d(l,{A:()=>s});var d=c(8033247945),h=c(1322352537),m=Object.prototype,p=m.hasOwnProperty,a=(0,h.A)(function(i,e,t){p.call(i,t)?++i[t]:(0,d.A)(i,t,1)});const s=a},9420277174:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(9622574471),h=8;function m(a,s,i){s=i?void 0:s;var e=(0,d.A)(a,h,void 0,void 0,void 0,void 0,void 0,s);return e.placeholder=m.placeholder,e}n(m,"curry"),m.placeholder={};const p=m},1566461842:(V,l,c)=>{"use strict";c.d(l,{A:()=>t});var d=c(4629374672),h=c(9046884403),m=c(6295853301),p=c(5797466484);function a(r,o,f,g,v,u){return(0,p.A)(r)&&(0,p.A)(o)&&(u.set(o,r),(0,m.A)(r,o,void 0,a,u),u.delete(o)),r}n(a,"customDefaultsMerge");const s=a;var i=c(1687672245),e=(0,h.A)(function(r){return r.push(void 0,s),(0,d.A)(i.A,void 0,r)});const t=e},4360875129:(V,l,c)=>{"use strict";c.d(l,{A:()=>e});var d=c(6966908974),h=c(5684627082),m=c(804366847),p=c(9046884403),a=c(4635518404),s=c(8786006583),i=(0,p.A)(function(t,r){var o=(0,s.A)(r);return(0,a.A)(o)&&(o=void 0),(0,a.A)(t)?(0,d.A)(t,(0,h.A)(r,1,a.A,!0),(0,m.A)(o,2)):[]});const e=i},2749086681:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(804366847),h=c(6258185230);function m(a,s){return a&&a.length?(0,h.A)(a,(0,d.A)(s,3),!0,!0):[]}n(m,"dropRightWhile");const p=m},8825197919:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(804366847),h=c(6258185230);function m(a,s){return a&&a.length?(0,h.A)(a,(0,d.A)(s,3),!0):[]}n(m,"dropWhile");const p=m},1041273904:(V,l,c)=>{"use strict";c.d(l,{A:()=>h});function d(m){for(var p=-1,a=m==null?0:m.length,s={};++p<a;){var i=m[p];s[i[0]]=i[1]}return s}n(d,"fromPairs");const h=d},1687672245:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(6295853301),h=c(9001690186),m=(0,h.A)(function(a,s,i,e){(0,d.A)(a,s,i,e)});const p=m},5729325965:(V,l,c)=>{"use strict";c.d(l,{A:()=>a});var d=c(3743429634),h=c(3119888921),m=c(2236568457);function p(s){return s&&s.length?(0,d.A)(s,m.A,h.A):void 0}n(p,"min");const a=p},4249070636:(V,l,c)=>{"use strict";c.d(l,{A:()=>a});var d=c(3743429634),h=c(804366847),m=c(3119888921);function p(s,i){return s&&s.length?(0,d.A)(s,(0,h.A)(i,2),m.A):void 0}n(p,"minBy");const a=p},469745588:(V,l,c)=>{"use strict";c.d(l,{A:()=>s});var d=c(14469648);function h(i,e){var t=i.length;if(t)return e+=e<0?t:0,(0,d.A)(e,t)?i[e]:void 0}n(h,"baseNth");const m=h;var p=c(4059064744);function a(i,e){return i&&i.length?m(i,(0,p.A)(e)):void 0}n(a,"nth");const s=a},3367239067:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(804366847),h=c(82774879);function m(a,s){var i=[];if(!(a&&a.length))return i;var e=-1,t=[],r=a.length;for(s=(0,d.A)(s,3);++e<r;){var o=a[e];s(o,e,a)&&(i.push(o),t.push(e))}return(0,h.A)(a,t),i}n(m,"remove");const p=m},1699044291:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=Array.prototype,h=d.reverse;function m(a){return a==null?a:h.call(a)}n(m,"reverse");const p=m},8258056137:(V,l,c)=>{"use strict";c.d(l,{A:()=>m});var d=c(1375914321);function h(p){var a=p==null?0:p.length;return a?(0,d.A)(p,1,a):[]}n(h,"tail");const m=h},2650956166:(V,l,c)=>{"use strict";c.d(l,{A:()=>p});var d=c(1375914321),h=c(4059064744);function m(a,s,i){var e=a==null?0:a.length;return e?(s=i||s===void 0?1:(0,h.A)(s),s=e-s,(0,d.A)(a,s<0?0:s,e)):[]}n(m,"takeRight");const p=m},9867500491:(V,l,c)=>{"use strict";c.d(l,{A:()=>e});var d=c(7694407897),h=c(7049857535),m=c(4059064744),p=9007199254740991,a=4294967295,s=Math.min;function i(t,r){if(t=(0,m.A)(t),t<1||t>p)return[];var o=a,f=s(t,a);r=(0,h.A)(r),t-=a;for(var g=(0,d.A)(f,r);++o<t;)r(o);return g}n(i,"times");const e=i}}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/gantry-v2-vendors-client.7ddad317b39245e6ae8e.min.js.map